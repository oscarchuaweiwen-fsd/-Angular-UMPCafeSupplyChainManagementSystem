(self.webpackChunkumpcafe_supply_chain_management_system=self.webpackChunkumpcafe_supply_chain_management_system||[]).push([[179],{8255:Ne=>{function me(F){return Promise.resolve().then(()=>{var _=new Error("Cannot find module '"+F+"'");throw _.code="MODULE_NOT_FOUND",_})}me.keys=()=>[],me.resolve=me,me.id=8255,Ne.exports=me},7716:(Ne,me,F)=>{"use strict";F.d(me,{deG:()=>Oi,tb:()=>NE,AFp:()=>RE,ip1:()=>V_,CZH:()=>Ed,hGG:()=>yT,z2F:()=>Bh,sBO:()=>rw,Sil:()=>Vh,_Vd:()=>Il,EJc:()=>FE,SBq:()=>ws,qLn:()=>$i,vpe:()=>Is,gxx:()=>Qi,tBr:()=>vo,XFs:()=>Re,OlP:()=>en,zs3:()=>Pt,ZZ4:()=>_g,aQg:()=>vg,soG:()=>Mg,YKP:()=>AC,v3s:()=>JA,h0i:()=>Al,PXZ:()=>zA,R0b:()=>_i,FiY:()=>Gr,Lbi:()=>OE,g9A:()=>xE,Qsj:()=>HD,FYo:()=>mg,JOm:()=>Pr,Tiy:()=>d_,q3G:()=>ht,tp0:()=>Wr,EAV:()=>nT,Rgc:()=>Ah,dDg:()=>BE,DyG:()=>Va,q4F:()=>f_,GfV:()=>yC,s_b:()=>Eg,ifc:()=>xe,eFA:()=>GE,G48:()=>BA,Gpc:()=>H,X6Q:()=>W_,_c5:()=>fT,VLi:()=>VA,c2e:()=>PE,zSh:()=>pa,wAp:()=>qe,vHH:()=>se,EiD:()=>at,mCW:()=>Qn,qzn:()=>Vi,JVY:()=>cf,pB0:()=>ff,eBb:()=>Wu,L6k:()=>yc,LAX:()=>df,cg1:()=>n_,Tjo:()=>cT,kL8:()=>jy,yhl:()=>vc,dqk:()=>At,sIi:()=>bl,CqO:()=>Qm,QGY:()=>Ym,F4k:()=>Yv,RDi:()=>Ta,AaK:()=>K,z3N:()=>ci,qOj:()=>ud,TTD:()=>Au,_Bn:()=>pC,xp6:()=>bp,uIk:()=>o,ekj:()=>Jm,Suo:()=>uE,Xpm:()=>cn,lG2:()=>bu,Yz7:()=>vt,cJS:()=>zt,oAB:()=>Eu,Yjl:()=>Nl,Y36:()=>yh,_UZ:()=>Gv,qZA:()=>zm,TgZ:()=>Wm,n5z:()=>nc,Ikx:()=>t_,LFG:()=>Nt,$8M:()=>ku,NdJ:()=>qm,CRH:()=>lE,O4$:()=>Oa,oxw:()=>Zv,Q6J:()=>$m,iGM:()=>aE,LSH:()=>ia,kYT:()=>Ol,YNc:()=>Lt,_uU:()=>Ey});var _=F(9765),ie=F(5319),A=F(7574),W=F(6682),ue=F(8819);function Y(e){for(let t in e)if(e[t]===Y)return t;throw Error("Could not find renamed property on target object.")}function de(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function K(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(K).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function z(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const P=Y({__forward_ref__:Y});function H(e){return e.__forward_ref__=H,e.toString=function(){return K(this())},e}function N(e){return U(e)?e():e}function U(e){return"function"==typeof e&&e.hasOwnProperty(P)&&e.__forward_ref__===H}class se extends Error{constructor(t,n){super(function(e,t){return`${e?`NG0${e}: `:""}${t}`}(t,n)),this.code=t}}function ve(e){return"string"==typeof e?e:null==e?"":String(e)}function Ce(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():ve(e)}function Et(e,t){const n=t?` in ${t}`:"";throw new se("201",`No provider for ${Ce(e)} found${n}`)}function Fe(e,t){null==e&&function(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function vt(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function zt(e){return{providers:e.providers||[],imports:e.imports||[]}}function vn(e){return br(e,mt)||br(e,En)}function br(e,t){return e.hasOwnProperty(t)?e[t]:null}function Ts(e){return e&&(e.hasOwnProperty(it)||e.hasOwnProperty(bn))?e[it]:null}const mt=Y({\u0275prov:Y}),it=Y({\u0275inj:Y}),En=Y({ngInjectableDef:Y}),bn=Y({ngInjectorDef:Y});var Re=(()=>((Re=Re||{})[Re.Default=0]="Default",Re[Re.Host=1]="Host",Re[Re.Self=2]="Self",Re[Re.SkipSelf=4]="SkipSelf",Re[Re.Optional=8]="Optional",Re))();let Ft;function Xt(e){const t=Ft;return Ft=e,t}function Lr(e,t,n){const r=vn(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Re.Optional?null:void 0!==t?t:void Et(K(e),"Injector")}function ur(e){return{toString:e}.toString()}var ln=(()=>((ln=ln||{})[ln.OnPush=0]="OnPush",ln[ln.Default=1]="Default",ln))(),xe=(()=>((xe=xe||{})[xe.Emulated=0]="Emulated",xe[xe.None=2]="None",xe[xe.ShadowDom=3]="ShadowDom",xe))();const Ze="undefined"!=typeof globalThis&&globalThis,Cu="undefined"!=typeof window&&window,yi="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,lr="undefined"!=typeof global&&global,At=Ze||lr||Cu||yi,B={},V=[],$=Y({\u0275cmp:Y}),ae=Y({\u0275dir:Y}),q=Y({\u0275pipe:Y}),we=Y({\u0275mod:Y}),$e=Y({\u0275loc:Y}),ut=Y({\u0275fac:Y}),bt=Y({__NG_ELEMENT_ID__:Y});let wt=0;function cn(e){return ur(()=>{const n={},r={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===ln.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||V,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||xe.Emulated,id:"c",styles:e.styles||V,_:null,setInput:null,schemas:e.schemas||null,tView:null},l=e.directives,d=e.features,p=e.pipes;return r.id+=wt++,r.inputs=Ea(e.inputs,n),r.outputs=Ea(e.outputs),d&&d.forEach(m=>m(r)),r.directiveDefs=l?()=>("function"==typeof l?l():l).map(jn):null,r.pipeDefs=p?()=>("function"==typeof p?p():p).map(Zr):null,r})}function jn(e){return Mn(e)||function(e){return e[ae]||null}(e)}function Zr(e){return function(e){return e[q]||null}(e)}const Ca={};function Eu(e){return ur(()=>{const t={type:e.type,bootstrap:e.bootstrap||V,declarations:e.declarations||V,imports:e.imports||V,exports:e.exports||V,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(Ca[e.id]=e.type),t})}function Ol(e,t){return ur(()=>{const n=dr(e,!0);n.declarations=t.declarations||V,n.imports=t.imports||V,n.exports=t.exports||V})}function Ea(e,t){if(null==e)return B;const n={};for(const r in e)if(e.hasOwnProperty(r)){let l=e[r],d=l;Array.isArray(l)&&(d=l[1],l=l[0]),n[l]=r,t&&(t[l]=d)}return n}const bu=cn;function Nl(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function Mn(e){return e[$]||null}function dr(e,t){const n=e[we]||null;if(!n&&!0===t)throw new Error(`Type ${K(e)} does not have '\u0275mod' property.`);return n}function jt(e){return Array.isArray(e)&&"object"==typeof e[1]}function fr(e){return Array.isArray(e)&&!0===e[1]}function Ms(e){return 0!=(8&e.flags)}function Fn(e){return 2==(2&e.flags)}function Da(e){return 1==(1&e.flags)}function Ur(e){return null!==e.template}function Dr(e){return 0!=(512&e[2])}function Xr(e,t){return e.hasOwnProperty(ut)?e[ut]:null}class Iu{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Au(){return Ia}function Ia(e){return e.type.prototype.ngOnChanges&&(e.setInput=kl),Fl}function Fl(){const e=Ll(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===B)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function kl(e,t,n,r){const l=Ll(e)||function(e,t){return e[ro]=t}(e,{previous:B,current:null}),d=l.current||(l.current={}),p=l.previous,m=this.declaredInputs[n],y=p[m];d[m]=new Iu(y&&y.currentValue,t,p===B),e[r]=t}Au.ngInherit=!0;const ro="__ngSimpleChanges__";function Ll(e){return e[ro]||null}const St="http://www.w3.org/2000/svg";let Aa;function Ta(e){Aa=e}function Bt(e){return!!e.listen}const Ye={createRenderer:(e,t)=>void 0!==Aa?Aa:"undefined"!=typeof document?document:void 0};function Ot(e){for(;Array.isArray(e);)e=e[0];return e}function hr(e,t){return Ot(t[e.index])}function bi(e,t){return e.data[t]}function Gn(e,t){const n=t[e];return jt(n)?n:n[0]}function jl(e){return 4==(4&e[2])}function Hl(e){return 128==(128&e[2])}function wi(e,t){return null==t?null:e[t]}function Tu(e){e[18]=0}function Ii(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const Ge={lFrame:Ai(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ld(){return Ge.bindingsEnabled}function ge(){return Ge.lFrame.lView}function pt(){return Ge.lFrame.tView}function $t(){let e=ks();for(;null!==e&&64===e.type;)e=e.parent;return e}function ks(){return Ge.lFrame.currentTNode}function kn(e,t){const n=Ge.lFrame;n.currentTNode=e,n.isParent=t}function Ls(){return Ge.lFrame.isParent}function oo(){return Ge.isInCheckNoChangesMode}function ei(e){Ge.isInCheckNoChangesMode=e}function ti(){return Ge.lFrame.bindingIndex++}function zl(e,t){const n=Ge.lFrame;n.bindingIndex=n.bindingRootIndex=e,Wn(t)}function Wn(e){Ge.lFrame.currentDirectiveIndex=e}function Ra(){return Ge.lFrame.currentQueryIndex}function so(e){Ge.lFrame.currentQueryIndex=e}function Yl(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function Mu(e,t,n){if(n&Re.SkipSelf){let l=t,d=e;for(;!(l=l.parent,null!==l||n&Re.Host||(l=Yl(d),null===l||(d=d[15],10&l.type))););if(null===l)return!1;t=l,e=d}const r=Ge.lFrame=xa();return r.currentTNode=t,r.lView=e,!0}function ao(e){const t=xa(),n=e[1];Ge.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function xa(){const e=Ge.lFrame,t=null===e?null:e.child;return null===t?Ai(e):t}function Ai(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Ql(){const e=Ge.lFrame;return Ge.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const jd=Ql;function ni(){const e=Ql();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function fn(){return Ge.lFrame.selectedIndex}function Ir(e){Ge.lFrame.selectedIndex=e}function qt(){const e=Ge.lFrame;return bi(e.tView,e.selectedIndex)}function Oa(){Ge.lFrame.currentNamespace=St}function Ti(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const d=e.data[n].type.prototype,{ngAfterContentInit:p,ngAfterContentChecked:m,ngAfterViewInit:y,ngAfterViewChecked:b,ngOnDestroy:w}=d;p&&(e.contentHooks||(e.contentHooks=[])).push(-n,p),m&&((e.contentHooks||(e.contentHooks=[])).push(n,m),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,m)),y&&(e.viewHooks||(e.viewHooks=[])).push(-n,y),b&&((e.viewHooks||(e.viewHooks=[])).push(n,b),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,b)),null!=w&&(e.destroyHooks||(e.destroyHooks=[])).push(n,w)}}function Si(e,t,n){Mi(e,t,3,n)}function Us(e,t,n,r){(3&e[2])===n&&Mi(e,t,n,r)}function js(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function Mi(e,t,n,r){const d=null!=r?r:-1,p=t.length-1;let m=0;for(let y=void 0!==r?65535&e[18]:0;y<p;y++)if("number"==typeof t[y+1]){if(m=t[y],null!=r&&m>=r)break}else t[y]<0&&(e[18]+=65536),(m<d||-1==d)&&(ql(e,n,t,y),e[18]=(4294901760&e[18])+y+2),y++}function ql(e,t,n,r){const l=n[r]<0,d=n[r+1],m=e[l?-n[r]:n[r]];if(l){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{d.call(m)}finally{}}}else try{d.call(m)}finally{}}class qo{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Ou(e,t,n){const r=Bt(e);let l=0;for(;l<n.length;){const d=n[l];if("number"==typeof d){if(0!==d)break;l++;const p=n[l++],m=n[l++],y=n[l++];r?e.setAttribute(t,m,y,p):t.setAttributeNS(p,m,y)}else{const p=d,m=n[++l];Tr(p)?r&&e.setProperty(t,p,m):r?e.setAttribute(t,p,m):t.setAttribute(p,m),l++}}return l}function Zl(e){return 3===e||4===e||6===e}function Tr(e){return 64===e.charCodeAt(0)}function $s(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const l=t[r];"number"==typeof l?n=l:0===n||Jl(e,n,l,null,-1===n||2===n?t[++r]:null)}}return e}function Jl(e,t,n,r,l){let d=0,p=e.length;if(-1===t)p=-1;else for(;d<e.length;){const m=e[d++];if("number"==typeof m){if(m===t){p=-1;break}if(m>t){p=d-1;break}}}for(;d<e.length;){const m=e[d];if("number"==typeof m)break;if(m===n){if(null===r)return void(null!==l&&(e[d+1]=l));if(r===e[d+1])return void(e[d+2]=l)}d++,null!==r&&d++,null!==l&&d++}-1!==p&&(e.splice(p,0,t),d=p+1),e.splice(d++,0,n),null!==r&&e.splice(d++,0,r),null!==l&&e.splice(d++,0,l)}function Na(e){return-1!==e}function uo(e){return 32767&e}function Gs(e,t){let n=function(e){return e>>16}(e),r=t;for(;n>0;)r=r[15],n--;return r}let Xl=!0;function lo(e){const t=Xl;return Xl=e,t}let rp=0;function Ko(e,t){const n=Fa(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,Pu(r.data,e),Pu(t,null),Pu(r.blueprint,null));const l=Gt(e,t),d=e.injectorIndex;if(Na(l)){const p=uo(l),m=Gs(l,t),y=m[1].data;for(let b=0;b<8;b++)t[d+b]=m[p+b]|y[p+b]}return t[d+8]=l,d}function Pu(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Fa(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Gt(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,l=t;for(;null!==l;){const d=l[1],p=d.type;if(r=2===p?d.declTNode:1===p?l[6]:null,null===r)return-1;if(n++,l=l[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Ws(e,t,n){!function(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(bt)&&(r=n[bt]),null==r&&(r=n[bt]=rp++);const l=255&r;t.data[e+(l>>5)]|=1<<l}(e,t,n)}function Qe(e,t,n){if(n&Re.Optional)return e;Et(t,"NodeInjector")}function ka(e,t,n,r){if(n&Re.Optional&&void 0===r&&(r=null),0==(n&(Re.Self|Re.Host))){const l=e[9],d=Xt(void 0);try{return l?l.get(t,r,n&Re.Optional):Lr(t,r,n&Re.Optional)}finally{Xt(d)}}return Qe(r,t,n)}function gt(e,t,n,r=Re.Default,l){if(null!==e){const d=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(bt)?e[bt]:void 0;return"number"==typeof t?t>=0?255&t:hn:t}(n);if("function"==typeof d){if(!Mu(t,e,r))return r&Re.Host?Qe(l,n,r):ka(t,n,r,l);try{const p=d(r);if(null!=p||r&Re.Optional)return p;Et(n)}finally{jd()}}else if("number"==typeof d){let p=null,m=Fa(e,t),y=-1,b=r&Re.Host?t[16][6]:null;for((-1===m||r&Re.SkipSelf)&&(y=-1===m?Gt(e,t):t[m+8],-1!==y&&co(r,!1)?(p=t[1],m=uo(y),t=Gs(y,t)):m=-1);-1!==m;){const w=t[1];if(rr(d,m,w.data)){const S=ri(m,t,n,p,r,b);if(S!==tc)return S}y=t[m+8],-1!==y&&co(r,t[1].data[m+8]===b)&&rr(d,m,t)?(p=w,m=uo(y),t=Gs(y,t)):m=-1}}}return ka(t,n,r,l)}const tc={};function hn(){return new Jo($t(),ge())}function ri(e,t,n,r,l,d){const p=t[1],m=p.data[e+8],w=Kt(m,p,n,null==r?Fn(m)&&Xl:r!=p&&0!=(3&m.type),l&Re.Host&&d===m);return null!==w?Zo(t,p,w,m):tc}function Kt(e,t,n,r,l){const d=e.providerIndexes,p=t.data,m=1048575&d,y=e.directiveStart,w=d>>20,x=l?m+w:e.directiveEnd;for(let L=r?m:m+w;L<x;L++){const j=p[L];if(L<y&&n===j||L>=y&&j.type===n)return L}if(l){const L=p[y];if(L&&Ur(L)&&L.type===n)return y}return null}function Zo(e,t,n,r){let l=e[n];const d=t.data;if(function(e){return e instanceof qo}(l)){const p=l;p.resolving&&function(e,t){throw new se("200",`Circular dependency in DI detected for ${e}`)}(Ce(d[n]));const m=lo(p.canSeeViewProviders);p.resolving=!0;const y=p.injectImpl?Xt(p.injectImpl):null;Mu(e,r,Re.Default);try{l=e[n]=p.factory(void 0,d,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){const{ngOnChanges:r,ngOnInit:l,ngDoCheck:d}=t.type.prototype;if(r){const p=Ia(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,p),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,p)}l&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,l),d&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,d),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,d))}(n,d[n],t)}finally{null!==y&&Xt(y),lo(m),p.resolving=!1,jd()}}return l}function rr(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function co(e,t){return!(e&Re.Self||e&Re.Host&&t)}class Jo{constructor(t,n){this._tNode=t,this._lView=n}get(t,n){return gt(this._tNode,this._lView,t,void 0,n)}}function nc(e){return ur(()=>{const t=e.prototype.constructor,n=t[ut]||Fu(t),r=Object.prototype;let l=Object.getPrototypeOf(e.prototype).constructor;for(;l&&l!==r;){const d=l[ut]||Fu(l);if(d&&d!==n)return d;l=Object.getPrototypeOf(l)}return d=>new d})}function Fu(e){return U(e)?()=>{const t=Fu(N(e));return t&&t()}:Xr(e)}function ku(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let l=0;for(;l<r;){const d=n[l];if(Zl(d))break;if(0===d)l+=2;else if("number"==typeof d)for(l++;l<r&&"string"==typeof n[l];)l++;else{if(d===t)return n[l+1];l+=2}}}return null}($t(),e)}const fo="__parameters__";function xi(e,t,n){return ur(()=>{const r=function(e){return function(...n){if(e){const r=e(...n);for(const l in r)this[l]=r[l]}}}(t);function l(...d){if(this instanceof l)return r.apply(this,d),this;const p=new l(...d);return m.annotation=p,m;function m(y,b,w){const S=y.hasOwnProperty(fo)?y[fo]:Object.defineProperty(y,fo,{value:[]})[fo];for(;S.length<=w;)S.push(null);return(S[w]=S[w]||[]).push(p),y}}return n&&(l.prototype=Object.create(n.prototype)),l.prototype.ngMetadataName=e,l.annotationCls=l,l})}class en{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=vt({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Oi=new en("AnalyzeForEntryComponents"),Va=Function;function zn(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),zn(r,t)):t!==e&&t.push(r)}return t}function wn(e,t){e.forEach(n=>Array.isArray(n)?wn(n,t):t(n))}function Ni(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Pi(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function gn(e,t,n){let r=si(e,t);return r>=0?e[1|r]=n:(r=~r,function(e,t,n,r){let l=e.length;if(l==t)e.push(n,r);else if(1===l)e.push(r,e[0]),e[0]=n;else{for(l--,e.push(e[l-1],e[l]);l>t;)e[l]=e[l-2],l--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function oi(e,t){const n=si(e,t);if(n>=0)return e[1|n]}function si(e,t){return function(e,t,n){let r=0,l=e.length>>n;for(;l!==r;){const d=r+(l-r>>1),p=e[d<<n];if(t===p)return d<<n;p>t?l=d:r=d+1}return~(l<<n)}(e,t,1)}const Qs={},Ga="__NG_DI_FLAG__",po="ngTempTokenPath",Bu=/\n/gm,Uu="__source",Ks=Y({provide:String,useValue:Y});let go;function ai(e){const t=go;return go=e,t}function Zs(e,t=Re.Default){if(void 0===go)throw new Error("inject() must be called from an injection context");return null===go?Lr(e,void 0,t):go.get(e,t&Re.Optional?null:void 0,t)}function Nt(e,t=Re.Default){return(Ft||Zs)(N(e),t)}function mo(e){const t=[];for(let n=0;n<e.length;n++){const r=N(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let l,d=Re.Default;for(let p=0;p<r.length;p++){const m=r[p],y=fc(m);"number"==typeof y?-1===y?l=m.token:d|=y:l=m}t.push(Nt(l,d))}else t.push(Nt(r))}return t}function ui(e,t){return e[Ga]=t,e.prototype[Ga]=t,e}function fc(e){return e[Ga]}function hc(e,t,n,r){const l=e[po];throw t[Uu]&&l.unshift(t[Uu]),e.message=function(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let l=K(t);if(Array.isArray(t))l=t.map(K).join(" -> ");else if("object"==typeof t){let d=[];for(let p in t)if(t.hasOwnProperty(p)){let m=t[p];d.push(p+":"+("string"==typeof m?JSON.stringify(m):K(m)))}l=`{${d.join(", ")}}`}return`${n}${r?"("+r+")":""}[${l}]: ${e.replace(Bu,"\n  ")}`}("\n"+e.message,l,n,r),e.ngTokenPath=l,e[po]=null,e}const vo=ui(xi("Inject",e=>({token:e})),-1),Gr=ui(xi("Optional"),8),Wr=ui(xi("SkipSelf"),4);let tn;function mn(e){var t;return(null===(t=function(){if(void 0===tn&&(tn=null,At.trustedTypes))try{tn=At.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return tn}())||void 0===t?void 0:t.createHTML(e))||e}class xn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class $u extends xn{getTypeName(){return"HTML"}}class cs extends xn{getTypeName(){return"Style"}}class _c extends xn{getTypeName(){return"Script"}}class Gu extends xn{getTypeName(){return"URL"}}class Qa extends xn{getTypeName(){return"ResourceURL"}}function ci(e){return e instanceof xn?e.changingThisBreaksApplicationSecurity:e}function Vi(e,t){const n=vc(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}function vc(e){return e instanceof xn&&e.getTypeName()||null}function cf(e){return new $u(e)}function yc(e){return new cs(e)}function Wu(e){return new _c(e)}function df(e){return new Gu(e)}function ff(e){return new Qa(e)}class zu{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const n=(new window.DOMParser).parseFromString(mn(t),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(t):(n.removeChild(n.firstChild),n)}catch(n){return null}}}class Yu{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);const r=this.inertDocument.createElement("body");n.appendChild(r)}}getInertBodyElement(t){const n=this.inertDocument.createElement("template");if("content"in n)return n.innerHTML=mn(t),n;const r=this.inertDocument.createElement("body");return r.innerHTML=mn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(t){const n=t.attributes;for(let l=n.length-1;0<l;l--){const p=n.item(l).name;("xmlns:ns1"===p||0===p.indexOf("ns1:"))&&t.removeAttribute(p)}let r=t.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const hf=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Eo=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Qn(e){return(e=String(e)).match(hf)||e.match(Eo)?e:"unsafe:"+e}function _r(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function Bi(...e){const t={};for(const n of e)for(const r in n)n.hasOwnProperty(r)&&(t[r]=!0);return t}const Rr=_r("area,br,col,hr,img,wbr"),Ui=_r("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Qu=_r("rp,rt"),Vn=Bi(Rr,Bi(Ui,_r("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Bi(Qu,_r("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Bi(Qu,Ui)),ta=_r("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),na=_r("srcset"),qa=Bi(ta,na,_r("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),_r("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Dc=_r("script,style,template");class wc{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let n=t.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let l=this.checkClobberedElement(n,n.nextSibling);if(l){n=l;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(t){const n=t.nodeName.toLowerCase();if(!Vn.hasOwnProperty(n))return this.sanitizedSomething=!0,!Dc.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=t.attributes;for(let l=0;l<r.length;l++){const d=r.item(l),p=d.name,m=p.toLowerCase();if(!qa.hasOwnProperty(m)){this.sanitizedSomething=!0;continue}let y=d.value;ta[m]&&(y=Qn(y)),na[m]&&(e=y,y=(e=String(e)).split(",").map(t=>Qn(t.trim())).join(", ")),this.buf.push(" ",p,'="',ra(y),'"')}var e;return this.buf.push(">"),!0}endElement(t){const n=t.nodeName.toLowerCase();Vn.hasOwnProperty(n)&&!Rr.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(ra(t))}checkClobberedElement(t,n){if(n&&(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return n}}const qu=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ku=/([^\#-~ |!])/g;function ra(e){return e.replace(/&/g,"&amp;").replace(qu,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Ku,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let nn;function at(e,t){let n=null;try{nn=nn||function(e){const t=new Yu(e);return function(){try{return!!(new window.DOMParser).parseFromString(mn(""),"text/html")}catch(e){return!1}}()?new zu(t):t}(e);let r=t?String(t):"";n=nn.getInertBodyElement(r);let l=5,d=r;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,r=d,d=n.innerHTML,n=nn.getInertBodyElement(r)}while(r!==d);return mn((new wc).sanitizeChildren(qn(n)||n))}finally{if(n){const r=qn(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function qn(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var ht=(()=>((ht=ht||{})[ht.NONE=0]="NONE",ht[ht.HTML=1]="HTML",ht[ht.STYLE=2]="STYLE",ht[ht.SCRIPT=3]="SCRIPT",ht[ht.URL=4]="URL",ht[ht.RESOURCE_URL=5]="RESOURCE_URL",ht))();function ia(e){const t=function(){const e=ge();return e&&e[12]}();return t?t.sanitize(ht.URL,e)||"":Vi(e,"URL")?ci(e):Qn(ve(e))}const Ju="__ngContext__";function an(e,t){e[Ju]=t}function ru(e){const t=function(e){return e[Ju]||null}(e);return t?Array.isArray(t)?t:t.lView:null}function fs(e){return e.ngOriginalError}function il(e,...t){e.error(...t)}class $i{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t),r=this._findContext(t),l=(e=t)&&e.ngErrorLogger||il;var e;l(this._console,"ERROR",t),n&&l(this._console,"ORIGINAL ERROR",n),r&&l(this._console,"ERROR CONTEXT",r)}_findContext(t){return t?t.ngDebugContext||this._findContext(fs(t)):null}_findOriginalError(t){let n=t&&fs(t);for(;n&&fs(n);)n=fs(n);return n||null}}const au=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(At))();function ir(e){return e instanceof Function?e():e}var Pr=(()=>((Pr=Pr||{})[Pr.Important=1]="Important",Pr[Pr.DashCase=2]="DashCase",Pr))();function Ao(e,t){return undefined(e,t)}function Yr(e){const t=e[3];return fr(t)?t[3]:t}function fi(e){return kc(e[13])}function cl(e){return kc(e[4])}function kc(e){for(;null!==e&&!fr(e);)e=e[4];return e}function hs(e,t,n,r,l){if(null!=r){let d,p=!1;fr(r)?d=r:jt(r)&&(p=!0,r=r[0]);const m=Ot(r);0===e&&null!==n?null==l?T(t,n,m):D(t,n,m,l||null,!0):1===e&&null!==n?D(t,n,m,l||null,!0):2===e?function(e,t,n){const r=k(e,t);r&&function(e,t,n,r){Bt(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}(t,m,p):3===e&&t.destroyNode(m),null!=d&&function(e,t,n,r,l){const d=n[7];d!==Ot(n)&&hs(t,e,r,d,l);for(let m=10;m<n.length;m++){const y=n[m];ua(y[1],y,e,t,r,d)}}(t,e,d,n,l)}}function uu(e,t,n){return Bt(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function aa(e,t){const n=e[9],r=n.indexOf(t),l=t[3];1024&t[2]&&(t[2]&=-1025,Ii(l,-1)),n.splice(r,1)}function gs(e,t){if(e.length<=10)return;const n=10+t,r=e[n];if(r){const l=r[17];null!==l&&l!==e&&aa(l,r),t>0&&(e[n-1][4]=r[4]);const d=Pi(e,10+t);!function(e,t){ua(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(r[1],r);const p=d[19];null!==p&&p.detachView(d[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function u(e,t){if(!(256&t[2])){const n=t[11];Bt(n)&&n.destroyNode&&ua(e,t,n,3,null,null),function(e){let t=e[13];if(!t)return a(e[1],e);for(;t;){let n=null;if(jt(t))n=t[13];else{const r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)jt(t)&&a(t[1],t),t=t[3];null===t&&(t=e),jt(t)&&a(t[1],t),n=t&&t[4]}t=n}}(t)}}function a(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const l=t[n[r]];if(!(l instanceof qo)){const d=n[r+1];if(Array.isArray(d))for(let p=0;p<d.length;p+=2){const m=l[d[p]],y=d[p+1];try{y.call(m)}finally{}}else try{d.call(l)}finally{}}}}(e,t),function(e,t){const n=e.cleanup,r=t[7];let l=-1;if(null!==n)for(let d=0;d<n.length-1;d+=2)if("string"==typeof n[d]){const p=n[d+1],m="function"==typeof p?p(t):Ot(t[p]),y=r[l=n[d+2]],b=n[d+3];"boolean"==typeof b?m.removeEventListener(n[d],y,b):b>=0?r[l=b]():r[l=-b].unsubscribe(),d+=2}else{const p=r[l=n[d+1]];n[d].call(p)}if(null!==r){for(let d=l+1;d<r.length;d++)r[d]();t[7]=null}}(e,t),1===t[1].type&&Bt(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&fr(t[3])){n!==t[3]&&aa(n,t);const r=t[19];null!==r&&r.detachView(e)}}}function v(e,t,n){return function(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){const l=e.data[r.directiveStart].encapsulation;if(l===xe.None||l===xe.Emulated)return null}return hr(r,n)}(e,t.parent,n)}function D(e,t,n,r,l){Bt(e)?e.insertBefore(t,n,r,l):t.insertBefore(n,r,l)}function T(e,t,n){Bt(e)?e.appendChild(t,n):t.appendChild(n)}function R(e,t,n,r,l){null!==r?D(e,t,n,r,l):T(e,t,n)}function k(e,t){return Bt(e)?e.parentNode(t):t.parentNode}let Ie=function(e,t,n){return 40&e.type?hr(e,n):null};function Xe(e,t,n,r){const l=v(e,r,t),d=t[11],m=function(e,t,n){return Ie(e,t,n)}(r.parent||t[6],r,t);if(null!=l)if(Array.isArray(n))for(let y=0;y<n.length;y++)R(d,l,n[y],m,!1);else R(d,l,n,m,!1)}function Wt(e,t){if(null!==t){const n=t.type;if(3&n)return hr(t,e);if(4&n)return ms(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return Wt(e,r);{const l=e[t.index];return fr(l)?ms(-1,l):Ot(l)}}if(32&n)return Ao(t,e)()||Ot(e[t.index]);{const r=Kn(e,t);return null!==r?Array.isArray(r)?r[0]:Wt(Yr(e[16]),r):Wt(e,t.next)}}return null}function Kn(e,t){return null!==t?e[16][6].projection[t.projection]:null}function ms(e,t){const n=10+e+1;if(n<t.length){const r=t[n],l=r[1].firstChild;if(null!==l)return Wt(r,l)}return t[7]}function Wi(e,t,n,r,l,d,p){for(;null!=n;){const m=r[n.index],y=n.type;if(p&&0===t&&(m&&an(Ot(m),r),n.flags|=4),64!=(64&n.flags))if(8&y)Wi(e,t,n.child,r,l,d,!1),hs(t,e,l,m,d);else if(32&y){const b=Ao(n,r);let w;for(;w=b();)hs(t,e,l,w,d);hs(t,e,l,m,d)}else 16&y?fp(e,t,r,n,l,d):hs(t,e,l,m,d);n=p?n.projectionNext:n.next}}function ua(e,t,n,r,l,d){Wi(n,r,e.firstChild,t,l,d,!1)}function fp(e,t,n,r,l,d){const p=n[16],y=p[6].projection[r.projection];if(Array.isArray(y))for(let b=0;b<y.length;b++)hs(t,e,l,y[b],d);else Wi(e,t,y,p[3],l,d,!0)}function hp(e,t,n){Bt(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function Af(e,t,n){Bt(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function pp(e,t,n){let r=e.length;for(;;){const l=e.indexOf(t,n);if(-1===l)return l;if(0===l||e.charCodeAt(l-1)<=32){const d=t.length;if(l+d===r||e.charCodeAt(l+d)<=32)return l}n=l+1}}const gp="ng-template";function Hg(e,t,n){let r=0;for(;r<e.length;){let l=e[r++];if(n&&"class"===l){if(l=e[r],-1!==pp(l.toLowerCase(),t,0))return!0}else if(1===l){for(;r<e.length&&"string"==typeof(l=e[r++]);)if(l.toLowerCase()===t)return!0;return!1}}return!1}function mp(e){return 4===e.type&&e.value!==gp}function $g(e,t,n){return t===(4!==e.type||n?e.value:gp)}function Gg(e,t,n){let r=4;const l=e.attrs||[],d=function(e){for(let t=0;t<e.length;t++)if(Zl(e[t]))return t;return e.length}(l);let p=!1;for(let m=0;m<t.length;m++){const y=t[m];if("number"!=typeof y){if(!p)if(4&r){if(r=2|1&r,""!==y&&!$g(e,y,n)||""===y&&1===t.length){if(Qr(r))return!1;p=!0}}else{const b=8&r?y:t[++m];if(8&r&&null!==e.attrs){if(!Hg(e.attrs,b,n)){if(Qr(r))return!1;p=!0}continue}const S=Wg(8&r?"class":y,l,mp(e),n);if(-1===S){if(Qr(r))return!1;p=!0;continue}if(""!==b){let x;x=S>d?"":l[S+1].toLowerCase();const L=8&r?x:null;if(L&&-1!==pp(L,b,0)||2&r&&b!==x){if(Qr(r))return!1;p=!0}}}}else{if(!p&&!Qr(r)&&!Qr(y))return!1;if(p&&Qr(y))continue;p=!1,r=y|1&r}}return Qr(r)||p}function Qr(e){return 0==(1&e)}function Wg(e,t,n,r){if(null===t)return-1;let l=0;if(r||!n){let d=!1;for(;l<t.length;){const p=t[l];if(p===e)return l;if(3===p||6===p)d=!0;else{if(1===p||2===p){let m=t[++l];for(;"string"==typeof m;)m=t[++l];continue}if(4===p)break;if(0===p){l+=4;continue}}l+=d?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function _p(e,t,n=!1){for(let r=0;r<t.length;r++)if(Gg(e,t[r],n))return!0;return!1}function qg(e,t){return e?":not("+t.trim()+")":t}function yp(e){let t=e[0],n=1,r=2,l="",d=!1;for(;n<e.length;){let p=e[n];if("string"==typeof p)if(2&r){const m=e[++n];l+="["+p+(m.length>0?'="'+m+'"':"")+"]"}else 8&r?l+="."+p:4&r&&(l+=" "+p);else""!==l&&!Qr(p)&&(t+=qg(d,l),l=""),r=p,d=d||!Qr(r);n++}return""!==l&&(t+=qg(d,l)),t}const et={};function bp(e){Dp(pt(),ge(),fn()+e,oo())}function Dp(e,t,n,r){if(!r)if(3==(3&t[2])){const d=e.preOrderCheckHooks;null!==d&&Si(t,d,n)}else{const d=e.preOrderHooks;null!==d&&Us(t,d,0,n)}Ir(n)}function Uc(e,t){return e<<17|t<<2}function hi(e){return e>>17&32767}function Sf(e){return 2|e}function So(e){return(131068&e)>>2}function Mf(e,t){return-131069&e|t<<2}function Hc(e){return 1|e}function sm(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const l=n[r],d=n[r+1];if(-1!==d){const p=e.data[d];so(l),p.contentQueries(2,t[d],d)}}}function ys(e,t,n,r,l,d,p,m,y,b){const w=t.blueprint.slice();return w[0]=l,w[2]=140|r,Tu(w),w[3]=w[15]=e,w[8]=n,w[10]=p||e&&e[10],w[11]=m||e&&e[11],w[12]=y||e&&e[12]||null,w[9]=b||e&&e[9]||null,w[6]=d,w[16]=2==t.type?e[16]:w,w}function da(e,t,n,r,l){let d=e.data[t];if(null===d)d=function(e,t,n,r,l){const d=ks(),p=Ls(),y=e.data[t]=function(e,t,n,r,l,d){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,p?d:d&&d.parent,n,t,r,l);return null===e.firstChild&&(e.firstChild=y),null!==d&&(p?null==d.child&&null!==y.parent&&(d.child=y):null===d.next&&(d.next=y)),y}(e,t,n,r,l),Ge.lFrame.inI18n&&(d.flags|=64);else if(64&d.type){d.type=n,d.value=r,d.attrs=l;const p=function(){const e=Ge.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();d.injectorIndex=null===p?-1:p.injectorIndex}return kn(d,!0),d}function sr(e,t,n,r){if(0===n)return-1;const l=t.length;for(let d=0;d<n;d++)t.push(r),e.blueprint.push(r),e.data.push(null);return l}function gl(e,t,n){ao(t);try{const r=e.viewQuery;null!==r&&Xc(1,r,n);const l=e.template;null!==l&&Sp(e,t,l,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&sm(e,t),e.staticViewQueries&&Xc(2,e.viewQuery,n);const d=e.components;null!==d&&function(e,t){for(let n=0;n<t.length;n++)ml(e,t[n])}(t,d)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[2]&=-5,ni()}}function fa(e,t,n,r){const l=t[2];if(256==(256&l))return;ao(t);const d=oo();try{Tu(t),function(e){Ge.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&Sp(e,t,n,2,r);const p=3==(3&l);if(!d)if(p){const b=e.preOrderCheckHooks;null!==b&&Si(t,b,null)}else{const b=e.preOrderHooks;null!==b&&Us(t,b,0,null),js(t,0)}if(function(e){for(let t=fi(e);null!==t;t=cl(t)){if(!t[2])continue;const n=t[9];for(let r=0;r<n.length;r++){const l=n[r],d=l[3];0==(1024&l[2])&&Ii(d,1),l[2]|=1024}}}(t),function(e){for(let t=fi(e);null!==t;t=cl(t))for(let n=10;n<t.length;n++){const r=t[n],l=r[1];Hl(r)&&fa(l,r,l.template,r[8])}}(t),null!==e.contentQueries&&sm(e,t),!d)if(p){const b=e.contentCheckHooks;null!==b&&Si(t,b)}else{const b=e.contentHooks;null!==b&&Us(t,b,1),js(t,1)}!function(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const l=n[r];if(l<0)Ir(~l);else{const d=l,p=n[++r],m=n[++r];zl(p,d),m(2,t[d])}}}finally{Ir(-1)}}(e,t);const m=e.components;null!==m&&function(e,t){for(let n=0;n<t.length;n++)pm(e,t[n])}(t,m);const y=e.viewQuery;if(null!==y&&Xc(2,y,r),!d)if(p){const b=e.viewCheckHooks;null!==b&&Si(t,b)}else{const b=e.viewHooks;null!==b&&Us(t,b,2),js(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),d||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Ii(t[3],-1))}finally{ni()}}function lm(e,t,n,r){const l=t[10],d=!oo(),p=jl(t);try{d&&!p&&l.begin&&l.begin(),p&&gl(e,t,r),fa(e,t,n,r)}finally{d&&!p&&l.end&&l.end()}}function Sp(e,t,n,r,l){const d=fn(),p=2&r;try{Ir(-1),p&&t.length>20&&Dp(e,t,20,oo()),n(r,l)}finally{Ir(d)}}function du(e,t,n){!Ld()||(function(e,t,n,r){const l=n.directiveStart,d=n.directiveEnd;e.firstCreatePass||Ko(n,t),an(r,t);const p=n.initialInputs;for(let m=l;m<d;m++){const y=e.data[m],b=Ur(y);b&&Vp(t,n,y);const w=Zo(t,e,m,n);an(w,t),null!==p&&Bp(0,m-l,w,y,0,p),b&&(Gn(n.index,t)[8]=w)}}(e,t,n,hr(n,t)),128==(128&n.flags)&&function(e,t,n){const r=n.directiveStart,l=n.directiveEnd,p=n.index,m=Ge.lFrame.currentDirectiveIndex;try{Ir(p);for(let y=r;y<l;y++){const b=e.data[y],w=t[y];Wn(y),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&Hf(b,w)}}finally{Ir(-1),Wn(m)}}(e,t,n))}function zi(e,t,n=hr){const r=t.localNames;if(null!==r){let l=t.index+1;for(let d=0;d<r.length;d+=2){const p=r[d+1],m=-1===p?n(t,e):e[p];e[l++]=m}}}function Pf(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Sn(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Sn(e,t,n,r,l,d,p,m,y,b){const w=20+r,S=w+l,x=function(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:et);return n}(w,S),L="function"==typeof b?b():b;return x[1]={type:e,blueprint:x,template:n,queries:null,viewQuery:m,declTNode:t,data:x.slice().fill(null,w),bindingStartIndex:w,expandoStartIndex:S,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof p?p():p,firstChild:null,schemas:y,consts:L,incompleteFirstPass:!1}}function kf(e,t,n,r){const l=Hp(t);null===n?l.push(r):(l.push(n),e.firstCreatePass&&ed(e).push(r,l.length-1))}function Lf(e,t,n){for(let r in e)if(e.hasOwnProperty(r)){const l=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,l):n[r]=[t,l]}return n}function yr(e,t,n,r,l,d,p,m){const y=hr(t,n);let w,b=t.inputs;!m&&null!=b&&(w=b[r])?(td(e,n,w,r,l),Fn(t)&&function(e,t){const n=Gn(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(r=function(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),l=null!=p?p(l,t.value||"",r):l,Bt(d)?d.setProperty(y,r,l):Tr(r)||(y.setProperty?y.setProperty(r,l):y[r]=l))}function Kc(e,t,n,r){let l=!1;if(Ld()){const d=function(e,t,n){const r=e.directiveRegistry;let l=null;if(r)for(let d=0;d<r.length;d++){const p=r[d];_p(n,p.selectors,!1)&&(l||(l=[]),Ws(Ko(n,t),e,p.type),Ur(p)?($f(e,n),l.unshift(p)):l.push(p))}return l}(e,t,n),p=null===r?null:{"":-1};if(null!==d){l=!0,Wf(n,e.data.length,d.length);for(let w=0;w<d.length;w++){const S=d[w];S.providersResolver&&S.providersResolver(S)}let m=!1,y=!1,b=sr(e,t,d.length,null);for(let w=0;w<d.length;w++){const S=d[w];n.mergedAttrs=$s(n.mergedAttrs,S.hostAttrs),zf(e,n,t,b,S),Zc(b,S,p),null!==S.contentQueries&&(n.flags|=8),(null!==S.hostBindings||null!==S.hostAttrs||0!==S.hostVars)&&(n.flags|=128);const x=S.type.prototype;!m&&(x.ngOnChanges||x.ngOnInit||x.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),m=!0),!y&&(x.ngOnChanges||x.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),y=!0),b++}!function(e,t){const r=t.directiveEnd,l=e.data,d=t.attrs,p=[];let m=null,y=null;for(let b=t.directiveStart;b<r;b++){const w=l[b],S=w.inputs,x=null===d||mp(t)?null:bv(S,d);p.push(x),m=Lf(S,b,m),y=Lf(w.outputs,b,y)}null!==m&&(m.hasOwnProperty("class")&&(t.flags|=16),m.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=p,t.inputs=m,t.outputs=y}(e,n)}p&&function(e,t,n){if(t){const r=e.localNames=[];for(let l=0;l<t.length;l+=2){const d=n[t[l+1]];if(null==d)throw new se("301",`Export of name '${t[l+1]}' not found!`);r.push(t[l],d)}}}(n,r,p)}return n.mergedAttrs=$s(n.mergedAttrs,n.attrs),l}function Bf(e,t,n,r,l,d){const p=d.hostBindings;if(p){let m=e.hostBindingOpCodes;null===m&&(m=e.hostBindingOpCodes=[]);const y=~t.index;(function(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(m)!=y&&m.push(y),m.push(r,l,p)}}function Hf(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function $f(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function Zc(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Ur(t)&&(n[""]=e)}}function Wf(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function zf(e,t,n,r,l){e.data[r]=l;const d=l.factory||(l.factory=Xr(l.type)),p=new qo(d,Ur(l),null);e.blueprint[r]=p,n[r]=p,Bf(e,t,0,r,sr(e,n,l.hostVars,et),l)}function Vp(e,t,n){const r=hr(t,e),l=Pf(n),d=e[10],p=ha(e,ys(e,l,null,n.onPush?64:16,r,t,d,d.createRenderer(r,n),null,null));e[t.index]=p}function Zt(e,t,n,r,l,d){const p=hr(e,t);!function(e,t,n,r,l,d,p){if(null==d)Bt(e)?e.removeAttribute(t,l,n):t.removeAttribute(l);else{const m=null==p?ve(d):p(d,r||"",l);Bt(e)?e.setAttribute(t,l,m,n):n?t.setAttributeNS(n,l,m):t.setAttribute(l,m)}}(t[11],p,d,e.value,n,r,l)}function Bp(e,t,n,r,l,d){const p=d[t];if(null!==p){const m=r.setInput;for(let y=0;y<p.length;){const b=p[y++],w=p[y++],S=p[y++];null!==m?r.setInput(n,S,b,w):n[w]=S}}}function bv(e,t){let n=null,r=0;for(;r<t.length;){const l=t[r];if(0!==l)if(5!==l){if("number"==typeof l)break;e.hasOwnProperty(l)&&(null===n&&(n=[]),n.push(l,e[l],t[r+1])),r+=2}else r+=2;else r+=4}return n}function Yf(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function pm(e,t){const n=Gn(t,e);if(Hl(n)){const r=n[1];80&n[2]?fa(r,n,r.template,n[8]):n[5]>0&&fu(n)}}function fu(e){for(let r=fi(e);null!==r;r=cl(r))for(let l=10;l<r.length;l++){const d=r[l];if(1024&d[2]){const p=d[1];fa(p,d,p.template,d[8])}else d[5]>0&&fu(d)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const l=Gn(n[r],e);Hl(l)&&l[5]>0&&fu(l)}}function ml(e,t){const n=Gn(t,e),r=n[1];(function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(r,n),gl(r,n,n[8])}function ha(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function qf(e){for(;e;){e[2]|=64;const t=Yr(e);if(Dr(e)&&!t)return e;e=t}return null}function Zf(e,t,n){const r=t[10];r.begin&&r.begin();try{fa(e,t,e.template,n)}catch(l){throw Jf(t,l),l}finally{r.end&&r.end()}}function Up(e){!function(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],r=ru(n),l=r[1];lm(l,r,l.template,n)}}(e[8])}function Xc(e,t,n){so(0),t(e,n)}const wv=(()=>Promise.resolve(null))();function Hp(e){return e[7]||(e[7]=[])}function ed(e){return e.cleanup||(e.cleanup=[])}function Jf(e,t){const n=e[9],r=n?n.get($i,null):null;r&&r.handleError(t)}function td(e,t,n,r,l){for(let d=0;d<n.length;){const p=n[d++],m=n[d++],y=t[p],b=e.data[p];null!==b.setInput?b.setInput(y,l,r,m):y[m]=l}}function Xf(e,t,n){let r=n?e.styles:null,l=n?e.classes:null,d=0;if(null!==t)for(let p=0;p<t.length;p++){const m=t[p];"number"==typeof m?d=m:1==d?l=z(l,m):2==d&&(r=z(r,m+": "+t[++p]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=l:e.classesWithoutHost=l}const Qi=new en("INJECTOR",-1);class Gp{get(t,n=Qs){if(n===Qs){const r=new Error(`NullInjectorError: No provider for ${K(t)}!`);throw r.name="NullInjectorError",r}return n}}const pa=new en("Set Injector scope."),pu={},eh={};let rd;function id(){return void 0===rd&&(rd=new Gp),rd}function ga(e,t=null,n=null,r){return new yl(e,n,t||id(),r)}class yl{constructor(t,n,r,l=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const d=[];n&&wn(n,m=>this.processProvider(m,t,n)),wn([t],m=>this.processInjectorType(m,[],d)),this.records.set(Qi,xo(void 0,this));const p=this.records.get(pa);this.scope=null!=p?p.value:null,this.source=l||("object"==typeof t?null:K(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,n=Qs,r=Re.Default){this.assertNotDestroyed();const l=ai(this),d=Xt(void 0);try{if(!(r&Re.SkipSelf)){let m=this.records.get(t);if(void 0===m){const y=("function"==typeof(e=t)||"object"==typeof e&&e instanceof en)&&vn(t);m=y&&this.injectableDefInScope(y)?xo(Cl(t),pu):null,this.records.set(t,m)}if(null!=m)return this.hydrate(t,m)}return(r&Re.Self?id():this.parent).get(t,n=r&Re.Optional&&n===Qs?null:n)}catch(p){if("NullInjectorError"===p.name){if((p[po]=p[po]||[]).unshift(K(t)),l)throw p;return hc(p,t,"R3InjectorError",this.source)}throw p}finally{Xt(d),ai(l)}var e}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((r,l)=>t.push(K(l))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,n,r){if(!(t=N(t)))return!1;let l=Ts(t);const d=null==l&&t.ngModule||void 0,p=void 0===d?t:d,m=-1!==r.indexOf(p);if(void 0!==d&&(l=Ts(d)),null==l)return!1;if(null!=l.imports&&!m){let w;r.push(p);try{wn(l.imports,S=>{this.processInjectorType(S,n,r)&&(void 0===w&&(w=[]),w.push(S))})}finally{}if(void 0!==w)for(let S=0;S<w.length;S++){const{ngModule:x,providers:L}=w[S];wn(L,j=>this.processProvider(j,x,L||V))}}this.injectorDefTypes.add(p);const y=Xr(p)||(()=>new p);this.records.set(p,xo(y,pu));const b=l.providers;if(null!=b&&!m){const w=t;wn(b,S=>this.processProvider(S,w,b))}return void 0!==d&&void 0!==t.providers}processProvider(t,n,r){let l=ma(t=N(t))?t:N(t&&t.provide);const d=nh(e=t)?xo(void 0,e.useValue):xo(gu(e),pu);var e;if(ma(t)||!0!==t.multi)this.records.get(l);else{let p=this.records.get(l);p||(p=xo(void 0,pu,!0),p.factory=()=>mo(p.multi),this.records.set(l,p)),l=t,p.multi.push(t)}this.records.set(l,d)}hydrate(t,n){return n.value===pu&&(n.value=eh,n.value=n.factory()),"object"==typeof n.value&&n.value&&null!==(e=n.value)&&"object"==typeof e&&"function"==typeof e.ngOnDestroy&&this.onDestroy.add(n.value),n.value;var e}injectableDefInScope(t){if(!t.providedIn)return!1;const n=N(t.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function Cl(e){const t=vn(e),n=null!==t?t.factory:Xr(e);if(null!==n)return n;if(e instanceof en)throw new Error(`Token ${K(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const r=function(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?");throw new Error(`Can't resolve all parameters for ${K(e)}: (${r.join(", ")}).`)}const n=function(e){const t=e&&(e[mt]||e[En]);if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Error("unreachable")}function gu(e,t,n){let r;if(ma(e)){const l=N(e);return Xr(l)||Cl(l)}if(nh(e))r=()=>N(e.useValue);else if(function(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...mo(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))r=()=>Nt(N(e.useExisting));else{const l=N(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return Xr(l)||Cl(l);r=()=>new l(...mo(e.deps))}return r}function xo(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function nh(e){return null!==e&&"object"==typeof e&&Ks in e}function ma(e){return"function"==typeof e}const rh=function(e,t,n){return function(e,t=null,n=null,r){const l=ga(e,t,n,r);return l._resolveInjectorDefTypes(),l}({name:n},t,e,n)};class Pt{static create(t,n){return Array.isArray(t)?rh(t,n,""):rh(t.providers,t.parent,t.name||"")}}function Om(e,t){Ti(ru(e)[1],$t())}function ud(e){let t=function(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let l;if(Ur(e))l=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");l=t.\u0275dir}if(l){if(n){r.push(l);const p=e;p.inputs=rg(e.inputs),p.declaredInputs=rg(e.declaredInputs),p.outputs=rg(e.outputs);const m=l.hostBindings;m&&Pm(e,m);const y=l.viewQuery,b=l.contentQueries;if(y&&Ov(e,y),b&&ig(e,b),de(e.inputs,l.inputs),de(e.declaredInputs,l.declaredInputs),de(e.outputs,l.outputs),Ur(l)&&l.data.animation){const w=e.data;w.animation=(w.animation||[]).concat(l.data.animation)}}const d=l.features;if(d)for(let p=0;p<d.length;p++){const m=d[p];m&&m.ngInherit&&m(e),m===ud&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const l=e[r];l.hostVars=t+=l.hostVars,l.hostAttrs=$s(l.hostAttrs,n=$s(n,l.hostAttrs))}}(r)}function rg(e){return e===B?{}:e===V?[]:e}function Ov(e,t){const n=e.viewQuery;e.viewQuery=n?(r,l)=>{t(r,l),n(r,l)}:t}function ig(e,t){const n=e.contentQueries;e.contentQueries=n?(r,l,d)=>{t(r,l,d),n(r,l,d)}:t}function Pm(e,t){const n=e.hostBindings;e.hostBindings=n?(r,l)=>{t(r,l),n(r,l)}:t}Pt.THROW_IF_NOT_FOUND=Qs,Pt.NULL=new Gp,Pt.\u0275prov=vt({token:Pt,providedIn:"any",factory:()=>Nt(Qi)}),Pt.__NG_ELEMENT_ID__=-1;let _h=null;function mu(){if(!_h){const e=At.Symbol;if(e&&e.iterator)_h=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<t.length;++n){const r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(_h=r)}}}return _h}function bl(e){return!!ag(e)&&(Array.isArray(e)||!(e instanceof Map)&&mu()in e)}function ag(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Zn(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function o(e,t,n,r){const l=ge();return Zn(l,ti(),t)&&(pt(),Zt(qt(),l,e,t,n,r)),o}function Lt(e,t,n,r,l,d,p,m){const y=ge(),b=pt(),w=e+20,S=b.firstCreatePass?function(e,t,n,r,l,d,p,m,y){const b=t.consts,w=da(t,e,4,p||null,wi(b,m));Kc(t,n,w,wi(b,y)),Ti(t,w);const S=w.tViews=Sn(2,w,r,l,d,t.directiveRegistry,t.pipeRegistry,null,t.schemas,b);return null!==t.queries&&(t.queries.template(t,w),S.queries=t.queries.embeddedTView(w)),w}(w,b,y,t,n,r,l,d,p):b.data[w];kn(S,!1);const x=y[11].createComment("");Xe(b,y,x,S),an(x,y),ha(y,y[w]=Yf(x,y,x,S)),Da(S)&&du(b,y,S),null!=p&&zi(y,S,m)}function yh(e,t=Re.Default){const n=ge();return null===n?Nt(e,t):gt($t(),n,N(e),t)}function $m(e,t,n){const r=ge();return Zn(r,ti(),t)&&yr(pt(),qt(),r,e,t,r[11],n,!1),$m}function Gm(e,t,n,r,l){const p=l?"class":"style";td(e,n,t.inputs[p],p,r)}function Wm(e,t,n,r){const l=ge(),d=pt(),p=20+e,m=l[11],y=l[p]=uu(m,t,Ge.lFrame.currentNamespace),b=d.firstCreatePass?function(e,t,n,r,l,d,p){const m=t.consts,b=da(t,e,2,l,wi(m,d));return Kc(t,n,b,wi(m,p)),null!==b.attrs&&Xf(b,b.attrs,!1),null!==b.mergedAttrs&&Xf(b,b.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,b),b}(p,d,l,0,t,n,r):d.data[p];kn(b,!0);const w=b.mergedAttrs;null!==w&&Ou(m,y,w);const S=b.classes;null!==S&&Af(m,y,S);const x=b.styles;null!==x&&hp(m,y,x),64!=(64&b.flags)&&Xe(d,l,y,b),0===Ge.lFrame.elementDepthCount&&an(y,l),Ge.lFrame.elementDepthCount++,Da(b)&&(du(d,l,b),function(e,t,n){if(Ms(t)){const l=t.directiveEnd;for(let d=t.directiveStart;d<l;d++){const p=e.data[d];p.contentQueries&&p.contentQueries(1,n[d],d)}}}(d,b,l)),null!==r&&zi(l,b)}function zm(){let e=$t();Ls()?Ge.lFrame.isParent=!1:(e=e.parent,kn(e,!1));const t=e;Ge.lFrame.elementDepthCount--;const n=pt();n.firstCreatePass&&(Ti(n,e),Ms(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&Gm(n,t,ge(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&Gm(n,t,ge(),t.stylesWithoutHost,!1)}function Gv(e,t,n,r){Wm(e,t,n,r),zm()}function Ym(e){return!!e&&"function"==typeof e.then}function Yv(e){return!!e&&"function"==typeof e.subscribe}const Qm=Yv;function qm(e,t,n,r){const l=ge(),d=pt(),p=$t();return function(e,t,n,r,l,d,p,m){const y=Da(r),w=e.firstCreatePass&&ed(e),S=t[8],x=Hp(t);let L=!0;if(3&r.type||m){const Z=hr(r,t),Ee=m?m(Z):Z,fe=x.length,Ue=m?Ke=>m(Ot(Ke[r.index])):r.index;if(Bt(n)){let Ke=null;if(!m&&y&&(Ke=function(e,t,n,r){const l=e.cleanup;if(null!=l)for(let d=0;d<l.length-1;d+=2){const p=l[d];if(p===n&&l[d+1]===r){const m=t[7],y=l[d+2];return m.length>y?m[y]:null}"string"==typeof p&&(d+=2)}return null}(e,t,l,r.index)),null!==Ke)(Ke.__ngLastListenerFn__||Ke).__ngNextListenerFn__=d,Ke.__ngLastListenerFn__=d,L=!1;else{d=Km(r,t,S,d,!1);const Ct=n.listen(Ee,l,d);x.push(d,Ct),w&&w.push(l,Ue,fe,fe+1)}}else d=Km(r,t,S,d,!0),Ee.addEventListener(l,d,p),x.push(d),w&&w.push(l,Ue,fe,p)}else d=Km(r,t,S,d,!1);const j=r.outputs;let oe;if(L&&null!==j&&(oe=j[l])){const Z=oe.length;if(Z)for(let Ee=0;Ee<Z;Ee+=2){const Un=t[oe[Ee]][oe[Ee+1]].subscribe(d),Zi=x.length;x.push(d,Un),w&&w.push(l,r.index,Zi,-(Zi+1))}}}(d,l,l[11],p,e,t,!!n,r),qm}function Kv(e,t,n,r){try{return!1!==n(r)}catch(l){return Jf(e,l),!1}}function Km(e,t,n,r,l){return function d(p){if(p===Function)return r;const m=2&e.flags?Gn(e.index,t):t;0==(32&t[2])&&qf(m);let y=Kv(t,0,r,p),b=d.__ngNextListenerFn__;for(;b;)y=Kv(t,0,b,p)&&y,b=b.__ngNextListenerFn__;return l&&!1===y&&(p.preventDefault(),p.returnValue=!1),y}}function Zv(e=1){return function(e){return(Ge.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,Ge.lFrame.contextLView))[8]}(e)}function ay(e,t,n,r,l){const d=e[n+1],p=null===t;let m=r?hi(d):So(d),y=!1;for(;0!==m&&(!1===y||p);){const w=e[m+1];rb(e[m],t)&&(y=!0,e[m+1]=r?Hc(w):Sf(w)),m=r?hi(w):So(w)}y&&(e[n+1]=r?Sf(d):Hc(d))}function rb(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&si(e,t)>=0}function Jm(e,t){return function(e,t,n,r){const l=ge(),d=pt(),p=function(e){const t=Ge.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2);d.firstUpdatePass&&function(e,t,n,r){const l=e.data;if(null===l[n+1]){const d=l[fn()],p=function(e,t){return t>=e.expandoStartIndex}(e,n);(function(e,t){return 0!=(e.flags&(t?16:32))})(d,r)&&null===t&&!p&&(t=!1),t=function(e,t,n,r){const l=function(e){const t=Ge.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let d=r?t.residualClasses:t.residualStyles;if(null===l)0===(r?t.classBindings:t.styleBindings)&&(n=Ch(n=Xm(null,e,t,n,r),t.attrs,r),d=null);else{const p=t.directiveStylingLast;if(-1===p||e[p]!==l)if(n=Xm(l,e,t,n,r),null===d){let y=function(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==So(r))return e[hi(r)]}(e,t,r);void 0!==y&&Array.isArray(y)&&(y=Xm(null,e,t,y[1],r),y=Ch(y,t.attrs,r),function(e,t,n,r){e[hi(n?t.classBindings:t.styleBindings)]=r}(e,t,r,y))}else d=function(e,t,n){let r;const l=t.directiveEnd;for(let d=1+t.directiveStylingLast;d<l;d++)r=Ch(r,e[d].hostAttrs,n);return Ch(r,t.attrs,n)}(e,t,r)}return void 0!==d&&(r?t.residualClasses=d:t.residualStyles=d),n}(l,d,t,r),function(e,t,n,r,l,d){let p=d?t.classBindings:t.styleBindings,m=hi(p),y=So(p);e[r]=n;let w,b=!1;if(Array.isArray(n)){const S=n;w=S[1],(null===w||si(S,w)>0)&&(b=!0)}else w=n;if(l)if(0!==y){const x=hi(e[m+1]);e[r+1]=Uc(x,m),0!==x&&(e[x+1]=Mf(e[x+1],r)),e[m+1]=function(e,t){return 131071&e|t<<17}(e[m+1],r)}else e[r+1]=Uc(m,0),0!==m&&(e[m+1]=Mf(e[m+1],r)),m=r;else e[r+1]=Uc(y,0),0===m?m=r:e[y+1]=Mf(e[y+1],r),y=r;b&&(e[r+1]=Sf(e[r+1])),ay(e,w,r,!0),ay(e,w,r,!1),function(e,t,n,r,l){const d=l?e.residualClasses:e.residualStyles;null!=d&&"string"==typeof t&&si(d,t)>=0&&(n[r+1]=Hc(n[r+1]))}(t,w,e,r,d),p=Uc(m,y),d?t.classBindings=p:t.styleBindings=p}(l,d,t,n,p,r)}}(d,e,p,r),t!==et&&Zn(l,p,t)&&function(e,t,n,r,l,d,p,m){if(!(3&t.type))return;const y=e.data,b=y[m+1];lg(function(e){return 1==(1&e)}(b)?yy(y,t,n,l,So(b),p):void 0)||(lg(d)||function(e){return 2==(2&e)}(b)&&(d=yy(y,null,n,l,m,p)),function(e,t,n,r,l){const d=Bt(e);if(t)l?d?e.addClass(n,r):n.classList.add(r):d?e.removeClass(n,r):n.classList.remove(r);else{let p=-1===r.indexOf("-")?void 0:Pr.DashCase;if(null==l)d?e.removeStyle(n,r,p):n.style.removeProperty(r);else{const m="string"==typeof l&&l.endsWith("!important");m&&(l=l.slice(0,-10),p|=Pr.Important),d?e.setStyle(n,r,l,p):n.style.setProperty(r,l,m?"important":"")}}}(r,p,function(e,t){return Ot(t[e])}(fn(),n),l,d))}(d,d.data[fn()],l,l[11],e,l[p+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=K(ci(e)))),e}(t,n),r,p)}(e,t,null,!0),Jm}function Xm(e,t,n,r,l){let d=null;const p=n.directiveEnd;let m=n.directiveStylingLast;for(-1===m?m=n.directiveStart:m++;m<p&&(d=t[m],r=Ch(r,d.hostAttrs,l),d!==e);)m++;return null!==e&&(n.directiveStylingLast=m),r}function Ch(e,t,n){const r=n?1:2;let l=-1;if(null!==t)for(let d=0;d<t.length;d++){const p=t[d];"number"==typeof p?l=p:l===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),gn(e,p,!!n||t[++d]))}return void 0===e?null:e}function yy(e,t,n,r,l,d){const p=null===t;let m;for(;l>0;){const y=e[l],b=Array.isArray(y),w=b?y[1]:y,S=null===w;let x=n[l+1];x===et&&(x=S?V:void 0);let L=S?oi(x,r):w===r?x:void 0;if(b&&!lg(L)&&(L=oi(y,r)),lg(L)&&(m=L,p))return m;const j=e[l+1];l=p?hi(j):So(j)}if(null!==t){let y=d?t.residualClasses:t.residualStyles;null!=y&&(m=oi(y,r))}return m}function lg(e){return void 0!==e}function Ey(e,t=""){const n=ge(),r=pt(),l=e+20,d=r.firstCreatePass?da(r,l,1,t,null):r.data[l],p=n[l]=function(e,t){return Bt(e)?e.createText(t):e.createTextNode(t)}(n[11],t);Xe(r,n,p,d),kn(d,!1)}function t_(e,t,n){const r=ge();return Zn(r,ti(),t)&&yr(pt(),qt(),r,e,t,r[11],n,!0),t_}const wl=void 0;var Vb=["en",[["a","p"],["AM","PM"],wl],[["AM","PM"],wl,wl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],wl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],wl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",wl,"{1} 'at' {0}",wl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){const t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let fd={};function n_(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=Hy(t);if(n)return n;const r=t.split("-")[0];if(n=Hy(r),n)return n;if("en"===r)return Vb;throw new Error(`Missing locale data for the locale "${e}".`)}function jy(e){return n_(e)[qe.PluralCase]}function Hy(e){return e in fd||(fd[e]=At.ng&&At.ng.common&&At.ng.common.locales&&At.ng.common.locales[e]),fd[e]}var qe=(()=>((qe=qe||{})[qe.LocaleId=0]="LocaleId",qe[qe.DayPeriodsFormat=1]="DayPeriodsFormat",qe[qe.DayPeriodsStandalone=2]="DayPeriodsStandalone",qe[qe.DaysFormat=3]="DaysFormat",qe[qe.DaysStandalone=4]="DaysStandalone",qe[qe.MonthsFormat=5]="MonthsFormat",qe[qe.MonthsStandalone=6]="MonthsStandalone",qe[qe.Eras=7]="Eras",qe[qe.FirstDayOfWeek=8]="FirstDayOfWeek",qe[qe.WeekendRange=9]="WeekendRange",qe[qe.DateFormat=10]="DateFormat",qe[qe.TimeFormat=11]="TimeFormat",qe[qe.DateTimeFormat=12]="DateTimeFormat",qe[qe.NumberSymbols=13]="NumberSymbols",qe[qe.NumberFormats=14]="NumberFormats",qe[qe.CurrencyCode=15]="CurrencyCode",qe[qe.CurrencySymbol=16]="CurrencySymbol",qe[qe.CurrencyName=17]="CurrencyName",qe[qe.Currencies=18]="Currencies",qe[qe.Directionality=19]="Directionality",qe[qe.PluralCase=20]="PluralCase",qe[qe.ExtraData=21]="ExtraData",qe))();const cg="en-US";let $y=cg;function r_(e){Fe(e,"Expected localeId to be defined"),"string"==typeof e&&($y=e.toLowerCase().replace(/_/g,"-"))}function s_(e,t,n,r,l){if(e=N(e),Array.isArray(e))for(let d=0;d<e.length;d++)s_(e[d],t,n,r,l);else{const d=pt(),p=ge();let m=ma(e)?e:N(e.provide),y=gu(e);const b=$t(),w=1048575&b.providerIndexes,S=b.directiveStart,x=b.providerIndexes>>20;if(ma(e)||!e.multi){const L=new qo(y,l,yh),j=u_(m,t,l?w:w+x,S);-1===j?(Ws(Ko(b,p),d,m),a_(d,e,t.length),t.push(m),b.directiveStart++,b.directiveEnd++,l&&(b.providerIndexes+=1048576),n.push(L),p.push(L)):(n[j]=L,p[j]=L)}else{const L=u_(m,t,w+x,S),j=u_(m,t,w,w+x),oe=L>=0&&n[L],Z=j>=0&&n[j];if(l&&!Z||!l&&!oe){Ws(Ko(b,p),d,m);const Ee=function(e,t,n,r,l){const d=new qo(e,n,yh);return d.multi=[],d.index=t,d.componentProviders=0,hC(d,l,r&&!n),d}(l?FD:PD,n.length,l,r,y);!l&&Z&&(n[j].providerFactory=Ee),a_(d,e,t.length,0),t.push(m),b.directiveStart++,b.directiveEnd++,l&&(b.providerIndexes+=1048576),n.push(Ee),p.push(Ee)}else a_(d,e,L>-1?L:j,hC(n[l?j:L],y,!l&&r));!l&&r&&Z&&n[j].componentProviders++}}}function a_(e,t,n,r){const l=ma(t);if(l||function(e){return!!e.useClass}(t)){const p=(t.useClass||t).prototype.ngOnDestroy;if(p){const m=e.destroyHooks||(e.destroyHooks=[]);if(!l&&t.multi){const y=m.indexOf(n);-1===y?m.push(n,[r,p]):m[y+1].push(r,p)}else m.push(n,p)}}}function hC(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function u_(e,t,n,r){for(let l=n;l<r;l++)if(t[l]===e)return l;return-1}function PD(e,t,n,r){return l_(this.multi,[])}function FD(e,t,n,r){const l=this.multi;let d;if(this.providerFactory){const p=this.providerFactory.componentProviders,m=Zo(n,n[1],this.providerFactory.index,r);d=m.slice(0,p),l_(l,d);for(let y=p;y<m.length;y++)d.push(m[y])}else d=[],l_(l,d);return d}function l_(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function pC(e,t=[]){return n=>{n.providersResolver=(r,l)=>function(e,t,n){const r=pt();if(r.firstCreatePass){const l=Ur(e);s_(n,r.data,r.blueprint,l,!0),s_(t,r.data,r.blueprint,l,!1)}}(r,l?l(e):e,t)}}class gC{}const _C="ngComponent";class VD{resolveComponentFactory(t){throw function(e){const t=Error(`No component factory found for ${K(e)}. Did you add it to @NgModule.entryComponents?`);return t[_C]=e,t}(t)}}class Il{}function gg(...e){}function pd(e,t){return new ws(hr(e,t))}Il.NULL=new VD;const jD=function(){return pd($t(),ge())};let ws=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=jD,e})();function vC(e){return e instanceof ws?e.nativeElement:e}class mg{}let HD=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>GD(),e})();const GD=function(){const e=ge(),n=Gn($t().index,e);return function(e){return e[11]}(jt(n)?n:e)};let d_=(()=>{class e{}return e.\u0275prov=vt({token:e,providedIn:"root",factory:()=>null}),e})();class yC{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const f_=new yC("12.2.1");class CC{constructor(){}supports(t){return bl(t)}create(t){return new QD(t)}}const YD=(e,t)=>t;class QD{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||YD}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,l=0,d=null;for(;n||r;){const p=!r||n&&n.currentIndex<bC(r,l,d)?n:r,m=bC(p,l,d),y=p.currentIndex;if(p===r)l--,r=r._nextRemoved;else if(n=n._next,null==p.previousIndex)l++;else{d||(d=[]);const b=m-l,w=y-l;if(b!=w){for(let x=0;x<b;x++){const L=x<d.length?d[x]:d[x]=0,j=L+x;w<=j&&j<b&&(d[x]=L+1)}d[p.previousIndex]=w-b}}m!==y&&t(p,m,y)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!bl(t))throw new Error(`Error trying to diff '${K(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let l,d,p,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let m=0;m<this.length;m++)d=t[m],p=this._trackByFn(m,d),null!==n&&Object.is(n.trackById,p)?(r&&(n=this._verifyReinsertion(n,d,p,m)),Object.is(n.item,d)||this._addIdentityChange(n,d)):(n=this._mismatch(n,d,p,m),r=!0),n=n._next}else l=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[mu()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,m=>{p=this._trackByFn(l,m),null!==n&&Object.is(n.trackById,p)?(r&&(n=this._verifyReinsertion(n,m,p,l)),Object.is(n.item,m)||this._addIdentityChange(n,m)):(n=this._mismatch(n,m,p,l),r=!0),n=n._next,l++}),this.length=l;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,l){let d;return null===t?d=this._itTail:(d=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,d,l)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,l))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,d,l)):t=this._addAfter(new qD(n,r),d,l),t}_verifyReinsertion(t,n,r,l){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==d?t=this._reinsertAfter(d,t._prev,l):t.currentIndex!=l&&(t.currentIndex=l,this._addToMoves(t,l)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const l=t._prevRemoved,d=t._nextRemoved;return null===l?this._removalsHead=d:l._nextRemoved=d,null===d?this._removalsTail=l:d._prevRemoved=l,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const l=null===n?this._itHead:n._next;return t._next=l,t._prev=n,null===l?this._itTail=t:l._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new EC),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new EC),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class qD{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class KD{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class EC{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new KD,this.map.set(n,r)),r.add(t)}get(t,n){const l=this.map.get(t);return l?l.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function bC(e,t,n){const r=e.previousIndex;if(null===r)return r;let l=0;return n&&r<n.length&&(l=n[r]),r+t+l}class DC{constructor(){}supports(t){return t instanceof Map||ag(t)}create(){return new ZD}}class ZD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||ag(t)))throw new Error(`Error trying to diff '${K(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,l)=>{if(n&&n.key===l)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const d=this._getOrCreateRecordForKey(l,r);n=this._insertBeforeOrAppend(n,d)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const l=this._records.get(t);this._maybeAddToChanges(l,n);const d=l._prev,p=l._next;return d&&(d._next=p),p&&(p._prev=d),l._next=null,l._prev=null,l}const r=new JD(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class JD{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function wC(){return new _g([new CC])}let _g=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(null!=r){const l=r.factories.slice();n=n.concat(l)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||wC()),deps:[[e,new Wr,new Gr]]}}find(n){const r=this.factories.find(l=>l.supports(n));if(null!=r)return r;throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(e){return e.name||typeof e}(n)}'`)}}return e.\u0275prov=vt({token:e,providedIn:"root",factory:wC}),e})();function IC(){return new vg([new DC])}let vg=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(r){const l=r.factories.slice();n=n.concat(l)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||IC()),deps:[[e,new Wr,new Gr]]}}find(n){const r=this.factories.find(l=>l.supports(n));if(r)return r;throw new Error(`Cannot find a differ supporting object '${n}'`)}}return e.\u0275prov=vt({token:e,providedIn:"root",factory:IC}),e})();function yg(e,t,n,r,l=!1){for(;null!==n;){const d=t[n.index];if(null!==d&&r.push(Ot(d)),fr(d))for(let m=10;m<d.length;m++){const y=d[m],b=y[1].firstChild;null!==b&&yg(y[1],y,b,r)}const p=n.type;if(8&p)yg(e,t,n.child,r);else if(32&p){const m=Ao(n,t);let y;for(;y=m();)r.push(y)}else if(16&p){const m=Kn(t,n);if(Array.isArray(m))r.push(...m);else{const y=Yr(t[16]);yg(y[1],y,m,r,!0)}}n=l?n.projectionNext:n.next}return r}class Ih{constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,n=t[1];return yg(n,t,n.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(fr(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(gs(t,r),Pi(n,r))}this._attachedToViewContainer=!1}u(this._lView[1],this._lView)}onDestroy(t){kf(this._lView[1],this._lView,null,t)}markForCheck(){qf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Zf(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,n){ei(!0);try{Zf(e,t,n)}finally{ei(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,ua(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class ew extends Ih{constructor(t){super(t),this._view=t}detectChanges(){Up(this._view)}checkNoChanges(){!function(e){ei(!0);try{Up(e)}finally{ei(!1)}}(this._view)}get context(){return null}}const nw=function(e){return function(e,t,n){if(Fn(e)&&!n){const r=Gn(e.index,t);return new Ih(r,r)}return 47&e.type?new Ih(t[16],t):null}($t(),ge(),16==(16&e))};let rw=(()=>{class e{}return e.__NG_ELEMENT_ID__=nw,e})();const sw=[new DC],uw=new _g([new CC]),lw=new vg(sw),dw=function(){return Cg($t(),ge())};let Ah=(()=>{class e{}return e.__NG_ELEMENT_ID__=dw,e})();const fw=Ah,hw=class extends fw{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(t){const n=this._declarationTContainer.tViews,r=ys(this._declarationLView,n,t,16,null,n.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const d=this._declarationLView[19];return null!==d&&(r[19]=d.createEmbeddedView(n)),gl(n,r,t),new Ih(r)}};function Cg(e,t){return 4&e.type?new hw(t,e,pd(e,t)):null}class Al{}class AC{}const mw=function(){return MC($t(),ge())};let Eg=(()=>{class e{}return e.__NG_ELEMENT_ID__=mw,e})();const vw=Eg,TC=class extends vw{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return pd(this._hostTNode,this._hostLView)}get injector(){return new Jo(this._hostTNode,this._hostLView)}get parentInjector(){const t=Gt(this._hostTNode,this._hostLView);if(Na(t)){const n=Gs(t,this._hostLView),r=uo(t);return new Jo(n[1].data[r+8],n)}return new Jo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=SC(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,n,r){const l=t.createEmbeddedView(n||{});return this.insert(l,r),l}createComponent(t,n,r,l,d){const p=r||this.parentInjector;if(!d&&null==t.ngModule&&p){const y=p.get(Al,null);y&&(d=y)}const m=t.create(p,l,void 0,d);return this.insert(m.hostView,n),m}insert(t,n){const r=t._lView,l=r[1];if(fr(r[3])){const w=this.indexOf(t);if(-1!==w)this.detach(w);else{const S=r[3],x=new TC(S,S[6],S[3]);x.detach(x.indexOf(t))}}const d=this._adjustIndex(n),p=this._lContainer;!function(e,t,n,r){const l=10+r,d=n.length;r>0&&(n[l-1][4]=t),r<d-10?(t[4]=n[l],Ni(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;const p=t[17];null!==p&&n!==p&&function(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(p,t);const m=t[19];null!==m&&m.insertView(e),t[2]|=128}(l,r,p,d);const m=ms(d,p),y=r[11],b=k(y,p[7]);return null!==b&&function(e,t,n,r,l,d){r[0]=l,r[6]=t,ua(e,r,n,1,l,d)}(l,p[6],y,r,b,m),t.attachToViewContainerRef(),Ni(h_(p),d,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=SC(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=gs(this._lContainer,n);r&&(Pi(h_(this._lContainer),n),u(r[1],r))}detach(t){const n=this._adjustIndex(t,-1),r=gs(this._lContainer,n);return r&&null!=Pi(h_(this._lContainer),n)?new Ih(r):null}_adjustIndex(t,n=0){return null==t?this.length+n:t}};function SC(e){return e[8]}function h_(e){return e[8]||(e[8]=[])}function MC(e,t){let n;const r=t[e.index];if(fr(r))n=r;else{let l;if(8&e.type)l=Ot(r);else{const d=t[11];l=d.createComment("");const p=hr(e,t);D(d,k(d,p),l,function(e,t){return Bt(e)?e.nextSibling(t):t.nextSibling}(d,p),!1)}t[e.index]=n=Yf(r,t,l,e),ha(t,n)}return new TC(n,e,t)}const vd={};class qC extends Il{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Mn(t);return new ZC(n,this.ngModule)}}function KC(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const pI=new en("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>au});class ZC extends gC{constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=t.selectors.map(yp).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return KC(this.componentDef.inputs)}get outputs(){return KC(this.componentDef.outputs)}create(t,n,r,l){const d=(l=l||this.ngModule)?function(e,t){return{get:(n,r,l)=>{const d=e.get(n,vd,l);return d!==vd||r===vd?d:t.get(n,r,l)}}}(t,l.injector):t,p=d.get(mg,Ye),m=d.get(d_,null),y=p.createRenderer(null,this.componentDef),b=this.componentDef.selectors[0][0]||"div",w=r?function(e,t,n){if(Bt(e))return e.selectRootElement(t,n===xe.ShadowDom);let r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(y,r,this.componentDef.encapsulation):uu(p.createRenderer(null,this.componentDef),b,function(e){const t=e.toLowerCase();return"svg"===t?St:"math"===t?"http://www.w3.org/1998/MathML/":null}(b)),S=this.componentDef.onPush?576:528,x=function(e,t){return{components:[],scheduler:e||au,clean:wv,playerHandler:t||null,flags:0}}(),L=Sn(0,null,null,1,0,null,null,null,null,null),j=ys(null,L,x,S,null,null,p,y,m,d);let oe,Z;ao(j);try{const Ee=function(e,t,n,r,l,d){const p=n[1];n[20]=e;const y=da(p,20,2,"#host",null),b=y.mergedAttrs=t.hostAttrs;null!==b&&(Xf(y,b,!0),null!==e&&(Ou(l,e,b),null!==y.classes&&Af(l,e,y.classes),null!==y.styles&&hp(l,e,y.styles)));const w=r.createRenderer(e,t),S=ys(n,Pf(t),null,t.onPush?64:16,n[20],y,r,w,d||null,null);return p.firstCreatePass&&(Ws(Ko(y,n),p,t.type),$f(p,y),Wf(y,n.length,1)),ha(n,S),n[20]=S}(w,this.componentDef,j,p,y);if(w)if(r)Ou(y,w,["ng-version",f_.full]);else{const{attrs:fe,classes:Ue}=function(e){const t=[],n=[];let r=1,l=2;for(;r<e.length;){let d=e[r];if("string"==typeof d)2===l?""!==d&&t.push(d,e[++r]):8===l&&n.push(d);else{if(!Qr(l))break;l=d}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);fe&&Ou(y,w,fe),Ue&&Ue.length>0&&Af(y,w,Ue.join(" "))}if(Z=bi(L,20),void 0!==n){const fe=Z.projection=[];for(let Ue=0;Ue<this.ngContentSelectors.length;Ue++){const Ke=n[Ue];fe.push(null!=Ke?Array.from(Ke):null)}}oe=function(e,t,n,r,l){const d=n[1],p=function(e,t,n){const r=$t();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),zf(e,r,t,sr(e,t,1,null),n));const l=Zo(t,e,r.directiveStart,r);an(l,t);const d=hr(r,t);return d&&an(d,t),l}(d,n,t);if(r.components.push(p),e[8]=p,l&&l.forEach(y=>y(p,t)),t.contentQueries){const y=$t();t.contentQueries(1,p,y.directiveStart)}const m=$t();return!d.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Ir(m.index),Bf(n[1],m,0,m.directiveStart,m.directiveEnd,t),Hf(t,p)),p}(Ee,this.componentDef,j,x,[Om]),gl(L,j,null)}finally{ni()}return new _I(this.componentType,oe,pd(Z,j),j,Z)}}class _I extends class{}{constructor(t,n,r,l,d){super(),this.location=r,this._rootLView=l,this._tNode=d,this.instance=n,this.hostView=this.changeDetectorRef=new ew(l),this.componentType=t}get injector(){return new Jo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const yd=new Map;class CI extends Al{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new qC(this);const r=dr(t),l=t[$e]||null;l&&r_(l),this._bootstrapComponents=ir(r.bootstrap),this._r3Injector=ga(t,n,[{provide:Al,useValue:this},{provide:Il,useValue:this.componentFactoryResolver}],K(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,n=Pt.THROW_IF_NOT_FOUND,r=Re.Default){return t===Pt||t===Al||t===Qi?this:this._r3Injector.get(t,n,r)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class A_ extends AC{constructor(t){super(),this.moduleType=t,null!==dr(t)&&function(e){const t=new Set;!function n(r){const l=dr(r,!0),d=l.id;null!==d&&(function(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${K(t)} vs ${K(t.name)}`)}(d,yd.get(d),r),yd.set(d,r));const p=ir(l.imports);for(const m of p)t.has(m)||(t.add(m),n(m))}(e)}(t)}create(t){return new CI(this.moduleType,t)}}function T_(e){return t=>{setTimeout(e,void 0,t)}}const Is=class extends _.xQ{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){var l,d,p;let m=t,y=n||(()=>null),b=r;if(t&&"object"==typeof t){const S=t;m=null===(l=S.next)||void 0===l?void 0:l.bind(S),y=null===(d=S.error)||void 0===d?void 0:d.bind(S),b=null===(p=S.complete)||void 0===p?void 0:p.bind(S)}this.__isAsync&&(y=T_(y),m&&(m=T_(m)),b&&(b=T_(b)));const w=super.subscribe({next:m,error:y,complete:b});return t instanceof ie.w&&t.add(w),w}};function BI(){return this._results[mu()]()}class Ag{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=mu(),r=Ag.prototype;r[n]||(r[n]=BI)}get changes(){return this._changes||(this._changes=new Is)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const l=zn(t);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let l=e[r],d=t[r];if(n&&(l=n(l),d=n(d)),d!==l)return!1}return!0}(r._results,l,n))&&(r._results=l,r.length=l.length,r.last=l[this.length-1],r.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class S_{constructor(t){this.queryList=t,this.matches=null}clone(){return new S_(this.queryList)}setDirty(){this.queryList.setDirty()}}class M_{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,l=[];for(let d=0;d<r;d++){const p=n.getByIndex(d);l.push(this.queries[p.indexInDeclarationView].clone())}return new M_(l)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==fE(t,n).matches&&this.queries[n].setDirty()}}class oE{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class R_{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const l=null!==n?n.length:0,d=this.getByIndex(r).embeddedTView(t,l);d&&(d.indexInDeclarationView=r,null!==n?n.push(d):n=[d])}return null!==n?new R_(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class x_{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new x_(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let l=0;l<r.length;l++){const d=r[l];this.matchTNodeWithReadOption(t,n,HI(n,d)),this.matchTNodeWithReadOption(t,n,Kt(n,t,d,!1,!1))}else r===Ah?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Kt(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const l=this.metadata.read;if(null!==l)if(l===ws||l===Eg||l===Ah&&4&n.type)this.addMatch(n.index,-2);else{const d=Kt(n,t,l,!1,!1);null!==d&&this.addMatch(n.index,d)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function HI(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function GI(e,t,n,r){return-1===n?function(e,t){return 11&e.type?pd(e,t):4&e.type?Cg(e,t):null}(t,e):-2===n?function(e,t,n){return n===ws?pd(t,e):n===Ah?Cg(t,e):n===Eg?MC(t,e):void 0}(e,t,r):Zo(e,e[1],n,t)}function sE(e,t,n,r){const l=t[19].queries[r];if(null===l.matches){const d=e.data,p=n.matches,m=[];for(let y=0;y<p.length;y+=2){const b=p[y];m.push(b<0?null:GI(t,d[b],p[y+1],n.metadata.read))}l.matches=m}return l.matches}function O_(e,t,n,r){const l=e.queries.getByIndex(n),d=l.matches;if(null!==d){const p=sE(e,t,l,n);for(let m=0;m<d.length;m+=2){const y=d[m];if(y>0)r.push(p[m/2]);else{const b=d[m+1],w=t[-y];for(let S=10;S<w.length;S++){const x=w[S];x[17]===x[3]&&O_(x[1],x,b,r)}if(null!==w[9]){const S=w[9];for(let x=0;x<S.length;x++){const L=S[x];O_(L[1],L,b,r)}}}}}return r}function aE(e){const t=ge(),n=pt(),r=Ra();so(r+1);const l=fE(n,r);if(e.dirty&&jl(t)===(2==(2&l.metadata.flags))){if(null===l.matches)e.reset([]);else{const d=l.crossesNgTemplate?O_(n,t,r,[]):sE(n,t,l,r);e.reset(d,vC),e.notifyOnChanges()}return!0}return!1}function uE(e,t,n,r){const l=pt();if(l.firstCreatePass){const d=$t();(function(e,t,n){null===e.queries&&(e.queries=new R_),e.queries.track(new x_(t,n))})(l,new oE(t,n,r),d.index),function(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(l,e),2==(2&n)&&(l.staticContentQueries=!0)}!function(e,t,n){const r=new Ag(4==(4&n));kf(e,t,r,r.destroy),null===t[19]&&(t[19]=new M_),t[19].queries.push(new S_(r))}(l,ge(),n)}function lE(){return e=ge(),t=Ra(),e[19].queries[t].queryList;var e,t}function fE(e,t){return e.queries.getByIndex(t)}const V_=new en("Application Initializer");let Ed=(()=>{class e{constructor(n){this.appInits=n,this.resolve=gg,this.reject=gg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,l)=>{this.resolve=r,this.reject=l})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const d=this.appInits[l]();if(Ym(d))n.push(d);else if(Qm(d)){const p=new Promise((m,y)=>{d.subscribe({complete:m,error:y})});n.push(p)}}Promise.all(n).then(()=>{r()}).catch(l=>{this.reject(l)}),0===n.length&&r(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(Nt(V_,8))},e.\u0275prov=vt({token:e,factory:e.\u0275fac}),e})();const RE=new en("AppId"),bA={provide:RE,useFactory:function(){return`${B_()}${B_()}${B_()}`},deps:[]};function B_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const xE=new en("Platform Initializer"),OE=new en("Platform ID"),NE=new en("appBootstrapListener");let PE=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=vt({token:e,factory:e.\u0275fac}),e})();const Mg=new en("LocaleId"),FE=new en("DefaultCurrencyCode");class wA{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}const U_=function(e){return new A_(e)},IA=U_,AA=function(e){return Promise.resolve(U_(e))},kE=function(e){const t=U_(e),r=ir(dr(e).declarations).reduce((l,d)=>{const p=Mn(d);return p&&l.push(new ZC(p)),l},[]);return new wA(t,r)},TA=kE,SA=function(e){return Promise.resolve(kE(e))};let Vh=(()=>{class e{constructor(){this.compileModuleSync=IA,this.compileModuleAsync=AA,this.compileModuleAndAllComponentsSync=TA,this.compileModuleAndAllComponentsAsync=SA}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=vt({token:e,factory:e.\u0275fac}),e})();const xA=(()=>Promise.resolve(0))();function j_(e){"undefined"==typeof Zone?xA.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class _i{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Is(!1),this.onMicrotaskEmpty=new Is(!1),this.onStable=new Is(!1),this.onError=new Is(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!r&&n,l.shouldCoalesceRunChangeDetection=r,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function(){let e=At.requestAnimationFrame,t=At.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(At,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,$_(e),e.isCheckStableRunning=!0,H_(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),$_(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,l,d,p,m)=>{try{return LE(e),n.invokeTask(l,d,p,m)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||e.shouldCoalesceRunChangeDetection)&&t(),VE(e)}},onInvoke:(n,r,l,d,p,m,y)=>{try{return LE(e),n.invoke(l,d,p,m,y)}finally{e.shouldCoalesceRunChangeDetection&&t(),VE(e)}},onHasTask:(n,r,l,d)=>{n.hasTask(l,d),r===l&&("microTask"==d.change?(e._hasPendingMicrotasks=d.microTask,$_(e),H_(e)):"macroTask"==d.change&&(e.hasPendingMacrotasks=d.macroTask))},onHandleError:(n,r,l,d)=>(n.handleError(l,d),e.runOutsideAngular(()=>e.onError.emit(d)),!1)})}(l)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!_i.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(_i.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,l){const d=this._inner,p=d.scheduleEventTask("NgZoneEvent: "+l,t,NA,gg,gg);try{return d.runTask(p,n,r)}finally{d.cancelTask(p)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const NA={};function H_(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function $_(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function LE(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function VE(e){e._nesting--,H_(e)}class kA{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Is,this.onMicrotaskEmpty=new Is,this.onStable=new Is,this.onError=new Is}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,l){return t.apply(n,r)}}let BE=(()=>{class e{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_i.assertNotInAngularZone(),j_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())j_(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,l){let d=-1;r&&r>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(p=>p.timeoutId!==d),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:d,updateCb:l})}whenStable(n,r,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,r,l){return[]}}return e.\u0275fac=function(n){return new(n||e)(Nt(_i))},e.\u0275prov=vt({token:e,factory:e.\u0275fac}),e})(),UE=(()=>{class e{constructor(){this._applications=new Map,G_.addToWindow(this)}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return G_.findTestabilityInTree(this,n,r)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=vt({token:e,factory:e.\u0275fac}),e})();class LA{addToWindow(t){}findTestabilityInTree(t,n,r){return null}}function VA(e){G_=e}let G_=new LA,jE=!0,HE=!1;function W_(){return HE=!0,jE}function BA(){if(HE)throw new Error("Cannot enable prod mode after platform setup.");jE=!1}let Vo;const $E=new en("AllowMultipleToken");class zA{constructor(t,n){this.name=t,this.token=n}}function GE(e,t,n=[]){const r=`Platform: ${t}`,l=new en(r);return(d=[])=>{let p=WE();if(!p||p.injector.get($E,!1))if(e)e(n.concat(d).concat({provide:l,useValue:!0}));else{const m=n.concat(d).concat({provide:l,useValue:!0},{provide:pa,useValue:"platform"});!function(e){if(Vo&&!Vo.destroyed&&!Vo.injector.get($E,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Vo=e.get(zE);const t=e.get(xE,null);t&&t.forEach(n=>n())}(Pt.create({providers:m,name:r}))}return function(e){const t=WE();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(l)}}function WE(){return Vo&&!Vo.destroyed?Vo:null}let zE=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const m=function(e,t){let n;return n="noop"===e?new kA:("zone.js"===e?void 0:e)||new _i({enableLongStackTrace:W_(),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),n}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),y=[{provide:_i,useValue:m}];return m.run(()=>{const b=Pt.create({providers:y,parent:this.injector,name:n.moduleType.name}),w=n.create(b),S=w.injector.get($i,null);if(!S)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return m.runOutsideAngular(()=>{const x=m.onError.subscribe({next:L=>{S.handleError(L)}});w.onDestroy(()=>{z_(this._modules,w),x.unsubscribe()})}),function(e,t,n){try{const r=n();return Ym(r)?r.catch(l=>{throw t.runOutsideAngular(()=>e.handleError(l)),l}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(S,m,()=>{const x=w.injector.get(Ed);return x.runInitializers(),x.donePromise.then(()=>(r_(w.injector.get(Mg,cg)||cg),this._moduleDoBootstrap(w),w))})})}bootstrapModule(n,r=[]){const l=YE({},r);return function(e,t,n){const r=new A_(n);return Promise.resolve(r)}(0,0,n).then(d=>this.bootstrapModuleFactory(d,l))}_moduleDoBootstrap(n){const r=n.injector.get(Bh);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(l=>r.bootstrap(l));else{if(!n.instance.ngDoBootstrap)throw new Error(`The module ${K(n.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(Nt(Pt))},e.\u0275prov=vt({token:e,factory:e.\u0275fac}),e})();function YE(e,t){return Array.isArray(t)?t.reduce(YE,e):Object.assign(Object.assign({},e),t)}let Bh=(()=>{class e{constructor(n,r,l,d,p){this._zone=n,this._injector=r,this._exceptionHandler=l,this._componentFactoryResolver=d,this._initStatus=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new A.y(b=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{b.next(this._stable),b.complete()})}),y=new A.y(b=>{let w;this._zone.runOutsideAngular(()=>{w=this._zone.onStable.subscribe(()=>{_i.assertNotInAngularZone(),j_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,b.next(!0))})})});const S=this._zone.onUnstable.subscribe(()=>{_i.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{b.next(!1)}))});return()=>{w.unsubscribe(),S.unsubscribe()}});this.isStable=(0,W.T)(m,y.pipe((0,ue.B)()))}bootstrap(n,r){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let l;l=n instanceof gC?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(l.componentType);const d=function(e){return e.isBoundToModule}(l)?void 0:this._injector.get(Al),m=l.create(Pt.NULL,[],r||l.selector,d),y=m.location.nativeElement,b=m.injector.get(BE,null),w=b&&m.injector.get(UE);return b&&w&&w.registerApplication(y,b),m.onDestroy(()=>{this.detachView(m.hostView),z_(this.components,m),w&&w.unregisterApplication(y)}),this._loadComponent(m),m}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;z_(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(NE,[]).concat(this._bootstrapListeners).forEach(l=>l(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(n){return new(n||e)(Nt(_i),Nt(Pt),Nt($i),Nt(Il),Nt(Ed))},e.\u0275prov=vt({token:e,factory:e.\u0275fac}),e})();function z_(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class JA{}class eT{}const tT={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let nT=(()=>{class e{constructor(n,r){this._compiler=n,this._config=r||tT}load(n){return this.loadAndCompile(n)}loadAndCompile(n){let[r,l]=n.split("#");return void 0===l&&(l="default"),F(8255)(r).then(d=>d[l]).then(d=>ZE(d,r,l)).then(d=>this._compiler.compileModuleAsync(d))}loadFactory(n){let[r,l]=n.split("#"),d="NgFactory";return void 0===l&&(l="default",d=""),F(8255)(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then(p=>p[l+d]).then(p=>ZE(p,r,l))}}return e.\u0275fac=function(n){return new(n||e)(Nt(Vh),Nt(eT,8))},e.\u0275prov=vt({token:e,factory:e.\u0275fac}),e})();function ZE(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}const cT=function(e){return null},fT=GE(null,"core",[{provide:OE,useValue:"unknown"},{provide:zE,deps:[Pt]},{provide:UE,deps:[]},{provide:PE,deps:[]}]),_T=[{provide:Bh,useClass:Bh,deps:[_i,Pt,$i,Il,Ed]},{provide:pI,deps:[_i],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(n){t.push(n)}}},{provide:Ed,useClass:Ed,deps:[[new Gr,V_]]},{provide:Vh,useClass:Vh,deps:[]},bA,{provide:_g,useFactory:function(){return uw},deps:[]},{provide:vg,useFactory:function(){return lw},deps:[]},{provide:Mg,useFactory:function(e){return r_(e=e||"undefined"!=typeof $localize&&$localize.locale||cg),e},deps:[[new vo(Mg),new Gr,new Wr]]},{provide:FE,useValue:"USD"}];let yT=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(Nt(Bh))},e.\u0275mod=Eu({type:e}),e.\u0275inj=zt({providers:_T}),e})()},57:(Ne,me,F)=>{"use strict";F.d(me,{hO:()=>It,xv:()=>Ae,Dh:()=>ce,HU:()=>H,GT:()=>se,sI:()=>Mt,on:()=>Te,ss:()=>N,pX:()=>Q,yq:()=>ze});var _=F(7771),ie=F(3637),A=F(3342),W=F(3101),ue=F(309),Y=F(7716),de=F(2329);function K(){}Ne=F.hmd(Ne);class z{constructor(ne,re=_.N){this.zone=ne,this.delegate=re}now(){return this.delegate.now()}schedule(ne,re,X){const pe=this.zone;return this.delegate.schedule(function(je){pe.runGuarded(()=>{ne.apply(this,[je])})},re,X)}}class P{constructor(ne){this.zone=ne,this.task=null}call(ne,re){const X=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",K,{},K,K)),re.pipe((0,A.b)({next:X,complete:X,error:X})).subscribe(ne).add(X)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class H{constructor(ne){this.ngZone=ne,this.outsideAngular=ne.runOutsideAngular(()=>new z(Zone.current)),this.insideAngular=ne.run(()=>new z(Zone.current,ie.z))}}function N(ee){return function(re){return(re=re.lift(new P(ee.ngZone))).pipe((0,W.R)(ee.outsideAngular),(0,ue.QV)(ee.insideAngular))}}const U=["ngOnDestroy"],Q=(ee,ne,re,X={})=>new Proxy(ee,{get:(pe,te)=>re.runOutsideAngular(()=>{var je;if(ee[te])return(null===(je=null==X?void 0:X.spy)||void 0===je?void 0:je.get)&&X.spy.get(te,ee[te]),ee[te];if(U.indexOf(te)>-1)return()=>{};const He=ne.toPromise().then(Rt=>{const Ve=Rt&&Rt[te];return"function"==typeof Ve?Ve.bind(Rt):Ve&&Ve.then?Ve.then(Fe=>re.run(()=>Fe)):re.run(()=>Ve)});return new Proxy(()=>{},{get:(Rt,Ve)=>He[Ve],apply:(Rt,Ve,Fe)=>He.then(Me=>{var Oe;const tt=Me&&Me(...Fe);return(null===(Oe=null==X?void 0:X.spy)||void 0===Oe?void 0:Oe.apply)&&X.spy.apply(te,Fe,tt),tt})})})}),se=(ee,ne)=>{ne.forEach(re=>{Object.getOwnPropertyNames(re.prototype||re).forEach(X=>{Object.defineProperty(ee.prototype,X,Object.getOwnPropertyDescriptor(re.prototype||re,X))})})},ce=new Y.OlP("angularfire2.app.options"),Ae=new Y.OlP("angularfire2.app.nameOrConfig"),Ce=new Y.GfV("6.1.5");function Te(ee,ne,re){const pe="object"==typeof re&&re||{};pe.name=pe.name||"string"==typeof re&&re||"[DEFAULT]";const je=de.Z.apps.filter(He=>He&&He.name===pe.name)[0]||ne.runOutsideAngular(()=>de.Z.initializeApp(ee,pe));try{JSON.stringify(ee)!==JSON.stringify(je.options)&&De("error",`${je.name} Firebase App already initialized with different options${Ne.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(He){}return je}const ze=()=>{De("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},De=(ee,...ne)=>{(0,Y.X6Q)()&&"undefined"!=typeof console&&console[ee](...ne)};function Mt(ee,ne,re,X,pe){const[te,...je]=globalThis.\u0275AngularfireInstanceCache.get(ee)||[];if(te){try{pe.some((He,Rt)=>{const Ve=je[Rt];return He&&"object"==typeof He?JSON.stringify(He)!==JSON.stringify(Ve):He!==Ve})&&De("error",`${ne} was already initialized on the ${re.name} Firebase App instance with different settings.${Ne.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(He){}return te}{const He=X();return globalThis.\u0275AngularfireInstanceCache.set(ee,[He,...pe]),He}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const yt={provide:class{},useFactory:Te,deps:[ce,Y.R0b,[new Y.FiY,Ae]]};let It=(()=>{class ee{constructor(re){de.Z.registerVersion("angularfire",Ce.full,re.toString()),de.Z.registerVersion("angular",Y.q4F.full)}static initializeApp(re,X){return{ngModule:ee,providers:[{provide:ce,useValue:re},{provide:Ae,useValue:X}]}}}return ee.\u0275fac=function(re){return new(re||ee)(Y.LFG(Y.Lbi))},ee.\u0275mod=Y.oAB({type:ee}),ee.\u0275inj=Y.cJS({providers:[yt]}),ee})()},9759:(Ne,me,F)=>{"use strict";F.d(me,{Z:()=>Fe});var ue,De,_=F(4762),ie=F(4685),A=F(6034),W=F(300),Y=((ue={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",ue["bad-app-name"]="Illegal App name: '{$appName}",ue["duplicate-app"]="Firebase App named '{$appName}' already exists",ue["app-deleted"]="Firebase App named '{$appName}' already deleted",ue["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",ue["invalid-log-argument"]="First argument to `onLog` must be null or a function.",ue),de=new ie.LL("app","Firebase",Y),K="@firebase/app",Et="[DEFAULT]",Mt=((De={})[K]="fire-core",De["@firebase/analytics"]="fire-analytics",De["@firebase/app-check"]="fire-app-check",De["@firebase/auth"]="fire-auth",De["@firebase/database"]="fire-rtdb",De["@firebase/functions"]="fire-fn",De["@firebase/installations"]="fire-iid",De["@firebase/messaging"]="fire-fcm",De["@firebase/performance"]="fire-perf",De["@firebase/remote-config"]="fire-rc",De["@firebase/storage"]="fire-gcs",De["@firebase/firestore"]="fire-fst",De["fire-js"]="fire-js",De["firebase-wrapper"]="fire-js-all",De),yt=new W.Yd("@firebase/app"),It=function(){function Me(Oe,tt,xt){var vt=this;this.firebase_=xt,this.isDeleted_=!1,this.name_=tt.name,this.automaticDataCollectionEnabled_=tt.automaticDataCollectionEnabled||!1,this.options_=(0,ie.p$)(Oe),this.container=new A.H0(tt.name),this._addComponent(new A.wA("app",function(){return vt},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(ar){return vt._addComponent(ar)})}return Object.defineProperty(Me.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(Oe){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=Oe},enumerable:!1,configurable:!0}),Object.defineProperty(Me.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(Me.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),Me.prototype.delete=function(){var Oe=this;return new Promise(function(tt){Oe.checkDestroyed_(),tt()}).then(function(){return Oe.firebase_.INTERNAL.removeApp(Oe.name_),Promise.all(Oe.container.getProviders().map(function(tt){return tt.delete()}))}).then(function(){Oe.isDeleted_=!0})},Me.prototype._getService=function(Oe,tt){var xt;void 0===tt&&(tt=Et),this.checkDestroyed_();var vt=this.container.getProvider(Oe);return!vt.isInitialized()&&"EXPLICIT"===(null===(xt=vt.getComponent())||void 0===xt?void 0:xt.instantiationMode)&&vt.initialize(),vt.getImmediate({identifier:tt})},Me.prototype._removeServiceInstance=function(Oe,tt){void 0===tt&&(tt=Et),this.container.getProvider(Oe).clearInstance(tt)},Me.prototype._addComponent=function(Oe){try{this.container.addComponent(Oe)}catch(tt){yt.debug("Component "+Oe.name+" failed to register with FirebaseApp "+this.name,tt)}},Me.prototype._addOrOverwriteComponent=function(Oe){this.container.addOrOverwriteComponent(Oe)},Me.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},Me.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw de.create("app-deleted",{appName:this.name_})},Me}();It.prototype.name&&It.prototype.options||It.prototype.delete||console.log("dc");var X=function re(){var Me=function(Me){var Oe={},tt=new Map,xt={__esModule:!0,initializeApp:function(mt,it){void 0===it&&(it={}),("object"!=typeof it||null===it)&&(it={name:it});var bn=it;void 0===bn.name&&(bn.name=Et);var Re=bn.name;if("string"!=typeof Re||!Re)throw de.create("bad-app-name",{appName:String(Re)});if((0,ie.r3)(Oe,Re))throw de.create("duplicate-app",{appName:Re});var Ft=new Me(mt,bn,xt);return Oe[Re]=Ft,Ft},app:ar,registerVersion:function(mt,it,En){var bn,Re=null!==(bn=Mt[mt])&&void 0!==bn?bn:mt;En&&(Re+="-"+En);var Ft=Re.match(/\s|\//),on=it.match(/\s|\//);if(Ft||on){var Xt=['Unable to register library "'+Re+'" with version "'+it+'":'];return Ft&&Xt.push('library name "'+Re+'" contains illegal characters (whitespace or "/")'),Ft&&on&&Xt.push("and"),on&&Xt.push('version name "'+it+'" contains illegal characters (whitespace or "/")'),void yt.warn(Xt.join(" "))}br(new A.wA(Re+"-version",function(){return{library:Re,version:it}},"VERSION"))},setLogLevel:W.Ub,onLog:function(mt,it){if(null!==mt&&"function"!=typeof mt)throw de.create("invalid-log-argument");(0,W.Am)(mt,it)},apps:null,SDK_VERSION:"8.8.1",INTERNAL:{registerComponent:br,removeApp:function(mt){delete Oe[mt]},components:tt,useAsService:function(mt,it){return"serverAuth"===it?null:it}}};function ar(mt){if(!(0,ie.r3)(Oe,mt=mt||Et))throw de.create("no-app",{appName:mt});return Oe[mt]}function br(mt){var it=mt.name;if(tt.has(it))return yt.debug("There were multiple attempts to register component "+it+"."),"PUBLIC"===mt.type?xt[it]:null;if(tt.set(it,mt),"PUBLIC"===mt.type){var En=function(on){if(void 0===on&&(on=ar()),"function"!=typeof on[it])throw de.create("invalid-app-argument",{appName:it});return on[it]()};void 0!==mt.serviceProps&&(0,ie.ZB)(En,mt.serviceProps),xt[it]=En,Me.prototype[it]=function(){for(var on=[],Xt=0;Xt<arguments.length;Xt++)on[Xt]=arguments[Xt];return this._getService.bind(this,it).apply(this,mt.multipleInstances?on:[])}}for(var bn=0,Re=Object.keys(Oe);bn<Re.length;bn++)Oe[Re[bn]]._addComponent(mt);return"PUBLIC"===mt.type?xt[it]:null}return xt.default=xt,Object.defineProperty(xt,"apps",{get:function(){return Object.keys(Oe).map(function(mt){return Oe[mt]})}}),ar.App=Me,xt}(It);return Me.INTERNAL=(0,_.pi)((0,_.pi)({},Me.INTERNAL),{createFirebaseNamespace:re,extendNamespace:function(tt){(0,ie.ZB)(Me,tt)},createSubscribe:ie.ne,ErrorFactory:ie.LL,deepExtend:ie.ZB}),Me}(),pe=function(){function Me(Oe){this.container=Oe}return Me.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(tt){if(function(Me){var Oe=Me.getComponent();return"VERSION"===(null==Oe?void 0:Oe.type)}(tt)){var xt=tt.getImmediate();return xt.library+"/"+xt.version}return null}).filter(function(tt){return tt}).join(" ")},Me}();if((0,ie.jU)()&&void 0!==self.firebase){yt.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var He=self.firebase.SDK_VERSION;He&&He.indexOf("LITE")>=0&&yt.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Rt=X.initializeApp;X.initializeApp=function(){for(var Me=[],Oe=0;Oe<arguments.length;Oe++)Me[Oe]=arguments[Oe];return(0,ie.UG)()&&yt.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),Rt.apply(void 0,Me)};var Me,Ve=X;(Me=Ve).INTERNAL.registerComponent(new A.wA("platform-logger",function(tt){return new pe(tt)},"PRIVATE")),Me.registerVersion(K,"0.6.29",undefined),Me.registerVersion("fire-js","");const Fe=Ve},6034:(Ne,me,F)=>{"use strict";F.d(me,{wA:()=>A,H0:()=>K,zt:()=>ue});var _=F(4762),ie=F(4685),A=function(){function z(P,H,N){this.name=P,this.instanceFactory=H,this.type=N,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return z.prototype.setInstantiationMode=function(P){return this.instantiationMode=P,this},z.prototype.setMultipleInstances=function(P){return this.multipleInstances=P,this},z.prototype.setServiceProps=function(P){return this.serviceProps=P,this},z.prototype.setInstanceCreatedCallback=function(P){return this.onInstanceCreated=P,this},z}(),W="[DEFAULT]",ue=function(){function z(P,H){this.name=P,this.container=H,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return z.prototype.get=function(P){var H=this.normalizeInstanceIdentifier(P);if(!this.instancesDeferred.has(H)){var N=new ie.BH;if(this.instancesDeferred.set(H,N),this.isInitialized(H)||this.shouldAutoInitialize())try{var U=this.getOrInitializeService({instanceIdentifier:H});U&&N.resolve(U)}catch(Q){}}return this.instancesDeferred.get(H).promise},z.prototype.getImmediate=function(P){var H,N=this.normalizeInstanceIdentifier(null==P?void 0:P.identifier),U=null!==(H=null==P?void 0:P.optional)&&void 0!==H&&H;if(!this.isInitialized(N)&&!this.shouldAutoInitialize()){if(U)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:N})}catch(Q){if(U)return null;throw Q}},z.prototype.getComponent=function(){return this.component},z.prototype.setComponent=function(P){var H,N;if(P.name!==this.name)throw Error("Mismatching Component "+P.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=P,this.shouldAutoInitialize()){if(function(z){return"EAGER"===z.instantiationMode}(P))try{this.getOrInitializeService({instanceIdentifier:W})}catch(Te){}try{for(var U=(0,_.XA)(this.instancesDeferred.entries()),Q=U.next();!Q.done;Q=U.next()){var se=(0,_.CR)(Q.value,2),Ae=se[1],ve=this.normalizeInstanceIdentifier(se[0]);try{var Ce=this.getOrInitializeService({instanceIdentifier:ve});Ae.resolve(Ce)}catch(Te){}}}catch(Te){H={error:Te}}finally{try{Q&&!Q.done&&(N=U.return)&&N.call(U)}finally{if(H)throw H.error}}}},z.prototype.clearInstance=function(P){void 0===P&&(P=W),this.instancesDeferred.delete(P),this.instances.delete(P)},z.prototype.delete=function(){return(0,_.mG)(this,void 0,void 0,function(){var P;return(0,_.Jh)(this,function(H){switch(H.label){case 0:return P=Array.from(this.instances.values()),[4,Promise.all((0,_.ev)((0,_.ev)([],(0,_.CR)(P.filter(function(N){return"INTERNAL"in N}).map(function(N){return N.INTERNAL.delete()}))),(0,_.CR)(P.filter(function(N){return"_delete"in N}).map(function(N){return N._delete()}))))];case 1:return H.sent(),[2]}})})},z.prototype.isComponentSet=function(){return null!=this.component},z.prototype.isInitialized=function(P){return void 0===P&&(P=W),this.instances.has(P)},z.prototype.initialize=function(P){var H,N;void 0===P&&(P={});var U=P.options,Q=void 0===U?{}:U,se=this.normalizeInstanceIdentifier(P.instanceIdentifier);if(this.isInitialized(se))throw Error(this.name+"("+se+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var ce=this.getOrInitializeService({instanceIdentifier:se,options:Q});try{for(var Ae=(0,_.XA)(this.instancesDeferred.entries()),ve=Ae.next();!ve.done;ve=Ae.next()){var Ce=(0,_.CR)(ve.value,2),ze=Ce[1];se===this.normalizeInstanceIdentifier(Ce[0])&&ze.resolve(ce)}}catch(Et){H={error:Et}}finally{try{ve&&!ve.done&&(N=Ae.return)&&N.call(Ae)}finally{if(H)throw H.error}}return ce},z.prototype.onInit=function(P,H){var N,U=this.normalizeInstanceIdentifier(H),Q=null!==(N=this.onInitCallbacks.get(U))&&void 0!==N?N:new Set;Q.add(P),this.onInitCallbacks.set(U,Q);var se=this.instances.get(U);return se&&P(se,U),function(){Q.delete(P)}},z.prototype.invokeOnInitCallbacks=function(P,H){var N,U,Q=this.onInitCallbacks.get(H);if(Q)try{for(var se=(0,_.XA)(Q),ce=se.next();!ce.done;ce=se.next()){var Ae=ce.value;try{Ae(P,H)}catch(ve){}}}catch(ve){N={error:ve}}finally{try{ce&&!ce.done&&(U=se.return)&&U.call(se)}finally{if(N)throw N.error}}},z.prototype.getOrInitializeService=function(P){var H=P.instanceIdentifier,N=P.options,U=void 0===N?{}:N,Q=this.instances.get(H);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:Y(H),options:U}),this.instances.set(H,Q),this.invokeOnInitCallbacks(Q,H),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,H,Q)}catch(se){}return Q||null},z.prototype.normalizeInstanceIdentifier=function(P){return void 0===P&&(P=W),this.component?this.component.multipleInstances?P:W:P},z.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},z}();function Y(z){return z===W?void 0:z}var K=function(){function z(P){this.name=P,this.providers=new Map}return z.prototype.addComponent=function(P){var H=this.getProvider(P.name);if(H.isComponentSet())throw new Error("Component "+P.name+" has already been registered with "+this.name);H.setComponent(P)},z.prototype.addOrOverwriteComponent=function(P){this.getProvider(P.name).isComponentSet()&&this.providers.delete(P.name),this.addComponent(P)},z.prototype.getProvider=function(P){if(this.providers.has(P))return this.providers.get(P);var H=new ue(P,this);return this.providers.set(P,H),H},z.prototype.getProviders=function(){return Array.from(this.providers.values())},z}()},9192:(Ne,me,F)=>{"use strict";var _=F(9759),ie=F(6034),A=F(4685),W=F(4762),ue=F(300);Ne=F.hmd(Ne);var K="";function z(u){K=u}var u,P=function(){function u(a){this.domStorage_=a,this.prefix_="firebase:"}return u.prototype.set=function(a,c){null==c?this.domStorage_.removeItem(this.prefixedName_(a)):this.domStorage_.setItem(this.prefixedName_(a),(0,A.Pz)(c))},u.prototype.get=function(a){var c=this.domStorage_.getItem(this.prefixedName_(a));return null==c?null:(0,A.cI)(c)},u.prototype.remove=function(a){this.domStorage_.removeItem(this.prefixedName_(a))},u.prototype.prefixedName_=function(a){return this.prefix_+a},u.prototype.toString=function(){return this.domStorage_.toString()},u}(),H=function(){function u(){this.cache_={},this.isInMemoryStorage=!0}return u.prototype.set=function(a,c){null==c?delete this.cache_[a]:this.cache_[a]=c},u.prototype.get=function(a){return(0,A.r3)(this.cache_,a)?this.cache_[a]:null},u.prototype.remove=function(a){delete this.cache_[a]},u}(),N=function(u){try{if("undefined"!=typeof window&&void 0!==window[u]){var a=window[u];return a.setItem("firebase:sentinel","cache"),a.removeItem("firebase:sentinel"),new P(a)}}catch(c){}return new H},U=N("localStorage"),Q=N("sessionStorage"),se=new ue.Yd("@firebase/database"),ce=(u=1,function(){return u++}),Ae=function(u){var a=(0,A.dS)(u),c=new A.gQ;c.update(a);var h=c.digest();return A.US.encodeByteArray(h)},ve=function(){for(var u=[],a=0;a<arguments.length;a++)u[a]=arguments[a];for(var c="",h=0;h<u.length;h++){var v=u[h];Array.isArray(v)||v&&"object"==typeof v&&"number"==typeof v.length?c+=ve.apply(null,v):c+="object"==typeof v?(0,A.Pz)(v):v,c+=" "}return c},Ce=null,Te=!0,ze=function(u,a){(0,A.hu)(!a||!0===u||!1===u,"Can't turn on custom loggers persistently."),!0===u?(se.logLevel=ue.in.VERBOSE,Ce=se.log.bind(se),a&&Q.set("logging_enabled",!0)):"function"==typeof u?Ce=u:(Ce=null,Q.remove("logging_enabled"))},De=function(){for(var u=[],a=0;a<arguments.length;a++)u[a]=arguments[a];if(!0===Te&&(Te=!1,null===Ce&&!0===Q.get("logging_enabled")&&ze(!0)),Ce){var c=ve.apply(null,u);Ce(c)}},Et=function(u){return function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];De.apply(void 0,(0,W.ev)([u],(0,W.CR)(a)))}},Mt=function(){for(var u=[],a=0;a<arguments.length;a++)u[a]=arguments[a];var c="FIREBASE INTERNAL ERROR: "+ve.apply(void 0,(0,W.ev)([],(0,W.CR)(u)));se.error(c)},yt=function(){for(var u=[],a=0;a<arguments.length;a++)u[a]=arguments[a];var c="FIREBASE FATAL ERROR: "+ve.apply(void 0,(0,W.ev)([],(0,W.CR)(u)));throw se.error(c),new Error(c)},It=function(){for(var u=[],a=0;a<arguments.length;a++)u[a]=arguments[a];var c="FIREBASE WARNING: "+ve.apply(void 0,(0,W.ev)([],(0,W.CR)(u)));se.warn(c)},ne=function(u){return"number"==typeof u&&(u!=u||u===Number.POSITIVE_INFINITY||u===Number.NEGATIVE_INFINITY)},X="[MIN_NAME]",pe="[MAX_NAME]",te=function(u,a){if(u===a)return 0;if(u===X||a===pe)return-1;if(a===X||u===pe)return 1;var c=vn(u),h=vn(a);return null!==c?null!==h?c-h==0?u.length-a.length:c-h:-1:null!==h?1:u<a?-1:1},je=function(u,a){return u===a?0:u<a?-1:1},He=function(u,a){if(a&&u in a)return a[u];throw new Error("Missing required key ("+u+") in object: "+(0,A.Pz)(a))},Rt=function(u){if("object"!=typeof u||null===u)return(0,A.Pz)(u);var a=[];for(var c in u)a.push(c);a.sort();for(var h="{",v=0;v<a.length;v++)0!==v&&(h+=","),h+=(0,A.Pz)(a[v]),h+=":",h+=Rt(u[a[v]]);return h+"}"},Ve=function(u,a){var c=u.length;if(c<=a)return[u];for(var h=[],v=0;v<c;v+=a)h.push(u.substring(v,v+a>c?c:v+a));return h};function Fe(u,a){for(var c in u)u.hasOwnProperty(c)&&a(c,u[c])}var Me=function(u){(0,A.hu)(!ne(u),"Invalid JSON number");var v,E,D,T,R,h=1023;0===u?(E=0,D=0,v=1/u==-1/0?1:0):(v=u<0,(u=Math.abs(u))>=Math.pow(2,1-h)?(E=(T=Math.min(Math.floor(Math.log(u)/Math.LN2),h))+h,D=Math.round(u*Math.pow(2,52-T)-Math.pow(2,52))):(E=0,D=Math.round(u/Math.pow(2,-1074))));var O=[];for(R=52;R;R-=1)O.push(D%2?1:0),D=Math.floor(D/2);for(R=11;R;R-=1)O.push(E%2?1:0),E=Math.floor(E/2);O.push(v?1:0),O.reverse();var k=O.join(""),J="";for(R=0;R<64;R+=8){var le=parseInt(k.substr(R,8),2).toString(16);1===le.length&&(le="0"+le),J+=le}return J.toLowerCase()},vt=new RegExp("^-?(0*)\\d{1,10}$"),ar=-2147483648,zt=2147483647,vn=function(u){if(vt.test(u)){var a=Number(u);if(a>=ar&&a<=zt)return a}return null},br=function(u){try{u()}catch(a){setTimeout(function(){throw It("Exception was thrown by user callback.",a.stack||""),a},Math.floor(0))}},vi=function(u,a){var c=setTimeout(u,a);return"object"==typeof c&&c.unref&&c.unref(),c},Ts=function(){function u(a,c){var h=this;this.appName_=a,this.appCheckProvider=c,this.appCheck=null==c?void 0:c.getImmediate({optional:!0}),this.appCheck||null==c||c.get().then(function(v){return h.appCheck=v})}return u.prototype.getToken=function(a){var c=this;return this.appCheck?this.appCheck.getToken(a):new Promise(function(h,v){setTimeout(function(){c.appCheck?c.getToken(a).then(h,v):h(null)},0)})},u.prototype.addTokenChangeListener=function(a){var c;null===(c=this.appCheckProvider)||void 0===c||c.get().then(function(h){return h.addTokenListener(a)})},u.prototype.notifyForInvalidToken=function(){It('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},u}(),mt=function(){function u(a,c,h){var v=this;this.appName_=a,this.firebaseOptions_=c,this.authProvider_=h,this.auth_=null,this.auth_=h.getImmediate({optional:!0}),this.auth_||h.onInit(function(E){return v.auth_=E})}return u.prototype.getToken=function(a){var c=this;return this.auth_?this.auth_.getToken(a).catch(function(h){return h&&"auth/token-not-initialized"===h.code?(De("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(h)}):new Promise(function(h,v){setTimeout(function(){c.auth_?c.getToken(a).then(h,v):h(null)},0)})},u.prototype.addTokenChangeListener=function(a){this.auth_?this.auth_.addAuthTokenListener(a):this.authProvider_.get().then(function(c){return c.addAuthTokenListener(a)})},u.prototype.removeTokenChangeListener=function(a){this.authProvider_.get().then(function(c){return c.removeAuthTokenListener(a)})},u.prototype.notifyForInvalidToken=function(){var a='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';It(a+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},u}(),it=function(){function u(a){this.accessToken=a}return u.prototype.getToken=function(a){return Promise.resolve({accessToken:this.accessToken})},u.prototype.addTokenChangeListener=function(a){a(this.accessToken)},u.prototype.removeTokenChangeListener=function(a){},u.prototype.notifyForInvalidToken=function(){},u.OWNER="owner",u}(),Xt=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ln="websocket",yu="long_polling",Yt=function(){function u(a,c,h,v,E,D,T){void 0===E&&(E=!1),void 0===D&&(D=""),void 0===T&&(T=!1),this.secure=c,this.namespace=h,this.webSocketOnly=v,this.nodeAdmin=E,this.persistenceKey=D,this.includeNamespaceInQueryParams=T,this._host=a.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=U.get("host:"+a)||this._host}return u.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},u.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(u.prototype,"host",{get:function(){return this._host},set:function(a){a!==this.internalHost&&(this.internalHost=a,this.isCacheableHost()&&U.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),u.prototype.toString=function(){var a=this.toURLString();return this.persistenceKey&&(a+="<"+this.persistenceKey+">"),a},u.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host+"/"+(this.includeNamespaceInQueryParams?"?ns="+this.namespace:"")},u}();function Ze(u,a,c){var h;if((0,A.hu)("string"==typeof a,"typeof type must == string"),(0,A.hu)("object"==typeof c,"typeof params must == object"),a===ln)h=(u.secure?"wss://":"ws://")+u.internalHost+"/.ws?";else{if(a!==yu)throw new Error("Unknown connection type: "+a);h=(u.secure?"https://":"http://")+u.internalHost+"/.lp?"}(function(u){return u.host!==u.internalHost||u.isCustomHost()||u.includeNamespaceInQueryParams})(u)&&(c.ns=u.namespace);var v=[];return Fe(c,function(E,D){v.push(E+"="+D)}),h+v.join("&")}var Cu=function(){function u(){this.counters_={}}return u.prototype.incrementCounter=function(a,c){void 0===c&&(c=1),(0,A.r3)(this.counters_,a)||(this.counters_[a]=0),this.counters_[a]+=c},u.prototype.get=function(){return(0,A.p$)(this.counters_)},u}(),yi={},lr={};function At(u){var a=u.toString();return yi[a]||(yi[a]=new Cu),yi[a]}var xl=function(){function u(a){this.onMessage_=a,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return u.prototype.closeAfter=function(a,c){this.closeAfterResponse=a,this.onClose=c,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},u.prototype.handleResponse=function(a,c){var h=this;this.pendingResponses[a]=c;for(var v=function(){var T=E.pendingResponses[E.currentResponseNum];delete E.pendingResponses[E.currentResponseNum];for(var R=function(k){T[k]&&br(function(){h.onMessage_(T[k])})},O=0;O<T.length;++O)R(O);if(E.currentResponseNum===E.closeAfterResponse)return E.onClose&&(E.onClose(),E.onClose=null),"break";E.currentResponseNum++},E=this;this.pendingResponses[this.currentResponseNum]&&"break"!==v(););},u}(),B="start",V="close",Ea=function(){function u(a,c,h,v,E,D,T){var R=this;this.connId=a,this.repoInfo=c,this.applicationId=h,this.appCheckToken=v,this.authToken=E,this.transportSessionId=D,this.lastSessionId=T,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Et(a),this.stats_=At(c),this.urlFn=function(O){return R.appCheckToken&&(O.ac=R.appCheckToken),Ze(c,yu,O)}}return u.prototype.open=function(a,c){var h=this;this.curSegmentNum=0,this.onDisconnect_=c,this.myPacketOrderer=new xl(a),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){h.log_("Timed out trying to connect."),h.onClosed_(),h.connectTimeoutTimer_=null},Math.floor(3e4)),function(u){if((0,A.Yr)()||"complete"===document.readyState)u();else{var a=!1,c=function(){document.body?a||(a=!0,u()):setTimeout(c,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",c,!1),window.addEventListener("load",c,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&c()}),window.attachEvent("onload",c))}}(function(){if(!h.isClosed_){h.scriptTagHolder=new bu(function(){for(var D=[],T=0;T<arguments.length;T++)D[T]=arguments[T];var R=(0,W.CR)(D,5),O=R[0],k=R[1],J=R[2];if(h.incrementIncomingBytes_(D),h.scriptTagHolder)if(h.connectTimeoutTimer_&&(clearTimeout(h.connectTimeoutTimer_),h.connectTimeoutTimer_=null),h.everConnected_=!0,O===B)h.id=k,h.password=J;else{if(O!==V)throw new Error("Unrecognized command received: "+O);k?(h.scriptTagHolder.sendNewPolls=!1,h.myPacketOrderer.closeAfter(k,function(){h.onClosed_()})):h.onClosed_()}},function(){for(var D=[],T=0;T<arguments.length;T++)D[T]=arguments[T];var R=(0,W.CR)(D,2),O=R[0],k=R[1];h.incrementIncomingBytes_(D),h.myPacketOrderer.handleResponse(O,k)},function(){h.onClosed_()},h.urlFn);var v={start:"t"};v.ser=Math.floor(1e8*Math.random()),h.scriptTagHolder.uniqueCallbackIdentifier&&(v.cb=h.scriptTagHolder.uniqueCallbackIdentifier),v.v="5",h.transportSessionId&&(v.s=h.transportSessionId),h.lastSessionId&&(v.ls=h.lastSessionId),h.applicationId&&(v.p=h.applicationId),h.appCheckToken&&(v.ac=h.appCheckToken),"undefined"!=typeof location&&location.hostname&&Xt.test(location.hostname)&&(v.r="f");var E=h.urlFn(v);h.log_("Connecting via long-poll to "+E),h.scriptTagHolder.addTag(E,function(){})}})},u.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},u.forceAllow=function(){u.forceAllow_=!0},u.forceDisallow=function(){u.forceDisallow_=!0},u.isAvailable=function(){return!((0,A.Yr)()||!u.forceAllow_&&(u.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},u.prototype.markConnectionHealthy=function(){},u.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},u.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},u.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},u.prototype.send=function(a){var c=(0,A.Pz)(a);this.bytesSent+=c.length,this.stats_.incrementCounter("bytes_sent",c.length);for(var h=(0,A.h$)(c),v=Ve(h,1840),E=0;E<v.length;E++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,v.length,v[E]),this.curSegmentNum++},u.prototype.addDisconnectPingFrame=function(a,c){if(!(0,A.Yr)()){this.myDisconnFrame=document.createElement("iframe");var h={dframe:"t"};h.id=a,h.pw=c,this.myDisconnFrame.src=this.urlFn(h),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},u.prototype.incrementIncomingBytes_=function(a){var c=(0,A.Pz)(a).length;this.bytesReceived+=c,this.stats_.incrementCounter("bytes_received",c)},u}(),bu=function(){function u(a,c,h,v){if(this.onDisconnect=h,this.urlFn=v,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,A.Yr)())this.commandCB=a,this.onMessageCB=c;else{this.uniqueCallbackIdentifier=ce(),window["pLPCommand"+this.uniqueCallbackIdentifier]=a,window["pRTLPCB"+this.uniqueCallbackIdentifier]=c,this.myIFrame=u.createIFrame_();var E="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(E='<script>document.domain="'+document.domain+'";<\/script>');var T="<html><body>"+E+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(T),this.myIFrame.doc.close()}catch(R){De("frame writing exception"),R.stack&&De(R.stack),De(R)}}}return u.createIFrame_=function(){var a=document.createElement("iframe");if(a.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(a);try{a.contentWindow.document||De("No IE domain setting required")}catch(v){var h=document.domain;a.src="javascript:void((function(){document.open();document.domain='"+h+"';document.close();})())"}return a.contentDocument?a.doc=a.contentDocument:a.contentWindow?a.doc=a.contentWindow.document:a.document&&(a.doc=a.document),a},u.prototype.close=function(){var a=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==a.myIFrame&&(document.body.removeChild(a.myIFrame),a.myIFrame=null)},Math.floor(0)));var c=this.onDisconnect;c&&(this.onDisconnect=null,c())},u.prototype.startLongPoll=function(a,c){for(this.myID=a,this.myPW=c,this.alive=!0;this.newRequest_(););},u.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var a={};a.id=this.myID,a.pw=this.myPW,a.ser=this.currentSerial;for(var c=this.urlFn(a),h="",v=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+h.length<=1870;){var D=this.pendingSegs.shift();h=h+"&seg"+v+"="+D.seg+"&ts"+v+"="+D.ts+"&d"+v+"="+D.d,v++}return this.addLongPollTag_(c+=h,this.currentSerial),!0}return!1},u.prototype.enqueueSegment=function(a,c,h){this.pendingSegs.push({seg:a,ts:c,d:h}),this.alive&&this.newRequest_()},u.prototype.addLongPollTag_=function(a,c){var h=this;this.outstandingRequests.add(c);var v=function(){h.outstandingRequests.delete(c),h.newRequest_()},E=setTimeout(v,Math.floor(25e3));this.addTag(a,function(){clearTimeout(E),v()})},u.prototype.addTag=function(a,c){var h=this;(0,A.Yr)()?this.doNodeLongPoll(a,c):setTimeout(function(){try{if(!h.sendNewPolls)return;var v=h.myIFrame.doc.createElement("script");v.type="text/javascript",v.async=!0,v.src=a,v.onload=v.onreadystatechange=function(){var E=v.readyState;(!E||"loaded"===E||"complete"===E)&&(v.onload=v.onreadystatechange=null,v.parentNode&&v.parentNode.removeChild(v),c())},v.onerror=function(){De("Long-poll script failed to load: "+a),h.sendNewPolls=!1,h.close()},h.myIFrame.doc.body.appendChild(v)}catch(E){}},Math.floor(1))},u}(),Nn=null;"undefined"!=typeof MozWebSocket?Nn=MozWebSocket:"undefined"!=typeof WebSocket&&(Nn=WebSocket);var Dn=function(){function u(a,c,h,v,E,D,T){this.connId=a,this.applicationId=h,this.appCheckToken=v,this.authToken=E,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Et(this.connId),this.stats_=At(c),this.connURL=u.connectionURL_(c,D,T,v),this.nodeAdmin=c.nodeAdmin}return u.connectionURL_=function(a,c,h,v){var E={v:"5"};return!(0,A.Yr)()&&"undefined"!=typeof location&&location.hostname&&Xt.test(location.hostname)&&(E.r="f"),c&&(E.s=c),h&&(E.ls=h),v&&(E.ac=v),Ze(a,ln,E)},u.prototype.open=function(a,c){var h=this;this.onDisconnect=c,this.onMessage=a,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,U.set("previous_websocket_failure",!0);try{if((0,A.Yr)()){var E={headers:{"User-Agent":"Firebase/5/"+K+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(E.headers.Authorization="Bearer "+this.authToken),this.appCheckToken&&(E.headers["X-Firebase-AppCheck"]=this.appCheckToken);var D=process.env,T=0===this.connURL.indexOf("wss://")?D.HTTPS_PROXY||D.https_proxy:D.HTTP_PROXY||D.http_proxy;T&&(E.proxy={origin:T}),this.mySock=new Nn(this.connURL,[],E)}else this.mySock=new Nn(this.connURL,[],E={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(O){this.log_("Error instantiating WebSocket.");var R=O.message||O.data;return R&&this.log_(R),void this.onClosed_()}this.mySock.onopen=function(){h.log_("Websocket connected."),h.everConnected_=!0},this.mySock.onclose=function(){h.log_("Websocket connection was disconnected."),h.mySock=null,h.onClosed_()},this.mySock.onmessage=function(O){h.handleIncomingFrame(O)},this.mySock.onerror=function(O){h.log_("WebSocket error.  Closing connection.");var k=O.message||O.data;k&&h.log_(k),h.onClosed_()}},u.prototype.start=function(){},u.forceDisallow=function(){u.forceDisallow_=!0},u.isAvailable=function(){var a=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var h=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);h&&h.length>1&&parseFloat(h[1])<4.4&&(a=!0)}return!a&&null!==Nn&&!u.forceDisallow_},u.previouslyFailed=function(){return U.isInMemoryStorage||!0===U.get("previous_websocket_failure")},u.prototype.markConnectionHealthy=function(){U.remove("previous_websocket_failure")},u.prototype.appendFrame_=function(a){if(this.frames.push(a),this.frames.length===this.totalFrames){var c=this.frames.join("");this.frames=null;var h=(0,A.cI)(c);this.onMessage(h)}},u.prototype.handleNewFrameCount_=function(a){this.totalFrames=a,this.frames=[]},u.prototype.extractFrameCount_=function(a){if((0,A.hu)(null===this.frames,"We already have a frame buffer"),a.length<=6){var c=Number(a);if(!isNaN(c))return this.handleNewFrameCount_(c),null}return this.handleNewFrameCount_(1),a},u.prototype.handleIncomingFrame=function(a){if(null!==this.mySock){var c=a.data;if(this.bytesReceived+=c.length,this.stats_.incrementCounter("bytes_received",c.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(c);else{var h=this.extractFrameCount_(c);null!==h&&this.appendFrame_(h)}}},u.prototype.send=function(a){this.resetKeepAlive();var c=(0,A.Pz)(a);this.bytesSent+=c.length,this.stats_.incrementCounter("bytes_sent",c.length);var h=Ve(c,16384);h.length>1&&this.sendString_(String(h.length));for(var v=0;v<h.length;v++)this.sendString_(h[v])},u.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},u.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},u.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},u.prototype.resetKeepAlive=function(){var a=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){a.mySock&&a.sendString_("0"),a.resetKeepAlive()},Math.floor(45e3))},u.prototype.sendString_=function(a){try{this.mySock.send(a)}catch(c){this.log_("Exception thrown from WebSocket.send():",c.message||c.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},u.responsesRequiredToBeHealthy=2,u.healthyTimeout=3e4,u}(),dr=function(){function u(a){this.initTransports_(a)}return Object.defineProperty(u,"ALL_TRANSPORTS",{get:function(){return[Ea,Dn]},enumerable:!1,configurable:!0}),u.prototype.initTransports_=function(a){var c,h,v=Dn&&Dn.isAvailable(),E=v&&!Dn.previouslyFailed();if(a.webSocketOnly&&(v||It("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),E=!0),E)this.transports_=[Dn];else{var D=this.transports_=[];try{for(var T=(0,W.XA)(u.ALL_TRANSPORTS),R=T.next();!R.done;R=T.next()){var O=R.value;O&&O.isAvailable()&&D.push(O)}}catch(k){c={error:k}}finally{try{R&&!R.done&&(h=T.return)&&h.call(T)}finally{if(c)throw c.error}}}},u.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},u.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},u}(),Ci=function(){function u(a,c,h,v,E,D,T,R,O,k){this.id=a,this.repoInfo_=c,this.applicationId_=h,this.appCheckToken_=v,this.authToken_=E,this.onMessage_=D,this.onReady_=T,this.onDisconnect_=R,this.onKill_=O,this.lastSessionId=k,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Et("c:"+this.id+":"),this.transportManager_=new dr(c),this.log_("Connection created"),this.start_()}return u.prototype.start_=function(){var a=this,c=this.transportManager_.initialTransport();this.conn_=new c(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=c.responsesRequiredToBeHealthy||0;var h=this.connReceiver_(this.conn_),v=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){a.conn_&&a.conn_.open(h,v)},Math.floor(0));var E=c.healthyTimeout||0;E>0&&(this.healthyTimeout_=vi(function(){a.healthyTimeout_=null,a.isHealthy_||(a.conn_&&a.conn_.bytesReceived>102400?(a.log_("Connection exceeded healthy timeout but has received "+a.conn_.bytesReceived+" bytes.  Marking connection healthy."),a.isHealthy_=!0,a.conn_.markConnectionHealthy()):a.conn_&&a.conn_.bytesSent>10240?a.log_("Connection exceeded healthy timeout but has sent "+a.conn_.bytesSent+" bytes.  Leaving connection alive."):(a.log_("Closing unhealthy connection after timeout."),a.close()))},Math.floor(E)))},u.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},u.prototype.disconnReceiver_=function(a){var c=this;return function(h){a===c.conn_?c.onConnectionLost_(h):a===c.secondaryConn_?(c.log_("Secondary connection lost."),c.onSecondaryConnectionLost_()):c.log_("closing an old connection")}},u.prototype.connReceiver_=function(a){var c=this;return function(h){2!==c.state_&&(a===c.rx_?c.onPrimaryMessageReceived_(h):a===c.secondaryConn_?c.onSecondaryMessageReceived_(h):c.log_("message on old connection"))}},u.prototype.sendRequest=function(a){this.sendData_({t:"d",d:a})},u.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},u.prototype.onSecondaryControl_=function(a){if("t"in a){var c=a.t;"a"===c?this.upgradeIfSecondaryHealthy_():"r"===c?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===c&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},u.prototype.onSecondaryMessageReceived_=function(a){var c=He("t",a),h=He("d",a);if("c"===c)this.onSecondaryControl_(h);else{if("d"!==c)throw new Error("Unknown protocol layer: "+c);this.pendingDataMessages.push(h)}},u.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},u.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},u.prototype.onPrimaryMessageReceived_=function(a){var c=He("t",a),h=He("d",a);"c"===c?this.onControl_(h):"d"===c&&this.onDataMessage_(h)},u.prototype.onDataMessage_=function(a){this.onPrimaryResponse_(),this.onMessage_(a)},u.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},u.prototype.onControl_=function(a){var c=He("t",a);if("d"in a){var h=a.d;if("h"===c)this.onHandshake_(h);else if("n"===c){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var v=0;v<this.pendingDataMessages.length;++v)this.onDataMessage_(this.pendingDataMessages[v]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===c?this.onConnectionShutdown_(h):"r"===c?this.onReset_(h):"e"===c?Mt("Server Error: "+h):"o"===c?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Mt("Unknown control packet command: "+c)}},u.prototype.onHandshake_=function(a){var c=a.ts,h=a.v,v=a.h;this.sessionId=a.s,this.repoInfo_.host=v,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,c),"5"!==h&&It("Protocol version mismatch detected"),this.tryStartUpgrade_())},u.prototype.tryStartUpgrade_=function(){var a=this.transportManager_.upgradeTransport();a&&this.startUpgrade_(a)},u.prototype.startUpgrade_=function(a){var c=this;this.secondaryConn_=new a(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=a.responsesRequiredToBeHealthy||0;var h=this.connReceiver_(this.secondaryConn_),v=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(h,v),vi(function(){c.secondaryConn_&&(c.log_("Timed out trying to upgrade."),c.secondaryConn_.close())},Math.floor(6e4))},u.prototype.onReset_=function(a){this.log_("Reset packet received.  New host: "+a),this.repoInfo_.host=a,1===this.state_?this.close():(this.closeConnections_(),this.start_())},u.prototype.onConnectionEstablished_=function(a,c){var h=this;this.log_("Realtime connection established."),this.conn_=a,this.state_=1,this.onReady_&&(this.onReady_(c,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):vi(function(){h.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},u.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},u.prototype.onSecondaryConnectionLost_=function(){var a=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===a||this.rx_===a)&&this.close()},u.prototype.onConnectionLost_=function(a){this.conn_=null,a||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(U.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},u.prototype.onConnectionShutdown_=function(a){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(a),this.onKill_=null),this.onDisconnect_=null,this.close()},u.prototype.sendData_=function(a){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(a)},u.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},u.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},u}(),ba=function(){function u(){}return u.prototype.put=function(a,c,h,v){},u.prototype.merge=function(a,c,h,v){},u.prototype.refreshAuthToken=function(a){},u.prototype.refreshAppCheckToken=function(a){},u.prototype.onDisconnectPut=function(a,c,h){},u.prototype.onDisconnectMerge=function(a,c,h){},u.prototype.onDisconnectCancel=function(a,c){},u.prototype.reportStats=function(a){},u}(),Ho=function(){function u(a){this.allowedEvents_=a,this.listeners_={},(0,A.hu)(Array.isArray(a)&&a.length>0,"Requires a non-empty array")}return u.prototype.trigger=function(a){for(var c=[],h=1;h<arguments.length;h++)c[h-1]=arguments[h];if(Array.isArray(this.listeners_[a]))for(var v=(0,W.ev)([],(0,W.CR)(this.listeners_[a])),E=0;E<v.length;E++)v[E].callback.apply(v[E].context,c)},u.prototype.on=function(a,c,h){this.validateEventType_(a),this.listeners_[a]=this.listeners_[a]||[],this.listeners_[a].push({callback:c,context:h});var v=this.getInitialEvent(a);v&&c.apply(h,v)},u.prototype.off=function(a,c,h){this.validateEventType_(a);for(var v=this.listeners_[a]||[],E=0;E<v.length;E++)if(v[E].callback===c&&(!h||h===v[E].context))return void v.splice(E,1)},u.prototype.validateEventType_=function(a){(0,A.hu)(this.allowedEvents_.find(function(c){return c===a}),"Unknown event: "+a)},u}(),Pn=function(u){function a(){var c=u.call(this,["online"])||this;return c.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,A.uI)()&&(window.addEventListener("online",function(){c.online_||(c.online_=!0,c.trigger("online",!0))},!1),window.addEventListener("offline",function(){c.online_&&(c.online_=!1,c.trigger("online",!1))},!1)),c}return(0,W.ZT)(a,u),a.getInstance=function(){return new a},a.prototype.getInitialEvent=function(c){return(0,A.hu)("online"===c,"Unknown event type: "+c),[this.online_]},a.prototype.currentlyOnline=function(){return this.online_},a}(Ho),ot=function(){function u(a,c){if(void 0===c){this.pieces_=a.split("/");for(var h=0,v=0;v<this.pieces_.length;v++)this.pieces_[v].length>0&&(this.pieces_[h]=this.pieces_[v],h++);this.pieces_.length=h,this.pieceNum_=0}else this.pieces_=a,this.pieceNum_=c}return u.prototype.toString=function(){for(var a="",c=this.pieceNum_;c<this.pieces_.length;c++)""!==this.pieces_[c]&&(a+="/"+this.pieces_[c]);return a||"/"},u}();function ke(){return new ot("")}function st(u){return u.pieceNum_>=u.pieces_.length?null:u.pieces_[u.pieceNum_]}function Ei(u){return u.pieces_.length-u.pieceNum_}function Dt(u){var a=u.pieceNum_;return a<u.pieces_.length&&a++,new ot(u.pieces_,a)}function Ss(u){return u.pieceNum_<u.pieces_.length?u.pieces_[u.pieces_.length-1]:null}function Vr(u,a){return void 0===a&&(a=0),u.pieces_.slice(u.pieceNum_+a)}function Br(u){if(u.pieceNum_>=u.pieces_.length)return null;for(var a=[],c=u.pieceNum_;c<u.pieces_.length-1;c++)a.push(u.pieces_[c]);return new ot(a,0)}function lt(u,a){for(var c=[],h=u.pieceNum_;h<u.pieces_.length;h++)c.push(u.pieces_[h]);if(a instanceof ot)for(h=a.pieceNum_;h<a.pieces_.length;h++)c.push(a.pieces_[h]);else{var v=a.split("/");for(h=0;h<v.length;h++)v[h].length>0&&c.push(v[h])}return new ot(c,0)}function ct(u){return u.pieceNum_>=u.pieces_.length}function jt(u,a){var c=st(u),h=st(a);if(null===c)return a;if(c===h)return jt(Dt(u),Dt(a));throw new Error("INTERNAL ERROR: innerPath ("+a+") is not within outerPath ("+u+")")}function fr(u,a){for(var c=Vr(u,0),h=Vr(a,0),v=0;v<c.length&&v<h.length;v++){var E=te(c[v],h[v]);if(0!==E)return E}return c.length===h.length?0:c.length<h.length?-1:1}function Ms(u,a){if(Ei(u)!==Ei(a))return!1;for(var c=u.pieceNum_,h=a.pieceNum_;c<=u.pieces_.length;c++,h++)if(u.pieces_[c]!==a.pieces_[h])return!1;return!0}function Fn(u,a){var c=u.pieceNum_,h=a.pieceNum_;if(Ei(u)>Ei(a))return!1;for(;c<u.pieces_.length;){if(u.pieces_[c]!==a.pieces_[h])return!1;++c,++h}return!0}var Da=function(a,c){this.errorPrefix_=c,this.parts_=Vr(a,0),this.byteLength_=Math.max(1,this.parts_.length);for(var h=0;h<this.parts_.length;h++)this.byteLength_+=(0,A.ug)(this.parts_[h]);Md(this)};function Md(u){if(u.byteLength_>768)throw new Error(u.errorPrefix_+"has a key path longer than 768 bytes ("+u.byteLength_+").");if(u.parts_.length>32)throw new Error(u.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+no(u))}function no(u){return 0===u.parts_.length?"":"in property '"+u.parts_.join(".")+"'"}var wu,Iu,Rd=function(u){function a(){var h,v,c=u.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(v="visibilitychange",h="hidden"):void 0!==document.mozHidden?(v="mozvisibilitychange",h="mozHidden"):void 0!==document.msHidden?(v="msvisibilitychange",h="msHidden"):void 0!==document.webkitHidden&&(v="webkitvisibilitychange",h="webkitHidden")),c.visible_=!0,v&&document.addEventListener(v,function(){var E=!document[h];E!==c.visible_&&(c.visible_=E,c.trigger("visible",E))},!1),c}return(0,W.ZT)(a,u),a.getInstance=function(){return new a},a.prototype.getInitialEvent=function(c){return(0,A.hu)("visible"===c,"Unknown event type: "+c),[this.visible_]},a}(Ho),wa=1e3,Wo=function(u){function a(c,h,v,E,D,T,R,O){var k=u.call(this)||this;if(k.repoInfo_=c,k.applicationId_=h,k.onDataUpdate_=v,k.onConnectStatus_=E,k.onServerInfoUpdate_=D,k.authTokenProvider_=T,k.appCheckTokenProvider_=R,k.authOverride_=O,k.id=a.nextPersistentConnectionId_++,k.log_=Et("p:"+k.id+":"),k.interruptReasons_={},k.listens=new Map,k.outstandingPuts_=[],k.outstandingGets_=[],k.outstandingPutCount_=0,k.outstandingGetCount_=0,k.onDisconnectRequestQueue_=[],k.connected_=!1,k.reconnectDelay_=wa,k.maxReconnectDelay_=3e5,k.securityDebugCallback_=null,k.lastSessionId=null,k.establishConnectionTimer_=null,k.visible_=!1,k.requestCBHash_={},k.requestNumber_=0,k.realtime_=null,k.authToken_=null,k.appCheckToken_=null,k.forceTokenRefresh_=!1,k.invalidAuthTokenCount_=0,k.invalidAppCheckTokenCount_=0,k.firstConnection_=!0,k.lastConnectionAttemptTime_=null,k.lastConnectionEstablishedTime_=null,O&&!(0,A.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Rd.getInstance().on("visible",k.onVisible_,k),-1===c.host.indexOf("fblocal")&&Pn.getInstance().on("online",k.onOnline_,k),k}return(0,W.ZT)(a,u),a.prototype.sendRequest=function(c,h,v){var E=++this.requestNumber_,D={r:E,a:c,b:h};this.log_((0,A.Pz)(D)),(0,A.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(D),v&&(this.requestCBHash_[E]=v)},a.prototype.get=function(c){var h=this;this.initConnection_();var v=new A.BH,E={p:c._path.toString(),q:c._queryObject},D={action:"g",request:E,onComplete:function(R){var O=R.d;"ok"===R.s?(h.onDataUpdate_(E.p,O,!1,null),v.resolve(O)):v.reject(O)}};this.outstandingGets_.push(D),this.outstandingGetCount_++;var T=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var R=h.outstandingGets_[T];void 0===R||D!==R||(delete h.outstandingGets_[T],h.outstandingGetCount_--,0===h.outstandingGetCount_&&(h.outstandingGets_=[]),h.log_("get "+T+" timed out on connection"),v.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(T),v.promise},a.prototype.listen=function(c,h,v,E){this.initConnection_();var D=c._queryIdentifier,T=c._path.toString();this.log_("Listen called for "+T+" "+D),this.listens.has(T)||this.listens.set(T,new Map),(0,A.hu)(c._queryParams.isDefault()||!c._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,A.hu)(!this.listens.get(T).has(D),"listen() called twice for same path/queryId.");var R={onComplete:E,hashFn:h,query:c,tag:v};this.listens.get(T).set(D,R),this.connected_&&this.sendListen_(R)},a.prototype.sendGet_=function(c){var h=this,v=this.outstandingGets_[c];this.sendRequest("g",v.request,function(E){delete h.outstandingGets_[c],h.outstandingGetCount_--,0===h.outstandingGetCount_&&(h.outstandingGets_=[]),v.onComplete&&v.onComplete(E)})},a.prototype.sendListen_=function(c){var h=this,v=c.query,E=v._path.toString(),D=v._queryIdentifier;this.log_("Listen on "+E+" for "+D);var T={p:E};c.tag&&(T.q=v._queryObject,T.t=c.tag),T.h=c.hashFn(),this.sendRequest("q",T,function(O){var k=O.d,J=O.s;a.warnOnListenWarnings_(k,v),(h.listens.get(E)&&h.listens.get(E).get(D))===c&&(h.log_("listen response",O),"ok"!==J&&h.removeListen_(E,D),c.onComplete&&c.onComplete(J,k))})},a.warnOnListenWarnings_=function(c,h){if(c&&"object"==typeof c&&(0,A.r3)(c,"w")){var v=(0,A.DV)(c,"w");if(Array.isArray(v)&&~v.indexOf("no_index")){var E='".indexOn": "'+h._queryParams.getIndex().toString()+'"',D=h._path.toString();It("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+E+" at "+D+" to your security rules for better performance.")}}},a.prototype.refreshAuthToken=function(c){this.authToken_=c,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(c)},a.prototype.reduceReconnectDelayIfAdminCredential_=function(c){(c&&40===c.length||(0,A.GJ)(c))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},a.prototype.refreshAppCheckToken=function(c){this.appCheckToken_=c,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},a.prototype.tryAuth=function(){var c=this;if(this.connected_&&this.authToken_){var h=this.authToken_,v=(0,A.w9)(h)?"auth":"gauth",E={cred:h};null===this.authOverride_?E.noauth=!0:"object"==typeof this.authOverride_&&(E.authvar=this.authOverride_),this.sendRequest(v,E,function(D){var T=D.s,R=D.d||"error";c.authToken_===h&&("ok"===T?c.invalidAuthTokenCount_=0:c.onAuthRevoked_(T,R))})}},a.prototype.tryAppCheck=function(){var c=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(h){var v=h.s,E=h.d||"error";"ok"===v?c.invalidAppCheckTokenCount_=0:c.onAppCheckRevoked_(v,E)})},a.prototype.unlisten=function(c,h){var v=c._path.toString(),E=c._queryIdentifier;this.log_("Unlisten called for "+v+" "+E),(0,A.hu)(c._queryParams.isDefault()||!c._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(v,E)&&this.connected_&&this.sendUnlisten_(v,E,c._queryObject,h)},a.prototype.sendUnlisten_=function(c,h,v,E){this.log_("Unlisten on "+c+" for "+h);var D={p:c};E&&(D.q=v,D.t=E),this.sendRequest("n",D)},a.prototype.onDisconnectPut=function(c,h,v){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",c,h,v):this.onDisconnectRequestQueue_.push({pathString:c,action:"o",data:h,onComplete:v})},a.prototype.onDisconnectMerge=function(c,h,v){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",c,h,v):this.onDisconnectRequestQueue_.push({pathString:c,action:"om",data:h,onComplete:v})},a.prototype.onDisconnectCancel=function(c,h){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",c,null,h):this.onDisconnectRequestQueue_.push({pathString:c,action:"oc",data:null,onComplete:h})},a.prototype.sendOnDisconnect_=function(c,h,v,E){var D={p:h,d:v};this.log_("onDisconnect "+c,D),this.sendRequest(c,D,function(T){E&&setTimeout(function(){E(T.s,T.d)},Math.floor(0))})},a.prototype.put=function(c,h,v,E){this.putInternal("p",c,h,v,E)},a.prototype.merge=function(c,h,v,E){this.putInternal("m",c,h,v,E)},a.prototype.putInternal=function(c,h,v,E,D){this.initConnection_();var T={p:h,d:v};void 0!==D&&(T.h=D),this.outstandingPuts_.push({action:c,request:T,onComplete:E}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+h)},a.prototype.sendPut_=function(c){var h=this,v=this.outstandingPuts_[c].action,E=this.outstandingPuts_[c].request,D=this.outstandingPuts_[c].onComplete;this.outstandingPuts_[c].queued=this.connected_,this.sendRequest(v,E,function(T){h.log_(v+" response",T),delete h.outstandingPuts_[c],h.outstandingPutCount_--,0===h.outstandingPutCount_&&(h.outstandingPuts_=[]),D&&D(T.s,T.d)})},a.prototype.reportStats=function(c){var h=this;if(this.connected_){var v={c};this.log_("reportStats",v),this.sendRequest("s",v,function(E){"ok"!==E.s&&h.log_("reportStats","Error sending stats: "+E.d)})}},a.prototype.onDataMessage_=function(c){if("r"in c){this.log_("from server: "+(0,A.Pz)(c));var h=c.r,v=this.requestCBHash_[h];v&&(delete this.requestCBHash_[h],v(c.b))}else{if("error"in c)throw"A server-side error has occurred: "+c.error;"a"in c&&this.onDataPush_(c.a,c.b)}},a.prototype.onDataPush_=function(c,h){this.log_("handleServerMessage",c,h),"d"===c?this.onDataUpdate_(h.p,h.d,!1,h.t):"m"===c?this.onDataUpdate_(h.p,h.d,!0,h.t):"c"===c?this.onListenRevoked_(h.p,h.q):"ac"===c?this.onAuthRevoked_(h.s,h.d):"apc"===c?this.onAppCheckRevoked_(h.s,h.d):"sd"===c?this.onSecurityDebugPacket_(h):Mt("Unrecognized action received from server: "+(0,A.Pz)(c)+"\nAre you using the latest client?")},a.prototype.onReady_=function(c,h){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(c),this.lastSessionId=h,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},a.prototype.scheduleConnect_=function(c){var h=this;(0,A.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){h.establishConnectionTimer_=null,h.establishConnection_()},Math.floor(c))},a.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},a.prototype.onVisible_=function(c){c&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=wa,this.realtime_||this.scheduleConnect_(0)),this.visible_=c},a.prototype.onOnline_=function(c){c?(this.log_("Browser went online."),this.reconnectDelay_=wa,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},a.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=wa),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var h=(new Date).getTime()-this.lastConnectionAttemptTime_,v=Math.max(0,this.reconnectDelay_-h);v=Math.random()*v,this.log_("Trying to reconnect in "+v+"ms"),this.scheduleConnect_(v),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},a.prototype.establishConnection_=function(){return(0,W.mG)(this,void 0,void 0,function(){var c,h,v,E,D,T,R,O,J,le,_e,Ie,We,Pe=this;return(0,W.Jh)(this,function(Xe){switch(Xe.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,c=this.onDataMessage_.bind(this),h=this.onReady_.bind(this),v=this.onRealtimeDisconnect_.bind(this),E=this.id+":"+a.nextConnectionId_++,D=this.lastSessionId,T=!1,R=null,this.realtime_={close:O=function(){R?R.close():(T=!0,v())},sendRequest:function(Wt){(0,A.hu)(R,"sendRequest call when we're not connected not allowed."),R.sendRequest(Wt)}},J=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,Xe.label=1;case 1:return Xe.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(J),this.appCheckTokenProvider_.getToken(J)])];case 2:return le=W.CR.apply(void 0,[Xe.sent(),2]),_e=le[0],Ie=le[1],T?De("getToken() completed but was canceled"):(De("getToken() completed. Creating connection."),this.authToken_=_e&&_e.accessToken,this.appCheckToken_=Ie&&Ie.token,R=new Ci(E,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,c,h,v,function(Wt){It(Wt+" ("+Pe.repoInfo_.toString()+")"),Pe.interrupt("server_kill")},D)),[3,4];case 3:return We=Xe.sent(),this.log_("Failed to get token: "+We),T||(this.repoInfo_.nodeAdmin&&It(We),O()),[3,4];case 4:return[2]}})})},a.prototype.interrupt=function(c){De("Interrupting connection for reason: "+c),this.interruptReasons_[c]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},a.prototype.resume=function(c){De("Resuming connection for reason: "+c),delete this.interruptReasons_[c],(0,A.xb)(this.interruptReasons_)&&(this.reconnectDelay_=wa,this.realtime_||this.scheduleConnect_(0))},a.prototype.handleTimestamp_=function(c){var h=c-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:h})},a.prototype.cancelSentTransactions_=function(){for(var c=0;c<this.outstandingPuts_.length;c++){var h=this.outstandingPuts_[c];h&&"h"in h.request&&h.queued&&(h.onComplete&&h.onComplete("disconnect"),delete this.outstandingPuts_[c],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},a.prototype.onListenRevoked_=function(c,h){var v;v=h?h.map(function(D){return Rt(D)}).join("$"):"default";var E=this.removeListen_(c,v);E&&E.onComplete&&E.onComplete("permission_denied")},a.prototype.removeListen_=function(c,h){var E,v=new ot(c).toString();if(this.listens.has(v)){var D=this.listens.get(v);E=D.get(h),D.delete(h),0===D.size&&this.listens.delete(v)}else E=void 0;return E},a.prototype.onAuthRevoked_=function(c,h){De("Auth token revoked: "+c+"/"+h),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===c||"permission_denied"===c)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},a.prototype.onAppCheckRevoked_=function(c,h){De("App check token revoked: "+c+"/"+h),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===c||"permission_denied"===c)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},a.prototype.onSecurityDebugPacket_=function(c){this.securityDebugCallback_?this.securityDebugCallback_(c):"msg"in c&&console.log("FIREBASE: "+c.msg.replace("\n","\nFIREBASE: "))},a.prototype.restoreState_=function(){var c,h,v,E;this.tryAuth(),this.tryAppCheck();try{for(var D=(0,W.XA)(this.listens.values()),T=D.next();!T.done;T=D.next()){var R=T.value;try{for(var O=(v=void 0,(0,W.XA)(R.values())),k=O.next();!k.done;k=O.next())this.sendListen_(k.value)}catch(Ie){v={error:Ie}}finally{try{k&&!k.done&&(E=O.return)&&E.call(O)}finally{if(v)throw v.error}}}}catch(Ie){c={error:Ie}}finally{try{T&&!T.done&&(h=D.return)&&h.call(D)}finally{if(c)throw c.error}}for(var le=0;le<this.outstandingPuts_.length;le++)this.outstandingPuts_[le]&&this.sendPut_(le);for(;this.onDisconnectRequestQueue_.length;){var _e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(_e.action,_e.pathString,_e.data,_e.onComplete)}for(le=0;le<this.outstandingGets_.length;le++)this.outstandingGets_[le]&&this.sendGet_(le)},a.prototype.sendConnectStats_=function(){var c={},h="js";(0,A.Yr)()&&(h=this.repoInfo_.nodeAdmin?"admin_node":"node"),c["sdk."+h+"."+K.replace(/\./g,"-")]=1,(0,A.uI)()?c["framework.cordova"]=1:(0,A.b$)()&&(c["framework.reactnative"]=1),this.reportStats(c)},a.prototype.shouldReconnect_=function(){var c=Pn.getInstance().currentlyOnline();return(0,A.xb)(this.interruptReasons_)&&c},a.nextPersistentConnectionId_=0,a.nextConnectionId_=0,a}(ba),_t=function(){function u(a,c){this.name=a,this.node=c}return u.Wrap=function(a,c){return new u(a,c)},u}(),Du=function(){function u(){}return u.prototype.getCompare=function(){return this.compare.bind(this)},u.prototype.indexedValueChanged=function(a,c){var h=new _t(X,a),v=new _t(X,c);return 0!==this.compare(h,v)},u.prototype.minPost=function(){return _t.MIN},u}(),Nd=function(u){function a(){return null!==u&&u.apply(this,arguments)||this}return(0,W.ZT)(a,u),Object.defineProperty(a,"__EMPTY_NODE",{get:function(){return wu},set:function(c){wu=c},enumerable:!1,configurable:!0}),a.prototype.compare=function(c,h){return te(c.name,h.name)},a.prototype.isDefinedOn=function(c){throw(0,A.g5)("KeyIndex.isDefinedOn not expected to be called.")},a.prototype.indexedValueChanged=function(c,h){return!1},a.prototype.minPost=function(){return _t.MIN},a.prototype.maxPost=function(){return new _t(pe,wu)},a.prototype.makePost=function(c,h){return(0,A.hu)("string"==typeof c,"KeyIndex indexValue must always be a string."),new _t(c,wu)},a.prototype.toString=function(){return".key"},a}(Du),jr=new Nd,Rs=function(){function u(a,c,h,v,E){void 0===E&&(E=null),this.isReverse_=v,this.resultGenerator_=E,this.nodeStack_=[];for(var D=1;!a.isEmpty();)if(a=a,D=c?h(a.key,c):1,v&&(D*=-1),D<0)a=this.isReverse_?a.left:a.right;else{if(0===D){this.nodeStack_.push(a);break}this.nodeStack_.push(a),a=this.isReverse_?a.right:a.left}}return u.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var c,a=this.nodeStack_.pop();if(c=this.resultGenerator_?this.resultGenerator_(a.key,a.value):{key:a.key,value:a.value},this.isReverse_)for(a=a.left;!a.isEmpty();)this.nodeStack_.push(a),a=a.right;else for(a=a.right;!a.isEmpty();)this.nodeStack_.push(a),a=a.left;return c},u.prototype.hasNext=function(){return this.nodeStack_.length>0},u.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var a=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(a.key,a.value):{key:a.key,value:a.value}},u}(),er=function(){function u(a,c,h,v,E){this.key=a,this.value=c,this.color=null!=h?h:u.RED,this.left=null!=v?v:Hr.EMPTY_NODE,this.right=null!=E?E:Hr.EMPTY_NODE}return u.prototype.copy=function(a,c,h,v,E){return new u(null!=a?a:this.key,null!=c?c:this.value,null!=h?h:this.color,null!=v?v:this.left,null!=E?E:this.right)},u.prototype.count=function(){return this.left.count()+1+this.right.count()},u.prototype.isEmpty=function(){return!1},u.prototype.inorderTraversal=function(a){return this.left.inorderTraversal(a)||!!a(this.key,this.value)||this.right.inorderTraversal(a)},u.prototype.reverseTraversal=function(a){return this.right.reverseTraversal(a)||a(this.key,this.value)||this.left.reverseTraversal(a)},u.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},u.prototype.minKey=function(){return this.min_().key},u.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},u.prototype.insert=function(a,c,h){var v=this,E=h(a,v.key);return(v=E<0?v.copy(null,null,null,v.left.insert(a,c,h),null):0===E?v.copy(null,c,null,null,null):v.copy(null,null,null,null,v.right.insert(a,c,h))).fixUp_()},u.prototype.removeMin_=function(){if(this.left.isEmpty())return Hr.EMPTY_NODE;var a=this;return!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),(a=a.copy(null,null,null,a.left.removeMin_(),null)).fixUp_()},u.prototype.remove=function(a,c){var h,v;if(c(a,(h=this).key)<0)!h.left.isEmpty()&&!h.left.isRed_()&&!h.left.left.isRed_()&&(h=h.moveRedLeft_()),h=h.copy(null,null,null,h.left.remove(a,c),null);else{if(h.left.isRed_()&&(h=h.rotateRight_()),!h.right.isEmpty()&&!h.right.isRed_()&&!h.right.left.isRed_()&&(h=h.moveRedRight_()),0===c(a,h.key)){if(h.right.isEmpty())return Hr.EMPTY_NODE;v=h.right.min_(),h=h.copy(v.key,v.value,null,null,h.right.removeMin_())}h=h.copy(null,null,null,null,h.right.remove(a,c))}return h.fixUp_()},u.prototype.isRed_=function(){return this.color},u.prototype.fixUp_=function(){var a=this;return a.right.isRed_()&&!a.left.isRed_()&&(a=a.rotateLeft_()),a.left.isRed_()&&a.left.left.isRed_()&&(a=a.rotateRight_()),a.left.isRed_()&&a.right.isRed_()&&(a=a.colorFlip_()),a},u.prototype.moveRedLeft_=function(){var a=this.colorFlip_();return a.right.left.isRed_()&&(a=(a=(a=a.copy(null,null,null,null,a.right.rotateRight_())).rotateLeft_()).colorFlip_()),a},u.prototype.moveRedRight_=function(){var a=this.colorFlip_();return a.left.left.isRed_()&&(a=(a=a.rotateRight_()).colorFlip_()),a},u.prototype.rotateLeft_=function(){var a=this.copy(null,null,u.RED,null,this.right.left);return this.right.copy(null,null,this.color,a,null)},u.prototype.rotateRight_=function(){var a=this.copy(null,null,u.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,a)},u.prototype.colorFlip_=function(){var a=this.left.copy(null,null,!this.left.color,null,null),c=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,a,c)},u.prototype.checkMaxDepth_=function(){var a=this.check_();return Math.pow(2,a)<=this.count()+1},u.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var a=this.left.check_();if(a!==this.right.check_())throw new Error("Black depths differ");return a+(this.isRed_()?0:1)},u.RED=!0,u.BLACK=!1,u}(),Kh=function(){function u(){}return u.prototype.copy=function(a,c,h,v,E){return this},u.prototype.insert=function(a,c,h){return new er(a,c,null)},u.prototype.remove=function(a,c){return this},u.prototype.count=function(){return 0},u.prototype.isEmpty=function(){return!0},u.prototype.inorderTraversal=function(a){return!1},u.prototype.reverseTraversal=function(a){return!1},u.prototype.minKey=function(){return null},u.prototype.maxKey=function(){return null},u.prototype.check_=function(){return 0},u.prototype.isRed_=function(){return!1},u}(),Hr=function(){function u(a,c){void 0===c&&(c=u.EMPTY_NODE),this.comparator_=a,this.root_=c}return u.prototype.insert=function(a,c){return new u(this.comparator_,this.root_.insert(a,c,this.comparator_).copy(null,null,er.BLACK,null,null))},u.prototype.remove=function(a){return new u(this.comparator_,this.root_.remove(a,this.comparator_).copy(null,null,er.BLACK,null,null))},u.prototype.get=function(a){for(var c,h=this.root_;!h.isEmpty();){if(0===(c=this.comparator_(a,h.key)))return h.value;c<0?h=h.left:c>0&&(h=h.right)}return null},u.prototype.getPredecessorKey=function(a){for(var c,h=this.root_,v=null;!h.isEmpty();){if(0===(c=this.comparator_(a,h.key))){if(h.left.isEmpty())return v?v.key:null;for(h=h.left;!h.right.isEmpty();)h=h.right;return h.key}c<0?h=h.left:c>0&&(v=h,h=h.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},u.prototype.isEmpty=function(){return this.root_.isEmpty()},u.prototype.count=function(){return this.root_.count()},u.prototype.minKey=function(){return this.root_.minKey()},u.prototype.maxKey=function(){return this.root_.maxKey()},u.prototype.inorderTraversal=function(a){return this.root_.inorderTraversal(a)},u.prototype.reverseTraversal=function(a){return this.root_.reverseTraversal(a)},u.prototype.getIterator=function(a){return new Rs(this.root_,null,this.comparator_,!1,a)},u.prototype.getIteratorFrom=function(a,c){return new Rs(this.root_,a,this.comparator_,!1,c)},u.prototype.getReverseIteratorFrom=function(a,c){return new Rs(this.root_,a,this.comparator_,!0,c)},u.prototype.getReverseIterator=function(a){return new Rs(this.root_,null,this.comparator_,!0,a)},u.EMPTY_NODE=new Kh,u}();function Pl(u,a){return te(u.name,a.name)}function Xr(u,a){return te(u,a)}var kl,Ll,Vl,Sa,zo,Ia=function(u){return"number"==typeof u?"number:"+Me(u):"string:"+u},Fl=function(u){if(u.isLeafNode()){var a=u.val();(0,A.hu)("string"==typeof a||"number"==typeof a||"object"==typeof a&&(0,A.r3)(a,".sv"),"Priority must be a string or number.")}else(0,A.hu)(u===Iu||u.isEmpty(),"priority of unexpected type.");(0,A.hu)(u===Iu||u.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},ro=function(){function u(a,c){void 0===c&&(c=u.__childrenNodeConstructor.EMPTY_NODE),this.value_=a,this.priorityNode_=c,this.lazyHash_=null,(0,A.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Fl(this.priorityNode_)}return Object.defineProperty(u,"__childrenNodeConstructor",{get:function(){return kl},set:function(a){kl=a},enumerable:!1,configurable:!0}),u.prototype.isLeafNode=function(){return!0},u.prototype.getPriority=function(){return this.priorityNode_},u.prototype.updatePriority=function(a){return new u(this.value_,a)},u.prototype.getImmediateChild=function(a){return".priority"===a?this.priorityNode_:u.__childrenNodeConstructor.EMPTY_NODE},u.prototype.getChild=function(a){return ct(a)?this:".priority"===st(a)?this.priorityNode_:u.__childrenNodeConstructor.EMPTY_NODE},u.prototype.hasChild=function(){return!1},u.prototype.getPredecessorChildName=function(a,c){return null},u.prototype.updateImmediateChild=function(a,c){return".priority"===a?this.updatePriority(c):c.isEmpty()&&".priority"!==a?this:u.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(a,c).updatePriority(this.priorityNode_)},u.prototype.updateChild=function(a,c){var h=st(a);return null===h?c:c.isEmpty()&&".priority"!==h?this:((0,A.hu)(".priority"!==h||1===Ei(a),".priority must be the last token in a path"),this.updateImmediateChild(h,u.__childrenNodeConstructor.EMPTY_NODE.updateChild(Dt(a),c)))},u.prototype.isEmpty=function(){return!1},u.prototype.numChildren=function(){return 0},u.prototype.forEachChild=function(a,c){return!1},u.prototype.val=function(a){return a&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},u.prototype.hash=function(){if(null===this.lazyHash_){var a="";this.priorityNode_.isEmpty()||(a+="priority:"+Ia(this.priorityNode_.val())+":");var c=typeof this.value_;a+=c+":",a+="number"===c?Me(this.value_):this.value_,this.lazyHash_=Ae(a)}return this.lazyHash_},u.prototype.getValue=function(){return this.value_},u.prototype.compareTo=function(a){return a===u.__childrenNodeConstructor.EMPTY_NODE?1:a instanceof u.__childrenNodeConstructor?-1:((0,A.hu)(a.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(a))},u.prototype.compareToLeafNode_=function(a){var c=typeof a.value_,h=typeof this.value_,v=u.VALUE_TYPE_ORDER.indexOf(c),E=u.VALUE_TYPE_ORDER.indexOf(h);return(0,A.hu)(v>=0,"Unknown leaf type: "+c),(0,A.hu)(E>=0,"Unknown leaf type: "+h),v===E?"object"===h?0:this.value_<a.value_?-1:this.value_===a.value_?0:1:E-v},u.prototype.withIndex=function(){return this},u.prototype.isIndexed=function(){return!0},u.prototype.equals=function(a){return a===this||!!a.isLeafNode()&&(this.value_===a.value_&&this.priorityNode_.equals(a.priorityNode_))},u.VALUE_TYPE_ORDER=["object","boolean","number","string"],u}(),St=new(function(u){function a(){return null!==u&&u.apply(this,arguments)||this}return(0,W.ZT)(a,u),a.prototype.compare=function(c,h){var v=c.node.getPriority(),E=h.node.getPriority(),D=v.compareTo(E);return 0===D?te(c.name,h.name):D},a.prototype.isDefinedOn=function(c){return!c.getPriority().isEmpty()},a.prototype.indexedValueChanged=function(c,h){return!c.getPriority().equals(h.getPriority())},a.prototype.minPost=function(){return _t.MIN},a.prototype.maxPost=function(){return new _t(pe,new ro("[PRIORITY-POST]",Vl))},a.prototype.makePost=function(c,h){var v=Ll(c);return new _t(h,new ro("[PRIORITY-POST]",v))},a.prototype.toString=function(){return".priority"},a}(Du)),Ul=Math.log(2),Aa=function(){function u(a){this.count=parseInt(Math.log(a+1)/Ul,10),this.current_=this.count-1;var v=parseInt(Array(this.count+1).join("1"),2);this.bits_=a+1&v}return u.prototype.nextBitIsOne=function(){var a=!(this.bits_&1<<this.current_);return this.current_--,a},u}(),Ta=function(u,a,c,h){u.sort(a);var v=function(R,O){var J,le,k=O-R;if(0===k)return null;if(1===k)return J=u[R],le=c?c(J):J,new er(le,J.node,er.BLACK,null,null);var _e=parseInt(k/2,10)+R,Ie=v(R,_e),We=v(_e+1,O);return J=u[_e],le=c?c(J):J,new er(le,J.node,er.BLACK,Ie,We)},T=function(R){for(var O=null,k=null,J=u.length,le=function(Xe,Wt){var Kn=J-Xe,ms=J;J-=Xe;var lu=v(Kn+1,ms),Wi=u[Kn],ua=c?c(Wi):Wi;_e(new er(ua,Wi.node,Wt,null,lu))},_e=function(Xe){O?(O.left=Xe,O=Xe):(k=Xe,O=Xe)},Ie=0;Ie<R.count;++Ie){var We=R.nextBitIsOne(),Pe=Math.pow(2,R.count-(Ie+1));We?le(Pe,er.BLACK):(le(Pe,er.BLACK),le(Pe,er.RED))}return k}(new Aa(u.length));return new Hr(h||a,T)},xs={},Bt=function(){function u(a,c){this.indexes_=a,this.indexSet_=c}return Object.defineProperty(u,"Default",{get:function(){return(0,A.hu)(xs&&St,"ChildrenNode.ts has not been loaded"),Sa=Sa||new u({".priority":xs},{".priority":St})},enumerable:!1,configurable:!0}),u.prototype.get=function(a){var c=(0,A.DV)(this.indexes_,a);if(!c)throw new Error("No index defined for "+a);return c instanceof Hr?c:null},u.prototype.hasIndex=function(a){return(0,A.r3)(this.indexSet_,a.toString())},u.prototype.addIndex=function(a,c){(0,A.hu)(a!==jr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var h=[],v=!1,E=c.getIterator(_t.Wrap),D=E.getNext();D;)v=v||a.isDefinedOn(D.node),h.push(D),D=E.getNext();var T;T=v?Ta(h,a.getCompare()):xs;var R=a.toString(),O=(0,W.pi)({},this.indexSet_);O[R]=a;var k=(0,W.pi)({},this.indexes_);return k[R]=T,new u(k,O)},u.prototype.addToIndexes=function(a,c){var h=this;return new u((0,A.UI)(this.indexes_,function(E,D){var T=(0,A.DV)(h.indexSet_,D);if((0,A.hu)(T,"Missing index implementation for "+D),E===xs){if(T.isDefinedOn(a.node)){for(var R=[],O=c.getIterator(_t.Wrap),k=O.getNext();k;)k.name!==a.name&&R.push(k),k=O.getNext();return R.push(a),Ta(R,T.getCompare())}return xs}var J=c.get(a.name),le=E;return J&&(le=le.remove(new _t(a.name,J))),le.insert(a,a.node)}),this.indexSet_)},u.prototype.removeFromIndexes=function(a,c){return new u((0,A.UI)(this.indexes_,function(v){if(v===xs)return v;var E=c.get(a.name);return E?v.remove(new _t(a.name,E)):v}),this.indexSet_)},u}(),Ye=function(){function u(a,c,h){this.children_=a,this.priorityNode_=c,this.indexMap_=h,this.lazyHash_=null,this.priorityNode_&&Fl(this.priorityNode_),this.children_.isEmpty()&&(0,A.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(u,"EMPTY_NODE",{get:function(){return zo||(zo=new u(new Hr(Xr),null,Bt.Default))},enumerable:!1,configurable:!0}),u.prototype.isLeafNode=function(){return!1},u.prototype.getPriority=function(){return this.priorityNode_||zo},u.prototype.updatePriority=function(a){return this.children_.isEmpty()?this:new u(this.children_,a,this.indexMap_)},u.prototype.getImmediateChild=function(a){if(".priority"===a)return this.getPriority();var c=this.children_.get(a);return null===c?zo:c},u.prototype.getChild=function(a){var c=st(a);return null===c?this:this.getImmediateChild(c).getChild(Dt(a))},u.prototype.hasChild=function(a){return null!==this.children_.get(a)},u.prototype.updateImmediateChild=function(a,c){if((0,A.hu)(c,"We should always be passing snapshot nodes"),".priority"===a)return this.updatePriority(c);var h=new _t(a,c),v=void 0,E=void 0;c.isEmpty()?(v=this.children_.remove(a),E=this.indexMap_.removeFromIndexes(h,this.children_)):(v=this.children_.insert(a,c),E=this.indexMap_.addToIndexes(h,this.children_));var D=v.isEmpty()?zo:this.priorityNode_;return new u(v,D,E)},u.prototype.updateChild=function(a,c){var h=st(a);if(null===h)return c;(0,A.hu)(".priority"!==st(a)||1===Ei(a),".priority must be the last token in a path");var v=this.getImmediateChild(h).updateChild(Dt(a),c);return this.updateImmediateChild(h,v)},u.prototype.isEmpty=function(){return this.children_.isEmpty()},u.prototype.numChildren=function(){return this.children_.count()},u.prototype.val=function(a){if(this.isEmpty())return null;var c={},h=0,v=0,E=!0;if(this.forEachChild(St,function(R,O){c[R]=O.val(a),h++,E&&u.INTEGER_REGEXP_.test(R)?v=Math.max(v,Number(R)):E=!1}),!a&&E&&v<2*h){var D=[];for(var T in c)D[T]=c[T];return D}return a&&!this.getPriority().isEmpty()&&(c[".priority"]=this.getPriority().val()),c},u.prototype.hash=function(){if(null===this.lazyHash_){var a="";this.getPriority().isEmpty()||(a+="priority:"+Ia(this.getPriority().val())+":"),this.forEachChild(St,function(c,h){var v=h.hash();""!==v&&(a+=":"+c+":"+v)}),this.lazyHash_=""===a?"":Ae(a)}return this.lazyHash_},u.prototype.getPredecessorChildName=function(a,c,h){var v=this.resolveIndex_(h);if(v){var E=v.getPredecessorKey(new _t(a,c));return E?E.name:null}return this.children_.getPredecessorKey(a)},u.prototype.getFirstChildName=function(a){var c=this.resolveIndex_(a);if(c){var h=c.minKey();return h&&h.name}return this.children_.minKey()},u.prototype.getFirstChild=function(a){var c=this.getFirstChildName(a);return c?new _t(c,this.children_.get(c)):null},u.prototype.getLastChildName=function(a){var c=this.resolveIndex_(a);if(c){var h=c.maxKey();return h&&h.name}return this.children_.maxKey()},u.prototype.getLastChild=function(a){var c=this.getLastChildName(a);return c?new _t(c,this.children_.get(c)):null},u.prototype.forEachChild=function(a,c){var h=this.resolveIndex_(a);return h?h.inorderTraversal(function(v){return c(v.name,v.node)}):this.children_.inorderTraversal(c)},u.prototype.getIterator=function(a){return this.getIteratorFrom(a.minPost(),a)},u.prototype.getIteratorFrom=function(a,c){var h=this.resolveIndex_(c);if(h)return h.getIteratorFrom(a,function(D){return D});for(var v=this.children_.getIteratorFrom(a.name,_t.Wrap),E=v.peek();null!=E&&c.compare(E,a)<0;)v.getNext(),E=v.peek();return v},u.prototype.getReverseIterator=function(a){return this.getReverseIteratorFrom(a.maxPost(),a)},u.prototype.getReverseIteratorFrom=function(a,c){var h=this.resolveIndex_(c);if(h)return h.getReverseIteratorFrom(a,function(D){return D});for(var v=this.children_.getReverseIteratorFrom(a.name,_t.Wrap),E=v.peek();null!=E&&c.compare(E,a)>0;)v.getNext(),E=v.peek();return v},u.prototype.compareTo=function(a){return this.isEmpty()?a.isEmpty()?0:-1:a.isLeafNode()||a.isEmpty()?1:a===Ot?-1:0},u.prototype.withIndex=function(a){if(a===jr||this.indexMap_.hasIndex(a))return this;var c=this.indexMap_.addIndex(a,this.children_);return new u(this.children_,this.priorityNode_,c)},u.prototype.isIndexed=function(a){return a===jr||this.indexMap_.hasIndex(a)},u.prototype.equals=function(a){if(a===this)return!0;if(a.isLeafNode())return!1;var c=a;if(this.getPriority().equals(c.getPriority())){if(this.children_.count()===c.children_.count()){for(var h=this.getIterator(St),v=c.getIterator(St),E=h.getNext(),D=v.getNext();E&&D;){if(E.name!==D.name||!E.node.equals(D.node))return!1;E=h.getNext(),D=v.getNext()}return null===E&&null===D}return!1}return!1},u.prototype.resolveIndex_=function(a){return a===jr?null:this.indexMap_.get(a.toString())},u.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,u}(),Ot=new(function(u){function a(){return u.call(this,new Hr(Xr),Ye.EMPTY_NODE,Bt.Default)||this}return(0,W.ZT)(a,u),a.prototype.compareTo=function(c){return c===this?0:1},a.prototype.equals=function(c){return c===this},a.prototype.getPriority=function(){return this},a.prototype.getImmediateChild=function(c){return Ye.EMPTY_NODE},a.prototype.isEmpty=function(){return!1},a}(Ye));function Ht(u,a){if(void 0===a&&(a=null),null===u)return Ye.EMPTY_NODE;if("object"==typeof u&&".priority"in u&&(a=u[".priority"]),(0,A.hu)(null===a||"string"==typeof a||"number"==typeof a||"object"==typeof a&&".sv"in a,"Invalid priority type found: "+typeof a),"object"==typeof u&&".value"in u&&null!==u[".value"]&&(u=u[".value"]),"object"!=typeof u||".sv"in u)return new ro(u,Ht(a));if(u instanceof Array){var R=Ye.EMPTY_NODE;return Fe(u,function(O,k){if((0,A.r3)(u,O)&&"."!==O.substring(0,1)){var J=Ht(k);(J.isLeafNode()||!J.isEmpty())&&(R=R.updateImmediateChild(O,J))}}),R.updatePriority(Ht(a))}var h=[],v=!1;if(Fe(u,function(O,k){if("."!==O.substring(0,1)){var J=Ht(k);J.isEmpty()||(v=v||!J.getPriority().isEmpty(),h.push(new _t(O,J)))}}),0===h.length)return Ye.EMPTY_NODE;var D=Ta(h,Pl,function(O){return O.name},Xr);if(v){var T=Ta(h,St.getCompare());return new Ye(D,Ht(a),new Bt({".priority":T},{".priority":St}))}return new Ye(D,Ht(a),Bt.Default)}Object.defineProperties(_t,{MIN:{value:new _t(X,Ye.EMPTY_NODE)},MAX:{value:new _t(pe,Ot)}}),Nd.__EMPTY_NODE=Ye.EMPTY_NODE,ro.__childrenNodeConstructor=Ye,function(u){Iu=u}(Ot),function(u){Vl=u}(Ot),function(u){Ll=u}(Ht);var Yo=function(u){function a(c){var h=u.call(this)||this;return h.indexPath_=c,(0,A.hu)(!ct(c)&&".priority"!==st(c),"Can't create PathIndex with empty path or .priority key"),h}return(0,W.ZT)(a,u),a.prototype.extractChild=function(c){return c.getChild(this.indexPath_)},a.prototype.isDefinedOn=function(c){return!c.getChild(this.indexPath_).isEmpty()},a.prototype.compare=function(c,h){var v=this.extractChild(c.node),E=this.extractChild(h.node),D=v.compareTo(E);return 0===D?te(c.name,h.name):D},a.prototype.makePost=function(c,h){var v=Ht(c),E=Ye.EMPTY_NODE.updateChild(this.indexPath_,v);return new _t(h,E)},a.prototype.maxPost=function(){var c=Ye.EMPTY_NODE.updateChild(this.indexPath_,Ot);return new _t(pe,c)},a.prototype.toString=function(){return Vr(this.indexPath_,0).join("/")},a}(Du),Os=new(function(u){function a(){return null!==u&&u.apply(this,arguments)||this}return(0,W.ZT)(a,u),a.prototype.compare=function(c,h){var v=c.node.compareTo(h.node);return 0===v?te(c.name,h.name):v},a.prototype.isDefinedOn=function(c){return!0},a.prototype.indexedValueChanged=function(c,h){return!c.equals(h)},a.prototype.minPost=function(){return _t.MIN},a.prototype.maxPost=function(){return _t.MAX},a.prototype.makePost=function(c,h){var v=Ht(c);return new _t(h,v)},a.prototype.toString=function(){return".value"},a}(Du)),bi="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Hl=function(){var u=0,a=[];return function(c){var h=c===u;u=c;var v,E=new Array(8);for(v=7;v>=0;v--)E[v]=bi.charAt(c%64),c=Math.floor(c/64);(0,A.hu)(0===c,"Cannot push at time == 0");var D=E.join("");if(h){for(v=11;v>=0&&63===a[v];v--)a[v]=0;a[v]++}else for(v=0;v<12;v++)a[v]=Math.floor(64*Math.random());for(v=0;v<12;v++)D+=bi.charAt(a[v]);return(0,A.hu)(20===D.length,"nextPushId: Length should be 20."),D}}(),Ns=function(u){if(u===""+zt)return"-";var a=vn(u);if(null!=a)return""+(a+1);for(var c=new Array(u.length),h=0;h<c.length;h++)c[h]=u.charAt(h);if(c.length<786)return c.push("-"),c.join("");for(var v=c.length-1;v>=0&&"z"===c[v];)v--;if(-1===v)return pe;var D=bi.charAt(bi.indexOf(c[v])+1);return c[v]=D,c.slice(0,v+1).join("")},wi=function(u){if(u===""+ar)return X;var a=vn(u);if(null!=a)return""+(a-1);for(var c=new Array(u.length),h=0;h<c.length;h++)c[h]=u.charAt(h);return"-"===c[c.length-1]?1===c.length?""+zt:(delete c[c.length-1],c.join("")):(c[c.length-1]=bi.charAt(bi.indexOf(c[c.length-1])-1),c.join("")+"z".repeat(786-c.length))};function Tu(u){return{type:"value",snapshotNode:u}}function Ii(u,a){return{type:"child_added",snapshotNode:a,childName:u}}function Ge(u,a){return{type:"child_removed",snapshotNode:a,childName:u}}function Ps(u,a,c){return{type:"child_changed",snapshotNode:a,childName:u,oldSnap:c}}var Su=function(){function u(a){this.index_=a}return u.prototype.updateChild=function(a,c,h,v,E,D){(0,A.hu)(a.isIndexed(this.index_),"A node must be indexed if only a child is updated");var T=a.getImmediateChild(c);return T.getChild(v).equals(h.getChild(v))&&T.isEmpty()===h.isEmpty()||(null!=D&&(h.isEmpty()?a.hasChild(c)?D.trackChildChange(Ge(c,T)):(0,A.hu)(a.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):T.isEmpty()?D.trackChildChange(Ii(c,h)):D.trackChildChange(Ps(c,h,T))),a.isLeafNode()&&h.isEmpty())?a:a.updateImmediateChild(c,h).withIndex(this.index_)},u.prototype.updateFullNode=function(a,c,h){return null!=h&&(a.isLeafNode()||a.forEachChild(St,function(v,E){c.hasChild(v)||h.trackChildChange(Ge(v,E))}),c.isLeafNode()||c.forEachChild(St,function(v,E){if(a.hasChild(v)){var D=a.getImmediateChild(v);D.equals(E)||h.trackChildChange(Ps(v,E,D))}else h.trackChildChange(Ii(v,E))})),c.withIndex(this.index_)},u.prototype.updatePriority=function(a,c){return a.isEmpty()?Ye.EMPTY_NODE:a.updatePriority(c)},u.prototype.filtersNodes=function(){return!1},u.prototype.getIndexedFilter=function(){return this},u.prototype.getIndex=function(){return this.index_},u}(),$l=function(){function u(a){this.indexedFilter_=new Su(a.getIndex()),this.index_=a.getIndex(),this.startPost_=u.getStartPost_(a),this.endPost_=u.getEndPost_(a)}return u.prototype.getStartPost=function(){return this.startPost_},u.prototype.getEndPost=function(){return this.endPost_},u.prototype.matches=function(a){return this.index_.compare(this.getStartPost(),a)<=0&&this.index_.compare(a,this.getEndPost())<=0},u.prototype.updateChild=function(a,c,h,v,E,D){return this.matches(new _t(c,h))||(h=Ye.EMPTY_NODE),this.indexedFilter_.updateChild(a,c,h,v,E,D)},u.prototype.updateFullNode=function(a,c,h){c.isLeafNode()&&(c=Ye.EMPTY_NODE);var v=c.withIndex(this.index_);v=v.updatePriority(Ye.EMPTY_NODE);var E=this;return c.forEachChild(St,function(D,T){E.matches(new _t(D,T))||(v=v.updateImmediateChild(D,Ye.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(a,v,h)},u.prototype.updatePriority=function(a,c){return a},u.prototype.filtersNodes=function(){return!0},u.prototype.getIndexedFilter=function(){return this.indexedFilter_},u.prototype.getIndex=function(){return this.index_},u.getStartPost_=function(a){if(a.hasStart()){var c=a.getIndexStartName();return a.getIndex().makePost(a.getIndexStartValue(),c)}return a.getIndex().minPost()},u.getEndPost_=function(a){if(a.hasEnd()){var c=a.getIndexEndName();return a.getIndex().makePost(a.getIndexEndValue(),c)}return a.getIndex().maxPost()},u}(),Ld=function(){function u(a){this.rangedFilter_=new $l(a),this.index_=a.getIndex(),this.limit_=a.getLimit(),this.reverse_=!a.isViewFromLeft()}return u.prototype.updateChild=function(a,c,h,v,E,D){return this.rangedFilter_.matches(new _t(c,h))||(h=Ye.EMPTY_NODE),a.getImmediateChild(c).equals(h)?a:a.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(a,c,h,v,E,D):this.fullLimitUpdateChild_(a,c,h,E,D)},u.prototype.updateFullNode=function(a,c,h){var v;if(c.isLeafNode()||c.isEmpty())v=Ye.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<c.numChildren()&&c.isIndexed(this.index_)){v=Ye.EMPTY_NODE.withIndex(this.index_);var E=void 0;E=this.reverse_?c.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):c.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var D=0;E.hasNext()&&D<this.limit_;){var T=E.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),T)<=0:this.index_.compare(T,this.rangedFilter_.getEndPost())<=0))break;v=v.updateImmediateChild(T.name,T.node),D++}}else{v=(v=c.withIndex(this.index_)).updatePriority(Ye.EMPTY_NODE);var O=void 0,k=void 0,J=void 0;if(E=void 0,this.reverse_){E=v.getReverseIterator(this.index_),O=this.rangedFilter_.getEndPost(),k=this.rangedFilter_.getStartPost();var le=this.index_.getCompare();J=function(Pe,Xe){return le(Xe,Pe)}}else E=v.getIterator(this.index_),O=this.rangedFilter_.getStartPost(),k=this.rangedFilter_.getEndPost(),J=this.index_.getCompare();D=0;for(var _e=!1;E.hasNext();)T=E.getNext(),!_e&&J(O,T)<=0&&(_e=!0),_e&&D<this.limit_&&J(T,k)<=0?D++:v=v.updateImmediateChild(T.name,Ye.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(a,v,h)},u.prototype.updatePriority=function(a,c){return a},u.prototype.filtersNodes=function(){return!0},u.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},u.prototype.getIndex=function(){return this.index_},u.prototype.fullLimitUpdateChild_=function(a,c,h,v,E){var D;if(this.reverse_){var T=this.index_.getCompare();D=function(Wt,Kn){return T(Kn,Wt)}}else D=this.index_.getCompare();var R=a;(0,A.hu)(R.numChildren()===this.limit_,"");var O=new _t(c,h),k=this.reverse_?R.getFirstChild(this.index_):R.getLastChild(this.index_),J=this.rangedFilter_.matches(O);if(R.hasChild(c)){for(var le=R.getImmediateChild(c),_e=v.getChildAfterChild(this.index_,k,this.reverse_);null!=_e&&(_e.name===c||R.hasChild(_e.name));)_e=v.getChildAfterChild(this.index_,_e,this.reverse_);var Ie=null==_e?1:D(_e,O);if(J&&!h.isEmpty()&&Ie>=0)return null!=E&&E.trackChildChange(Ps(c,h,le)),R.updateImmediateChild(c,h);null!=E&&E.trackChildChange(Ge(c,le));var Pe=R.updateImmediateChild(c,Ye.EMPTY_NODE);return null!=_e&&this.rangedFilter_.matches(_e)?(null!=E&&E.trackChildChange(Ii(_e.name,_e.node)),Pe.updateImmediateChild(_e.name,_e.node)):Pe}return h.isEmpty()?a:J&&D(k,O)>=0?(null!=E&&(E.trackChildChange(Ge(k.name,k.node)),E.trackChildChange(Ii(c,h))),R.updateImmediateChild(c,h).updateImmediateChild(k.name,Ye.EMPTY_NODE)):a},u}(),Gl=function(){function u(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=St}return u.prototype.hasStart=function(){return this.startSet_},u.prototype.hasStartAfter=function(){return this.startAfterSet_},u.prototype.hasEndBefore=function(){return this.endBeforeSet_},u.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},u.prototype.getIndexStartValue=function(){return(0,A.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},u.prototype.getIndexStartName=function(){return(0,A.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:X},u.prototype.hasEnd=function(){return this.endSet_},u.prototype.getIndexEndValue=function(){return(0,A.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},u.prototype.getIndexEndName=function(){return(0,A.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:pe},u.prototype.hasLimit=function(){return this.limitSet_},u.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},u.prototype.getLimit=function(){return(0,A.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_},u.prototype.getIndex=function(){return this.index_},u.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},u.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===St},u.prototype.copy=function(){var a=new u;return a.limitSet_=this.limitSet_,a.limit_=this.limit_,a.startSet_=this.startSet_,a.indexStartValue_=this.indexStartValue_,a.startNameSet_=this.startNameSet_,a.indexStartName_=this.indexStartName_,a.endSet_=this.endSet_,a.indexEndValue_=this.indexEndValue_,a.endNameSet_=this.endNameSet_,a.indexEndName_=this.indexEndName_,a.index_=this.index_,a.viewFrom_=this.viewFrom_,a},u}();function Ma(u,a,c){var h=u.copy();return h.startSet_=!0,void 0===a&&(a=null),h.indexStartValue_=a,null!=c?(h.startNameSet_=!0,h.indexStartName_=c):(h.startNameSet_=!1,h.indexStartName_=""),h}function ks(u,a,c){var h=u.copy();return h.endSet_=!0,void 0===a&&(a=null),h.indexEndValue_=a,void 0!==c?(h.endNameSet_=!0,h.indexEndName_=c):(h.endNameSet_=!1,h.indexEndName_=""),h}function kn(u,a){var c=u.copy();return c.index_=a,c}function Ls(u){var c,a={};return u.isDefault()||(u.index_===St?c="$priority":u.index_===Os?c="$value":u.index_===jr?c="$key":((0,A.hu)(u.index_ instanceof Yo,"Unrecognized index type!"),c=u.index_.toString()),a.orderBy=(0,A.Pz)(c),u.startSet_&&(a.startAt=(0,A.Pz)(u.indexStartValue_),u.startNameSet_&&(a.startAt+=","+(0,A.Pz)(u.indexStartName_))),u.endSet_&&(a.endAt=(0,A.Pz)(u.indexEndValue_),u.endNameSet_&&(a.endAt+=","+(0,A.Pz)(u.indexEndName_))),u.limitSet_&&(u.isViewFromLeft()?a.limitToFirst=u.limit_:a.limitToLast=u.limit_)),a}function Vs(u){var a={};if(u.startSet_&&(a.sp=u.indexStartValue_,u.startNameSet_&&(a.sn=u.indexStartName_)),u.endSet_&&(a.ep=u.indexEndValue_,u.endNameSet_&&(a.en=u.indexEndName_)),u.limitSet_){a.l=u.limit_;var c=u.viewFrom_;""===c&&(c=u.isViewFromLeft()?"l":"r"),a.vf=c}return u.index_!==St&&(a.i=u.index_.toString()),a}var Jh=function(u){function a(c,h,v,E){var D=u.call(this)||this;return D.repoInfo_=c,D.onDataUpdate_=h,D.authTokenProvider_=v,D.appCheckTokenProvider_=E,D.log_=Et("p:rest:"),D.listens_={},D}return(0,W.ZT)(a,u),a.prototype.reportStats=function(c){throw new Error("Method not implemented.")},a.getListenId_=function(c,h){return void 0!==h?"tag$"+h:((0,A.hu)(c._queryParams.isDefault(),"should have a tag if it's not a default query."),c._path.toString())},a.prototype.listen=function(c,h,v,E){var D=this,T=c._path.toString();this.log_("Listen called for "+T+" "+c._queryIdentifier);var R=a.getListenId_(c,v),O={};this.listens_[R]=O;var k=Ls(c._queryParams);this.restRequest_(T+".json",k,function(J,le){var _e=le;404===J&&(_e=null,J=null),null===J&&D.onDataUpdate_(T,_e,!1,v),(0,A.DV)(D.listens_,R)===O&&E(J?401===J?"permission_denied":"rest_error:"+J:"ok",null)})},a.prototype.unlisten=function(c,h){var v=a.getListenId_(c,h);delete this.listens_[v]},a.prototype.get=function(c){var h=this,v=Ls(c._queryParams),E=c._path.toString(),D=new A.BH;return this.restRequest_(E+".json",v,function(T,R){var O=R;404===T&&(O=null,T=null),null===T?(h.onDataUpdate_(E,O,!1,null),D.resolve(O)):D.reject(new Error(O))}),D.promise},a.prototype.refreshAuthToken=function(c){},a.prototype.restRequest_=function(c,h,v){var E=this;return void 0===h&&(h={}),h.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(D){var T=(0,W.CR)(D,2),R=T[0],O=T[1];R&&R.accessToken&&(h.auth=R.accessToken),O&&O.token&&(h.ac=O.token);var k=(E.repoInfo_.secure?"https://":"http://")+E.repoInfo_.host+c+"?ns="+E.repoInfo_.namespace+(0,A.xO)(h);E.log_("Sending REST request for "+k);var J=new XMLHttpRequest;J.onreadystatechange=function(){if(v&&4===J.readyState){E.log_("REST Response for "+k+" received. status:",J.status,"response:",J.responseText);var le=null;if(J.status>=200&&J.status<300){try{le=(0,A.cI)(J.responseText)}catch(_e){It("Failed to parse JSON response for "+k+": "+J.responseText)}v(null,le)}else 401!==J.status&&404!==J.status&&It("Got unsuccessful REST response for "+k+" Status: "+J.status),v(J.status);v=null}},J.open("GET",k,!0),J.send()})},a}(ba),Vd=function(){function u(){this.rootNode_=Ye.EMPTY_NODE}return u.prototype.getNode=function(a){return this.rootNode_.getChild(a)},u.prototype.updateSnapshot=function(a,c){this.rootNode_=this.rootNode_.updateChild(a,c)},u}();function oo(){return{value:null,children:new Map}}function ei(u,a,c){if(ct(a))u.value=c,u.children.clear();else if(null!==u.value)u.value=u.value.updateChild(a,c);else{var h=st(a);u.children.has(h)||u.children.set(h,oo()),ei(u.children.get(h),a=Dt(a),c)}}function sn(u,a){if(ct(a))return u.value=null,u.children.clear(),!0;if(null!==u.value){if(u.value.isLeafNode())return!1;var c=u.value;return u.value=null,c.forEachChild(St,function(E,D){ei(u,new ot(E),D)}),sn(u,a)}if(u.children.size>0){var h=st(a);return a=Dt(a),u.children.has(h)&&sn(u.children.get(h),a)&&u.children.delete(h),0===u.children.size}return!0}function tr(u,a,c){null!==u.value?c(a,u.value):function(u,a){u.children.forEach(function(c,h){a(h,c)})}(u,function(h,v){tr(v,new ot(a.toString()+"/"+h),c)})}var ti=function(){function u(a){this.collection_=a,this.last_=null}return u.prototype.get=function(){var a=this.collection_.get(),c=(0,W.pi)({},a);return this.last_&&Fe(this.last_,function(h,v){c[h]=c[h]-v}),this.last_=a,c},u}(),zl=function(){function u(a,c){this.server_=c,this.statsToReport_={},this.statsListener_=new ti(a);var h=1e4+2e4*Math.random();vi(this.reportStats_.bind(this),Math.floor(h))}return u.prototype.reportStats_=function(){var a=this,c=this.statsListener_.get(),h={},v=!1;Fe(c,function(E,D){D>0&&(0,A.r3)(a.statsToReport_,E)&&(h[E]=D,v=!0)}),v&&this.server_.reportStats(h),vi(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},u}(),Wn=(()=>(function(u){u[u.OVERWRITE=0]="OVERWRITE",u[u.MERGE=1]="MERGE",u[u.ACK_USER_WRITE=2]="ACK_USER_WRITE",u[u.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Wn||(Wn={})),Wn))();function so(u){return{fromUser:!1,fromServer:!0,queryId:u,tagged:!0}}var Yl=function(){function u(a,c,h){this.path=a,this.affectedTree=c,this.revert=h,this.type=Wn.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return u.prototype.operationForChild=function(a){if(ct(this.path)){if(null!=this.affectedTree.value)return(0,A.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var c=this.affectedTree.subtree(new ot(a));return new u(ke(),c,this.revert)}return(0,A.hu)(st(this.path)===a,"operationForChild called for unrelated child."),new u(Dt(this.path),this.affectedTree,this.revert)},u}(),Mu=function(){function u(a,c){this.source=a,this.path=c,this.type=Wn.LISTEN_COMPLETE}return u.prototype.operationForChild=function(a){return ct(this.path)?new u(this.source,ke()):new u(this.source,Dt(this.path))},u}(),ao=function(){function u(a,c,h){this.source=a,this.path=c,this.snap=h,this.type=Wn.OVERWRITE}return u.prototype.operationForChild=function(a){return ct(this.path)?new u(this.source,ke(),this.snap.getImmediateChild(a)):new u(this.source,Dt(this.path),this.snap)},u}(),xa=function(){function u(a,c,h){this.source=a,this.path=c,this.children=h,this.type=Wn.MERGE}return u.prototype.operationForChild=function(a){if(ct(this.path)){var c=this.children.subtree(new ot(a));return c.isEmpty()?null:c.value?new ao(this.source,ke(),c.value):new u(this.source,ke(),c)}return(0,A.hu)(st(this.path)===a,"Can't get a merge for a child not on the path of the operation"),new u(this.source,Dt(this.path),this.children)},u.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},u}(),Ai=function(){function u(a,c,h){this.node_=a,this.fullyInitialized_=c,this.filtered_=h}return u.prototype.isFullyInitialized=function(){return this.fullyInitialized_},u.prototype.isFiltered=function(){return this.filtered_},u.prototype.isCompleteForPath=function(a){if(ct(a))return this.isFullyInitialized()&&!this.filtered_;var c=st(a);return this.isCompleteForChild(c)},u.prototype.isCompleteForChild=function(a){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(a)},u.prototype.getNode=function(){return this.node_},u}(),Ql=function(a){this.query_=a,this.index_=this.query_._queryParams.getIndex()};function ni(u,a,c,h,v,E){var D=h.filter(function(T){return T.type===c});D.sort(function(T,R){return function(u,a,c){if(null==a.childName||null==c.childName)throw(0,A.g5)("Should only compare child_ events.");var h=new _t(a.childName,a.snapshotNode),v=new _t(c.childName,c.snapshotNode);return u.index_.compare(h,v)}(u,T,R)}),D.forEach(function(T){var R=function(u,a,c){return"value"===a.type||"child_removed"===a.type||(a.prevName=c.getPredecessorChildName(a.childName,a.snapshotNode,u.index_)),a}(u,T,E);v.forEach(function(O){O.respondsTo(T.type)&&a.push(O.createEvent(R,u.query_))})})}function fn(u,a){return{eventCache:u,serverCache:a}}function Ir(u,a,c,h){return fn(new Ai(a,c,h),u.serverCache)}function qt(u,a,c,h){return fn(u.eventCache,new Ai(a,c,h))}function Oa(u){return u.eventCache.isFullyInitialized()?u.eventCache.getNode():null}function Qo(u){return u.serverCache.isFullyInitialized()?u.serverCache.getNode():null}var Ru,nr=function(){function u(a,c){void 0===c&&(Ru||(Ru=new Hr(je)),c=Ru),this.value=a,this.children=c}return u.fromObject=function(a){var c=new u(null);return Fe(a,function(h,v){c=c.set(new ot(h),v)}),c},u.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},u.prototype.findRootMostMatchingPathAndValue=function(a,c){if(null!=this.value&&c(this.value))return{path:ke(),value:this.value};if(ct(a))return null;var h=st(a),v=this.children.get(h);if(null!==v){var E=v.findRootMostMatchingPathAndValue(Dt(a),c);return null!=E?{path:lt(new ot(h),E.path),value:E.value}:null}return null},u.prototype.findRootMostValueAndPath=function(a){return this.findRootMostMatchingPathAndValue(a,function(){return!0})},u.prototype.subtree=function(a){if(ct(a))return this;var c=st(a),h=this.children.get(c);return null!==h?h.subtree(Dt(a)):new u(null)},u.prototype.set=function(a,c){if(ct(a))return new u(c,this.children);var h=st(a),E=(this.children.get(h)||new u(null)).set(Dt(a),c),D=this.children.insert(h,E);return new u(this.value,D)},u.prototype.remove=function(a){if(ct(a))return this.children.isEmpty()?new u(null):new u(null,this.children);var c=st(a),h=this.children.get(c);if(h){var v=h.remove(Dt(a)),E=void 0;return E=v.isEmpty()?this.children.remove(c):this.children.insert(c,v),null===this.value&&E.isEmpty()?new u(null):new u(this.value,E)}return this},u.prototype.get=function(a){if(ct(a))return this.value;var c=st(a),h=this.children.get(c);return h?h.get(Dt(a)):null},u.prototype.setTree=function(a,c){if(ct(a))return c;var D,h=st(a),E=(this.children.get(h)||new u(null)).setTree(Dt(a),c);return D=E.isEmpty()?this.children.remove(h):this.children.insert(h,E),new u(this.value,D)},u.prototype.fold=function(a){return this.fold_(ke(),a)},u.prototype.fold_=function(a,c){var h={};return this.children.inorderTraversal(function(v,E){h[v]=E.fold_(lt(a,v),c)}),c(a,this.value,h)},u.prototype.findOnPath=function(a,c){return this.findOnPath_(a,ke(),c)},u.prototype.findOnPath_=function(a,c,h){var v=!!this.value&&h(c,this.value);if(v)return v;if(ct(a))return null;var E=st(a),D=this.children.get(E);return D?D.findOnPath_(Dt(a),lt(c,E),h):null},u.prototype.foreachOnPath=function(a,c){return this.foreachOnPath_(a,ke(),c)},u.prototype.foreachOnPath_=function(a,c,h){if(ct(a))return this;this.value&&h(c,this.value);var v=st(a),E=this.children.get(v);return E?E.foreachOnPath_(Dt(a),lt(c,v),h):new u(null)},u.prototype.foreach=function(a){this.foreach_(ke(),a)},u.prototype.foreach_=function(a,c){this.children.inorderTraversal(function(h,v){v.foreach_(lt(a,h),c)}),this.value&&c(a,this.value)},u.prototype.foreachChild=function(a){this.children.inorderTraversal(function(c,h){h.value&&a(c,h.value)})},u}(),Ar=function(){function u(a){this.writeTree_=a}return u.empty=function(){return new u(new nr(null))},u}();function Ti(u,a,c){if(ct(a))return new Ar(new nr(c));var h=u.writeTree_.findRootMostValueAndPath(a);if(null!=h){var v=h.path,E=h.value,D=jt(v,a);return E=E.updateChild(D,c),new Ar(u.writeTree_.set(v,E))}var T=new nr(c),R=u.writeTree_.setTree(a,T);return new Ar(R)}function Si(u,a,c){var h=u;return Fe(c,function(v,E){h=Ti(h,lt(a,v),E)}),h}function Us(u,a){if(ct(a))return Ar.empty();var c=u.writeTree_.setTree(a,new nr(null));return new Ar(c)}function js(u,a){return null!=Mi(u,a)}function Mi(u,a){var c=u.writeTree_.findRootMostValueAndPath(a);return null!=c?u.writeTree_.get(c.path).getChild(jt(c.path,a)):null}function ql(u){var a=[],c=u.writeTree_.value;return null!=c?c.isLeafNode()||c.forEachChild(St,function(h,v){a.push(new _t(h,v))}):u.writeTree_.children.inorderTraversal(function(h,v){null!=v.value&&a.push(new _t(h,v.value))}),a}function Ln(u,a){if(ct(a))return u;var c=Mi(u,a);return new Ar(null!=c?new nr(c):u.writeTree_.subtree(a))}function qo(u){return u.writeTree_.isEmpty()}function Hs(u,a){return Kl(ke(),u.writeTree_,a)}function Kl(u,a,c){if(null!=a.value)return c.updateChild(u,a.value);var h=null;return a.children.inorderTraversal(function(v,E){".priority"===v?((0,A.hu)(null!==E.value,"Priority writes must always be leaf nodes"),h=E.value):c=Kl(lt(u,v),E,c)}),!c.getChild(u).isEmpty()&&null!==h&&(c=c.updateChild(lt(u,".priority"),h)),c}function Ri(u,a){return Pu(a,u)}function Ug(u,a){if(u.snap)return Fn(u.path,a);for(var c in u.children)if(u.children.hasOwnProperty(c)&&Fn(lt(u.path,c),a))return!0;return!1}function Zl(u){return u.visible}function Tr(u,a,c){for(var h=Ar.empty(),v=0;v<u.length;++v){var E=u[v];if(a(E)){var D=E.path,T=void 0;if(E.snap)Fn(c,D)?h=Ti(h,T=jt(c,D),E.snap):Fn(D,c)&&(T=jt(D,c),h=Ti(h,ke(),E.snap.getChild(T)));else{if(!E.children)throw(0,A.g5)("WriteRecord should have .snap or .children");if(Fn(c,D))h=Si(h,T=jt(c,D),E.children);else if(Fn(D,c))if(ct(T=jt(D,c)))h=Si(h,ke(),E.children);else{var R=(0,A.DV)(E.children,st(T));if(R){var O=R.getChild(Dt(T));h=Ti(h,ke(),O)}}}}}return h}function $s(u,a,c,h,v){if(h||v){var R=Ln(u.visibleWrites,a);return!v&&qo(R)?c:v||null!=c||js(R,ke())?Hs(Tr(u.allWrites,function(le){return(le.visible||v)&&(!h||!~h.indexOf(le.writeId))&&(Fn(le.path,a)||Fn(a,le.path))},a),c||Ye.EMPTY_NODE):null}var E=Mi(u.visibleWrites,a);if(null!=E)return E;var D=Ln(u.visibleWrites,a);return qo(D)?c:null!=c||js(D,ke())?Hs(D,c||Ye.EMPTY_NODE):null}function lo(u,a,c,h){return $s(u.writeTree,u.treePath,a,c,h)}function zd(u,a){return function(u,a,c){var h=Ye.EMPTY_NODE,v=Mi(u.visibleWrites,a);if(v)return v.isLeafNode()||v.forEachChild(St,function(T,R){h=h.updateImmediateChild(T,R)}),h;if(c){var E=Ln(u.visibleWrites,a);return c.forEachChild(St,function(T,R){var O=Hs(Ln(E,new ot(T)),R);h=h.updateImmediateChild(T,O)}),ql(E).forEach(function(T){h=h.updateImmediateChild(T.name,T.node)}),h}return ql(Ln(u.visibleWrites,a)).forEach(function(T){h=h.updateImmediateChild(T.name,T.node)}),h}(u.writeTree,u.treePath,a)}function Nu(u,a,c,h){return function(u,a,c,h,v){(0,A.hu)(h||v,"Either existingEventSnap or existingServerSnap must exist");var E=lt(a,c);if(js(u.visibleWrites,E))return null;var D=Ln(u.visibleWrites,E);return qo(D)?v.getChild(c):Hs(D,v.getChild(c))}(u.writeTree,u.treePath,a,c,h)}function Pa(u,a){return function(u,a){return Mi(u.visibleWrites,a)}(u.writeTree,lt(u.treePath,a))}function ec(u,a,c){return function(u,a,c,h){var v=lt(a,c),E=Mi(u.visibleWrites,v);return null!=E?E:h.isCompleteForChild(c)?Hs(Ln(u.visibleWrites,v),h.getNode().getImmediateChild(c)):null}(u.writeTree,u.treePath,a,c)}function Ko(u,a){return Pu(lt(u.treePath,a),u.writeTree)}function Pu(u,a){return{treePath:u,writeTree:a}}var Fa=function(){function u(){this.changeMap=new Map}return u.prototype.trackChildChange=function(a){var c=a.type,h=a.childName;(0,A.hu)("child_added"===c||"child_changed"===c||"child_removed"===c,"Only child changes supported for tracking"),(0,A.hu)(".priority"!==h,"Only non-priority child changes can be tracked.");var v=this.changeMap.get(h);if(v){var E=v.type;if("child_added"===c&&"child_removed"===E)this.changeMap.set(h,Ps(h,a.snapshotNode,v.snapshotNode));else if("child_removed"===c&&"child_added"===E)this.changeMap.delete(h);else if("child_removed"===c&&"child_changed"===E)this.changeMap.set(h,Ge(h,v.oldSnap));else if("child_changed"===c&&"child_added"===E)this.changeMap.set(h,Ii(h,a.snapshotNode));else{if("child_changed"!==c||"child_changed"!==E)throw(0,A.g5)("Illegal combination of changes: "+a+" occurred after "+v);this.changeMap.set(h,Ps(h,a.snapshotNode,v.oldSnap))}}else this.changeMap.set(h,a)},u.prototype.getChanges=function(){return Array.from(this.changeMap.values())},u}(),Ws=new(function(){function u(){}return u.prototype.getCompleteChild=function(a){return null},u.prototype.getChildAfterChild=function(a,c,h){return null},u}()),gr=function(){function u(a,c,h){void 0===h&&(h=null),this.writes_=a,this.viewCache_=c,this.optCompleteServerCache_=h}return u.prototype.getCompleteChild=function(a){var c=this.viewCache_.eventCache;if(c.isCompleteForChild(a))return c.getNode().getImmediateChild(a);var h=null!=this.optCompleteServerCache_?new Ai(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ec(this.writes_,a,h)},u.prototype.getChildAfterChild=function(a,c,h){var v=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Qo(this.viewCache_),E=function(u,a,c,h,v,E){return function(u,a,c,h,v,E,D){var T,R=Ln(u.visibleWrites,a),O=Mi(R,ke());if(null!=O)T=O;else{if(null==c)return[];T=Hs(R,c)}if((T=T.withIndex(D)).isEmpty()||T.isLeafNode())return[];for(var k=[],J=D.getCompare(),le=E?T.getReverseIteratorFrom(h,D):T.getIteratorFrom(h,D),_e=le.getNext();_e&&k.length<v;)0!==J(_e,h)&&k.push(_e),_e=le.getNext();return k}(u.writeTree,u.treePath,a,c,h,v,E)}(this.writes_,v,c,1,h,a);return 0===E.length?null:E[0]},u}();function hn(u,a,c,h,v,E){var D=a.eventCache;if(null!=Pa(h,c))return a;var T=void 0,R=void 0;if(ct(c))if((0,A.hu)(a.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),a.serverCache.isFiltered()){var O=Qo(a),J=zd(h,O instanceof Ye?O:Ye.EMPTY_NODE);T=u.filter.updateFullNode(a.eventCache.getNode(),J,E)}else{var le=lo(h,Qo(a));T=u.filter.updateFullNode(a.eventCache.getNode(),le,E)}else{var _e=st(c);if(".priority"===_e){(0,A.hu)(1===Ei(c),"Can't have a priority with additional path components");var Ie=D.getNode(),We=Nu(h,c,Ie,R=a.serverCache.getNode());T=null!=We?u.filter.updatePriority(Ie,We):D.getNode()}else{var Pe=Dt(c),Xe=void 0;if(D.isCompleteForChild(_e)){R=a.serverCache.getNode();var Wt=Nu(h,c,D.getNode(),R);Xe=null!=Wt?D.getNode().getImmediateChild(_e).updateChild(Pe,Wt):D.getNode().getImmediateChild(_e)}else Xe=ec(h,_e,a.serverCache);T=null!=Xe?u.filter.updateChild(D.getNode(),_e,Xe,Pe,v,E):D.getNode()}}return Ir(a,T,D.isFullyInitialized()||ct(c),u.filter.filtersNodes())}function ri(u,a,c,h,v,E,D,T){var O,R=a.serverCache,k=D?u.filter:u.filter.getIndexedFilter();if(ct(c))O=k.updateFullNode(R.getNode(),h,null);else if(k.filtersNodes()&&!R.isFiltered()){var J=R.getNode().updateChild(c,h);O=k.updateFullNode(R.getNode(),J,null)}else{var le=st(c);if(!R.isCompleteForPath(c)&&Ei(c)>1)return a;var _e=Dt(c),We=R.getNode().getImmediateChild(le).updateChild(_e,h);O=".priority"===le?k.updatePriority(R.getNode(),We):k.updateChild(R.getNode(),le,We,_e,Ws,null)}var Pe=qt(a,O,R.isFullyInitialized()||ct(c),k.filtersNodes());return hn(u,Pe,c,v,new gr(v,Pe,E),T)}function Kt(u,a,c,h,v,E,D){var R,O,T=a.eventCache,k=new gr(v,a,E);if(ct(c))O=u.filter.updateFullNode(a.eventCache.getNode(),h,D),R=Ir(a,O,!0,u.filter.filtersNodes());else{var J=st(c);if(".priority"===J)O=u.filter.updatePriority(a.eventCache.getNode(),h),R=Ir(a,O,T.isFullyInitialized(),T.isFiltered());else{var le=Dt(c),_e=T.getNode().getImmediateChild(J),Ie=void 0;if(ct(le))Ie=h;else{var We=k.getCompleteChild(J);Ie=null!=We?".priority"===Ss(le)&&We.getChild(Br(le)).isEmpty()?We:We.updateChild(le,h):Ye.EMPTY_NODE}R=_e.equals(Ie)?a:Ir(a,u.filter.updateChild(T.getNode(),J,Ie,le,k,D),T.isFullyInitialized(),u.filter.filtersNodes())}}return R}function Zo(u,a){return u.eventCache.isCompleteForChild(a)}function rr(u,a,c){return c.foreach(function(h,v){a=a.updateChild(h,v)}),a}function co(u,a,c,h,v,E,D,T){if(a.serverCache.getNode().isEmpty()&&!a.serverCache.isFullyInitialized())return a;var O,R=a;O=ct(c)?h:new nr(null).setTree(c,h);var k=a.serverCache.getNode();return O.children.inorderTraversal(function(J,le){if(k.hasChild(J)){var Ie=rr(0,a.serverCache.getNode().getImmediateChild(J),le);R=ri(u,R,new ot(J),Ie,v,E,D,T)}}),O.children.inorderTraversal(function(J,le){var _e=!a.serverCache.isCompleteForChild(J)&&void 0===le.value;if(!k.hasChild(J)&&!_e){var We=rr(0,a.serverCache.getNode().getImmediateChild(J),le);R=ri(u,R,new ot(J),We,v,E,D,T)}}),R}var ku=function(){function u(a,c){this.query_=a,this.eventRegistrations_=[];var h=this.query_._queryParams,v=new Su(h.getIndex()),E=function(u){return u.loadsAllData()?new Su(u.getIndex()):u.hasLimit()?new Ld(u):new $l(u)}(h);this.processor_=function(u){return{filter:u}}(E);var D=c.serverCache,T=c.eventCache,R=v.updateFullNode(Ye.EMPTY_NODE,D.getNode(),null),O=E.updateFullNode(Ye.EMPTY_NODE,T.getNode(),null),k=new Ai(R,D.isFullyInitialized(),v.filtersNodes()),J=new Ai(O,T.isFullyInitialized(),E.filtersNodes());this.viewCache_=fn(J,k),this.eventGenerator_=new Ql(this.query_)}return Object.defineProperty(u.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),u}();function es(u,a){var c=Qo(u.viewCache_);return c&&(u.query._queryParams.loadsAllData()||!ct(a)&&!c.getImmediateChild(st(a)).isEmpty())?c.getChild(a):null}function ts(u){return 0===u.eventRegistrations_.length}function xi(u,a,c){var h=[];if(c){(0,A.hu)(null==a,"A cancel should cancel all event registrations.");var v=u.query._path;u.eventRegistrations_.forEach(function(R){var O=R.createCancelEvent(c,v);O&&h.push(O)})}if(a){for(var E=[],D=0;D<u.eventRegistrations_.length;++D){var T=u.eventRegistrations_[D];if(T.matches(a)){if(a.hasAnyCallback()){E=E.concat(u.eventRegistrations_.slice(D+1));break}}else E.push(T)}u.eventRegistrations_=E}else u.eventRegistrations_=[];return h}function Qd(u,a,c,h){a.type===Wn.MERGE&&null!==a.source.queryId&&((0,A.hu)(Qo(u.viewCache_),"We should always have a full cache before handling merges"),(0,A.hu)(Oa(u.viewCache_),"Missing event cache, even though we have a server cache"));var v=u.viewCache_,E=function(u,a,c,h,v){var D,T,E=new Fa;if(c.type===Wn.OVERWRITE){var R=c;R.source.fromUser?D=Kt(u,a,R.path,R.snap,h,v,E):((0,A.hu)(R.source.fromServer,"Unknown source."),T=R.source.tagged||a.serverCache.isFiltered()&&!ct(R.path),D=ri(u,a,R.path,R.snap,h,v,T,E))}else if(c.type===Wn.MERGE){var O=c;O.source.fromUser?D=function(u,a,c,h,v,E,D){var T=a;return h.foreach(function(R,O){var k=lt(c,R);Zo(a,st(k))&&(T=Kt(u,T,k,O,v,E,D))}),h.foreach(function(R,O){var k=lt(c,R);Zo(a,st(k))||(T=Kt(u,T,k,O,v,E,D))}),T}(u,a,O.path,O.children,h,v,E):((0,A.hu)(O.source.fromServer,"Unknown source."),T=O.source.tagged||a.serverCache.isFiltered(),D=co(u,a,O.path,O.children,h,v,T,E))}else if(c.type===Wn.ACK_USER_WRITE){var k=c;D=k.revert?function(u,a,c,h,v,E){var D;if(null!=Pa(h,c))return a;var T=new gr(h,a,v),R=a.eventCache.getNode(),O=void 0;if(ct(c)||".priority"===st(c)){var k=void 0;if(a.serverCache.isFullyInitialized())k=lo(h,Qo(a));else{var J=a.serverCache.getNode();(0,A.hu)(J instanceof Ye,"serverChildren would be complete if leaf node"),k=zd(h,J)}O=u.filter.updateFullNode(R,k=k,E)}else{var le=st(c),_e=ec(h,le,a.serverCache);null==_e&&a.serverCache.isCompleteForChild(le)&&(_e=R.getImmediateChild(le)),(O=null!=_e?u.filter.updateChild(R,le,_e,Dt(c),T,E):a.eventCache.getNode().hasChild(le)?u.filter.updateChild(R,le,Ye.EMPTY_NODE,Dt(c),T,E):R).isEmpty()&&a.serverCache.isFullyInitialized()&&(D=lo(h,Qo(a))).isLeafNode()&&(O=u.filter.updateFullNode(O,D,E))}return D=a.serverCache.isFullyInitialized()||null!=Pa(h,ke()),Ir(a,O,D,u.filter.filtersNodes())}(u,a,k.path,h,v,E):function(u,a,c,h,v,E,D){if(null!=Pa(v,c))return a;var T=a.serverCache.isFiltered(),R=a.serverCache;if(null!=h.value){if(ct(c)&&R.isFullyInitialized()||R.isCompleteForPath(c))return ri(u,a,c,R.getNode().getChild(c),v,E,T,D);if(ct(c)){var O=new nr(null);return R.getNode().forEachChild(jr,function(J,le){O=O.set(new ot(J),le)}),co(u,a,c,O,v,E,T,D)}return a}var k=new nr(null);return h.foreach(function(J,le){var _e=lt(c,J);R.isCompleteForPath(_e)&&(k=k.set(J,R.getNode().getChild(_e)))}),co(u,a,c,k,v,E,T,D)}(u,a,k.path,k.affectedTree,h,v,E)}else{if(c.type!==Wn.LISTEN_COMPLETE)throw(0,A.g5)("Unknown operation type: "+c.type);D=function(u,a,c,h,v){var E=a.serverCache;return hn(u,qt(a,E.getNode(),E.isFullyInitialized()||ct(c),E.isFiltered()),c,h,Ws,v)}(u,a,c.path,h,E)}var J=E.getChanges();return function(u,a,c){var h=a.eventCache;if(h.isFullyInitialized()){var v=h.getNode().isLeafNode()||h.getNode().isEmpty(),E=Oa(u);(c.length>0||!u.eventCache.isFullyInitialized()||v&&!h.getNode().equals(E)||!h.getNode().getPriority().equals(E.getPriority()))&&c.push(Tu(Oa(a)))}}(a,D,J),{viewCache:D,changes:J}}(u.processor_,v,a,c,h);return function(u,a){(0,A.hu)(a.eventCache.getNode().isIndexed(u.filter.getIndex()),"Event snap not indexed"),(0,A.hu)(a.serverCache.getNode().isIndexed(u.filter.getIndex()),"Server snap not indexed")}(u.processor_,E.viewCache),(0,A.hu)(E.viewCache.serverCache.isFullyInitialized()||!v.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),u.viewCache_=E.viewCache,rc(u,E.changes,E.viewCache.eventCache.getNode(),null)}function rc(u,a,c,h){return function(u,a,c,h){var v=[],E=[];return a.forEach(function(D){"child_changed"===D.type&&u.index_.indexedValueChanged(D.oldSnap,D.snapshotNode)&&E.push(function(u,a){return{type:"child_moved",snapshotNode:a,childName:u}}(D.childName,D.snapshotNode))}),ni(u,v,"child_removed",a,h,c),ni(u,v,"child_added",a,h,c),ni(u,v,"child_moved",E,h,c),ni(u,v,"child_changed",a,h,c),ni(u,v,"value",a,h,c),v}(u.eventGenerator_,a,c,h?[h]:u.eventRegistrations_)}var Lu,ii,ic=function(){this.views=new Map};function oc(u,a,c,h){var v,E,D=a.source.queryId;if(null!==D){var T=u.views.get(D);return(0,A.hu)(null!=T,"SyncTree gave us an op for an invalid query."),Qd(T,a,c,h)}var R=[];try{for(var O=(0,W.XA)(u.views.values()),k=O.next();!k.done;k=O.next())R=R.concat(Qd(T=k.value,a,c,h))}catch(J){v={error:J}}finally{try{k&&!k.done&&(E=O.return)&&E.call(O)}finally{if(v)throw v.error}}return R}function sc(u,a,c,h,v){var D=u.views.get(a._queryIdentifier);if(!D){var T=lo(c,v?h:null),R=!1;T?R=!0:h instanceof Ye?(T=zd(c,h),R=!1):(T=Ye.EMPTY_NODE,R=!1);var O=fn(new Ai(T,R,!1),new Ai(h,v,!1));return new ku(a,O)}return D}function Kd(u){var a,c,h=[];try{for(var v=(0,W.XA)(u.views.values()),E=v.next();!E.done;E=v.next()){var D=E.value;D.query._queryParams.loadsAllData()||h.push(D)}}catch(T){a={error:T}}finally{try{E&&!E.done&&(c=v.return)&&c.call(v)}finally{if(a)throw a.error}}return h}function ho(u,a){var c,h,v=null;try{for(var E=(0,W.XA)(u.views.values()),D=E.next();!D.done;D=E.next())v=v||es(D.value,a)}catch(R){c={error:R}}finally{try{D&&!D.done&&(h=E.return)&&h.call(E)}finally{if(c)throw c.error}}return v}function ac(u,a){return a._queryParams.loadsAllData()?Sr(u):u.views.get(a._queryIdentifier)}function Zd(u,a){return null!=ac(u,a)}function rs(u){return null!=Sr(u)}function Sr(u){var a,c;try{for(var h=(0,W.XA)(u.views.values()),v=h.next();!v.done;v=h.next()){var E=v.value;if(E.query._queryParams.loadsAllData())return E}}catch(D){a={error:D}}finally{try{v&&!v.done&&(c=h.return)&&c.call(h)}finally{if(a)throw a.error}}return null}var Vu=1,uc=function(a){this.listenProvider_=a,this.syncPointTree_=new nr(null),this.pendingWriteTree_={visibleWrites:Ar.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function $r(u,a,c,h,v){return function(u,a,c,h,v){(0,A.hu)(h>u.lastWriteId,"Stacking an older write on top of newer ones"),void 0===v&&(v=!0),u.allWrites.push({path:a,snap:c,writeId:h,visible:v}),v&&(u.visibleWrites=Ti(u.visibleWrites,a,c)),u.lastWriteId=h}(u.pendingWriteTree_,a,c,h,v),v?oi(u,new ao({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},a,c)):[]}function wn(u,a,c){void 0===c&&(c=!1);var h=function(u,a){for(var c=0;c<u.allWrites.length;c++){var h=u.allWrites[c];if(h.writeId===a)return h}return null}(u.pendingWriteTree_,a);if(function(u,a){var c=u.allWrites.findIndex(function(O){return O.writeId===a});(0,A.hu)(c>=0,"removeWrite called with nonexistent writeId.");var h=u.allWrites[c];u.allWrites.splice(c,1);for(var v=h.visible,E=!1,D=u.allWrites.length-1;v&&D>=0;){var T=u.allWrites[D];T.visible&&(D>=c&&Ug(T,h.path)?v=!1:Fn(h.path,T.path)&&(E=!0)),D--}return!!v&&(E?(function(u){u.visibleWrites=Tr(u.allWrites,Zl,ke()),u.lastWriteId=u.allWrites.length>0?u.allWrites[u.allWrites.length-1].writeId:-1}(u),!0):(h.snap?u.visibleWrites=Us(u.visibleWrites,h.path):Fe(h.children,function(O){u.visibleWrites=Us(u.visibleWrites,lt(h.path,O))}),!0))}(u.pendingWriteTree_,a)){var E=new nr(null);return null!=h.snap?E=E.set(ke(),!0):Fe(h.children,function(D){E=E.set(new ot(D),!0)}),oi(u,new Yl(h.path,E,c))}return[]}function Ni(u,a,c){return oi(u,new ao({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},a,c))}function Ba(u,a,c,h){var v=a._path,E=u.syncPointTree_.get(v),D=[];if(E&&("default"===a._queryIdentifier||Zd(E,a))){var T=function(u,a,c,h){var v,E,D=a._queryIdentifier,T=[],R=[],O=rs(u);if("default"===D)try{for(var k=(0,W.XA)(u.views.entries()),J=k.next();!J.done;J=k.next()){var Ie,le=(0,W.CR)(J.value,2),_e=le[0];R=R.concat(xi(Ie=le[1],c,h)),ts(Ie)&&(u.views.delete(_e),Ie.query._queryParams.loadsAllData()||T.push(Ie.query))}}catch(We){v={error:We}}finally{try{J&&!J.done&&(E=k.return)&&E.call(k)}finally{if(v)throw v.error}}else(Ie=u.views.get(D))&&(R=R.concat(xi(Ie,c,h)),ts(Ie)&&(u.views.delete(D),Ie.query._queryParams.loadsAllData()||T.push(Ie.query)));return O&&!rs(u)&&T.push(new((0,A.hu)(Lu,"Reference.ts has not been loaded"),Lu)(a._repo,a._path)),{removed:T,events:R}}(E,a,c,h);(function(u){return 0===u.views.size})(E)&&(u.syncPointTree_=u.syncPointTree_.remove(v));var R=T.removed;D=T.events;var O=-1!==R.findIndex(function(Wt){return Wt._queryParams.loadsAllData()}),k=u.syncPointTree_.findOnPath(v,function(Wt,Kn){return rs(Kn)});if(O&&!k){var J=u.syncPointTree_.subtree(v);if(!J.isEmpty())for(var le=function(u){return u.fold(function(a,c,h){if(c&&rs(c))return[Sr(c)];var E=[];return c&&(E=Kd(c)),Fe(h,function(D,T){E=E.concat(T)}),E})}(J),_e=0;_e<le.length;++_e){var Ie=le[_e],We=Ie.query,Pe=os(u,Ie);u.listenProvider_.startListening(as(We),zs(u,We),Pe.hashFn,Pe.onComplete)}}!k&&R.length>0&&!h&&(O?u.listenProvider_.stopListening(as(a),null):R.forEach(function(Wt){var Kn=u.queryToTagMap.get(Ys(Wt));u.listenProvider_.stopListening(as(Wt),Kn)})),function(u,a){for(var c=0;c<a.length;++c){var h=a[c];if(!h._queryParams.loadsAllData()){var v=Ys(h),E=u.queryToTagMap.get(v);u.queryToTagMap.delete(v),u.tagToQueryMap.delete(E)}}}(u,R)}return D}function Xd(u,a,c){var h=a._path,v=null,E=!1;u.syncPointTree_.foreachOnPath(h,function(We,Pe){var Xe=jt(We,h);v=v||ho(Pe,Xe),E=E||rs(Pe)});var T,D=u.syncPointTree_.get(h);D?(E=E||rs(D),v=v||ho(D,ke())):(D=new ic,u.syncPointTree_=u.syncPointTree_.set(h,D)),null!=v?T=!0:(T=!1,v=Ye.EMPTY_NODE,u.syncPointTree_.subtree(h).foreachChild(function(We,Pe){var Xe=ho(Pe,ke());Xe&&(v=v.updateImmediateChild(We,Xe))}));var O=Zd(D,a);if(!O&&!a._queryParams.loadsAllData()){var k=Ys(a);(0,A.hu)(!u.queryToTagMap.has(k),"View does not exist, but we have a tag");var J=Vu++;u.queryToTagMap.set(k,J),u.tagToQueryMap.set(J,k)}var _e=function(u,a,c,h,v,E){var D=sc(u,a,h,v,E);return u.views.has(a._queryIdentifier)||u.views.set(a._queryIdentifier,D),function(u,a){u.eventRegistrations_.push(a)}(D,c),function(u,a){var c=u.viewCache_.eventCache,h=[];return c.getNode().isLeafNode()||c.getNode().forEachChild(St,function(E,D){h.push(Ii(E,D))}),c.isFullyInitialized()&&h.push(Tu(c.getNode())),rc(u,h,c.getNode(),a)}(D,c)}(D,a,c,Ri(u.pendingWriteTree_,h),v,T);if(!O&&!E){var Ie=ac(D,a);_e=_e.concat(function(u,a,c){var h=a._path,v=zs(u,a),E=os(u,c),D=u.listenProvider_.startListening(as(a),v,E.hashFn,E.onComplete),T=u.syncPointTree_.subtree(h);if(v)(0,A.hu)(!rs(T.value),"If we're adding a query, it shouldn't be shadowed");else for(var R=T.fold(function(J,le,_e){if(!ct(J)&&le&&rs(le))return[Sr(le).query];var Ie=[];return le&&(Ie=Ie.concat(Kd(le).map(function(We){return We.query}))),Fe(_e,function(We,Pe){Ie=Ie.concat(Pe)}),Ie}),O=0;O<R.length;++O){var k=R[O];u.listenProvider_.stopListening(as(k),zs(u,k))}return D}(u,a,Ie))}return _e}function is(u,a,c){var v=u.pendingWriteTree_,E=u.syncPointTree_.findOnPath(a,function(D,T){var O=ho(T,jt(D,a));if(O)return O});return $s(v,a,E,c,!0)}function oi(u,a){return si(a,u.syncPointTree_,null,Ri(u.pendingWriteTree_,ke()))}function si(u,a,c,h){if(ct(u.path))return ef(u,a,c,h);var v=a.get(ke());null==c&&null!=v&&(c=ho(v,ke()));var E=[],D=st(u.path),T=u.operationForChild(D),R=a.children.get(D);if(R&&T){var O=c?c.getImmediateChild(D):null,k=Ko(h,D);E=E.concat(si(T,R,O,k))}return v&&(E=E.concat(oc(v,u,h,c))),E}function ef(u,a,c,h){var v=a.get(ke());null==c&&null!=v&&(c=ho(v,ke()));var E=[];return a.children.inorderTraversal(function(D,T){var R=c?c.getImmediateChild(D):null,O=Ko(h,D),k=u.operationForChild(D);k&&(E=E.concat(ef(k,T,R,O)))}),v&&(E=E.concat(oc(v,u,h,c))),E}function os(u,a){var c=a.query,h=zs(u,c);return{hashFn:function(){return(function(u){return u.viewCache_.serverCache.getNode()}(a)||Ye.EMPTY_NODE).hash()},onComplete:function(v){if("ok"===v)return h?function(u,a,c){var h=Ua(u,c);if(h){var v=ja(h),E=v.path,D=v.queryId,T=jt(E,a);return Ha(u,E,new Mu(so(D),T))}return[]}(u,c._path,h):function(u,a){return oi(u,new Mu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},a))}(u,c._path);var E=function(u,a){var c="Unknown Error";"too_big"===u?c="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===u?c="Client doesn't have permission to access the desired data.":"unavailable"===u&&(c="The service is unavailable");var h=new Error(u+" at "+a._path.toString()+": "+c);return h.code=u.toUpperCase(),h}(v,c);return Ba(u,c,null,E)}}}function zs(u,a){var c=Ys(a);return u.queryToTagMap.get(c)}function Ys(u){return u._path.toString()+"$"+u._queryIdentifier}function Ua(u,a){return u.tagToQueryMap.get(a)}function ja(u){var a=u.indexOf("$");return(0,A.hu)(-1!==a&&a<u.length-1,"Bad queryKey."),{queryId:u.substr(a+1),path:new ot(u.substr(0,a))}}function Ha(u,a,c){var h=u.syncPointTree_.get(a);return(0,A.hu)(h,"Missing sync point for query tag that we're tracking"),oc(h,c,Ri(u.pendingWriteTree_,a),null)}function as(u){return u._queryParams.loadsAllData()&&!u._queryParams.isDefault()?new((0,A.hu)(ii,"Reference.ts has not been loaded"),ii)(u._repo,u._path):u}var Ga=function(){function u(a){this.node_=a}return u.prototype.getImmediateChild=function(a){return new u(this.node_.getImmediateChild(a))},u.prototype.node=function(){return this.node_},u}(),po=function(){function u(a,c){this.syncTree_=a,this.path_=c}return u.prototype.getImmediateChild=function(a){var c=lt(this.path_,a);return new u(this.syncTree_,c)},u.prototype.node=function(){return is(this.syncTree_,this.path_)},u}(),Bu=function(u,a,c){return u&&"object"==typeof u?((0,A.hu)(".sv"in u,"Unexpected leaf node or priority contents"),"string"==typeof u[".sv"]?qs(u[".sv"],a,c):"object"==typeof u[".sv"]?Uu(u[".sv"],a):void(0,A.hu)(!1,"Unexpected server value: "+JSON.stringify(u,null,2))):u},qs=function(u,a,c){switch(u){case"timestamp":return c.timestamp;default:(0,A.hu)(!1,"Unexpected server value: "+u)}},Uu=function(u,a,c){u.hasOwnProperty("increment")||(0,A.hu)(!1,"Unexpected server value: "+JSON.stringify(u,null,2));var h=u.increment;"number"!=typeof h&&(0,A.hu)(!1,"Unexpected increment value: "+h);var v=a.node();if((0,A.hu)(null!=v,"Expected ChildrenNode.EMPTY_NODE for nulls"),!v.isLeafNode())return h;var D=v.getValue();return"number"!=typeof D?h:D+h},dc=function(u,a,c,h){return go(a,new po(c,u),h)},Ks=function(u,a,c){return go(u,new Ga(a),c)};function go(u,a,c){var E,h=u.getPriority().val(),v=Bu(h,a.getImmediateChild(".priority"),c);if(u.isLeafNode()){var D=u,T=Bu(D.getValue(),a,c);return T!==D.getValue()||v!==D.getPriority().val()?new ro(T,Ht(v)):u}var R=u;return E=R,v!==R.getPriority().val()&&(E=E.updatePriority(new ro(v))),R.forEachChild(St,function(O,k){var J=go(k,a.getImmediateChild(O),c);J!==k&&(E=E.updateImmediateChild(O,J))}),E}var ai=function(a,c,h){void 0===a&&(a=""),void 0===c&&(c=null),void 0===h&&(h={children:{},childCount:0}),this.name=a,this.parent=c,this.node=h};function Zs(u,a){for(var c=a instanceof ot?a:new ot(a),h=u,v=st(c);null!==v;){var E=(0,A.DV)(h.node.children,v)||{children:{},childCount:0};h=new ai(v,h,E),v=st(c=Dt(c))}return h}function Nt(u){return u.node.value}function Wa(u,a){u.node.value=a,pc(u)}function tf(u){return u.node.childCount>0}function ui(u,a){Fe(u.node.children,function(c,h){a(new ai(c,u,h))})}function fc(u,a,c,h){c&&!h&&a(u),ui(u,function(v){fc(v,a,!0,h)}),c&&h&&a(u)}function _o(u){return new ot(null===u.parent?u.name:_o(u.parent)+"/"+u.name)}function pc(u){null!==u.parent&&function(u,a,c){var h=function(u){return void 0===Nt(u)&&!tf(u)}(c),v=(0,A.r3)(u.node.children,a);h&&v?(delete u.node.children[a],u.node.childCount--,pc(u)):!h&&!v&&(u.node.children[a]=c.node,u.node.childCount++,pc(u))}(u.parent,u.name,u)}var Gr=/[\[\].#$\/\u0000-\u001F\u007F]/,za=/[\[\].#$\u0000-\u001F\u007F]/,Wr=10485760,Yn=function(u){return"string"==typeof u&&0!==u.length&&!Gr.test(u)},Ya=function(u){return"string"==typeof u&&0!==u.length&&!za.test(u)},ki=function(u){return null===u||"string"==typeof u||"number"==typeof u&&!ne(u)||u&&"object"==typeof u&&(0,A.r3)(u,".sv")},mr=function(u,a,c,h){h&&void 0===a||Xs((0,A.gK)(u,"value"),a,c)},Xs=function(u,a,c){var h=c instanceof ot?new Da(c,u):c;if(void 0===a)throw new Error(u+"contains undefined "+no(h));if("function"==typeof a)throw new Error(u+"contains a function "+no(h)+" with contents = "+a.toString());if(ne(a))throw new Error(u+"contains "+a.toString()+" "+no(h));if("string"==typeof a&&a.length>Wr/3&&(0,A.ug)(a)>Wr)throw new Error(u+"contains a string greater than "+Wr+" utf8 bytes "+no(h)+" ('"+a.substring(0,50)+"...')");if(a&&"object"==typeof a){var v=!1,E=!1;if(Fe(a,function(D,T){if(".value"===D)v=!0;else if(".priority"!==D&&".sv"!==D&&(E=!0,!Yn(D)))throw new Error(u+" contains an invalid key ("+D+") "+no(h)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(u,a){u.parts_.length>0&&(u.byteLength_+=1),u.parts_.push(a),u.byteLength_+=(0,A.ug)(a),Md(u)})(h,D),Xs(u,T,h),function(u){var a=u.parts_.pop();u.byteLength_-=(0,A.ug)(a),u.parts_.length>0&&(u.byteLength_-=1)}(h)}),v&&E)throw new Error(u+' contains ".value" child '+no(h)+" in addition to actual children.")}},yo=function(u,a,c,h){if(!h||void 0!==a){var v=(0,A.gK)(u,"values");if(!a||"object"!=typeof a||Array.isArray(a))throw new Error(v+" must be an object containing the children to replace.");var E=[];Fe(a,function(D,T){var R=new ot(D);if(Xs(v,T,lt(c,R)),".priority"===Ss(R)&&!ki(T))throw new Error(v+"contains an invalid value for '"+R.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");E.push(R)}),function(u,a){var c,h;for(c=0;c<a.length;c++)for(var v=Vr(h=a[c]),E=0;E<v.length;E++)if((".priority"!==v[E]||E!==v.length-1)&&!Yn(v[E]))throw new Error(u+"contains an invalid key ("+v[E]+") in path "+h.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');a.sort(fr);var D=null;for(c=0;c<a.length;c++){if(h=a[c],null!==D&&Fn(D,h))throw new Error(u+"contains a path "+D.toString()+" that is ancestor of another path "+h.toString());D=h}}(v,E)}},zr=function(u,a,c){if(!c||void 0!==a){if(ne(a))throw new Error((0,A.gK)(u,"priority")+"is "+a.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ki(a))throw new Error((0,A.gK)(u,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},rf=function(u,a,c){if(!c||void 0!==a)switch(a){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,A.gK)(u,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},us=function(u,a,c,h){if(!(h&&void 0===c||Yn(c)))throw new Error((0,A.gK)(u,a)+'was an invalid key = "'+c+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Co=function(u,a,c,h){if(!(h&&void 0===c||Ya(c)))throw new Error((0,A.gK)(u,a)+'was an invalid path = "'+c+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Mr=function(u,a){if(".info"===st(a))throw new Error(u+" failed = Can't modify data under /.info/")},Li=function(u,a){var c=a.path.toString();if("string"!=typeof a.repoInfo.host||0===a.repoInfo.host.length||!Yn(a.repoInfo.namespace)&&"localhost"!==a.repoInfo.host.split(":")[0]||0!==c.length&&!function(u){return u&&(u=u.replace(/^\/*\.info(\/|$)/,"/")),Ya(u)}(c))throw new Error((0,A.gK)(u,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},sf=function(u,a,c,h){if((!h||void 0!==c)&&"boolean"!=typeof c)throw new Error((0,A.gK)(u,a)+"must be a boolean.")},af=function(){this.eventLists_=[],this.recursionDepth_=0};function tn(u,a){for(var c=null,h=0;h<a.length;h++){var v=a[h],E=v.getPath();null!==c&&!Ms(E,c.path)&&(u.eventLists_.push(c),c=null),null===c&&(c={events:[],path:E}),c.events.push(v)}c&&u.eventLists_.push(c)}function li(u,a,c){tn(u,c),gc(u,function(h){return Ms(h,a)})}function mn(u,a,c){tn(u,c),gc(u,function(h){return Fn(h,a)||Fn(a,h)})}function gc(u,a){u.recursionDepth_++;for(var c=!0,h=0;h<u.eventLists_.length;h++){var v=u.eventLists_[h];v&&(a(v.path)?(uf(u.eventLists_[h]),u.eventLists_[h]=null):c=!1)}c&&(u.eventLists_=[]),u.recursionDepth_--}function uf(u){for(var a=0;a<u.events.length;a++){var c=u.events[a];if(null!==c){u.events[a]=null;var h=c.getEventRunner();Ce&&De("event: "+c.toString()),br(h)}}}var lf="repo_interrupt",ju=function(){function u(a,c,h,v){this.repoInfo_=a,this.forceRestClient_=c,this.authTokenProvider_=h,this.appCheckProvider_=v,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new af,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=oo(),this.transactionQueueTree_=new ai,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return u.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},u}();function Hu(u){var c=u.infoData_.getNode(new ot(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+c}function ls(u){return function(u){return(u=u||{}).timestamp=u.timestamp||(new Date).getTime(),u}({timestamp:Hu(u)})}function xn(u,a,c,h,v){u.dataUpdateCount++;var E=new ot(a);c=u.interceptServerDataCallback_?u.interceptServerDataCallback_(a,c):c;var D=[];if(v)if(h){var T=(0,A.UI)(c,function(le){return Ht(le)});D=function(u,a,c,h){var v=Ua(u,h);if(v){var E=ja(v),D=E.path,T=E.queryId,R=jt(D,a),O=nr.fromObject(c);return Ha(u,D,new xa(so(T),R,O))}return[]}(u.serverSyncTree_,E,T,v)}else{var R=Ht(c);D=function(u,a,c,h){var v=Ua(u,h);if(null!=v){var E=ja(v),D=E.path,T=E.queryId,R=jt(D,a);return Ha(u,D,new ao(so(T),R,c))}return[]}(u.serverSyncTree_,E,R,v)}else if(h){var O=(0,A.UI)(c,function(le){return Ht(le)});D=function(u,a,c){var h=nr.fromObject(c);return oi(u,new xa({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},a,h))}(u.serverSyncTree_,E,O)}else{var k=Ht(c);D=Ni(u.serverSyncTree_,E,k)}var J=E;D.length>0&&(J=Ui(u,E)),mn(u.eventQueue_,J,D)}function cs(u,a){Gu(u,"connected",a),!1===a&&function(u){Eo(u,"onDisconnectEvents");var a=ls(u),c=oo();tr(u.onDisconnect_,ke(),function(v,E){var D=dc(v,E,u.serverSyncTree_,a);ei(c,v,D)});var h=[];tr(c,ke(),function(v,E){h=h.concat(Ni(u.serverSyncTree_,v,E));var D=ta(u,v);Ui(u,D)}),u.onDisconnect_=oo(),mn(u.eventQueue_,ke(),h)}(u)}function Gu(u,a,c){var h=new ot("/.info/"+a),v=Ht(c);u.infoData_.updateSnapshot(h,v);var E=Ni(u.infoSyncTree_,h,v);mn(u.eventQueue_,h,E)}function Qa(u){return u.nextWriteId_++}function Vi(u,a,c,h,v){Eo(u,"set",{path:a.toString(),value:c,priority:h});var E=ls(u),D=Ht(c,h),T=is(u.serverSyncTree_,a),R=Ks(D,T,E),O=Qa(u),k=$r(u.serverSyncTree_,a,R,O,!0);tn(u.eventQueue_,k),u.server_.put(a.toString(),D.val(!0),function(le,_e){var Ie="ok"===le;Ie||It("set at "+a+" failed: "+le);var We=wn(u.serverSyncTree_,O,!Ie);mn(u.eventQueue_,a,We),Qn(0,v,le,_e)});var J=ta(u,a);Ui(u,J),mn(u.eventQueue_,J,[])}function yc(u,a,c){u.server_.onDisconnectCancel(a.toString(),function(h,v){"ok"===h&&sn(u.onDisconnect_,a),Qn(0,c,h,v)})}function Wu(u,a,c,h){var v=Ht(c);u.server_.onDisconnectPut(a.toString(),v.val(!0),function(E,D){"ok"===E&&ei(u.onDisconnect_,a,v),Qn(0,h,E,D)})}function zu(u,a,c){var h;h=".info"===st(a._path)?Ba(u.infoSyncTree_,a,c):Ba(u.serverSyncTree_,a,c),li(u.eventQueue_,a._path,h)}function Yu(u){u.persistentConnection_&&u.persistentConnection_.interrupt(lf)}function Eo(u){for(var a=[],c=1;c<arguments.length;c++)a[c-1]=arguments[c];var h="";u.persistentConnection_&&(h=u.persistentConnection_.id+":"),De.apply(void 0,(0,W.ev)([h],(0,W.CR)(a)))}function Qn(u,a,c,h){a&&br(function(){if("ok"===c)a(null);else{var v=(c||"error").toUpperCase(),E=v;h&&(E+=": "+h);var D=new Error(E);D.code=v,a(D)}})}function _r(u,a,c){return is(u.serverSyncTree_,a,c)||Ye.EMPTY_NODE}function Bi(u,a){if(void 0===a&&(a=u.transactionQueueTree_),a||Vn(u,a),Nt(a)){var c=up(u,a);(0,A.hu)(c.length>0,"Sending zero length transaction queue"),c.every(function(v){return 0===v.status})&&function(u,a,c){for(var h=c.map(function(le){return le.currentWriteId}),v=_r(u,a,h),E=v,D=v.hash(),T=0;T<c.length;T++){var R=c[T];(0,A.hu)(0===R.status,"tryToSendTransactionQueue_: items in queue should all be run."),R.status=1,R.retryCount++;var O=jt(a,R.path);E=E.updateChild(O,R.currentOutputSnapshotRaw)}var k=E.val(!0),J=a;u.server_.put(J.toString(),k,function(le){Eo(u,"transaction put response",{path:J.toString(),status:le});var _e=[];if("ok"===le){for(var Ie=[],We=function(Xe){c[Xe].status=2,_e=_e.concat(wn(u.serverSyncTree_,c[Xe].currentWriteId)),c[Xe].onComplete&&Ie.push(function(){return c[Xe].onComplete(null,!0,c[Xe].currentOutputSnapshotResolved)}),c[Xe].unwatcher()},Pe=0;Pe<c.length;Pe++)We(Pe);for(Vn(u,Zs(u.transactionQueueTree_,a)),Bi(u,u.transactionQueueTree_),mn(u.eventQueue_,a,_e),Pe=0;Pe<Ie.length;Pe++)br(Ie[Pe])}else{if("datastale"===le)for(Pe=0;Pe<c.length;Pe++)c[Pe].status=3===c[Pe].status?4:0;else for(It("transaction at "+J.toString()+" failed: "+le),Pe=0;Pe<c.length;Pe++)c[Pe].status=4,c[Pe].abortReason=le;Ui(u,a)}},D)}(u,_o(a),c)}else tf(a)&&ui(a,function(v){Bi(u,v)})}function Ui(u,a){var c=bc(u,a),h=_o(c);return function(u,a,c){if(0!==a.length){for(var h=[],v=[],D=a.filter(function(O){return 0===O.status}).map(function(O){return O.currentWriteId}),T=function(O){var _e,k=a[O],J=jt(c,k.path),le=!1;if((0,A.hu)(null!==J,"rerunTransactionsUnderNode_: relativePath should not be null."),4===k.status)le=!0,_e=k.abortReason,v=v.concat(wn(u.serverSyncTree_,k.currentWriteId,!0));else if(0===k.status)if(k.retryCount>=25)le=!0,_e="maxretry",v=v.concat(wn(u.serverSyncTree_,k.currentWriteId,!0));else{var Ie=_r(u,k.path,D);k.currentInputSnapshot=Ie;var We=a[O].update(Ie.val());if(void 0!==We){Xs("transaction failed: Data returned ",We,k.path);var Pe=Ht(We);"object"==typeof We&&null!=We&&(0,A.r3)(We,".priority")||(Pe=Pe.updatePriority(Ie.getPriority()));var Wt=k.currentWriteId,Kn=ls(u),ms=Ks(Pe,Ie,Kn);k.currentOutputSnapshotRaw=Pe,k.currentOutputSnapshotResolved=ms,k.currentWriteId=Qa(u),D.splice(D.indexOf(Wt),1),v=(v=v.concat($r(u.serverSyncTree_,k.path,ms,k.currentWriteId,k.applyLocally))).concat(wn(u.serverSyncTree_,Wt,!0))}else le=!0,_e="nodata",v=v.concat(wn(u.serverSyncTree_,k.currentWriteId,!0))}mn(u.eventQueue_,c,v),v=[],le&&(a[O].status=2,setTimeout(a[O].unwatcher,Math.floor(0)),a[O].onComplete&&h.push("nodata"===_e?function(){return a[O].onComplete(null,!1,a[O].currentInputSnapshot)}:function(){return a[O].onComplete(new Error(_e),!1,null)}))},R=0;R<a.length;R++)T(R);for(Vn(u,u.transactionQueueTree_),R=0;R<h.length;R++)br(h[R]);Bi(u,u.transactionQueueTree_)}}(u,up(u,c),h),h}function bc(u,a){var c,h=u.transactionQueueTree_;for(c=st(a);null!==c&&void 0===Nt(h);)h=Zs(h,c),c=st(a=Dt(a));return h}function up(u,a){var c=[];return In(u,a,c),c.sort(function(h,v){return h.order-v.order}),c}function In(u,a,c){var h=Nt(a);if(h)for(var v=0;v<h.length;v++)c.push(h[v]);ui(a,function(E){In(u,E,c)})}function Vn(u,a){var c=Nt(a);if(c){for(var h=0,v=0;v<c.length;v++)2!==c[v].status&&(c[h]=c[v],h++);c.length=h,Wa(a,c.length>0?c:void 0)}ui(a,function(E){Vn(u,E)})}function ta(u,a){var c=_o(bc(u,a)),h=Zs(u.transactionQueueTree_,a);return function(u,a,c){for(var h=u.parent;null!==h;){if(a(h))return!0;h=h.parent}}(h,function(v){na(u,v)}),na(u,h),fc(h,function(v){na(u,v)}),c}function na(u,a){var c=Nt(a);if(c){for(var h=[],v=[],E=-1,D=0;D<c.length;D++)3===c[D].status||(1===c[D].status?((0,A.hu)(E===D-1,"All SENT items should be at beginning of queue."),E=D,c[D].status=3,c[D].abortReason="set"):((0,A.hu)(0===c[D].status,"Unexpected transaction status in abort"),c[D].unwatcher(),v=v.concat(wn(u.serverSyncTree_,c[D].currentWriteId,!0)),c[D].onComplete&&h.push(c[D].onComplete.bind(null,new Error("set"),!1,null))));for(-1===E?Wa(a,void 0):c.length=E+1,mn(u.eventQueue_,_o(a),v),D=0;D<h.length;D++)br(h[D])}}var qa=function(u,a){var c=Dc(u),h=c.namespace;return"firebase.com"===c.domain&&yt(c.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!h||"undefined"===h)&&"localhost"!==c.domain&&yt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),c.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&It("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Yt(c.host,c.secure,h,a,"ws"===c.scheme||"wss"===c.scheme,"",h!==c.subdomain),path:new ot(c.pathString)}},Dc=function(u){var a="",c="",h="",v="",E="",D=!0,T="https",R=443;if("string"==typeof u){var O=u.indexOf("//");O>=0&&(T=u.substring(0,O-1),u=u.substring(O+2));var k=u.indexOf("/");-1===k&&(k=u.length);var J=u.indexOf("?");-1===J&&(J=u.length),a=u.substring(0,Math.min(k,J)),k<J&&(v=function(u){for(var a="",c=u.split("/"),h=0;h<c.length;h++)if(c[h].length>0){var v=c[h];try{v=decodeURIComponent(v.replace(/\+/g," "))}catch(E){}a+="/"+v}return a}(u.substring(k,J)));var le=function(u){var a,c,h={};"?"===u.charAt(0)&&(u=u.substring(1));try{for(var v=(0,W.XA)(u.split("&")),E=v.next();!E.done;E=v.next()){var D=E.value;if(0!==D.length){var T=D.split("=");2===T.length?h[decodeURIComponent(T[0])]=decodeURIComponent(T[1]):It("Invalid query segment '"+D+"' in query '"+u+"'")}}}catch(R){a={error:R}}finally{try{E&&!E.done&&(c=v.return)&&c.call(v)}finally{if(a)throw a.error}}return h}(u.substring(Math.min(u.length,J)));(O=a.indexOf(":"))>=0?(D="https"===T||"wss"===T,R=parseInt(a.substring(O+1),10)):O=a.length;var _e=a.slice(0,O);if("localhost"===_e.toLowerCase())c="localhost";else if(_e.split(".").length<=2)c=_e;else{var Ie=a.indexOf(".");h=a.substring(0,Ie).toLowerCase(),c=a.substring(Ie+1),E=h}"ns"in le&&(E=le.ns)}return{host:a,port:R,domain:c,subdomain:h,secure:D,scheme:T,pathString:v,namespace:E}},wc=function(){function u(a,c,h,v){this.eventType=a,this.eventRegistration=c,this.snapshot=h,this.prevName=v}return u.prototype.getPath=function(){var a=this.snapshot.ref;return"value"===this.eventType?a._path:a.parent._path},u.prototype.getEventType=function(){return this.eventType},u.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},u.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,A.Pz)(this.snapshot.exportVal())},u}(),qu=function(){function u(a,c,h){this.eventRegistration=a,this.error=c,this.path=h}return u.prototype.getPath=function(){return this.path},u.prototype.getEventType=function(){return"cancel"},u.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},u.prototype.toString=function(){return this.path.toString()+":cancel"},u}(),Ku=function(){function u(a,c){this.snapshotCallback=a,this.cancelCallback=c}return u.prototype.onValue=function(a,c){this.snapshotCallback.call(null,a,c)},u.prototype.onCancel=function(a){return(0,A.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,a)},Object.defineProperty(u.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),u.prototype.matches=function(a){return this.snapshotCallback===a.snapshotCallback||this.snapshotCallback.userCallback===a.snapshotCallback.userCallback&&this.snapshotCallback.context===a.snapshotCallback.context},u}(),ra=function(){function u(a,c){this._repo=a,this._path=c}return u.prototype.cancel=function(){var a=new A.BH;return yc(this._repo,this._path,a.wrapCallback(function(){})),a.promise},u.prototype.remove=function(){Mr("OnDisconnect.remove",this._path);var a=new A.BH;return Wu(this._repo,this._path,null,a.wrapCallback(function(){})),a.promise},u.prototype.set=function(a){Mr("OnDisconnect.set",this._path),mr("OnDisconnect.set",a,this._path,!1);var c=new A.BH;return Wu(this._repo,this._path,a,c.wrapCallback(function(){})),c.promise},u.prototype.setWithPriority=function(a,c){Mr("OnDisconnect.setWithPriority",this._path),mr("OnDisconnect.setWithPriority",a,this._path,!1),zr("OnDisconnect.setWithPriority",c,!1);var h=new A.BH;return function(u,a,c,h,v){var E=Ht(c,h);u.server_.onDisconnectPut(a.toString(),E.val(!0),function(D,T){"ok"===D&&ei(u.onDisconnect_,a,E),Qn(0,v,D,T)})}(this._repo,this._path,a,c,h.wrapCallback(function(){})),h.promise},u.prototype.update=function(a){Mr("OnDisconnect.update",this._path),yo("OnDisconnect.update",a,this._path,!1);var c=new A.BH;return function(u,a,c,h){if((0,A.xb)(c))return De("onDisconnect().update() called with empty data.  Don't do anything."),void Qn(0,h,"ok",void 0);u.server_.onDisconnectMerge(a.toString(),c,function(v,E){"ok"===v&&Fe(c,function(D,T){var R=Ht(T);ei(u.onDisconnect_,lt(a,D),R)}),Qn(0,h,v,E)})}(this._repo,this._path,a,c.wrapCallback(function(){})),c.promise},u}(),nn=function(){function u(a,c,h,v){this._repo=a,this._path=c,this._queryParams=h,this._orderByCalled=v}return Object.defineProperty(u.prototype,"key",{get:function(){return ct(this._path)?null:Ss(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"ref",{get:function(){return new ht(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"_queryIdentifier",{get:function(){var a=Vs(this._queryParams),c=Rt(a);return"{}"===c?"default":c},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"_queryObject",{get:function(){return Vs(this._queryParams)},enumerable:!1,configurable:!0}),u.prototype.isEqual=function(a){if(!((a=(0,A.m9)(a))instanceof u))return!1;var c=this._repo===a._repo,h=Ms(this._path,a._path);return c&&h&&this._queryIdentifier===a._queryIdentifier},u.prototype.toJSON=function(){return this.toString()},u.prototype.toString=function(){return this._repo.toString()+function(u){for(var a="",c=u.pieceNum_;c<u.pieces_.length;c++)""!==u.pieces_[c]&&(a+="/"+encodeURIComponent(String(u.pieces_[c])));return a||"/"}(this._path)},u}();function at(u,a){if(!0===u._orderByCalled)throw new Error(a+": You can't combine multiple orderBy calls.")}function qn(u){var a=null,c=null;if(u.hasStart()&&(a=u.getIndexStartValue()),u.hasEnd()&&(c=u.getIndexEndValue()),u.getIndex()===jr){var h="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",v="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(u.hasStart()){if(u.getIndexStartName()!==X)throw new Error(h);if("string"!=typeof a)throw new Error(v)}if(u.hasEnd()){if(u.getIndexEndName()!==pe)throw new Error(h);if("string"!=typeof c)throw new Error(v)}}else if(u.getIndex()===St){if(null!=a&&!ki(a)||null!=c&&!ki(c))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,A.hu)(u.getIndex()instanceof Yo||u.getIndex()===Os,"unknown index type."),null!=a&&"object"==typeof a||null!=c&&"object"==typeof c)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Ka(u){if(u.hasStart()&&u.hasEnd()&&u.hasLimit()&&!u.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var ht=function(u){function a(c,h){return u.call(this,c,h,new Gl,!1)||this}return(0,W.ZT)(a,u),Object.defineProperty(a.prototype,"parent",{get:function(){var c=Br(this._path);return null===c?null:new a(this._repo,c)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"root",{get:function(){for(var c=this;null!==c.parent;)c=c.parent;return c},enumerable:!1,configurable:!0}),a}(nn),Za=function(){function u(a,c,h){this._node=a,this.ref=c,this._index=h}return Object.defineProperty(u.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),u.prototype.child=function(a){var c=new ot(a),h=ji(this.ref,a);return new u(this._node.getChild(c),h,St)},u.prototype.exists=function(){return!this._node.isEmpty()},u.prototype.exportVal=function(){return this._node.val(!0)},u.prototype.forEach=function(a){var c=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,function(v,E){return a(new u(E,ji(c.ref,v),St))})},u.prototype.hasChild=function(a){var c=new ot(a);return!this._node.getChild(c).isEmpty()},u.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},u.prototype.toJSON=function(){return this.exportVal()},u.prototype.val=function(){return this._node.val()},u}();function Ja(u,a){return(u=(0,A.m9)(u))._checkNotDeleted("ref"),void 0!==a?ji(u._root,a):u._root}function ia(u,a){(u=(0,A.m9)(u))._checkNotDeleted("refFromURL");var c=qa(a,u._repo.repoInfo_.nodeAdmin);Li("refFromURL",c);var h=c.repoInfo;return!u._repo.repoInfo_.isCustomHost()&&h.host!==u._repo.repoInfo_.host&&yt("refFromURL: Host name does not match the current database: (found "+h.host+" but expected "+u._repo.repoInfo_.host+")"),Ja(u,c.path.toString())}function ji(u,a){return null===st((u=(0,A.m9)(u))._path)?((c=a)&&(c=c.replace(/^\/*\.info(\/|$)/,"/")),Co("child","path",c,!1)):Co("child","path",a,!1),new ht(u._repo,lt(u._path,a));var c}function Xa(u,a){u=(0,A.m9)(u),Mr("push",u._path),mr("push",a,u._path,!0);var D,c=Hu(u._repo),h=Hl(c),v=ji(u,h),E=ji(u,h);return D=null!=a?eu(E,a).then(function(){return E}):Promise.resolve(E),v.then=D.then.bind(D),v.catch=D.then.bind(D,void 0),v}function oa(u){return Mr("remove",u._path),eu(u,null)}function eu(u,a){u=(0,A.m9)(u),Mr("set",u._path),mr("set",a,u._path,!1);var c=new A.BH;return Vi(u._repo,u._path,a,null,c.wrapCallback(function(){})),c.promise}function tu(u,a){u=(0,A.m9)(u),Mr("setPriority",u._path),zr("setPriority",a,!1);var c=new A.BH;return Vi(u._repo,lt(u._path,".priority"),a,null,c.wrapCallback(function(){})),c.promise}function mf(u,a,c){if(Mr("setWithPriority",u._path),mr("setWithPriority",a,u._path,!1),zr("setWithPriority",c,!1),".length"===u.key||".keys"===u.key)throw"setWithPriority failed: "+u.key+" is a read-only object.";var h=new A.BH;return Vi(u._repo,u._path,a,c,h.wrapCallback(function(){})),h.promise}function Ic(u,a){yo("update",a,u._path,!1);var c=new A.BH;return function(u,a,c,h){Eo(u,"update",{path:a.toString(),value:c});var v=!0,E=ls(u),D={};if(Fe(c,function(O,k){v=!1,D[O]=dc(lt(a,O),Ht(k),u.serverSyncTree_,E)}),v)De("update() called with empty data.  Don't do anything."),Qn(0,h,"ok",void 0);else{var T=Qa(u),R=function(u,a,c,h){!function(u,a,c,h){(0,A.hu)(h>u.lastWriteId,"Stacking an older merge on top of newer ones"),u.allWrites.push({path:a,children:c,writeId:h,visible:!0}),u.visibleWrites=Si(u.visibleWrites,a,c),u.lastWriteId=h}(u.pendingWriteTree_,a,c,h);var v=nr.fromObject(c);return oi(u,new xa({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},a,v))}(u.serverSyncTree_,a,D,T);tn(u.eventQueue_,R),u.server_.merge(a.toString(),c,function(O,k){var J="ok"===O;J||It("update at "+a+" failed: "+O);var le=wn(u.serverSyncTree_,T,!J),_e=le.length>0?Ui(u,a):a;mn(u.eventQueue_,_e,le),Qn(0,h,O,k)}),Fe(c,function(O){var k=ta(u,lt(a,O));Ui(u,k)}),mn(u.eventQueue_,a,[])}}(u._repo,u._path,a,c.wrapCallback(function(){})),c.promise}function Zu(u){return function(u,a){var c=function(u,a){var c=a._path,h=null;u.syncPointTree_.foreachOnPath(c,function(O,k){var J=jt(O,c);h=h||ho(k,J)});var v=u.syncPointTree_.get(c);v?h=h||ho(v,ke()):(v=new ic,u.syncPointTree_=u.syncPointTree_.set(c,v));var E=null!=h,D=E?new Ai(h,!0,!1):null;return function(u){return Oa(u.viewCache_)}(sc(v,a,Ri(u.pendingWriteTree_,a._path),E?D.getNode():Ye.EMPTY_NODE,E))}(u.serverSyncTree_,a);return null!=c?Promise.resolve(c):u.server_.get(a).then(function(h){var v=Ht(h).withIndex(a._queryParams.getIndex()),E=Ni(u.serverSyncTree_,a._path,v);return li(u.eventQueue_,a._path,E),Promise.resolve(v)},function(h){return Eo(u,"get for query "+(0,A.Pz)(a)+" failed: "+h),Promise.reject(new Error(h))})}((u=(0,A.m9)(u))._repo,u).then(function(a){return new Za(a,new ht(u._repo,u._path),u._queryParams.getIndex())})}var bo=function(){function u(a){this.callbackContext=a}return u.prototype.respondsTo=function(a){return"value"===a},u.prototype.createEvent=function(a,c){var h=c._queryParams.getIndex();return new wc("value",this,new Za(a.snapshotNode,new ht(c._repo,c._path),h))},u.prototype.getEventRunner=function(a){var c=this;return"cancel"===a.getEventType()?function(){return c.callbackContext.onCancel(a.error)}:function(){return c.callbackContext.onValue(a.snapshot,null)}},u.prototype.createCancelEvent=function(a,c){return this.callbackContext.hasCancelCallback?new qu(this,a,c):null},u.prototype.matches=function(a){return a instanceof u&&(!a.callbackContext||!this.callbackContext||a.callbackContext.matches(this.callbackContext))},u.prototype.hasAnyCallback=function(){return null!==this.callbackContext},u}(),An=function(){function u(a,c){this.eventType=a,this.callbackContext=c}return u.prototype.respondsTo=function(a){var c="children_added"===a?"child_added":a;return this.eventType===("children_removed"===c?"child_removed":c)},u.prototype.createCancelEvent=function(a,c){return this.callbackContext.hasCancelCallback?new qu(this,a,c):null},u.prototype.createEvent=function(a,c){(0,A.hu)(null!=a.childName,"Child events should have a childName.");var h=ji(new ht(c._repo,c._path),a.childName),v=c._queryParams.getIndex();return new wc(a.type,this,new Za(a.snapshotNode,h,v),a.prevName)},u.prototype.getEventRunner=function(a){var c=this;return"cancel"===a.getEventType()?function(){return c.callbackContext.onCancel(a.error)}:function(){return c.callbackContext.onValue(a.snapshot,a.prevName)}},u.prototype.matches=function(a){return a instanceof u&&this.eventType===a.eventType&&(!this.callbackContext||!a.callbackContext||this.callbackContext.matches(a.callbackContext))},u.prototype.hasAnyCallback=function(){return!!this.callbackContext},u}();function Do(u,a,c,h,v){var E;if("object"==typeof h&&(E=void 0,v=h),"function"==typeof h&&(E=h),v&&v.onlyOnce){var D=c,T=function(k,J){zu(u._repo,u,O),D(k,J)};T.userCallback=c.userCallback,T.context=c.context,c=T}var R=new Ku(c,E||void 0),O="value"===a?new bo(R):new An(a,R);return function(u,a,c){var h;h=".info"===st(a._path)?Xd(u.infoSyncTree_,a,c):Xd(u.serverSyncTree_,a,c),li(u.eventQueue_,a._path,h)}(u._repo,u,O),function(){return zu(u._repo,u,O)}}function nu(u,a,c,h){return Do(u,"value",a,c,h)}function Ju(u,a,c,h){return Do(u,"child_added",a,c,h)}function an(u,a,c,h){return Do(u,"child_changed",a,c,h)}function ds(u,a,c,h){return Do(u,"child_moved",a,c,h)}function ru(u,a,c,h){return Do(u,"child_removed",a,c,h)}function Ac(u,a,c){var h=null,v=c?new Ku(c):null;"value"===a?h=new bo(v):a&&(h=new An(a,v)),zu(u._repo,u,h)}var xr=function(){},Xu=function(u){function a(c,h){var v=u.call(this)||this;return v._value=c,v._key=h,v}return(0,W.ZT)(a,u),a.prototype._apply=function(c){mr("endAt",this._value,c._path,!0);var h=ks(c._queryParams,this._value,this._key);if(Ka(h),qn(h),c._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new nn(c._repo,c._path,h,c._orderByCalled)},a}(xr);function Tc(u,a){return us("endAt","key",a,!0),new Xu(u,a)}var iu=function(u){function a(c,h){var v=u.call(this)||this;return v._value=c,v._key=h,v}return(0,W.ZT)(a,u),a.prototype._apply=function(c){mr("endBefore",this._value,c._path,!1);var h=function(u,a,c){var v;return u.index_===jr?("string"==typeof a&&(a=wi(a)),v=ks(u,a,c)):v=ks(u,a,null==c?X:wi(c)),v.endBeforeSet_=!0,v}(c._queryParams,this._value,this._key);if(Ka(h),qn(h),c._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new nn(c._repo,c._path,h,c._orderByCalled)},a}(xr);function el(u,a){return us("endBefore","key",a,!0),new iu(u,a)}var Or=function(u){function a(c,h){var v=u.call(this)||this;return v._value=c,v._key=h,v}return(0,W.ZT)(a,u),a.prototype._apply=function(c){mr("startAt",this._value,c._path,!0);var h=Ma(c._queryParams,this._value,this._key);if(Ka(h),qn(h),c._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new nn(c._repo,c._path,h,c._orderByCalled)},a}(xr);function sa(u,a){return void 0===u&&(u=null),us("startAt","key",a,!0),new Or(u,a)}var Sc=function(u){function a(c,h){var v=u.call(this)||this;return v._value=c,v._key=h,v}return(0,W.ZT)(a,u),a.prototype._apply=function(c){mr("startAfter",this._value,c._path,!1);var h=function(u,a,c){var h;return u.index_===jr?("string"==typeof a&&(a=Ns(a)),h=Ma(u,a,c)):h=Ma(u,a,null==c?pe:Ns(c)),h.startAfterSet_=!0,h}(c._queryParams,this._value,this._key);if(Ka(h),qn(h),c._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new nn(c._repo,c._path,h,c._orderByCalled)},a}(xr);function Mc(u,a){return us("startAfter","key",a,!0),new Sc(u,a)}var Rc=function(u){function a(c){var h=u.call(this)||this;return h._limit=c,h}return(0,W.ZT)(a,u),a.prototype._apply=function(c){if(c._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new nn(c._repo,c._path,function(u,a){var c=u.copy();return c.limitSet_=!0,c.limit_=a,c.viewFrom_="l",c}(c._queryParams,this._limit),c._orderByCalled)},a}(xr);function Hi(u){if("number"!=typeof u||Math.floor(u)!==u||u<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Rc(u)}var tl=function(u){function a(c){var h=u.call(this)||this;return h._limit=c,h}return(0,W.ZT)(a,u),a.prototype._apply=function(c){if(c._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new nn(c._repo,c._path,function(u,a){var c=u.copy();return c.limitSet_=!0,c.limit_=a,c.viewFrom_="r",c}(c._queryParams,this._limit),c._orderByCalled)},a}(xr);function _f(u){if("number"!=typeof u||Math.floor(u)!==u||u<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new tl(u)}var nl=function(u){function a(c){var h=u.call(this)||this;return h._path=c,h}return(0,W.ZT)(a,u),a.prototype._apply=function(c){at(c,"orderByChild");var h=new ot(this._path);if(ct(h))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var v=new Yo(h),E=kn(c._queryParams,v);return qn(E),new nn(c._repo,c._path,E,!0)},a}(xr);function rl(u){if("$key"===u)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===u)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===u)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Co("orderByChild","path",u,!1),new nl(u)}var fs=function(u){function a(){return null!==u&&u.apply(this,arguments)||this}return(0,W.ZT)(a,u),a.prototype._apply=function(c){at(c,"orderByKey");var h=kn(c._queryParams,jr);return qn(h),new nn(c._repo,c._path,h,!0)},a}(xr);function xc(){return new fs}var il=function(u){function a(){return null!==u&&u.apply(this,arguments)||this}return(0,W.ZT)(a,u),a.prototype._apply=function(c){at(c,"orderByPriority");var h=kn(c._queryParams,St);return qn(h),new nn(c._repo,c._path,h,!0)},a}(xr);function $i(){return new il}var vf=function(u){function a(){return null!==u&&u.apply(this,arguments)||this}return(0,W.ZT)(a,u),a.prototype._apply=function(c){at(c,"orderByValue");var h=kn(c._queryParams,Os);return qn(h),new nn(c._repo,c._path,h,!0)},a}(xr);function ou(){return new vf}var Oc=function(u){function a(c,h){var v=u.call(this)||this;return v._value=c,v._key=h,v}return(0,W.ZT)(a,u),a.prototype._apply=function(c){if(mr("equalTo",this._value,c._path,!1),c._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(c._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Xu(this._value,this._key)._apply(new Or(this._value,this._key)._apply(c))},a}(xr);function yf(u,a){return us("equalTo","key",a,!0),new Oc(u,a)}function Nr(u){for(var a,c,h=[],v=1;v<arguments.length;v++)h[v-1]=arguments[v];var E=(0,A.m9)(u);try{for(var D=(0,W.XA)(h),T=D.next();!T.done;T=D.next()){var R=T.value;E=R._apply(E)}}catch(O){a={error:O}}finally{try{T&&!T.done&&(c=D.return)&&c.call(D)}finally{if(a)throw a.error}}return E}(function(u){(0,A.hu)(!Lu,"__referenceConstructor has already been defined"),Lu=u})(ht),function(u){(0,A.hu)(!ii,"__referenceConstructor has already been defined"),ii=u}(ht);var Tn={},wo=!1;function sl(u,a,c,h,v){var E=h||u.options.databaseURL;void 0===E&&(u.options.projectId||yt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),De("Using default host for project ",u.options.projectId),E=u.options.projectId+"-default-rtdb.firebaseio.com");var R,D=qa(E,v),T=D.repoInfo,O=void 0;"undefined"!=typeof process&&(O=process.env.FIREBASE_DATABASE_EMULATOR_HOST),O?(R=!0,T=(D=qa(E="http://"+O+"?ns="+T.namespace,v)).repoInfo):R=!D.repoInfo.secure;var k=v&&R?new it(it.OWNER):new mt(u.name,u.options,a);Li("Invalid Firebase Database URL",D),ct(D.path)||yt("Database URL must point to the root of a Firebase Database (not including a child path).");var J=function(u,a,c,h){var v=Tn[a.name];v||(Tn[a.name]=v={});var E=v[u.toURLString()];return E&&yt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),E=new ju(u,wo,c,h),v[u.toURLString()]=E,E}(T,u,k,new Ts(u.name,c));return new Cf(J,u)}var Cf=function(){function u(a,c){this._repoInternal=a,this.app=c,this.type="database",this._instanceStarted=!1}return Object.defineProperty(u.prototype,"_repo",{get:function(){return this._instanceStarted||(function(u,a,c){if(u.stats_=At(u.repoInfo_),u.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)u.server_=new Jh(u.repoInfo_,function(h,v,E,D){xn(u,h,v,E,D)},u.authTokenProvider_,u.appCheckProvider_),setTimeout(function(){return cs(u,!0)},0);else{if(null!=c){if("object"!=typeof c)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,A.Pz)(c)}catch(h){throw new Error("Invalid authOverride provided: "+h)}}u.persistentConnection_=new Wo(u.repoInfo_,a,function(h,v,E,D){xn(u,h,v,E,D)},function(h){cs(u,h)},function(h){!function(u,a){Fe(a,function(c,h){Gu(u,c,h)})}(u,h)},u.authTokenProvider_,u.appCheckProvider_,c),u.server_=u.persistentConnection_}u.authTokenProvider_.addTokenChangeListener(function(h){u.server_.refreshAuthToken(h)}),u.appCheckProvider_.addTokenChangeListener(function(h){u.server_.refreshAppCheckToken(h.token)}),u.statsReporter_=function(u,a){var c=u.toString();return lr[c]||(lr[c]=a()),lr[c]}(u.repoInfo_,function(){return new zl(u.stats_,u.server_)}),u.infoData_=new Vd,u.infoSyncTree_=new uc({startListening:function(h,v,E,D){var T=[],R=u.infoData_.getNode(h._path);return R.isEmpty()||(T=Ni(u.infoSyncTree_,h._path,R),setTimeout(function(){D("ok")},0)),T},stopListening:function(){}}),Gu(u,"connected",!1),u.serverSyncTree_=new uc({startListening:function(h,v,E,D){return u.server_.listen(h,E,v,function(T,R){var O=D(T,R);mn(u.eventQueue_,h._path,O)}),[]},stopListening:function(h,v){u.server_.unlisten(h,v)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new ht(this._repo,ke())),this._rootInternal},enumerable:!1,configurable:!0}),u.prototype._delete=function(){return null!==this._rootInternal&&(function(u,a){var c=Tn[a];(!c||c[u.key]!==u)&&yt("Database "+a+"("+u.repoInfo_+") has already been deleted."),Yu(u),delete c[u.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},u.prototype._checkNotDeleted=function(a){null===this._rootInternal&&yt("Cannot call "+a+" on a deleted database.")},u}();function bf(u){(u=(0,A.m9)(u))._checkNotDeleted("goOffline"),Yu(u._repo)}function Io(u){(u=(0,A.m9)(u))._checkNotDeleted("goOnline"),function(u){u.persistentConnection_&&u.persistentConnection_.resume(lf)}(u._repo)}var ir={".sv":"timestamp"},Pc=function(){function u(a,c){this.committed=a,this.snapshot=c}return u.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},u}();function Df(u,a,c){var h;if(u=(0,A.m9)(u),Mr("Reference.transaction",u._path),".length"===u.key||".keys"===u.key)throw"Reference.transaction failed: "+u.key+" is a read-only object.";var v=null===(h=null==c?void 0:c.applyLocally)||void 0===h||h,E=new A.BH,T=nu(u,function(){});return function(u,a,c,h,v,E){Eo(u,"transaction on "+a);var D={path:a,update:c,onComplete:h,status:null,order:ce(),applyLocally:E,retryCount:0,unwatcher:v,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},T=_r(u,a,void 0);D.currentInputSnapshot=T;var R=D.update(T.val());if(void 0===R)D.unwatcher(),D.currentOutputSnapshotRaw=null,D.currentOutputSnapshotResolved=null,D.onComplete&&D.onComplete(null,!1,D.currentInputSnapshot);else{Xs("transaction failed: Data returned ",R,D.path),D.status=0;var O=Zs(u.transactionQueueTree_,a),k=Nt(O)||[];k.push(D),Wa(O,k);var J=void 0;"object"==typeof R&&null!==R&&(0,A.r3)(R,".priority")?(J=(0,A.DV)(R,".priority"),(0,A.hu)(ki(J),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):J=(is(u.serverSyncTree_,a)||Ye.EMPTY_NODE).getPriority().val();var _e=ls(u),Ie=Ht(R,J),We=Ks(Ie,T,_e);D.currentOutputSnapshotRaw=Ie,D.currentOutputSnapshotResolved=We,D.currentWriteId=Qa(u);var Pe=$r(u.serverSyncTree_,a,We,D.currentWriteId,D.applyLocally);mn(u.eventQueue_,a,Pe),Bi(u,u.transactionQueueTree_)}}(u._repo,u._path,a,function(R,O,k){var J=null;R?E.reject(R):(J=new Za(k,new ht(u._repo,u._path),St),E.resolve(new Pc(O,J)))},T,v),E.promise}var Pr=function(){function u(a){this._delegate=a}return u.prototype.cancel=function(a){(0,A.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,A.Wj)("OnDisconnect.cancel","onComplete",a,!0);var c=this._delegate.cancel();return a&&c.then(function(){return a(null)},function(h){return a(h)}),c},u.prototype.remove=function(a){(0,A.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,A.Wj)("OnDisconnect.remove","onComplete",a,!0);var c=this._delegate.remove();return a&&c.then(function(){return a(null)},function(h){return a(h)}),c},u.prototype.set=function(a,c){(0,A.Dv)("OnDisconnect.set",1,2,arguments.length),(0,A.Wj)("OnDisconnect.set","onComplete",c,!0);var h=this._delegate.set(a);return c&&h.then(function(){return c(null)},function(v){return c(v)}),h},u.prototype.setWithPriority=function(a,c,h){(0,A.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,A.Wj)("OnDisconnect.setWithPriority","onComplete",h,!0);var v=this._delegate.setWithPriority(a,c);return h&&v.then(function(){return h(null)},function(E){return h(E)}),v},u.prototype.update=function(a,c){if((0,A.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(a)){for(var h={},v=0;v<a.length;++v)h[""+v]=a[v];a=h,It("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,A.Wj)("OnDisconnect.update","onComplete",c,!0);var E=this._delegate.update(a);return c&&E.then(function(){return c(null)},function(D){return c(D)}),E},u}(),ul=function(){function u(a,c){this.committed=a,this.snapshot=c}return u.prototype.toJSON=function(){return(0,A.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},u}(),Ao=function(){function u(a,c){this._database=a,this._delegate=c}return u.prototype.val=function(){return(0,A.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},u.prototype.exportVal=function(){return(0,A.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},u.prototype.toJSON=function(){return(0,A.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},u.prototype.exists=function(){return(0,A.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},u.prototype.child=function(a){return(0,A.Dv)("DataSnapshot.child",0,1,arguments.length),a=String(a),Co("DataSnapshot.child","path",a,!1),new u(this._database,this._delegate.child(a))},u.prototype.hasChild=function(a){return(0,A.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Co("DataSnapshot.hasChild","path",a,!1),this._delegate.hasChild(a)},u.prototype.getPriority=function(){return(0,A.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},u.prototype.forEach=function(a){var c=this;return(0,A.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,A.Wj)("DataSnapshot.forEach","action",a,!1),this._delegate.forEach(function(h){return a(new u(c._database,h))})},u.prototype.hasChildren=function(){return(0,A.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(u.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),u.prototype.numChildren=function(){return(0,A.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},u.prototype.getRef=function(){return(0,A.Dv)("DataSnapshot.ref",0,0,arguments.length),new Gi(this._database,this._delegate.ref)},Object.defineProperty(u.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),u}(),ll=function(){function u(a,c){this.database=a,this._delegate=c}return u.prototype.on=function(a,c,h,v){var D,E=this;(0,A.Dv)("Query.on",2,4,arguments.length),(0,A.Wj)("Query.on","callback",c,!1);var T=u.getCancelAndContextArgs_("Query.on",h,v),R=function(k,J){c.call(T.context,new Ao(E.database,k),J)};R.userCallback=c,R.context=T.context;var O=null===(D=T.cancel)||void 0===D?void 0:D.bind(T.context);switch(a){case"value":return nu(this._delegate,R,O),c;case"child_added":return Ju(this._delegate,R,O),c;case"child_removed":return ru(this._delegate,R,O),c;case"child_changed":return an(this._delegate,R,O),c;case"child_moved":return ds(this._delegate,R,O),c;default:throw new Error((0,A.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},u.prototype.off=function(a,c,h){if((0,A.Dv)("Query.off",0,3,arguments.length),rf("Query.off",a,!0),(0,A.Wj)("Query.off","callback",c,!0),(0,A.lb)("Query.off","context",h,!0),c){var v=function(){};v.userCallback=c,v.context=h,Ac(this._delegate,a,v)}else Ac(this._delegate,a)},u.prototype.get=function(){var a=this;return Zu(this._delegate).then(function(c){return new Ao(a.database,c)})},u.prototype.once=function(a,c,h,v){var E=this;(0,A.Dv)("Query.once",1,4,arguments.length),(0,A.Wj)("Query.once","callback",c,!0);var D=u.getCancelAndContextArgs_("Query.once",h,v),T=new A.BH,R=function(k,J){var le=new Ao(E.database,k);c&&c.call(D.context,le,J),T.resolve(le)};R.userCallback=c,R.context=D.context;var O=function(k){D.cancel&&D.cancel.call(D.context,k),T.reject(k)};switch(a){case"value":nu(this._delegate,R,O,{onlyOnce:!0});break;case"child_added":Ju(this._delegate,R,O,{onlyOnce:!0});break;case"child_removed":ru(this._delegate,R,O,{onlyOnce:!0});break;case"child_changed":an(this._delegate,R,O,{onlyOnce:!0});break;case"child_moved":ds(this._delegate,R,O,{onlyOnce:!0});break;default:throw new Error((0,A.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return T.promise},u.prototype.limitToFirst=function(a){return(0,A.Dv)("Query.limitToFirst",1,1,arguments.length),new u(this.database,Nr(this._delegate,Hi(a)))},u.prototype.limitToLast=function(a){return(0,A.Dv)("Query.limitToLast",1,1,arguments.length),new u(this.database,Nr(this._delegate,_f(a)))},u.prototype.orderByChild=function(a){return(0,A.Dv)("Query.orderByChild",1,1,arguments.length),new u(this.database,Nr(this._delegate,rl(a)))},u.prototype.orderByKey=function(){return(0,A.Dv)("Query.orderByKey",0,0,arguments.length),new u(this.database,Nr(this._delegate,xc()))},u.prototype.orderByPriority=function(){return(0,A.Dv)("Query.orderByPriority",0,0,arguments.length),new u(this.database,Nr(this._delegate,$i()))},u.prototype.orderByValue=function(){return(0,A.Dv)("Query.orderByValue",0,0,arguments.length),new u(this.database,Nr(this._delegate,ou()))},u.prototype.startAt=function(a,c){return void 0===a&&(a=null),(0,A.Dv)("Query.startAt",0,2,arguments.length),new u(this.database,Nr(this._delegate,sa(a,c)))},u.prototype.startAfter=function(a,c){return void 0===a&&(a=null),(0,A.Dv)("Query.startAfter",0,2,arguments.length),new u(this.database,Nr(this._delegate,Mc(a,c)))},u.prototype.endAt=function(a,c){return void 0===a&&(a=null),(0,A.Dv)("Query.endAt",0,2,arguments.length),new u(this.database,Nr(this._delegate,Tc(a,c)))},u.prototype.endBefore=function(a,c){return void 0===a&&(a=null),(0,A.Dv)("Query.endBefore",0,2,arguments.length),new u(this.database,Nr(this._delegate,el(a,c)))},u.prototype.equalTo=function(a,c){return(0,A.Dv)("Query.equalTo",1,2,arguments.length),new u(this.database,Nr(this._delegate,yf(a,c)))},u.prototype.toString=function(){return(0,A.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()},u.prototype.toJSON=function(){return(0,A.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},u.prototype.isEqual=function(a){if((0,A.Dv)("Query.isEqual",1,1,arguments.length),!(a instanceof u)){var c="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(c)}return this._delegate.isEqual(a._delegate)},u.getCancelAndContextArgs_=function(a,c,h){var v={cancel:void 0,context:void 0};if(c&&h)v.cancel=c,(0,A.Wj)(a,"cancel",v.cancel,!0),v.context=h,(0,A.lb)(a,"context",v.context,!0);else if(c)if("object"==typeof c&&null!==c)v.context=c;else{if("function"!=typeof c)throw new Error((0,A.gK)(a,"cancelOrContext")+" must either be a cancel callback or a context object.");v.cancel=c}return v},Object.defineProperty(u.prototype,"ref",{get:function(){return new Gi(this.database,new ht(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),u}(),Gi=function(u){function a(c,h){var v=u.call(this,c,new nn(h._repo,h._path,new Gl,!1))||this;return v.database=c,v._delegate=h,v}return(0,W.ZT)(a,u),a.prototype.getKey=function(){return(0,A.Dv)("Reference.key",0,0,arguments.length),this._delegate.key},a.prototype.child=function(c){return(0,A.Dv)("Reference.child",1,1,arguments.length),"number"==typeof c&&(c=String(c)),new a(this.database,ji(this._delegate,c))},a.prototype.getParent=function(){(0,A.Dv)("Reference.parent",0,0,arguments.length);var c=this._delegate.parent;return c?new a(this.database,c):null},a.prototype.getRoot=function(){return(0,A.Dv)("Reference.root",0,0,arguments.length),new a(this.database,this._delegate.root)},a.prototype.set=function(c,h){(0,A.Dv)("Reference.set",1,2,arguments.length),(0,A.Wj)("Reference.set","onComplete",h,!0);var v=eu(this._delegate,c);return h&&v.then(function(){return h(null)},function(E){return h(E)}),v},a.prototype.update=function(c,h){if((0,A.Dv)("Reference.update",1,2,arguments.length),Array.isArray(c)){for(var v={},E=0;E<c.length;++E)v[""+E]=c[E];c=v,It("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Mr("Reference.update",this._delegate._path),(0,A.Wj)("Reference.update","onComplete",h,!0);var D=Ic(this._delegate,c);return h&&D.then(function(){return h(null)},function(T){return h(T)}),D},a.prototype.setWithPriority=function(c,h,v){(0,A.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,A.Wj)("Reference.setWithPriority","onComplete",v,!0);var E=mf(this._delegate,c,h);return v&&E.then(function(){return v(null)},function(D){return v(D)}),E},a.prototype.remove=function(c){(0,A.Dv)("Reference.remove",0,1,arguments.length),(0,A.Wj)("Reference.remove","onComplete",c,!0);var h=oa(this._delegate);return c&&h.then(function(){return c(null)},function(v){return c(v)}),h},a.prototype.transaction=function(c,h,v){var E=this;(0,A.Dv)("Reference.transaction",1,3,arguments.length),(0,A.Wj)("Reference.transaction","transactionUpdate",c,!1),(0,A.Wj)("Reference.transaction","onComplete",h,!0),sf("Reference.transaction","applyLocally",v,!0);var D=Df(this._delegate,c,{applyLocally:v}).then(function(T){return new ul(T.committed,new Ao(E.database,T.snapshot))});return h&&D.then(function(T){return h(null,T.committed,T.snapshot)},function(T){return h(T,!1,null)}),D},a.prototype.setPriority=function(c,h){(0,A.Dv)("Reference.setPriority",1,2,arguments.length),(0,A.Wj)("Reference.setPriority","onComplete",h,!0);var v=tu(this._delegate,c);return h&&v.then(function(){return h(null)},function(E){return h(E)}),v},a.prototype.push=function(c,h){var v=this;(0,A.Dv)("Reference.push",0,2,arguments.length),(0,A.Wj)("Reference.push","onComplete",h,!0);var E=Xa(this._delegate,c),D=E.then(function(R){return new a(v.database,R)});h&&D.then(function(){return h(null)},function(R){return h(R)});var T=new a(this.database,E);return T.then=D.then.bind(D),T.catch=D.catch.bind(D,void 0),T},a.prototype.onDisconnect=function(){return Mr("Reference.onDisconnect",this._delegate._path),new Pr(new ra(this._delegate._repo,this._delegate._path))},Object.defineProperty(a.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),a}(ll),Yr=function(){function u(a,c){var h=this;this._delegate=a,this.app=c,this.INTERNAL={delete:function(){return h._delegate._delete()}}}return u.prototype.useEmulator=function(a,c,h){void 0===h&&(h={}),function(u,a,c,h){void 0===h&&(h={}),(u=(0,A.m9)(u))._checkNotDeleted("useEmulator"),u._instanceStarted&&yt("Cannot call useEmulator() after instance has already been initialized.");var v=u._repoInternal,E=void 0;if(v.repoInfo_.nodeAdmin)h.mockUserToken&&yt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),E=new it(it.OWNER);else if(h.mockUserToken){var D=(0,A.Sg)(h.mockUserToken,u.app.options.projectId);E=new it(D)}!function(u,a,c,h){u.repoInfo_=new Yt(a+":"+c,!1,u.repoInfo_.namespace,u.repoInfo_.webSocketOnly,u.repoInfo_.nodeAdmin,u.repoInfo_.persistenceKey,u.repoInfo_.includeNamespaceInQueryParams),h&&(u.authTokenProvider_=h)}(v,a,c,E)}(this._delegate,a,c,h)},u.prototype.ref=function(a){if((0,A.Dv)("database.ref",0,1,arguments.length),a instanceof Gi){var c=ia(this._delegate,a.toString());return new Gi(this,c)}return c=Ja(this._delegate,a),new Gi(this,c)},u.prototype.refFromURL=function(a){var c="database.refFromURL";(0,A.Dv)(c,1,1,arguments.length);var h=ia(this._delegate,a);return new Gi(this,h)},u.prototype.goOffline=function(){return(0,A.Dv)("database.goOffline",0,0,arguments.length),bf(this._delegate)},u.prototype.goOnline=function(){return(0,A.Dv)("database.goOnline",0,0,arguments.length),Io(this._delegate)},u.ServerValue={TIMESTAMP:ir,increment:function(a){return function(u){return{".sv":{increment:u}}}(a)}},u}(),Lc=Object.freeze({__proto__:null,forceLongPolling:function(){Dn.forceDisallow(),Ea.forceAllow()},forceWebSockets:function(){Ea.forceDisallow()},isWebSocketsAvailable:function(){return Dn.isAvailable()},setSecurityDebugCallback:function(u,a){u._delegate._repo.persistentConnection_.securityDebugCallback_=a},stats:function(u,a){!function(u,a){if(void 0===a&&(a=!1),"undefined"!=typeof console){var c;a?(u.statsListener_||(u.statsListener_=new ti(u.stats_)),c=u.statsListener_.get()):c=u.stats_.get();var h=Object.keys(c).reduce(function(v,E){return Math.max(E.length,v)},0);Fe(c,function(v,E){for(var D=v,T=v.length;T<h+2;T++)D+=" ";console.log(D+E)})}}(u._delegate._repo,a)},statsIncrementCounter:function(u,a){!function(u,a){u.stats_.incrementCounter(a),function(u,a){u.statsToReport_[a]=!0}(u.statsReporter_,a)}(u._delegate._repo,a)},dataUpdateCount:function(u){return u._delegate._repo.dataUpdateCount},interceptServerData:function(u,a){return function(u,a){u.interceptServerDataCallback_=a}(u._delegate._repo,a)},initStandalone:function(u){var a=u.app,c=u.url,v=u.customAuthImpl,E=u.namespace,D=u.nodeAdmin,T=void 0!==D&&D;z(u.version);var R=new ie.zt("auth-internal",new ie.H0("database-standalone"));return R.setComponent(new ie.wA("auth-internal",function(){return v},"PRIVATE")),{instance:new Yr(sl(a,R,void 0,c,T),a),namespace:E}}}),uu=Wo;Wo.prototype.simpleListen=function(u,a){this.sendRequest("q",{p:u},a)},Wo.prototype.echo=function(u,a){this.sendRequest("echo",{d:u},a)};var Bc=Object.freeze({__proto__:null,DataConnection:uu,RealTimeConnection:Ci,hijackHash:function(u){var a=Wo.prototype.put;return Wo.prototype.put=function(c,h,v,E){void 0!==E&&(E=u()),a.call(this,c,h,v,E)},function(){Wo.prototype.put=a}},ConnectionTarget:Yt,queryIdentifier:function(u){return u._delegate._queryIdentifier},forceRestClient:function(u){!function(u){wo=u}(u)}}),aa=Yr.ServerValue;!function(u){z(u.SDK_VERSION);var a=u.INTERNAL.registerComponent(new ie.wA("database",function(c,h){var v=h.instanceIdentifier,E=c.getProvider("app").getImmediate(),D=c.getProvider("auth-internal"),T=c.getProvider("app-check-internal");return new Yr(sl(E,D,T,v),E)},"PUBLIC").setServiceProps({Reference:Gi,Query:ll,Database:Yr,DataSnapshot:Ao,enableLogging:ze,INTERNAL:Lc,ServerValue:aa,TEST_ACCESS:Bc}).setMultipleInstances(!0));u.registerVersion("@firebase/database","0.10.9"),(0,A.Yr)()&&(Ne.exports=a)}(_.Z)},300:(Ne,me,F)=>{"use strict";function _(){for(var N=0,U=0,Q=arguments.length;U<Q;U++)N+=arguments[U].length;var se=Array(N),ce=0;for(U=0;U<Q;U++)for(var Ae=arguments[U],ve=0,Ce=Ae.length;ve<Ce;ve++,ce++)se[ce]=Ae[ve];return se}F.d(me,{in:()=>W,Yd:()=>z,Ub:()=>P,Am:()=>H});var ie,A=[],W=(()=>{return(N=W||(W={}))[N.DEBUG=0]="DEBUG",N[N.VERBOSE=1]="VERBOSE",N[N.INFO=2]="INFO",N[N.WARN=3]="WARN",N[N.ERROR=4]="ERROR",N[N.SILENT=5]="SILENT",W;var N})(),ue={debug:W.DEBUG,verbose:W.VERBOSE,info:W.INFO,warn:W.WARN,error:W.ERROR,silent:W.SILENT},Y=W.INFO,de=((ie={})[W.DEBUG]="log",ie[W.VERBOSE]="log",ie[W.INFO]="info",ie[W.WARN]="warn",ie[W.ERROR]="error",ie),K=function(N,U){for(var Q=[],se=2;se<arguments.length;se++)Q[se-2]=arguments[se];if(!(U<N.logLevel)){var ce=(new Date).toISOString(),Ae=de[U];if(!Ae)throw new Error("Attempted to log a message with an invalid logType (value: "+U+")");console[Ae].apply(console,_(["["+ce+"]  "+N.name+":"],Q))}},z=function(){function N(U){this.name=U,this._logLevel=Y,this._logHandler=K,this._userLogHandler=null,A.push(this)}return Object.defineProperty(N.prototype,"logLevel",{get:function(){return this._logLevel},set:function(U){if(!(U in W))throw new TypeError('Invalid value "'+U+'" assigned to `logLevel`');this._logLevel=U},enumerable:!1,configurable:!0}),N.prototype.setLogLevel=function(U){this._logLevel="string"==typeof U?ue[U]:U},Object.defineProperty(N.prototype,"logHandler",{get:function(){return this._logHandler},set:function(U){if("function"!=typeof U)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=U},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(U){this._userLogHandler=U},enumerable:!1,configurable:!0}),N.prototype.debug=function(){for(var U=[],Q=0;Q<arguments.length;Q++)U[Q]=arguments[Q];this._userLogHandler&&this._userLogHandler.apply(this,_([this,W.DEBUG],U)),this._logHandler.apply(this,_([this,W.DEBUG],U))},N.prototype.log=function(){for(var U=[],Q=0;Q<arguments.length;Q++)U[Q]=arguments[Q];this._userLogHandler&&this._userLogHandler.apply(this,_([this,W.VERBOSE],U)),this._logHandler.apply(this,_([this,W.VERBOSE],U))},N.prototype.info=function(){for(var U=[],Q=0;Q<arguments.length;Q++)U[Q]=arguments[Q];this._userLogHandler&&this._userLogHandler.apply(this,_([this,W.INFO],U)),this._logHandler.apply(this,_([this,W.INFO],U))},N.prototype.warn=function(){for(var U=[],Q=0;Q<arguments.length;Q++)U[Q]=arguments[Q];this._userLogHandler&&this._userLogHandler.apply(this,_([this,W.WARN],U)),this._logHandler.apply(this,_([this,W.WARN],U))},N.prototype.error=function(){for(var U=[],Q=0;Q<arguments.length;Q++)U[Q]=arguments[Q];this._userLogHandler&&this._userLogHandler.apply(this,_([this,W.ERROR],U)),this._logHandler.apply(this,_([this,W.ERROR],U))},N}();function P(N){A.forEach(function(U){U.setLogLevel(N)})}function H(N,U){for(var Q=function(ve){var Ce=null;U&&U.level&&(Ce=ue[U.level]),ve.userLogHandler=null===N?null:function(Te,ze){for(var De=[],Et=2;Et<arguments.length;Et++)De[Et-2]=arguments[Et];var Mt=De.map(function(yt){if(null==yt)return null;if("string"==typeof yt)return yt;if("number"==typeof yt||"boolean"==typeof yt)return yt.toString();if(yt instanceof Error)return yt.message;try{return JSON.stringify(yt)}catch(It){return null}}).filter(function(yt){return yt}).join(" ");ze>=(null!=Ce?Ce:Te.logLevel)&&N({level:W[ze].toLowerCase(),message:Mt,args:De,type:Te.name})}},se=0,ce=A;se<ce.length;se++)Q(ce[se])}},4685:(Ne,me,F)=>{"use strict";F.d(me,{BH:()=>U,LL:()=>te,gQ:()=>it,hu:()=>A,g5:()=>W,US:()=>de,h$:()=>K,r3:()=>vt,Sg:()=>Q,ne:()=>En,p$:()=>P,ZB:()=>H,gK:()=>Lr,m9:()=>xl,GJ:()=>xt,jU:()=>ve,xb:()=>zt,uI:()=>ce,UG:()=>Ae,Yr:()=>Mt,b$:()=>Te,w9:()=>tt,cI:()=>Rt,UI:()=>vn,xO:()=>vi,DV:()=>ar,ug:()=>Yt,dS:()=>yu,Pz:()=>Ve,Dv:()=>Xt,Wj:()=>ur,lb:()=>ln});var _=F(4762),A=function(B,V){if(!B)throw W(V)},W=function(B){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+B)},ue=function(B){for(var V=[],$=0,ae=0;ae<B.length;ae++){var q=B.charCodeAt(ae);q<128?V[$++]=q:q<2048?(V[$++]=q>>6|192,V[$++]=63&q|128):55296==(64512&q)&&ae+1<B.length&&56320==(64512&B.charCodeAt(ae+1))?(q=65536+((1023&q)<<10)+(1023&B.charCodeAt(++ae)),V[$++]=q>>18|240,V[$++]=q>>12&63|128,V[$++]=q>>6&63|128,V[$++]=63&q|128):(V[$++]=q>>12|224,V[$++]=q>>6&63|128,V[$++]=63&q|128)}return V},de={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(B,V){if(!Array.isArray(B))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var $=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,ae=[],q=0;q<B.length;q+=3){var we=B[q],$e=q+1<B.length,ut=$e?B[q+1]:0,bt=q+2<B.length,wt=bt?B[q+2]:0,jn=(15&ut)<<2|wt>>6,Zr=63&wt;bt||(Zr=64,$e||(jn=64)),ae.push($[we>>2],$[(3&we)<<4|ut>>4],$[jn],$[Zr])}return ae.join("")},encodeString:function(B,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(B):this.encodeByteArray(ue(B),V)},decodeString:function(B,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(B):function(B){for(var V=[],$=0,ae=0;$<B.length;){var q=B[$++];if(q<128)V[ae++]=String.fromCharCode(q);else if(q>191&&q<224){var we=B[$++];V[ae++]=String.fromCharCode((31&q)<<6|63&we)}else if(q>239&&q<365){var bt=((7&q)<<18|(63&(we=B[$++]))<<12|(63&($e=B[$++]))<<6|63&B[$++])-65536;V[ae++]=String.fromCharCode(55296+(bt>>10)),V[ae++]=String.fromCharCode(56320+(1023&bt))}else{we=B[$++];var $e=B[$++];V[ae++]=String.fromCharCode((15&q)<<12|(63&we)<<6|63&$e)}}return V.join("")}(this.decodeStringToByteArray(B,V))},decodeStringToByteArray:function(B,V){this.init_();for(var $=V?this.charToByteMapWebSafe_:this.charToByteMap_,ae=[],q=0;q<B.length;){var we=$[B.charAt(q++)],ut=q<B.length?$[B.charAt(q)]:0,wt=++q<B.length?$[B.charAt(q)]:64,On=++q<B.length?$[B.charAt(q)]:64;if(++q,null==we||null==ut||null==wt||null==On)throw Error();ae.push(we<<2|ut>>4),64!==wt&&(ae.push(ut<<4&240|wt>>2),64!==On&&ae.push(wt<<6&192|On))}return ae},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var B=0;B<this.ENCODED_VALS.length;B++)this.byteToCharMap_[B]=this.ENCODED_VALS.charAt(B),this.charToByteMap_[this.byteToCharMap_[B]]=B,this.byteToCharMapWebSafe_[B]=this.ENCODED_VALS_WEBSAFE.charAt(B),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[B]]=B,B>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(B)]=B,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(B)]=B)}}},K=function(B){var V=ue(B);return de.encodeByteArray(V,!0)},z=function(B){try{return de.decodeString(B,!0)}catch(V){console.error("base64Decode failed: ",V)}return null};function P(B){return H(void 0,B)}function H(B,V){if(!(V instanceof Object))return V;switch(V.constructor){case Date:return new Date(V.getTime());case Object:void 0===B&&(B={});break;case Array:B=[];break;default:return V}for(var ae in V)!V.hasOwnProperty(ae)||!N(ae)||(B[ae]=H(B[ae],V[ae]));return B}function N(B){return"__proto__"!==B}var U=function(){function B(){var V=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function($,ae){V.resolve=$,V.reject=ae})}return B.prototype.wrapCallback=function(V){var $=this;return function(ae,q){ae?$.reject(ae):$.resolve(q),"function"==typeof V&&($.promise.catch(function(){}),1===V.length?V(ae):V(ae,q))}},B}();function Q(B,V){if(B.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var ae=V||"demo-project",q=B.iat||0,we=B.sub||B.user_id;if(!we)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var $e=(0,_.pi)({iss:"https://securetoken.google.com/"+ae,aud:ae,iat:q,exp:q+3600,auth_time:q,sub:we,user_id:we,firebase:{sign_in_provider:"custom",identities:{}}},B);return[de.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),de.encodeString(JSON.stringify($e),!1),""].join(".")}function ce(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:"")}function Ae(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(B){return!1}}function ve(){return"object"==typeof self&&self.self===self}function Te(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Mt(){return!1}var pe=function(B){function V($,ae,q){var we=B.call(this,ae)||this;return we.code=$,we.customData=q,we.name="FirebaseError",Object.setPrototypeOf(we,V.prototype),Error.captureStackTrace&&Error.captureStackTrace(we,te.prototype.create),we}return(0,_.ZT)(V,B),V}(Error),te=function(){function B(V,$,ae){this.service=V,this.serviceName=$,this.errors=ae}return B.prototype.create=function(V){for(var $=[],ae=1;ae<arguments.length;ae++)$[ae-1]=arguments[ae];var q=$[0]||{},we=this.service+"/"+V,$e=this.errors[V],ut=$e?je($e,q):"Error",bt=this.serviceName+": "+ut+" ("+we+").",wt=new pe(we,bt,q);return wt},B}();function je(B,V){return B.replace(He,function($,ae){var q=V[ae];return null!=q?String(q):"<"+ae+"?>"})}var He=/\{\$([^}]+)}/g;function Rt(B){return JSON.parse(B)}function Ve(B){return JSON.stringify(B)}var Fe=function(B){var V={},$={},ae={},q="";try{var we=B.split(".");V=Rt(z(we[0])||""),$=Rt(z(we[1])||""),q=we[2],ae=$.d||{},delete $.d}catch($e){}return{header:V,claims:$,data:ae,signature:q}},tt=function(B){var $=Fe(B).claims;return!!$&&"object"==typeof $&&$.hasOwnProperty("iat")},xt=function(B){var V=Fe(B).claims;return"object"==typeof V&&!0===V.admin};function vt(B,V){return Object.prototype.hasOwnProperty.call(B,V)}function ar(B,V){if(Object.prototype.hasOwnProperty.call(B,V))return B[V]}function zt(B){for(var V in B)if(Object.prototype.hasOwnProperty.call(B,V))return!1;return!0}function vn(B,V,$){var ae={};for(var q in B)Object.prototype.hasOwnProperty.call(B,q)&&(ae[q]=V.call($,B[q],q,B));return ae}function vi(B){for(var V=[],$=function(bt,wt){Array.isArray(wt)?wt.forEach(function(cn){V.push(encodeURIComponent(bt)+"="+encodeURIComponent(cn))}):V.push(encodeURIComponent(bt)+"="+encodeURIComponent(wt))},ae=0,q=Object.entries(B);ae<q.length;ae++){var we=q[ae];$(we[0],we[1])}return V.length?"&"+V.join("&"):""}var it=function(){function B(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var V=1;V<this.blockSize;++V)this.pad_[V]=0;this.reset()}return B.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},B.prototype.compress_=function(V,$){$||($=0);var ae=this.W_;if("string"==typeof V)for(var q=0;q<16;q++)ae[q]=V.charCodeAt($)<<24|V.charCodeAt($+1)<<16|V.charCodeAt($+2)<<8|V.charCodeAt($+3),$+=4;else for(q=0;q<16;q++)ae[q]=V[$]<<24|V[$+1]<<16|V[$+2]<<8|V[$+3],$+=4;for(q=16;q<80;q++)ae[q]=4294967295&((we=ae[q-3]^ae[q-8]^ae[q-14]^ae[q-16])<<1|we>>>31);var On,jn,$e=this.chain_[0],ut=this.chain_[1],bt=this.chain_[2],wt=this.chain_[3],cn=this.chain_[4];for(q=0;q<80;q++){q<40?q<20?(On=wt^ut&(bt^wt),jn=1518500249):(On=ut^bt^wt,jn=1859775393):q<60?(On=ut&bt|wt&(ut|bt),jn=2400959708):(On=ut^bt^wt,jn=3395469782);var we=($e<<5|$e>>>27)+On+cn+jn+ae[q]&4294967295;cn=wt,wt=bt,bt=4294967295&(ut<<30|ut>>>2),ut=$e,$e=we}this.chain_[0]=this.chain_[0]+$e&4294967295,this.chain_[1]=this.chain_[1]+ut&4294967295,this.chain_[2]=this.chain_[2]+bt&4294967295,this.chain_[3]=this.chain_[3]+wt&4294967295,this.chain_[4]=this.chain_[4]+cn&4294967295},B.prototype.update=function(V,$){if(null!=V){void 0===$&&($=V.length);for(var ae=$-this.blockSize,q=0,we=this.buf_,$e=this.inbuf_;q<$;){if(0===$e)for(;q<=ae;)this.compress_(V,q),q+=this.blockSize;if("string"==typeof V){for(;q<$;)if(we[$e]=V.charCodeAt(q),++q,++$e===this.blockSize){this.compress_(we),$e=0;break}}else for(;q<$;)if(we[$e]=V[q],++q,++$e===this.blockSize){this.compress_(we),$e=0;break}}this.inbuf_=$e,this.total_+=$}},B.prototype.digest=function(){var V=[],$=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var ae=this.blockSize-1;ae>=56;ae--)this.buf_[ae]=255&$,$/=256;this.compress_(this.buf_);var q=0;for(ae=0;ae<5;ae++)for(var we=24;we>=0;we-=8)V[q]=this.chain_[ae]>>we&255,++q;return V},B}();function En(B,V){var $=new bn(B,V);return $.subscribe.bind($)}var bn=function(){function B(V,$){var ae=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$,this.task.then(function(){V(ae)}).catch(function(q){ae.error(q)})}return B.prototype.next=function(V){this.forEachObserver(function($){$.next(V)})},B.prototype.error=function(V){this.forEachObserver(function($){$.error(V)}),this.close(V)},B.prototype.complete=function(){this.forEachObserver(function(V){V.complete()}),this.close()},B.prototype.subscribe=function(V,$,ae){var we,q=this;if(void 0===V&&void 0===$&&void 0===ae)throw new Error("Missing Observer.");void 0===(we=function(B,V){if("object"!=typeof B||null===B)return!1;for(var $=0,ae=["next","error","complete"];$<ae.length;$++){var q=ae[$];if(q in B&&"function"==typeof B[q])return!0}return!1}(V)?V:{next:V,error:$,complete:ae}).next&&(we.next=on),void 0===we.error&&(we.error=on),void 0===we.complete&&(we.complete=on);var $e=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{q.finalError?we.error(q.finalError):we.complete()}catch(ut){}}),this.observers.push(we),$e},B.prototype.unsubscribeOne=function(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},B.prototype.forEachObserver=function(V){if(!this.finalized)for(var $=0;$<this.observers.length;$++)this.sendOne($,V)},B.prototype.sendOne=function(V,$){var ae=this;this.task.then(function(){if(void 0!==ae.observers&&void 0!==ae.observers[V])try{$(ae.observers[V])}catch(q){"undefined"!=typeof console&&console.error&&console.error(q)}})},B.prototype.close=function(V){var $=this;this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(function(){$.observers=void 0,$.onNoObservers=void 0}))},B}();function on(){}var Xt=function(B,V,$,ae){var q;if(ae<V?q="at least "+V:ae>$&&(q=0===$?"none":"no more than "+$),q)throw new Error(B+" failed: Was called with "+ae+(1===ae?" argument.":" arguments.")+" Expects "+q+".")};function Lr(B,V){return B+" failed: "+V+" argument "}function ur(B,V,$,ae){if((!ae||$)&&"function"!=typeof $)throw new Error(Lr(B,V)+"must be a valid function.")}function ln(B,V,$,ae){if((!ae||$)&&("object"!=typeof $||null===$))throw new Error(Lr(B,V)+"must be a valid context object.")}var yu=function(B){for(var V=[],$=0,ae=0;ae<B.length;ae++){var q=B.charCodeAt(ae);if(q>=55296&&q<=56319){var we=q-55296;ae++,A(ae<B.length,"Surrogate pair missing trail surrogate."),q=65536+(we<<10)+(B.charCodeAt(ae)-56320)}q<128?V[$++]=q:q<2048?(V[$++]=q>>6|192,V[$++]=63&q|128):q<65536?(V[$++]=q>>12|224,V[$++]=q>>6&63|128,V[$++]=63&q|128):(V[$++]=q>>18|240,V[$++]=q>>12&63|128,V[$++]=q>>6&63|128,V[$++]=63&q|128)}return V},Yt=function(B){for(var V=0,$=0;$<B.length;$++){var ae=B.charCodeAt($);ae<128?V++:ae<2048?V+=2:ae>=55296&&ae<=56319?(V+=4,$++):V+=3}return V};function xl(B){return B&&B._delegate?B._delegate:B}},2329:(Ne,me,F)=>{"use strict";F.d(me,{Z:()=>_.Z});var _=F(9759),A="8.9.1";_.Z.registerVersion("firebase",A,"app"),_.Z.SDK_VERSION=A},7574:(Ne,me,F)=>{"use strict";F.d(me,{y:()=>H});var _=F(7393),A=F(9181),W=F(6490),Y=F(6554),de=F(4487);var P=F(2494);let H=(()=>{class U{constructor(se){this._isScalar=!1,se&&(this._subscribe=se)}lift(se){const ce=new U;return ce.source=this,ce.operator=se,ce}subscribe(se,ce,Ae){const{operator:ve}=this,Ce=function(U,Q,se){if(U){if(U instanceof _.L)return U;if(U[A.b])return U[A.b]()}return U||Q||se?new _.L(U,Q,se):new _.L(W.c)}(se,ce,Ae);if(Ce.add(ve?ve.call(Ce,this.source):this.source||P.v.useDeprecatedSynchronousErrorHandling&&!Ce.syncErrorThrowable?this._subscribe(Ce):this._trySubscribe(Ce)),P.v.useDeprecatedSynchronousErrorHandling&&Ce.syncErrorThrowable&&(Ce.syncErrorThrowable=!1,Ce.syncErrorThrown))throw Ce.syncErrorValue;return Ce}_trySubscribe(se){try{return this._subscribe(se)}catch(ce){P.v.useDeprecatedSynchronousErrorHandling&&(se.syncErrorThrown=!0,se.syncErrorValue=ce),function(U){for(;U;){const{closed:Q,destination:se,isStopped:ce}=U;if(Q||ce)return!1;U=se&&se instanceof _.L?se:null}return!0}(se)?se.error(ce):console.warn(ce)}}forEach(se,ce){return new(ce=N(ce))((Ae,ve)=>{let Ce;Ce=this.subscribe(Te=>{try{se(Te)}catch(ze){ve(ze),Ce&&Ce.unsubscribe()}},ve,Ae)})}_subscribe(se){const{source:ce}=this;return ce&&ce.subscribe(se)}[Y.L](){return this}pipe(...se){return 0===se.length?this:function(U){return 0===U.length?de.y:1===U.length?U[0]:function(se){return U.reduce((ce,Ae)=>Ae(ce),se)}}(se)(this)}toPromise(se){return new(se=N(se))((ce,Ae)=>{let ve;this.subscribe(Ce=>ve=Ce,Ce=>Ae(Ce),()=>ce(ve))})}}return U.create=Q=>new U(Q),U})();function N(U){if(U||(U=P.v.Promise||Promise),!U)throw new Error("no Promise impl found");return U}},6490:(Ne,me,F)=>{"use strict";F.d(me,{c:()=>A});var _=F(2494),ie=F(4449);const A={closed:!0,next(W){},error(W){if(_.v.useDeprecatedSynchronousErrorHandling)throw W;(0,ie.z)(W)},complete(){}}},9765:(Ne,me,F)=>{"use strict";F.d(me,{Yc:()=>de,xQ:()=>K});var _=F(7574),ie=F(7393),A=F(5319),W=F(7971),ue=F(8858),Y=F(9181);class de extends ie.L{constructor(H){super(H),this.destination=H}}let K=(()=>{class P extends _.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Y.b](){return new de(this)}lift(N){const U=new z(this,this);return U.operator=N,U}next(N){if(this.closed)throw new W.N;if(!this.isStopped){const{observers:U}=this,Q=U.length,se=U.slice();for(let ce=0;ce<Q;ce++)se[ce].next(N)}}error(N){if(this.closed)throw new W.N;this.hasError=!0,this.thrownError=N,this.isStopped=!0;const{observers:U}=this,Q=U.length,se=U.slice();for(let ce=0;ce<Q;ce++)se[ce].error(N);this.observers.length=0}complete(){if(this.closed)throw new W.N;this.isStopped=!0;const{observers:N}=this,U=N.length,Q=N.slice();for(let se=0;se<U;se++)Q[se].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(N){if(this.closed)throw new W.N;return super._trySubscribe(N)}_subscribe(N){if(this.closed)throw new W.N;return this.hasError?(N.error(this.thrownError),A.w.EMPTY):this.isStopped?(N.complete(),A.w.EMPTY):(this.observers.push(N),new ue.W(this,N))}asObservable(){const N=new _.y;return N.source=this,N}}return P.create=(H,N)=>new z(H,N),P})();class z extends K{constructor(H,N){super(),this.destination=H,this.source=N}next(H){const{destination:N}=this;N&&N.next&&N.next(H)}error(H){const{destination:N}=this;N&&N.error&&this.destination.error(H)}complete(){const{destination:H}=this;H&&H.complete&&this.destination.complete()}_subscribe(H){const{source:N}=this;return N?this.source.subscribe(H):A.w.EMPTY}}},8858:(Ne,me,F)=>{"use strict";F.d(me,{W:()=>ie});var _=F(5319);class ie extends _.w{constructor(W,ue){super(),this.subject=W,this.subscriber=ue,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const W=this.subject,ue=W.observers;if(this.subject=null,!ue||0===ue.length||W.isStopped||W.closed)return;const Y=ue.indexOf(this.subscriber);-1!==Y&&ue.splice(Y,1)}}},7393:(Ne,me,F)=>{"use strict";F.d(me,{L:()=>de});var _=F(9105),ie=F(6490),A=F(5319),W=F(9181),ue=F(2494),Y=F(4449);class de extends A.w{constructor(P,H,N){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=ie.c;break;case 1:if(!P){this.destination=ie.c;break}if("object"==typeof P){P instanceof de?(this.syncErrorThrowable=P.syncErrorThrowable,this.destination=P,P.add(this)):(this.syncErrorThrowable=!0,this.destination=new K(this,P));break}default:this.syncErrorThrowable=!0,this.destination=new K(this,P,H,N)}}[W.b](){return this}static create(P,H,N){const U=new de(P,H,N);return U.syncErrorThrowable=!1,U}next(P){this.isStopped||this._next(P)}error(P){this.isStopped||(this.isStopped=!0,this._error(P))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(P){this.destination.next(P)}_error(P){this.destination.error(P),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:P}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=P,this}}class K extends de{constructor(P,H,N,U){super(),this._parentSubscriber=P;let Q,se=this;(0,_.m)(H)?Q=H:H&&(Q=H.next,N=H.error,U=H.complete,H!==ie.c&&(se=Object.create(H),(0,_.m)(se.unsubscribe)&&this.add(se.unsubscribe.bind(se)),se.unsubscribe=this.unsubscribe.bind(this))),this._context=se,this._next=Q,this._error=N,this._complete=U}next(P){if(!this.isStopped&&this._next){const{_parentSubscriber:H}=this;ue.v.useDeprecatedSynchronousErrorHandling&&H.syncErrorThrowable?this.__tryOrSetError(H,this._next,P)&&this.unsubscribe():this.__tryOrUnsub(this._next,P)}}error(P){if(!this.isStopped){const{_parentSubscriber:H}=this,{useDeprecatedSynchronousErrorHandling:N}=ue.v;if(this._error)N&&H.syncErrorThrowable?(this.__tryOrSetError(H,this._error,P),this.unsubscribe()):(this.__tryOrUnsub(this._error,P),this.unsubscribe());else if(H.syncErrorThrowable)N?(H.syncErrorValue=P,H.syncErrorThrown=!0):(0,Y.z)(P),this.unsubscribe();else{if(this.unsubscribe(),N)throw P;(0,Y.z)(P)}}}complete(){if(!this.isStopped){const{_parentSubscriber:P}=this;if(this._complete){const H=()=>this._complete.call(this._context);ue.v.useDeprecatedSynchronousErrorHandling&&P.syncErrorThrowable?(this.__tryOrSetError(P,H),this.unsubscribe()):(this.__tryOrUnsub(H),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(P,H){try{P.call(this._context,H)}catch(N){if(this.unsubscribe(),ue.v.useDeprecatedSynchronousErrorHandling)throw N;(0,Y.z)(N)}}__tryOrSetError(P,H,N){if(!ue.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{H.call(this._context,N)}catch(U){return ue.v.useDeprecatedSynchronousErrorHandling?(P.syncErrorValue=U,P.syncErrorThrown=!0,!0):((0,Y.z)(U),!0)}return!1}_unsubscribe(){const{_parentSubscriber:P}=this;this._context=null,this._parentSubscriber=null,P.unsubscribe()}}},5319:(Ne,me,F)=>{"use strict";F.d(me,{w:()=>Y});var _=F(9796),ie=F(1555),A=F(9105);const ue=(()=>{function K(z){return Error.call(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((P,H)=>`${H+1}) ${P.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z,this}return K.prototype=Object.create(Error.prototype),K})();class Y{constructor(z){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,z&&(this._ctorUnsubscribe=!0,this._unsubscribe=z)}unsubscribe(){let z;if(this.closed)return;let{_parentOrParents:P,_ctorUnsubscribe:H,_unsubscribe:N,_subscriptions:U}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,P instanceof Y)P.remove(this);else if(null!==P)for(let Q=0;Q<P.length;++Q)P[Q].remove(this);if((0,A.m)(N)){H&&(this._unsubscribe=void 0);try{N.call(this)}catch(Q){z=Q instanceof ue?de(Q.errors):[Q]}}if((0,_.k)(U)){let Q=-1,se=U.length;for(;++Q<se;){const ce=U[Q];if((0,ie.K)(ce))try{ce.unsubscribe()}catch(Ae){z=z||[],Ae instanceof ue?z=z.concat(de(Ae.errors)):z.push(Ae)}}}if(z)throw new ue(z)}add(z){let P=z;if(!z)return Y.EMPTY;switch(typeof z){case"function":P=new Y(z);case"object":if(P===this||P.closed||"function"!=typeof P.unsubscribe)return P;if(this.closed)return P.unsubscribe(),P;if(!(P instanceof Y)){const U=P;P=new Y,P._subscriptions=[U]}break;default:throw new Error("unrecognized teardown "+z+" added to Subscription.")}let{_parentOrParents:H}=P;if(null===H)P._parentOrParents=this;else if(H instanceof Y){if(H===this)return P;P._parentOrParents=[H,this]}else{if(-1!==H.indexOf(this))return P;H.push(this)}const N=this._subscriptions;return null===N?this._subscriptions=[P]:N.push(P),P}remove(z){const P=this._subscriptions;if(P){const H=P.indexOf(z);-1!==H&&P.splice(H,1)}}}var K;function de(K){return K.reduce((z,P)=>z.concat(P instanceof ue?P.errors:P),[])}Y.EMPTY=((K=new Y).closed=!0,K)},2494:(Ne,me,F)=>{"use strict";F.d(me,{v:()=>ie});let _=!1;const ie={Promise:void 0,set useDeprecatedSynchronousErrorHandling(A){if(A){const W=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+W.stack)}else _&&console.log("RxJS: Back to a better error behavior. Thank you. <3");_=A},get useDeprecatedSynchronousErrorHandling(){return _}}},5345:(Ne,me,F)=>{"use strict";F.d(me,{IY:()=>W,Ds:()=>Y,ft:()=>K});var _=F(7393),ie=F(7574),A=F(7444);class W extends _.L{constructor(P){super(),this.parent=P}_next(P){this.parent.notifyNext(P)}_error(P){this.parent.notifyError(P),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Y extends _.L{notifyNext(P){this.destination.next(P)}notifyError(P){this.destination.error(P)}notifyComplete(){this.destination.complete()}}function K(z,P){if(P.closed)return;if(z instanceof ie.y)return z.subscribe(P);let H;try{H=(0,A.s)(z)(P)}catch(N){P.error(N)}return H}},2441:(Ne,me,F)=>{"use strict";F.d(me,{c:()=>ue,N:()=>Y});var _=F(9765),ie=F(7574),A=F(5319),W=F(1307);class ue extends ie.y{constructor(H,N){super(),this.source=H,this.subjectFactory=N,this._refCount=0,this._isComplete=!1}_subscribe(H){return this.getSubject().subscribe(H)}getSubject(){const H=this._subject;return(!H||H.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let H=this._connection;return H||(this._isComplete=!1,H=this._connection=new A.w,H.add(this.source.subscribe(new de(this.getSubject(),this))),H.closed&&(this._connection=null,H=A.w.EMPTY)),H}refCount(){return(0,W.x)()(this)}}const Y=(()=>{const P=ue.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:P._subscribe},_isComplete:{value:P._isComplete,writable:!0},getSubject:{value:P.getSubject},connect:{value:P.connect},refCount:{value:P.refCount}}})();class de extends _.Yc{constructor(H,N){super(H),this.connectable=N}_error(H){this._unsubscribe(),super._error(H)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const H=this.connectable;if(H){this.connectable=null;const N=H._connection;H._refCount=0,H._subject=null,H._connection=null,N&&N.unsubscribe()}}}},9193:(Ne,me,F)=>{"use strict";F.d(me,{E:()=>ie,c:()=>A});var _=F(7574);const ie=new _.y(ue=>ue.complete());function A(ue){return ue?function(ue){return new _.y(Y=>ue.schedule(()=>Y.complete()))}(ue):ie}},4402:(Ne,me,F)=>{"use strict";F.d(me,{D:()=>se});var _=F(7574),ie=F(7444),A=F(5319),W=F(6554),de=F(4087),K=F(377),H=F(4072),N=F(9489);function se(ce,Ae){return Ae?function(ce,Ae){if(null!=ce){if(function(ce){return ce&&"function"==typeof ce[W.L]}(ce))return function(ce,Ae){return new _.y(ve=>{const Ce=new A.w;return Ce.add(Ae.schedule(()=>{const Te=ce[W.L]();Ce.add(Te.subscribe({next(ze){Ce.add(Ae.schedule(()=>ve.next(ze)))},error(ze){Ce.add(Ae.schedule(()=>ve.error(ze)))},complete(){Ce.add(Ae.schedule(()=>ve.complete()))}}))})),Ce})}(ce,Ae);if((0,H.t)(ce))return function(ce,Ae){return new _.y(ve=>{const Ce=new A.w;return Ce.add(Ae.schedule(()=>ce.then(Te=>{Ce.add(Ae.schedule(()=>{ve.next(Te),Ce.add(Ae.schedule(()=>ve.complete()))}))},Te=>{Ce.add(Ae.schedule(()=>ve.error(Te)))}))),Ce})}(ce,Ae);if((0,N.z)(ce))return(0,de.r)(ce,Ae);if(function(ce){return ce&&"function"==typeof ce[K.hZ]}(ce)||"string"==typeof ce)return function(ce,Ae){if(!ce)throw new Error("Iterable cannot be null");return new _.y(ve=>{const Ce=new A.w;let Te;return Ce.add(()=>{Te&&"function"==typeof Te.return&&Te.return()}),Ce.add(Ae.schedule(()=>{Te=ce[K.hZ](),Ce.add(Ae.schedule(function(){if(ve.closed)return;let ze,De;try{const Et=Te.next();ze=Et.value,De=Et.done}catch(Et){return void ve.error(Et)}De?ve.complete():(ve.next(ze),this.schedule())}))})),Ce})}(ce,Ae)}throw new TypeError((null!==ce&&typeof ce||ce)+" is not observable")}(ce,Ae):ce instanceof _.y?ce:new _.y((0,ie.s)(ce))}},6693:(Ne,me,F)=>{"use strict";F.d(me,{n:()=>W});var _=F(7574),ie=F(5015),A=F(4087);function W(ue,Y){return Y?(0,A.r)(ue,Y):new _.y((0,ie.V)(ue))}},6682:(Ne,me,F)=>{"use strict";F.d(me,{T:()=>ue});var _=F(7574),ie=F(4869),A=F(3282),W=F(6693);function ue(...Y){let de=Number.POSITIVE_INFINITY,K=null,z=Y[Y.length-1];return(0,ie.K)(z)?(K=Y.pop(),Y.length>1&&"number"==typeof Y[Y.length-1]&&(de=Y.pop())):"number"==typeof z&&(de=Y.pop()),null===K&&1===Y.length&&Y[0]instanceof _.y?Y[0]:(0,A.J)(de)((0,W.n)(Y,K))}},5917:(Ne,me,F)=>{"use strict";F.d(me,{of:()=>W});var _=F(4869),ie=F(6693),A=F(4087);function W(...ue){let Y=ue[ue.length-1];return(0,_.K)(Y)?(ue.pop(),(0,A.r)(ue,Y)):(0,ie.n)(ue)}},8002:(Ne,me,F)=>{"use strict";F.d(me,{U:()=>ie});var _=F(7393);function ie(ue,Y){return function(K){if("function"!=typeof ue)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return K.lift(new A(ue,Y))}}class A{constructor(Y,de){this.project=Y,this.thisArg=de}call(Y,de){return de.subscribe(new W(Y,this.project,this.thisArg))}}class W extends _.L{constructor(Y,de,K){super(Y),this.project=de,this.count=0,this.thisArg=K||this}_next(Y){let de;try{de=this.project.call(this.thisArg,Y,this.count++)}catch(K){return void this.destination.error(K)}this.destination.next(de)}}},3282:(Ne,me,F)=>{"use strict";F.d(me,{J:()=>A});var _=F(9773),ie=F(4487);function A(W=Number.POSITIVE_INFINITY){return(0,_.zg)(ie.y,W)}},9773:(Ne,me,F)=>{"use strict";F.d(me,{zg:()=>W});var _=F(8002),ie=F(4402),A=F(5345);function W(K,z,P=Number.POSITIVE_INFINITY){return"function"==typeof z?H=>H.pipe(W((N,U)=>(0,ie.D)(K(N,U)).pipe((0,_.U)((Q,se)=>z(N,Q,U,se))),P)):("number"==typeof z&&(P=z),H=>H.lift(new ue(K,P)))}class ue{constructor(z,P=Number.POSITIVE_INFINITY){this.project=z,this.concurrent=P}call(z,P){return P.subscribe(new Y(z,this.project,this.concurrent))}}class Y extends A.Ds{constructor(z,P,H=Number.POSITIVE_INFINITY){super(z),this.project=P,this.concurrent=H,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(z){this.active<this.concurrent?this._tryNext(z):this.buffer.push(z)}_tryNext(z){let P;const H=this.index++;try{P=this.project(z,H)}catch(N){return void this.destination.error(N)}this.active++,this._innerSub(P)}_innerSub(z){const P=new A.IY(this),H=this.destination;H.add(P);const N=(0,A.ft)(z,P);N!==P&&H.add(N)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(z){this.destination.next(z)}notifyComplete(){const z=this.buffer;this.active--,z.length>0?this._next(z.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(Ne,me,F)=>{"use strict";F.d(me,{ht:()=>H,QV:()=>z});var _=F(7393),ie=F(9193),A=F(5917),W=F(7574);class K{constructor(Q,se,ce){this.kind=Q,this.value=se,this.error=ce,this.hasValue="N"===Q}observe(Q){switch(this.kind){case"N":return Q.next&&Q.next(this.value);case"E":return Q.error&&Q.error(this.error);case"C":return Q.complete&&Q.complete()}}do(Q,se,ce){switch(this.kind){case"N":return Q&&Q(this.value);case"E":return se&&se(this.error);case"C":return ce&&ce()}}accept(Q,se,ce){return Q&&"function"==typeof Q.next?this.observe(Q):this.do(Q,se,ce)}toObservable(){switch(this.kind){case"N":return(0,A.of)(this.value);case"E":return U=this.error,new W.y(se=>se.error(U));case"C":return(0,ie.c)()}var U;throw new Error("unexpected notification kind value")}static createNext(Q){return void 0!==Q?new K("N",Q):K.undefinedValueNotification}static createError(Q){return new K("E",void 0,Q)}static createComplete(){return K.completeNotification}}function z(U,Q=0){return function(ce){return ce.lift(new P(U,Q))}}K.completeNotification=new K("C"),K.undefinedValueNotification=new K("N",void 0);class P{constructor(Q,se=0){this.scheduler=Q,this.delay=se}call(Q,se){return se.subscribe(new H(Q,this.scheduler,this.delay))}}class H extends _.L{constructor(Q,se,ce=0){super(Q),this.scheduler=se,this.delay=ce}static dispatch(Q){const{notification:se,destination:ce}=Q;se.observe(ce),this.unsubscribe()}scheduleMessage(Q){this.destination.add(this.scheduler.schedule(H.dispatch,this.delay,new N(Q,this.destination)))}_next(Q){this.scheduleMessage(K.createNext(Q))}_error(Q){this.scheduleMessage(K.createError(Q)),this.unsubscribe()}_complete(){this.scheduleMessage(K.createComplete()),this.unsubscribe()}}class N{constructor(Q,se){this.notification=Q,this.destination=se}}},1307:(Ne,me,F)=>{"use strict";F.d(me,{x:()=>ie});var _=F(7393);function ie(){return function(Y){return Y.lift(new A(Y))}}class A{constructor(Y){this.connectable=Y}call(Y,de){const{connectable:K}=this;K._refCount++;const z=new W(Y,K),P=de.subscribe(z);return z.closed||(z.connection=K.connect()),P}}class W extends _.L{constructor(Y,de){super(Y),this.connectable=de}_unsubscribe(){const{connectable:Y}=this;if(!Y)return void(this.connection=null);this.connectable=null;const de=Y._refCount;if(de<=0)return void(this.connection=null);if(Y._refCount=de-1,de>1)return void(this.connection=null);const{connection:K}=this,z=Y._connection;this.connection=null,z&&(!K||z===K)&&z.unsubscribe()}}},8819:(Ne,me,F)=>{"use strict";F.d(me,{B:()=>de});var _=F(2441);var W=F(1307),ue=F(9765);function Y(){return new ue.xQ}function de(){return K=>(0,W.x)()(function(K,z){return function(H){let N;N="function"==typeof K?K:function(){return K};const U=Object.create(H,_.N);return U.source=H,U.subjectFactory=N,U}}(Y)(K))}},3101:(Ne,me,F)=>{"use strict";F.d(me,{R:()=>Ae});var _=F(7574);let ie=1;const A=Promise.resolve(),W={};function ue(Ce){return Ce in W&&(delete W[Ce],!0)}const Y={setImmediate(Ce){const Te=ie++;return W[Te]=!0,A.then(()=>ue(Te)&&Ce()),Te},clearImmediate(Ce){ue(Ce)}};var K=F(6465),P=F(6102);const U=new class extends P.v{flush(Te){this.active=!0,this.scheduled=void 0;const{actions:ze}=this;let De,Et=-1,Mt=ze.length;Te=Te||ze.shift();do{if(De=Te.execute(Te.state,Te.delay))break}while(++Et<Mt&&(Te=ze.shift()));if(this.active=!1,De){for(;++Et<Mt&&(Te=ze.shift());)Te.unsubscribe();throw De}}}(class extends K.o{constructor(Te,ze){super(Te,ze),this.scheduler=Te,this.work=ze}requestAsyncId(Te,ze,De=0){return null!==De&&De>0?super.requestAsyncId(Te,ze,De):(Te.actions.push(this),Te.scheduled||(Te.scheduled=Y.setImmediate(Te.flush.bind(Te,null))))}recycleAsyncId(Te,ze,De=0){if(null!==De&&De>0||null===De&&this.delay>0)return super.recycleAsyncId(Te,ze,De);0===Te.actions.length&&(Y.clearImmediate(ze),Te.scheduled=void 0)}});var Q=F(9796);class ce extends _.y{constructor(Te,ze=0,De=U){var Ce;super(),this.source=Te,this.delayTime=ze,this.scheduler=De,(!(!(0,Q.k)(Ce=ze)&&Ce-parseFloat(Ce)+1>=0)||ze<0)&&(this.delayTime=0),(!De||"function"!=typeof De.schedule)&&(this.scheduler=U)}static create(Te,ze=0,De=U){return new ce(Te,ze,De)}static dispatch(Te){const{source:ze,subscriber:De}=Te;return this.add(ze.subscribe(De))}_subscribe(Te){return this.scheduler.schedule(ce.dispatch,this.delayTime,{source:this.source,subscriber:Te})}}function Ae(Ce,Te=0){return function(De){return De.lift(new ve(Ce,Te))}}class ve{constructor(Te,ze){this.scheduler=Te,this.delay=ze}call(Te,ze){return new ce(ze,this.delay,this.scheduler).subscribe(Te)}}},3342:(Ne,me,F)=>{"use strict";F.d(me,{b:()=>W});var _=F(7393);function ie(){}var A=F(9105);function W(de,K,z){return function(H){return H.lift(new ue(de,K,z))}}class ue{constructor(K,z,P){this.nextOrObserver=K,this.error=z,this.complete=P}call(K,z){return z.subscribe(new Y(K,this.nextOrObserver,this.error,this.complete))}}class Y extends _.L{constructor(K,z,P,H){super(K),this._tapNext=ie,this._tapError=ie,this._tapComplete=ie,this._tapError=P||ie,this._tapComplete=H||ie,(0,A.m)(z)?(this._context=this,this._tapNext=z):z&&(this._context=z,this._tapNext=z.next||ie,this._tapError=z.error||ie,this._tapComplete=z.complete||ie)}_next(K){try{this._tapNext.call(this._context,K)}catch(z){return void this.destination.error(z)}this.destination.next(K)}_error(K){try{this._tapError.call(this._context,K)}catch(z){return void this.destination.error(z)}this.destination.error(K)}_complete(){try{this._tapComplete.call(this._context)}catch(K){return void this.destination.error(K)}return this.destination.complete()}}},4087:(Ne,me,F)=>{"use strict";F.d(me,{r:()=>A});var _=F(7574),ie=F(5319);function A(W,ue){return new _.y(Y=>{const de=new ie.w;let K=0;return de.add(ue.schedule(function(){K!==W.length?(Y.next(W[K++]),Y.closed||de.add(this.schedule())):Y.complete()})),de})}},6465:(Ne,me,F)=>{"use strict";F.d(me,{o:()=>A});var _=F(5319);class ie extends _.w{constructor(ue,Y){super()}schedule(ue,Y=0){return this}}class A extends ie{constructor(ue,Y){super(ue,Y),this.scheduler=ue,this.work=Y,this.pending=!1}schedule(ue,Y=0){if(this.closed)return this;this.state=ue;const de=this.id,K=this.scheduler;return null!=de&&(this.id=this.recycleAsyncId(K,de,Y)),this.pending=!0,this.delay=Y,this.id=this.id||this.requestAsyncId(K,this.id,Y),this}requestAsyncId(ue,Y,de=0){return setInterval(ue.flush.bind(ue,this),de)}recycleAsyncId(ue,Y,de=0){if(null!==de&&this.delay===de&&!1===this.pending)return Y;clearInterval(Y)}execute(ue,Y){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const de=this._execute(ue,Y);if(de)return de;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ue,Y){let K,de=!1;try{this.work(ue)}catch(z){de=!0,K=!!z&&z||new Error(z)}if(de)return this.unsubscribe(),K}_unsubscribe(){const ue=this.id,Y=this.scheduler,de=Y.actions,K=de.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==K&&de.splice(K,1),null!=ue&&(this.id=this.recycleAsyncId(Y,ue,null)),this.delay=null}}},6102:(Ne,me,F)=>{"use strict";F.d(me,{v:()=>ie});let _=(()=>{class A{constructor(ue,Y=A.now){this.SchedulerAction=ue,this.now=Y}schedule(ue,Y=0,de){return new this.SchedulerAction(this,ue).schedule(de,Y)}}return A.now=()=>Date.now(),A})();class ie extends _{constructor(W,ue=_.now){super(W,()=>ie.delegate&&ie.delegate!==this?ie.delegate.now():ue()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(W,ue=0,Y){return ie.delegate&&ie.delegate!==this?ie.delegate.schedule(W,ue,Y):super.schedule(W,ue,Y)}flush(W){const{actions:ue}=this;if(this.active)return void ue.push(W);let Y;this.active=!0;do{if(Y=W.execute(W.state,W.delay))break}while(W=ue.shift());if(this.active=!1,Y){for(;W=ue.shift();)W.unsubscribe();throw Y}}}},3637:(Ne,me,F)=>{"use strict";F.d(me,{z:()=>A});var _=F(6465);const A=new(F(6102).v)(_.o)},7771:(Ne,me,F)=>{"use strict";F.d(me,{c:()=>Y,N:()=>ue});var _=F(6465),A=F(6102);const ue=new class extends A.v{}(class extends _.o{constructor(K,z){super(K,z),this.scheduler=K,this.work=z}schedule(K,z=0){return z>0?super.schedule(K,z):(this.delay=z,this.state=K,this.scheduler.flush(this),this)}execute(K,z){return z>0||this.closed?super.execute(K,z):this._execute(K,z)}requestAsyncId(K,z,P=0){return null!==P&&P>0||null===P&&this.delay>0?super.requestAsyncId(K,z,P):K.flush(this)}}),Y=ue},377:(Ne,me,F)=>{"use strict";F.d(me,{hZ:()=>ie});const ie="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Ne,me,F)=>{"use strict";F.d(me,{L:()=>_});const _="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Ne,me,F)=>{"use strict";F.d(me,{b:()=>_});const _="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Ne,me,F)=>{"use strict";F.d(me,{N:()=>ie});const ie=(()=>{function A(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return A.prototype=Object.create(Error.prototype),A})()},4449:(Ne,me,F)=>{"use strict";function _(ie){setTimeout(()=>{throw ie},0)}F.d(me,{z:()=>_})},4487:(Ne,me,F)=>{"use strict";function _(ie){return ie}F.d(me,{y:()=>_})},9796:(Ne,me,F)=>{"use strict";F.d(me,{k:()=>_});const _=Array.isArray||(ie=>ie&&"number"==typeof ie.length)},9489:(Ne,me,F)=>{"use strict";F.d(me,{z:()=>_});const _=ie=>ie&&"number"==typeof ie.length&&"function"!=typeof ie},9105:(Ne,me,F)=>{"use strict";function _(ie){return"function"==typeof ie}F.d(me,{m:()=>_})},1555:(Ne,me,F)=>{"use strict";function _(ie){return null!==ie&&"object"==typeof ie}F.d(me,{K:()=>_})},4072:(Ne,me,F)=>{"use strict";function _(ie){return!!ie&&"function"!=typeof ie.subscribe&&"function"==typeof ie.then}F.d(me,{t:()=>_})},4869:(Ne,me,F)=>{"use strict";function _(ie){return ie&&"function"==typeof ie.schedule}F.d(me,{K:()=>_})},7444:(Ne,me,F)=>{"use strict";F.d(me,{s:()=>H});var _=F(5015),ie=F(4449),W=F(377),Y=F(6554),K=F(9489),z=F(4072),P=F(1555);const H=N=>{if(N&&"function"==typeof N[Y.L])return(N=>U=>{const Q=N[Y.L]();if("function"!=typeof Q.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Q.subscribe(U)})(N);if((0,K.z)(N))return(0,_.V)(N);if((0,z.t)(N))return(N=>U=>(N.then(Q=>{U.closed||(U.next(Q),U.complete())},Q=>U.error(Q)).then(null,ie.z),U))(N);if(N&&"function"==typeof N[W.hZ])return(N=>U=>{const Q=N[W.hZ]();for(;;){let se;try{se=Q.next()}catch(ce){return U.error(ce),U}if(se.done){U.complete();break}if(U.next(se.value),U.closed)break}return"function"==typeof Q.return&&U.add(()=>{Q.return&&Q.return()}),U})(N);{const Q=`You provided ${(0,P.K)(N)?"an invalid object":`'${N}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Q)}}},5015:(Ne,me,F)=>{"use strict";F.d(me,{V:()=>_});const _=ie=>A=>{for(let W=0,ue=ie.length;W<ue&&!A.closed;W++)A.next(ie[W]);A.complete()}},546:(Ne,me,F)=>{"use strict";var _=F(7716);let ie=null;function A(){return ie}const de=new _.OlP("DocumentToken");let K=(()=>{class s{historyGo(i){throw new Error("Not implemented")}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=(0,_.Yz7)({factory:z,token:s,providedIn:"platform"}),s})();function z(){return(0,_.LFG)(H)}const P=new _.OlP("Location Initialized");let H=(()=>{class s extends K{constructor(i){super(),this._doc=i,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return A().getBaseHref(this._doc)}onPopState(i){const f=A().getGlobalEventTarget(this._doc,"window");return f.addEventListener("popstate",i,!1),()=>f.removeEventListener("popstate",i)}onHashChange(i){const f=A().getGlobalEventTarget(this._doc,"window");return f.addEventListener("hashchange",i,!1),()=>f.removeEventListener("hashchange",i)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(i){this.location.pathname=i}pushState(i,f,g){N()?this._history.pushState(i,f,g):this.location.hash=g}replaceState(i,f,g){N()?this._history.replaceState(i,f,g):this.location.hash=g}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}}return s.\u0275fac=function(i){return new(i||s)(_.LFG(de))},s.\u0275prov=(0,_.Yz7)({factory:U,token:s,providedIn:"platform"}),s})();function N(){return!!window.history.pushState}function U(){return new H((0,_.LFG)(de))}function Q(s,o){if(0==s.length)return o;if(0==o.length)return s;let i=0;return s.endsWith("/")&&i++,o.startsWith("/")&&i++,2==i?s+o.substring(1):1==i?s+o:s+"/"+o}function se(s){const o=s.match(/#|\?|$/),i=o&&o.index||s.length;return s.slice(0,i-("/"===s[i-1]?1:0))+s.slice(i)}function ce(s){return s&&"?"!==s[0]?"?"+s:s}let Ae=(()=>{class s{historyGo(i){throw new Error("Not implemented")}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=(0,_.Yz7)({factory:ve,token:s,providedIn:"root"}),s})();function ve(s){const o=(0,_.LFG)(de).location;return new Te((0,_.LFG)(K),o&&o.origin||"")}const Ce=new _.OlP("appBaseHref");let Te=(()=>{class s extends Ae{constructor(i,f){if(super(),this._platformLocation=i,this._removeListenerFns=[],null==f&&(f=this._platformLocation.getBaseHrefFromDOM()),null==f)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=f}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return Q(this._baseHref,i)}path(i=!1){const f=this._platformLocation.pathname+ce(this._platformLocation.search),g=this._platformLocation.hash;return g&&i?`${f}${g}`:f}pushState(i,f,g,C){const I=this.prepareExternalUrl(g+ce(C));this._platformLocation.pushState(i,f,I)}replaceState(i,f,g,C){const I=this.prepareExternalUrl(g+ce(C));this._platformLocation.replaceState(i,f,I)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(i=0){var f,g;null===(g=(f=this._platformLocation).historyGo)||void 0===g||g.call(f,i)}}return s.\u0275fac=function(i){return new(i||s)(_.LFG(K),_.LFG(Ce,8))},s.\u0275prov=_.Yz7({token:s,factory:s.\u0275fac}),s})(),ze=(()=>{class s extends Ae{constructor(i,f){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],null!=f&&(this._baseHref=f)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let f=this._platformLocation.hash;return null==f&&(f="#"),f.length>0?f.substring(1):f}prepareExternalUrl(i){const f=Q(this._baseHref,i);return f.length>0?"#"+f:f}pushState(i,f,g,C){let I=this.prepareExternalUrl(g+ce(C));0==I.length&&(I=this._platformLocation.pathname),this._platformLocation.pushState(i,f,I)}replaceState(i,f,g,C){let I=this.prepareExternalUrl(g+ce(C));0==I.length&&(I=this._platformLocation.pathname),this._platformLocation.replaceState(i,f,I)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(i=0){var f,g;null===(g=(f=this._platformLocation).historyGo)||void 0===g||g.call(f,i)}}return s.\u0275fac=function(i){return new(i||s)(_.LFG(K),_.LFG(Ce,8))},s.\u0275prov=_.Yz7({token:s,factory:s.\u0275fac}),s})(),De=(()=>{class s{constructor(i,f){this._subject=new _.vpe,this._urlChangeListeners=[],this._platformStrategy=i;const g=this._platformStrategy.getBaseHref();this._platformLocation=f,this._baseHref=se(yt(g)),this._platformStrategy.onPopState(C=>{this._subject.emit({url:this.path(!0),pop:!0,state:C.state,type:C.type})})}path(i=!1){return this.normalize(this._platformStrategy.path(i))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(i,f=""){return this.path()==this.normalize(i+ce(f))}normalize(i){return s.stripTrailingSlash(function(s,o){return s&&o.startsWith(s)?o.substring(s.length):o}(this._baseHref,yt(i)))}prepareExternalUrl(i){return i&&"/"!==i[0]&&(i="/"+i),this._platformStrategy.prepareExternalUrl(i)}go(i,f="",g=null){this._platformStrategy.pushState(g,"",i,f),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+ce(f)),g)}replaceState(i,f="",g=null){this._platformStrategy.replaceState(g,"",i,f),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+ce(f)),g)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(i=0){var f,g;null===(g=(f=this._platformStrategy).historyGo)||void 0===g||g.call(f,i)}onUrlChange(i){this._urlChangeListeners.push(i),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(f=>{this._notifyUrlChangeListeners(f.url,f.state)}))}_notifyUrlChangeListeners(i="",f){this._urlChangeListeners.forEach(g=>g(i,f))}subscribe(i,f,g){return this._subject.subscribe({next:i,error:f,complete:g})}}return s.\u0275fac=function(i){return new(i||s)(_.LFG(Ae),_.LFG(K))},s.normalizeQueryParams=ce,s.joinWithSlash=Q,s.stripTrailingSlash=se,s.\u0275prov=(0,_.Yz7)({factory:Et,token:s,providedIn:"root"}),s})();function Et(){return new De((0,_.LFG)(Ae),(0,_.LFG)(K))}function yt(s){return s.replace(/\/index.html$/,"")}var ne=(()=>((ne=ne||{})[ne.Zero=0]="Zero",ne[ne.One=1]="One",ne[ne.Two=2]="Two",ne[ne.Few=3]="Few",ne[ne.Many=4]="Many",ne[ne.Other=5]="Other",ne))();const mt=_.kL8;class eo{}let ba=(()=>{class s extends eo{constructor(i){super(),this.locale=i}getPluralCategory(i,f){switch(mt(f||this.locale)(i)){case ne.Zero:return"zero";case ne.One:return"one";case ne.Two:return"two";case ne.Few:return"few";case ne.Many:return"many";default:return"other"}}}return s.\u0275fac=function(i){return new(i||s)(_.LFG(_.soG))},s.\u0275prov=_.Yz7({token:s,factory:s.\u0275fac}),s})(),Dt=(()=>{class s{constructor(i,f){this._viewContainer=i,this._context=new Ss,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=f}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){Go("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){Go("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,f){return!0}}return s.\u0275fac=function(i){return new(i||s)(_.Y36(_.s_b),_.Y36(_.Rgc))},s.\u0275dir=_.lG2({type:s,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),s})();class Ss{constructor(){this.$implicit=null,this.ngIf=null}}function Go(s,o){if(o&&!o.createEmbeddedView)throw new Error(`${s} must be a TemplateRef, but received '${(0,_.AaK)(o)}'.`)}let Au=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=_.oAB({type:s}),s.\u0275inj=_.cJS({providers:[{provide:eo,useClass:ba}]}),s})(),St=(()=>{class s{}return s.\u0275prov=(0,_.Yz7)({token:s,providedIn:"root",factory:()=>new Ul((0,_.LFG)(de),window)}),s})();class Ul{constructor(o,i){this.document=o,this.window=i,this.offset=()=>[0,0]}setOffset(o){this.offset=Array.isArray(o)?()=>o:o}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(o){this.supportsScrolling()&&this.window.scrollTo(o[0],o[1])}scrollToAnchor(o){if(!this.supportsScrolling())return;const i=function(s,o){const i=s.getElementById(o)||s.getElementsByName(o)[0];if(i)return i;if("function"==typeof s.createTreeWalker&&s.body&&(s.body.createShadowRoot||s.body.attachShadow)){const f=s.createTreeWalker(s.body,NodeFilter.SHOW_ELEMENT);let g=f.currentNode;for(;g;){const C=g.shadowRoot;if(C){const I=C.getElementById(o)||C.querySelector(`[name="${o}"]`);if(I)return I}g=f.nextNode()}}return null}(this.document,o);i&&(this.scrollToElement(i),this.attemptFocus(i))}setHistoryScrollRestoration(o){if(this.supportScrollRestoration()){const i=this.window.history;i&&i.scrollRestoration&&(i.scrollRestoration=o)}}scrollToElement(o){const i=o.getBoundingClientRect(),f=i.left+this.window.pageXOffset,g=i.top+this.window.pageYOffset,C=this.offset();this.window.scrollTo(f-C[0],g-C[1])}attemptFocus(o){return o.focus(),this.document.activeElement===o}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const o=Aa(this.window.history)||Aa(Object.getPrototypeOf(this.window.history));return!(!o||!o.writable&&!o.set)}catch(o){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(o){return!1}}}function Aa(s){return Object.getOwnPropertyDescriptor(s,"scrollRestoration")}class zo extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var s;s=new zo,ie||(ie=s)}onAndCancel(o,i,f){return o.addEventListener(i,f,!1),()=>{o.removeEventListener(i,f,!1)}}dispatchEvent(o,i){o.dispatchEvent(i)}remove(o){o.parentNode&&o.parentNode.removeChild(o)}createElement(o,i){return(i=i||this.getDefaultDocument()).createElement(o)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(o){return o.nodeType===Node.ELEMENT_NODE}isShadowRoot(o){return o instanceof DocumentFragment}getGlobalEventTarget(o,i){return"window"===i?window:"document"===i?o:"body"===i?o.body:null}getBaseHref(o){const i=(Ye=Ye||document.querySelector("base"),Ye?Ye.getAttribute("href"):null);return null==i?null:function(s){Ot=Ot||document.createElement("a"),Ot.setAttribute("href",s);const o=Ot.pathname;return"/"===o.charAt(0)?o:`/${o}`}(i)}resetBaseElement(){Ye=null}getUserAgent(){return window.navigator.userAgent}getCookie(o){return function(s,o){o=encodeURIComponent(o);for(const i of s.split(";")){const f=i.indexOf("="),[g,C]=-1==f?[i,""]:[i.slice(0,f),i.slice(f+1)];if(g.trim()===o)return decodeURIComponent(C)}return null}(document.cookie,o)}}let Ot,Ye=null;const Ht=new _.OlP("TRANSITION_ID"),hr=[{provide:_.ip1,useFactory:function(s,o,i){return()=>{i.get(_.CZH).donePromise.then(()=>{const f=A();Array.prototype.slice.apply(o.querySelectorAll("style[ng-transition]")).filter(C=>C.getAttribute("ng-transition")===s).forEach(C=>f.remove(C))})}},deps:[Ht,de,_.zs3],multi:!0}];class Os{static init(){(0,_.VLi)(new Os)}addToWindow(o){_.dqk.getAngularTestability=(f,g=!0)=>{const C=o.findTestabilityInTree(f,g);if(null==C)throw new Error("Could not find testability for element.");return C},_.dqk.getAllAngularTestabilities=()=>o.getAllTestabilities(),_.dqk.getAllAngularRootElements=()=>o.getAllRootElements(),_.dqk.frameworkStabilizers||(_.dqk.frameworkStabilizers=[]),_.dqk.frameworkStabilizers.push(f=>{const g=_.dqk.getAllAngularTestabilities();let C=g.length,I=!1;const M=function(G){I=I||G,C--,0==C&&f(I)};g.forEach(function(G){G.whenStable(M)})})}findTestabilityInTree(o,i,f){if(null==i)return null;const g=o.getTestability(i);return null!=g?g:f?A().isShadowRoot(i)?this.findTestabilityInTree(o,i.host,!0):this.findTestabilityInTree(o,i.parentElement,!0):null}}let bi=(()=>{class s{build(){return new XMLHttpRequest}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=_.Yz7({token:s,factory:s.\u0275fac}),s})();const Fs=new _.OlP("EventManagerPlugins");let ge=(()=>{class s{constructor(i,f){this._zone=f,this._eventNameToPlugin=new Map,i.forEach(g=>g.manager=this),this._plugins=i.slice().reverse()}addEventListener(i,f,g){return this._findPluginFor(f).addEventListener(i,f,g)}addGlobalEventListener(i,f,g){return this._findPluginFor(f).addGlobalEventListener(i,f,g)}getZone(){return this._zone}_findPluginFor(i){const f=this._eventNameToPlugin.get(i);if(f)return f;const g=this._plugins;for(let C=0;C<g.length;C++){const I=g[C];if(I.supports(i))return this._eventNameToPlugin.set(i,I),I}throw new Error(`No event manager plugin found for event ${i}`)}}return s.\u0275fac=function(i){return new(i||s)(_.LFG(Fs),_.LFG(_.R0b))},s.\u0275prov=_.Yz7({token:s,factory:s.\u0275fac}),s})();class pt{constructor(o){this._doc=o}addGlobalEventListener(o,i,f){const g=A().getGlobalEventTarget(this._doc,o);if(!g)throw new Error(`Unsupported event target ${g} for event ${i}`);return this.addEventListener(g,i,f)}}let Ma=(()=>{class s{constructor(){this._stylesSet=new Set}addStyles(i){const f=new Set;i.forEach(g=>{this._stylesSet.has(g)||(this._stylesSet.add(g),f.add(g))}),this.onStylesAdded(f)}onStylesAdded(i){}getAllStyles(){return Array.from(this._stylesSet)}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=_.Yz7({token:s,factory:s.\u0275fac}),s})(),$t=(()=>{class s extends Ma{constructor(i){super(),this._doc=i,this._hostNodes=new Map,this._hostNodes.set(i.head,[])}_addStylesToHost(i,f,g){i.forEach(C=>{const I=this._doc.createElement("style");I.textContent=C,g.push(f.appendChild(I))})}addHost(i){const f=[];this._addStylesToHost(this._stylesSet,i,f),this._hostNodes.set(i,f)}removeHost(i){const f=this._hostNodes.get(i);f&&f.forEach(ks),this._hostNodes.delete(i)}onStylesAdded(i){this._hostNodes.forEach((f,g)=>{this._addStylesToHost(i,g,f)})}ngOnDestroy(){this._hostNodes.forEach(i=>i.forEach(ks))}}return s.\u0275fac=function(i){return new(i||s)(_.LFG(de))},s.\u0275prov=_.Yz7({token:s,factory:s.\u0275fac}),s})();function ks(s){A().remove(s)}const io={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},kn=/%COMP%/g;function sn(s,o,i){for(let f=0;f<o.length;f++){let g=o[f];Array.isArray(g)?sn(s,g,i):(g=g.replace(kn,s),i.push(g))}return i}function tr(s){return o=>{if("__ngUnwrap__"===o)return s;!1===s(o)&&(o.preventDefault(),o.returnValue=!1)}}let ti=(()=>{class s{constructor(i,f,g){this.eventManager=i,this.sharedStylesHost=f,this.appId=g,this.rendererByCompId=new Map,this.defaultRenderer=new pr(i)}createRenderer(i,f){if(!i||!f)return this.defaultRenderer;switch(f.encapsulation){case _.ifc.Emulated:{let g=this.rendererByCompId.get(f.id);return g||(g=new Ud(this.eventManager,this.sharedStylesHost,f,this.appId),this.rendererByCompId.set(f.id,g)),g.applyToHost(i),g}case 1:case _.ifc.ShadowDom:return new Wn(this.eventManager,this.sharedStylesHost,i,f);default:if(!this.rendererByCompId.has(f.id)){const g=sn(f.id,f.styles,[]);this.sharedStylesHost.addStyles(g),this.rendererByCompId.set(f.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return s.\u0275fac=function(i){return new(i||s)(_.LFG(ge),_.LFG($t),_.LFG(_.AFp))},s.\u0275prov=_.Yz7({token:s,factory:s.\u0275fac}),s})();class pr{constructor(o){this.eventManager=o,this.data=Object.create(null)}destroy(){}createElement(o,i){return i?document.createElementNS(io[i]||i,o):document.createElement(o)}createComment(o){return document.createComment(o)}createText(o){return document.createTextNode(o)}appendChild(o,i){o.appendChild(i)}insertBefore(o,i,f){o&&o.insertBefore(i,f)}removeChild(o,i){o&&o.removeChild(i)}selectRootElement(o,i){let f="string"==typeof o?document.querySelector(o):o;if(!f)throw new Error(`The selector "${o}" did not match any elements`);return i||(f.textContent=""),f}parentNode(o){return o.parentNode}nextSibling(o){return o.nextSibling}setAttribute(o,i,f,g){if(g){i=g+":"+i;const C=io[g];C?o.setAttributeNS(C,i,f):o.setAttribute(i,f)}else o.setAttribute(i,f)}removeAttribute(o,i,f){if(f){const g=io[f];g?o.removeAttributeNS(g,i):o.removeAttribute(`${f}:${i}`)}else o.removeAttribute(i)}addClass(o,i){o.classList.add(i)}removeClass(o,i){o.classList.remove(i)}setStyle(o,i,f,g){g&(_.JOm.DashCase|_.JOm.Important)?o.style.setProperty(i,f,g&_.JOm.Important?"important":""):o.style[i]=f}removeStyle(o,i,f){f&_.JOm.DashCase?o.style.removeProperty(i):o.style[i]=""}setProperty(o,i,f){o[i]=f}setValue(o,i){o.nodeValue=i}listen(o,i,f){return"string"==typeof o?this.eventManager.addGlobalEventListener(o,i,tr(f)):this.eventManager.addEventListener(o,i,tr(f))}}class Ud extends pr{constructor(o,i,f,g){super(o),this.component=f;const C=sn(g+"-"+f.id,f.styles,[]);i.addStyles(C),this.contentAttr="_ngcontent-%COMP%".replace(kn,g+"-"+f.id),this.hostAttr="_nghost-%COMP%".replace(kn,g+"-"+f.id)}applyToHost(o){super.setAttribute(o,this.hostAttr,"")}createElement(o,i){const f=super.createElement(o,i);return super.setAttribute(f,this.contentAttr,""),f}}class Wn extends pr{constructor(o,i,f,g){super(o),this.sharedStylesHost=i,this.hostEl=f,this.shadowRoot=f.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const C=sn(g.id,g.styles,[]);for(let I=0;I<C.length;I++){const M=document.createElement("style");M.textContent=C[I],this.shadowRoot.appendChild(M)}}nodeOrShadowRoot(o){return o===this.hostEl?this.shadowRoot:o}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(o,i){return super.appendChild(this.nodeOrShadowRoot(o),i)}insertBefore(o,i,f){return super.insertBefore(this.nodeOrShadowRoot(o),i,f)}removeChild(o,i){return super.removeChild(this.nodeOrShadowRoot(o),i)}parentNode(o){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(o)))}}let Bs=(()=>{class s extends pt{constructor(i){super(i)}supports(i){return!0}addEventListener(i,f,g){return i.addEventListener(f,g,!1),()=>this.removeEventListener(i,f,g)}removeEventListener(i,f,g){return i.removeEventListener(f,g)}}return s.\u0275fac=function(i){return new(i||s)(_.LFG(de))},s.\u0275prov=_.Yz7({token:s,factory:s.\u0275fac}),s})();const ni=["alt","control","meta","shift"],$d={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ru={alt:s=>s.altKey,control:s=>s.ctrlKey,meta:s=>s.metaKey,shift:s=>s.shiftKey};let Gd=(()=>{class s extends pt{constructor(i){super(i)}supports(i){return null!=s.parseEventName(i)}addEventListener(i,f,g){const C=s.parseEventName(f),I=s.eventCallback(C.fullKey,g,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>A().onAndCancel(i,C.domEventName,I))}static parseEventName(i){const f=i.toLowerCase().split("."),g=f.shift();if(0===f.length||"keydown"!==g&&"keyup"!==g)return null;const C=s._normalizeKey(f.pop());let I="";if(ni.forEach(G=>{const he=f.indexOf(G);he>-1&&(f.splice(he,1),I+=G+".")}),I+=C,0!=f.length||0===C.length)return null;const M={};return M.domEventName=g,M.fullKey=I,M}static getEventFullKey(i){let f="",g=function(s){let o=s.key;if(null==o){if(o=s.keyIdentifier,null==o)return"Unidentified";o.startsWith("U+")&&(o=String.fromCharCode(parseInt(o.substring(2),16)),3===s.location&&fn.hasOwnProperty(o)&&(o=fn[o]))}return $d[o]||o}(i);return g=g.toLowerCase()," "===g?g="space":"."===g&&(g="dot"),ni.forEach(C=>{C!=g&&Ru[C](i)&&(f+=C+".")}),f+=g,f}static eventCallback(i,f,g){return C=>{s.getEventFullKey(C)===i&&g.runGuarded(()=>f(C))}}static _normalizeKey(i){switch(i){case"esc":return"escape";default:return i}}}return s.\u0275fac=function(i){return new(i||s)(_.LFG(de))},s.\u0275prov=_.Yz7({token:s,factory:s.\u0275fac}),s})();const Ri=(0,_.eFA)(_._c5,"browser",[{provide:_.Lbi,useValue:"browser"},{provide:_.g9A,useValue:function(){zo.makeCurrent(),Os.init()},multi:!0},{provide:de,useFactory:function(){return(0,_.RDi)(document),document},deps:[]}]),xu=[[],{provide:_.zSh,useValue:"root"},{provide:_.qLn,useFactory:function(){return new _.qLn},deps:[]},{provide:Fs,useClass:Bs,multi:!0,deps:[de,_.R0b,_.Lbi]},{provide:Fs,useClass:Gd,multi:!0,deps:[de]},[],{provide:ti,useClass:ti,deps:[ge,$t,_.AFp]},{provide:_.FYo,useExisting:ti},{provide:Ma,useExisting:$t},{provide:$t,useClass:$t,deps:[de]},{provide:_.dDg,useClass:_.dDg,deps:[_.R0b]},{provide:ge,useClass:ge,deps:[Fs,_.R0b]},{provide:class{},useClass:bi,deps:[]},[]];let Wd=(()=>{class s{constructor(i){if(i)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(i){return{ngModule:s,providers:[{provide:_.AFp,useValue:i.appId},{provide:Ht,useExisting:_.AFp},hr]}}}return s.\u0275fac=function(i){return new(i||s)(_.LFG(s,12))},s.\u0275mod=_.oAB({type:s}),s.\u0275inj=_.cJS({providers:xu,imports:[Au,_.hGG]}),s})();"undefined"!=typeof window&&window;const Fa_firebase={apiKey:"AIzaSyA0170oJhaAshcTwIbj-W97RT3TZrVFOIo",authDomain:"ump-cafe-supply-chain.firebaseapp.com",projectId:"ump-cafe-supply-chain",storageBucket:"ump-cafe-supply-chain.appspot.com",messagingSenderId:"293844040560",appId:"1:293844040560:web:f2309fd986e7bf9757adb5",measurementId:"G-8ZM1TDQ23L"};var Gt=F(57),Ws=F(3637),gr=F(7574),Qe=F(5917),ka=F(6682),gt=F(8002),tc=F(8819),hn=F(4402),ri=F(5345);function Kt(s,o){return"function"==typeof o?i=>i.pipe(Kt((f,g)=>(0,hn.D)(s(f,g)).pipe((0,gt.U)((C,I)=>o(f,C,g,I))))):i=>i.lift(new Zo(s))}class Zo{constructor(o){this.project=o}call(o,i){return i.subscribe(new Yd(o,this.project))}}class Yd extends ri.Ds{constructor(o,i){super(o),this.project=i,this.index=0}_next(o){let i;const f=this.index++;try{i=this.project(o,f)}catch(g){return void this.destination.error(g)}this._innerSub(i)}_innerSub(o){const i=this.innerSubscription;i&&i.unsubscribe();const f=new ri.IY(this),g=this.destination;g.add(f),this.innerSubscription=(0,ri.ft)(o,f),this.innerSubscription!==f&&g.add(this.innerSubscription)}_complete(){const{innerSubscription:o}=this;(!o||o.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(o){this.destination.next(o)}}var rr=F(7393);function co(s,o){let i=!1;return arguments.length>=2&&(i=!0),function(g){return g.lift(new Jo(s,o,i))}}class Jo{constructor(o,i,f=!1){this.accumulator=o,this.seed=i,this.hasSeed=f}call(o,i){return i.subscribe(new nc(o,this.accumulator,this.seed,this.hasSeed))}}class nc extends rr.L{constructor(o,i,f,g){super(o),this.accumulator=i,this._seed=f,this.hasSeed=g,this.index=0}get seed(){return this._seed}set seed(o){this.hasSeed=!0,this._seed=o}_next(o){if(this.hasSeed)return this._tryNext(o);this.seed=o,this.destination.next(o)}_tryNext(o){const i=this.index++;let f;try{f=this.accumulator(this.seed,o,i)}catch(g){this.destination.error(g)}this.seed=f,this.destination.next(f)}}class ku{constructor(o,i){this.compare=o,this.keySelector=i}call(o,i){return i.subscribe(new Xo(o,this.compare,this.keySelector))}}class Xo extends rr.L{constructor(o,i,f){super(o),this.keySelector=f,this.hasKey=!1,"function"==typeof i&&(this.compare=i)}compare(o,i){return o===i}_next(o){let i;try{const{keySelector:g}=this;i=g?g(o):o}catch(g){return this.destination.error(g)}let f=!1;if(this.hasKey)try{const{compare:g}=this;f=g(this.key,i)}catch(g){return this.destination.error(g)}else this.hasKey=!0;f||(this.key=i,this.destination.next(o))}}class fo extends rr.L{notifyNext(o,i,f,g,C){this.destination.next(i)}notifyError(o,i){this.destination.error(o)}notifyComplete(o){this.destination.complete()}}class es extends rr.L{constructor(o,i,f){super(),this.parent=o,this.outerValue=i,this.outerIndex=f,this.index=0}_next(o){this.parent.notifyNext(this.outerValue,o,this.outerIndex,this.index++,this)}_error(o){this.parent.notifyError(o,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var ts=F(7444);function La(s,o,i,f,g=new es(s,i,f)){if(!g.closed)return o instanceof gr.y?o.subscribe(g):(0,ts.s)(o)(g)}class Qd{constructor(o,i){this.observables=o,this.project=i}call(o,i){return i.subscribe(new ip(o,this.observables,this.project))}}class ip extends fo{constructor(o,i,f){super(o),this.observables=i,this.project=f,this.toRespond=[];const g=i.length;this.values=new Array(g);for(let C=0;C<g;C++)this.toRespond.push(C);for(let C=0;C<g;C++)this.add(La(this,i[C],void 0,C))}notifyNext(o,i,f){this.values[f]=i;const g=this.toRespond;if(g.length>0){const C=g.indexOf(f);-1!==C&&g.splice(C,1)}}notifyComplete(){}_next(o){if(0===this.toRespond.length){const i=[o,...this.values];this.project?this._tryProject(i):this.destination.next(i)}}_tryProject(o){let i;try{i=this.project.apply(this,o)}catch(f){return void this.destination.error(f)}this.destination.next(i)}}class Lu{constructor(o){this.predicate=o}call(o,i){return i.subscribe(new ic(o,this.predicate))}}class ic extends rr.L{constructor(o,i){super(o),this.predicate=i,this.skipping=!0,this.index=0}_next(o){const i=this.destination;this.skipping&&this.tryCallPredicate(o),this.skipping||i.next(o)}tryCallPredicate(o){try{const i=this.predicate(o,this.index++);this.skipping=Boolean(i)}catch(i){this.destination.error(i)}}}F(9192);var Oi=F(9765),ns=F(309),oc=F(7771),sc=F(5319),qd=F(7971),op=F(8858);class Kd extends Oi.xQ{constructor(o=Number.POSITIVE_INFINITY,i=Number.POSITIVE_INFINITY,f){super(),this.scheduler=f,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=o<1?1:o,this._windowTime=i<1?1:i,i===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(o){if(!this.isStopped){const i=this._events;i.push(o),i.length>this._bufferSize&&i.shift()}super.next(o)}nextTimeWindow(o){this.isStopped||(this._events.push(new ho(this._getNow(),o)),this._trimBufferThenGetEvents()),super.next(o)}_subscribe(o){const i=this._infiniteTimeWindow,f=i?this._events:this._trimBufferThenGetEvents(),g=this.scheduler,C=f.length;let I;if(this.closed)throw new qd.N;if(this.isStopped||this.hasError?I=sc.w.EMPTY:(this.observers.push(o),I=new op.W(this,o)),g&&o.add(o=new ns.ht(o,g)),i)for(let M=0;M<C&&!o.closed;M++)o.next(f[M]);else for(let M=0;M<C&&!o.closed;M++)o.next(f[M].value);return this.hasError?o.error(this.thrownError):this.isStopped&&o.complete(),I}_getNow(){return(this.scheduler||oc.c).now()}_trimBufferThenGetEvents(){const o=this._getNow(),i=this._bufferSize,f=this._windowTime,g=this._events,C=g.length;let I=0;for(;I<C&&!(o-g[I].time<f);)I++;return C>i&&(I=Math.max(I,C-i)),I>0&&g.splice(0,I),g}}class ho{constructor(o,i){this.time=o,this.value=i}}function ac(s,o,i){let f;return f=s&&"object"==typeof s?s:{bufferSize:s,windowTime:o,refCount:!1,scheduler:i},g=>g.lift(function({bufferSize:s=Number.POSITIVE_INFINITY,windowTime:o=Number.POSITIVE_INFINITY,refCount:i,scheduler:f}){let g,I,C=0,M=!1,G=!1;return function(ye){let be;C++,!g||M?(M=!1,g=new Kd(s,o,f),be=g.subscribe(this),I=ye.subscribe({next(Be){g.next(Be)},error(Be){M=!0,g.error(Be)},complete(){G=!0,I=void 0,g.complete()}}),G&&(I=void 0)):be=g.subscribe(this),this.add(()=>{C--,be.unsubscribe(),be=void 0,I&&!G&&i&&0===C&&(I.unsubscribe(),I=void 0,g=void 0)})}}(f))}const Sr=(()=>{function s(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return s.prototype=Object.create(Error.prototype),s})();function ii(s,o){return function(f){return f.lift(new pn(s,o))}}class pn{constructor(o,i){this.predicate=o,this.thisArg=i}call(o,i){return i.subscribe(new Va(o,this.predicate,this.thisArg))}}class Va extends rr.L{constructor(o,i,f){super(o),this.predicate=i,this.thisArg=f,this.count=0}_next(o){let i;try{i=this.predicate.call(this.thisArg,o,this.count++)}catch(f){return void this.destination.error(f)}i&&this.destination.next(o)}}const uc=(()=>{function s(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return s.prototype=Object.create(Error.prototype),s})();var $r=F(9193);function zn(s){return o=>0===s?(0,$r.c)():o.lift(new wn(s))}class wn{constructor(o){if(this.total=o,this.total<0)throw new uc}call(o,i){return i.subscribe(new Ni(o,this.total))}}class Ni extends rr.L{constructor(o,i){super(o),this.total=i,this.count=0}_next(o){const i=this.total,f=++this.count;f<=i&&(this.destination.next(o),f===i&&(this.destination.complete(),this.unsubscribe()))}}function Pi(s=null){return o=>o.lift(new Fi(s))}class Fi{constructor(o){this.defaultValue=o}call(o,i){return i.subscribe(new lc(o,this.defaultValue))}}class lc extends rr.L{constructor(o,i){super(o),this.defaultValue=i,this.isEmpty=!0}_next(o){this.isEmpty=!1,this.destination.next(o)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Ba(s=Xd){return o=>o.lift(new Jd(s))}class Jd{constructor(o){this.errorFactory=o}call(o,i){return i.subscribe(new sp(o,this.errorFactory))}}class sp extends rr.L{constructor(o,i){super(o),this.errorFactory=i,this.hasValue=!1}_next(o){this.hasValue=!0,this.destination.next(o)}_complete(){if(this.hasValue)return this.destination.complete();{let o;try{o=this.errorFactory()}catch(i){o=i}this.destination.error(o)}}}function Xd(){return new Sr}var is=F(4487);function gn(s,o){const i=arguments.length>=2;return f=>f.pipe(s?ii((g,C)=>s(g,C,f)):is.y,zn(1),i?Pi(o):Ba(()=>new Sr))}function oi(s,o){return o?Kt(()=>s,o):Kt(()=>s)}var si=F(3101);const os=new _.OlP("angularfire2.auth.use-emulator"),zs=new _.OlP("angularfire2.auth.settings"),Ys=new _.OlP("angularfire2.auth.tenant-id"),Ua=new _.OlP("angularfire2.auth.langugage-code"),ja=new _.OlP("angularfire2.auth.use-device-language"),Ha=new _.OlP("angularfire.auth.persistence");let ss=(()=>{class s{constructor(i,f,g,C,I,M,G,he,ye,be){const Be=new Gt.HU(C),Le=(0,Gt.ss)(Be),kt=new Oi.xQ,un=(0,Qe.of)(void 0).pipe((0,ns.QV)(Be.outsideAngular),Kt(()=>C.runOutsideAngular(()=>F.e(336).then(F.bind(F,1336)))),(0,gt.U)(()=>(0,Gt.on)(i,C,f)),(0,gt.U)(Ut=>C.runOutsideAngular(()=>{const yn=I,rn=M;return(0,Gt.sI)(`${Ut.name}.auth`,"AngularFireAuth",Ut,()=>{const Jt=C.runOutsideAngular(()=>Ut.auth());if(yn&&Jt.useEmulator(`http://${yn.join(":")}`),G&&(Jt.tenantId=G),Jt.languageCode=he,ye&&Jt.useDeviceLanguage(),rn)for(const[mi,Lt]of Object.entries(rn))Jt.settings[mi]=Lt;return be&&Jt.setPersistence(be),Jt},[yn,G,he,ye,rn,be])})),ac({bufferSize:1,refCount:!1}));if(function(s){return"server"===s}(g))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Qe.of)(null);else{un.pipe(gn()).subscribe();const yn=un.pipe(Kt(Lt=>Lt.getRedirectResult().then(vh=>vh,()=>null)),Le,ac({bufferSize:1,refCount:!1})),rn=Lt=>new gr.y(vh=>({unsubscribe:C.runOutsideAngular(()=>Lt(vh))})),Jt=un.pipe(Kt(Lt=>rn(Lt.onAuthStateChanged.bind(Lt)))),mi=un.pipe(Kt(Lt=>rn(Lt.onIdTokenChanged.bind(Lt))));this.authState=yn.pipe(oi(Jt),(0,si.R)(Be.outsideAngular),(0,ns.QV)(Be.insideAngular)),this.user=yn.pipe(oi(mi),(0,si.R)(Be.outsideAngular),(0,ns.QV)(Be.insideAngular)),this.idToken=this.user.pipe(Kt(Lt=>Lt?(0,hn.D)(Lt.getIdToken()):(0,Qe.of)(null))),this.idTokenResult=this.user.pipe(Kt(Lt=>Lt?(0,hn.D)(Lt.getIdTokenResult()):(0,Qe.of)(null))),this.credential=(0,ka.T)(yn,kt,this.authState.pipe(ii(Lt=>!Lt))).pipe((0,gt.U)(Lt=>(null==Lt?void 0:Lt.user)?Lt:null),(0,si.R)(Be.outsideAngular),(0,ns.QV)(Be.insideAngular))}return(0,Gt.pX)(this,un,C,{spy:{apply:(Ut,yn,rn)=>{(Ut.startsWith("signIn")||Ut.startsWith("createUser"))&&rn.then(Jt=>kt.next(Jt))}}})}}return s.\u0275fac=function(i){return new(i||s)(_.LFG(Gt.Dh),_.LFG(Gt.xv,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(os,8),_.LFG(zs,8),_.LFG(Ys,8),_.LFG(Ua,8),_.LFG(ja,8),_.LFG(Ha,8))},s.\u0275prov=_.Yz7({factory:function(){return new s(_.LFG(Gt.Dh),_.LFG(Gt.xv,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(os,8),_.LFG(zs,8),_.LFG(Ys,8),_.LFG(Ua,8),_.LFG(ja,8),_.LFG(Ha,8))},token:s,providedIn:"any"}),s})();var $a=F(2329);function Ga(s){return null==s}function po(s){return"function"==typeof s.set}function cc(s,o){return po(o)?o:s.ref(o)}function Bu(s,o){if(function(s){return"string"==typeof s}(s))return o.stringCase();if(po(s))return o.firebaseCase();if(function(s){return"function"==typeof s.exportVal}(s))return o.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof s)}function qs(s,o,i="on",f=Ws.z){return new gr.y(g=>{let C=null;return C=s[i](o,(I,M)=>{f.schedule(()=>{g.next({snapshot:I,prevKey:M})}),"once"===i&&f.schedule(()=>g.complete())},I=>{f.schedule(()=>g.error(I))}),"on"===i?{unsubscribe(){null!=C&&s.off(o,C)}}:{unsubscribe(){}}}).pipe((0,gt.U)(g=>{const{snapshot:C,prevKey:I}=g;let M=null;return C.exists()&&(M=C.key),{type:o,payload:C,prevKey:I,key:M}}),(0,tc.B)())}function dc(s,o){const i=s.length;for(let f=0;f<i;f++)if(s[f].payload.key===o)return f;return-1}function go(s,o){const{payload:i,prevKey:f,key:g}=o,C=dc(s,g),I=function(s,o){if(Ga(o))return 0;{const i=dc(s,o);return-1===i?s.length:i+1}}(s,f);switch(o.type){case"value":if(o.payload&&o.payload.exists()){let M=null;o.payload.forEach(G=>{const he={payload:G,type:"value",prevKey:M,key:G.key};return M=G.key,s=[...s,he],!1})}return s;case"child_added":if(C>-1){const M=s[C-1];(M&&M.key||null)!==f&&(s=s.filter(G=>G.payload.key!==i.key)).splice(I,0,o)}else{if(null==f)return[o,...s];(s=s.slice()).splice(I,0,o)}return s;case"child_removed":return s.filter(M=>M.payload.key!==i.key);case"child_changed":return s.map(M=>M.payload.key===g?o:M);case"child_moved":if(C>-1){const M=s.splice(C,1)[0];return(s=s.slice()).splice(I,0,M),s}return s;default:return s}}function ai(s){return(Ga(s)||0===s.length)&&(s=["child_added","child_removed","child_changed","child_moved"]),s}function Zs(s,o,i){return function(s,o,i){return qs(s,"value","once",i).pipe(Kt(f=>{const g=[(0,Qe.of)(f)];return o.forEach(C=>g.push(qs(s,C,"on",i))),(0,ka.T)(...g).pipe(co(go,[]))}),i=>i.lift(new ku(void 0,void 0)))}(s,o=ai(o),i)}function Nt(s,o,i){const f=(o=ai(o)).map(g=>qs(s,g,"on",i));return(0,ka.T)(...f)}function ui(s,o){return function(f,g){return Bu(f,{stringCase:()=>s.child(f)[o](g),firebaseCase:()=>f[o](g),snapshotCase:()=>f.ref[o](g)})}}function fc(s){return function(i){return i?Bu(i,{stringCase:()=>s.child(i).remove(),firebaseCase:()=>i.remove(),snapshotCase:()=>i.ref.remove()}):s.remove()}}function _o(s,o){return function(){return qs(s,"value","on",o)}}const vo=new _.OlP("angularfire2.realtimeDatabaseURL"),Gr=new _.OlP("angularfire2.database.use-emulator");let za=(()=>{class s{constructor(i,f,g,C,I,M,G){this.schedulers=new Gt.HU(I),this.keepUnstableUntilFirst=(0,Gt.ss)(this.schedulers);const he=M,ye=(0,Gt.on)(i,I,f);!$a.Z.auth&&G&&(0,Gt.yq)(),this.database=(0,Gt.sI)(`${ye.name}.database.${g}`,"AngularFireDatabase",ye,()=>{const be=I.runOutsideAngular(()=>ye.database(g||void 0));return he&&be.useEmulator(...he),be},[he])}list(i,f){const g=this.schedulers.ngZone.runOutsideAngular(()=>cc(this.database,i));let C=g;return f&&(C=f(g)),function(s,o){const i=o.schedulers.outsideAngular,f=o.schedulers.ngZone.run(()=>s.ref);return{query:s,update:ui(f,"update"),set:ui(f,"set"),push:g=>f.push(g),remove:fc(f),snapshotChanges:g=>Zs(s,g,i).pipe(o.keepUnstableUntilFirst),stateChanges:g=>Nt(s,g,i).pipe(o.keepUnstableUntilFirst),auditTrail:g=>function(s,o,i){return function(s,o,i){return function(s,o){return qs(s,"value","on",o).pipe((0,gt.U)(i=>{let f;return i.payload.forEach(g=>(f=g.key,!1)),{data:i,lastKeyToLoad:f}}))}(s,i).pipe(function(...s){return o=>{let i;return"function"==typeof s[s.length-1]&&(i=s.pop()),o.lift(new Qd(s,i))}}(o),(0,gt.U)(([g,C])=>{const I=g.lastKeyToLoad,M=C.map(G=>G.key);return{actions:C,lastKeyToLoad:I,loadedKeys:M}}),function(s){return o=>o.lift(new Lu(s))}(g=>-1===g.loadedKeys.indexOf(g.lastKeyToLoad)),(0,gt.U)(g=>g.actions))}(s,Nt(s,o).pipe(co((g,C)=>[...g,C],[])),i)}(s,g,i).pipe(o.keepUnstableUntilFirst),valueChanges:(g,C)=>Zs(s,g,i).pipe((0,gt.U)(M=>M.map(G=>C&&C.idField?Object.assign(Object.assign({},G.payload.val()),{[C.idField]:G.key}):G.payload.val())),o.keepUnstableUntilFirst)}}(C,this)}object(i){return function(s,o){return{query:s,snapshotChanges:()=>_o(s,o.schedulers.outsideAngular)().pipe(o.keepUnstableUntilFirst),update:i=>s.ref.update(i),set:i=>s.ref.set(i),remove:()=>s.ref.remove(),valueChanges:()=>_o(s,o.schedulers.outsideAngular)().pipe(o.keepUnstableUntilFirst,(0,gt.U)(f=>f.payload.exists()?f.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>cc(this.database,i)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return s.\u0275fac=function(i){return new(i||s)(_.LFG(Gt.Dh),_.LFG(Gt.xv,8),_.LFG(vo,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(Gr,8),_.LFG(os,8))},s.\u0275prov=_.Yz7({factory:function(){return new s(_.LFG(Gt.Dh),_.LFG(Gt.xv,8),_.LFG(vo,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(Gr,8),_.LFG(os,8))},token:s,providedIn:"any"}),s})(),Wr=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=_.oAB({type:s}),s.\u0275inj=_.cJS({providers:[za]}),s})();class Yn extends Oi.xQ{constructor(o){super(),this._value=o}get value(){return this.getValue()}_subscribe(o){const i=super._subscribe(o);return i&&!i.closed&&o.next(this._value),i}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new qd.N;return this._value}next(o){super.next(this._value=o)}}var Ya=F(4869),Js=F(9796),ki=F(6693);const mr={};class nf{constructor(o){this.resultSelector=o}call(o,i){return i.subscribe(new yo(o,this.resultSelector))}}class yo extends fo{constructor(o,i){super(o),this.resultSelector=i,this.active=0,this.values=[],this.observables=[]}_next(o){this.values.push(mr),this.observables.push(o)}_complete(){const o=this.observables,i=o.length;if(0===i)this.destination.complete();else{this.active=i,this.toRespond=i;for(let f=0;f<i;f++)this.add(La(this,o[f],void 0,f))}}notifyComplete(o){0==(this.active-=1)&&this.destination.complete()}notifyNext(o,i,f){const g=this.values,I=this.toRespond?g[f]===mr?--this.toRespond:this.toRespond:0;g[f]=i,0===I&&(this.resultSelector?this._tryResultSelector(g):this.destination.next(g.slice()))}_tryResultSelector(o){let i;try{i=this.resultSelector.apply(this,o)}catch(f){return void this.destination.error(f)}this.destination.next(i)}}var zr=F(3282);function us(...s){return(0,zr.J)(1)((0,Qe.of)(...s))}function Co(s){return new gr.y(o=>{let i;try{i=s()}catch(g){return void o.error(g)}return(i?(0,hn.D)(i):(0,$r.c)()).subscribe(o)})}var of=F(2441);function Li(s){return function(i){const f=new sf(s),g=i.lift(f);return f.caught=g}}class sf{constructor(o){this.selector=o}call(o,i){return i.subscribe(new af(o,this.selector,this.caught))}}class af extends ri.Ds{constructor(o,i,f){super(o),this.selector=i,this.caught=f}error(o){if(!this.isStopped){let i;try{i=this.selector(o,this.caught)}catch(C){return void super.error(C)}this._unsubscribeAndRecycle();const f=new ri.IY(this);this.add(f);const g=(0,ri.ft)(i,f);g!==f&&this.add(g)}}}var tn=F(9773);function li(s,o){return(0,tn.zg)(s,o,1)}function mn(s){return function(i){return 0===s?(0,$r.c)():i.lift(new gc(s))}}class gc{constructor(o){if(this.total=o,this.total<0)throw new uc}call(o,i){return i.subscribe(new uf(o,this.total))}}class uf extends rr.L{constructor(o,i){super(o),this.total=i,this.ring=new Array,this.count=0}_next(o){const i=this.ring,f=this.total,g=this.count++;i.length<f?i.push(o):i[g%f]=o}_complete(){const o=this.destination;let i=this.count;if(i>0){const f=this.count>=this.total?this.total:this.count,g=this.ring;for(let C=0;C<f;C++){const I=i++%f;o.next(g[I])}}o.complete()}}var Rn=F(3342),ju=F(1307);class Hu{constructor(o){this.callback=o}call(o,i){return i.subscribe(new ls(o,this.callback))}}class ls extends rr.L{constructor(o,i){super(o),this.add(new sc.w(i))}}class xn{constructor(o,i){this.id=o,this.url=i}}class $u extends xn{constructor(o,i,f="imperative",g=null){super(o,i),this.navigationTrigger=f,this.restoredState=g}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class cs extends xn{constructor(o,i,f){super(o,i),this.urlAfterRedirects=f}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class _c extends xn{constructor(o,i,f){super(o,i),this.reason=f}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Gu extends xn{constructor(o,i,f){super(o,i),this.error=f}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Qa extends xn{constructor(o,i,f,g){super(o,i),this.urlAfterRedirects=f,this.state=g}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ci extends xn{constructor(o,i,f,g){super(o,i),this.urlAfterRedirects=f,this.state=g}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vi extends xn{constructor(o,i,f,g,C){super(o,i),this.urlAfterRedirects=f,this.state=g,this.shouldActivate=C}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class vc extends xn{constructor(o,i,f,g){super(o,i),this.urlAfterRedirects=f,this.state=g}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cf extends xn{constructor(o,i,f,g){super(o,i),this.urlAfterRedirects=f,this.state=g}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yc{constructor(o){this.route=o}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Wu{constructor(o){this.route=o}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class df{constructor(o){this.snapshot=o}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ff{constructor(o){this.snapshot=o}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cc{constructor(o){this.snapshot=o}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zu{constructor(o){this.snapshot=o}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yu{constructor(o,i,f){this.routerEvent=o,this.position=i,this.anchor=f}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ft="primary";class hf{constructor(o){this.params=o||{}}has(o){return Object.prototype.hasOwnProperty.call(this.params,o)}get(o){if(this.has(o)){const i=this.params[o];return Array.isArray(i)?i[0]:i}return null}getAll(o){if(this.has(o)){const i=this.params[o];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}}function ea(s){return new hf(s)}const Eo="ngNavigationCancelingError";function Qn(s){const o=Error("NavigationCancelingError: "+s);return o[Eo]=!0,o}function _r(s,o,i){const f=i.path.split("/");if(f.length>s.length||"full"===i.pathMatch&&(o.hasChildren()||f.length<s.length))return null;const g={};for(let C=0;C<f.length;C++){const I=f[C],M=s[C];if(I.startsWith(":"))g[I.substring(1)]=M;else if(I!==M.path)return null}return{consumed:s.slice(0,f.length),posParams:g}}function Rr(s,o){const i=s?Object.keys(s):void 0,f=o?Object.keys(o):void 0;if(!i||!f||i.length!=f.length)return!1;let g;for(let C=0;C<i.length;C++)if(g=i[C],!Ui(s[g],o[g]))return!1;return!0}function Ui(s,o){if(Array.isArray(s)&&Array.isArray(o)){if(s.length!==o.length)return!1;const i=[...s].sort(),f=[...o].sort();return i.every((g,C)=>f[C]===g)}return s===o}function Qu(s){return Array.prototype.concat.apply([],s)}function bc(s){return s.length>0?s[s.length-1]:null}function In(s,o){for(const i in s)s.hasOwnProperty(i)&&o(s[i],i)}function Vn(s){return(0,_.CqO)(s)?s:(0,_.QGY)(s)?(0,hn.D)(Promise.resolve(s)):(0,Qe.of)(s)}const na={exact:function Dc(s,o,i){if(!ht(s.segments,o.segments)||!ra(s.segments,o.segments,i)||s.numberOfChildren!==o.numberOfChildren)return!1;for(const f in o.children)if(!s.children[f]||!Dc(s.children[f],o.children[f],i))return!1;return!0},subset:qu},pf={exact:function(s,o){return Rr(s,o)},subset:function(s,o){return Object.keys(o).length<=Object.keys(s).length&&Object.keys(o).every(i=>Ui(s[i],o[i]))},ignored:()=>!0};function gf(s,o,i){return na[i.paths](s.root,o.root,i.matrixParams)&&pf[i.queryParams](s.queryParams,o.queryParams)&&!("exact"===i.fragment&&s.fragment!==o.fragment)}function qu(s,o,i){return Ku(s,o,o.segments,i)}function Ku(s,o,i,f){if(s.segments.length>i.length){const g=s.segments.slice(0,i.length);return!(!ht(g,i)||o.hasChildren()||!ra(g,i,f))}if(s.segments.length===i.length){if(!ht(s.segments,i)||!ra(s.segments,i,f))return!1;for(const g in o.children)if(!s.children[g]||!qu(s.children[g],o.children[g],f))return!1;return!0}{const g=i.slice(0,s.segments.length),C=i.slice(s.segments.length);return!!(ht(s.segments,g)&&ra(s.segments,g,f)&&s.children[ft])&&Ku(s.children[ft],o,C,f)}}function ra(s,o,i){return o.every((f,g)=>pf[i](s[g].parameters,f.parameters))}class nn{constructor(o,i,f){this.root=o,this.queryParams=i,this.fragment=f}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ea(this.queryParams)),this._queryParamMap}toString(){return ji.serialize(this)}}class at{constructor(o,i){this.segments=o,this.children=i,this.parent=null,In(i,(f,g)=>f.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Xa(this)}}class qn{constructor(o,i){this.path=o,this.parameters=i}get parameterMap(){return this._parameterMap||(this._parameterMap=ea(this.parameters)),this._parameterMap}toString(){return An(this)}}function ht(s,o){return s.length===o.length&&s.every((i,f)=>i.path===o[f].path)}class Ja{}class ia{parse(o){const i=new Xu(o);return new nn(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(o){var s;return`${`/${oa(o.root,!0)}`}${function(s){const o=Object.keys(s).map(i=>{const f=s[i];return Array.isArray(f)?f.map(g=>`${tu(i)}=${tu(g)}`).join("&"):`${tu(i)}=${tu(f)}`}).filter(i=>!!i);return o.length?`?${o.join("&")}`:""}(o.queryParams)}${"string"==typeof o.fragment?`#${s=o.fragment,encodeURI(s)}`:""}`}}const ji=new ia;function Xa(s){return s.segments.map(o=>An(o)).join("/")}function oa(s,o){if(!s.hasChildren())return Xa(s);if(o){const i=s.children[ft]?oa(s.children[ft],!1):"",f=[];return In(s.children,(g,C)=>{C!==ft&&f.push(`${C}:${oa(g,!1)}`)}),f.length>0?`${i}(${f.join("//")})`:i}{const i=function(s,o){let i=[];return In(s.children,(f,g)=>{g===ft&&(i=i.concat(o(f,g)))}),In(s.children,(f,g)=>{g!==ft&&(i=i.concat(o(f,g)))}),i}(s,(f,g)=>g===ft?[oa(s.children[ft],!1)]:[`${g}:${oa(f,!1)}`]);return 1===Object.keys(s.children).length&&null!=s.children[ft]?`${Xa(s)}/${i[0]}`:`${Xa(s)}/(${i.join("//")})`}}function eu(s){return encodeURIComponent(s).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function tu(s){return eu(s).replace(/%3B/gi,";")}function Ic(s){return eu(s).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Zu(s){return decodeURIComponent(s)}function bo(s){return Zu(s.replace(/\+/g,"%20"))}function An(s){return`${Ic(s.path)}${function(s){return Object.keys(s).map(o=>`;${Ic(o)}=${Ic(s[o])}`).join("")}(s.parameters)}`}const Ju=/^[^\/()?;=#]+/;function an(s){const o=s.match(Ju);return o?o[0]:""}const ds=/^[^=?&#]+/,Ac=/^[^?&#]+/;class Xu{constructor(o){this.url=o,this.remaining=o}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new at([],{}):new at([],this.parseChildren())}parseQueryParams(){const o={};if(this.consumeOptional("?"))do{this.parseQueryParam(o)}while(this.consumeOptional("&"));return o}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const o=[];for(this.peekStartsWith("(")||o.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),o.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let f={};return this.peekStartsWith("(")&&(f=this.parseParens(!1)),(o.length>0||Object.keys(i).length>0)&&(f[ft]=new at(o,i)),f}parseSegment(){const o=an(this.remaining);if(""===o&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(o),new qn(Zu(o),this.parseMatrixParams())}parseMatrixParams(){const o={};for(;this.consumeOptional(";");)this.parseParam(o);return o}parseParam(o){const i=an(this.remaining);if(!i)return;this.capture(i);let f="";if(this.consumeOptional("=")){const g=an(this.remaining);g&&(f=g,this.capture(f))}o[Zu(i)]=Zu(f)}parseQueryParam(o){const i=function(s){const o=s.match(ds);return o?o[0]:""}(this.remaining);if(!i)return;this.capture(i);let f="";if(this.consumeOptional("=")){const I=function(s){const o=s.match(Ac);return o?o[0]:""}(this.remaining);I&&(f=I,this.capture(f))}const g=bo(i),C=bo(f);if(o.hasOwnProperty(g)){let I=o[g];Array.isArray(I)||(I=[I],o[g]=I),I.push(C)}else o[g]=C}parseParens(o){const i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const f=an(this.remaining),g=this.remaining[f.length];if("/"!==g&&")"!==g&&";"!==g)throw new Error(`Cannot parse url '${this.url}'`);let C;f.indexOf(":")>-1?(C=f.substr(0,f.indexOf(":")),this.capture(C),this.capture(":")):o&&(C=ft);const I=this.parseChildren();i[C]=1===Object.keys(I).length?I[ft]:new at([],I),this.consumeOptional("//")}return i}peekStartsWith(o){return this.remaining.startsWith(o)}consumeOptional(o){return!!this.peekStartsWith(o)&&(this.remaining=this.remaining.substring(o.length),!0)}capture(o){if(!this.consumeOptional(o))throw new Error(`Expected "${o}".`)}}class Tc{constructor(o){this._root=o}get root(){return this._root.value}parent(o){const i=this.pathFromRoot(o);return i.length>1?i[i.length-2]:null}children(o){const i=iu(o,this._root);return i?i.children.map(f=>f.value):[]}firstChild(o){const i=iu(o,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(o){const i=el(o,this._root);return i.length<2?[]:i[i.length-2].children.map(g=>g.value).filter(g=>g!==o)}pathFromRoot(o){return el(o,this._root).map(i=>i.value)}}function iu(s,o){if(s===o.value)return o;for(const i of o.children){const f=iu(s,i);if(f)return f}return null}function el(s,o){if(s===o.value)return[o];for(const i of o.children){const f=el(s,i);if(f.length)return f.unshift(o),f}return[]}class Or{constructor(o,i){this.value=o,this.children=i}toString(){return`TreeNode(${this.value})`}}function sa(s){const o={};return s&&s.children.forEach(i=>o[i.value.outlet]=i),o}class Sc extends Tc{constructor(o,i){super(o),this.snapshot=i,fs(this,o)}toString(){return this.snapshot.toString()}}function Mc(s,o){const i=function(s,o){const I=new nl([],{},{},"",{},ft,o,null,s.root,-1,{});return new rl("",new Or(I,[]))}(s,o),f=new Yn([new qn("",{})]),g=new Yn({}),C=new Yn({}),I=new Yn({}),M=new Yn(""),G=new Hi(f,g,I,M,C,ft,o,i.root);return G.snapshot=i.root,new Sc(new Or(G,[]),i)}class Hi{constructor(o,i,f,g,C,I,M,G){this.url=o,this.params=i,this.queryParams=f,this.fragment=g,this.data=C,this.outlet=I,this.component=M,this._futureSnapshot=G}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,gt.U)(o=>ea(o)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,gt.U)(o=>ea(o)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function tl(s,o="emptyOnly"){const i=s.pathFromRoot;let f=0;if("always"!==o)for(f=i.length-1;f>=1;){const g=i[f],C=i[f-1];if(g.routeConfig&&""===g.routeConfig.path)f--;else{if(C.component)break;f--}}return function(s){return s.reduce((o,i)=>({params:Object.assign(Object.assign({},o.params),i.params),data:Object.assign(Object.assign({},o.data),i.data),resolve:Object.assign(Object.assign({},o.resolve),i._resolvedData)}),{params:{},data:{},resolve:{}})}(i.slice(f))}class nl{constructor(o,i,f,g,C,I,M,G,he,ye,be){this.url=o,this.params=i,this.queryParams=f,this.fragment=g,this.data=C,this.outlet=I,this.component=M,this.routeConfig=G,this._urlSegment=he,this._lastPathIndex=ye,this._resolve=be}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ea(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ea(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(f=>f.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class rl extends Tc{constructor(o,i){super(i),this.url=o,fs(this,i)}toString(){return xc(this._root)}}function fs(s,o){o.value._routerState=s,o.children.forEach(i=>fs(s,i))}function xc(s){const o=s.children.length>0?` { ${s.children.map(xc).join(", ")} } `:"";return`${s.value}${o}`}function il(s){if(s.snapshot){const o=s.snapshot,i=s._futureSnapshot;s.snapshot=i,Rr(o.queryParams,i.queryParams)||s.queryParams.next(i.queryParams),o.fragment!==i.fragment&&s.fragment.next(i.fragment),Rr(o.params,i.params)||s.params.next(i.params),function(s,o){if(s.length!==o.length)return!1;for(let i=0;i<s.length;++i)if(!Rr(s[i],o[i]))return!1;return!0}(o.url,i.url)||s.url.next(i.url),Rr(o.data,i.data)||s.data.next(i.data)}else s.snapshot=s._futureSnapshot,s.data.next(s._futureSnapshot.data)}function $i(s,o){return Rr(s.params,o.params)&&function(s,o){return ht(s,o)&&s.every((i,f)=>Rr(i.parameters,o[f].parameters))}(s.url,o.url)&&!(!s.parent!=!o.parent)&&(!s.parent||$i(s.parent,o.parent))}function ou(s,o,i){if(i&&s.shouldReuseRoute(o.value,i.value.snapshot)){const f=i.value;f._futureSnapshot=o.value;const g=function(s,o,i){return o.children.map(f=>{for(const g of i.children)if(s.shouldReuseRoute(f.value,g.value.snapshot))return ou(s,f,g);return ou(s,f)})}(s,o,i);return new Or(f,g)}{if(s.shouldAttach(o.value)){const C=s.retrieve(o.value);if(null!==C){const I=C.route;return Oc(o,I),I}}const f=function(s){return new Hi(new Yn(s.url),new Yn(s.params),new Yn(s.queryParams),new Yn(s.fragment),new Yn(s.data),s.outlet,s.component,s)}(o.value),g=o.children.map(C=>ou(s,C));return new Or(f,g)}}function Oc(s,o){if(s.value.routeConfig!==o.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(s.children.length!==o.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");o.value._futureSnapshot=s.value;for(let i=0;i<s.children.length;++i)Oc(s.children[i],o.children[i])}function Tn(s){return"object"==typeof s&&null!=s&&!s.outlets&&!s.segmentPath}function wo(s){return"object"==typeof s&&null!=s&&s.outlets}function ol(s,o,i,f,g){let C={};return f&&In(f,(I,M)=>{C[M]=Array.isArray(I)?I.map(G=>`${G}`):`${I}`}),new nn(i.root===s?o:sl(i.root,s,o),C,g)}function sl(s,o,i){const f={};return In(s.children,(g,C)=>{f[C]=g===o?i:sl(g,o,i)}),new at(s.segments,f)}class al{constructor(o,i,f){if(this.isAbsolute=o,this.numberOfDoubleDots=i,this.commands=f,o&&f.length>0&&Tn(f[0]))throw new Error("Root segment cannot have matrix parameters");const g=f.find(wo);if(g&&g!==bc(f))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class au{constructor(o,i,f){this.segmentGroup=o,this.processChildren=i,this.index=f}}function Io(s,o,i){if(s||(s=new at([],{})),0===s.segments.length&&s.hasChildren())return ir(s,o,i);const f=function(s,o,i){let f=0,g=o;const C={match:!1,pathIndex:0,commandIndex:0};for(;g<s.segments.length;){if(f>=i.length)return C;const I=s.segments[g],M=i[f];if(wo(M))break;const G=`${M}`,he=f<i.length-1?i[f+1]:null;if(g>0&&void 0===G)break;if(G&&he&&"object"==typeof he&&void 0===he.outlets){if(!Pr(G,he,I))return C;f+=2}else{if(!Pr(G,{},I))return C;f++}g++}return{match:!0,pathIndex:g,commandIndex:f}}(s,o,i),g=i.slice(f.commandIndex);if(f.match&&f.pathIndex<s.segments.length){const C=new at(s.segments.slice(0,f.pathIndex),{});return C.children[ft]=new at(s.segments.slice(f.pathIndex),s.children),ir(C,0,g)}return f.match&&0===g.length?new at(s.segments,{}):f.match&&!s.hasChildren()?Nc(s,o,i):f.match?ir(s,0,g):Nc(s,o,i)}function ir(s,o,i){if(0===i.length)return new at(s.segments,{});{const f=function(s){return wo(s[0])?s[0].outlets:{[ft]:s}}(i),g={};return In(f,(C,I)=>{"string"==typeof C&&(C=[C]),null!==C&&(g[I]=Io(s.children[I],o,C))}),In(s.children,(C,I)=>{void 0===f[I]&&(g[I]=C)}),new at(s.segments,g)}}function Nc(s,o,i){const f=s.segments.slice(0,o);let g=0;for(;g<i.length;){const C=i[g];if(wo(C)){const G=Pc(C.outlets);return new at(f,G)}if(0===g&&Tn(i[0])){f.push(new qn(s.segments[o].path,Df(i[0]))),g++;continue}const I=wo(C)?C.outlets[ft]:`${C}`,M=g<i.length-1?i[g+1]:null;I&&M&&Tn(M)?(f.push(new qn(I,Df(M))),g+=2):(f.push(new qn(I,{})),g++)}return new at(f,{})}function Pc(s){const o={};return In(s,(i,f)=>{"string"==typeof i&&(i=[i]),null!==i&&(o[f]=Nc(new at([],{}),0,i))}),o}function Df(s){const o={};return In(s,(i,f)=>o[f]=`${i}`),o}function Pr(s,o,i){return s==i.path&&Rr(o,i.parameters)}class Ao{constructor(o,i,f,g){this.routeReuseStrategy=o,this.futureState=i,this.currState=f,this.forwardEvent=g}activate(o){const i=this.futureState._root,f=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,f,o),il(this.futureState.root),this.activateChildRoutes(i,f,o)}deactivateChildRoutes(o,i,f){const g=sa(i);o.children.forEach(C=>{const I=C.value.outlet;this.deactivateRoutes(C,g[I],f),delete g[I]}),In(g,(C,I)=>{this.deactivateRouteAndItsChildren(C,f)})}deactivateRoutes(o,i,f){const g=o.value,C=i?i.value:null;if(g===C)if(g.component){const I=f.getContext(g.outlet);I&&this.deactivateChildRoutes(o,i,I.children)}else this.deactivateChildRoutes(o,i,f);else C&&this.deactivateRouteAndItsChildren(i,f)}deactivateRouteAndItsChildren(o,i){this.routeReuseStrategy.shouldDetach(o.value.snapshot)?this.detachAndStoreRouteSubtree(o,i):this.deactivateRouteAndOutlet(o,i)}detachAndStoreRouteSubtree(o,i){const f=i.getContext(o.value.outlet);if(f&&f.outlet){const g=f.outlet.detach(),C=f.children.onOutletDeactivated();this.routeReuseStrategy.store(o.value.snapshot,{componentRef:g,route:o,contexts:C})}}deactivateRouteAndOutlet(o,i){const f=i.getContext(o.value.outlet),g=f&&o.value.component?f.children:i,C=sa(o);for(const I of Object.keys(C))this.deactivateRouteAndItsChildren(C[I],g);f&&f.outlet&&(f.outlet.deactivate(),f.children.onOutletDeactivated(),f.attachRef=null,f.resolver=null,f.route=null)}activateChildRoutes(o,i,f){const g=sa(i);o.children.forEach(C=>{this.activateRoutes(C,g[C.value.outlet],f),this.forwardEvent(new zu(C.value.snapshot))}),o.children.length&&this.forwardEvent(new ff(o.value.snapshot))}activateRoutes(o,i,f){const g=o.value,C=i?i.value:null;if(il(g),g===C)if(g.component){const I=f.getOrCreateContext(g.outlet);this.activateChildRoutes(o,i,I.children)}else this.activateChildRoutes(o,i,f);else if(g.component){const I=f.getOrCreateContext(g.outlet);if(this.routeReuseStrategy.shouldAttach(g.snapshot)){const M=this.routeReuseStrategy.retrieve(g.snapshot);this.routeReuseStrategy.store(g.snapshot,null),I.children.onOutletReAttached(M.contexts),I.attachRef=M.componentRef,I.route=M.route.value,I.outlet&&I.outlet.attach(M.componentRef,M.route.value),ll(M.route)}else{const M=function(s){for(let o=s.parent;o;o=o.parent){const i=o.routeConfig;if(i&&i._loadedConfig)return i._loadedConfig;if(i&&i.component)return null}return null}(g.snapshot),G=M?M.module.componentFactoryResolver:null;I.attachRef=null,I.route=g,I.resolver=G,I.outlet&&I.outlet.activateWith(g,G),this.activateChildRoutes(o,null,I.children)}}else this.activateChildRoutes(o,null,f)}}function ll(s){il(s.value),s.children.forEach(ll)}class Yr{constructor(o,i){this.routes=o,this.module=i}}function di(s){return"function"==typeof s}function fi(s){return s instanceof nn}const To=Symbol("INITIAL_VALUE");function ps(){return Kt(s=>function(...s){let o,i;return(0,Ya.K)(s[s.length-1])&&(i=s.pop()),"function"==typeof s[s.length-1]&&(o=s.pop()),1===s.length&&(0,Js.k)(s[0])&&(s=s[0]),(0,ki.n)(s,i).lift(new nf(o))}(s.map(o=>o.pipe(zn(1),function(...s){const o=s[s.length-1];return(0,Ya.K)(o)?(s.pop(),i=>us(s,i,o)):i=>us(s,i)}(To)))).pipe(co((o,i)=>{let f=!1;return i.reduce((g,C,I)=>g!==To?g:(C===To&&(f=!0),f||!1!==C&&I!==i.length-1&&!fi(C)?g:C),o)},To),ii(o=>o!==To),(0,gt.U)(o=>fi(o)?o:!0===o),zn(1)))}let Lc=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=_.Xpm({type:s,selectors:[["ng-component"]],decls:1,vars:0,template:function(i,f){1&i&&_._UZ(0,"router-outlet")},directives:function(){return[pl]},encapsulation:2}),s})();function uu(s,o=""){for(let i=0;i<s.length;i++){const f=s[i];wf(f,If(o,f))}}function wf(s,o){s.children&&uu(s.children,o)}function If(s,o){return o?s||o.path?s&&!o.path?`${s}/`:!s&&o.path?o.path:`${s}/${o.path}`:"":s}function dl(s){const o=s.children&&s.children.map(dl),i=o?Object.assign(Object.assign({},s),{children:o}):Object.assign({},s);return!i.component&&(o||i.loadChildren)&&i.outlet&&i.outlet!==ft&&(i.component=Lc),i}function vr(s){return s.outlet||ft}function Vc(s,o){const i=s.filter(f=>vr(f)===o);return i.push(...s.filter(f=>vr(f)!==o)),i}const Bc={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function aa(s,o,i){var f;if(""===o.path)return"full"===o.pathMatch&&(s.hasChildren()||i.length>0)?Object.assign({},Bc):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const C=(o.matcher||_r)(i,s,o);if(!C)return Object.assign({},Bc);const I={};In(C.posParams,(G,he)=>{I[he]=G.path});const M=C.consumed.length>0?Object.assign(Object.assign({},I),C.consumed[C.consumed.length-1].parameters):I;return{matched:!0,consumedSegments:C.consumed,lastChild:C.consumed.length,parameters:M,positionalParamSegments:null!==(f=C.posParams)&&void 0!==f?f:{}}}function gs(s,o,i,f,g="corrected"){if(i.length>0&&function(s,o,i){return i.some(f=>v(s,o,f)&&vr(f)!==ft)}(s,i,f)){const I=new at(o,function(s,o,i,f){const g={};g[ft]=f,f._sourceSegment=s,f._segmentIndexShift=o.length;for(const C of i)if(""===C.path&&vr(C)!==ft){const I=new at([],{});I._sourceSegment=s,I._segmentIndexShift=o.length,g[vr(C)]=I}return g}(s,o,f,new at(i,s.children)));return I._sourceSegment=s,I._segmentIndexShift=o.length,{segmentGroup:I,slicedSegments:[]}}if(0===i.length&&function(s,o,i){return i.some(f=>v(s,o,f))}(s,i,f)){const I=new at(s.segments,function(s,o,i,f,g,C){const I={};for(const M of f)if(v(s,i,M)&&!g[vr(M)]){const G=new at([],{});G._sourceSegment=s,G._segmentIndexShift="legacy"===C?s.segments.length:o.length,I[vr(M)]=G}return Object.assign(Object.assign({},g),I)}(s,o,i,f,s.children,g));return I._sourceSegment=s,I._segmentIndexShift=o.length,{segmentGroup:I,slicedSegments:i}}const C=new at(s.segments,s.children);return C._sourceSegment=s,C._segmentIndexShift=o.length,{segmentGroup:C,slicedSegments:i}}function v(s,o,i){return(!(s.hasChildren()||o.length>0)||"full"!==i.pathMatch)&&""===i.path}function E(s,o,i,f){return!!(vr(s)===f||f!==ft&&v(o,i,s))&&("**"===s.path||aa(o,s,i).matched)}function D(s,o,i){return 0===o.length&&!s.children[i]}class T{constructor(o){this.segmentGroup=o||null}}class R{constructor(o){this.urlTree=o}}function O(s){return new gr.y(o=>o.error(new T(s)))}function k(s){return new gr.y(o=>o.error(new R(s)))}function J(s){return new gr.y(o=>o.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${s}'`)))}class Ie{constructor(o,i,f,g,C){this.configLoader=i,this.urlSerializer=f,this.urlTree=g,this.config=C,this.allowRedirects=!0,this.ngModule=o.get(_.h0i)}apply(){const o=gs(this.urlTree.root,[],[],this.config).segmentGroup,i=new at(o.segments,o.children);return this.expandSegmentGroup(this.ngModule,this.config,i,ft).pipe((0,gt.U)(C=>this.createUrlTree(Pe(C),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Li(C=>{if(C instanceof R)return this.allowRedirects=!1,this.match(C.urlTree);throw C instanceof T?this.noMatchError(C):C}))}match(o){return this.expandSegmentGroup(this.ngModule,this.config,o.root,ft).pipe((0,gt.U)(g=>this.createUrlTree(Pe(g),o.queryParams,o.fragment))).pipe(Li(g=>{throw g instanceof T?this.noMatchError(g):g}))}noMatchError(o){return new Error(`Cannot match any routes. URL Segment: '${o.segmentGroup}'`)}createUrlTree(o,i,f){const g=o.segments.length>0?new at([],{[ft]:o}):o;return new nn(g,i,f)}expandSegmentGroup(o,i,f,g){return 0===f.segments.length&&f.hasChildren()?this.expandChildren(o,i,f).pipe((0,gt.U)(C=>new at([],C))):this.expandSegment(o,f,i,f.segments,g,!0)}expandChildren(o,i,f){const g=[];for(const C of Object.keys(f.children))"primary"===C?g.unshift(C):g.push(C);return(0,hn.D)(g).pipe(li(C=>{const I=f.children[C],M=Vc(i,C);return this.expandSegmentGroup(o,M,I,C).pipe((0,gt.U)(G=>({segment:G,outlet:C})))}),co((C,I)=>(C[I.outlet]=I.segment,C),{}),function(s,o){const i=arguments.length>=2;return f=>f.pipe(s?ii((g,C)=>s(g,C,f)):is.y,mn(1),i?Pi(o):Ba(()=>new Sr))}())}expandSegment(o,i,f,g,C,I){return(0,hn.D)(f).pipe(li(M=>this.expandSegmentAgainstRoute(o,i,f,M,g,C,I).pipe(Li(he=>{if(he instanceof T)return(0,Qe.of)(null);throw he}))),gn(M=>!!M),Li((M,G)=>{if(M instanceof Sr||"EmptyError"===M.name){if(D(i,g,C))return(0,Qe.of)(new at([],{}));throw new T(i)}throw M}))}expandSegmentAgainstRoute(o,i,f,g,C,I,M){return E(g,i,C,I)?void 0===g.redirectTo?this.matchSegmentAgainstRoute(o,i,g,C,I):M&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(o,i,f,g,C,I):O(i):O(i)}expandSegmentAgainstRouteUsingRedirect(o,i,f,g,C,I){return"**"===g.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(o,f,g,I):this.expandRegularSegmentAgainstRouteUsingRedirect(o,i,f,g,C,I)}expandWildCardWithParamsAgainstRouteUsingRedirect(o,i,f,g){const C=this.applyRedirectCommands([],f.redirectTo,{});return f.redirectTo.startsWith("/")?k(C):this.lineralizeSegments(f,C).pipe((0,tn.zg)(I=>{const M=new at(I,{});return this.expandSegment(o,M,i,I,g,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(o,i,f,g,C,I){const{matched:M,consumedSegments:G,lastChild:he,positionalParamSegments:ye}=aa(i,g,C);if(!M)return O(i);const be=this.applyRedirectCommands(G,g.redirectTo,ye);return g.redirectTo.startsWith("/")?k(be):this.lineralizeSegments(g,be).pipe((0,tn.zg)(Be=>this.expandSegment(o,i,f,Be.concat(C.slice(he)),I,!1)))}matchSegmentAgainstRoute(o,i,f,g,C){if("**"===f.path)return f.loadChildren?(f._loadedConfig?(0,Qe.of)(f._loadedConfig):this.configLoader.load(o.injector,f)).pipe((0,gt.U)(Be=>(f._loadedConfig=Be,new at(g,{})))):(0,Qe.of)(new at(g,{}));const{matched:I,consumedSegments:M,lastChild:G}=aa(i,f,g);if(!I)return O(i);const he=g.slice(G);return this.getChildConfig(o,f,g).pipe((0,tn.zg)(be=>{const Be=be.module,Le=be.routes,{segmentGroup:kt,slicedSegments:un}=gs(i,M,he,Le),Ut=new at(kt.segments,kt.children);if(0===un.length&&Ut.hasChildren())return this.expandChildren(Be,Le,Ut).pipe((0,gt.U)(mi=>new at(M,mi)));if(0===Le.length&&0===un.length)return(0,Qe.of)(new at(M,{}));const yn=vr(f)===C;return this.expandSegment(Be,Ut,Le,un,yn?ft:C,!0).pipe((0,gt.U)(Jt=>new at(M.concat(Jt.segments),Jt.children)))}))}getChildConfig(o,i,f){return i.children?(0,Qe.of)(new Yr(i.children,o)):i.loadChildren?void 0!==i._loadedConfig?(0,Qe.of)(i._loadedConfig):this.runCanLoadGuards(o.injector,i,f).pipe((0,tn.zg)(g=>{return g?this.configLoader.load(o.injector,i).pipe((0,gt.U)(C=>(i._loadedConfig=C,C))):(s=i,new gr.y(o=>o.error(Qn(`Cannot load children because the guard of the route "path: '${s.path}'" returned false`))));var s})):(0,Qe.of)(new Yr([],o))}runCanLoadGuards(o,i,f){const g=i.canLoad;if(!g||0===g.length)return(0,Qe.of)(!0);const C=g.map(I=>{const M=o.get(I);let G;if((s=M)&&di(s.canLoad))G=M.canLoad(i,f);else{if(!di(M))throw new Error("Invalid CanLoad guard");G=M(i,f)}var s;return Vn(G)});return(0,Qe.of)(C).pipe(ps(),(0,Rn.b)(I=>{if(!fi(I))return;const M=Qn(`Redirecting to "${this.urlSerializer.serialize(I)}"`);throw M.url=I,M}),(0,gt.U)(I=>!0===I))}lineralizeSegments(o,i){let f=[],g=i.root;for(;;){if(f=f.concat(g.segments),0===g.numberOfChildren)return(0,Qe.of)(f);if(g.numberOfChildren>1||!g.children[ft])return J(o.redirectTo);g=g.children[ft]}}applyRedirectCommands(o,i,f){return this.applyRedirectCreatreUrlTree(i,this.urlSerializer.parse(i),o,f)}applyRedirectCreatreUrlTree(o,i,f,g){const C=this.createSegmentGroup(o,i.root,f,g);return new nn(C,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(o,i){const f={};return In(o,(g,C)=>{if("string"==typeof g&&g.startsWith(":")){const M=g.substring(1);f[C]=i[M]}else f[C]=g}),f}createSegmentGroup(o,i,f,g){const C=this.createSegments(o,i.segments,f,g);let I={};return In(i.children,(M,G)=>{I[G]=this.createSegmentGroup(o,M,f,g)}),new at(C,I)}createSegments(o,i,f,g){return i.map(C=>C.path.startsWith(":")?this.findPosParam(o,C,g):this.findOrReturn(C,f))}findPosParam(o,i,f){const g=f[i.path.substring(1)];if(!g)throw new Error(`Cannot redirect to '${o}'. Cannot find '${i.path}'.`);return g}findOrReturn(o,i){let f=0;for(const g of i){if(g.path===o.path)return i.splice(f),g;f++}return o}}function Pe(s){const o={};for(const f of Object.keys(s.children)){const C=Pe(s.children[f]);(C.segments.length>0||C.hasChildren())&&(o[f]=C)}return function(s){if(1===s.numberOfChildren&&s.children[ft]){const o=s.children[ft];return new at(s.segments.concat(o.segments),o.children)}return s}(new at(s.segments,o))}class Wt{constructor(o){this.path=o,this.route=this.path[this.path.length-1]}}class Kn{constructor(o,i){this.component=o,this.route=i}}function ms(s,o,i){const f=s._root;return fl(f,o?o._root:null,i,[f.value])}function Wi(s,o,i){const f=function(s){if(!s)return null;for(let o=s.parent;o;o=o.parent){const i=o.routeConfig;if(i&&i._loadedConfig)return i._loadedConfig}return null}(o);return(f?f.module.injector:i).get(s)}function fl(s,o,i,f,g={canDeactivateChecks:[],canActivateChecks:[]}){const C=sa(o);return s.children.forEach(I=>{(function(s,o,i,f,g={canDeactivateChecks:[],canActivateChecks:[]}){const C=s.value,I=o?o.value:null,M=i?i.getContext(s.value.outlet):null;if(I&&C.routeConfig===I.routeConfig){const G=function(s,o,i){if("function"==typeof i)return i(s,o);switch(i){case"pathParamsChange":return!ht(s.url,o.url);case"pathParamsOrQueryParamsChange":return!ht(s.url,o.url)||!Rr(s.queryParams,o.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$i(s,o)||!Rr(s.queryParams,o.queryParams);case"paramsChange":default:return!$i(s,o)}}(I,C,C.routeConfig.runGuardsAndResolvers);G?g.canActivateChecks.push(new Wt(f)):(C.data=I.data,C._resolvedData=I._resolvedData),fl(s,o,C.component?M?M.children:null:i,f,g),G&&M&&M.outlet&&M.outlet.isActivated&&g.canDeactivateChecks.push(new Kn(M.outlet.component,I))}else I&&hl(o,M,g),g.canActivateChecks.push(new Wt(f)),fl(s,null,C.component?M?M.children:null:i,f,g)})(I,C[I.value.outlet],i,f.concat([I.value]),g),delete C[I.value.outlet]}),In(C,(I,M)=>hl(I,i.getContext(M),g)),g}function hl(s,o,i){const f=sa(s),g=s.value;In(f,(C,I)=>{hl(C,g.component?o?o.children.getContext(I):null:o,i)}),i.canDeactivateChecks.push(new Kn(g.component&&o&&o.outlet&&o.outlet.isActivated?o.outlet.component:null,g))}class Gg{}function Qr(s){return new gr.y(o=>o.error(s))}class _p{constructor(o,i,f,g,C,I){this.rootComponentType=o,this.config=i,this.urlTree=f,this.url=g,this.paramsInheritanceStrategy=C,this.relativeLinkResolution=I}recognize(){const o=gs(this.urlTree.root,[],[],this.config.filter(I=>void 0===I.redirectTo),this.relativeLinkResolution).segmentGroup,i=this.processSegmentGroup(this.config,o,ft);if(null===i)return null;const f=new nl([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ft,this.rootComponentType,null,this.urlTree.root,-1,{}),g=new Or(f,i),C=new rl(this.url,g);return this.inheritParamsAndData(C._root),C}inheritParamsAndData(o){const i=o.value,f=tl(i,this.paramsInheritanceStrategy);i.params=Object.freeze(f.params),i.data=Object.freeze(f.data),o.children.forEach(g=>this.inheritParamsAndData(g))}processSegmentGroup(o,i,f){return 0===i.segments.length&&i.hasChildren()?this.processChildren(o,i):this.processSegment(o,i,i.segments,f)}processChildren(o,i){const f=[];for(const C of Object.keys(i.children)){const I=i.children[C],M=Vc(o,C),G=this.processSegmentGroup(M,I,C);if(null===G)return null;f.push(...G)}const g=vp(f);return g.sort((o,i)=>o.value.outlet===ft?-1:i.value.outlet===ft?1:o.value.outlet.localeCompare(i.value.outlet)),g}processSegment(o,i,f,g){for(const C of o){const I=this.processSegmentAgainstRoute(C,i,f,g);if(null!==I)return I}return D(i,f,g)?[]:null}processSegmentAgainstRoute(o,i,f,g){if(o.redirectTo||!E(o,i,f,g))return null;let C,I=[],M=[];if("**"===o.path){const Le=f.length>0?bc(f).parameters:{};C=new nl(f,Le,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ep(o),vr(o),o.component,o,yp(i),Cp(i)+f.length,et(o))}else{const Le=aa(i,o,f);if(!Le.matched)return null;I=Le.consumedSegments,M=f.slice(Le.lastChild),C=new nl(I,Le.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ep(o),vr(o),o.component,o,yp(i),Cp(i)+I.length,et(o))}const G=(s=o).children?s.children:s.loadChildren?s._loadedConfig.routes:[],{segmentGroup:he,slicedSegments:ye}=gs(i,I,M,G.filter(Le=>void 0===Le.redirectTo),this.relativeLinkResolution);var s;if(0===ye.length&&he.hasChildren()){const Le=this.processChildren(G,he);return null===Le?null:[new Or(C,Le)]}if(0===G.length&&0===ye.length)return[new Or(C,[])];const be=vr(o)===g,Be=this.processSegment(G,he,ye,be?ft:g);return null===Be?null:[new Or(C,Be)]}}function Qg(s){const o=s.value.routeConfig;return o&&""===o.path&&void 0===o.redirectTo}function vp(s){const o=[],i=new Set;for(const f of s){if(!Qg(f)){o.push(f);continue}const g=o.find(C=>f.value.routeConfig===C.value.routeConfig);void 0!==g?(g.children.push(...f.children),i.add(g)):o.push(f)}for(const f of i){const g=vp(f.children);o.push(new Or(f.value,g))}return o.filter(f=>!i.has(f))}function yp(s){let o=s;for(;o._sourceSegment;)o=o._sourceSegment;return o}function Cp(s){let o=s,i=o._segmentIndexShift?o._segmentIndexShift:0;for(;o._sourceSegment;)o=o._sourceSegment,i+=o._segmentIndexShift?o._segmentIndexShift:0;return i-1}function Ep(s){return s.data||{}}function et(s){return s.resolve||{}}function Tf(s){return Kt(o=>{const i=s(o);return i?(0,hn.D)(i).pipe((0,gt.U)(()=>o)):(0,Qe.of)(o)})}class Mf extends class{shouldDetach(o){return!1}store(o,i){}shouldAttach(o){return!1}retrieve(o){return null}shouldReuseRoute(o,i){return o.routeConfig===i.routeConfig}}{}const jc=new _.OlP("ROUTES");class Hc{constructor(o,i,f,g){this.loader=o,this.compiler=i,this.onLoadStartListener=f,this.onLoadEndListener=g}load(o,i){if(i._loader$)return i._loader$;this.onLoadStartListener&&this.onLoadStartListener(i);const g=this.loadModuleFactory(i.loadChildren).pipe((0,gt.U)(C=>{this.onLoadEndListener&&this.onLoadEndListener(i);const I=C.create(o);return new Yr(Qu(I.injector.get(jc,void 0,_.XFs.Self|_.XFs.Optional)).map(dl),I)}),Li(C=>{throw i._loader$=void 0,C}));return i._loader$=new of.c(g,()=>new Oi.xQ).pipe((0,ju.x)()),i._loader$}loadModuleFactory(o){return"string"==typeof o?(0,hn.D)(this.loader.load(o)):Vn(o()).pipe((0,tn.zg)(i=>i instanceof _.YKP?(0,Qe.of)(i):(0,hn.D)(this.compiler.compileModuleAsync(i))))}}class hv{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new la,this.attachRef=null}}class la{constructor(){this.contexts=new Map}onChildOutletCreated(o,i){const f=this.getOrCreateContext(o);f.outlet=i,this.contexts.set(o,f)}onChildOutletDestroyed(o){const i=this.getContext(o);i&&(i.outlet=null)}onOutletDeactivated(){const o=this.contexts;return this.contexts=new Map,o}onOutletReAttached(o){this.contexts=o}getOrCreateContext(o){let i=this.getContext(o);return i||(i=new hv,this.contexts.set(o,i)),i}getContext(o){return this.contexts.get(o)||null}}class Mo{shouldProcessUrl(o){return!0}extract(o){return o}merge(o,i){return o}}function $c(s){throw s}function Gc(s,o,i){return o.parse("/")}function Wc(s,o){return(0,Qe.of)(null)}const gv={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Kg={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let or=(()=>{class s{constructor(i,f,g,C,I,M,G,he){this.rootComponentType=i,this.urlSerializer=f,this.rootContexts=g,this.location=C,this.config=he,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Oi.xQ,this.errorHandler=$c,this.malformedUriErrorHandler=Gc,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Wc,afterPreactivation:Wc},this.urlHandlingStrategy=new Mo,this.routeReuseStrategy=new Mf,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=I.get(_.h0i),this.console=I.get(_.c2e);const Be=I.get(_.R0b);this.isNgZoneEnabled=Be instanceof _.R0b&&_.R0b.isInAngularZone(),this.resetConfig(he),this.currentUrlTree=new nn(new at([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Hc(M,G,Le=>this.triggerEvent(new yc(Le)),Le=>this.triggerEvent(new Wu(Le))),this.routerState=Mc(this.currentUrlTree,this.rootComponentType),this.transitions=new Yn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var i;return null===(i=this.location.getState())||void 0===i?void 0:i.\u0275routerPageId}setupNavigations(i){const f=this.events;return i.pipe(ii(g=>0!==g.id),(0,gt.U)(g=>Object.assign(Object.assign({},g),{extractedUrl:this.urlHandlingStrategy.extract(g.rawUrl)})),Kt(g=>{let C=!1,I=!1;return(0,Qe.of)(g).pipe((0,Rn.b)(M=>{this.currentNavigation={id:M.id,initialUrl:M.currentRawUrl,extractedUrl:M.extractedUrl,trigger:M.source,extras:M.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Kt(M=>{const G=!this.navigated||M.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||G)&&this.urlHandlingStrategy.shouldProcessUrl(M.rawUrl))return(0,Qe.of)(M).pipe(Kt(ye=>{const be=this.transitions.getValue();return f.next(new $u(ye.id,this.serializeUrl(ye.extractedUrl),ye.source,ye.restoredState)),be!==this.transitions.getValue()?$r.E:Promise.resolve(ye)}),function(s,o,i,f){return Kt(g=>function(s,o,i,f,g){return new Ie(s,o,i,f,g).apply()}(s,o,i,g.extractedUrl,f).pipe((0,gt.U)(C=>Object.assign(Object.assign({},g),{urlAfterRedirects:C}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Rn.b)(ye=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:ye.urlAfterRedirects})}),function(s,o,i,f,g){return(0,tn.zg)(C=>function(s,o,i,f,g="emptyOnly",C="legacy"){try{const I=new _p(s,o,i,f,g,C).recognize();return null===I?Qr(new Gg):(0,Qe.of)(I)}catch(I){return Qr(I)}}(s,o,C.urlAfterRedirects,i(C.urlAfterRedirects),f,g).pipe((0,gt.U)(I=>Object.assign(Object.assign({},C),{targetSnapshot:I}))))}(this.rootComponentType,this.config,ye=>this.serializeUrl(ye),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Rn.b)(ye=>{"eager"===this.urlUpdateStrategy&&(ye.extras.skipLocationChange||this.setBrowserUrl(ye.urlAfterRedirects,ye),this.browserUrlTree=ye.urlAfterRedirects);const be=new Qa(ye.id,this.serializeUrl(ye.extractedUrl),this.serializeUrl(ye.urlAfterRedirects),ye.targetSnapshot);f.next(be)}));if(G&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:be,extractedUrl:Be,source:Le,restoredState:kt,extras:un}=M,Ut=new $u(be,this.serializeUrl(Be),Le,kt);f.next(Ut);const yn=Mc(Be,this.rootComponentType).snapshot;return(0,Qe.of)(Object.assign(Object.assign({},M),{targetSnapshot:yn,urlAfterRedirects:Be,extras:Object.assign(Object.assign({},un),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=M.rawUrl,this.browserUrlTree=M.urlAfterRedirects,M.resolve(null),$r.E}),Tf(M=>{const{targetSnapshot:G,id:he,extractedUrl:ye,rawUrl:be,extras:{skipLocationChange:Be,replaceUrl:Le}}=M;return this.hooks.beforePreactivation(G,{navigationId:he,appliedUrlTree:ye,rawUrlTree:be,skipLocationChange:!!Be,replaceUrl:!!Le})}),(0,Rn.b)(M=>{const G=new ci(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);this.triggerEvent(G)}),(0,gt.U)(M=>Object.assign(Object.assign({},M),{guards:ms(M.targetSnapshot,M.currentSnapshot,this.rootContexts)})),function(s,o){return(0,tn.zg)(i=>{const{targetSnapshot:f,currentSnapshot:g,guards:{canActivateChecks:C,canDeactivateChecks:I}}=i;return 0===I.length&&0===C.length?(0,Qe.of)(Object.assign(Object.assign({},i),{guardsResult:!0})):function(s,o,i,f){return(0,hn.D)(s).pipe((0,tn.zg)(g=>function(s,o,i,f,g){const C=o&&o.routeConfig?o.routeConfig.canDeactivate:null;if(!C||0===C.length)return(0,Qe.of)(!0);const I=C.map(M=>{const G=Wi(M,o,g);let he;if(function(s){return s&&di(s.canDeactivate)}(G))he=Vn(G.canDeactivate(s,o,i,f));else{if(!di(G))throw new Error("Invalid CanDeactivate guard");he=Vn(G(s,o,i,f))}return he.pipe(gn())});return(0,Qe.of)(I).pipe(ps())}(g.component,g.route,i,o,f)),gn(g=>!0!==g,!0))}(I,f,g,s).pipe((0,tn.zg)(M=>M&&function(s){return"boolean"==typeof s}(M)?function(s,o,i,f){return(0,hn.D)(o).pipe(li(g=>us(function(s,o){return null!==s&&o&&o(new df(s)),(0,Qe.of)(!0)}(g.route.parent,f),function(s,o){return null!==s&&o&&o(new Cc(s)),(0,Qe.of)(!0)}(g.route,f),function(s,o,i){const f=o[o.length-1],C=o.slice(0,o.length-1).reverse().map(I=>function(s){const o=s.routeConfig?s.routeConfig.canActivateChild:null;return o&&0!==o.length?{node:s,guards:o}:null}(I)).filter(I=>null!==I).map(I=>Co(()=>{const M=I.guards.map(G=>{const he=Wi(G,I.node,i);let ye;if(function(s){return s&&di(s.canActivateChild)}(he))ye=Vn(he.canActivateChild(f,s));else{if(!di(he))throw new Error("Invalid CanActivateChild guard");ye=Vn(he(f,s))}return ye.pipe(gn())});return(0,Qe.of)(M).pipe(ps())}));return(0,Qe.of)(C).pipe(ps())}(s,g.path,i),function(s,o,i){const f=o.routeConfig?o.routeConfig.canActivate:null;if(!f||0===f.length)return(0,Qe.of)(!0);const g=f.map(C=>Co(()=>{const I=Wi(C,o,i);let M;if(function(s){return s&&di(s.canActivate)}(I))M=Vn(I.canActivate(o,s));else{if(!di(I))throw new Error("Invalid CanActivate guard");M=Vn(I(o,s))}return M.pipe(gn())}));return(0,Qe.of)(g).pipe(ps())}(s,g.route,i))),gn(g=>!0!==g,!0))}(f,C,s,o):(0,Qe.of)(M)),(0,gt.U)(M=>Object.assign(Object.assign({},i),{guardsResult:M})))})}(this.ngModule.injector,M=>this.triggerEvent(M)),(0,Rn.b)(M=>{if(fi(M.guardsResult)){const he=Qn(`Redirecting to "${this.serializeUrl(M.guardsResult)}"`);throw he.url=M.guardsResult,he}const G=new Vi(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot,!!M.guardsResult);this.triggerEvent(G)}),ii(M=>!!M.guardsResult||(this.restoreHistory(M),this.cancelNavigationTransition(M,""),!1)),Tf(M=>{if(M.guards.canActivateChecks.length)return(0,Qe.of)(M).pipe((0,Rn.b)(G=>{const he=new vc(G.id,this.serializeUrl(G.extractedUrl),this.serializeUrl(G.urlAfterRedirects),G.targetSnapshot);this.triggerEvent(he)}),Kt(G=>{let he=!1;return(0,Qe.of)(G).pipe(function(s,o){return(0,tn.zg)(i=>{const{targetSnapshot:f,guards:{canActivateChecks:g}}=i;if(!g.length)return(0,Qe.of)(i);let C=0;return(0,hn.D)(g).pipe(li(I=>function(s,o,i,f){return function(s,o,i,f){const g=Object.keys(s);if(0===g.length)return(0,Qe.of)({});const C={};return(0,hn.D)(g).pipe((0,tn.zg)(I=>function(s,o,i,f){const g=Wi(s,o,f);return Vn(g.resolve?g.resolve(o,i):g(o,i))}(s[I],o,i,f).pipe((0,Rn.b)(M=>{C[I]=M}))),mn(1),(0,tn.zg)(()=>Object.keys(C).length===g.length?(0,Qe.of)(C):$r.E))}(s._resolve,s,o,f).pipe((0,gt.U)(C=>(s._resolvedData=C,s.data=Object.assign(Object.assign({},s.data),tl(s,i).resolve),null)))}(I.route,f,s,o)),(0,Rn.b)(()=>C++),mn(1),(0,tn.zg)(I=>C===g.length?(0,Qe.of)(i):$r.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Rn.b)({next:()=>he=!0,complete:()=>{he||(this.restoreHistory(G),this.cancelNavigationTransition(G,"At least one route resolver didn't emit any value."))}}))}),(0,Rn.b)(G=>{const he=new cf(G.id,this.serializeUrl(G.extractedUrl),this.serializeUrl(G.urlAfterRedirects),G.targetSnapshot);this.triggerEvent(he)}))}),Tf(M=>{const{targetSnapshot:G,id:he,extractedUrl:ye,rawUrl:be,extras:{skipLocationChange:Be,replaceUrl:Le}}=M;return this.hooks.afterPreactivation(G,{navigationId:he,appliedUrlTree:ye,rawUrlTree:be,skipLocationChange:!!Be,replaceUrl:!!Le})}),(0,gt.U)(M=>{const G=function(s,o,i){const f=ou(s,o._root,i?i._root:void 0);return new Sc(f,o)}(this.routeReuseStrategy,M.targetSnapshot,M.currentRouterState);return Object.assign(Object.assign({},M),{targetRouterState:G})}),(0,Rn.b)(M=>{this.currentUrlTree=M.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,M.rawUrl),this.routerState=M.targetRouterState,"deferred"===this.urlUpdateStrategy&&(M.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,M),this.browserUrlTree=M.urlAfterRedirects)}),((s,o,i)=>(0,gt.U)(f=>(new Ao(o,f.targetRouterState,f.currentRouterState,i).activate(s),f)))(this.rootContexts,this.routeReuseStrategy,M=>this.triggerEvent(M)),(0,Rn.b)({next(){C=!0},complete(){C=!0}}),function(s){return o=>o.lift(new Hu(s))}(()=>{if(!C&&!I){const M=`Navigation ID ${g.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(g),this.cancelNavigationTransition(g,M)):this.cancelNavigationTransition(g,M)}this.currentNavigation=null}),Li(M=>{if(I=!0,function(s){return s&&s[Eo]}(M)){const G=fi(M.url);G||(this.navigated=!0,this.restoreHistory(g,!0));const he=new _c(g.id,this.serializeUrl(g.extractedUrl),M.message);f.next(he),G?setTimeout(()=>{const ye=this.urlHandlingStrategy.merge(M.url,this.rawUrlTree);this.scheduleNavigation(ye,"imperative",null,{skipLocationChange:g.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:g.resolve,reject:g.reject,promise:g.promise})},0):g.resolve(!1)}else{this.restoreHistory(g,!0);const G=new Gu(g.id,this.serializeUrl(g.extractedUrl),M);f.next(G);try{g.resolve(this.errorHandler(M))}catch(he){g.reject(he)}}return $r.E}))}))}resetRootComponentType(i){this.rootComponentType=i,this.routerState.root.component=this.rootComponentType}getTransition(){const i=this.transitions.value;return i.urlAfterRedirects=this.browserUrlTree,i}setTransition(i){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),i))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(i=>{const f=this.extractLocationChangeInfoFromEvent(i);this.shouldScheduleNavigation(this.lastLocationChangeInfo,f)&&setTimeout(()=>{const{source:g,state:C,urlTree:I}=f,M={replaceUrl:!0};if(C){const G=Object.assign({},C);delete G.navigationId,delete G.\u0275routerPageId,0!==Object.keys(G).length&&(M.state=G)}this.scheduleNavigation(I,g,C,M)},0),this.lastLocationChangeInfo=f}))}extractLocationChangeInfoFromEvent(i){var f;return{source:"popstate"===i.type?"popstate":"hashchange",urlTree:this.parseUrl(i.url),state:(null===(f=i.state)||void 0===f?void 0:f.navigationId)?i.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(i,f){if(!i)return!0;const g=f.urlTree.toString()===i.urlTree.toString();return f.transitionId!==i.transitionId||!g||!("hashchange"===f.source&&"popstate"===i.source||"popstate"===f.source&&"hashchange"===i.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(i){this.events.next(i)}resetConfig(i){uu(i),this.config=i.map(dl),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(i,f={}){const{relativeTo:g,queryParams:C,fragment:I,queryParamsHandling:M,preserveFragment:G}=f,he=g||this.routerState.root,ye=G?this.currentUrlTree.fragment:I;let be=null;switch(M){case"merge":be=Object.assign(Object.assign({},this.currentUrlTree.queryParams),C);break;case"preserve":be=this.currentUrlTree.queryParams;break;default:be=C||null}return null!==be&&(be=this.removeEmptyProps(be)),function(s,o,i,f,g){if(0===i.length)return ol(o.root,o.root,o,f,g);const C=function(s){if("string"==typeof s[0]&&1===s.length&&"/"===s[0])return new al(!0,0,s);let o=0,i=!1;const f=s.reduce((g,C,I)=>{if("object"==typeof C&&null!=C){if(C.outlets){const M={};return In(C.outlets,(G,he)=>{M[he]="string"==typeof G?G.split("/"):G}),[...g,{outlets:M}]}if(C.segmentPath)return[...g,C.segmentPath]}return"string"!=typeof C?[...g,C]:0===I?(C.split("/").forEach((M,G)=>{0==G&&"."===M||(0==G&&""===M?i=!0:".."===M?o++:""!=M&&g.push(M))}),g):[...g,C]},[]);return new al(i,o,f)}(i);if(C.toRoot())return ol(o.root,new at([],{}),o,f,g);const I=function(s,o,i){if(s.isAbsolute)return new au(o.root,!0,0);if(-1===i.snapshot._lastPathIndex){const C=i.snapshot._urlSegment;return new au(C,C===o.root,0)}const f=Tn(s.commands[0])?0:1;return function(s,o,i){let f=s,g=o,C=i;for(;C>g;){if(C-=g,f=f.parent,!f)throw new Error("Invalid number of '../'");g=f.segments.length}return new au(f,!1,g-C)}(i.snapshot._urlSegment,i.snapshot._lastPathIndex+f,s.numberOfDoubleDots)}(C,o,s),M=I.processChildren?ir(I.segmentGroup,I.index,C.commands):Io(I.segmentGroup,I.index,C.commands);return ol(I.segmentGroup,M,o,f,g)}(he,this.currentUrlTree,i,be,null!=ye?ye:null)}navigateByUrl(i,f={skipLocationChange:!1}){const g=fi(i)?i:this.parseUrl(i),C=this.urlHandlingStrategy.merge(g,this.rawUrlTree);return this.scheduleNavigation(C,"imperative",null,f)}navigate(i,f={skipLocationChange:!1}){return function(s){for(let o=0;o<s.length;o++){const i=s[o];if(null==i)throw new Error(`The requested path contains ${i} segment at index ${o}`)}}(i),this.navigateByUrl(this.createUrlTree(i,f),f)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){let f;try{f=this.urlSerializer.parse(i)}catch(g){f=this.malformedUriErrorHandler(g,this.urlSerializer,i)}return f}isActive(i,f){let g;if(g=!0===f?Object.assign({},gv):!1===f?Object.assign({},Kg):f,fi(i))return gf(this.currentUrlTree,i,g);const C=this.parseUrl(i);return gf(this.currentUrlTree,C,g)}removeEmptyProps(i){return Object.keys(i).reduce((f,g)=>{const C=i[g];return null!=C&&(f[g]=C),f},{})}processNavigations(){this.navigations.subscribe(i=>{this.navigated=!0,this.lastSuccessfulId=i.id,this.currentPageId=i.targetPageId,this.events.next(new cs(i.id,this.serializeUrl(i.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,i.resolve(!0)},i=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(i,f,g,C,I){var M,G;if(this.disposed)return Promise.resolve(!1);const he=this.getTransition(),ye="imperative"!==f&&"imperative"===(null==he?void 0:he.source),Le=(this.lastSuccessfulId===he.id||this.currentNavigation?he.rawUrl:he.urlAfterRedirects).toString()===i.toString();if(ye&&Le)return Promise.resolve(!0);let kt,un,Ut;I?(kt=I.resolve,un=I.reject,Ut=I.promise):Ut=new Promise((Jt,mi)=>{kt=Jt,un=mi});const yn=++this.navigationId;let rn;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(g=this.location.getState()),rn=g&&g.\u0275routerPageId?g.\u0275routerPageId:C.replaceUrl||C.skipLocationChange?null!==(M=this.browserPageId)&&void 0!==M?M:0:(null!==(G=this.browserPageId)&&void 0!==G?G:0)+1):rn=0,this.setTransition({id:yn,targetPageId:rn,source:f,restoredState:g,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:i,extras:C,resolve:kt,reject:un,promise:Ut,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ut.catch(Jt=>Promise.reject(Jt))}setBrowserUrl(i,f){const g=this.urlSerializer.serialize(i),C=Object.assign(Object.assign({},f.extras.state),this.generateNgRouterState(f.id,f.targetPageId));this.location.isCurrentPathEqualTo(g)||f.extras.replaceUrl?this.location.replaceState(g,"",C):this.location.go(g,"",C)}restoreHistory(i,f=!1){var g,C;if("computed"===this.canceledNavigationResolution){const I=this.currentPageId-i.targetPageId;"popstate"!==i.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(g=this.currentNavigation)||void 0===g?void 0:g.finalUrl)||0===I?this.currentUrlTree===(null===(C=this.currentNavigation)||void 0===C?void 0:C.finalUrl)&&0===I&&(this.resetState(i),this.browserUrlTree=i.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(I)}else"replace"===this.canceledNavigationResolution&&(f&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=i.currentRouterState,this.currentUrlTree=i.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(i,f){const g=new _c(i.id,this.serializeUrl(i.extractedUrl),f);this.triggerEvent(g),i.resolve(!1)}generateNgRouterState(i,f){return"computed"===this.canceledNavigationResolution?{navigationId:i,\u0275routerPageId:f}:{navigationId:i}}}return s.\u0275fac=function(i){return new(i||s)(_.LFG(_.DyG),_.LFG(Ja),_.LFG(la),_.LFG(De),_.LFG(_.zs3),_.LFG(_.v3s),_.LFG(_.Sil),_.LFG(void 0))},s.\u0275prov=_.Yz7({token:s,factory:s.\u0275fac}),s})(),zc=(()=>{class s{constructor(i,f,g){this.router=i,this.route=f,this.locationStrategy=g,this.commands=[],this.onChanges=new Oi.xQ,this.subscription=i.events.subscribe(C=>{C instanceof cs&&this.updateTargetUrlAndHref()})}set routerLink(i){this.commands=null!=i?Array.isArray(i)?i:[i]:[]}ngOnChanges(i){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(i,f,g,C,I){if(0!==i||f||g||C||I||"string"==typeof this.target&&"_self"!=this.target)return!0;const M={skipLocationChange:ca(this.skipLocationChange),replaceUrl:ca(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,M),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ca(this.preserveFragment)})}}return s.\u0275fac=function(i){return new(i||s)(_.Y36(or),_.Y36(Hi),_.Y36(Ae))},s.\u0275dir=_.lG2({type:s,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(i,f){1&i&&_.NdJ("click",function(C){return f.onClick(C.button,C.ctrlKey,C.shiftKey,C.altKey,C.metaKey)}),2&i&&(_.Ikx("href",f.href,_.LSH),_.uIk("target",f.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[_.TTD]}),s})();function ca(s){return""===s||!!s}let pl=(()=>{class s{constructor(i,f,g,C,I){this.parentContexts=i,this.location=f,this.resolver=g,this.changeDetector=I,this.activated=null,this._activatedRoute=null,this.activateEvents=new _.vpe,this.deactivateEvents=new _.vpe,this.name=C||ft,i.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const i=this.parentContexts.getContext(this.name);i&&i.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const i=this.activated;return this.activated=null,this._activatedRoute=null,i}attach(i,f){this.activated=i,this._activatedRoute=f,this.location.insert(i.hostView)}deactivate(){if(this.activated){const i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,f){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=i;const I=(f=f||this.resolver).resolveComponentFactory(i._futureSnapshot.routeConfig.component),M=this.parentContexts.getOrCreateContext(this.name).children,G=new _v(i,M,this.location.injector);this.activated=this.location.createComponent(I,this.location.length,G),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return s.\u0275fac=function(i){return new(i||s)(_.Y36(la),_.Y36(_.s_b),_.Y36(_._Vd),_.$8M("name"),_.Y36(_.sBO))},s.\u0275dir=_.lG2({type:s,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),s})();class _v{constructor(o,i,f){this.route=o,this.childContexts=i,this.parent=f}get(o,i){return o===Hi?this.route:o===la?this.childContexts:this.parent.get(o,i)}}class Jg{}class Xg{preload(o,i){return(0,Qe.of)(null)}}let em=(()=>{class s{constructor(i,f,g,C,I){this.router=i,this.injector=C,this.preloadingStrategy=I,this.loader=new Hc(f,g,he=>i.triggerEvent(new yc(he)),he=>i.triggerEvent(new Wu(he)))}setUpPreloading(){this.subscription=this.router.events.pipe(ii(i=>i instanceof cs),li(()=>this.preload())).subscribe(()=>{})}preload(){const i=this.injector.get(_.h0i);return this.processRoutes(i,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,f){const g=[];for(const C of f)if(C.loadChildren&&!C.canLoad&&C._loadedConfig){const I=C._loadedConfig;g.push(this.processRoutes(I.module,I.routes))}else C.loadChildren&&!C.canLoad?g.push(this.preloadConfig(i,C)):C.children&&g.push(this.processRoutes(i,C.children));return(0,hn.D)(g).pipe((0,zr.J)(),(0,gt.U)(C=>{}))}preloadConfig(i,f){return this.preloadingStrategy.preload(f,()=>(f._loadedConfig?(0,Qe.of)(f._loadedConfig):this.loader.load(i.injector,f)).pipe((0,tn.zg)(C=>(f._loadedConfig=C,this.processRoutes(C.module,C.routes)))))}}return s.\u0275fac=function(i){return new(i||s)(_.LFG(or),_.LFG(_.v3s),_.LFG(_.Sil),_.LFG(_.zs3),_.LFG(Jg))},s.\u0275prov=_.Yz7({token:s,factory:s.\u0275fac}),s})(),Ap=(()=>{class s{constructor(i,f,g={}){this.router=i,this.viewportScroller=f,this.options=g,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},g.scrollPositionRestoration=g.scrollPositionRestoration||"disabled",g.anchorScrolling=g.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(i=>{i instanceof $u?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof cs&&(this.lastId=i.id,this.scheduleScrollEvent(i,this.router.parseUrl(i.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(i=>{i instanceof Yu&&(i.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(i.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,f){this.router.triggerEvent(new Yu(i,"popstate"===this.lastSource?this.store[this.restoredId]:null,f))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return s.\u0275fac=function(i){return new(i||s)(_.LFG(or),_.LFG(St),_.LFG(void 0))},s.\u0275prov=_.Yz7({token:s,factory:s.\u0275fac}),s})();const cu=new _.OlP("ROUTER_CONFIGURATION"),tm=new _.OlP("ROUTER_FORROOT_GUARD"),Cv=[De,{provide:Ja,useClass:ia},{provide:or,useFactory:function(s,o,i,f,g,C,I,M={},G,he){const ye=new or(null,s,o,i,f,g,C,Qu(I));return G&&(ye.urlHandlingStrategy=G),he&&(ye.routeReuseStrategy=he),function(s,o){s.errorHandler&&(o.errorHandler=s.errorHandler),s.malformedUriErrorHandler&&(o.malformedUriErrorHandler=s.malformedUriErrorHandler),s.onSameUrlNavigation&&(o.onSameUrlNavigation=s.onSameUrlNavigation),s.paramsInheritanceStrategy&&(o.paramsInheritanceStrategy=s.paramsInheritanceStrategy),s.relativeLinkResolution&&(o.relativeLinkResolution=s.relativeLinkResolution),s.urlUpdateStrategy&&(o.urlUpdateStrategy=s.urlUpdateStrategy)}(M,ye),M.enableTracing&&ye.events.subscribe(be=>{var Be,Le;null===(Be=console.group)||void 0===Be||Be.call(console,`Router Event: ${be.constructor.name}`),console.log(be.toString()),console.log(be),null===(Le=console.groupEnd)||void 0===Le||Le.call(console)}),ye},deps:[Ja,la,De,_.zs3,_.v3s,_.Sil,jc,cu,[class{},new _.FiY],[class{},new _.FiY]]},la,{provide:Hi,useFactory:function(s){return s.routerState.root},deps:[or]},{provide:_.v3s,useClass:_.EAV},em,Xg,class{preload(o,i){return i().pipe(Li(()=>(0,Qe.of)(null)))}},{provide:cu,useValue:{enableTracing:!1}}];function _s(){return new _.PXZ("Router",or)}let Yc=(()=>{class s{constructor(i,f){}static forRoot(i,f){return{ngModule:s,providers:[Cv,Of(i),{provide:tm,useFactory:xf,deps:[[or,new _.FiY,new _.tp0]]},{provide:cu,useValue:f||{}},{provide:Ae,useFactory:Tp,deps:[K,[new _.tBr(Ce),new _.FiY],cu]},{provide:Ap,useFactory:nm,deps:[or,St,cu]},{provide:Jg,useExisting:f&&f.preloadingStrategy?f.preloadingStrategy:Xg},{provide:_.PXZ,multi:!0,useFactory:_s},[Qc,{provide:_.ip1,multi:!0,useFactory:im,deps:[Qc]},{provide:qc,useFactory:Ev,deps:[Qc]},{provide:_.tb,multi:!0,useExisting:qc}]]}}static forChild(i){return{ngModule:s,providers:[Of(i)]}}}return s.\u0275fac=function(i){return new(i||s)(_.LFG(tm,8),_.LFG(or,8))},s.\u0275mod=_.oAB({type:s}),s.\u0275inj=_.cJS({}),s})();function nm(s,o,i){return i.scrollOffset&&o.setOffset(i.scrollOffset),new Ap(s,o,i)}function Tp(s,o,i={}){return i.useHash?new ze(s,o):new Te(s,o)}function xf(s){return"guarded"}function Of(s){return[{provide:_.deG,multi:!0,useValue:s},{provide:jc,multi:!0,useValue:s}]}let Qc=(()=>{class s{constructor(i){this.injector=i,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Oi.xQ}appInitializer(){return this.injector.get(P,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let f=null;const g=new Promise(M=>f=M),C=this.injector.get(or),I=this.injector.get(cu);return"disabled"===I.initialNavigation?(C.setUpLocationChangeListener(),f(!0)):"enabled"===I.initialNavigation||"enabledBlocking"===I.initialNavigation?(C.hooks.afterPreactivation=()=>this.initNavigation?(0,Qe.of)(null):(this.initNavigation=!0,f(!0),this.resultOfPreactivationDone),C.initialNavigation()):f(!0),g})}bootstrapListener(i){const f=this.injector.get(cu),g=this.injector.get(em),C=this.injector.get(Ap),I=this.injector.get(or),M=this.injector.get(_.z2F);i===M.components[0]&&(("enabledNonBlocking"===f.initialNavigation||void 0===f.initialNavigation)&&I.initialNavigation(),g.setUpPreloading(),C.init(),I.resetRootComponentType(M.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return s.\u0275fac=function(i){return new(i||s)(_.LFG(_.zs3))},s.\u0275prov=_.Yz7({token:s,factory:s.\u0275fac}),s})();function im(s){return s.appInitializer.bind(s)}function Ev(s){return s.bootstrapListener.bind(s)}const qc=new _.OlP("Router Initializer");var am=F(1555);function ys(s,o){return new gr.y(i=>{const f=s.length;if(0===f)return void i.complete();const g=new Array(f);let C=0,I=0;for(let M=0;M<f;M++){const G=(0,hn.D)(s[M]);let he=!1;i.add(G.subscribe({next:ye=>{he||(he=!0,I++),g[M]=ye},error:ye=>i.error(ye),complete:()=>{C++,(C===f||!he)&&(I===f&&i.next(o?o.reduce((ye,be,Be)=>(ye[be]=g[Be],ye),{}):g),i.complete())}}))}})}let da=(()=>{class s{constructor(i,f){this._renderer=i,this._elementRef=f,this.onChange=g=>{},this.onTouched=()=>{}}setProperty(i,f){this._renderer.setProperty(this._elementRef.nativeElement,i,f)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}}return s.\u0275fac=function(i){return new(i||s)(_.Y36(_.Qsj),_.Y36(_.SBq))},s.\u0275dir=_.lG2({type:s}),s})(),Ro=(()=>{class s extends da{}return s.\u0275fac=function(){let o;return function(f){return(o||(o=_.n5z(s)))(f||s)}}(),s.\u0275dir=_.lG2({type:s,features:[_.qOj]}),s})();const sr=new _.OlP("NgValueAccessor"),lm={provide:sr,useExisting:(0,_.Gpc)(()=>du),multi:!0},Mp=new _.OlP("CompositionEventMode");let du=(()=>{class s extends da{constructor(i,f,g){super(i,f),this._compositionMode=g,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const s=A()?A().getUserAgent():"";return/android (\d+)/.test(s.toLowerCase())}())}writeValue(i){this.setProperty("value",null==i?"":i)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}}return s.\u0275fac=function(i){return new(i||s)(_.Y36(_.Qsj),_.Y36(_.SBq),_.Y36(Mp,8))},s.\u0275dir=_.lG2({type:s,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,f){1&i&&_.NdJ("input",function(C){return f._handleInput(C.target.value)})("blur",function(){return f.onTouched()})("compositionstart",function(){return f._compositionStart()})("compositionend",function(C){return f._compositionEnd(C.target.value)})},features:[_._Bn([lm]),_.qOj]}),s})();function zi(s){return null==s||0===s.length}function Pf(s){return null!=s&&"number"==typeof s.length}const Sn=new _.OlP("NgValidators"),Cs=new _.OlP("NgAsyncValidators"),Rp=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class xp{static min(o){return s=o,o=>{if(zi(o.value)||zi(s))return null;const i=parseFloat(o.value);return!isNaN(i)&&i<s?{min:{min:s,actual:o.value}}:null};var s}static max(o){return s=o,o=>{if(zi(o.value)||zi(s))return null;const i=parseFloat(o.value);return!isNaN(i)&&i>s?{max:{max:s,actual:o.value}}:null};var s}static required(o){return Op(o)}static requiredTrue(o){return!0===o.value?null:{required:!0}}static email(o){return zi((s=o).value)||Rp.test(s.value)?null:{email:!0};var s}static minLength(o){return s=o,o=>zi(o.value)||!Pf(o.value)?null:o.value.length<s?{minlength:{requiredLength:s,actualLength:o.value.length}}:null;var s}static maxLength(o){return s=o,o=>Pf(o.value)&&o.value.length>s?{maxlength:{requiredLength:s,actualLength:o.value.length}}:null;var s}static pattern(o){return function(s){if(!s)return Es;let o,i;return"string"==typeof s?(i="","^"!==s.charAt(0)&&(i+="^"),i+=s,"$"!==s.charAt(s.length-1)&&(i+="$"),o=new RegExp(i)):(i=s.toString(),o=s),f=>{if(zi(f.value))return null;const g=f.value;return o.test(g)?null:{pattern:{requiredPattern:i,actualValue:g}}}}(o)}static nullValidator(o){return null}static compose(o){return Bf(o)}static composeAsync(o){return kp(o)}}function Op(s){return zi(s.value)?{required:!0}:null}function Es(s){return null}function cm(s){return null!=s}function dm(s){const o=(0,_.QGY)(s)?(0,hn.D)(s):s;return(0,_.CqO)(o),o}function Vf(s){let o={};return s.forEach(i=>{o=null!=i?Object.assign(Object.assign({},o),i):o}),0===Object.keys(o).length?null:o}function fm(s,o){return o.map(i=>i(s))}function Kc(s){return s.map(o=>function(s){return!s.validate}(o)?o:i=>o.validate(i))}function Bf(s){if(!s)return null;const o=s.filter(cm);return 0==o.length?null:function(i){return Vf(fm(i,o))}}function Uf(s){return null!=s?Bf(Kc(s)):null}function kp(s){if(!s)return null;const o=s.filter(cm);return 0==o.length?null:function(i){return function(...s){if(1===s.length){const o=s[0];if((0,Js.k)(o))return ys(o,null);if((0,am.K)(o)&&Object.getPrototypeOf(o)===Object.prototype){const i=Object.keys(o);return ys(i.map(f=>o[f]),i)}}if("function"==typeof s[s.length-1]){const o=s.pop();return ys(s=1===s.length&&(0,Js.k)(s[0])?s[0]:s,null).pipe((0,gt.U)(i=>o(...i)))}return ys(s,null)}(fm(i,o).map(dm)).pipe((0,gt.U)(Vf))}}function jf(s){return null!=s?kp(Kc(s)):null}function Hf(s,o){return null===s?[o]:Array.isArray(s)?[...s,o]:[s,o]}function Lp(s){return s._rawValidators}function $f(s){return s._rawAsyncValidators}function Gf(s){return s?Array.isArray(s)?s:[s]:[]}function Zc(s,o){return Array.isArray(s)?s.includes(o):s===o}function Wf(s,o){const i=Gf(o);return Gf(s).forEach(g=>{Zc(i,g)||i.push(g)}),i}function zf(s,o){return Gf(o).filter(i=>!Zc(s,i))}let Vp=(()=>{class s{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(i){this._rawValidators=i||[],this._composedValidatorFn=Uf(this._rawValidators)}_setAsyncValidators(i){this._rawAsyncValidators=i||[],this._composedAsyncValidatorFn=jf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(i){this._onDestroyCallbacks.push(i)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(i=>i()),this._onDestroyCallbacks=[]}reset(i){this.control&&this.control.reset(i)}hasError(i,f){return!!this.control&&this.control.hasError(i,f)}getError(i,f){return this.control?this.control.getError(i,f):null}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275dir=_.lG2({type:s}),s})(),Zt=(()=>{class s extends Vp{get formDirective(){return null}get path(){return null}}return s.\u0275fac=function(){let o;return function(f){return(o||(o=_.n5z(s)))(f||s)}}(),s.\u0275dir=_.lG2({type:s,features:[_.qOj]}),s})();class Yi extends Vp{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Bp{constructor(o){this._cd=o}is(o){var i,f,g;return"submitted"===o?!!(null===(i=this._cd)||void 0===i?void 0:i.submitted):!!(null===(g=null===(f=this._cd)||void 0===f?void 0:f.control)||void 0===g?void 0:g[o])}}let Yf=(()=>{class s extends Bp{constructor(i){super(i)}}return s.\u0275fac=function(i){return new(i||s)(_.Y36(Yi,2))},s.\u0275dir=_.lG2({type:s,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,f){2&i&&_.ekj("ng-untouched",f.is("untouched"))("ng-touched",f.is("touched"))("ng-pristine",f.is("pristine"))("ng-dirty",f.is("dirty"))("ng-valid",f.is("valid"))("ng-invalid",f.is("invalid"))("ng-pending",f.is("pending"))},features:[_.qOj]}),s})(),Qf=(()=>{class s extends Bp{constructor(i){super(i)}}return s.\u0275fac=function(i){return new(i||s)(_.Y36(Zt,10))},s.\u0275dir=_.lG2({type:s,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,f){2&i&&_.ekj("ng-untouched",f.is("untouched"))("ng-touched",f.is("touched"))("ng-pristine",f.is("pristine"))("ng-dirty",f.is("dirty"))("ng-valid",f.is("valid"))("ng-invalid",f.is("invalid"))("ng-pending",f.is("pending"))("ng-submitted",f.is("submitted"))},features:[_.qOj]}),s})();function ml(s,o){Kf(s,o),o.valueAccessor.writeValue(s.value),function(s,o){o.valueAccessor.registerOnChange(i=>{s._pendingValue=i,s._pendingChange=!0,s._pendingDirty=!0,"change"===s.updateOn&&jp(s,o)})}(s,o),function(s,o){const i=(f,g)=>{o.valueAccessor.writeValue(f),g&&o.viewToModelUpdate(f)};s.registerOnChange(i),o._registerOnDestroy(()=>{s._unregisterOnChange(i)})}(s,o),function(s,o){o.valueAccessor.registerOnTouched(()=>{s._pendingTouched=!0,"blur"===s.updateOn&&s._pendingChange&&jp(s,o),"submit"!==s.updateOn&&s.markAsTouched()})}(s,o),function(s,o){if(o.valueAccessor.setDisabledState){const i=f=>{o.valueAccessor.setDisabledState(f)};s.registerOnDisabledChange(i),o._registerOnDestroy(()=>{s._unregisterOnDisabledChange(i)})}}(s,o)}function Jc(s,o,i=!0){const f=()=>{};o.valueAccessor&&(o.valueAccessor.registerOnChange(f),o.valueAccessor.registerOnTouched(f)),hu(s,o),s&&(o._invokeOnDestroyCallbacks(),s._registerOnCollectionChange(()=>{}))}function ha(s,o){s.forEach(i=>{i.registerOnValidatorChange&&i.registerOnValidatorChange(o)})}function Kf(s,o){const i=Lp(s);null!==o.validator?s.setValidators(Hf(i,o.validator)):"function"==typeof i&&s.setValidators([i]);const f=$f(s);null!==o.asyncValidator?s.setAsyncValidators(Hf(f,o.asyncValidator)):"function"==typeof f&&s.setAsyncValidators([f]);const g=()=>s.updateValueAndValidity();ha(o._rawValidators,g),ha(o._rawAsyncValidators,g)}function hu(s,o){let i=!1;if(null!==s){if(null!==o.validator){const g=Lp(s);if(Array.isArray(g)&&g.length>0){const C=g.filter(I=>I!==o.validator);C.length!==g.length&&(i=!0,s.setValidators(C))}}if(null!==o.asyncValidator){const g=$f(s);if(Array.isArray(g)&&g.length>0){const C=g.filter(I=>I!==o.asyncValidator);C.length!==g.length&&(i=!0,s.setAsyncValidators(C))}}}const f=()=>{};return ha(o._rawValidators,f),ha(o._rawAsyncValidators,f),i}function jp(s,o){s._pendingDirty&&s.markAsDirty(),s.setValue(s._pendingValue,{emitModelToViewChange:!1}),o.viewToModelUpdate(s._pendingValue),s._pendingChange=!1}function Xc(s,o){Kf(s,o)}function Jf(s,o){s._syncPendingControls(),o.forEach(i=>{const f=i.control;"submit"===f.updateOn&&f._pendingChange&&(i.viewToModelUpdate(f._pendingValue),f._pendingChange=!1)})}function Kr(s,o){const i=s.indexOf(o);i>-1&&s.splice(i,1)}const _l="VALID",nd="INVALID",vl="PENDING",Qi="DISABLED";function pa(s){return(id(s)?s.validators:s)||null}function pu(s){return Array.isArray(s)?Uf(s):s||null}function eh(s,o){return(id(o)?o.asyncValidators:s)||null}function rd(s){return Array.isArray(s)?jf(s):s||null}function id(s){return null!=s&&!Array.isArray(s)&&"object"==typeof s}class th{constructor(o,i){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=o,this._rawAsyncValidators=i,this._composedValidatorFn=pu(this._rawValidators),this._composedAsyncValidatorFn=rd(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(o){this._rawValidators=this._composedValidatorFn=o}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(o){this._rawAsyncValidators=this._composedAsyncValidatorFn=o}get parent(){return this._parent}get valid(){return this.status===_l}get invalid(){return this.status===nd}get pending(){return this.status==vl}get disabled(){return this.status===Qi}get enabled(){return this.status!==Qi}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(o){this._rawValidators=o,this._composedValidatorFn=pu(o)}setAsyncValidators(o){this._rawAsyncValidators=o,this._composedAsyncValidatorFn=rd(o)}addValidators(o){this.setValidators(Wf(o,this._rawValidators))}addAsyncValidators(o){this.setAsyncValidators(Wf(o,this._rawAsyncValidators))}removeValidators(o){this.setValidators(zf(o,this._rawValidators))}removeAsyncValidators(o){this.setAsyncValidators(zf(o,this._rawAsyncValidators))}hasValidator(o){return Zc(this._rawValidators,o)}hasAsyncValidator(o){return Zc(this._rawAsyncValidators,o)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(o={}){this.touched=!0,this._parent&&!o.onlySelf&&this._parent.markAsTouched(o)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(o=>o.markAllAsTouched())}markAsUntouched(o={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0})}),this._parent&&!o.onlySelf&&this._parent._updateTouched(o)}markAsDirty(o={}){this.pristine=!1,this._parent&&!o.onlySelf&&this._parent.markAsDirty(o)}markAsPristine(o={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(i=>{i.markAsPristine({onlySelf:!0})}),this._parent&&!o.onlySelf&&this._parent._updatePristine(o)}markAsPending(o={}){this.status=vl,!1!==o.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!o.onlySelf&&this._parent.markAsPending(o)}disable(o={}){const i=this._parentMarkedDirty(o.onlySelf);this.status=Qi,this.errors=null,this._forEachChild(f=>{f.disable(Object.assign(Object.assign({},o),{onlySelf:!0}))}),this._updateValue(),!1!==o.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},o),{skipPristineCheck:i})),this._onDisabledChange.forEach(f=>f(!0))}enable(o={}){const i=this._parentMarkedDirty(o.onlySelf);this.status=_l,this._forEachChild(f=>{f.enable(Object.assign(Object.assign({},o),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:o.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},o),{skipPristineCheck:i})),this._onDisabledChange.forEach(f=>f(!1))}_updateAncestors(o){this._parent&&!o.onlySelf&&(this._parent.updateValueAndValidity(o),o.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(o){this._parent=o}updateValueAndValidity(o={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===_l||this.status===vl)&&this._runAsyncValidator(o.emitEvent)),!1!==o.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!o.onlySelf&&this._parent.updateValueAndValidity(o)}_updateTreeValidity(o={emitEvent:!0}){this._forEachChild(i=>i._updateTreeValidity(o)),this.updateValueAndValidity({onlySelf:!0,emitEvent:o.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Qi:_l}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(o){if(this.asyncValidator){this.status=vl,this._hasOwnPendingAsyncValidator=!0;const i=dm(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(f=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(f,{emitEvent:o})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(o,i={}){this.errors=o,this._updateControlsErrors(!1!==i.emitEvent)}get(o){return function(s,o,i){if(null==o||(Array.isArray(o)||(o=o.split(".")),Array.isArray(o)&&0===o.length))return null;let f=s;return o.forEach(g=>{f=f instanceof yl?f.controls.hasOwnProperty(g)?f.controls[g]:null:f instanceof Cl&&f.at(g)||null}),f}(this,o)}getError(o,i){const f=i?this.get(i):this;return f&&f.errors?f.errors[o]:null}hasError(o,i){return!!this.getError(o,i)}get root(){let o=this;for(;o._parent;)o=o._parent;return o}_updateControlsErrors(o){this.status=this._calculateStatus(),o&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(o)}_initObservables(){this.valueChanges=new _.vpe,this.statusChanges=new _.vpe}_calculateStatus(){return this._allControlsDisabled()?Qi:this.errors?nd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(vl)?vl:this._anyControlsHaveStatus(nd)?nd:_l}_anyControlsHaveStatus(o){return this._anyControls(i=>i.status===o)}_anyControlsDirty(){return this._anyControls(o=>o.dirty)}_anyControlsTouched(){return this._anyControls(o=>o.touched)}_updatePristine(o={}){this.pristine=!this._anyControlsDirty(),this._parent&&!o.onlySelf&&this._parent._updatePristine(o)}_updateTouched(o={}){this.touched=this._anyControlsTouched(),this._parent&&!o.onlySelf&&this._parent._updateTouched(o)}_isBoxedValue(o){return"object"==typeof o&&null!==o&&2===Object.keys(o).length&&"value"in o&&"disabled"in o}_registerOnCollectionChange(o){this._onCollectionChange=o}_setUpdateStrategy(o){id(o)&&null!=o.updateOn&&(this._updateOn=o.updateOn)}_parentMarkedDirty(o){return!o&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ga extends th{constructor(o=null,i,f){super(pa(i),eh(f,i)),this._onChange=[],this._applyFormState(o),this._setUpdateStrategy(i),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(o,i={}){this.value=this._pendingValue=o,this._onChange.length&&!1!==i.emitModelToViewChange&&this._onChange.forEach(f=>f(this.value,!1!==i.emitViewToModelChange)),this.updateValueAndValidity(i)}patchValue(o,i={}){this.setValue(o,i)}reset(o=null,i={}){this._applyFormState(o),this.markAsPristine(i),this.markAsUntouched(i),this.setValue(this.value,i),this._pendingChange=!1}_updateValue(){}_anyControls(o){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(o){this._onChange.push(o)}_unregisterOnChange(o){Kr(this._onChange,o)}registerOnDisabledChange(o){this._onDisabledChange.push(o)}_unregisterOnDisabledChange(o){Kr(this._onDisabledChange,o)}_forEachChild(o){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(o){this._isBoxedValue(o)?(this.value=this._pendingValue=o.value,o.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=o}}class yl extends th{constructor(o,i,f){super(pa(i),eh(f,i)),this.controls=o,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(o,i){return this.controls[o]?this.controls[o]:(this.controls[o]=i,i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange),i)}addControl(o,i,f={}){this.registerControl(o,i),this.updateValueAndValidity({emitEvent:f.emitEvent}),this._onCollectionChange()}removeControl(o,i={}){this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),delete this.controls[o],this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}setControl(o,i,f={}){this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),delete this.controls[o],i&&this.registerControl(o,i),this.updateValueAndValidity({emitEvent:f.emitEvent}),this._onCollectionChange()}contains(o){return this.controls.hasOwnProperty(o)&&this.controls[o].enabled}setValue(o,i={}){this._checkAllValuesPresent(o),Object.keys(o).forEach(f=>{this._throwIfControlMissing(f),this.controls[f].setValue(o[f],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(o,i={}){null!=o&&(Object.keys(o).forEach(f=>{this.controls[f]&&this.controls[f].patchValue(o[f],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(o={},i={}){this._forEachChild((f,g)=>{f.reset(o[g],{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this._reduceChildren({},(o,i,f)=>(o[f]=i instanceof ga?i.value:i.getRawValue(),o))}_syncPendingControls(){let o=this._reduceChildren(!1,(i,f)=>!!f._syncPendingControls()||i);return o&&this.updateValueAndValidity({onlySelf:!0}),o}_throwIfControlMissing(o){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[o])throw new Error(`Cannot find form control with name: ${o}.`)}_forEachChild(o){Object.keys(this.controls).forEach(i=>{const f=this.controls[i];f&&o(f,i)})}_setUpControls(){this._forEachChild(o=>{o.setParent(this),o._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(o){for(const i of Object.keys(this.controls)){const f=this.controls[i];if(this.contains(i)&&o(f))return!0}return!1}_reduceValue(){return this._reduceChildren({},(o,i,f)=>((i.enabled||this.disabled)&&(o[f]=i.value),o))}_reduceChildren(o,i){let f=o;return this._forEachChild((g,C)=>{f=i(f,g,C)}),f}_allControlsDisabled(){for(const o of Object.keys(this.controls))if(this.controls[o].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(o){this._forEachChild((i,f)=>{if(void 0===o[f])throw new Error(`Must supply a value for form control with name: '${f}'.`)})}}class Cl extends th{constructor(o,i,f){super(pa(i),eh(f,i)),this.controls=o,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(o){return this.controls[o]}push(o,i={}){this.controls.push(o),this._registerControl(o),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}insert(o,i,f={}){this.controls.splice(o,0,i),this._registerControl(i),this.updateValueAndValidity({emitEvent:f.emitEvent})}removeAt(o,i={}){this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),this.updateValueAndValidity({emitEvent:i.emitEvent})}setControl(o,i,f={}){this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),i&&(this.controls.splice(o,0,i),this._registerControl(i)),this.updateValueAndValidity({emitEvent:f.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(o,i={}){this._checkAllValuesPresent(o),o.forEach((f,g)=>{this._throwIfControlMissing(g),this.at(g).setValue(f,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(o,i={}){null!=o&&(o.forEach((f,g)=>{this.at(g)&&this.at(g).patchValue(f,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(o=[],i={}){this._forEachChild((f,g)=>{f.reset(o[g],{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this.controls.map(o=>o instanceof ga?o.value:o.getRawValue())}clear(o={}){this.controls.length<1||(this._forEachChild(i=>i._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:o.emitEvent}))}_syncPendingControls(){let o=this.controls.reduce((i,f)=>!!f._syncPendingControls()||i,!1);return o&&this.updateValueAndValidity({onlySelf:!0}),o}_throwIfControlMissing(o){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(o))throw new Error(`Cannot find form control at index ${o}`)}_forEachChild(o){this.controls.forEach((i,f)=>{o(i,f)})}_updateValue(){this.value=this.controls.filter(o=>o.enabled||this.disabled).map(o=>o.value)}_anyControls(o){return this.controls.some(i=>i.enabled&&o(i))}_setUpControls(){this._forEachChild(o=>this._registerControl(o))}_checkAllValuesPresent(o){this._forEachChild((i,f)=>{if(void 0===o[f])throw new Error(`Must supply a value for form control at index: ${f}.`)})}_allControlsDisabled(){for(const o of this.controls)if(o.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(o){o.setParent(this),o._registerOnCollectionChange(this._onCollectionChange)}}const mm={provide:Zt,useExisting:(0,_.Gpc)(()=>xo)},gu=(()=>Promise.resolve(null))();let xo=(()=>{class s extends Zt{constructor(i,f){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new _.vpe,this.form=new yl({},Uf(i),jf(f))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(i){gu.then(()=>{const f=this._findContainer(i.path);i.control=f.registerControl(i.name,i.control),ml(i.control,i),i.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(i)})}getControl(i){return this.form.get(i.path)}removeControl(i){gu.then(()=>{const f=this._findContainer(i.path);f&&f.removeControl(i.name),Kr(this._directives,i)})}addFormGroup(i){gu.then(()=>{const f=this._findContainer(i.path),g=new yl({});Xc(g,i),f.registerControl(i.name,g),g.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(i){gu.then(()=>{const f=this._findContainer(i.path);f&&f.removeControl(i.name)})}getFormGroup(i){return this.form.get(i.path)}updateModel(i,f){gu.then(()=>{this.form.get(i.path).setValue(f)})}setValue(i){this.control.setValue(i)}onSubmit(i){return this.submitted=!0,Jf(this.form,this._directives),this.ngSubmit.emit(i),!1}onReset(){this.resetForm()}resetForm(i){this.form.reset(i),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(i){return i.pop(),i.length?this.form.get(i):this.form}}return s.\u0275fac=function(i){return new(i||s)(_.Y36(Sn,10),_.Y36(Cs,10))},s.\u0275dir=_.lG2({type:s,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,f){1&i&&_.NdJ("submit",function(C){return f.onSubmit(C)})("reset",function(){return f.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[_._Bn([mm]),_.qOj]}),s})(),Yp=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275dir=_.lG2({type:s,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),s})(),Cm=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=_.oAB({type:s}),s.\u0275inj=_.cJS({}),s})();const oh=new _.OlP("NgModelWithFormControlWarning"),qp={provide:Zt,useExisting:(0,_.Gpc)(()=>El)};let El=(()=>{class s extends Zt{constructor(i,f){super(),this.validators=i,this.asyncValidators=f,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new _.vpe,this._setValidators(i),this._setAsyncValidators(f)}ngOnChanges(i){this._checkFormPresent(),i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(hu(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){const f=this.form.get(i.path);return ml(f,i),f.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),f}getControl(i){return this.form.get(i.path)}removeControl(i){Jc(i.control||null,i,!1),Kr(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,f){this.form.get(i.path).setValue(f)}onSubmit(i){return this.submitted=!0,Jf(this.form,this.directives),this.ngSubmit.emit(i),!1}onReset(){this.resetForm()}resetForm(i){this.form.reset(i),this.submitted=!1}_updateDomValue(){this.directives.forEach(i=>{const f=i.control,g=this.form.get(i.path);f!==g&&(Jc(f||null,i),g instanceof ga&&(ml(g,i),i.control=g))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){const f=this.form.get(i.path);Xc(f,i),f.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){const f=this.form.get(i.path);f&&function(s,o){return hu(s,o)}(f,i)&&f.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Kf(this.form,this),this._oldForm&&hu(this._oldForm,this)}_checkFormPresent(){}}return s.\u0275fac=function(i){return new(i||s)(_.Y36(Sn,10),_.Y36(Cs,10))},s.\u0275dir=_.lG2({type:s,selectors:[["","formGroup",""]],hostBindings:function(i,f){1&i&&_.NdJ("submit",function(C){return f.onSubmit(C)})("reset",function(){return f.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[_._Bn([qp]),_.qOj,_.TTD]}),s})();const Zp={provide:Yi,useExisting:(0,_.Gpc)(()=>ad)};let ad=(()=>{class s extends Yi{constructor(i,f,g,C,I){super(),this._ngModelWarningConfig=I,this._added=!1,this.update=new _.vpe,this._ngModelWarningSent=!1,this._parent=i,this._setValidators(f),this._setAsyncValidators(g),this.valueAccessor=function(s,o){if(!o)return null;let i,f,g;return Array.isArray(o),o.forEach(C=>{C.constructor===du?i=C:function(s){return Object.getPrototypeOf(s.constructor)===Ro}(C)?f=C:g=C}),g||f||i||null}(0,C)}set isDisabled(i){}ngOnChanges(i){this._added||this._setUpControl(),function(s,o){if(!s.hasOwnProperty("model"))return!1;const i=s.model;return!!i.isFirstChange()||!Object.is(o,i.currentValue)}(i,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}get path(){return function(s,o){return[...o.path,s]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return s.\u0275fac=function(i){return new(i||s)(_.Y36(Zt,13),_.Y36(Sn,10),_.Y36(Cs,10),_.Y36(sr,10),_.Y36(oh,8))},s.\u0275dir=_.lG2({type:s,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[_._Bn([Zp]),_.qOj,_.TTD]}),s._ngModelWarningSentOnce=!1,s})();const Mv={provide:Sn,useExisting:(0,_.Gpc)(()=>ph),multi:!0};let ph=(()=>{class s{constructor(){this._required=!1}get required(){return this._required}set required(i){this._required=null!=i&&!1!==i&&"false"!=`${i}`,this._onChange&&this._onChange()}validate(i){return this.required?Op(i):null}registerOnValidatorChange(i){this._onChange=i}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275dir=_.lG2({type:s,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,f){2&i&&_.uIk("required",f.required?"":null)},inputs:{required:"required"},features:[_._Bn([Mv])]}),s})(),ig=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=_.oAB({type:s}),s.\u0275inj=_.cJS({imports:[[Cm]]}),s})(),Pm=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=_.oAB({type:s}),s.\u0275inj=_.cJS({imports:[ig]}),s})(),og=(()=>{class s{static withConfig(i){return{ngModule:s,providers:[{provide:oh,useValue:i.warnOnNgModelWithFormControl}]}}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=_.oAB({type:s}),s.\u0275inj=_.cJS({imports:[ig]}),s})(),km=(()=>{class s{group(i,f=null){const g=this._reduceControls(i);let M,C=null,I=null;return null!=f&&(function(s){return void 0!==s.asyncValidators||void 0!==s.validators||void 0!==s.updateOn}(f)?(C=null!=f.validators?f.validators:null,I=null!=f.asyncValidators?f.asyncValidators:null,M=null!=f.updateOn?f.updateOn:void 0):(C=null!=f.validator?f.validator:null,I=null!=f.asyncValidator?f.asyncValidator:null)),new yl(g,{asyncValidators:I,updateOn:M,validators:C})}control(i,f,g){return new ga(i,f,g)}array(i,f,g){const C=i.map(I=>this._createControl(I));return new Cl(C,f,g)}_reduceControls(i){const f={};return Object.keys(i).forEach(g=>{f[g]=this._createControl(i[g])}),f}_createControl(i){return i instanceof ga||i instanceof yl||i instanceof Cl?i:Array.isArray(i)?this.control(i[0],i.length>1?i[1]:null,i.length>2?i[2]:null):this.control(i)}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=(0,_.Yz7)({factory:function(){return new s},token:s,providedIn:og}),s})();function mu(s,o){1&s&&(_.TgZ(0,"div",17),_._uU(1,"Please fill out the form."),_.qZA())}function sg(s,o){1&s&&(_.TgZ(0,"div",17),_._uU(1,"Email Address is required."),_.qZA())}function gi(s,o){1&s&&(_.TgZ(0,"div",17),_._uU(1,"Email Address's format incorrect."),_.qZA())}function bl(s,o){if(1&s&&(_.TgZ(0,"div"),_.YNc(1,sg,2,0,"div",7),_.YNc(2,gi,2,0,"div",7),_.qZA()),2&s){const i=_.oxw();_.xp6(1),_.Q6J("ngIf",i.emailaddress.errors.required),_.xp6(1),_.Q6J("ngIf",i.emailaddress.errors.email)}}function Lm(s,o){1&s&&(_.TgZ(0,"div",17),_._uU(1,"Email Address is required."),_.qZA())}function Vm(s,o){if(1&s&&(_.TgZ(0,"div"),_.YNc(1,Lm,2,0,"div",7),_.qZA()),2&s){const i=_.oxw();_.xp6(1),_.Q6J("ngIf",i.getpassword.errors.required)}}const Dl=[{path:"",component:(()=>{class s{constructor(i,f){this.fAuth=i,this.fb=f,this.email="",this.password="",this.form=f.group({email:["",[xp.required,xp.email]],password:["",[xp.required]]})}ngOnInit(){}login(){this.fAuth.signInWithEmailAndPassword(this.email,this.password).then(i=>{console.log(i)}).catch(i=>{console.log(i.message)})}get emailaddress(){return this.form.get("email")}get getpassword(){return this.form.get("password")}}return s.\u0275fac=function(i){return new(i||s)(_.Y36(ss),_.Y36(km))},s.\u0275cmp=_.Xpm({type:s,selectors:[["app-home-page"]],decls:29,vars:5,consts:[["rel","preconnect","href","https://fonts.googleapis.com"],["rel","preconnect","href","https://fonts.gstatic.com","crossorigin",""],["href","https://fonts.googleapis.com/css2?family=Sora:wght@300&display=swap","rel","stylesheet"],[1,"container"],[1,"title"],[1,"login"],[3,"formGroup"],["class","alert alert-danger",4,"ngIf"],["type","email","name","email","id","","formControlName","email","placeholder","Email Address","required","",1,"icon-email"],[4,"ngIf"],["type","password","name","password","id","","placeholder","Password","formControlName","password","required",""],[1,"special"],["routerLink","/register",1,"new-user"],["href","",1,"forgot-password"],[3,"disabled","click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 1440 320"],["fill","#f3f4f5","fill-opacity","1","d","M0,160L40,186.7C80,213,160,267,240,250.7C320,235,400,149,480,101.3C560,53,640,43,720,69.3C800,96,880,160,960,165.3C1040,171,1120,117,1200,85.3C1280,53,1360,43,1400,37.3L1440,32L1440,320L1400,320C1360,320,1280,320,1200,320C1120,320,1040,320,960,320C880,320,800,320,720,320C640,320,560,320,480,320C400,320,320,320,240,320C160,320,80,320,40,320L0,320Z"],[1,"alert","alert-danger"]],template:function(i,f){1&i&&(_._UZ(0,"link",0),_._UZ(1,"link",1),_._UZ(2,"link",2),_.TgZ(3,"body"),_.TgZ(4,"div",3),_.TgZ(5,"div",4),_.TgZ(6,"h1"),_._uU(7," UMP Supply Chain "),_._UZ(8,"br"),_._uU(9," Management System "),_.qZA(),_.qZA(),_.TgZ(10,"div",5),_.TgZ(11,"h3"),_._uU(12,"User Login"),_.qZA(),_.TgZ(13,"form",6),_.YNc(14,mu,2,0,"div",7),_.TgZ(15,"div"),_._UZ(16,"input",8),_.YNc(17,bl,3,2,"div",9),_.qZA(),_._UZ(18,"input",10),_.YNc(19,Vm,2,1,"div",9),_.TgZ(20,"div",11),_.TgZ(21,"a",12),_._uU(22,"New User? Create one!"),_.qZA(),_.TgZ(23,"a",13),_._uU(24,"Forgot Password?"),_.qZA(),_.qZA(),_.TgZ(25,"button",14),_.NdJ("click",function(){return f.login()}),_._uU(26,"Login"),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.O4$(),_.TgZ(27,"svg",15),_._UZ(28,"path",16),_.qZA(),_.qZA()),2&i&&(_.xp6(13),_.Q6J("formGroup",f.form),_.xp6(1),_.Q6J("ngIf",f.form.errors),_.xp6(3),_.Q6J("ngIf",f.emailaddress.touched&&f.emailaddress.invalid),_.xp6(2),_.Q6J("ngIf",f.getpassword.touched&&f.getpassword.invalid),_.xp6(6),_.Q6J("disabled",f.form.invalid))},directives:[Yp,Qf,El,Dt,du,Yf,ad,ph,zc],styles:['body[_ngcontent-%COMP%]{background-color:#7395ae;font-family:"Sora",sans-serif}.container[_ngcontent-%COMP%]{height:100vh;display:flex;color:#fff;justify-content:space-around;align-items:center;flex-grow:0;z-index:999}.login[_ngcontent-%COMP%]{background:#b1a296;padding:20px 40px 20px 20px;margin-left:5%;margin-right:5%;flex-grow:0;border-radius:4px;box-shadow:11px 11px 3px -4px #5d5c61bf;-webkit-box-shadow:11px 11px 3px -4px rgba(93,92,97,.75);-moz-box-shadow:11px 11px 3px -4px rgba(93,92,97,.75);z-index:999}.vl[_ngcontent-%COMP%]{height:300px;border-left:1px solid grey;position:absolute;left:50%}.title[_ngcontent-%COMP%]{text-shadow:4px 4px 2px #5d5c61;z-index:999}input[_ngcontent-%COMP%]{display:block;padding:5px;width:100%;border-radius:4px!important;border:none;margin:10px auto}input[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #159ce466}.special[_ngcontent-%COMP%]{font-size:12px;display:flex;justify-content:space-around;align-items:center}.new-user[_ngcontent-%COMP%]{margin-right:10px}.forgot-password[_ngcontent-%COMP%]{margin-right:10px}a[_ngcontent-%COMP%]:hover{color:#505055}a[_ngcontent-%COMP%]{margin:2px 15px 10px;color:#fff;text-decoration:none}button[_ngcontent-%COMP%]{display:block;margin:10px 10px 25px;padding:10px;width:100%;border-radius:4px;border:none;background-color:#5d5c61;color:#fff;transition:all .2s ease-in}button[_ngcontent-%COMP%]:hover{background:#505055}svg[_ngcontent-%COMP%]{position:absolute;bottom:0;z-index:22}@media (max-width: 420px){.container[_ngcontent-%COMP%]{height:100vh;display:flex;color:#fff;justify-content:center;align-content:center;flex-grow:0;flex-wrap:wrap;z-index:999}h1[_ngcontent-%COMP%]{text-align:center}}']}),s})()},{path:"register",component:(()=>{class s{constructor(){}ngOnInit(){}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=_.Xpm({type:s,selectors:[["app-register-page"]],decls:23,vars:0,consts:[["rel","preconnect","href","https://fonts.googleapis.com"],["rel","preconnect","href","https://fonts.gstatic.com","crossorigin",""],["href","https://fonts.googleapis.com/css2?family=Sora:wght@300&display=swap","rel","stylesheet"],[1,"container"],[1,"title"],[1,"registration"],["action",""],["type","text","name","","id","","placeholder","Email Address",1,"icon-email"],["type","password","name","","id","","placeholder","Password"],[1,"special"],["routerLink","/",1,"new-user"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 1440 320"],["fill","#f3f4f5","fill-opacity","1","d","M0,160L40,186.7C80,213,160,267,240,250.7C320,235,400,149,480,101.3C560,53,640,43,720,69.3C800,96,880,160,960,165.3C1040,171,1120,117,1200,85.3C1280,53,1360,43,1400,37.3L1440,32L1440,320L1400,320C1360,320,1280,320,1200,320C1120,320,1040,320,960,320C880,320,800,320,720,320C640,320,560,320,480,320C400,320,320,320,240,320C160,320,80,320,40,320L0,320Z"]],template:function(i,f){1&i&&(_._UZ(0,"link",0),_._UZ(1,"link",1),_._UZ(2,"link",2),_.TgZ(3,"body"),_.TgZ(4,"div",3),_.TgZ(5,"div",4),_.TgZ(6,"h1"),_._uU(7," UMP Supply Chain "),_._UZ(8,"br"),_._uU(9," Management System "),_.qZA(),_.qZA(),_.TgZ(10,"div",5),_.TgZ(11,"h3"),_._uU(12,"Sign Up"),_.qZA(),_.TgZ(13,"form",6),_._UZ(14,"input",7),_._UZ(15,"input",8),_.TgZ(16,"div",9),_.TgZ(17,"a",10),_._uU(18,"Already Registered? Login Now!"),_.qZA(),_.qZA(),_.TgZ(19,"button"),_._uU(20,"Sign Up"),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.O4$(),_.TgZ(21,"svg",11),_._UZ(22,"path",12),_.qZA(),_.qZA())},directives:[Yp,Qf,xo,zc],styles:['body[_ngcontent-%COMP%]{background-color:#7395ae;font-family:"Sora",sans-serif}.container[_ngcontent-%COMP%]{height:100vh;display:flex;color:#fff;justify-content:space-around;align-items:center;flex-grow:0;z-index:999}.registration[_ngcontent-%COMP%]{background:#b1a296;padding:20px 40px 20px 20px;margin-left:5%;margin-right:5%;flex-grow:0;border-radius:4px;box-shadow:11px 11px 3px -4px #5d5c61bf;-webkit-box-shadow:11px 11px 3px -4px rgba(93,92,97,.75);-moz-box-shadow:11px 11px 3px -4px rgba(93,92,97,.75);z-index:999;width:295px}.vl[_ngcontent-%COMP%]{height:300px;border-left:1px solid grey;position:absolute;left:50%}.title[_ngcontent-%COMP%]{text-shadow:4px 4px 2px #5d5c61;z-index:999}input[_ngcontent-%COMP%]{display:block;padding:5px;width:100%;border-radius:4px!important;border:none;margin:10px auto}input[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #159ce466}.special[_ngcontent-%COMP%]{font-size:12px;display:flex;justify-content:space-around;align-items:center}.new-user[_ngcontent-%COMP%]{margin-right:10px}.forgot-password[_ngcontent-%COMP%]{margin-right:10px}a[_ngcontent-%COMP%]:hover{color:#505055}a[_ngcontent-%COMP%]{margin:2px 15px 10px;color:#fff;text-decoration:none}button[_ngcontent-%COMP%]{display:block;margin:10px 10px 25px;padding:10px;width:100%;border-radius:4px;border:none;background-color:#5d5c61;color:#fff;transition:all .2s ease-in}button[_ngcontent-%COMP%]:hover{background:#505055}svg[_ngcontent-%COMP%]{position:absolute;bottom:0;z-index:22}@media (max-width: 420px){.container[_ngcontent-%COMP%]{height:100vh;display:flex;color:#fff;justify-content:center;align-content:center;flex-grow:0;flex-wrap:wrap;z-index:999}h1[_ngcontent-%COMP%]{text-align:center}}']}),s})()}];let Zn=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=_.oAB({type:s}),s.\u0275inj=_.cJS({imports:[[Yc.forRoot(Dl)],Yc]}),s})(),va=(()=>{class s{constructor(){this.title="UMPCafeSupplyChainManagementSystem"}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=_.Xpm({type:s,selectors:[["app-root"]],decls:1,vars:0,template:function(i,f){1&i&&_._UZ(0,"router-outlet")},directives:[pl],styles:[""]}),s})(),ld=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=_.oAB({type:s,bootstrap:[va]}),s.\u0275inj=_.cJS({providers:[],imports:[[Wd,Zn,Gt.hO.initializeApp(Fa_firebase),Wr,Pm,og]]}),s})();(0,_.G48)(),Ri().bootstrapModule(ld).catch(s=>console.error(s))},4762:(Ne,me,F)=>{"use strict";F.d(me,{ZT:()=>ie,pi:()=>A,mG:()=>K,Jh:()=>z,XA:()=>N,CR:()=>U,ev:()=>ce});var _=function(ee,ne){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(re,X){re.__proto__=X}||function(re,X){for(var pe in X)Object.prototype.hasOwnProperty.call(X,pe)&&(re[pe]=X[pe])})(ee,ne)};function ie(ee,ne){if("function"!=typeof ne&&null!==ne)throw new TypeError("Class extends value "+String(ne)+" is not a constructor or null");function re(){this.constructor=ee}_(ee,ne),ee.prototype=null===ne?Object.create(ne):(re.prototype=ne.prototype,new re)}var A=function(){return(A=Object.assign||function(ne){for(var re,X=1,pe=arguments.length;X<pe;X++)for(var te in re=arguments[X])Object.prototype.hasOwnProperty.call(re,te)&&(ne[te]=re[te]);return ne}).apply(this,arguments)};function K(ee,ne,re,X){return new(re||(re=Promise))(function(te,je){function He(Fe){try{Ve(X.next(Fe))}catch(Me){je(Me)}}function Rt(Fe){try{Ve(X.throw(Fe))}catch(Me){je(Me)}}function Ve(Fe){Fe.done?te(Fe.value):function(te){return te instanceof re?te:new re(function(je){je(te)})}(Fe.value).then(He,Rt)}Ve((X=X.apply(ee,ne||[])).next())})}function z(ee,ne){var X,pe,te,je,re={label:0,sent:function(){if(1&te[0])throw te[1];return te[1]},trys:[],ops:[]};return je={next:He(0),throw:He(1),return:He(2)},"function"==typeof Symbol&&(je[Symbol.iterator]=function(){return this}),je;function He(Ve){return function(Fe){return function(Ve){if(X)throw new TypeError("Generator is already executing.");for(;re;)try{if(X=1,pe&&(te=2&Ve[0]?pe.return:Ve[0]?pe.throw||((te=pe.return)&&te.call(pe),0):pe.next)&&!(te=te.call(pe,Ve[1])).done)return te;switch(pe=0,te&&(Ve=[2&Ve[0],te.value]),Ve[0]){case 0:case 1:te=Ve;break;case 4:return re.label++,{value:Ve[1],done:!1};case 5:re.label++,pe=Ve[1],Ve=[0];continue;case 7:Ve=re.ops.pop(),re.trys.pop();continue;default:if(!(te=(te=re.trys).length>0&&te[te.length-1])&&(6===Ve[0]||2===Ve[0])){re=0;continue}if(3===Ve[0]&&(!te||Ve[1]>te[0]&&Ve[1]<te[3])){re.label=Ve[1];break}if(6===Ve[0]&&re.label<te[1]){re.label=te[1],te=Ve;break}if(te&&re.label<te[2]){re.label=te[2],re.ops.push(Ve);break}te[2]&&re.ops.pop(),re.trys.pop();continue}Ve=ne.call(ee,re)}catch(Fe){Ve=[6,Fe],pe=0}finally{X=te=0}if(5&Ve[0])throw Ve[1];return{value:Ve[0]?Ve[1]:void 0,done:!0}}([Ve,Fe])}}}function N(ee){var ne="function"==typeof Symbol&&Symbol.iterator,re=ne&&ee[ne],X=0;if(re)return re.call(ee);if(ee&&"number"==typeof ee.length)return{next:function(){return ee&&X>=ee.length&&(ee=void 0),{value:ee&&ee[X++],done:!ee}}};throw new TypeError(ne?"Object is not iterable.":"Symbol.iterator is not defined.")}function U(ee,ne){var re="function"==typeof Symbol&&ee[Symbol.iterator];if(!re)return ee;var pe,je,X=re.call(ee),te=[];try{for(;(void 0===ne||ne-- >0)&&!(pe=X.next()).done;)te.push(pe.value)}catch(He){je={error:He}}finally{try{pe&&!pe.done&&(re=X.return)&&re.call(X)}finally{if(je)throw je.error}}return te}function ce(ee,ne,re){if(re||2===arguments.length)for(var te,X=0,pe=ne.length;X<pe;X++)(te||!(X in ne))&&(te||(te=Array.prototype.slice.call(ne,0,X)),te[X]=ne[X]);return ee.concat(te||Array.prototype.slice.call(ne))}}},Ne=>{Ne(Ne.s=546)}]);