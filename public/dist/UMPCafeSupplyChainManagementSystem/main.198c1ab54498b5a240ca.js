var eme=Object.defineProperty,tme=Object.defineProperties,nme=Object.getOwnPropertyDescriptors,EV=Object.getOwnPropertySymbols,ime=Object.prototype.hasOwnProperty,rme=Object.prototype.propertyIsEnumerable,DV=(Ut,kt,Ae)=>kt in Ut?eme(Ut,kt,{enumerable:!0,configurable:!0,writable:!0,value:Ae}):Ut[kt]=Ae,JF=(Ut,kt)=>{for(var Ae in kt||(kt={}))ime.call(kt,Ae)&&DV(Ut,Ae,kt[Ae]);if(EV)for(var Ae of EV(kt))rme.call(kt,Ae)&&DV(Ut,Ae,kt[Ae]);return Ut},KF=(Ut,kt)=>tme(Ut,nme(kt));(self.webpackChunkumpcafe_supply_chain_management_system=self.webpackChunkumpcafe_supply_chain_management_system||[]).push([[179],{8255:Ut=>{function kt(Ae){return Promise.resolve().then(()=>{var o=new Error("Cannot find module '"+Ae+"'");throw o.code="MODULE_NOT_FOUND",o})}kt.keys=()=>[],kt.resolve=kt,kt.id=8255,Ut.exports=kt},7716:(Ut,kt,Ae)=>{"use strict";Ae.d(kt,{deG:()=>li,tb:()=>H0,AFp:()=>bC,ip1:()=>iS,CZH:()=>lv,hGG:()=>YP,z2F:()=>hv,sBO:()=>WE,Sil:()=>yb,_Vd:()=>R_,EJc:()=>$_,SBq:()=>$m,qLn:()=>sp,vpe:()=>Ta,gxx:()=>wf,tBr:()=>Vo,XFs:()=>wi,OlP:()=>Io,zs3:()=>Te,ZZ4:()=>j1,aQg:()=>Xx,soG:()=>Qs,YKP:()=>hT,v3s:()=>SA,h0i:()=>lb,PXZ:()=>qr,R0b:()=>bp,FiY:()=>Za,Lbi:()=>pA,g9A:()=>Sa,n_E:()=>F0,Qsj:()=>y2,FYo:()=>T0,JOm:()=>Yu,Tiy:()=>sT,q3G:()=>Ds,tp0:()=>Oa,EAV:()=>EA,Rgc:()=>ew,dDg:()=>bA,DyG:()=>U,q4F:()=>Yg,GfV:()=>oT,s_b:()=>cb,ifc:()=>jn,eFA:()=>dS,Ez6:()=>xo,G48:()=>SP,Gpc:()=>Mt,f3M:()=>Kr,X6Q:()=>Cw,_c5:()=>PP,VLi:()=>cS,c2e:()=>rS,zSh:()=>Jc,wAp:()=>Br,vHH:()=>Gt,EiD:()=>es,mCW:()=>Zl,qzn:()=>Hp,JVY:()=>Pu,pB0:()=>hy,eBb:()=>Ic,L6k:()=>Sm,LAX:()=>i_,cg1:()=>z1,Tjo:()=>IP,kL8:()=>g0,yhl:()=>dy,dqk:()=>ws,sIi:()=>Oo,CqO:()=>Nc,QGY:()=>Dx,F4k:()=>Si,RDi:()=>Xa,AaK:()=>Me,z3N:()=>bh,qOj:()=>Ma,TTD:()=>Ji,_Bn:()=>yp,xp6:()=>Ub,uIk:()=>wx,Tol:()=>Fx,Gre:()=>R1,ekj:()=>Rx,Suo:()=>ZD,Xpm:()=>at,lG2:()=>jt,Yz7:()=>kr,cJS:()=>ss,oAB:()=>Bt,Yjl:()=>en,Y36:()=>u0,_UZ:()=>TM,GkF:()=>pi,BQk:()=>Ln,ynx:()=>fp,qZA:()=>Wv,TgZ:()=>S1,EpF:()=>dm,n5z:()=>Rp,Ikx:()=>UM,LFG:()=>Hi,$8M:()=>gh,NdJ:()=>qv,CRH:()=>GD,kcU:()=>Dr,O4$:()=>Ei,oxw:()=>kM,ALo:()=>Xl,lcZ:()=>H_,xi3:()=>HT,Hsn:()=>EM,F$t:()=>$v,Q6J:()=>M1,s9C:()=>Nh,MGl:()=>Ys,DdM:()=>FT,VKq:()=>NT,WLB:()=>PD,kEZ:()=>OD,l5B:()=>RD,qbA:()=>FD,HTZ:()=>sC,Hh0:()=>oC,rFY:()=>zT,iGM:()=>lC,MAs:()=>Se,pYS:()=>qf,CHM:()=>Wh,oJD:()=>Ch,LSH:()=>Vd,kYT:()=>Pt,Akn:()=>pm,Udp:()=>Ox,WFA:()=>Ax,d8E:()=>xd,YNc:()=>H,W1O:()=>rv,_uU:()=>Bx,Oqu:()=>Yy,hij:()=>I1,AsE:()=>L1,xDo:()=>P1,Gf:()=>ZT});var o=Ae(9765),$=Ae(5319),ee=Ae(7574),x=Ae(6682),de=Ae(8819);function Ce(u){for(let d in u)if(u[d]===Ce)return d;throw Error("Could not find renamed property on target object.")}function Ee(u,d){for(const g in d)d.hasOwnProperty(g)&&!u.hasOwnProperty(g)&&(u[g]=d[g])}function Me(u){if("string"==typeof u)return u;if(Array.isArray(u))return"["+u.map(Me).join(", ")+"]";if(null==u)return""+u;if(u.overriddenName)return`${u.overriddenName}`;if(u.name)return`${u.name}`;const d=u.toString();if(null==d)return""+d;const g=d.indexOf("\n");return-1===g?d:d.substring(0,g)}function Be(u,d){return null==u||""===u?null===d?"":d:null==d||""===d?u:u+" "+d}const Ge=Ce({__forward_ref__:Ce});function Mt(u){return u.__forward_ref__=Mt,u.toString=function(){return Me(this())},u}function ft(u){return Lt(u)?u():u}function Lt(u){return"function"==typeof u&&u.hasOwnProperty(Ge)&&u.__forward_ref__===Mt}class Gt extends Error{constructor(d,g){super(function(u,d){return`${u?`NG0${u}: `:""}${d}`}(d,g)),this.code=d}}function Fn(u){return"string"==typeof u?u:null==u?"":String(u)}function Wt(u){return"function"==typeof u?u.name||u.toString():"object"==typeof u&&null!=u&&"function"==typeof u.type?u.type.name||u.type.toString():Fn(u)}function zi(u,d){const g=d?` in ${d}`:"";throw new Gt("201",`No provider for ${Wt(u)} found${g}`)}function Ti(u,d){null==u&&function(u,d,g,w){throw new Error(`ASSERTION ERROR: ${u}`+(null==w?"":` [Expected=> ${g} ${w} ${d} <=Actual]`))}(d,u,null,"!=")}function kr(u){return{token:u.token,providedIn:u.providedIn||null,factory:u.factory,value:void 0}}const xo=kr;function ss(u){return{providers:u.providers||[],imports:u.imports||[]}}function Gs(u){return Xs(u,Ki)||Xs(u,wo)}function Xs(u,d){return u.hasOwnProperty(d)?u[d]:null}function Da(u){return u&&(u.hasOwnProperty(tr)||u.hasOwnProperty(Ws))?u[tr]:null}const Ki=Ce({\u0275prov:Ce}),tr=Ce({\u0275inj:Ce}),wo=Ce({ngInjectableDef:Ce}),Ws=Ce({ngInjectorDef:Ce});var wi=(()=>((wi=wi||{})[wi.Default=0]="Default",wi[wi.Host=1]="Host",wi[wi.Self=2]="Self",wi[wi.SkipSelf=4]="SkipSelf",wi[wi.Optional=8]="Optional",wi))();let fs;function nr(u){const d=fs;return fs=u,d}function Co(u,d,g){const w=Gs(u);return w&&"root"==w.providedIn?void 0===w.value?w.value=w.factory():w.value:g&wi.Optional?null:void 0!==d?d:void zi(Me(u),"Injector")}function Qr(u){return{toString:u}.toString()}var Ns=(()=>((Ns=Ns||{})[Ns.OnPush=0]="OnPush",Ns[Ns.Default=1]="Default",Ns))(),jn=(()=>((jn=jn||{})[jn.Emulated=0]="Emulated",jn[jn.None=2]="None",jn[jn.ShadowDom=3]="ShadowDom",jn))();const Xi="undefined"!=typeof globalThis&&globalThis,wl="undefined"!=typeof window&&window,Va="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Aa="undefined"!=typeof global&&global,ws=Xi||Aa||wl||Va,Rt={},Ot=[],Qt=Ce({\u0275cmp:Ce}),_n=Ce({\u0275dir:Ce}),on=Ce({\u0275pipe:Ce}),gi=Ce({\u0275mod:Ce}),Ui=Ce({\u0275loc:Ce}),hr=Ce({\u0275fac:Ce}),Hr=Ce({__NG_ELEMENT_ID__:Ce});let Er=0;function at(u){return Qr(()=>{const g={},w={type:u.type,providersResolver:null,decls:u.decls,vars:u.vars,factory:null,template:u.template||null,consts:u.consts||null,ngContentSelectors:u.ngContentSelectors,hostBindings:u.hostBindings||null,hostVars:u.hostVars||0,hostAttrs:u.hostAttrs||null,contentQueries:u.contentQueries||null,declaredInputs:g,inputs:null,outputs:null,exportAs:u.exportAs||null,onPush:u.changeDetection===Ns.OnPush,directiveDefs:null,pipeDefs:null,selectors:u.selectors||Ot,viewQuery:u.viewQuery||null,features:u.features||null,data:u.data||{},encapsulation:u.encapsulation||jn.Emulated,id:"c",styles:u.styles||Ot,_:null,setInput:null,schemas:u.schemas||null,tView:null},A=u.directives,Y=u.features,Q=u.pipes;return w.id+=Er++,w.inputs=nn(u.inputs,g),w.outputs=nn(u.outputs),Y&&Y.forEach(ne=>ne(w)),w.directiveDefs=A?()=>("function"==typeof A?A():A).map($e):null,w.pipeDefs=Q?()=>("function"==typeof Q?Q():Q).map(dt):null,w})}function $e(u){return En(u)||function(u){return u[_n]||null}(u)}function dt(u){return function(u){return u[on]||null}(u)}const Ct={};function Bt(u){return Qr(()=>{const d={type:u.type,bootstrap:u.bootstrap||Ot,declarations:u.declarations||Ot,imports:u.imports||Ot,exports:u.exports||Ot,transitiveCompileScopes:null,schemas:u.schemas||null,id:u.id||null};return null!=u.id&&(Ct[u.id]=u.type),d})}function Pt(u,d){return Qr(()=>{const g=f(u,!0);g.declarations=d.declarations||Ot,g.imports=d.imports||Ot,g.exports=d.exports||Ot})}function nn(u,d){if(null==u)return Rt;const g={};for(const w in u)if(u.hasOwnProperty(w)){let A=u[w],Y=A;Array.isArray(A)&&(Y=A[1],A=A[0]),g[A]=w,d&&(d[A]=Y)}return g}const jt=at;function en(u){return{type:u.type,name:u.name,factory:null,pure:!1!==u.pure,onDestroy:u.type.prototype.ngOnDestroy||null}}function En(u){return u[Qt]||null}function f(u,d){const g=u[gi]||null;if(!g&&!0===d)throw new Error(`Type ${Me(u)} does not have '\u0275mod' property.`);return g}const X=16;function Lr(u){return Array.isArray(u)&&"object"==typeof u[1]}function eo(u){return Array.isArray(u)&&!0===u[1]}function Cs(u){return 0!=(8&u.flags)}function qi(u){return 2==(2&u.flags)}function jr(u){return 1==(1&u.flags)}function Ms(u){return null!==u.template}function Ia(u){return 0!=(512&u[2])}function Ss(u,d){return u.hasOwnProperty(hr)?u[hr]:null}class zs{constructor(d,g,w){this.previousValue=d,this.currentValue=g,this.firstChange=w}isFirstChange(){return this.firstChange}}function Ji(){return ic}function ic(u){return u.type.prototype.ngOnChanges&&(u.setInput=Ld),lh}function lh(){const u=ch(this),d=null==u?void 0:u.current;if(d){const g=u.previous;if(g===Rt)u.previous=d;else for(let w in d)g[w]=d[w];u.current=null,this.ngOnChanges(d)}}function Ld(u,d,g,w){const A=ch(u)||function(u,d){return u[Or]=d}(u,{previous:Rt,current:null}),Y=A.current||(A.current={}),Q=A.previous,ne=this.declaredInputs[g],fe=Q[ne];Y[ne]=new zs(fe&&fe.currentValue,d,Q===Rt),u[w]=d}Ji.ngInherit=!0;const Or="__ngSimpleChanges__";function ch(u){return u[Or]||null}const mi="http://www.w3.org/2000/svg";let rc;function Xa(u){rc=u}function Od(){return void 0!==rc?rc:"undefined"!=typeof document?document:void 0}function Hs(u){return!!u.listen}const or={createRenderer:(u,d)=>Od()};function fr(u){for(;Array.isArray(u);)u=u[0];return u}function Ku(u,d){return fr(d[u])}function Yl(u,d){return fr(d[u.index])}function La(u,d){return u.data[d]}function al(u,d){return u[d]}function ds(u,d){const g=d[u];return Lr(g)?g:g[0]}function ca(u){return 4==(4&u[2])}function uh(u){return 128==(128&u[2])}function Hl(u,d){return null==d?null:u[d]}function Gh(u){u[18]=0}function vc(u,d){u[5]+=d;let g=u,w=u[3];for(;null!==w&&(1===d&&1===g[5]||-1===d&&0===g[5]);)w[5]+=d,g=w,w=w[3]}const rr={lFrame:jc(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function sf(){return rr.bindingsEnabled}function $n(){return rr.lFrame.lView}function ms(){return rr.lFrame.tView}function Wh(u){return rr.lFrame.contextLView=u,u[8]}function Mo(){let u=Fd();for(;null!==u&&64===u.type;)u=u.parent;return u}function Fd(){return rr.lFrame.currentTNode}function Pa(u,d){const g=rr.lFrame;g.currentTNode=u,g.isParent=d}function Do(){return rr.lFrame.isParent}function Bs(){rr.lFrame.isParent=!1}function ll(){return rr.isInCheckNoChangesMode}function Uc(u){rr.isInCheckNoChangesMode=u}function po(){const u=rr.lFrame;let d=u.bindingRootIndex;return-1===d&&(d=u.bindingRootIndex=u.tView.bindingStartIndex),d}function ya(){return rr.lFrame.bindingIndex}function xc(){return rr.lFrame.bindingIndex++}function yr(u){const d=rr.lFrame,g=d.bindingIndex;return d.bindingIndex=d.bindingIndex+u,g}function nd(u,d){const g=rr.lFrame;g.bindingIndex=g.bindingRootIndex=u,$o(d)}function $o(u){rr.lFrame.currentDirectiveIndex=u}function wc(u){const d=rr.lFrame.currentDirectiveIndex;return-1===d?null:u[d]}function Qh(){return rr.lFrame.currentQueryIndex}function Mu(u){rr.lFrame.currentQueryIndex=u}function hh(u){const d=u[1];return 2===d.type?d.declTNode:1===d.type?u[6]:null}function va(u,d,g){if(g&wi.SkipSelf){let A=d,Y=u;for(;!(A=A.parent,null!==A||g&wi.Host||(A=hh(Y),null===A||(Y=Y[15],10&A.type))););if(null===A)return!1;d=A,u=Y}const w=rr.lFrame=Cc();return w.currentTNode=d,w.lView=u,!0}function ua(u){const d=Cc(),g=u[1];rr.lFrame=d,d.currentTNode=g.firstChild,d.lView=u,d.tView=g,d.contextLView=u,d.bindingIndex=g.bindingStartIndex,d.inI18n=!1}function Cc(){const u=rr.lFrame,d=null===u?null:u.child;return null===d?jc(u):d}function jc(u){const d={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:u,child:null,inI18n:!1};return null!==u&&(u.child=d),d}function af(){const u=rr.lFrame;return rr.lFrame=u.parent,u.currentTNode=null,u.lView=null,u}const ph=af;function cl(){const u=af();u.isParent=!0,u.tView=null,u.selectedIndex=-1,u.contextLView=null,u.elementDepthCount=0,u.currentDirectiveIndex=-1,u.currentNamespace=null,u.bindingRootIndex=-1,u.bindingIndex=-1,u.currentQueryIndex=0}function Xt(){return rr.lFrame.selectedIndex}function An(u){rr.lFrame.selectedIndex=u}function yn(){const u=rr.lFrame;return La(u.tView,u.selectedIndex)}function Ei(){rr.lFrame.currentNamespace=mi}function Dr(){rr.lFrame.currentNamespace=null}function Tc(u,d){for(let g=d.directiveStart,w=d.directiveEnd;g<w;g++){const Y=u.data[g].type.prototype,{ngAfterContentInit:Q,ngAfterContentChecked:ne,ngAfterViewInit:fe,ngAfterViewChecked:ke,ngOnDestroy:Ze}=Y;Q&&(u.contentHooks||(u.contentHooks=[])).push(-g,Q),ne&&((u.contentHooks||(u.contentHooks=[])).push(g,ne),(u.contentCheckHooks||(u.contentCheckHooks=[])).push(g,ne)),fe&&(u.viewHooks||(u.viewHooks=[])).push(-g,fe),ke&&((u.viewHooks||(u.viewHooks=[])).push(g,ke),(u.viewCheckHooks||(u.viewCheckHooks=[])).push(g,ke)),null!=Ze&&(u.destroyHooks||(u.destroyHooks=[])).push(g,Ze)}}function Qo(u,d,g){Ja(u,d,3,g)}function Tu(u,d,g,w){(3&u[2])===g&&Ja(u,d,g,w)}function fh(u,d){let g=u[2];(3&g)===d&&(g&=2047,g+=1,u[2]=g)}function Ja(u,d,g,w){const Y=null!=w?w:-1,Q=d.length-1;let ne=0;for(let fe=void 0!==w?65535&u[18]:0;fe<Q;fe++)if("number"==typeof d[fe+1]){if(ne=d[fe],null!=w&&ne>=w)break}else d[fe]<0&&(u[18]+=65536),(ne<Y||-1==Y)&&(lu(u,g,d,fe),u[18]=(4294901760&u[18])+fe+2),fe++}function lu(u,d,g,w){const A=g[w]<0,Y=g[w+1],ne=u[A?-g[w]:g[w]];if(A){if(u[2]>>11<u[18]>>16&&(3&u[2])===d){u[2]+=2048;try{Y.call(ne)}finally{}}}else try{Y.call(ne)}finally{}}class Ar{constructor(d,g,w){this.factory=d,this.resolving=!1,this.canSeeViewProviders=g,this.injectImpl=w}}function zd(u,d,g){const w=Hs(u);let A=0;for(;A<g.length;){const Y=g[A];if("number"==typeof Y){if(0!==Y)break;A++;const Q=g[A++],ne=g[A++],fe=g[A++];w?u.setAttribute(d,ne,fe,Q):d.setAttributeNS(Q,ne,fe)}else{const Q=Y,ne=g[++A];qs(Q)?w&&u.setProperty(d,Q,ne):w?u.setAttribute(d,Q,ne):d.setAttribute(Q,ne),A++}}return A}function Pp(u){return 3===u||4===u||6===u}function qs(u){return 64===u.charCodeAt(0)}function Eu(u,d){if(null!==d&&0!==d.length)if(null===u||0===u.length)u=d.slice();else{let g=-1;for(let w=0;w<d.length;w++){const A=d[w];"number"==typeof A?g=A:0===g||kc(u,g,A,null,-1===g||2===g?d[++w]:null)}}return u}function kc(u,d,g,w,A){let Y=0,Q=u.length;if(-1===d)Q=-1;else for(;Y<u.length;){const ne=u[Y++];if("number"==typeof ne){if(ne===d){Q=-1;break}if(ne>d){Q=Y-1;break}}}for(;Y<u.length;){const ne=u[Y];if("number"==typeof ne)break;if(ne===g){if(null===w)return void(null!==A&&(u[Y+1]=A));if(w===u[Y+1])return void(u[Y+2]=A)}Y++,null!==w&&Y++,null!==A&&Y++}-1!==Q&&(u.splice(Q,0,d),Y=Q+1),u.splice(Y++,0,g),null!==w&&u.splice(Y++,0,w),null!==A&&u.splice(Y++,0,A)}function Du(u){return-1!==u}function Ml(u){return 32767&u}function Vl(u,d){let g=function(u){return u>>16}(u),w=d;for(;g>0;)w=w[15],g--;return w}let mh=!0;function Bd(u){const d=mh;return mh=u,d}let ac=0;function Ec(u,d){const g=Ci(u,d);if(-1!==g)return g;const w=d[1];w.firstCreatePass&&(u.injectorIndex=d.length,Gc(w.data,u),Gc(d,null),Gc(w.blueprint,null));const A=wr(u,d),Y=u.injectorIndex;if(Du(A)){const Q=Ml(A),ne=Vl(A,d),fe=ne[1].data;for(let ke=0;ke<8;ke++)d[Y+ke]=ne[Q+ke]|fe[Q+ke]}return d[Y+8]=A,Y}function Gc(u,d){u.push(0,0,0,0,0,0,0,0,d)}function Ci(u,d){return-1===u.injectorIndex||u.parent&&u.parent.injectorIndex===u.injectorIndex||null===d[u.injectorIndex+8]?-1:u.injectorIndex}function wr(u,d){if(u.parent&&-1!==u.parent.injectorIndex)return u.parent.injectorIndex;let g=0,w=null,A=d;for(;null!==A;){const Y=A[1],Q=Y.type;if(w=2===Q?Y.declTNode:1===Q?A[6]:null,null===w)return-1;if(g++,A=A[15],-1!==w.injectorIndex)return w.injectorIndex|g<<16}return-1}function $s(u,d,g){!function(u,d,g){let w;"string"==typeof g?w=g.charCodeAt(0)||0:g.hasOwnProperty(Hr)&&(w=g[Hr]),null==w&&(w=g[Hr]=ac++);const A=255&w;d.data[u+(A>>5)]|=1<<A}(u,d,g)}function Ai(u,d,g){if(g&wi.Optional)return u;zi(d,"NodeInjector")}function Ka(u,d,g,w){if(g&wi.Optional&&void 0===w&&(w=null),0==(g&(wi.Self|wi.Host))){const A=u[9],Y=nr(void 0);try{return A?A.get(d,w,g&wi.Optional):Co(d,w,g&wi.Optional)}finally{nr(Y)}}return Ai(w,d,g)}function Ri(u,d,g,w=wi.Default,A){if(null!==u){const Y=function(u){if("string"==typeof u)return u.charCodeAt(0)||0;const d=u.hasOwnProperty(Hr)?u[Hr]:void 0;return"number"==typeof d?d>=0?255&d:Vs:d}(g);if("function"==typeof Y){if(!va(d,u,w))return w&wi.Host?Ai(A,g,w):Ka(d,g,w,A);try{const Q=Y(w);if(null!=Q||w&wi.Optional)return Q;zi(g)}finally{ph()}}else if("number"==typeof Y){let Q=null,ne=Ci(u,d),fe=-1,ke=w&wi.Host?d[X][6]:null;for((-1===ne||w&wi.SkipSelf)&&(fe=-1===ne?wr(u,d):d[ne+8],-1!==fe&&el(w,!1)?(Q=d[1],ne=Ml(fe),d=Vl(fe,d)):ne=-1);-1!==ne;){const Ze=d[1];if(Ao(Y,ne,Ze.data)){const ot=Ho(ne,d,g,Q,w,ke);if(ot!==Op)return ot}fe=d[ne+8],-1!==fe&&el(w,d[1].data[ne+8]===ke)&&Ao(Y,ne,d)?(Q=Ze,ne=Ml(fe),d=Vl(fe,d)):ne=-1}}}return Ka(d,g,w,A)}const Op={};function Vs(){return new lc(Mo(),$n())}function Ho(u,d,g,w,A,Y){const Q=d[1],ne=Q.data[u+8],Ze=Os(ne,Q,g,null==w?qi(ne)&&mh:w!=Q&&0!=(3&ne.type),A&wi.Host&&Y===ne);return null!==Ze?Tl(d,Q,Ze,ne):Op}function Os(u,d,g,w,A){const Y=u.providerIndexes,Q=d.data,ne=1048575&Y,fe=u.directiveStart,Ze=Y>>20,gt=A?ne+Ze:u.directiveEnd;for(let Ft=w?ne:ne+Ze;Ft<gt;Ft++){const Jt=Q[Ft];if(Ft<fe&&g===Jt||Ft>=fe&&Jt.type===g)return Ft}if(A){const Ft=Q[fe];if(Ft&&Ms(Ft)&&Ft.type===g)return fe}return null}function Tl(u,d,g,w){let A=u[g];const Y=d.data;if(function(u){return u instanceof Ar}(A)){const Q=A;Q.resolving&&function(u,d){throw new Gt("200",`Circular dependency in DI detected for ${u}`)}(Wt(Y[g]));const ne=Bd(Q.canSeeViewProviders);Q.resolving=!0;const fe=Q.injectImpl?nr(Q.injectImpl):null;va(u,w,wi.Default);try{A=u[g]=Q.factory(void 0,Y,u,w),d.firstCreatePass&&g>=w.directiveStart&&function(u,d,g){const{ngOnChanges:w,ngOnInit:A,ngDoCheck:Y}=d.type.prototype;if(w){const Q=ic(d);(g.preOrderHooks||(g.preOrderHooks=[])).push(u,Q),(g.preOrderCheckHooks||(g.preOrderCheckHooks=[])).push(u,Q)}A&&(g.preOrderHooks||(g.preOrderHooks=[])).push(0-u,A),Y&&((g.preOrderHooks||(g.preOrderHooks=[])).push(u,Y),(g.preOrderCheckHooks||(g.preOrderCheckHooks=[])).push(u,Y))}(g,Y[g],d)}finally{null!==fe&&nr(fe),Bd(ne),Q.resolving=!1,ph()}}return A}function Ao(u,d,g){return!!(g[d+(u>>5)]&1<<u)}function el(u,d){return!(u&wi.Self||u&wi.Host&&d)}class lc{constructor(d,g){this._tNode=d,this._lView=g}get(d,g){return Ri(this._tNode,this._lView,d,void 0,g)}}function Rp(u){return Qr(()=>{const d=u.prototype.constructor,g=d[hr]||cu(d),w=Object.prototype;let A=Object.getPrototypeOf(u.prototype).constructor;for(;A&&A!==w;){const Y=A[hr]||cu(A);if(Y&&Y!==g)return Y;A=Object.getPrototypeOf(A)}return Y=>new Y})}function cu(u){return Lt(u)?()=>{const d=cu(ft(u));return d&&d()}:Ss(u)}function gh(u){return function(u,d){if("class"===d)return u.classes;if("style"===d)return u.styles;const g=u.attrs;if(g){const w=g.length;let A=0;for(;A<w;){const Y=g[A];if(Pp(Y))break;if(0===Y)A+=2;else if("number"==typeof Y)for(A++;A<w&&"string"==typeof g[A];)A++;else{if(Y===d)return g[A+1];A+=2}}}return null}(Mo(),u)}const uu="__parameters__";function rt(u,d,g){return Qr(()=>{const w=function(u){return function(...g){if(u){const w=u(...g);for(const A in w)this[A]=w[A]}}}(d);function A(...Y){if(this instanceof A)return w.apply(this,Y),this;const Q=new A(...Y);return ne.annotation=Q,ne;function ne(fe,ke,Ze){const ot=fe.hasOwnProperty(uu)?fe[uu]:Object.defineProperty(fe,uu,{value:[]})[uu];for(;ot.length<=Ze;)ot.push(null);return(ot[Ze]=ot[Ze]||[]).push(Q),fe}}return g&&(A.prototype=Object.create(g.prototype)),A.prototype.ngMetadataName=u,A.annotationCls=A,A})}class Io{constructor(d,g){this._desc=d,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof g?this.__NG_ELEMENT_ID__=g:void 0!==g&&(this.\u0275prov=kr({token:this,providedIn:g.providedIn||"root",factory:g.factory}))}toString(){return`InjectionToken ${this._desc}`}}const li=new Io("AnalyzeForEntryComponents"),U=Function;function xe(u,d){void 0===d&&(d=u);for(let g=0;g<u.length;g++){let w=u[g];Array.isArray(w)?(d===u&&(d=u.slice(0,g)),xe(w,d)):d!==u&&d.push(w)}return d}function ve(u,d){u.forEach(g=>Array.isArray(g)?ve(g,d):d(g))}function He(u,d,g){d>=u.length?u.push(g):u.splice(d,0,g)}function qe(u,d){return d>=u.length-1?u.pop():u.splice(d,1)[0]}function Qe(u,d){const g=[];for(let w=0;w<u;w++)g.push(d);return g}function Tt(u,d,g){let w=St(u,d);return w>=0?u[1|w]=g:(w=~w,function(u,d,g,w){let A=u.length;if(A==d)u.push(g,w);else if(1===A)u.push(w,u[0]),u[0]=g;else{for(A--,u.push(u[A-1],u[A]);A>d;)u[A]=u[A-2],A--;u[d]=g,u[d+1]=w}}(u,w,d,g)),w}function Vt(u,d){const g=St(u,d);if(g>=0)return u[1|g]}function St(u,d){return function(u,d,g){let w=0,A=u.length>>g;for(;A!==w;){const Y=w+(A-w>>1),Q=u[Y<<g];if(d===Q)return Y<<g;Q>d?A=Y:w=Y+1}return~(A<<g)}(u,d,1)}const Pi={},Jr="__NG_DI_FLAG__",hs="ngTempTokenPath",Cr=/\n/gm,to="__source",ja=Ce({provide:String,useValue:Ce});let gs;function Ko(u){const d=gs;return gs=u,d}function Sl(u,d=wi.Default){if(void 0===gs)throw new Error("inject() must be called from an injection context");return null===gs?Co(u,void 0,d):gs.get(u,d&wi.Optional?null:void 0,d)}function Hi(u,d=wi.Default){return(fs||Sl)(ft(u),d)}const Kr=Hi;function Is(u){const d=[];for(let g=0;g<u.length;g++){const w=ft(u[g]);if(Array.isArray(w)){if(0===w.length)throw new Error("Arguments array must have arguments.");let A,Y=wi.Default;for(let Q=0;Q<w.length;Q++){const ne=w[Q],fe=Zr(ne);"number"==typeof fe?-1===fe?A=ne.token:Y|=fe:A=ne}d.push(Hi(A,Y))}else d.push(Hi(w))}return d}function fo(u,d){return u[Jr]=d,u.prototype[Jr]=d,u}function Zr(u){return u[Jr]}function ul(u,d,g,w){const A=u[hs];throw d[to]&&A.unshift(d[to]),u.message=function(u,d,g,w=null){u=u&&"\n"===u.charAt(0)&&"\u0275"==u.charAt(1)?u.substr(2):u;let A=Me(d);if(Array.isArray(d))A=d.map(Me).join(" -> ");else if("object"==typeof d){let Y=[];for(let Q in d)if(d.hasOwnProperty(Q)){let ne=d[Q];Y.push(Q+":"+("string"==typeof ne?JSON.stringify(ne):Me(ne)))}A=`{${Y.join(", ")}}`}return`${g}${w?"("+w+")":""}[${A}]: ${u.replace(Cr,"\n  ")}`}("\n"+u.message,A,g,w),u.ngTokenPath=A,u[hs]=null,u}const Vo=fo(rt("Inject",u=>({token:u})),-1),Za=fo(rt("Optional"),8),Oa=fo(rt("SkipSelf"),4);let js,Ga;function Zs(u){var d;return(null===(d=function(){if(void 0===js&&(js=null,ws.trustedTypes))try{js=ws.trustedTypes.createPolicy("angular",{createHTML:u=>u,createScript:u=>u,createScriptURL:u=>u})}catch(u){}return js}())||void 0===d?void 0:d.createHTML(u))||u}function zp(u){var d;return(null===(d=function(){if(void 0===Ga&&(Ga=null,ws.trustedTypes))try{Ga=ws.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:u=>u,createScript:u=>u,createScriptURL:u=>u})}catch(u){}return Ga}())||void 0===d?void 0:d.createHTML(u))||u}class xa{constructor(d){this.changingThisBreaksApplicationSecurity=d}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class qc extends xa{getTypeName(){return"HTML"}}class Mr extends xa{getTypeName(){return"Style"}}class vh extends xa{getTypeName(){return"Script"}}class Kh extends xa{getTypeName(){return"URL"}}class Yp extends xa{getTypeName(){return"ResourceURL"}}function bh(u){return u instanceof xa?u.changingThisBreaksApplicationSecurity:u}function Hp(u,d){const g=dy(u);if(null!=g&&g!==d){if("ResourceURL"===g&&"URL"===d)return!0;throw new Error(`Required a safe ${d}, got a ${g} (see https://g.co/ng/security#xss)`)}return g===d}function dy(u){return u instanceof xa&&u.getTypeName()||null}function Pu(u){return new qc(u)}function Sm(u){return new Mr(u)}function Ic(u){return new vh(u)}function i_(u){return new Kh(u)}function hy(u){return new Yp(u)}class Fr{constructor(d){this.inertDocumentHelper=d}getInertBodyElement(d){d="<body><remove></remove>"+d;try{const g=(new window.DOMParser).parseFromString(Zs(d),"text/html").body;return null===g?this.inertDocumentHelper.getInertBodyElement(d):(g.removeChild(g.firstChild),g)}catch(g){return null}}}class cd{constructor(d){if(this.defaultDoc=d,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const g=this.inertDocument.createElement("html");this.inertDocument.appendChild(g);const w=this.inertDocument.createElement("body");g.appendChild(w)}}getInertBodyElement(d){const g=this.inertDocument.createElement("template");if("content"in g)return g.innerHTML=Zs(d),g;const w=this.inertDocument.createElement("body");return w.innerHTML=Zs(d),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(w),w}stripCustomNsAttrs(d){const g=d.attributes;for(let A=g.length-1;0<A;A--){const Q=g.item(A).name;("xmlns:ns1"===Q||0===Q.indexOf("ns1:"))&&d.removeAttribute(Q)}let w=d.firstChild;for(;w;)w.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(w),w=w.nextSibling}}const Vp=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Yd=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Zl(u){return(u=String(u)).match(Vp)||u.match(Yd)?u:"unsafe:"+u}function fu(u){const d={};for(const g of u.split(","))d[g]=!0;return d}function Hd(...u){const d={};for(const g of u)for(const w in g)g.hasOwnProperty(w)&&(d[w]=!0);return d}const Gl=fu("area,br,col,hr,img,wbr"),xh=fu("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),wh=fu("rp,rt"),fl=Hd(Gl,Hd(xh,fu("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Hd(wh,fu("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Hd(wh,xh)),Bf=fu("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Em=fu("srcset"),Am=Hd(Bf,Em,fu("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),fu("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),sg=fu("script,style,template");class r_{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(d){let g=d.firstChild,w=!0;for(;g;)if(g.nodeType===Node.ELEMENT_NODE?w=this.startElement(g):g.nodeType===Node.TEXT_NODE?this.chars(g.nodeValue):this.sanitizedSomething=!0,w&&g.firstChild)g=g.firstChild;else for(;g;){g.nodeType===Node.ELEMENT_NODE&&this.endElement(g);let A=this.checkClobberedElement(g,g.nextSibling);if(A){g=A;break}g=this.checkClobberedElement(g,g.parentNode)}return this.buf.join("")}startElement(d){const g=d.nodeName.toLowerCase();if(!fl.hasOwnProperty(g))return this.sanitizedSomething=!0,!sg.hasOwnProperty(g);this.buf.push("<"),this.buf.push(g);const w=d.attributes;for(let A=0;A<w.length;A++){const Y=w.item(A),Q=Y.name,ne=Q.toLowerCase();if(!Am.hasOwnProperty(ne)){this.sanitizedSomething=!0;continue}let fe=Y.value;Bf[ne]&&(fe=Zl(fe)),Em[ne]&&(u=fe,fe=(u=String(u)).split(",").map(d=>Zl(d.trim())).join(", ")),this.buf.push(" ",Q,'="',Hf(fe),'"')}var u;return this.buf.push(">"),!0}endElement(d){const g=d.nodeName.toLowerCase();fl.hasOwnProperty(g)&&!Gl.hasOwnProperty(g)&&(this.buf.push("</"),this.buf.push(g),this.buf.push(">"))}chars(d){this.buf.push(Hf(d))}checkClobberedElement(d,g){if(g&&(d.compareDocumentPosition(g)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${d.outerHTML}`);return g}}const Lc=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,da=/([^\#-~ |!])/g;function Hf(u){return u.replace(/&/g,"&amp;").replace(Lc,function(d){return"&#"+(1024*(d.charCodeAt(0)-55296)+(d.charCodeAt(1)-56320)+65536)+";"}).replace(da,function(d){return"&#"+d.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ra;function es(u,d){let g=null;try{Ra=Ra||function(u){const d=new cd(u);return function(){try{return!!(new window.DOMParser).parseFromString(Zs(""),"text/html")}catch(u){return!1}}()?new Fr(d):d}(u);let w=d?String(d):"";g=Ra.getInertBodyElement(w);let A=5,Y=w;do{if(0===A)throw new Error("Failed to sanitize html because the input is unstable");A--,w=Y,Y=g.innerHTML,g=Ra.getInertBodyElement(w)}while(w!==Y);return Zs((new r_).sanitizeChildren(Dl(g)||g))}finally{if(g){const w=Dl(g)||g;for(;w.firstChild;)w.removeChild(w.firstChild)}}}function Dl(u){return"content"in u&&function(u){return u.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===u.nodeName}(u)?u.content:null}var Ds=(()=>((Ds=Ds||{})[Ds.NONE=0]="NONE",Ds[Ds.HTML=1]="HTML",Ds[Ds.STYLE=2]="STYLE",Ds[Ds.SCRIPT=3]="SCRIPT",Ds[Ds.URL=4]="URL",Ds[Ds.RESOURCE_URL=5]="RESOURCE_URL",Ds))();function Ch(u){const d=ud();return d?zp(d.sanitize(Ds.HTML,u)||""):Hp(u,"HTML")?zp(bh(u)):es(Od(),Fn(u))}function Vd(u){const d=ud();return d?d.sanitize(Ds.URL,u)||"":Hp(u,"URL")?bh(u):Zl(Fn(u))}function ud(){const u=$n();return u&&u[12]}const Pm="__ngContext__";function Wa(u,d){u[Pm]=d}function jf(u){const d=function(u){return u[Pm]||null}(u);return d?Array.isArray(d)?d:d.lView:null}function hd(u){return u.ngOriginalError}function Om(u,...d){u.error(...d)}class sp{constructor(){this._console=console}handleError(d){const g=this._findOriginalError(d),w=this._findContext(d),A=(u=d)&&u.ngErrorLogger||Om;var u;A(this._console,"ERROR",d),g&&A(this._console,"ORIGINAL ERROR",g),w&&A(this._console,"ERROR CONTEXT",w)}_findContext(d){return d?d.ngDebugContext||this._findContext(hd(d)):null}_findOriginalError(d){let g=d&&hd(d);for(;g&&hd(g);)g=hd(g);return g||null}}const jp=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ws))();function qf(u){return u.ownerDocument.body}function Oc(u){return u instanceof Function?u():u}var Yu=(()=>((Yu=Yu||{})[Yu.Important=1]="Important",Yu[Yu.DashCase=2]="DashCase",Yu))();function Th(u,d){return undefined(u,d)}function Zd(u){const d=u[3];return eo(d)?d[3]:d}function Sh(u){return Qf(u[13])}function pg(u){return Qf(u[4])}function Qf(u){for(;null!==u&&!eo(u);)u=u[4];return u}function $c(u,d,g,w,A){if(null!=w){let Y,Q=!1;eo(w)?Y=w:Lr(w)&&(Q=!0,w=w[0]);const ne=fr(w);0===u&&null!==g?null==A?it(d,g,ne):Fe(d,g,ne,A||null,!0):1===u&&null!==g?Fe(d,g,ne,A||null,!0):2===u?function(u,d,g){const w=zt(u,d);w&&function(u,d,g,w){Hs(u)?u.removeChild(d,g,w):d.removeChild(g)}(u,w,d,g)}(d,ne,Q):3===u&&d.destroyNode(ne),null!=Y&&function(u,d,g,w,A){const Y=g[7];Y!==fr(g)&&$c(d,u,w,Y,A);for(let ne=10;ne<g.length;ne++){const fe=g[ne];mu(fe[1],fe,u,d,w,Y)}}(d,u,Y,g,A)}}function mg(u,d,g){return Hs(u)?u.createElement(d,g):null===g?u.createElement(d):u.createElementNS(g,d)}function ff(u,d){const g=u[9],w=g.indexOf(d),A=d[3];1024&d[2]&&(d[2]&=-1025,vc(A,-1)),g.splice(w,1)}function Kf(u,d){if(u.length<=10)return;const g=10+d,w=u[g];if(w){const A=w[17];null!==A&&A!==u&&ff(A,w),d>0&&(u[g-1][4]=w[4]);const Y=qe(u,10+d);!function(u,d){mu(u,d,d[11],2,null,null),d[0]=null,d[6]=null}(w[1],w);const Q=Y[19];null!==Q&&Q.detachView(Y[1]),w[3]=null,w[4]=null,w[2]&=-129}return w}function E(u,d){if(!(256&d[2])){const g=d[11];Hs(g)&&g.destroyNode&&mu(u,d,g,3,null,null),function(u){let d=u[13];if(!d)return k(u[1],u);for(;d;){let g=null;if(Lr(d))g=d[13];else{const w=d[10];w&&(g=w)}if(!g){for(;d&&!d[4]&&d!==u;)Lr(d)&&k(d[1],d),d=d[3];null===d&&(d=u),Lr(d)&&k(d[1],d),g=d&&d[4]}d=g}}(d)}}function k(u,d){if(!(256&d[2])){d[2]&=-129,d[2]|=256,function(u,d){let g;if(null!=u&&null!=(g=u.destroyHooks))for(let w=0;w<g.length;w+=2){const A=d[g[w]];if(!(A instanceof Ar)){const Y=g[w+1];if(Array.isArray(Y))for(let Q=0;Q<Y.length;Q+=2){const ne=A[Y[Q]],fe=Y[Q+1];try{fe.call(ne)}finally{}}else try{Y.call(A)}finally{}}}}(u,d),function(u,d){const g=u.cleanup,w=d[7];let A=-1;if(null!==g)for(let Y=0;Y<g.length-1;Y+=2)if("string"==typeof g[Y]){const Q=g[Y+1],ne="function"==typeof Q?Q(d):fr(d[Q]),fe=w[A=g[Y+2]],ke=g[Y+3];"boolean"==typeof ke?ne.removeEventListener(g[Y],fe,ke):ke>=0?w[A=ke]():w[A=-ke].unsubscribe(),Y+=2}else{const Q=w[A=g[Y+1]];g[Y].call(Q)}if(null!==w){for(let Y=A+1;Y<w.length;Y++)w[Y]();d[7]=null}}(u,d),1===d[1].type&&Hs(d[11])&&d[11].destroy();const g=d[17];if(null!==g&&eo(d[3])){g!==d[3]&&ff(g,d);const w=d[19];null!==w&&w.detachView(u)}}}function se(u,d,g){return function(u,d,g){let w=d;for(;null!==w&&40&w.type;)w=(d=w).parent;if(null===w)return g[0];if(2&w.flags){const A=u.data[w.directiveStart].encapsulation;if(A===jn.None||A===jn.Emulated)return null}return Yl(w,g)}(u,d.parent,g)}function Fe(u,d,g,w,A){Hs(u)?u.insertBefore(d,g,w,A):d.insertBefore(g,w,A)}function it(u,d,g){Hs(u)?u.appendChild(d,g):d.appendChild(g)}function ut(u,d,g,w,A){null!==w?Fe(u,d,g,w,A):it(u,d,g)}function zt(u,d){return Hs(u)?u.parentNode(d):d.parentNode}function Hn(u,d,g){return Di(u,d,g)}let Di=function(u,d,g){return 40&u.type?Yl(u,g):null};function ts(u,d,g,w){const A=se(u,w,d),Y=d[11],ne=Hn(w.parent||d[6],w,d);if(null!=A)if(Array.isArray(g))for(let fe=0;fe<g.length;fe++)ut(Y,A,g[fe],ne,!1);else ut(Y,A,g,ne,!1)}function Fa(u,d){if(null!==d){const g=d.type;if(3&g)return Yl(d,u);if(4&g)return mf(-1,u[d.index]);if(8&g){const w=d.child;if(null!==w)return Fa(u,w);{const A=u[d.index];return eo(A)?mf(-1,A):fr(A)}}if(32&g)return Th(d,u)()||fr(u[d.index]);{const w=Qc(u,d);return null!==w?Array.isArray(w)?w[0]:Fa(Zd(u[X]),w):Fa(u,d.next)}}return null}function Qc(u,d){return null!==d?u[X][6].projection[d.projection]:null}function mf(u,d){const g=10+u+1;if(g<d.length){const w=d[g],A=w[1].firstChild;if(null!==A)return Fa(w,A)}return d[7]}function ta(u,d,g,w,A,Y,Q){for(;null!=g;){const ne=w[g.index],fe=g.type;if(Q&&0===d&&(ne&&Wa(fr(ne),w),g.flags|=4),64!=(64&g.flags))if(8&fe)ta(u,d,g.child,w,A,Y,!1),$c(d,u,A,ne,Y);else if(32&fe){const ke=Th(g,w);let Ze;for(;Ze=ke();)$c(d,u,A,Ze,Y);$c(d,u,A,ne,Y)}else 16&fe?c_(u,d,w,g,A,Y):$c(d,u,A,ne,Y);g=Q?g.projectionNext:g.next}}function mu(u,d,g,w,A,Y){ta(g,w,u.firstChild,d,A,Y,!1)}function c_(u,d,g,w,A,Y){const Q=g[X],fe=Q[6].projection[w.projection];if(Array.isArray(fe))for(let ke=0;ke<fe.length;ke++)$c(d,u,A,fe[ke],Y);else ta(u,d,fe,Q[3],A,Y,!0)}function Fb(u,d,g){Hs(u)?u.setAttribute(d,"style",g):d.style.cssText=g}function Nm(u,d,g){Hs(u)?""===g?u.removeAttribute(d,"class"):u.setAttribute(d,"class",g):d.className=g}function Nb(u,d,g){let w=u.length;for(;;){const A=u.indexOf(d,g);if(-1===A)return A;if(0===A||u.charCodeAt(A-1)<=32){const Y=d.length;if(A+Y===w||u.charCodeAt(A+Y)<=32)return A}g=A+1}}const Rv="ng-template";function zb(u,d,g){let w=0;for(;w<u.length;){let A=u[w++];if(g&&"class"===A){if(A=u[w],-1!==Nb(A.toLowerCase(),d,0))return!0}else if(1===A){for(;w<u.length&&"string"==typeof(A=u[w++]);)if(A.toLowerCase()===d)return!0;return!1}}return!1}function yg(u){return 4===u.type&&u.value!==Rv}function ko(u,d,g){return d===(4!==u.type||g?u.value:Rv)}function Fv(u,d,g){let w=4;const A=u.attrs||[],Y=function(u){for(let d=0;d<u.length;d++)if(Pp(u[d]))return d;return u.length}(A);let Q=!1;for(let ne=0;ne<d.length;ne++){const fe=d[ne];if("number"!=typeof fe){if(!Q)if(4&w){if(w=2|1&w,""!==fe&&!ko(u,fe,g)||""===fe&&1===d.length){if(Gd(w))return!1;Q=!0}}else{const ke=8&w?fe:d[++ne];if(8&w&&null!==u.attrs){if(!zb(u.attrs,ke,g)){if(Gd(w))return!1;Q=!0}continue}const ot=Bb(8&w?"class":fe,A,yg(u),g);if(-1===ot){if(Gd(w))return!1;Q=!0;continue}if(""!==ke){let gt;gt=ot>Y?"":A[ot+1].toLowerCase();const Ft=8&w?gt:null;if(Ft&&-1!==Nb(Ft,ke,0)||2&w&&ke!==gt){if(Gd(w))return!1;Q=!0}}}}else{if(!Q&&!Gd(w)&&!Gd(fe))return!1;if(Q&&Gd(fe))continue;Q=!1,w=fe|1&w}}return Gd(w)||Q}function Gd(u){return 0==(1&u)}function Bb(u,d,g,w){if(null===d)return-1;let A=0;if(w||!g){let Y=!1;for(;A<d.length;){const Q=d[A];if(Q===u)return A;if(3===Q||6===Q)Y=!0;else{if(1===Q||2===Q){let ne=d[++A];for(;"string"==typeof ne;)ne=d[++A];continue}if(4===Q)break;if(0===Q){A+=4;continue}}A+=Y?1:2}return-1}return function(u,d){let g=u.indexOf(4);if(g>-1)for(g++;g<u.length;){const w=u[g];if("number"==typeof w)return-1;if(w===d)return g;g++}return-1}(d,u)}function Zp(u,d,g=!1){for(let w=0;w<d.length;w++)if(Fv(u,d[w],g))return!0;return!1}function Hb(u,d){e:for(let g=0;g<d.length;g++){const w=d[g];if(u.length===w.length){for(let A=0;A<u.length;A++)if(u[A]!==w[A])continue e;return!0}}return!1}function hx(u,d){return u?":not("+d.trim()+")":d}function yy(u){let d=u[0],g=1,w=2,A="",Y=!1;for(;g<u.length;){let Q=u[g];if("string"==typeof Q)if(2&w){const ne=u[++g];A+="["+Q+(ne.length>0?'="'+ne+'"':"")+"]"}else 8&w?A+="."+Q:4&w&&(A+=" "+Q);else""!==A&&!Gd(Q)&&(d+=hx(Y,A),A=""),w=Q,Y=Y||!Gd(w);g++}return""!==A&&(d+=hx(Y,A)),d}const ns={};function Ub(u){jb(ms(),$n(),Xt()+u,ll())}function jb(u,d,g,w){if(!w)if(3==(3&d[2])){const Y=u.preOrderCheckHooks;null!==Y&&Qo(d,Y,g)}else{const Y=u.preOrderHooks;null!==Y&&Tu(d,Y,0,g)}An(g)}function zm(u,d){return u<<17|d<<2}function gu(u){return u>>17&32767}function vy(u){return 2|u}function _f(u){return(131068&u)>>2}function em(u,d){return-131069&u|d<<2}function d_(u){return 1|u}function xx(u,d){const g=u.contentQueries;if(null!==g)for(let w=0;w<g.length;w+=2){const A=g[w],Y=g[w+1];if(-1!==Y){const Q=u.data[Y];Mu(A),Q.contentQueries(2,d[Y],Y)}}}function im(u,d,g,w,A,Y,Q,ne,fe,ke){const Ze=d.blueprint.slice();return Ze[0]=A,Ze[2]=140|w,Gh(Ze),Ze[3]=Ze[15]=u,Ze[8]=g,Ze[10]=Q||u&&u[10],Ze[11]=ne||u&&u[11],Ze[12]=fe||u&&u[12]||null,Ze[9]=ke||u&&u[9]||null,Ze[6]=Y,Ze[X]=2==d.type?u[X]:Ze,Ze}function Vm(u,d,g,w,A){let Y=u.data[d];if(null===Y)Y=function(u,d,g,w,A){const Y=Fd(),Q=Do(),fe=u.data[d]=function(u,d,g,w,A,Y){return{type:g,index:w,insertBeforeIndex:null,injectorIndex:d?d.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:A,attrs:Y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:d,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,Q?Y:Y&&Y.parent,g,d,w,A);return null===u.firstChild&&(u.firstChild=fe),null!==Y&&(Q?null==Y.child&&null!==fe.parent&&(Y.child=fe):null===Y.next&&(Y.next=fe)),fe}(u,d,g,w,A),rr.lFrame.inI18n&&(Y.flags|=64);else if(64&Y.type){Y.type=g,Y.value=w,Y.attrs=A;const Q=function(){const u=rr.lFrame,d=u.currentTNode;return u.isParent?d:d.parent}();Y.injectorIndex=null===Q?-1:Q.injectorIndex}return Pa(Y,!0),Y}function Ls(u,d,g,w){if(0===g)return-1;const A=d.length;for(let Y=0;Y<g;Y++)d.push(w),u.blueprint.push(w),u.data.push(null);return A}function Ah(u,d,g){ua(d);try{const w=u.viewQuery;null!==w&&ju(1,w,g);const A=u.template;null!==A&&Cy(u,d,A,1,g),u.firstCreatePass&&(u.firstCreatePass=!1),u.staticContentQueries&&xx(u,d),u.staticViewQueries&&ju(2,u.viewQuery,g);const Y=u.components;null!==Y&&function(u,d){for(let g=0;g<d.length;g++)bf(u,d[g])}(d,Y)}catch(w){throw u.firstCreatePass&&(u.incompleteFirstPass=!0,u.firstCreatePass=!1),w}finally{d[2]&=-5,cl()}}function Uu(u,d,g,w){const A=d[2];if(256==(256&A))return;ua(d);const Y=ll();try{Gh(d),function(u){rr.lFrame.bindingIndex=u}(u.bindingStartIndex),null!==g&&Cy(u,d,g,2,w);const Q=3==(3&A);if(!Y)if(Q){const ke=u.preOrderCheckHooks;null!==ke&&Qo(d,ke,null)}else{const ke=u.preOrderHooks;null!==ke&&Tu(d,ke,0,null),fh(d,0)}if(function(u){for(let d=Sh(u);null!==d;d=pg(d)){if(!d[2])continue;const g=d[9];for(let w=0;w<g.length;w++){const A=g[w],Y=A[3];0==(1024&A[2])&&vc(Y,1),A[2]|=1024}}}(d),function(u){for(let d=Sh(u);null!==d;d=pg(d))for(let g=10;g<d.length;g++){const w=d[g],A=w[1];uh(w)&&Uu(A,w,A.template,w[8])}}(d),null!==u.contentQueries&&xx(u,d),!Y)if(Q){const ke=u.contentCheckHooks;null!==ke&&Qo(d,ke)}else{const ke=u.contentHooks;null!==ke&&Tu(d,ke,1),fh(d,1)}!function(u,d){const g=u.hostBindingOpCodes;if(null!==g)try{for(let w=0;w<g.length;w++){const A=g[w];if(A<0)An(~A);else{const Y=A,Q=g[++w],ne=g[++w];nd(Q,Y),ne(2,d[Y])}}}finally{An(-1)}}(u,d);const ne=u.components;null!==ne&&function(u,d){for(let g=0;g<d.length;g++)am(u,d[g])}(d,ne);const fe=u.viewQuery;if(null!==fe&&ju(2,fe,w),!Y)if(Q){const ke=u.viewCheckHooks;null!==ke&&Qo(d,ke)}else{const ke=u.viewHooks;null!==ke&&Tu(d,ke,2),fh(d,2)}!0===u.firstUpdatePass&&(u.firstUpdatePass=!1),Y||(d[2]&=-73),1024&d[2]&&(d[2]&=-1025,vc(d[3],-1))}finally{cl()}}function Qb(u,d,g,w){const A=d[10],Y=!ll(),Q=ca(d);try{Y&&!Q&&A.begin&&A.begin(),Q&&Ah(u,d,w),Uu(u,d,g,w)}finally{Y&&!Q&&A.end&&A.end()}}function Cy(u,d,g,w,A){const Y=Xt(),Q=2&w;try{An(-1),Q&&d.length>20&&jb(u,d,20,ll()),g(w,A)}finally{An(Y)}}function y_(u,d,g){if(Cs(d)){const A=d.directiveEnd;for(let Y=d.directiveStart;Y<A;Y++){const Q=u.data[Y];Q.contentQueries&&Q.contentQueries(1,g[Y],Y)}}}function ji(u,d,g){!sf()||(function(u,d,g,w){const A=g.directiveStart,Y=g.directiveEnd;u.firstCreatePass||Ec(g,d),Wa(w,d);const Q=g.initialInputs;for(let ne=A;ne<Y;ne++){const fe=u.data[ne],ke=Ms(fe);ke&&w_(d,g,fe);const Ze=Tl(d,u,ne,g);Wa(Ze,d),null!==Q&&cp(0,ne-A,Ze,fe,0,Q),ke&&(ds(g.index,d)[8]=Ze)}}(u,d,g,Yl(g,d)),128==(128&g.flags)&&function(u,d,g){const w=g.directiveStart,A=g.directiveEnd,Q=g.index,ne=rr.lFrame.currentDirectiveIndex;try{An(Q);for(let fe=w;fe<A;fe++){const ke=u.data[fe],Ze=d[fe];$o(fe),(null!==ke.hostBindings||0!==ke.hostVars||null!==ke.hostAttrs)&&il(ke,Ze)}}finally{An(-1),$o(ne)}}(u,d,g))}function v_(u,d,g=Yl){const w=d.localNames;if(null!==w){let A=d.index+1;for(let Y=0;Y<w.length;Y+=2){const Q=w[Y+1],ne=-1===Q?g(d,u):u[Q];u[A++]=ne}}}function is(u){const d=u.tView;return null===d||d.incompleteFirstPass?u.tView=Um(1,null,u.template,u.decls,u.vars,u.directiveDefs,u.pipeDefs,u.viewQuery,u.schemas,u.consts):d}function Um(u,d,g,w,A,Y,Q,ne,fe,ke){const Ze=20+w,ot=Ze+A,gt=function(u,d){const g=[];for(let w=0;w<d;w++)g.push(w<u?null:ns);return g}(Ze,ot),Ft="function"==typeof ke?ke():ke;return gt[1]={type:u,blueprint:gt,template:g,queries:null,viewQuery:ne,declTNode:d,data:gt.slice().fill(null,Ze),bindingStartIndex:Ze,expandoStartIndex:ot,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof Y?Y():Y,pipeRegistry:"function"==typeof Q?Q():Q,firstChild:null,schemas:fe,consts:Ft,incompleteFirstPass:!1}}function gd(u,d,g,w){const A=_o(d);null===g?A.push(w):(A.push(g),u.firstCreatePass&&Ag(u).push(w,A.length-1))}function Xb(u,d,g){for(let w in u)if(u.hasOwnProperty(w)){const A=u[w];(g=null===g?{}:g).hasOwnProperty(w)?g[w].push(d,A):g[w]=[d,A]}return g}function go(u,d,g,w,A,Y,Q,ne){const fe=Yl(d,g);let Ze,ke=d.inputs;!ne&&null!=ke&&(Ze=ke[w])?(Zm(u,g,Ze,w,A),qi(d)&&function(u,d){const g=ds(d,u);16&g[2]||(g[2]|=64)}(g,d.index)):3&d.type&&(w=function(u){return"class"===u?"className":"for"===u?"htmlFor":"formaction"===u?"formAction":"innerHtml"===u?"innerHTML":"readonly"===u?"readOnly":"tabindex"===u?"tabIndex":u}(w),A=null!=Q?Q(A,d.value||"",w):A,Hs(Y)?Y.setProperty(fe,w,A):qs(w)||(fe.setProperty?fe.setProperty(w,A):fe[w]=A))}function Tg(u,d,g,w){let A=!1;if(sf()){const Y=function(u,d,g){const w=u.directiveRegistry;let A=null;if(w)for(let Y=0;Y<w.length;Y++){const Q=w[Y];Zp(g,Q.selectors,!1)&&(A||(A=[]),$s(Ec(g,d),u,Q.type),Ms(Q)?(Vr(u,g),A.unshift(Q)):A.push(Q))}return A}(u,d,g),Q=null===w?null:{"":-1};if(null!==Y){A=!0,Ty(g,u.data.length,Y.length);for(let Ze=0;Ze<Y.length;Ze++){const ot=Y[Ze];ot.providersResolver&&ot.providersResolver(ot)}let ne=!1,fe=!1,ke=Ls(u,d,Y.length,null);for(let Ze=0;Ze<Y.length;Ze++){const ot=Y[Ze];g.mergedAttrs=Eu(g.mergedAttrs,ot.hostAttrs),Sy(u,g,d,ke,ot),My(ke,ot,Q),null!==ot.contentQueries&&(g.flags|=8),(null!==ot.hostBindings||null!==ot.hostAttrs||0!==ot.hostVars)&&(g.flags|=128);const gt=ot.type.prototype;!ne&&(gt.ngOnChanges||gt.ngOnInit||gt.ngDoCheck)&&((u.preOrderHooks||(u.preOrderHooks=[])).push(g.index),ne=!0),!fe&&(gt.ngOnChanges||gt.ngDoCheck)&&((u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(g.index),fe=!0),ke++}!function(u,d){const w=d.directiveEnd,A=u.data,Y=d.attrs,Q=[];let ne=null,fe=null;for(let ke=d.directiveStart;ke<w;ke++){const Ze=A[ke],ot=Ze.inputs,gt=null===Y||yg(d)?null:M_(ot,Y);Q.push(gt),ne=Xb(ot,ke,ne),fe=Xb(Ze.outputs,ke,fe)}null!==ne&&(ne.hasOwnProperty("class")&&(d.flags|=16),ne.hasOwnProperty("style")&&(d.flags|=32)),d.initialInputs=Q,d.inputs=ne,d.outputs=fe}(u,g)}Q&&function(u,d,g){if(d){const w=u.localNames=[];for(let A=0;A<d.length;A+=2){const Y=g[d[A+1]];if(null==Y)throw new Gt("301",`Export of name '${d[A+1]}' not found!`);w.push(d[A],Y)}}}(g,w,Q)}return g.mergedAttrs=Eu(g.mergedAttrs,g.attrs),A}function Sg(u,d,g,w,A,Y){const Q=Y.hostBindings;if(Q){let ne=u.hostBindingOpCodes;null===ne&&(ne=u.hostBindingOpCodes=[]);const fe=~d.index;(function(u){let d=u.length;for(;d>0;){const g=u[--d];if("number"==typeof g&&g<0)return g}return 0})(ne)!=fe&&ne.push(fe),ne.push(w,A,Q)}}function il(u,d){null!==u.hostBindings&&u.hostBindings(1,d)}function Vr(u,d){d.flags|=2,(u.components||(u.components=[])).push(d.index)}function My(u,d,g){if(g){if(d.exportAs)for(let w=0;w<d.exportAs.length;w++)g[d.exportAs[w]]=u;Ms(d)&&(g[""]=u)}}function Ty(u,d,g){u.flags|=1,u.directiveStart=d,u.directiveEnd=d+g,u.providerIndexes=d}function Sy(u,d,g,w,A){u.data[w]=A;const Y=A.factory||(A.factory=Ss(A.type)),Q=new Ar(Y,Ms(A),null);u.blueprint[w]=Q,g[w]=Q,Sg(u,d,0,w,Ls(u,g,A.hostVars,ns),A)}function w_(u,d,g){const w=Yl(d,u),A=is(g),Y=u[10],Q=lm(u,im(u,A,null,g.onPush?64:16,w,d,Y,Y.createRenderer(w,g),null,null));u[d.index]=Q}function qd(u,d,g,w,A,Y){const Q=Yl(u,d);!function(u,d,g,w,A,Y,Q){if(null==Y)Hs(u)?u.removeAttribute(d,A,g):d.removeAttribute(A);else{const ne=null==Q?Fn(Y):Q(Y,w||"",A);Hs(u)?u.setAttribute(d,A,ne,g):g?d.setAttributeNS(g,A,ne):d.setAttribute(A,ne)}}(d[11],Q,Y,u.value,g,w,A)}function cp(u,d,g,w,A,Y){const Q=Y[d];if(null!==Q){const ne=w.setInput;for(let fe=0;fe<Q.length;){const ke=Q[fe++],Ze=Q[fe++],ot=Q[fe++];null!==ne?w.setInput(g,ot,ke,Ze):g[Ze]=ot}}}function M_(u,d){let g=null,w=0;for(;w<d.length;){const A=d[w];if(0!==A)if(5!==A){if("number"==typeof A)break;u.hasOwnProperty(A)&&(null===g&&(g=[]),g.push(A,u[A],d[w+1])),w+=2}else w+=2;else w+=4}return g}function T_(u,d,g,w){return new Array(u,!0,!1,d,null,0,w,g,null,null)}function am(u,d){const g=ds(d,u);if(uh(g)){const w=g[1];80&g[2]?Uu(w,g,w.template,g[8]):g[5]>0&&pc(g)}}function pc(u){for(let w=Sh(u);null!==w;w=pg(w))for(let A=10;A<w.length;A++){const Y=w[A];if(1024&Y[2]){const Q=Y[1];Uu(Q,Y,Q.template,Y[8])}else Y[5]>0&&pc(Y)}const g=u[1].components;if(null!==g)for(let w=0;w<g.length;w++){const A=ds(g[w],u);uh(A)&&A[5]>0&&pc(A)}}function bf(u,d){const g=ds(d,u),w=g[1];(function(u,d){for(let g=d.length;g<u.blueprint.length;g++)d.push(u.blueprint[g])})(w,g),Ah(w,g,g[8])}function lm(u,d){return u[13]?u[14][4]=d:u[13]=d,u[14]=d,d}function ky(u){for(;u;){u[2]|=64;const d=Zd(u);if(Ia(u)&&!d)return u;u=d}return null}function S_(u,d,g){const w=d[10];w.begin&&w.begin();try{Uu(u,d,u.template,g)}catch(A){throw cm(d,A),A}finally{w.end&&w.end()}}function Wp(u){!function(u){for(let d=0;d<u.components.length;d++){const g=u.components[d],w=jf(g),A=w[1];Qb(A,w,A.template,g)}}(u[8])}function ju(u,d,g){Mu(0),d(u,g)}const Kb=(()=>Promise.resolve(null))();function _o(u){return u[7]||(u[7]=[])}function Ag(u){return u.cleanup||(u.cleanup=[])}function $d(u,d,g){return(null===u||Ms(u))&&(g=function(u){for(;Array.isArray(u);){if("object"==typeof u[1])return u;u=u[0]}return null}(g[d.index])),g[11]}function cm(u,d){const g=u[9],w=g?g.get(sp,null):null;w&&w.handleError(d)}function Zm(u,d,g,w,A){for(let Y=0;Y<g.length;){const Q=g[Y++],ne=g[Y++],fe=d[Q],ke=u.data[Q];null!==ke.setInput?ke.setInput(fe,A,w,ne):fe[ne]=A}}function up(u,d,g){const w=Ku(d,u);!function(u,d,g){Hs(u)?u.setValue(d,g):d.textContent=g}(u[11],w,g)}function dp(u,d,g){let w=g?u.styles:null,A=g?u.classes:null,Y=0;if(null!==d)for(let Q=0;Q<d.length;Q++){const ne=d[Q];"number"==typeof ne?Y=ne:1==Y?A=Be(A,ne):2==Y&&(w=Be(w,ne+": "+d[++Q]+";"))}g?u.styles=w:u.stylesWithoutHost=w,g?u.classes=A:u.classesWithoutHost=A}const wf=new Io("INJECTOR",-1);class k_{get(d,g=Pi){if(g===Pi){const w=new Error(`NullInjectorError: No provider for ${Me(d)}!`);throw w.name="NullInjectorError",w}return g}}const Jc=new Io("Set Injector scope."),Ih={},e0={};let Ig;function Gm(){return void 0===Ig&&(Ig=new k_),Ig}function ql(u,d=null,g=null,w){return new fc(u,g,d||Gm(),w)}class fc{constructor(d,g,w,A=null){this.parent=w,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const Y=[];g&&ve(g,ne=>this.processProvider(ne,d,g)),ve([d],ne=>this.processInjectorType(ne,[],Y)),this.records.set(wf,Ll(void 0,this));const Q=this.records.get(Jc);this.scope=null!=Q?Q.value:null,this.source=A||("object"==typeof d?null:Me(d))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(d=>d.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(d,g=Pi,w=wi.Default){this.assertNotDestroyed();const A=Ko(this),Y=nr(void 0);try{if(!(w&wi.SkipSelf)){let ne=this.records.get(d);if(void 0===ne){const fe=("function"==typeof(u=d)||"object"==typeof u&&u instanceof Io)&&Gs(d);ne=fe&&this.injectableDefInScope(fe)?Ll(Wm(d),Ih):null,this.records.set(d,ne)}if(null!=ne)return this.hydrate(d,ne)}return(w&wi.Self?Gm():this.parent).get(d,g=w&wi.Optional&&g===Pi?null:g)}catch(Q){if("NullInjectorError"===Q.name){if((Q[hs]=Q[hs]||[]).unshift(Me(d)),A)throw Q;return ul(Q,d,"R3InjectorError",this.source)}throw Q}finally{nr(Y),Ko(A)}var u}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(d=>this.get(d))}toString(){const d=[];return this.records.forEach((w,A)=>d.push(Me(A))),`R3Injector[${d.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(d,g,w){if(!(d=ft(d)))return!1;let A=Da(d);const Y=null==A&&d.ngModule||void 0,Q=void 0===Y?d:Y,ne=-1!==w.indexOf(Q);if(void 0!==Y&&(A=Da(Y)),null==A)return!1;if(null!=A.imports&&!ne){let Ze;w.push(Q);try{ve(A.imports,ot=>{this.processInjectorType(ot,g,w)&&(void 0===Ze&&(Ze=[]),Ze.push(ot))})}finally{}if(void 0!==Ze)for(let ot=0;ot<Ze.length;ot++){const{ngModule:gt,providers:Ft}=Ze[ot];ve(Ft,Jt=>this.processProvider(Jt,gt,Ft||Ot))}}this.injectorDefTypes.add(Q);const fe=Ss(Q)||(()=>new Q);this.records.set(Q,Ll(fe,Ih));const ke=A.providers;if(null!=ke&&!ne){const Ze=d;ve(ke,ot=>this.processProvider(ot,Ze,ke))}return void 0!==Y&&void 0!==d.providers}processProvider(d,g,w){let A=M(d=ft(d))?d:ft(d&&d.provide);const Y=_(u=d)?Ll(void 0,u.useValue):Ll($l(u),Ih);var u;if(M(d)||!0!==d.multi)this.records.get(A);else{let Q=this.records.get(A);Q||(Q=Ll(void 0,Ih,!0),Q.factory=()=>Is(Q.multi),this.records.set(A,Q)),A=d,Q.multi.push(d)}this.records.set(A,Y)}hydrate(d,g){return g.value===Ih&&(g.value=e0,g.value=g.factory()),"object"==typeof g.value&&g.value&&null!==(u=g.value)&&"object"==typeof u&&"function"==typeof u.ngOnDestroy&&this.onDestroy.add(g.value),g.value;var u}injectableDefInScope(d){if(!d.providedIn)return!1;const g=ft(d.providedIn);return"string"==typeof g?"any"===g||g===this.scope:this.injectorDefTypes.has(g)}}function Wm(u){const d=Gs(u),g=null!==d?d.factory:Ss(u);if(null!==g)return g;if(u instanceof Io)throw new Error(`Token ${Me(u)} is missing a \u0275prov definition.`);if(u instanceof Function)return function(u){const d=u.length;if(d>0){const w=Qe(d,"?");throw new Error(`Can't resolve all parameters for ${Me(u)}: (${w.join(", ")}).`)}const g=function(u){const d=u&&(u[Ki]||u[wo]);if(d){const g=function(u){if(u.hasOwnProperty("name"))return u.name;const d=(""+u).match(/^function\s*([^\s(]+)/);return null===d?"":d[1]}(u);return console.warn(`DEPRECATED: DI is instantiating a token "${g}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${g}" class.`),d}return null}(u);return null!==g?()=>g.factory(u):()=>new u}(u);throw new Error("unreachable")}function $l(u,d,g){let w;if(M(u)){const A=ft(u);return Ss(A)||Wm(A)}if(_(u))w=()=>ft(u.useValue);else if(function(u){return!(!u||!u.useFactory)}(u))w=()=>u.useFactory(...Is(u.deps||[]));else if(function(u){return!(!u||!u.useExisting)}(u))w=()=>Hi(ft(u.useExisting));else{const A=ft(u&&(u.useClass||u.provide));if(!function(u){return!!u.deps}(u))return Ss(A)||Wm(A);w=()=>new A(...Is(u.deps))}return w}function Ll(u,d,g=!1){return{factory:u,value:d,multi:g?[]:void 0}}function _(u){return null!==u&&"object"==typeof u&&ja in u}function M(u){return"function"==typeof u}const be=function(u,d,g){return function(u,d=null,g=null,w){const A=ql(u,d,g,w);return A._resolveInjectorDefTypes(),A}({name:g},d,u,g)};class Te{static create(d,g){return Array.isArray(d)?be(d,g,""):be(d.providers,d.parent,d.name||"")}}function Kc(u,d){Tc(jf(u)[1],Mo())}function Ma(u){let d=function(u){return Object.getPrototypeOf(u.prototype).constructor}(u.type),g=!0;const w=[u];for(;d;){let A;if(Ms(u))A=d.\u0275cmp||d.\u0275dir;else{if(d.\u0275cmp)throw new Error("Directives cannot inherit Components");A=d.\u0275dir}if(A){if(g){w.push(A);const Q=u;Q.inputs=no(u.inputs),Q.declaredInputs=no(u.declaredInputs),Q.outputs=no(u.outputs);const ne=A.hostBindings;ne&&Cf(u,ne);const fe=A.viewQuery,ke=A.contentQueries;if(fe&&yd(u,fe),ke&&tu(u,ke),Ee(u.inputs,A.inputs),Ee(u.declaredInputs,A.declaredInputs),Ee(u.outputs,A.outputs),Ms(A)&&A.data.animation){const Ze=u.data;Ze.animation=(Ze.animation||[]).concat(A.data.animation)}}const Y=A.features;if(Y)for(let Q=0;Q<Y.length;Q++){const ne=Y[Q];ne&&ne.ngInherit&&ne(u),ne===Ma&&(g=!1)}}d=Object.getPrototypeOf(d)}!function(u){let d=0,g=null;for(let w=u.length-1;w>=0;w--){const A=u[w];A.hostVars=d+=A.hostVars,A.hostAttrs=Eu(A.hostAttrs,g=Eu(g,A.hostAttrs))}}(w)}function no(u){return u===Rt?{}:u===Ot?[]:u}function yd(u,d){const g=u.viewQuery;u.viewQuery=g?(w,A)=>{d(w,A),g(w,A)}:d}function tu(u,d){const g=u.contentQueries;u.contentQueries=g?(w,A,Y)=>{d(w,A,Y),g(w,A,Y)}:d}function Cf(u,d){const g=u.hostBindings;u.hostBindings=g?(w,A)=>{d(w,A),g(w,A)}:d}Te.THROW_IF_NOT_FOUND=Pi,Te.NULL=new k_,Te.\u0275prov=kr({token:Te,providedIn:"any",factory:()=>Hi(wf)}),Te.__NG_ELEMENT_ID__=-1;let Qd=null;function sl(){if(!Qd){const u=ws.Symbol;if(u&&u.iterator)Qd=u.iterator;else{const d=Object.getOwnPropertyNames(Map.prototype);for(let g=0;g<d.length;++g){const w=d[g];"entries"!==w&&"size"!==w&&Map.prototype[w]===Map.prototype.entries&&(Qd=w)}}}return Qd}class vd{constructor(d){this.wrapped=d}static wrap(d){return new vd(d)}static unwrap(d){return vd.isWrapped(d)?d.wrapped:d}static isWrapped(d){return d instanceof vd}}function Oo(u){return!!Py(u)&&(Array.isArray(u)||!(u instanceof Map)&&sl()in u)}function Py(u){return null!==u&&("function"==typeof u||"object"==typeof u)}function pa(u,d,g){return u[d]=g}function _l(u,d){return u[d]}function yl(u,d,g){return!Object.is(u[d],g)&&(u[d]=g,!0)}function Ph(u,d,g,w){const A=yl(u,d,g);return yl(u,d+1,w)||A}function E_(u,d,g,w,A){const Y=Ph(u,d,g,w);return yl(u,d+2,A)||Y}function Fc(u,d,g,w,A,Y){const Q=Ph(u,d,g,w);return Ph(u,d+2,A,Y)||Q}function wx(u,d,g,w){const A=$n();return yl(A,xc(),d)&&(ms(),qd(yn(),A,u,d,g,w)),wx}function um(u,d,g,w){return yl(u,xc(),g)?d+Fn(g)+w:ns}function H(u,d,g,w,A,Y,Q,ne){const fe=$n(),ke=ms(),Ze=u+20,ot=ke.firstCreatePass?function(u,d,g,w,A,Y,Q,ne,fe){const ke=d.consts,Ze=Vm(d,u,4,Q||null,Hl(ke,ne));Tg(d,g,Ze,Hl(ke,fe)),Tc(d,Ze);const ot=Ze.tViews=Um(2,Ze,w,A,Y,d.directiveRegistry,d.pipeRegistry,null,d.schemas,ke);return null!==d.queries&&(d.queries.template(d,Ze),ot.queries=d.queries.embeddedTView(Ze)),Ze}(Ze,ke,fe,d,g,w,A,Y,Q):ke.data[Ze];Pa(ot,!1);const gt=fe[11].createComment("");ts(ke,fe,gt,ot),Wa(gt,fe),lm(fe,fe[Ze]=T_(gt,fe,gt,ot)),jr(ot)&&ji(ke,fe,ot),null!=Q&&v_(fe,ot,ne)}function Se(u){return al(rr.lFrame.contextLView,20+u)}function u0(u,d=wi.Default){const g=$n();return null===g?Hi(u,d):Ri(Mo(),g,ft(u),d)}function M1(u,d,g){const w=$n();return yl(w,xc(),d)&&go(ms(),yn(),w,u,d,w[11],g,!1),M1}function T1(u,d,g,w,A){const Q=A?"class":"style";Zm(u,g,d.inputs[Q],Q,w)}function S1(u,d,g,w){const A=$n(),Y=ms(),Q=20+u,ne=A[11],fe=A[Q]=mg(ne,d,rr.lFrame.currentNamespace),ke=Y.firstCreatePass?function(u,d,g,w,A,Y,Q){const ne=d.consts,ke=Vm(d,u,2,A,Hl(ne,Y));return Tg(d,g,ke,Hl(ne,Q)),null!==ke.attrs&&dp(ke,ke.attrs,!1),null!==ke.mergedAttrs&&dp(ke,ke.mergedAttrs,!0),null!==d.queries&&d.queries.elementStart(d,ke),ke}(Q,Y,A,0,d,g,w):Y.data[Q];Pa(ke,!0);const Ze=ke.mergedAttrs;null!==Ze&&zd(ne,fe,Ze);const ot=ke.classes;null!==ot&&Nm(ne,fe,ot);const gt=ke.styles;null!==gt&&Fb(ne,fe,gt),64!=(64&ke.flags)&&ts(Y,A,fe,ke),0===rr.lFrame.elementDepthCount&&Wa(fe,A),rr.lFrame.elementDepthCount++,jr(ke)&&(ji(Y,A,ke),y_(Y,ke,A)),null!==w&&v_(A,ke)}function Wv(){let u=Mo();Do()?Bs():(u=u.parent,Pa(u,!1));const d=u;rr.lFrame.elementDepthCount--;const g=ms();g.firstCreatePass&&(Tc(g,u),Cs(u)&&g.queries.elementEnd(u)),null!=d.classesWithoutHost&&function(u){return 0!=(16&u.flags)}(d)&&T1(g,d,$n(),d.classesWithoutHost,!0),null!=d.stylesWithoutHost&&function(u){return 0!=(32&u.flags)}(d)&&T1(g,d,$n(),d.stylesWithoutHost,!1)}function TM(u,d,g,w){S1(u,d,g,w),Wv()}function fp(u,d,g){const w=$n(),A=ms(),Y=u+20,Q=A.firstCreatePass?function(u,d,g,w,A){const Y=d.consts,Q=Hl(Y,w),ne=Vm(d,u,8,"ng-container",Q);return null!==Q&&dp(ne,Q,!0),Tg(d,g,ne,Hl(Y,A)),null!==d.queries&&d.queries.elementStart(d,ne),ne}(Y,A,w,d,g):A.data[Y];Pa(Q,!0);const ne=w[Y]=w[11].createComment("");ts(A,w,ne,Q),Wa(ne,w),jr(Q)&&(ji(A,w,Q),y_(A,Q,w)),null!=g&&v_(w,Q)}function Ln(){let u=Mo();const d=ms();Do()?Bs():(u=u.parent,Pa(u,!1)),d.firstCreatePass&&(Tc(d,u),Cs(u)&&d.queries.elementEnd(u))}function pi(u,d,g){fp(u,d,g),Ln()}function dm(){return $n()}function Dx(u){return!!u&&"function"==typeof u.then}function Si(u){return!!u&&"function"==typeof u.subscribe}const Nc=Si;function qv(u,d,g,w){const A=$n(),Y=ms(),Q=Mo();return cs(Y,A,A[11],Q,u,d,!!g,w),qv}function Ax(u,d){const g=Mo(),w=$n(),A=ms();return cs(A,w,$d(wc(A.data),g,w),g,u,d,!1),Ax}function cs(u,d,g,w,A,Y,Q,ne){const fe=jr(w),Ze=u.firstCreatePass&&Ag(u),ot=d[8],gt=_o(d);let Ft=!0;if(3&w.type||ne){const Cn=Yl(w,d),yi=ne?ne(Cn):Cn,On=gt.length,$i=ne?_r=>ne(fr(_r[w.index])):w.index;if(Hs(g)){let _r=null;if(!ne&&fe&&(_r=function(u,d,g,w){const A=u.cleanup;if(null!=A)for(let Y=0;Y<A.length-1;Y+=2){const Q=A[Y];if(Q===g&&A[Y+1]===w){const ne=d[7],fe=A[Y+2];return ne.length>fe?ne[fe]:null}"string"==typeof Q&&(Y+=2)}return null}(u,d,A,w.index)),null!==_r)(_r.__ngLastListenerFn__||_r).__ngNextListenerFn__=Y,_r.__ngLastListenerFn__=Y,Ft=!1;else{Y=SM(w,d,ot,Y,!1);const uo=g.listen(yi,A,Y);gt.push(Y,uo),Ze&&Ze.push(A,$i,On,On+1)}}else Y=SM(w,d,ot,Y,!0),yi.addEventListener(A,Y,Q),gt.push(Y),Ze&&Ze.push(A,$i,On,Q)}else Y=SM(w,d,ot,Y,!1);const Jt=w.outputs;let In;if(Ft&&null!==Jt&&(In=Jt[A])){const Cn=In.length;if(Cn)for(let yi=0;yi<Cn;yi+=2){const Bc=d[In[yi]][In[yi+1]].subscribe(Y),Vh=gt.length;gt.push(Y,Bc),Ze&&Ze.push(A,w.index,Vh,-(Vh+1))}}}function Ni(u,d,g,w){try{return!1!==g(w)}catch(A){return cm(u,A),!1}}function SM(u,d,g,w,A){return function Y(Q){if(Q===Function)return w;const ne=2&u.flags?ds(u.index,d):d;0==(32&d[2])&&ky(ne);let fe=Ni(d,0,w,Q),ke=Y.__ngNextListenerFn__;for(;ke;)fe=Ni(d,0,ke,Q)&&fe,ke=ke.__ngNextListenerFn__;return A&&!1===fe&&(Q.preventDefault(),Q.returnValue=!1),fe}}function kM(u=1){return function(u){return(rr.lFrame.contextLView=function(u,d){for(;u>0;)d=d[15],u--;return d}(u,rr.lFrame.contextLView))[8]}(u)}function vo(u,d){let g=null;const w=function(u){const d=u.attrs;if(null!=d){const g=d.indexOf(5);if(0==(1&g))return d[g+1]}return null}(u);for(let A=0;A<d.length;A++){const Y=d[A];if("*"!==Y){if(null===w?Zp(u,Y,!0):Hb(w,Y))return A}else g=A}return g}function $v(u){const d=$n()[X][6];if(!d.projection){const w=d.projection=Qe(u?u.length:1,null),A=w.slice();let Y=d.child;for(;null!==Y;){const Q=u?vo(Y,u):0;null!==Q&&(A[Q]?A[Q].projectionNext=Y:w[Q]=Y,A[Q]=Y),Y=Y.next}}}function EM(u,d=0,g){const w=$n(),A=ms(),Y=Vm(A,20+u,16,null,g||null);null===Y.projection&&(Y.projection=d),Bs(),64!=(64&Y.flags)&&function(u,d,g){c_(d[11],0,d,g,se(u,g,d),Hn(g.parent||d[6],g,d))}(A,w,Y)}function Nh(u,d,g){return Ys(u,"",d,"",g),Nh}function Ys(u,d,g,w,A){const Y=$n(),Q=um(Y,d,g,w);return Q!==ns&&go(ms(),yn(),Y,u,Q,Y[11],A,!1),Ys}function nu(u,d,g,w,A){const Y=u[g+1],Q=null===d;let ne=w?gu(Y):_f(Y),fe=!1;for(;0!==ne&&(!1===fe||Q);){const Ze=u[ne+1];d0(u[ne],d)&&(fe=!0,u[ne+1]=w?d_(Ze):vy(Ze)),ne=w?gu(Ze):_f(Ze)}fe&&(u[g+1]=w?vy(Y):d_(Y))}function d0(u,d){return null===u||null==d||(Array.isArray(u)?u[1]:u)===d||!(!Array.isArray(u)||"string"!=typeof d)&&St(u,d)>=0}const iu={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function LM(u){return u.substring(iu.key,iu.keyEnd)}function Ix(u){return u.substring(iu.value,iu.valueEnd)}function Lx(u,d){const g=iu.textEnd;return g===d?-1:(d=iu.keyEnd=function(u,d,g){for(;d<g&&u.charCodeAt(d)>32;)d++;return d}(u,iu.key=d,g),mp(u,d,g))}function Tr(u,d){const g=iu.textEnd;let w=iu.key=mp(u,d,g);return g===w?-1:(w=iu.keyEnd=function(u,d,g){let w;for(;d<g&&(45===(w=u.charCodeAt(d))||95===w||(-33&w)>=65&&(-33&w)<=90||w>=48&&w<=57);)d++;return d}(u,w,g),w=PM(u,w,g),w=iu.value=mp(u,w,g),w=iu.valueEnd=function(u,d,g){let w=-1,A=-1,Y=-1,Q=d,ne=Q;for(;Q<g;){const fe=u.charCodeAt(Q++);if(59===fe)return ne;34===fe||39===fe?ne=Q=k1(u,fe,Q,g):d===Q-4&&85===Y&&82===A&&76===w&&40===fe?ne=Q=k1(u,41,Q,g):fe>32&&(ne=Q),Y=A,A=w,w=-33&fe}return ne}(u,w,g),PM(u,w,g))}function By(u){iu.key=0,iu.keyEnd=0,iu.value=0,iu.valueEnd=0,iu.textEnd=u.length}function mp(u,d,g){for(;d<g&&u.charCodeAt(d)<=32;)d++;return d}function PM(u,d,g,w){return(d=mp(u,d,g))<g&&d++,d}function k1(u,d,g,w){let A=-1,Y=g;for(;Y<w;){const Q=u.charCodeAt(Y++);if(Q==d&&92!==A)return Y;A=92==Q&&92===A?0:Q}throw new Error}function Ox(u,d,g){return gc(u,d,g,!1),Ox}function Rx(u,d){return gc(u,d,null,!0),Rx}function pm(u){fm($k,Gk,u,!1)}function Gk(u,d){for(let g=function(u){return By(u),Tr(u,mp(u,0,iu.textEnd))}(d);g>=0;g=Tr(d,g))$k(u,LM(d),Ix(d))}function Fx(u){fm(Tt,Qp,u,!0)}function Qp(u,d){for(let g=function(u){return By(u),Lx(u,mp(u,0,iu.textEnd))}(d);g>=0;g=Lx(d,g))Tt(u,LM(d),!0)}function gc(u,d,g,w){const A=$n(),Y=ms(),Q=yr(2);Y.firstUpdatePass&&Wk(Y,u,Q,w),d!==ns&&yl(A,Q,d)&&Xk(Y,Y.data[Xt()],A,A[11],u,A[Q+1]=function(u,d){return null==u||("string"==typeof d?u+=d:"object"==typeof u&&(u=Me(bh(u)))),u}(d,g),w,Q)}function fm(u,d,g,w){const A=ms(),Y=yr(2);A.firstUpdatePass&&Wk(A,null,Y,w);const Q=$n();if(g!==ns&&yl(Q,Y,g)){const ne=A.data[Xt()];if(p0(ne,w)&&!bd(A,Y)){let fe=w?ne.classesWithoutHost:ne.stylesWithoutHost;null!==fe&&(g=Be(fe,g||"")),T1(A,ne,Q,g,w)}else!function(u,d,g,w,A,Y,Q,ne){A===ns&&(A=Ot);let fe=0,ke=0,Ze=0<A.length?A[0]:null,ot=0<Y.length?Y[0]:null;for(;null!==Ze||null!==ot;){const gt=fe<A.length?A[fe+1]:void 0,Ft=ke<Y.length?Y[ke+1]:void 0;let In,Jt=null;Ze===ot?(fe+=2,ke+=2,gt!==Ft&&(Jt=ot,In=Ft)):null===ot||null!==Ze&&Ze<ot?(fe+=2,Jt=Ze):(ke+=2,Jt=ot,In=Ft),null!==Jt&&Xk(u,d,g,w,Jt,In,Q,ne),Ze=fe<A.length?A[fe]:null,ot=ke<Y.length?Y[ke]:null}}(A,ne,Q,Q[11],Q[Y+1],Q[Y+1]=function(u,d,g){if(null==g||""===g)return Ot;const w=[],A=bh(g);if(Array.isArray(A))for(let Y=0;Y<A.length;Y++)u(w,A[Y],!0);else if("object"==typeof A)for(const Y in A)A.hasOwnProperty(Y)&&u(w,Y,A[Y]);else"string"==typeof A&&d(w,A);return w}(u,d,g),w,Y)}}function bd(u,d){return d>=u.expandoStartIndex}function Wk(u,d,g,w){const A=u.data;if(null===A[g+1]){const Y=A[Xt()],Q=bd(u,g);p0(Y,w)&&null===d&&!Q&&(d=!1),d=function(u,d,g,w){const A=wc(u);let Y=w?d.residualClasses:d.residualStyles;if(null===A)0===(w?d.classBindings:d.styleBindings)&&(g=zx(g=gp(null,u,d,g,w),d.attrs,w),Y=null);else{const Q=d.directiveStylingLast;if(-1===Q||u[Q]!==A)if(g=gp(A,u,d,g,w),null===Y){let fe=function(u,d,g){const w=g?d.classBindings:d.styleBindings;if(0!==_f(w))return u[gu(w)]}(u,d,w);void 0!==fe&&Array.isArray(fe)&&(fe=gp(null,u,d,fe[1],w),fe=zx(fe,d.attrs,w),function(u,d,g,w){u[gu(g?d.classBindings:d.styleBindings)]=w}(u,d,w,fe))}else Y=function(u,d,g){let w;const A=d.directiveEnd;for(let Y=1+d.directiveStylingLast;Y<A;Y++)w=zx(w,u[Y].hostAttrs,g);return zx(w,d.attrs,g)}(u,d,w)}return void 0!==Y&&(w?d.residualClasses=Y:d.residualStyles=Y),g}(A,Y,d,w),function(u,d,g,w,A,Y){let Q=Y?d.classBindings:d.styleBindings,ne=gu(Q),fe=_f(Q);u[w]=g;let Ze,ke=!1;if(Array.isArray(g)){const ot=g;Ze=ot[1],(null===Ze||St(ot,Ze)>0)&&(ke=!0)}else Ze=g;if(A)if(0!==fe){const gt=gu(u[ne+1]);u[w+1]=zm(gt,ne),0!==gt&&(u[gt+1]=em(u[gt+1],w)),u[ne+1]=function(u,d){return 131071&u|d<<17}(u[ne+1],w)}else u[w+1]=zm(ne,0),0!==ne&&(u[ne+1]=em(u[ne+1],w)),ne=w;else u[w+1]=zm(fe,0),0===ne?ne=w:u[fe+1]=em(u[fe+1],w),fe=w;ke&&(u[w+1]=vy(u[w+1])),nu(u,Ze,w,!0),nu(u,Ze,w,!1),function(u,d,g,w,A){const Y=A?u.residualClasses:u.residualStyles;null!=Y&&"string"==typeof d&&St(Y,d)>=0&&(g[w+1]=d_(g[w+1]))}(d,Ze,u,w,Y),Q=zm(ne,fe),Y?d.classBindings=Q:d.styleBindings=Q}(A,Y,d,g,Q,w)}}function gp(u,d,g,w,A){let Y=null;const Q=g.directiveEnd;let ne=g.directiveStylingLast;for(-1===ne?ne=g.directiveStart:ne++;ne<Q&&(Y=d[ne],w=zx(w,Y.hostAttrs,A),Y!==u);)ne++;return null!==u&&(g.directiveStylingLast=ne),w}function zx(u,d,g){const w=g?1:2;let A=-1;if(null!==d)for(let Y=0;Y<d.length;Y++){const Q=d[Y];"number"==typeof Q?A=Q:A===w&&(Array.isArray(u)||(u=void 0===u?[]:["",u]),Tt(u,Q,!!g||d[++Y]))}return void 0===u?null:u}function $k(u,d,g){Tt(u,d,bh(g))}function Xk(u,d,g,w,A,Y,Q,ne){if(!(3&d.type))return;const fe=u.data,ke=fe[ne+1];A1(function(u){return 1==(1&u)}(ke)?Jk(fe,d,g,A,_f(ke),Q):void 0)||(A1(Y)||function(u){return 2==(2&u)}(ke)&&(Y=Jk(fe,null,g,A,ne,Q)),function(u,d,g,w,A){const Y=Hs(u);if(d)A?Y?u.addClass(g,w):g.classList.add(w):Y?u.removeClass(g,w):g.classList.remove(w);else{let Q=-1===w.indexOf("-")?void 0:Yu.DashCase;if(null==A)Y?u.removeStyle(g,w,Q):g.style.removeProperty(w);else{const ne="string"==typeof A&&A.endsWith("!important");ne&&(A=A.slice(0,-10),Q|=Yu.Important),Y?u.setStyle(g,w,A,Q):g.style.setProperty(w,A,ne?"important":"")}}}(w,Q,Ku(Xt(),g),A,Y))}function Jk(u,d,g,w,A,Y){const Q=null===d;let ne;for(;A>0;){const fe=u[A],ke=Array.isArray(fe),Ze=ke?fe[1]:fe,ot=null===Ze;let gt=g[A+1];gt===ns&&(gt=ot?Ot:void 0);let Ft=ot?Vt(gt,w):Ze===w?gt:void 0;if(ke&&!A1(Ft)&&(Ft=Vt(fe,w)),A1(Ft)&&(ne=Ft,Q))return ne;const Jt=u[A+1];A=Q?gu(Jt):_f(Jt)}if(null!==d){let fe=Y?d.residualClasses:d.residualStyles;null!=fe&&(ne=Vt(fe,w))}return ne}function A1(u){return void 0!==u}function p0(u,d){return 0!=(u.flags&(d?16:32))}function Bx(u,d=""){const g=$n(),w=ms(),A=u+20,Y=w.firstCreatePass?Vm(w,A,1,d,null):w.data[A],Q=g[A]=function(u,d){return Hs(u)?u.createText(d):u.createTextNode(d)}(g[11],d);ts(w,g,Q,Y),Pa(Y,!1)}function Yy(u){return I1("",u,""),Yy}function I1(u,d,g){const w=$n(),A=um(w,u,d,g);return A!==ns&&up(w,Xt(),A),I1}function L1(u,d,g,w,A){const Y=$n(),Q=function(u,d,g,w,A,Y){const ne=Ph(u,ya(),g,A);return yr(2),ne?d+Fn(g)+w+Fn(A)+Y:ns}(Y,u,d,g,w,A);return Q!==ns&&up(Y,Xt(),Q),L1}function P1(u,d,g,w,A,Y,Q,ne,fe,ke,Ze){const ot=$n(),gt=function(u,d,g,w,A,Y,Q,ne,fe,ke,Ze,ot){const gt=ya();let Ft=Fc(u,gt,g,A,Q,fe);return Ft=yl(u,gt+4,Ze)||Ft,yr(5),Ft?d+Fn(g)+w+Fn(A)+Y+Fn(Q)+ne+Fn(fe)+ke+Fn(Ze)+ot:ns}(ot,u,d,g,w,A,Y,Q,ne,fe,ke,Ze);return gt!==ns&&up(ot,Xt(),gt),P1}function R1(u,d,g){fm(Tt,Qp,um($n(),u,d,g),!0)}function UM(u,d,g){const w=$n();return yl(w,xc(),d)&&go(ms(),yn(),w,u,d,w[11],g,!0),UM}function xd(u,d,g){const w=$n();if(yl(w,xc(),d)){const Y=ms(),Q=yn();go(Y,Q,w,u,d,$d(wc(Y.data),Q,w),g,!0)}return xd}const Og=void 0;var s2=["en",[["a","p"],["AM","PM"],Og],[["AM","PM"],Og,Og],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Og,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Og,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Og,"{1} 'at' {0}",Og],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(u){const d=Math.floor(Math.abs(u)),g=u.toString().replace(/^[^.]*\.?/,"").length;return 1===d&&0===g?1:5}];let Uy={};function z1(u){const d=function(u){return u.toLowerCase().replace(/_/g,"-")}(u);let g=L_(d);if(g)return g;const w=d.split("-")[0];if(g=L_(w),g)return g;if("en"===w)return s2;throw new Error(`Missing locale data for the locale "${u}".`)}function g0(u){return z1(u)[Br.PluralCase]}function L_(u){return u in Uy||(Uy[u]=ws.ng&&ws.ng.common&&ws.ng.common.locales&&ws.ng.common.locales[u]),Uy[u]}var Br=(()=>((Br=Br||{})[Br.LocaleId=0]="LocaleId",Br[Br.DayPeriodsFormat=1]="DayPeriodsFormat",Br[Br.DayPeriodsStandalone=2]="DayPeriodsStandalone",Br[Br.DaysFormat=3]="DaysFormat",Br[Br.DaysStandalone=4]="DaysStandalone",Br[Br.MonthsFormat=5]="MonthsFormat",Br[Br.MonthsStandalone=6]="MonthsStandalone",Br[Br.Eras=7]="Eras",Br[Br.FirstDayOfWeek=8]="FirstDayOfWeek",Br[Br.WeekendRange=9]="WeekendRange",Br[Br.DateFormat=10]="DateFormat",Br[Br.TimeFormat=11]="TimeFormat",Br[Br.DateTimeFormat=12]="DateTimeFormat",Br[Br.NumberSymbols=13]="NumberSymbols",Br[Br.NumberFormats=14]="NumberFormats",Br[Br.CurrencyCode=15]="CurrencyCode",Br[Br.CurrencySymbol=16]="CurrencySymbol",Br[Br.CurrencyName=17]="CurrencyName",Br[Br.Currencies=18]="Currencies",Br[Br.Directionality=19]="Directionality",Br[Br.PluralCase=20]="PluralCase",Br[Br.ExtraData=21]="ExtraData",Br))();const jy="en-US";let Zx=jy;function Rg(u){Ti(u,"Expected localeId to be defined"),"string"==typeof u&&(Zx=u.toLowerCase().replace(/_/g,"-"))}function eT(u,d,g,w,A){if(u=ft(u),Array.isArray(u))for(let Y=0;Y<u.length;Y++)eT(u[Y],d,g,w,A);else{const Y=ms(),Q=$n();let ne=M(u)?u:ft(u.provide),fe=$l(u);const ke=Mo(),Ze=1048575&ke.providerIndexes,ot=ke.directiveStart,gt=ke.providerIndexes>>20;if(M(u)||!u.multi){const Ft=new Ar(fe,A,u0),Jt=tT(ne,d,A?Ze:Ze+gt,ot);-1===Jt?($s(Ec(ke,Q),Y,ne),rb(Y,u,d.length),d.push(ne),ke.directiveStart++,ke.directiveEnd++,A&&(ke.providerIndexes+=1048576),g.push(Ft),Q.push(Ft)):(g[Jt]=Ft,Q[Jt]=Ft)}else{const Ft=tT(ne,d,Ze+gt,ot),Jt=tT(ne,d,Ze,Ze+gt),In=Ft>=0&&g[Ft],Cn=Jt>=0&&g[Jt];if(A&&!Cn||!A&&!In){$s(Ec(ke,Q),Y,ne);const yi=function(u,d,g,w,A){const Y=new Ar(u,g,u0);return Y.multi=[],Y.index=d,Y.componentProviders=0,qy(Y,A,w&&!g),Y}(A?OE:sb,g.length,A,w,fe);!A&&Cn&&(g[Jt].providerFactory=yi),rb(Y,u,d.length,0),d.push(ne),ke.directiveStart++,ke.directiveEnd++,A&&(ke.providerIndexes+=1048576),g.push(yi),Q.push(yi)}else rb(Y,u,Ft>-1?Ft:Jt,qy(g[A?Jt:Ft],fe,!A&&w));!A&&w&&Cn&&g[Jt].componentProviders++}}}function rb(u,d,g,w){const A=M(d);if(A||function(u){return!!u.useClass}(d)){const Q=(d.useClass||d).prototype.ngOnDestroy;if(Q){const ne=u.destroyHooks||(u.destroyHooks=[]);if(!A&&d.multi){const fe=ne.indexOf(g);-1===fe?ne.push(g,[w,Q]):ne[fe+1].push(w,Q)}else ne.push(g,Q)}}}function qy(u,d,g){return g&&u.componentProviders++,u.multi.push(d)-1}function tT(u,d,g,w){for(let A=g;A<w;A++)if(d[A]===u)return A;return-1}function sb(u,d,g,w){return $x(this.multi,[])}function OE(u,d,g,w){const A=this.multi;let Y;if(this.providerFactory){const Q=this.providerFactory.componentProviders,ne=Tl(g,g[1],this.providerFactory.index,w);Y=ne.slice(0,Q),$x(A,Y);for(let fe=Q;fe<ne.length;fe++)Y.push(ne[fe])}else Y=[],$x(A,Y);return Y}function $x(u,d){for(let g=0;g<u.length;g++)d.push((0,u[g])());return d}function yp(u,d=[]){return g=>{g.providersResolver=(w,A)=>function(u,d,g){const w=ms();if(w.firstCreatePass){const A=Ms(u);eT(g,w.data,w.blueprint,A,!0),eT(d,w.data,w.blueprint,A,!1)}}(w,A?A(u):u,d)}}class FE{}const iT="ngComponent";class zE{resolveComponentFactory(d){throw function(u){const d=Error(`No component factory found for ${Me(u)}. Did you add it to @NgModule.entryComponents?`);return d[iT]=u,d}(d)}}class R_{}function F_(...u){}function zg(u,d){return new $m(Yl(u,d))}R_.NULL=new zE;const _2=function(){return zg(Mo(),$n())};let $m=(()=>{class u{constructor(g){this.nativeElement=g}}return u.__NG_ELEMENT_ID__=_2,u})();function rT(u){return u instanceof $m?u.nativeElement:u}class T0{}let y2=(()=>{class u{}return u.__NG_ELEMENT_ID__=()=>Bg(),u})();const Bg=function(){const u=$n(),g=ds(Mo().index,u);return function(u){return u[11]}(Lr(g)?g:u)};let sT=(()=>{class u{}return u.\u0275prov=kr({token:u,providedIn:"root",factory:()=>null}),u})();class oT{constructor(d){this.full=d,this.major=d.split(".")[0],this.minor=d.split(".")[1],this.patch=d.split(".").slice(2).join(".")}}const Yg=new oT("12.2.1");class ob{constructor(){}supports(d){return Oo(d)}create(d){return new b2(d)}}const UE=(u,d)=>d;class b2{constructor(d){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=d||UE}forEachItem(d){let g;for(g=this._itHead;null!==g;g=g._next)d(g)}forEachOperation(d){let g=this._itHead,w=this._removalsHead,A=0,Y=null;for(;g||w;){const Q=!w||g&&g.currentIndex<Qy(w,A,Y)?g:w,ne=Qy(Q,A,Y),fe=Q.currentIndex;if(Q===w)A--,w=w._nextRemoved;else if(g=g._next,null==Q.previousIndex)A++;else{Y||(Y=[]);const ke=ne-A,Ze=fe-A;if(ke!=Ze){for(let gt=0;gt<ke;gt++){const Ft=gt<Y.length?Y[gt]:Y[gt]=0,Jt=Ft+gt;Ze<=Jt&&Jt<ke&&(Y[gt]=Ft+1)}Y[Q.previousIndex]=Ze-ke}}ne!==fe&&d(Q,ne,fe)}}forEachPreviousItem(d){let g;for(g=this._previousItHead;null!==g;g=g._nextPrevious)d(g)}forEachAddedItem(d){let g;for(g=this._additionsHead;null!==g;g=g._nextAdded)d(g)}forEachMovedItem(d){let g;for(g=this._movesHead;null!==g;g=g._nextMoved)d(g)}forEachRemovedItem(d){let g;for(g=this._removalsHead;null!==g;g=g._nextRemoved)d(g)}forEachIdentityChange(d){let g;for(g=this._identityChangesHead;null!==g;g=g._nextIdentityChange)d(g)}diff(d){if(null==d&&(d=[]),!Oo(d))throw new Error(`Error trying to diff '${Me(d)}'. Only arrays and iterables are allowed`);return this.check(d)?this:null}onDestroy(){}check(d){this._reset();let A,Y,Q,g=this._itHead,w=!1;if(Array.isArray(d)){this.length=d.length;for(let ne=0;ne<this.length;ne++)Y=d[ne],Q=this._trackByFn(ne,Y),null!==g&&Object.is(g.trackById,Q)?(w&&(g=this._verifyReinsertion(g,Y,Q,ne)),Object.is(g.item,Y)||this._addIdentityChange(g,Y)):(g=this._mismatch(g,Y,Q,ne),w=!0),g=g._next}else A=0,function(u,d){if(Array.isArray(u))for(let g=0;g<u.length;g++)d(u[g]);else{const g=u[sl()]();let w;for(;!(w=g.next()).done;)d(w.value)}}(d,ne=>{Q=this._trackByFn(A,ne),null!==g&&Object.is(g.trackById,Q)?(w&&(g=this._verifyReinsertion(g,ne,Q,A)),Object.is(g.item,ne)||this._addIdentityChange(g,ne)):(g=this._mismatch(g,ne,Q,A),w=!0),g=g._next,A++}),this.length=A;return this._truncate(g),this.collection=d,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let d;for(d=this._previousItHead=this._itHead;null!==d;d=d._next)d._nextPrevious=d._next;for(d=this._additionsHead;null!==d;d=d._nextAdded)d.previousIndex=d.currentIndex;for(this._additionsHead=this._additionsTail=null,d=this._movesHead;null!==d;d=d._nextMoved)d.previousIndex=d.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(d,g,w,A){let Y;return null===d?Y=this._itTail:(Y=d._prev,this._remove(d)),null!==(d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(w,null))?(Object.is(d.item,g)||this._addIdentityChange(d,g),this._reinsertAfter(d,Y,A)):null!==(d=null===this._linkedRecords?null:this._linkedRecords.get(w,A))?(Object.is(d.item,g)||this._addIdentityChange(d,g),this._moveAfter(d,Y,A)):d=this._addAfter(new S0(g,w),Y,A),d}_verifyReinsertion(d,g,w,A){let Y=null===this._unlinkedRecords?null:this._unlinkedRecords.get(w,null);return null!==Y?d=this._reinsertAfter(Y,d._prev,A):d.currentIndex!=A&&(d.currentIndex=A,this._addToMoves(d,A)),d}_truncate(d){for(;null!==d;){const g=d._next;this._addToRemovals(this._unlink(d)),d=g}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(d,g,w){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(d);const A=d._prevRemoved,Y=d._nextRemoved;return null===A?this._removalsHead=Y:A._nextRemoved=Y,null===Y?this._removalsTail=A:Y._prevRemoved=A,this._insertAfter(d,g,w),this._addToMoves(d,w),d}_moveAfter(d,g,w){return this._unlink(d),this._insertAfter(d,g,w),this._addToMoves(d,w),d}_addAfter(d,g,w){return this._insertAfter(d,g,w),this._additionsTail=null===this._additionsTail?this._additionsHead=d:this._additionsTail._nextAdded=d,d}_insertAfter(d,g,w){const A=null===g?this._itHead:g._next;return d._next=A,d._prev=g,null===A?this._itTail=d:A._prev=d,null===g?this._itHead=d:g._next=d,null===this._linkedRecords&&(this._linkedRecords=new N_),this._linkedRecords.put(d),d.currentIndex=w,d}_remove(d){return this._addToRemovals(this._unlink(d))}_unlink(d){null!==this._linkedRecords&&this._linkedRecords.remove(d);const g=d._prev,w=d._next;return null===g?this._itHead=w:g._next=w,null===w?this._itTail=g:w._prev=g,d}_addToMoves(d,g){return d.previousIndex===g||(this._movesTail=null===this._movesTail?this._movesHead=d:this._movesTail._nextMoved=d),d}_addToRemovals(d){return null===this._unlinkedRecords&&(this._unlinkedRecords=new N_),this._unlinkedRecords.put(d),d.currentIndex=null,d._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=d,d._prevRemoved=null):(d._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=d),d}_addIdentityChange(d,g){return d.item=g,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=d:this._identityChangesTail._nextIdentityChange=d,d}}class S0{constructor(d,g){this.item=d,this.trackById=g,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class jE{constructor(){this._head=null,this._tail=null}add(d){null===this._head?(this._head=this._tail=d,d._nextDup=null,d._prevDup=null):(this._tail._nextDup=d,d._prevDup=this._tail,d._nextDup=null,this._tail=d)}get(d,g){let w;for(w=this._head;null!==w;w=w._nextDup)if((null===g||g<=w.currentIndex)&&Object.is(w.trackById,d))return w;return null}remove(d){const g=d._prevDup,w=d._nextDup;return null===g?this._head=w:g._nextDup=w,null===w?this._tail=g:w._prevDup=g,null===this._head}}class N_{constructor(){this.map=new Map}put(d){const g=d.trackById;let w=this.map.get(g);w||(w=new jE,this.map.set(g,w)),w.add(d)}get(d,g){const A=this.map.get(d);return A?A.get(d,g):null}remove(d){const g=d.trackById;return this.map.get(g).remove(d)&&this.map.delete(g),d}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Qy(u,d,g){const w=u.previousIndex;if(null===w)return w;let A=0;return g&&w<g.length&&(A=g[w]),w+d+A}class lT{constructor(){}supports(d){return d instanceof Map||Py(d)}create(){return new x2}}class x2{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(d){let g;for(g=this._mapHead;null!==g;g=g._next)d(g)}forEachPreviousItem(d){let g;for(g=this._previousMapHead;null!==g;g=g._nextPrevious)d(g)}forEachChangedItem(d){let g;for(g=this._changesHead;null!==g;g=g._nextChanged)d(g)}forEachAddedItem(d){let g;for(g=this._additionsHead;null!==g;g=g._nextAdded)d(g)}forEachRemovedItem(d){let g;for(g=this._removalsHead;null!==g;g=g._nextRemoved)d(g)}diff(d){if(d){if(!(d instanceof Map||Py(d)))throw new Error(`Error trying to diff '${Me(d)}'. Only maps and objects are allowed`)}else d=new Map;return this.check(d)?this:null}onDestroy(){}check(d){this._reset();let g=this._mapHead;if(this._appendAfter=null,this._forEach(d,(w,A)=>{if(g&&g.key===A)this._maybeAddToChanges(g,w),this._appendAfter=g,g=g._next;else{const Y=this._getOrCreateRecordForKey(A,w);g=this._insertBeforeOrAppend(g,Y)}}),g){g._prev&&(g._prev._next=null),this._removalsHead=g;for(let w=g;null!==w;w=w._nextRemoved)w===this._mapHead&&(this._mapHead=null),this._records.delete(w.key),w._nextRemoved=w._next,w.previousValue=w.currentValue,w.currentValue=null,w._prev=null,w._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(d,g){if(d){const w=d._prev;return g._next=d,g._prev=w,d._prev=g,w&&(w._next=g),d===this._mapHead&&(this._mapHead=g),this._appendAfter=d,d}return this._appendAfter?(this._appendAfter._next=g,g._prev=this._appendAfter):this._mapHead=g,this._appendAfter=g,null}_getOrCreateRecordForKey(d,g){if(this._records.has(d)){const A=this._records.get(d);this._maybeAddToChanges(A,g);const Y=A._prev,Q=A._next;return Y&&(Y._next=Q),Q&&(Q._prev=Y),A._next=null,A._prev=null,A}const w=new w2(d);return this._records.set(d,w),w.currentValue=g,this._addToAdditions(w),w}_reset(){if(this.isDirty){let d;for(this._previousMapHead=this._mapHead,d=this._previousMapHead;null!==d;d=d._next)d._nextPrevious=d._next;for(d=this._changesHead;null!==d;d=d._nextChanged)d.previousValue=d.currentValue;for(d=this._additionsHead;null!=d;d=d._nextAdded)d.previousValue=d.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(d,g){Object.is(g,d.currentValue)||(d.previousValue=d.currentValue,d.currentValue=g,this._addToChanges(d))}_addToAdditions(d){null===this._additionsHead?this._additionsHead=this._additionsTail=d:(this._additionsTail._nextAdded=d,this._additionsTail=d)}_addToChanges(d){null===this._changesHead?this._changesHead=this._changesTail=d:(this._changesTail._nextChanged=d,this._changesTail=d)}_forEach(d,g){d instanceof Map?d.forEach(g):Object.keys(d).forEach(w=>g(d[w],w))}}class w2{constructor(d){this.key=d,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ZE(){return new j1([new ob])}let j1=(()=>{class u{constructor(g){this.factories=g}static create(g,w){if(null!=w){const A=w.factories.slice();g=g.concat(A)}return new u(g)}static extend(g){return{provide:u,useFactory:w=>u.create(g,w||ZE()),deps:[[u,new Oa,new Za]]}}find(g){const w=this.factories.find(A=>A.supports(g));if(null!=w)return w;throw new Error(`Cannot find a differ supporting object '${g}' of type '${function(u){return u.name||typeof u}(g)}'`)}}return u.\u0275prov=kr({token:u,providedIn:"root",factory:ZE}),u})();function ab(){return new Xx([new lT])}let Xx=(()=>{class u{constructor(g){this.factories=g}static create(g,w){if(w){const A=w.factories.slice();g=g.concat(A)}return new u(g)}static extend(g){return{provide:u,useFactory:w=>u.create(g,w||ab()),deps:[[u,new Oa,new Za]]}}find(g){const w=this.factories.find(A=>A.supports(g));if(w)return w;throw new Error(`Cannot find a differ supporting object '${g}'`)}}return u.\u0275prov=kr({token:u,providedIn:"root",factory:ab}),u})();function G1(u,d,g,w,A=!1){for(;null!==g;){const Y=d[g.index];if(null!==Y&&w.push(fr(Y)),eo(Y))for(let ne=10;ne<Y.length;ne++){const fe=Y[ne],ke=fe[1].firstChild;null!==ke&&G1(fe[1],fe,ke,w)}const Q=g.type;if(8&Q)G1(u,d,g.child,w);else if(32&Q){const ne=Th(g,d);let fe;for(;fe=ne();)w.push(fe)}else if(16&Q){const ne=Qc(d,g);if(Array.isArray(ne))w.push(...ne);else{const fe=Zd(d[X]);G1(fe[1],fe,ne,w,!0)}}g=A?g.projectionNext:g.next}return w}class Jx{constructor(d,g){this._lView=d,this._cdRefInjectingView=g,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const d=this._lView,g=d[1];return G1(g,d,g.firstChild,[])}get context(){return this._lView[8]}set context(d){this._lView[8]=d}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const d=this._lView[3];if(eo(d)){const g=d[8],w=g?g.indexOf(this):-1;w>-1&&(Kf(d,w),qe(g,w))}this._attachedToViewContainer=!1}E(this._lView[1],this._lView)}onDestroy(d){gd(this._lView[1],this._lView,null,d)}markForCheck(){ky(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){S_(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(u,d,g){Uc(!0);try{S_(u,d,g)}finally{Uc(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var d;this._appRef=null,mu(this._lView[1],d=this._lView,d[11],2,null,null)}attachToAppRef(d){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=d}}class GE extends Jx{constructor(d){super(d),this._view=d}detectChanges(){Wp(this._view)}checkNoChanges(){!function(u){Uc(!0);try{Wp(u)}finally{Uc(!1)}}(this._view)}get context(){return null}}const C2=function(u){return function(u,d,g){if(qi(u)&&!g){const w=ds(u.index,d);return new Jx(w,w)}return 47&u.type?new Jx(d[X],d):null}(Mo(),$n(),16==(16&u))};let WE=(()=>{class u{}return u.__NG_ELEMENT_ID__=C2,u})();const Kx=[new lT],dT=new j1([new ob]),T2=new Xx(Kx),$E=function(){return tw(Mo(),$n())};let ew=(()=>{class u{}return u.__NG_ELEMENT_ID__=$E,u})();const QE=ew,XE=class extends QE{constructor(d,g,w){super(),this._declarationLView=d,this._declarationTContainer=g,this.elementRef=w}createEmbeddedView(d){const g=this._declarationTContainer.tViews,w=im(this._declarationLView,g,d,16,null,g.declTNode,null,null,null,null);w[17]=this._declarationLView[this._declarationTContainer.index];const Y=this._declarationLView[19];return null!==Y&&(w[19]=Y.createEmbeddedView(g)),Ah(g,w,d),new Jx(w)}};function tw(u,d){return 4&u.type?new XE(d,u,zg(u,d)):null}class lb{}class hT{}const k0=function(){return nD(Mo(),$n())};let cb=(()=>{class u{}return u.__NG_ELEMENT_ID__=k0,u})();const KE=cb,eD=class extends KE{constructor(d,g,w){super(),this._lContainer=d,this._hostTNode=g,this._hostLView=w}get element(){return zg(this._hostTNode,this._hostLView)}get injector(){return new lc(this._hostTNode,this._hostLView)}get parentInjector(){const d=wr(this._hostTNode,this._hostLView);if(Du(d)){const g=Vl(d,this._hostLView),w=Ml(d);return new lc(g[1].data[w+8],g)}return new lc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(d){const g=tD(this._lContainer);return null!==g&&g[d]||null}get length(){return this._lContainer.length-10}createEmbeddedView(d,g,w){const A=d.createEmbeddedView(g||{});return this.insert(A,w),A}createComponent(d,g,w,A,Y){const Q=w||this.parentInjector;if(!Y&&null==d.ngModule&&Q){const fe=Q.get(lb,null);fe&&(Y=fe)}const ne=d.create(Q,A,void 0,Y);return this.insert(ne.hostView,g),ne}insert(d,g){const w=d._lView,A=w[1];if(eo(w[3])){const Ze=this.indexOf(d);if(-1!==Ze)this.detach(Ze);else{const ot=w[3],gt=new eD(ot,ot[6],ot[3]);gt.detach(gt.indexOf(d))}}const Y=this._adjustIndex(g),Q=this._lContainer;!function(u,d,g,w){const A=10+w,Y=g.length;w>0&&(g[A-1][4]=d),w<Y-10?(d[4]=g[A],He(g,10+w,d)):(g.push(d),d[4]=null),d[3]=g;const Q=d[17];null!==Q&&g!==Q&&function(u,d){const g=u[9];d[X]!==d[3][3][X]&&(u[2]=!0),null===g?u[9]=[d]:g.push(d)}(Q,d);const ne=d[19];null!==ne&&ne.insertView(u),d[2]|=128}(A,w,Q,Y);const ne=mf(Y,Q),fe=w[11],ke=zt(fe,Q[7]);return null!==ke&&function(u,d,g,w,A,Y){w[0]=A,w[6]=d,mu(u,w,g,1,A,Y)}(A,Q[6],fe,w,ke,ne),d.attachToViewContainerRef(),He(pT(Q),Y,d),d}move(d,g){return this.insert(d,g)}indexOf(d){const g=tD(this._lContainer);return null!==g?g.indexOf(d):-1}remove(d){const g=this._adjustIndex(d,-1),w=Kf(this._lContainer,g);w&&(qe(pT(this._lContainer),g),E(w[1],w))}detach(d){const g=this._adjustIndex(d,-1),w=Kf(this._lContainer,g);return w&&null!=qe(pT(this._lContainer),g)?new Jx(w):null}_adjustIndex(d,g=0){return null==d?this.length+g:d}};function tD(u){return u[8]}function pT(u){return u[8]||(u[8]=[])}function nD(u,d){let g;const w=d[u.index];if(eo(w))g=w;else{let A;if(8&u.type)A=fr(w);else{const Y=d[11];A=Y.createComment("");const Q=Yl(u,d);Fe(Y,zt(Y,Q),A,function(u,d){return Hs(u)?u.nextSibling(d):d.nextSibling}(Y,Q),!1)}d[u.index]=g=T_(w,d,A,u),lm(d,g)}return new eD(g,u,d)}const P0={};class SD extends R_{constructor(d){super(),this.ngModule=d}resolveComponentFactory(d){const g=En(d);return new LT(g,this.ngModule)}}function kD(u){const d=[];for(let g in u)u.hasOwnProperty(g)&&d.push({propName:u[g],templateName:g});return d}const Q2=new Io("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>jp});class LT extends FE{constructor(d,g){super(),this.componentDef=d,this.ngModule=g,this.componentType=d.type,this.selector=d.selectors.map(yy).join(","),this.ngContentSelectors=d.ngContentSelectors?d.ngContentSelectors:[],this.isBoundToModule=!!g}get inputs(){return kD(this.componentDef.inputs)}get outputs(){return kD(this.componentDef.outputs)}create(d,g,w,A){const Y=(A=A||this.ngModule)?function(u,d){return{get:(g,w,A)=>{const Y=u.get(g,P0,A);return Y!==P0||w===P0?Y:d.get(g,w,A)}}}(d,A.injector):d,Q=Y.get(T0,or),ne=Y.get(sT,null),fe=Q.createRenderer(null,this.componentDef),ke=this.componentDef.selectors[0][0]||"div",Ze=w?function(u,d,g){if(Hs(u))return u.selectRootElement(d,g===jn.ShadowDom);let w="string"==typeof d?u.querySelector(d):d;return w.textContent="",w}(fe,w,this.componentDef.encapsulation):mg(Q.createRenderer(null,this.componentDef),ke,function(u){const d=u.toLowerCase();return"svg"===d?mi:"math"===d?"http://www.w3.org/1998/MathML/":null}(ke)),ot=this.componentDef.onPush?576:528,gt=function(u,d){return{components:[],scheduler:u||jp,clean:Kb,playerHandler:d||null,flags:0}}(),Ft=Um(0,null,null,1,0,null,null,null,null,null),Jt=im(null,Ft,gt,ot,null,null,Q,fe,ne,Y);let In,Cn;ua(Jt);try{const yi=function(u,d,g,w,A,Y){const Q=g[1];g[20]=u;const fe=Vm(Q,20,2,"#host",null),ke=fe.mergedAttrs=d.hostAttrs;null!==ke&&(dp(fe,ke,!0),null!==u&&(zd(A,u,ke),null!==fe.classes&&Nm(A,u,fe.classes),null!==fe.styles&&Fb(A,u,fe.styles)));const Ze=w.createRenderer(u,d),ot=im(g,is(d),null,d.onPush?64:16,g[20],fe,w,Ze,Y||null,null);return Q.firstCreatePass&&($s(Ec(fe,g),Q,d.type),Vr(Q,fe),Ty(fe,g.length,1)),lm(g,ot),g[20]=ot}(Ze,this.componentDef,Jt,Q,fe);if(Ze)if(w)zd(fe,Ze,["ng-version",Yg.full]);else{const{attrs:On,classes:$i}=function(u){const d=[],g=[];let w=1,A=2;for(;w<u.length;){let Y=u[w];if("string"==typeof Y)2===A?""!==Y&&d.push(Y,u[++w]):8===A&&g.push(Y);else{if(!Gd(A))break;A=Y}w++}return{attrs:d,classes:g}}(this.componentDef.selectors[0]);On&&zd(fe,Ze,On),$i&&$i.length>0&&Nm(fe,Ze,$i.join(" "))}if(Cn=La(Ft,20),void 0!==g){const On=Cn.projection=[];for(let $i=0;$i<this.ngContentSelectors.length;$i++){const _r=g[$i];On.push(null!=_r?Array.from(_r):null)}}In=function(u,d,g,w,A){const Y=g[1],Q=function(u,d,g){const w=Mo();u.firstCreatePass&&(g.providersResolver&&g.providersResolver(g),Sy(u,w,d,Ls(u,d,1,null),g));const A=Tl(d,u,w.directiveStart,w);Wa(A,d);const Y=Yl(w,d);return Y&&Wa(Y,d),A}(Y,g,d);if(w.components.push(Q),u[8]=Q,A&&A.forEach(fe=>fe(Q,d)),d.contentQueries){const fe=Mo();d.contentQueries(1,Q,fe.directiveStart)}const ne=Mo();return!Y.firstCreatePass||null===d.hostBindings&&null===d.hostAttrs||(An(ne.index),Sg(g[1],ne,0,ne.directiveStart,ne.directiveEnd,d),il(d,Q)),Q}(yi,this.componentDef,Jt,gt,[Kc]),Ah(Ft,Jt,null)}finally{cl()}return new DD(this.componentType,In,zg(Cn,Jt),Jt,Cn)}}class DD extends class{}{constructor(d,g,w,A,Y){super(),this.location=w,this._rootLView=A,this._tNode=Y,this.instance=g,this.hostView=this.changeDetectorRef=new GE(A),this.componentType=d}get injector(){return new lc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(d){this.hostView.onDestroy(d)}}const pb=new Map;class iC extends lb{constructor(d,g){super(),this._parent=g,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new SD(this);const w=f(d),A=d[Ui]||null;A&&Rg(A),this._bootstrapComponents=Oc(w.bootstrap),this._r3Injector=ql(d,g,[{provide:lb,useValue:this},{provide:R_,useValue:this.componentFactoryResolver}],Me(d)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(d)}get(d,g=Te.THROW_IF_NOT_FOUND,w=wi.Default){return d===Te||d===lb||d===wf?this:this._r3Injector.get(d,g,w)}destroy(){const d=this._r3Injector;!d.destroyed&&d.destroy(),this.destroyCbs.forEach(g=>g()),this.destroyCbs=null}onDestroy(d){this.destroyCbs.push(d)}}class rC extends hT{constructor(d){super(),this.moduleType=d,null!==f(d)&&function(u){const d=new Set;!function g(w){const A=f(w,!0),Y=A.id;null!==Y&&(function(u,d,g){if(d&&d!==g)throw new Error(`Duplicate module registered for ${u} - ${Me(d)} vs ${Me(d.name)}`)}(Y,pb.get(Y),w),pb.set(Y,w));const Q=Oc(A.imports);for(const ne of Q)d.has(ne)||(d.add(ne),g(ne))}(u)}(d)}create(d){return new iC(this.moduleType,d)}}function FT(u,d,g){const w=po()+u,A=$n();return A[w]===ns?pa(A,w,g?d.call(g):d()):_l(A,w)}function NT(u,d,g,w){return fw($n(),po(),u,d,g,w)}function PD(u,d,g,w,A){return Go($n(),po(),u,d,g,w,A)}function OD(u,d,g,w,A,Y){return function(u,d,g,w,A,Y,Q,ne){const fe=d+g;return E_(u,fe,A,Y,Q)?pa(u,fe+3,ne?w.call(ne,A,Y,Q):w(A,Y,Q)):O0(u,fe+3)}($n(),po(),u,d,g,w,A,Y)}function RD(u,d,g,w,A,Y,Q){return function(u,d,g,w,A,Y,Q,ne,fe){const ke=d+g;return Fc(u,ke,A,Y,Q,ne)?pa(u,ke+4,fe?w.call(fe,A,Y,Q,ne):w(A,Y,Q,ne)):O0(u,ke+4)}($n(),po(),u,d,g,w,A,Y,Q)}function FD(u,d,g,w,A,Y,Q,ne){const fe=po()+u,ke=$n(),Ze=Fc(ke,fe,g,w,A,Y);return yl(ke,fe+4,Q)||Ze?pa(ke,fe+5,ne?d.call(ne,g,w,A,Y,Q):d(g,w,A,Y,Q)):_l(ke,fe+5)}function sC(u,d,g,w,A,Y,Q,ne,fe){const ke=po()+u,Ze=$n(),ot=Fc(Ze,ke,g,w,A,Y);return Ph(Ze,ke+4,Q,ne)||ot?pa(Ze,ke+6,fe?d.call(fe,g,w,A,Y,Q,ne):d(g,w,A,Y,Q,ne)):_l(Ze,ke+6)}function oC(u,d,g,w,A,Y,Q,ne,fe,ke){const Ze=po()+u,ot=$n();let gt=Fc(ot,Ze,g,w,A,Y);return E_(ot,Ze+4,Q,ne,fe)||gt?pa(ot,Ze+7,ke?d.call(ke,g,w,A,Y,Q,ne,fe):d(g,w,A,Y,Q,ne,fe)):_l(ot,Ze+7)}function zT(u,d,g,w){return function(u,d,g,w,A,Y){let Q=d+g,ne=!1;for(let fe=0;fe<A.length;fe++)yl(u,Q++,A[fe])&&(ne=!0);return ne?pa(u,Q,w.apply(Y,A)):O0(u,Q)}($n(),po(),u,d,g,w)}function O0(u,d){const g=u[d];return g===ns?void 0:g}function fw(u,d,g,w,A,Y){const Q=d+g;return yl(u,Q,A)?pa(u,Q+1,Y?w.call(Y,A):w(A)):O0(u,Q+1)}function Go(u,d,g,w,A,Y,Q){const ne=d+g;return Ph(u,ne,A,Y)?pa(u,ne+2,Q?w.call(Q,A,Y):w(A,Y)):O0(u,ne+2)}function Xl(u,d){const g=ms();let w;const A=u+20;g.firstCreatePass?(w=function(u,d){if(d)for(let g=d.length-1;g>=0;g--){const w=d[g];if(u===w.name)return w}throw new Gt("302",`The pipe '${u}' could not be found!`)}(d,g.pipeRegistry),g.data[A]=w,w.onDestroy&&(g.destroyHooks||(g.destroyHooks=[])).push(A,w.onDestroy)):w=g.data[A];const Y=w.factory||(w.factory=Ss(w.type)),Q=nr(u0);try{const ne=Bd(!1),fe=Y();return Bd(ne),function(u,d,g,w){g>=u.data.length&&(u.data[g]=null,u.blueprint[g]=null),d[g]=w}(g,$n(),A,fe),fe}finally{nr(Q)}}function H_(u,d,g){const w=u+20,A=$n(),Y=al(A,w);return Hg(A,mw(A,w)?fw(A,po(),d,Y.transform,g,Y):Y.transform(g))}function HT(u,d,g,w){const A=u+20,Y=$n(),Q=al(Y,A);return Hg(Y,mw(Y,A)?Go(Y,po(),d,Q.transform,g,w,Q):Q.transform(g,w))}function mw(u,d){return u[1].data[d].pure}function Hg(u,d){return vd.isWrapped(d)&&(d=vd.unwrap(d),u[ya()]=ns),d}function VT(u){return d=>{setTimeout(u,void 0,d)}}const Ta=class extends o.xQ{constructor(d=!1){super(),this.__isAsync=d}emit(d){super.next(d)}subscribe(d,g,w){var A,Y,Q;let ne=d,fe=g||(()=>null),ke=w;if(d&&"object"==typeof d){const ot=d;ne=null===(A=ot.next)||void 0===A?void 0:A.bind(ot),fe=null===(Y=ot.error)||void 0===Y?void 0:Y.bind(ot),ke=null===(Q=ot.complete)||void 0===Q?void 0:Q.bind(ot)}this.__isAsync&&(fe=VT(fe),ne&&(ne=VT(ne)),ke&&(ke=VT(ke)));const Ze=super.subscribe({next:ne,error:fe,complete:ke});return d instanceof $.w&&d.add(Ze),Ze}};function Sd(){return this._results[sl()]()}class F0{constructor(d=!1){this._emitDistinctChangesOnly=d,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const g=sl(),w=F0.prototype;w[g]||(w[g]=Sd)}get changes(){return this._changes||(this._changes=new Ta)}get(d){return this._results[d]}map(d){return this._results.map(d)}filter(d){return this._results.filter(d)}find(d){return this._results.find(d)}reduce(d,g){return this._results.reduce(d,g)}forEach(d){this._results.forEach(d)}some(d){return this._results.some(d)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(d,g){const w=this;w.dirty=!1;const A=xe(d);(this._changesDetected=!function(u,d,g){if(u.length!==d.length)return!1;for(let w=0;w<u.length;w++){let A=u[w],Y=d[w];if(g&&(A=g(A),Y=g(Y)),Y!==A)return!1}return!0}(w._results,A,g))&&(w._results=A,w.length=A.length,w.last=A[this.length-1],w.first=A[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class U_{constructor(d){this.queryList=d,this.matches=null}clone(){return new U_(this.queryList)}setDirty(){this.queryList.setDirty()}}class j_{constructor(d=[]){this.queries=d}createEmbeddedView(d){const g=d.queries;if(null!==g){const w=null!==d.contentQueries?d.contentQueries[0]:g.length,A=[];for(let Y=0;Y<w;Y++){const Q=g.getByIndex(Y);A.push(this.queries[Q.indexInDeclarationView].clone())}return new j_(A)}return null}insertView(d){this.dirtyQueriesWithMatches(d)}detachView(d){this.dirtyQueriesWithMatches(d)}dirtyQueriesWithMatches(d){for(let g=0;g<this.queries.length;g++)null!==WT(d,g).matches&&this.queries[g].setDirty()}}class gw{constructor(d,g,w=null){this.predicate=d,this.flags=g,this.read=w}}class UT{constructor(d=[]){this.queries=d}elementStart(d,g){for(let w=0;w<this.queries.length;w++)this.queries[w].elementStart(d,g)}elementEnd(d){for(let g=0;g<this.queries.length;g++)this.queries[g].elementEnd(d)}embeddedTView(d){let g=null;for(let w=0;w<this.length;w++){const A=null!==g?g.length:0,Y=this.getByIndex(w).embeddedTView(d,A);Y&&(Y.indexInDeclarationView=w,null!==g?g.push(Y):g=[Y])}return null!==g?new UT(g):null}template(d,g){for(let w=0;w<this.queries.length;w++)this.queries[w].template(d,g)}getByIndex(d){return this.queries[d]}get length(){return this.queries.length}track(d){this.queries.push(d)}}class jT{constructor(d,g=-1){this.metadata=d,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=g}elementStart(d,g){this.isApplyingToNode(g)&&this.matchTNode(d,g)}elementEnd(d){this._declarationNodeIndex===d.index&&(this._appliesToNextNode=!1)}template(d,g){this.elementStart(d,g)}embeddedTView(d,g){return this.isApplyingToNode(d)?(this.crossesNgTemplate=!0,this.addMatch(-d.index,g),new jT(this.metadata)):null}isApplyingToNode(d){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const g=this._declarationNodeIndex;let w=d.parent;for(;null!==w&&8&w.type&&w.index!==g;)w=w.parent;return g===(null!==w?w.index:-1)}return this._appliesToNextNode}matchTNode(d,g){const w=this.metadata.predicate;if(Array.isArray(w))for(let A=0;A<w.length;A++){const Y=w[A];this.matchTNodeWithReadOption(d,g,VD(g,Y)),this.matchTNodeWithReadOption(d,g,Os(g,d,Y,!1,!1))}else w===ew?4&g.type&&this.matchTNodeWithReadOption(d,g,-1):this.matchTNodeWithReadOption(d,g,Os(g,d,w,!1,!1))}matchTNodeWithReadOption(d,g,w){if(null!==w){const A=this.metadata.read;if(null!==A)if(A===$m||A===cb||A===ew&&4&g.type)this.addMatch(g.index,-2);else{const Y=Os(g,d,A,!1,!1);null!==Y&&this.addMatch(g.index,Y)}else this.addMatch(g.index,w)}}addMatch(d,g){null===this.matches?this.matches=[d,g]:this.matches.push(d,g)}}function VD(u,d){const g=u.localNames;if(null!==g)for(let w=0;w<g.length;w+=2)if(g[w]===d)return g[w+1];return null}function jD(u,d,g,w){return-1===g?function(u,d){return 11&u.type?zg(u,d):4&u.type?tw(u,d):null}(d,u):-2===g?function(u,d,g){return g===$m?zg(d,u):g===ew?tw(d,u):g===cb?nD(d,u):void 0}(u,d,w):Tl(u,u[1],g,d)}function iv(u,d,g,w){const A=d[19].queries[w];if(null===A.matches){const Y=u.data,Q=g.matches,ne=[];for(let fe=0;fe<Q.length;fe+=2){const ke=Q[fe];ne.push(ke<0?null:jD(d,Y[ke],Q[fe+1],g.metadata.read))}A.matches=ne}return A.matches}function N0(u,d,g,w){const A=u.queries.getByIndex(g),Y=A.matches;if(null!==Y){const Q=iv(u,d,A,g);for(let ne=0;ne<Y.length;ne+=2){const fe=Y[ne];if(fe>0)w.push(Q[ne/2]);else{const ke=Y[ne+1],Ze=d[-fe];for(let ot=10;ot<Ze.length;ot++){const gt=Ze[ot];gt[17]===gt[3]&&N0(gt[1],gt,ke,w)}if(null!==Ze[9]){const ot=Ze[9];for(let gt=0;gt<ot.length;gt++){const Ft=ot[gt];N0(Ft[1],Ft,ke,w)}}}}}return w}function lC(u){const d=$n(),g=ms(),w=Qh();Mu(w+1);const A=WT(g,w);if(u.dirty&&ca(d)===(2==(2&A.metadata.flags))){if(null===A.matches)u.reset([]);else{const Y=A.crossesNgTemplate?N0(g,d,w,[]):iv(g,d,A,w);u.reset(Y,rT),u.notifyOnChanges()}return!0}return!1}function ZT(u,d,g){const w=ms();w.firstCreatePass&&(cC(w,new gw(u,d,g),-1),2==(2&d)&&(w.staticViewQueries=!0)),WD(w,$n(),d)}function ZD(u,d,g,w){const A=ms();if(A.firstCreatePass){const Y=Mo();cC(A,new gw(d,g,w),Y.index),function(u,d){const g=u.contentQueries||(u.contentQueries=[]);d!==(g.length?g[g.length-1]:-1)&&g.push(u.queries.length-1,d)}(A,u),2==(2&g)&&(A.staticContentQueries=!0)}WD(A,$n(),g)}function GD(){return u=$n(),d=Qh(),u[19].queries[d].queryList;var u,d}function WD(u,d,g){const w=new F0(4==(4&g));gd(u,d,w,w.destroy),null===d[19]&&(d[19]=new j_),d[19].queries.push(new U_(w))}function cC(u,d,g){null===u.queries&&(u.queries=new UT),u.queries.track(new jT(d,g))}function WT(u,d){return u.queries.getByIndex(d)}function rv(u,d){return tw(u,d)}const iS=new Io("Application Initializer");let lv=(()=>{class u{constructor(g){this.appInits=g,this.resolve=F_,this.reject=F_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((w,A)=>{this.resolve=w,this.reject=A})}runInitializers(){if(this.initialized)return;const g=[],w=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let A=0;A<this.appInits.length;A++){const Y=this.appInits[A]();if(Dx(Y))g.push(Y);else if(Nc(Y)){const Q=new Promise((ne,fe)=>{Y.subscribe({complete:ne,error:fe})});g.push(Q)}}Promise.all(g).then(()=>{w()}).catch(A=>{this.reject(A)}),0===g.length&&w(),this.initialized=!0}}return u.\u0275fac=function(g){return new(g||u)(Hi(iS,8))},u.\u0275prov=kr({token:u,factory:u.\u0275fac}),u})();const bC=new Io("AppId"),hA={provide:bC,useFactory:function(){return`${xC()}${xC()}${xC()}`},deps:[]};function xC(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Sa=new Io("Platform Initializer"),pA=new Io("Platform ID"),H0=new Io("appBootstrapListener");let rS=(()=>{class u{log(g){console.log(g)}warn(g){console.warn(g)}}return u.\u0275fac=function(g){return new(g||u)},u.\u0275prov=kr({token:u,factory:u.\u0275fac}),u})();const Qs=new Io("LocaleId"),$_=new Io("DefaultCurrencyCode");class yP{constructor(d,g){this.ngModuleFactory=d,this.componentFactories=g}}const Vg=function(u){return new rC(u)},wN=Vg,mA=function(u){return Promise.resolve(Vg(u))},oS=function(u){const d=Vg(u),w=Oc(f(u).declarations).reduce((A,Y)=>{const Q=En(Y);return Q&&A.push(new LT(Q)),A},[]);return new yP(d,w)},wP=oS,aS=function(u){return Promise.resolve(oS(u))};let yb=(()=>{class u{constructor(){this.compileModuleSync=wN,this.compileModuleAsync=mA,this.compileModuleAndAllComponentsSync=wP,this.compileModuleAndAllComponentsAsync=aS}clearCache(){}clearCacheFor(g){}getModuleId(g){}}return u.\u0275fac=function(g){return new(g||u)},u.\u0275prov=kr({token:u,factory:u.\u0275fac}),u})();const lS=(()=>Promise.resolve(0))();function Ug(u){"undefined"==typeof Zone?lS.then(()=>{u&&u.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",u)}class bp{constructor({enableLongStackTrace:d=!1,shouldCoalesceEventChangeDetection:g=!1,shouldCoalesceRunChangeDetection:w=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ta(!1),this.onMicrotaskEmpty=new Ta(!1),this.onStable=new Ta(!1),this.onError=new Ta(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const A=this;A._nesting=0,A._outer=A._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(A._inner=A._inner.fork(new Zone.TaskTrackingZoneSpec)),d&&Zone.longStackTraceZoneSpec&&(A._inner=A._inner.fork(Zone.longStackTraceZoneSpec)),A.shouldCoalesceEventChangeDetection=!w&&g,A.shouldCoalesceRunChangeDetection=w,A.lastRequestAnimationFrameId=-1,A.nativeRequestAnimationFrame=function(){let u=ws.requestAnimationFrame,d=ws.cancelAnimationFrame;if("undefined"!=typeof Zone&&u&&d){const g=u[Zone.__symbol__("OriginalDelegate")];g&&(u=g);const w=d[Zone.__symbol__("OriginalDelegate")];w&&(d=w)}return{nativeRequestAnimationFrame:u,nativeCancelAnimationFrame:d}}().nativeRequestAnimationFrame,function(u){const d=()=>{!function(u){u.isCheckStableRunning||-1!==u.lastRequestAnimationFrameId||(u.lastRequestAnimationFrameId=u.nativeRequestAnimationFrame.call(ws,()=>{u.fakeTopEventTask||(u.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{u.lastRequestAnimationFrameId=-1,vA(u),u.isCheckStableRunning=!0,yA(u),u.isCheckStableRunning=!1},void 0,()=>{},()=>{})),u.fakeTopEventTask.invoke()}),vA(u))}(u)};u._inner=u._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(g,w,A,Y,Q,ne)=>{try{return MP(u),g.invokeTask(A,Y,Q,ne)}finally{(u.shouldCoalesceEventChangeDetection&&"eventTask"===Y.type||u.shouldCoalesceRunChangeDetection)&&d(),TP(u)}},onInvoke:(g,w,A,Y,Q,ne,fe)=>{try{return MP(u),g.invoke(A,Y,Q,ne,fe)}finally{u.shouldCoalesceRunChangeDetection&&d(),TP(u)}},onHasTask:(g,w,A,Y)=>{g.hasTask(A,Y),w===A&&("microTask"==Y.change?(u._hasPendingMicrotasks=Y.microTask,vA(u),yA(u)):"macroTask"==Y.change&&(u.hasPendingMacrotasks=Y.macroTask))},onHandleError:(g,w,A,Y)=>(g.handleError(A,Y),u.runOutsideAngular(()=>u.onError.emit(Y)),!1)})}(A)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!bp.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(bp.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(d,g,w){return this._inner.run(d,g,w)}runTask(d,g,w,A){const Y=this._inner,Q=Y.scheduleEventTask("NgZoneEvent: "+A,d,CP,F_,F_);try{return Y.runTask(Q,g,w)}finally{Y.cancelTask(Q)}}runGuarded(d,g,w){return this._inner.runGuarded(d,g,w)}runOutsideAngular(d){return this._outer.run(d)}}const CP={};function yA(u){if(0==u._nesting&&!u.hasPendingMicrotasks&&!u.isStable)try{u._nesting++,u.onMicrotaskEmpty.emit(null)}finally{if(u._nesting--,!u.hasPendingMicrotasks)try{u.runOutsideAngular(()=>u.onStable.emit(null))}finally{u.isStable=!0}}}function vA(u){u.hasPendingMicrotasks=!!(u._hasPendingMicrotasks||(u.shouldCoalesceEventChangeDetection||u.shouldCoalesceRunChangeDetection)&&-1!==u.lastRequestAnimationFrameId)}function MP(u){u._nesting++,u.isStable&&(u.isStable=!1,u.onUnstable.emit(null))}function TP(u){u._nesting--,yA(u)}class kN{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ta,this.onMicrotaskEmpty=new Ta,this.onStable=new Ta,this.onError=new Ta}run(d,g,w){return d.apply(g,w)}runGuarded(d,g,w){return d.apply(g,w)}runOutsideAngular(d){return d()}runTask(d,g,w,A){return d.apply(g,w)}}let bA=(()=>{class u{constructor(g){this._ngZone=g,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),g.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{bp.assertNotInAngularZone(),Ug(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ug(()=>{for(;0!==this._callbacks.length;){let g=this._callbacks.pop();clearTimeout(g.timeoutId),g.doneCb(this._didWork)}this._didWork=!1});else{let g=this.getPendingTasks();this._callbacks=this._callbacks.filter(w=>!w.updateCb||!w.updateCb(g)||(clearTimeout(w.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(g=>({source:g.source,creationLocation:g.creationLocation,data:g.data})):[]}addCallback(g,w,A){let Y=-1;w&&w>0&&(Y=setTimeout(()=>{this._callbacks=this._callbacks.filter(Q=>Q.timeoutId!==Y),g(this._didWork,this.getPendingTasks())},w)),this._callbacks.push({doneCb:g,timeoutId:Y,updateCb:A})}whenStable(g,w,A){if(A&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(g,w,A),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(g,w,A){return[]}}return u.\u0275fac=function(g){return new(g||u)(Hi(bp))},u.\u0275prov=kr({token:u,factory:u.\u0275fac}),u})(),xA=(()=>{class u{constructor(){this._applications=new Map,ww.addToWindow(this)}registerApplication(g,w){this._applications.set(g,w)}unregisterApplication(g){this._applications.delete(g)}unregisterAllApplications(){this._applications.clear()}getTestability(g){return this._applications.get(g)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(g,w=!0){return ww.findTestabilityInTree(this,g,w)}}return u.\u0275fac=function(g){return new(g||u)},u.\u0275prov=kr({token:u,factory:u.\u0275fac}),u})();class wA{addToWindow(d){}findTestabilityInTree(d,g,w){return null}}function cS(u){ww=u}let ww=new wA,uS=!0,CA=!1;function Cw(){return CA=!0,uS}function SP(){if(CA)throw new Error("Cannot enable prod mode after platform setup.");uS=!1}let jg;const oa=new Io("AllowMultipleToken");class qr{constructor(d,g){this.name=d,this.token=g}}function dS(u,d,g=[]){const w=`Platform: ${d}`,A=new Io(w);return(Y=[])=>{let Q=X_();if(!Q||Q.injector.get(oa,!1))if(u)u(g.concat(Y).concat({provide:A,useValue:!0}));else{const ne=g.concat(Y).concat({provide:A,useValue:!0},{provide:Jc,useValue:"platform"});!function(u){if(jg&&!jg.destroyed&&!jg.injector.get(oa,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");jg=u.get(Ir);const d=u.get(Sa,null);d&&d.forEach(g=>g())}(Te.create({providers:ne,name:w}))}return function(u){const d=X_();if(!d)throw new Error("No platform exists!");if(!d.injector.get(u,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return d}(A)}}function X_(){return jg&&!jg.destroyed?jg:null}let Ir=(()=>{class u{constructor(g){this._injector=g,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(g,w){const ne=function(u,d){let g;return g="noop"===u?new kN:("zone.js"===u?void 0:u)||new bp({enableLongStackTrace:Cw(),shouldCoalesceEventChangeDetection:!!(null==d?void 0:d.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==d?void 0:d.ngZoneRunCoalescing)}),g}(w?w.ngZone:void 0,{ngZoneEventCoalescing:w&&w.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:w&&w.ngZoneRunCoalescing||!1}),fe=[{provide:bp,useValue:ne}];return ne.run(()=>{const ke=Te.create({providers:fe,parent:this.injector,name:g.moduleType.name}),Ze=g.create(ke),ot=Ze.injector.get(sp,null);if(!ot)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return ne.runOutsideAngular(()=>{const gt=ne.onError.subscribe({next:Ft=>{ot.handleError(Ft)}});Ze.onDestroy(()=>{hS(this._modules,Ze),gt.unsubscribe()})}),function(u,d,g){try{const w=g();return Dx(w)?w.catch(A=>{throw d.runOutsideAngular(()=>u.handleError(A)),A}):w}catch(w){throw d.runOutsideAngular(()=>u.handleError(w)),w}}(ot,ne,()=>{const gt=Ze.injector.get(lv);return gt.runInitializers(),gt.donePromise.then(()=>(Rg(Ze.injector.get(Qs,jy)||jy),this._moduleDoBootstrap(Ze),Ze))})})}bootstrapModule(g,w=[]){const A=dv({},w);return function(u,d,g){const w=new rC(g);return Promise.resolve(w)}(0,0,g).then(Y=>this.bootstrapModuleFactory(Y,A))}_moduleDoBootstrap(g){const w=g.injector.get(hv);if(g._bootstrapComponents.length>0)g._bootstrapComponents.forEach(A=>w.bootstrap(A));else{if(!g.instance.ngDoBootstrap)throw new Error(`The module ${Me(g.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);g.instance.ngDoBootstrap(w)}this._modules.push(g)}onDestroy(g){this._destroyListeners.push(g)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(g=>g.destroy()),this._destroyListeners.forEach(g=>g()),this._destroyed=!0}get destroyed(){return this._destroyed}}return u.\u0275fac=function(g){return new(g||u)(Hi(Te))},u.\u0275prov=kr({token:u,factory:u.\u0275fac}),u})();function dv(u,d){return Array.isArray(d)?d.reduce(dv,u):Object.assign(Object.assign({},u),d)}let hv=(()=>{class u{constructor(g,w,A,Y,Q){this._zone=g,this._injector=w,this._exceptionHandler=A,this._componentFactoryResolver=Y,this._initStatus=Q,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const ne=new ee.y(ke=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{ke.next(this._stable),ke.complete()})}),fe=new ee.y(ke=>{let Ze;this._zone.runOutsideAngular(()=>{Ze=this._zone.onStable.subscribe(()=>{bp.assertNotInAngularZone(),Ug(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,ke.next(!0))})})});const ot=this._zone.onUnstable.subscribe(()=>{bp.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{ke.next(!1)}))});return()=>{Ze.unsubscribe(),ot.unsubscribe()}});this.isStable=(0,x.T)(ne,fe.pipe((0,de.B)()))}bootstrap(g,w){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let A;A=g instanceof FE?g:this._componentFactoryResolver.resolveComponentFactory(g),this.componentTypes.push(A.componentType);const Y=function(u){return u.isBoundToModule}(A)?void 0:this._injector.get(lb),ne=A.create(Te.NULL,[],w||A.selector,Y),fe=ne.location.nativeElement,ke=ne.injector.get(bA,null),Ze=ke&&ne.injector.get(xA);return ke&&Ze&&Ze.registerApplication(fe,ke),ne.onDestroy(()=>{this.detachView(ne.hostView),hS(this.components,ne),Ze&&Ze.unregisterApplication(fe)}),this._loadComponent(ne),ne}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let g of this._views)g.detectChanges()}catch(g){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(g))}finally{this._runningTick=!1}}attachView(g){const w=g;this._views.push(w),w.attachToAppRef(this)}detachView(g){const w=g;hS(this._views,w),w.detachFromAppRef()}_loadComponent(g){this.attachView(g.hostView),this.tick(),this.components.push(g),this._injector.get(H0,[]).concat(this._bootstrapListeners).forEach(A=>A(g))}ngOnDestroy(){this._views.slice().forEach(g=>g.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return u.\u0275fac=function(g){return new(g||u)(Hi(bp),Hi(Te),Hi(sp),Hi(R_),Hi(lv))},u.\u0275prov=kr({token:u,factory:u.\u0275fac}),u})();function hS(u,d){const g=u.indexOf(d);g>-1&&u.splice(g,1)}class SA{}class kP{}const ru={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let EA=(()=>{class u{constructor(g,w){this._compiler=g,this._config=w||ru}load(g){return this.loadAndCompile(g)}loadAndCompile(g){let[w,A]=g.split("#");return void 0===A&&(A="default"),Ae(8255)(w).then(Y=>Y[A]).then(Y=>kd(Y,w,A)).then(Y=>this._compiler.compileModuleAsync(Y))}loadFactory(g){let[w,A]=g.split("#"),Y="NgFactory";return void 0===A&&(A="default",Y=""),Ae(8255)(this._config.factoryPathPrefix+w+this._config.factoryPathSuffix).then(Q=>Q[A+Y]).then(Q=>kd(Q,w,A))}}return u.\u0275fac=function(g){return new(g||u)(Hi(yb),Hi(kP,8))},u.\u0275prov=kr({token:u,factory:u.\u0275fac}),u})();function kd(u,d,g){if(!u)throw new Error(`Cannot find '${g}' in '${d}'`);return u}const IP=function(u){return null},PP=dS(null,"core",[{provide:pA,useValue:"unknown"},{provide:Ir,deps:[Te]},{provide:xA,deps:[]},{provide:rS,deps:[]}]),zP=[{provide:hv,useClass:hv,deps:[bp,Te,sp,R_,lv]},{provide:Q2,deps:[bp],useFactory:function(u){let d=[];return u.onStable.subscribe(()=>{for(;d.length;)d.pop()()}),function(g){d.push(g)}}},{provide:lv,useClass:lv,deps:[[new Za,iS]]},{provide:yb,useClass:yb,deps:[]},hA,{provide:j1,useFactory:function(){return dT},deps:[]},{provide:Xx,useFactory:function(){return T2},deps:[]},{provide:Qs,useFactory:function(u){return Rg(u=u||"undefined"!=typeof $localize&&$localize.locale||jy),u},deps:[[new Vo(Qs),new Za,new Oa]]},{provide:$_,useValue:"USD"}];let YP=(()=>{class u{constructor(g){}}return u.\u0275fac=function(g){return new(g||u)(Hi(hv))},u.\u0275mod=Bt({type:u}),u.\u0275inj=ss({providers:zP}),u})()},57:(Ut,kt,Ae)=>{"use strict";Ae.d(kt,{hO:()=>Yr,xv:()=>ii,Dh:()=>ct,HU:()=>Mt,GT:()=>Gt,sI:()=>Ps,on:()=>ar,ss:()=>ft,pX:()=>rn,yq:()=>us});var o=Ae(7771),$=Ae(3637),ee=Ae(3342),x=Ae(9673),de=Ae(9746),Ce=Ae(7716),Ee=Ae(2329);function Me(){}Ut=Ae.hmd(Ut);class Be{constructor(hn,Mn=o.N){this.zone=hn,this.delegate=Mn}now(){return this.delegate.now()}schedule(hn,Mn,mn){const Yn=this.zone;return this.delegate.schedule(function(ai){Yn.runGuarded(()=>{hn.apply(this,[ai])})},Mn,mn)}}class Ge{constructor(hn){this.zone=hn,this.task=null}call(hn,Mn){const mn=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Me,{},Me,Me)),Mn.pipe((0,ee.b)({next:mn,complete:mn,error:mn})).subscribe(hn).add(mn)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class Mt{constructor(hn){this.ngZone=hn,this.outsideAngular=hn.runOutsideAngular(()=>new Be(Zone.current)),this.insideAngular=hn.run(()=>new Be(Zone.current,$.z))}}function ft(wn){return function(Mn){return(Mn=Mn.lift(new Ge(wn.ngZone))).pipe((0,x.R)(wn.outsideAngular),(0,de.QV)(wn.insideAngular))}}const Lt=["ngOnDestroy"],rn=(wn,hn,Mn,mn={})=>new Proxy(wn,{get:(Yn,vn)=>Mn.runOutsideAngular(()=>{var ai;if(wn[vn])return(null===(ai=null==mn?void 0:mn.spy)||void 0===ai?void 0:ai.get)&&mn.spy.get(vn,wn[vn]),wn[vn];if(Lt.indexOf(vn)>-1)return()=>{};const Bi=hn.toPromise().then(Vi=>{const fi=Vi&&Vi[vn];return"function"==typeof fi?fi.bind(Vi):fi&&fi.then?fi.then(Ti=>Mn.run(()=>Ti)):Mn.run(()=>fi)});return new Proxy(()=>{},{get:(Vi,fi)=>Bi[fi],apply:(Vi,fi,Ti)=>Bi.then(vi=>{var bi;const Kn=vi&&vi(...Ti);return(null===(bi=null==mn?void 0:mn.spy)||void 0===bi?void 0:bi.apply)&&mn.spy.apply(vn,Ti,Kn),Kn})})})}),Gt=(wn,hn)=>{hn.forEach(Mn=>{Object.getOwnPropertyNames(Mn.prototype||Mn).forEach(mn=>{Object.defineProperty(wn.prototype,mn,Object.getOwnPropertyDescriptor(Mn.prototype||Mn,mn))})})},ct=new Ce.OlP("angularfire2.app.options"),ii=new Ce.OlP("angularfire2.app.nameOrConfig"),Wt=new Ce.GfV("6.1.5");function ar(wn,hn,Mn){const Yn="object"==typeof Mn&&Mn||{};Yn.name=Yn.name||"string"==typeof Mn&&Mn||"[DEFAULT]";const ai=Ee.Z.apps.filter(Bi=>Bi&&Bi.name===Yn.name)[0]||hn.runOutsideAngular(()=>Ee.Z.initializeApp(wn,Yn));try{JSON.stringify(wn)!==JSON.stringify(ai.options)&&hi("error",`${ai.name} Firebase App already initialized with different options${Ut.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Bi){}return ai}const us=()=>{hi("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},hi=(wn,...hn)=>{(0,Ce.X6Q)()&&"undefined"!=typeof console&&console[wn](...hn)};function Ps(wn,hn,Mn,mn,Yn){const[vn,...ai]=globalThis.\u0275AngularfireInstanceCache.get(wn)||[];if(vn){try{Yn.some((Bi,Vi)=>{const fi=ai[Vi];return Bi&&"object"==typeof Bi?JSON.stringify(Bi)!==JSON.stringify(fi):Bi!==fi})&&hi("error",`${hn} was already initialized on the ${Mn.name} Firebase App instance with different settings.${Ut.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(Bi){}return vn}{const Bi=mn();return globalThis.\u0275AngularfireInstanceCache.set(wn,[Bi,...Yn]),Bi}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const er={provide:class{},useFactory:ar,deps:[ct,Ce.R0b,[new Ce.FiY,ii]]};let Yr=(()=>{class wn{constructor(Mn){Ee.Z.registerVersion("angularfire",Wt.full,Mn.toString()),Ee.Z.registerVersion("angular",Ce.q4F.full)}static initializeApp(Mn,mn){return{ngModule:wn,providers:[{provide:ct,useValue:Mn},{provide:ii,useValue:mn}]}}}return wn.\u0275fac=function(Mn){return new(Mn||wn)(Ce.LFG(Ce.Lbi))},wn.\u0275mod=Ce.oAB({type:wn}),wn.\u0275inj=Ce.cJS({providers:[er]}),wn})()},4969:(Ut,kt,Ae)=>{"use strict";Ae.d(kt,{Z:()=>Ti});var de,hi,o=Ae(4762),$=Ae(4685),ee=Ae(6034),x=Ae(300),Ce=((de={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",de["bad-app-name"]="Illegal App name: '{$appName}",de["duplicate-app"]="Firebase App named '{$appName}' already exists",de["app-deleted"]="Firebase App named '{$appName}' already deleted",de["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",de["invalid-log-argument"]="First argument to `onLog` must be null or a function.",de),Ee=new $.LL("app","Firebase",Ce),Me="@firebase/app",zi="[DEFAULT]",Ps=((hi={})[Me]="fire-core",hi["@firebase/analytics"]="fire-analytics",hi["@firebase/app-check"]="fire-app-check",hi["@firebase/auth"]="fire-auth",hi["@firebase/database"]="fire-rtdb",hi["@firebase/functions"]="fire-fn",hi["@firebase/installations"]="fire-iid",hi["@firebase/messaging"]="fire-fcm",hi["@firebase/performance"]="fire-perf",hi["@firebase/remote-config"]="fire-rc",hi["@firebase/storage"]="fire-gcs",hi["@firebase/firestore"]="fire-fst",hi["fire-js"]="fire-js",hi["firebase-wrapper"]="fire-js-all",hi),er=new x.Yd("@firebase/app"),Yr=function(){function vi(bi,Kn,Oi){var kr=this;this.firebase_=Oi,this.isDeleted_=!1,this.name_=Kn.name,this.automaticDataCollectionEnabled_=Kn.automaticDataCollectionEnabled||!1,this.options_=(0,$.p$)(bi),this.container=new ee.H0(Kn.name),this._addComponent(new ee.wA("app",function(){return kr},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(xo){return kr._addComponent(xo)})}return Object.defineProperty(vi.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(bi){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=bi},enumerable:!1,configurable:!0}),Object.defineProperty(vi.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(vi.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),vi.prototype.delete=function(){var bi=this;return new Promise(function(Kn){bi.checkDestroyed_(),Kn()}).then(function(){return bi.firebase_.INTERNAL.removeApp(bi.name_),Promise.all(bi.container.getProviders().map(function(Kn){return Kn.delete()}))}).then(function(){bi.isDeleted_=!0})},vi.prototype._getService=function(bi,Kn){var Oi;void 0===Kn&&(Kn=zi),this.checkDestroyed_();var kr=this.container.getProvider(bi);return!kr.isInitialized()&&"EXPLICIT"===(null===(Oi=kr.getComponent())||void 0===Oi?void 0:Oi.instantiationMode)&&kr.initialize(),kr.getImmediate({identifier:Kn})},vi.prototype._removeServiceInstance=function(bi,Kn){void 0===Kn&&(Kn=zi),this.container.getProvider(bi).clearInstance(Kn)},vi.prototype._addComponent=function(bi){try{this.container.addComponent(bi)}catch(Kn){er.debug("Component "+bi.name+" failed to register with FirebaseApp "+this.name,Kn)}},vi.prototype._addOrOverwriteComponent=function(bi){this.container.addOrOverwriteComponent(bi)},vi.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},vi.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Ee.create("app-deleted",{appName:this.name_})},vi}();Yr.prototype.name&&Yr.prototype.options||Yr.prototype.delete||console.log("dc");var mn=function Mn(){var vi=function(vi){var bi={},Kn=new Map,Oi={__esModule:!0,initializeApp:function(Ki,tr){void 0===tr&&(tr={}),("object"!=typeof tr||null===tr)&&(tr={name:tr});var Ws=tr;void 0===Ws.name&&(Ws.name=zi);var wi=Ws.name;if("string"!=typeof wi||!wi)throw Ee.create("bad-app-name",{appName:String(wi)});if((0,$.r3)(bi,wi))throw Ee.create("duplicate-app",{appName:wi});var fs=new vi(Ki,Ws,Oi);return bi[wi]=fs,fs},app:xo,registerVersion:function(Ki,tr,wo){var Ws,wi=null!==(Ws=Ps[Ki])&&void 0!==Ws?Ws:Ki;wo&&(wi+="-"+wo);var fs=wi.match(/\s|\//),xr=tr.match(/\s|\//);if(fs||xr){var nr=['Unable to register library "'+wi+'" with version "'+tr+'":'];return fs&&nr.push('library name "'+wi+'" contains illegal characters (whitespace or "/")'),fs&&xr&&nr.push("and"),xr&&nr.push('version name "'+tr+'" contains illegal characters (whitespace or "/")'),void er.warn(nr.join(" "))}Xs(new ee.wA(wi+"-version",function(){return{library:wi,version:tr}},"VERSION"))},setLogLevel:x.Ub,onLog:function(Ki,tr){if(null!==Ki&&"function"!=typeof Ki)throw Ee.create("invalid-log-argument");(0,x.Am)(Ki,tr)},apps:null,SDK_VERSION:"8.8.1",INTERNAL:{registerComponent:Xs,removeApp:function(Ki){delete bi[Ki]},components:Kn,useAsService:function(Ki,tr){return"serverAuth"===tr?null:tr}}};function xo(Ki){if(!(0,$.r3)(bi,Ki=Ki||zi))throw Ee.create("no-app",{appName:Ki});return bi[Ki]}function Xs(Ki){var tr=Ki.name;if(Kn.has(tr))return er.debug("There were multiple attempts to register component "+tr+"."),"PUBLIC"===Ki.type?Oi[tr]:null;if(Kn.set(tr,Ki),"PUBLIC"===Ki.type){var wo=function(xr){if(void 0===xr&&(xr=xo()),"function"!=typeof xr[tr])throw Ee.create("invalid-app-argument",{appName:tr});return xr[tr]()};void 0!==Ki.serviceProps&&(0,$.ZB)(wo,Ki.serviceProps),Oi[tr]=wo,vi.prototype[tr]=function(){for(var xr=[],nr=0;nr<arguments.length;nr++)xr[nr]=arguments[nr];return this._getService.bind(this,tr).apply(this,Ki.multipleInstances?xr:[])}}for(var Ws=0,wi=Object.keys(bi);Ws<wi.length;Ws++)bi[wi[Ws]]._addComponent(Ki);return"PUBLIC"===Ki.type?Oi[tr]:null}return Oi.default=Oi,Object.defineProperty(Oi,"apps",{get:function(){return Object.keys(bi).map(function(Ki){return bi[Ki]})}}),xo.App=vi,Oi}(Yr);return vi.INTERNAL=(0,o.pi)((0,o.pi)({},vi.INTERNAL),{createFirebaseNamespace:Mn,extendNamespace:function(Kn){(0,$.ZB)(vi,Kn)},createSubscribe:$.ne,ErrorFactory:$.LL,deepExtend:$.ZB}),vi}(),Yn=function(){function vi(bi){this.container=bi}return vi.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(Kn){if(function(vi){var bi=vi.getComponent();return"VERSION"===(null==bi?void 0:bi.type)}(Kn)){var Oi=Kn.getImmediate();return Oi.library+"/"+Oi.version}return null}).filter(function(Kn){return Kn}).join(" ")},vi}();if((0,$.jU)()&&void 0!==self.firebase){er.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Bi=self.firebase.SDK_VERSION;Bi&&Bi.indexOf("LITE")>=0&&er.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Vi=mn.initializeApp;mn.initializeApp=function(){for(var vi=[],bi=0;bi<arguments.length;bi++)vi[bi]=arguments[bi];return(0,$.UG)()&&er.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),Vi.apply(void 0,vi)};var vi,fi=mn;(vi=fi).INTERNAL.registerComponent(new ee.wA("platform-logger",function(Kn){return new Yn(Kn)},"PRIVATE")),vi.registerVersion(Me,"0.6.29",undefined),vi.registerVersion("fire-js","");const Ti=fi},6034:(Ut,kt,Ae)=>{"use strict";Ae.d(kt,{wA:()=>ee,H0:()=>Me,zt:()=>de});var o=Ae(4762),$=Ae(4685),ee=function(){function Be(Ge,Mt,ft){this.name=Ge,this.instanceFactory=Mt,this.type=ft,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Be.prototype.setInstantiationMode=function(Ge){return this.instantiationMode=Ge,this},Be.prototype.setMultipleInstances=function(Ge){return this.multipleInstances=Ge,this},Be.prototype.setServiceProps=function(Ge){return this.serviceProps=Ge,this},Be.prototype.setInstanceCreatedCallback=function(Ge){return this.onInstanceCreated=Ge,this},Be}(),x="[DEFAULT]",de=function(){function Be(Ge,Mt){this.name=Ge,this.container=Mt,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return Be.prototype.get=function(Ge){var Mt=this.normalizeInstanceIdentifier(Ge);if(!this.instancesDeferred.has(Mt)){var ft=new $.BH;if(this.instancesDeferred.set(Mt,ft),this.isInitialized(Mt)||this.shouldAutoInitialize())try{var Lt=this.getOrInitializeService({instanceIdentifier:Mt});Lt&&ft.resolve(Lt)}catch(rn){}}return this.instancesDeferred.get(Mt).promise},Be.prototype.getImmediate=function(Ge){var Mt,ft=this.normalizeInstanceIdentifier(null==Ge?void 0:Ge.identifier),Lt=null!==(Mt=null==Ge?void 0:Ge.optional)&&void 0!==Mt&&Mt;if(!this.isInitialized(ft)&&!this.shouldAutoInitialize()){if(Lt)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:ft})}catch(rn){if(Lt)return null;throw rn}},Be.prototype.getComponent=function(){return this.component},Be.prototype.setComponent=function(Ge){var Mt,ft;if(Ge.name!==this.name)throw Error("Mismatching Component "+Ge.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=Ge,this.shouldAutoInitialize()){if(function(Be){return"EAGER"===Be.instantiationMode}(Ge))try{this.getOrInitializeService({instanceIdentifier:x})}catch(ar){}try{for(var Lt=(0,o.XA)(this.instancesDeferred.entries()),rn=Lt.next();!rn.done;rn=Lt.next()){var Gt=(0,o.CR)(rn.value,2),ii=Gt[1],Fn=this.normalizeInstanceIdentifier(Gt[0]);try{var Wt=this.getOrInitializeService({instanceIdentifier:Fn});ii.resolve(Wt)}catch(ar){}}}catch(ar){Mt={error:ar}}finally{try{rn&&!rn.done&&(ft=Lt.return)&&ft.call(Lt)}finally{if(Mt)throw Mt.error}}}},Be.prototype.clearInstance=function(Ge){void 0===Ge&&(Ge=x),this.instancesDeferred.delete(Ge),this.instances.delete(Ge)},Be.prototype.delete=function(){return(0,o.mG)(this,void 0,void 0,function(){var Ge;return(0,o.Jh)(this,function(Mt){switch(Mt.label){case 0:return Ge=Array.from(this.instances.values()),[4,Promise.all((0,o.ev)((0,o.ev)([],(0,o.CR)(Ge.filter(function(ft){return"INTERNAL"in ft}).map(function(ft){return ft.INTERNAL.delete()}))),(0,o.CR)(Ge.filter(function(ft){return"_delete"in ft}).map(function(ft){return ft._delete()}))))];case 1:return Mt.sent(),[2]}})})},Be.prototype.isComponentSet=function(){return null!=this.component},Be.prototype.isInitialized=function(Ge){return void 0===Ge&&(Ge=x),this.instances.has(Ge)},Be.prototype.initialize=function(Ge){var Mt,ft;void 0===Ge&&(Ge={});var Lt=Ge.options,rn=void 0===Lt?{}:Lt,Gt=this.normalizeInstanceIdentifier(Ge.instanceIdentifier);if(this.isInitialized(Gt))throw Error(this.name+"("+Gt+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var ct=this.getOrInitializeService({instanceIdentifier:Gt,options:rn});try{for(var ii=(0,o.XA)(this.instancesDeferred.entries()),Fn=ii.next();!Fn.done;Fn=ii.next()){var Wt=(0,o.CR)(Fn.value,2),us=Wt[1];Gt===this.normalizeInstanceIdentifier(Wt[0])&&us.resolve(ct)}}catch(zi){Mt={error:zi}}finally{try{Fn&&!Fn.done&&(ft=ii.return)&&ft.call(ii)}finally{if(Mt)throw Mt.error}}return ct},Be.prototype.onInit=function(Ge,Mt){var ft,Lt=this.normalizeInstanceIdentifier(Mt),rn=null!==(ft=this.onInitCallbacks.get(Lt))&&void 0!==ft?ft:new Set;rn.add(Ge),this.onInitCallbacks.set(Lt,rn);var Gt=this.instances.get(Lt);return Gt&&Ge(Gt,Lt),function(){rn.delete(Ge)}},Be.prototype.invokeOnInitCallbacks=function(Ge,Mt){var ft,Lt,rn=this.onInitCallbacks.get(Mt);if(rn)try{for(var Gt=(0,o.XA)(rn),ct=Gt.next();!ct.done;ct=Gt.next()){var ii=ct.value;try{ii(Ge,Mt)}catch(Fn){}}}catch(Fn){ft={error:Fn}}finally{try{ct&&!ct.done&&(Lt=Gt.return)&&Lt.call(Gt)}finally{if(ft)throw ft.error}}},Be.prototype.getOrInitializeService=function(Ge){var Mt=Ge.instanceIdentifier,ft=Ge.options,Lt=void 0===ft?{}:ft,rn=this.instances.get(Mt);if(!rn&&this.component&&(rn=this.component.instanceFactory(this.container,{instanceIdentifier:Ce(Mt),options:Lt}),this.instances.set(Mt,rn),this.invokeOnInitCallbacks(rn,Mt),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Mt,rn)}catch(Gt){}return rn||null},Be.prototype.normalizeInstanceIdentifier=function(Ge){return void 0===Ge&&(Ge=x),this.component?this.component.multipleInstances?Ge:x:Ge},Be.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},Be}();function Ce(Be){return Be===x?void 0:Be}var Me=function(){function Be(Ge){this.name=Ge,this.providers=new Map}return Be.prototype.addComponent=function(Ge){var Mt=this.getProvider(Ge.name);if(Mt.isComponentSet())throw new Error("Component "+Ge.name+" has already been registered with "+this.name);Mt.setComponent(Ge)},Be.prototype.addOrOverwriteComponent=function(Ge){this.getProvider(Ge.name).isComponentSet()&&this.providers.delete(Ge.name),this.addComponent(Ge)},Be.prototype.getProvider=function(Ge){if(this.providers.has(Ge))return this.providers.get(Ge);var Mt=new de(Ge,this);return this.providers.set(Ge,Mt),Mt},Be.prototype.getProviders=function(){return Array.from(this.providers.values())},Be}()},9192:(Ut,kt,Ae)=>{"use strict";var o=Ae(4969),$=Ae(6034),ee=Ae(4685),x=Ae(4762),de=Ae(300);Ut=Ae.hmd(Ut);var Me="";function Be(E){Me=E}var E,Ge=function(){function E(k){this.domStorage_=k,this.prefix_="firebase:"}return E.prototype.set=function(k,P){null==P?this.domStorage_.removeItem(this.prefixedName_(k)):this.domStorage_.setItem(this.prefixedName_(k),(0,ee.Pz)(P))},E.prototype.get=function(k){var P=this.domStorage_.getItem(this.prefixedName_(k));return null==P?null:(0,ee.cI)(P)},E.prototype.remove=function(k){this.domStorage_.removeItem(this.prefixedName_(k))},E.prototype.prefixedName_=function(k){return this.prefix_+k},E.prototype.toString=function(){return this.domStorage_.toString()},E}(),Mt=function(){function E(){this.cache_={},this.isInMemoryStorage=!0}return E.prototype.set=function(k,P){null==P?delete this.cache_[k]:this.cache_[k]=P},E.prototype.get=function(k){return(0,ee.r3)(this.cache_,k)?this.cache_[k]:null},E.prototype.remove=function(k){delete this.cache_[k]},E}(),ft=function(E){try{if("undefined"!=typeof window&&void 0!==window[E]){var k=window[E];return k.setItem("firebase:sentinel","cache"),k.removeItem("firebase:sentinel"),new Ge(k)}}catch(P){}return new Mt},Lt=ft("localStorage"),rn=ft("sessionStorage"),Gt=new de.Yd("@firebase/database"),ct=(E=1,function(){return E++}),ii=function(E){var k=(0,ee.dS)(E),P=new ee.gQ;P.update(k);var j=P.digest();return ee.US.encodeByteArray(j)},Fn=function(){for(var E=[],k=0;k<arguments.length;k++)E[k]=arguments[k];for(var P="",j=0;j<E.length;j++){var se=E[j];Array.isArray(se)||se&&"object"==typeof se&&"number"==typeof se.length?P+=Fn.apply(null,se):P+="object"==typeof se?(0,ee.Pz)(se):se,P+=" "}return P},Wt=null,ar=!0,us=function(E,k){(0,ee.hu)(!k||!0===E||!1===E,"Can't turn on custom loggers persistently."),!0===E?(Gt.logLevel=de.in.VERBOSE,Wt=Gt.log.bind(Gt),k&&rn.set("logging_enabled",!0)):"function"==typeof E?Wt=E:(Wt=null,rn.remove("logging_enabled"))},hi=function(){for(var E=[],k=0;k<arguments.length;k++)E[k]=arguments[k];if(!0===ar&&(ar=!1,null===Wt&&!0===rn.get("logging_enabled")&&us(!0)),Wt){var P=Fn.apply(null,E);Wt(P)}},zi=function(E){return function(){for(var k=[],P=0;P<arguments.length;P++)k[P]=arguments[P];hi.apply(void 0,(0,x.ev)([E],(0,x.CR)(k)))}},Ps=function(){for(var E=[],k=0;k<arguments.length;k++)E[k]=arguments[k];var P="FIREBASE INTERNAL ERROR: "+Fn.apply(void 0,(0,x.ev)([],(0,x.CR)(E)));Gt.error(P)},er=function(){for(var E=[],k=0;k<arguments.length;k++)E[k]=arguments[k];var P="FIREBASE FATAL ERROR: "+Fn.apply(void 0,(0,x.ev)([],(0,x.CR)(E)));throw Gt.error(P),new Error(P)},Yr=function(){for(var E=[],k=0;k<arguments.length;k++)E[k]=arguments[k];var P="FIREBASE WARNING: "+Fn.apply(void 0,(0,x.ev)([],(0,x.CR)(E)));Gt.warn(P)},hn=function(E){return"number"==typeof E&&(E!=E||E===Number.POSITIVE_INFINITY||E===Number.NEGATIVE_INFINITY)},mn="[MIN_NAME]",Yn="[MAX_NAME]",vn=function(E,k){if(E===k)return 0;if(E===mn||k===Yn)return-1;if(k===mn||E===Yn)return 1;var P=Gs(E),j=Gs(k);return null!==P?null!==j?P-j==0?E.length-k.length:P-j:-1:null!==j?1:E<k?-1:1},ai=function(E,k){return E===k?0:E<k?-1:1},Bi=function(E,k){if(k&&E in k)return k[E];throw new Error("Missing required key ("+E+") in object: "+(0,ee.Pz)(k))},Vi=function(E){if("object"!=typeof E||null===E)return(0,ee.Pz)(E);var k=[];for(var P in E)k.push(P);k.sort();for(var j="{",se=0;se<k.length;se++)0!==se&&(j+=","),j+=(0,ee.Pz)(k[se]),j+=":",j+=Vi(E[k[se]]);return j+"}"},fi=function(E,k){var P=E.length;if(P<=k)return[E];for(var j=[],se=0;se<P;se+=k)j.push(E.substring(se,se+k>P?P:se+k));return j};function Ti(E,k){for(var P in E)E.hasOwnProperty(P)&&k(P,E[P])}var vi=function(E){(0,ee.hu)(!hn(E),"Invalid JSON number");var se,ye,Fe,it,ut,j=1023;0===E?(ye=0,Fe=0,se=1/E==-1/0?1:0):(se=E<0,(E=Math.abs(E))>=Math.pow(2,1-j)?(ye=(it=Math.min(Math.floor(Math.log(E)/Math.LN2),j))+j,Fe=Math.round(E*Math.pow(2,52-it)-Math.pow(2,52))):(ye=0,Fe=Math.round(E/Math.pow(2,-1074))));var Et=[];for(ut=52;ut;ut-=1)Et.push(Fe%2?1:0),Fe=Math.floor(Fe/2);for(ut=11;ut;ut-=1)Et.push(ye%2?1:0),ye=Math.floor(ye/2);Et.push(se?1:0),Et.reverse();var zt=Et.join(""),Sn="";for(ut=0;ut<64;ut+=8){var Hn=parseInt(zt.substr(ut,8),2).toString(16);1===Hn.length&&(Hn="0"+Hn),Sn+=Hn}return Sn.toLowerCase()},kr=new RegExp("^-?(0*)\\d{1,10}$"),xo=-2147483648,ss=2147483647,Gs=function(E){if(kr.test(E)){var k=Number(E);if(k>=xo&&k<=ss)return k}return null},Xs=function(E){try{E()}catch(k){setTimeout(function(){throw Yr("Exception was thrown by user callback.",k.stack||""),k},Math.floor(0))}},lr=function(E,k){var P=setTimeout(E,k);return"object"==typeof P&&P.unref&&P.unref(),P},Da=function(){function E(k,P){var j=this;this.appName_=k,this.appCheckProvider=P,this.appCheck=null==P?void 0:P.getImmediate({optional:!0}),this.appCheck||null==P||P.get().then(function(se){return j.appCheck=se})}return E.prototype.getToken=function(k){var P=this;return this.appCheck?this.appCheck.getToken(k):new Promise(function(j,se){setTimeout(function(){P.appCheck?P.getToken(k).then(j,se):j(null)},0)})},E.prototype.addTokenChangeListener=function(k){var P;null===(P=this.appCheckProvider)||void 0===P||P.get().then(function(j){return j.addTokenListener(k)})},E.prototype.notifyForInvalidToken=function(){Yr('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},E}(),Ki=function(){function E(k,P,j){var se=this;this.appName_=k,this.firebaseOptions_=P,this.authProvider_=j,this.auth_=null,this.auth_=j.getImmediate({optional:!0}),this.auth_||j.onInit(function(ye){return se.auth_=ye})}return E.prototype.getToken=function(k){var P=this;return this.auth_?this.auth_.getToken(k).catch(function(j){return j&&"auth/token-not-initialized"===j.code?(hi("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(j)}):new Promise(function(j,se){setTimeout(function(){P.auth_?P.getToken(k).then(j,se):j(null)},0)})},E.prototype.addTokenChangeListener=function(k){this.auth_?this.auth_.addAuthTokenListener(k):this.authProvider_.get().then(function(P){return P.addAuthTokenListener(k)})},E.prototype.removeTokenChangeListener=function(k){this.authProvider_.get().then(function(P){return P.removeAuthTokenListener(k)})},E.prototype.notifyForInvalidToken=function(){var k='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';Yr(k+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},E}(),tr=function(){function E(k){this.accessToken=k}return E.prototype.getToken=function(k){return Promise.resolve({accessToken:this.accessToken})},E.prototype.addTokenChangeListener=function(k){k(this.accessToken)},E.prototype.removeTokenChangeListener=function(k){},E.prototype.notifyForInvalidToken=function(){},E.OWNER="owner",E}(),nr=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Ns="websocket",Wo="long_polling",Pr=function(){function E(k,P,j,se,ye,Fe,it){void 0===ye&&(ye=!1),void 0===Fe&&(Fe=""),void 0===it&&(it=!1),this.secure=P,this.namespace=j,this.webSocketOnly=se,this.nodeAdmin=ye,this.persistenceKey=Fe,this.includeNamespaceInQueryParams=it,this._host=k.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Lt.get("host:"+k)||this._host}return E.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},E.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(E.prototype,"host",{get:function(){return this._host},set:function(k){k!==this.internalHost&&(this.internalHost=k,this.isCacheableHost()&&Lt.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),E.prototype.toString=function(){var k=this.toURLString();return this.persistenceKey&&(k+="<"+this.persistenceKey+">"),k},E.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host+"/"+(this.includeNamespaceInQueryParams?"?ns="+this.namespace:"")},E}();function Xi(E,k,P){var j;if((0,ee.hu)("string"==typeof k,"typeof type must == string"),(0,ee.hu)("object"==typeof P,"typeof params must == object"),k===Ns)j=(E.secure?"wss://":"ws://")+E.internalHost+"/.ws?";else{if(k!==Wo)throw new Error("Unknown connection type: "+k);j=(E.secure?"https://":"http://")+E.internalHost+"/.lp?"}(function(E){return E.host!==E.internalHost||E.isCustomHost()||E.includeNamespaceInQueryParams})(E)&&(P.ns=E.namespace);var se=[];return Ti(P,function(ye,Fe){se.push(ye+"="+Fe)}),j+se.join("&")}var wl=function(){function E(){this.counters_={}}return E.prototype.incrementCounter=function(k,P){void 0===P&&(P=1),(0,ee.r3)(this.counters_,k)||(this.counters_[k]=0),this.counters_[k]+=P},E.prototype.get=function(){return(0,ee.p$)(this.counters_)},E}(),Va={},Aa={};function ws(E){var k=E.toString();return Va[k]||(Va[k]=new wl),Va[k]}var Yo=function(){function E(k){this.onMessage_=k,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return E.prototype.closeAfter=function(k,P){this.closeAfterResponse=k,this.onClose=P,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},E.prototype.handleResponse=function(k,P){var j=this;this.pendingResponses[k]=P;for(var se=function(){var it=ye.pendingResponses[ye.currentResponseNum];delete ye.pendingResponses[ye.currentResponseNum];for(var ut=function(zt){it[zt]&&Xs(function(){j.onMessage_(it[zt])})},Et=0;Et<it.length;++Et)ut(Et);if(ye.currentResponseNum===ye.closeAfterResponse)return ye.onClose&&(ye.onClose(),ye.onClose=null),"break";ye.currentResponseNum++},ye=this;this.pendingResponses[this.currentResponseNum]&&"break"!==se(););},E}(),nn=function(){function E(k,P,j,se,ye,Fe,it){var ut=this;this.connId=k,this.repoInfo=P,this.applicationId=j,this.appCheckToken=se,this.authToken=ye,this.transportSessionId=Fe,this.lastSessionId=it,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=zi(k),this.stats_=ws(P),this.urlFn=function(Et){return ut.appCheckToken&&(Et.ac=ut.appCheckToken),Xi(P,Wo,Et)}}return E.prototype.open=function(k,P){var j=this;this.curSegmentNum=0,this.onDisconnect_=P,this.myPacketOrderer=new Yo(k),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){j.log_("Timed out trying to connect."),j.onClosed_(),j.connectTimeoutTimer_=null},Math.floor(3e4)),function(E){if((0,ee.Yr)()||"complete"===document.readyState)E();else{var k=!1,P=function(){document.body?k||(k=!0,E()):setTimeout(P,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",P,!1),window.addEventListener("load",P,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&P()}),window.attachEvent("onload",P))}}(function(){if(!j.isClosed_){j.scriptTagHolder=new jt(function(){for(var Fe=[],it=0;it<arguments.length;it++)Fe[it]=arguments[it];var ut=(0,x.CR)(Fe,5),Et=ut[0],zt=ut[1],Sn=ut[2];if(j.incrementIncomingBytes_(Fe),j.scriptTagHolder)if(j.connectTimeoutTimer_&&(clearTimeout(j.connectTimeoutTimer_),j.connectTimeoutTimer_=null),j.everConnected_=!0,"start"===Et)j.id=zt,j.password=Sn;else{if("close"!==Et)throw new Error("Unrecognized command received: "+Et);zt?(j.scriptTagHolder.sendNewPolls=!1,j.myPacketOrderer.closeAfter(zt,function(){j.onClosed_()})):j.onClosed_()}},function(){for(var Fe=[],it=0;it<arguments.length;it++)Fe[it]=arguments[it];var ut=(0,x.CR)(Fe,2),Et=ut[0],zt=ut[1];j.incrementIncomingBytes_(Fe),j.myPacketOrderer.handleResponse(Et,zt)},function(){j.onClosed_()},j.urlFn);var se={start:"t"};se.ser=Math.floor(1e8*Math.random()),j.scriptTagHolder.uniqueCallbackIdentifier&&(se.cb=j.scriptTagHolder.uniqueCallbackIdentifier),se.v="5",j.transportSessionId&&(se.s=j.transportSessionId),j.lastSessionId&&(se.ls=j.lastSessionId),j.applicationId&&(se.p=j.applicationId),j.appCheckToken&&(se.ac=j.appCheckToken),"undefined"!=typeof location&&location.hostname&&nr.test(location.hostname)&&(se.r="f");var ye=j.urlFn(se);j.log_("Connecting via long-poll to "+ye),j.scriptTagHolder.addTag(ye,function(){})}})},E.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},E.forceAllow=function(){E.forceAllow_=!0},E.forceDisallow=function(){E.forceDisallow_=!0},E.isAvailable=function(){return!((0,ee.Yr)()||!E.forceAllow_&&(E.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},E.prototype.markConnectionHealthy=function(){},E.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},E.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},E.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},E.prototype.send=function(k){var P=(0,ee.Pz)(k);this.bytesSent+=P.length,this.stats_.incrementCounter("bytes_sent",P.length);for(var j=(0,ee.h$)(P),se=fi(j,1840),ye=0;ye<se.length;ye++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,se.length,se[ye]),this.curSegmentNum++},E.prototype.addDisconnectPingFrame=function(k,P){if(!(0,ee.Yr)()){this.myDisconnFrame=document.createElement("iframe");var j={dframe:"t"};j.id=k,j.pw=P,this.myDisconnFrame.src=this.urlFn(j),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},E.prototype.incrementIncomingBytes_=function(k){var P=(0,ee.Pz)(k).length;this.bytesReceived+=P,this.stats_.incrementCounter("bytes_received",P)},E}(),jt=function(){function E(k,P,j,se){if(this.onDisconnect=j,this.urlFn=se,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,ee.Yr)())this.commandCB=k,this.onMessageCB=P;else{this.uniqueCallbackIdentifier=ct(),window["pLPCommand"+this.uniqueCallbackIdentifier]=k,window["pRTLPCB"+this.uniqueCallbackIdentifier]=P,this.myIFrame=E.createIFrame_();var ye="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(ye='<script>document.domain="'+document.domain+'";<\/script>');var it="<html><body>"+ye+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(it),this.myIFrame.doc.close()}catch(ut){hi("frame writing exception"),ut.stack&&hi(ut.stack),hi(ut)}}}return E.createIFrame_=function(){var k=document.createElement("iframe");if(k.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(k);try{k.contentWindow.document||hi("No IE domain setting required")}catch(se){var j=document.domain;k.src="javascript:void((function(){document.open();document.domain='"+j+"';document.close();})())"}return k.contentDocument?k.doc=k.contentDocument:k.contentWindow?k.doc=k.contentWindow.document:k.document&&(k.doc=k.document),k},E.prototype.close=function(){var k=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==k.myIFrame&&(document.body.removeChild(k.myIFrame),k.myIFrame=null)},Math.floor(0)));var P=this.onDisconnect;P&&(this.onDisconnect=null,P())},E.prototype.startLongPoll=function(k,P){for(this.myID=k,this.myPW=P,this.alive=!0;this.newRequest_(););},E.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var k={};k.id=this.myID,k.pw=this.myPW,k.ser=this.currentSerial;for(var P=this.urlFn(k),j="",se=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+j.length<=1870;){var Fe=this.pendingSegs.shift();j=j+"&seg"+se+"="+Fe.seg+"&ts"+se+"="+Fe.ts+"&d"+se+"="+Fe.d,se++}return this.addLongPollTag_(P+=j,this.currentSerial),!0}return!1},E.prototype.enqueueSegment=function(k,P,j){this.pendingSegs.push({seg:k,ts:P,d:j}),this.alive&&this.newRequest_()},E.prototype.addLongPollTag_=function(k,P){var j=this;this.outstandingRequests.add(P);var se=function(){j.outstandingRequests.delete(P),j.newRequest_()},ye=setTimeout(se,Math.floor(25e3));this.addTag(k,function(){clearTimeout(ye),se()})},E.prototype.addTag=function(k,P){var j=this;(0,ee.Yr)()?this.doNodeLongPoll(k,P):setTimeout(function(){try{if(!j.sendNewPolls)return;var se=j.myIFrame.doc.createElement("script");se.type="text/javascript",se.async=!0,se.src=k,se.onload=se.onreadystatechange=function(){var ye=se.readyState;(!ye||"loaded"===ye||"complete"===ye)&&(se.onload=se.onreadystatechange=null,se.parentNode&&se.parentNode.removeChild(se),P())},se.onerror=function(){hi("Long-poll script failed to load: "+k),j.sendNewPolls=!1,j.close()},j.myIFrame.doc.body.appendChild(se)}catch(ye){}},Math.floor(1))},E}(),Re=null;"undefined"!=typeof MozWebSocket?Re=MozWebSocket:"undefined"!=typeof WebSocket&&(Re=WebSocket);var p=function(){function E(k,P,j,se,ye,Fe,it){this.connId=k,this.applicationId=j,this.appCheckToken=se,this.authToken=ye,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=zi(this.connId),this.stats_=ws(P),this.connURL=E.connectionURL_(P,Fe,it,se),this.nodeAdmin=P.nodeAdmin}return E.connectionURL_=function(k,P,j,se){var ye={v:"5"};return!(0,ee.Yr)()&&"undefined"!=typeof location&&location.hostname&&nr.test(location.hostname)&&(ye.r="f"),P&&(ye.s=P),j&&(ye.ls=j),se&&(ye.ac=se),Xi(k,Ns,ye)},E.prototype.open=function(k,P){var j=this;this.onDisconnect=P,this.onMessage=k,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Lt.set("previous_websocket_failure",!0);try{if((0,ee.Yr)()){var ye={headers:{"User-Agent":"Firebase/5/"+Me+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(ye.headers.Authorization="Bearer "+this.authToken),this.appCheckToken&&(ye.headers["X-Firebase-AppCheck"]=this.appCheckToken);var Fe=process.env,it=0===this.connURL.indexOf("wss://")?Fe.HTTPS_PROXY||Fe.https_proxy:Fe.HTTP_PROXY||Fe.http_proxy;it&&(ye.proxy={origin:it}),this.mySock=new Re(this.connURL,[],ye)}else this.mySock=new Re(this.connURL,[],ye={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(Et){this.log_("Error instantiating WebSocket.");var ut=Et.message||Et.data;return ut&&this.log_(ut),void this.onClosed_()}this.mySock.onopen=function(){j.log_("Websocket connected."),j.everConnected_=!0},this.mySock.onclose=function(){j.log_("Websocket connection was disconnected."),j.mySock=null,j.onClosed_()},this.mySock.onmessage=function(Et){j.handleIncomingFrame(Et)},this.mySock.onerror=function(Et){j.log_("WebSocket error.  Closing connection.");var zt=Et.message||Et.data;zt&&j.log_(zt),j.onClosed_()}},E.prototype.start=function(){},E.forceDisallow=function(){E.forceDisallow_=!0},E.isAvailable=function(){var k=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var j=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);j&&j.length>1&&parseFloat(j[1])<4.4&&(k=!0)}return!k&&null!==Re&&!E.forceDisallow_},E.previouslyFailed=function(){return Lt.isInMemoryStorage||!0===Lt.get("previous_websocket_failure")},E.prototype.markConnectionHealthy=function(){Lt.remove("previous_websocket_failure")},E.prototype.appendFrame_=function(k){if(this.frames.push(k),this.frames.length===this.totalFrames){var P=this.frames.join("");this.frames=null;var j=(0,ee.cI)(P);this.onMessage(j)}},E.prototype.handleNewFrameCount_=function(k){this.totalFrames=k,this.frames=[]},E.prototype.extractFrameCount_=function(k){if((0,ee.hu)(null===this.frames,"We already have a frame buffer"),k.length<=6){var P=Number(k);if(!isNaN(P))return this.handleNewFrameCount_(P),null}return this.handleNewFrameCount_(1),k},E.prototype.handleIncomingFrame=function(k){if(null!==this.mySock){var P=k.data;if(this.bytesReceived+=P.length,this.stats_.incrementCounter("bytes_received",P.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(P);else{var j=this.extractFrameCount_(P);null!==j&&this.appendFrame_(j)}}},E.prototype.send=function(k){this.resetKeepAlive();var P=(0,ee.Pz)(k);this.bytesSent+=P.length,this.stats_.incrementCounter("bytes_sent",P.length);var j=fi(P,16384);j.length>1&&this.sendString_(String(j.length));for(var se=0;se<j.length;se++)this.sendString_(j[se])},E.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},E.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},E.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},E.prototype.resetKeepAlive=function(){var k=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){k.mySock&&k.sendString_("0"),k.resetKeepAlive()},Math.floor(45e3))},E.prototype.sendString_=function(k){try{this.mySock.send(k)}catch(P){this.log_("Exception thrown from WebSocket.send():",P.message||P.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},E.responsesRequiredToBeHealthy=2,E.healthyTimeout=3e4,E}(),f=function(){function E(k){this.initTransports_(k)}return Object.defineProperty(E,"ALL_TRANSPORTS",{get:function(){return[nn,p]},enumerable:!1,configurable:!0}),E.prototype.initTransports_=function(k){var P,j,se=p&&p.isAvailable(),ye=se&&!p.previouslyFailed();if(k.webSocketOnly&&(se||Yr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),ye=!0),ye)this.transports_=[p];else{var Fe=this.transports_=[];try{for(var it=(0,x.XA)(E.ALL_TRANSPORTS),ut=it.next();!ut.done;ut=it.next()){var Et=ut.value;Et&&Et.isAvailable()&&Fe.push(Et)}}catch(zt){P={error:zt}}finally{try{ut&&!ut.done&&(j=it.return)&&j.call(it)}finally{if(P)throw P.error}}}},E.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},E.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},E}(),We=function(){function E(k,P,j,se,ye,Fe,it,ut,Et,zt){this.id=k,this.repoInfo_=P,this.applicationId_=j,this.appCheckToken_=se,this.authToken_=ye,this.onMessage_=Fe,this.onReady_=it,this.onDisconnect_=ut,this.onKill_=Et,this.lastSessionId=zt,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=zi("c:"+this.id+":"),this.transportManager_=new f(P),this.log_("Connection created"),this.start_()}return E.prototype.start_=function(){var k=this,P=this.transportManager_.initialTransport();this.conn_=new P(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=P.responsesRequiredToBeHealthy||0;var j=this.connReceiver_(this.conn_),se=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){k.conn_&&k.conn_.open(j,se)},Math.floor(0));var ye=P.healthyTimeout||0;ye>0&&(this.healthyTimeout_=lr(function(){k.healthyTimeout_=null,k.isHealthy_||(k.conn_&&k.conn_.bytesReceived>102400?(k.log_("Connection exceeded healthy timeout but has received "+k.conn_.bytesReceived+" bytes.  Marking connection healthy."),k.isHealthy_=!0,k.conn_.markConnectionHealthy()):k.conn_&&k.conn_.bytesSent>10240?k.log_("Connection exceeded healthy timeout but has sent "+k.conn_.bytesSent+" bytes.  Leaving connection alive."):(k.log_("Closing unhealthy connection after timeout."),k.close()))},Math.floor(ye)))},E.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},E.prototype.disconnReceiver_=function(k){var P=this;return function(j){k===P.conn_?P.onConnectionLost_(j):k===P.secondaryConn_?(P.log_("Secondary connection lost."),P.onSecondaryConnectionLost_()):P.log_("closing an old connection")}},E.prototype.connReceiver_=function(k){var P=this;return function(j){2!==P.state_&&(k===P.rx_?P.onPrimaryMessageReceived_(j):k===P.secondaryConn_?P.onSecondaryMessageReceived_(j):P.log_("message on old connection"))}},E.prototype.sendRequest=function(k){this.sendData_({t:"d",d:k})},E.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},E.prototype.onSecondaryControl_=function(k){if("t"in k){var P=k.t;"a"===P?this.upgradeIfSecondaryHealthy_():"r"===P?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===P&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},E.prototype.onSecondaryMessageReceived_=function(k){var P=Bi("t",k),j=Bi("d",k);if("c"===P)this.onSecondaryControl_(j);else{if("d"!==P)throw new Error("Unknown protocol layer: "+P);this.pendingDataMessages.push(j)}},E.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},E.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},E.prototype.onPrimaryMessageReceived_=function(k){var P=Bi("t",k),j=Bi("d",k);"c"===P?this.onControl_(j):"d"===P&&this.onDataMessage_(j)},E.prototype.onDataMessage_=function(k){this.onPrimaryResponse_(),this.onMessage_(k)},E.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},E.prototype.onControl_=function(k){var P=Bi("t",k);if("d"in k){var j=k.d;if("h"===P)this.onHandshake_(j);else if("n"===P){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var se=0;se<this.pendingDataMessages.length;++se)this.onDataMessage_(this.pendingDataMessages[se]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===P?this.onConnectionShutdown_(j):"r"===P?this.onReset_(j):"e"===P?Ps("Server Error: "+j):"o"===P?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ps("Unknown control packet command: "+P)}},E.prototype.onHandshake_=function(k){var P=k.ts,j=k.v,se=k.h;this.sessionId=k.s,this.repoInfo_.host=se,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,P),"5"!==j&&Yr("Protocol version mismatch detected"),this.tryStartUpgrade_())},E.prototype.tryStartUpgrade_=function(){var k=this.transportManager_.upgradeTransport();k&&this.startUpgrade_(k)},E.prototype.startUpgrade_=function(k){var P=this;this.secondaryConn_=new k(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=k.responsesRequiredToBeHealthy||0;var j=this.connReceiver_(this.secondaryConn_),se=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(j,se),lr(function(){P.secondaryConn_&&(P.log_("Timed out trying to upgrade."),P.secondaryConn_.close())},Math.floor(6e4))},E.prototype.onReset_=function(k){this.log_("Reset packet received.  New host: "+k),this.repoInfo_.host=k,1===this.state_?this.close():(this.closeConnections_(),this.start_())},E.prototype.onConnectionEstablished_=function(k,P){var j=this;this.log_("Realtime connection established."),this.conn_=k,this.state_=1,this.onReady_&&(this.onReady_(P,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):lr(function(){j.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},E.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},E.prototype.onSecondaryConnectionLost_=function(){var k=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===k||this.rx_===k)&&this.close()},E.prototype.onConnectionLost_=function(k){this.conn_=null,k||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Lt.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},E.prototype.onConnectionShutdown_=function(k){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(k),this.onKill_=null),this.onDisconnect_=null,this.close()},E.prototype.sendData_=function(k){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(k)},E.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},E.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},E}(),st=function(){function E(){}return E.prototype.put=function(k,P,j,se){},E.prototype.merge=function(k,P,j,se){},E.prototype.refreshAuthToken=function(k){},E.prototype.refreshAppCheckToken=function(k){},E.prototype.onDisconnectPut=function(k,P,j){},E.prototype.onDisconnectMerge=function(k,P,j){},E.prototype.onDisconnectCancel=function(k,P){},E.prototype.reportStats=function(k){},E}(),bt=function(){function E(k){this.allowedEvents_=k,this.listeners_={},(0,ee.hu)(Array.isArray(k)&&k.length>0,"Requires a non-empty array")}return E.prototype.trigger=function(k){for(var P=[],j=1;j<arguments.length;j++)P[j-1]=arguments[j];if(Array.isArray(this.listeners_[k]))for(var se=(0,x.ev)([],(0,x.CR)(this.listeners_[k])),ye=0;ye<se.length;ye++)se[ye].callback.apply(se[ye].context,P)},E.prototype.on=function(k,P,j){this.validateEventType_(k),this.listeners_[k]=this.listeners_[k]||[],this.listeners_[k].push({callback:P,context:j});var se=this.getInitialEvent(k);se&&P.apply(j,se)},E.prototype.off=function(k,P,j){this.validateEventType_(k);for(var se=this.listeners_[k]||[],ye=0;ye<se.length;ye++)if(se[ye].callback===P&&(!j||j===se[ye].context))return void se.splice(ye,1)},E.prototype.validateEventType_=function(k){(0,ee.hu)(this.allowedEvents_.find(function(P){return P===k}),"Unknown event: "+k)},E}(),X=function(E){function k(){var P=E.call(this,["online"])||this;return P.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,ee.uI)()&&(window.addEventListener("online",function(){P.online_||(P.online_=!0,P.trigger("online",!0))},!1),window.addEventListener("offline",function(){P.online_&&(P.online_=!1,P.trigger("online",!1))},!1)),P}return(0,x.ZT)(k,E),k.getInstance=function(){return new k},k.prototype.getInitialEvent=function(P){return(0,ee.hu)("online"===P,"Unknown event type: "+P),[this.online_]},k.prototype.currentlyOnline=function(){return this.online_},k}(bt),Je=function(){function E(k,P){if(void 0===P){this.pieces_=k.split("/");for(var j=0,se=0;se<this.pieces_.length;se++)this.pieces_[se].length>0&&(this.pieces_[j]=this.pieces_[se],j++);this.pieces_.length=j,this.pieceNum_=0}else this.pieces_=k,this.pieceNum_=P}return E.prototype.toString=function(){for(var k="",P=this.pieceNum_;P<this.pieces_.length;P++)""!==this.pieces_[P]&&(k+="/"+this.pieces_[P]);return k||"/"},E}();function mt(){return new Je("")}function ln(E){return E.pieceNum_>=E.pieces_.length?null:E.pieces_[E.pieceNum_]}function qt(E){return E.pieces_.length-E.pieceNum_}function un(E){var k=E.pieceNum_;return k<E.pieces_.length&&k++,new Je(E.pieces_,k)}function Vn(E){return E.pieceNum_<E.pieces_.length?E.pieces_[E.pieces_.length-1]:null}function ki(E,k){return void 0===k&&(k=0),E.pieces_.slice(E.pieceNum_+k)}function pr(E){if(E.pieceNum_>=E.pieces_.length)return null;for(var k=[],P=E.pieceNum_;P<E.pieces_.length-1;P++)k.push(E.pieces_[P]);return new Je(k,0)}function _i(E,k){for(var P=[],j=E.pieceNum_;j<E.pieces_.length;j++)P.push(E.pieces_[j]);if(k instanceof Je)for(j=k.pieceNum_;j<k.pieces_.length;j++)P.push(k.pieces_[j]);else{var se=k.split("/");for(j=0;j<se.length;j++)se[j].length>0&&P.push(se[j])}return new Je(P,0)}function Yi(E){return E.pieceNum_>=E.pieces_.length}function Lr(E,k){var P=ln(E),j=ln(k);if(null===P)return k;if(P===j)return Lr(un(E),un(k));throw new Error("INTERNAL ERROR: innerPath ("+k+") is not within outerPath ("+E+")")}function eo(E,k){for(var P=ki(E,0),j=ki(k,0),se=0;se<P.length&&se<j.length;se++){var ye=vn(P[se],j[se]);if(0!==ye)return ye}return P.length===j.length?0:P.length<j.length?-1:1}function Cs(E,k){if(qt(E)!==qt(k))return!1;for(var P=E.pieceNum_,j=k.pieceNum_;P<=E.pieces_.length;P++,j++)if(E.pieces_[P]!==k.pieces_[j])return!1;return!0}function qi(E,k){var P=E.pieceNum_,j=k.pieceNum_;if(qt(E)>qt(k))return!1;for(;P<E.pieces_.length;){if(E.pieces_[P]!==k.pieces_[j])return!1;++P,++j}return!0}var jr=function(k,P){this.errorPrefix_=P,this.parts_=ki(k,0),this.byteLength_=Math.max(1,this.parts_.length);for(var j=0;j<this.parts_.length;j++)this.byteLength_+=(0,ee.ug)(this.parts_[j]);ga(this)};function ga(E){if(E.byteLength_>768)throw new Error(E.errorPrefix_+"has a key path longer than 768 bytes ("+E.byteLength_+").");if(E.parts_.length>32)throw new Error(E.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+ao(E))}function ao(E){return 0===E.parts_.length?"":"in property '"+E.parts_.join(".")+"'"}var sh,zs,qo=function(E){function k(){var j,se,P=E.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(se="visibilitychange",j="hidden"):void 0!==document.mozHidden?(se="mozvisibilitychange",j="mozHidden"):void 0!==document.msHidden?(se="msvisibilitychange",j="msHidden"):void 0!==document.webkitHidden&&(se="webkitvisibilitychange",j="webkitHidden")),P.visible_=!0,se&&document.addEventListener(se,function(){var ye=!document[j];ye!==P.visible_&&(P.visible_=ye,P.trigger("visible",ye))},!1),P}return(0,x.ZT)(k,E),k.getInstance=function(){return new k},k.prototype.getInitialEvent=function(P){return(0,ee.hu)("visible"===P,"Unknown event type: "+P),[this.visible_]},k}(bt),Ad=1e3,ou=function(E){function k(P,j,se,ye,Fe,it,ut,Et){var zt=E.call(this)||this;if(zt.repoInfo_=P,zt.applicationId_=j,zt.onDataUpdate_=se,zt.onConnectStatus_=ye,zt.onServerInfoUpdate_=Fe,zt.authTokenProvider_=it,zt.appCheckTokenProvider_=ut,zt.authOverride_=Et,zt.id=k.nextPersistentConnectionId_++,zt.log_=zi("p:"+zt.id+":"),zt.interruptReasons_={},zt.listens=new Map,zt.outstandingPuts_=[],zt.outstandingGets_=[],zt.outstandingPutCount_=0,zt.outstandingGetCount_=0,zt.onDisconnectRequestQueue_=[],zt.connected_=!1,zt.reconnectDelay_=Ad,zt.maxReconnectDelay_=3e5,zt.securityDebugCallback_=null,zt.lastSessionId=null,zt.establishConnectionTimer_=null,zt.visible_=!1,zt.requestCBHash_={},zt.requestNumber_=0,zt.realtime_=null,zt.authToken_=null,zt.appCheckToken_=null,zt.forceTokenRefresh_=!1,zt.invalidAuthTokenCount_=0,zt.invalidAppCheckTokenCount_=0,zt.firstConnection_=!0,zt.lastConnectionAttemptTime_=null,zt.lastConnectionEstablishedTime_=null,Et&&!(0,ee.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return qo.getInstance().on("visible",zt.onVisible_,zt),-1===P.host.indexOf("fblocal")&&X.getInstance().on("online",zt.onOnline_,zt),zt}return(0,x.ZT)(k,E),k.prototype.sendRequest=function(P,j,se){var ye=++this.requestNumber_,Fe={r:ye,a:P,b:j};this.log_((0,ee.Pz)(Fe)),(0,ee.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(Fe),se&&(this.requestCBHash_[ye]=se)},k.prototype.get=function(P){var j=this;this.initConnection_();var se=new ee.BH,ye={p:P._path.toString(),q:P._queryObject},Fe={action:"g",request:ye,onComplete:function(ut){var Et=ut.d;"ok"===ut.s?(j.onDataUpdate_(ye.p,Et,!1,null),se.resolve(Et)):se.reject(Et)}};this.outstandingGets_.push(Fe),this.outstandingGetCount_++;var it=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var ut=j.outstandingGets_[it];void 0===ut||Fe!==ut||(delete j.outstandingGets_[it],j.outstandingGetCount_--,0===j.outstandingGetCount_&&(j.outstandingGets_=[]),j.log_("get "+it+" timed out on connection"),se.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(it),se.promise},k.prototype.listen=function(P,j,se,ye){this.initConnection_();var Fe=P._queryIdentifier,it=P._path.toString();this.log_("Listen called for "+it+" "+Fe),this.listens.has(it)||this.listens.set(it,new Map),(0,ee.hu)(P._queryParams.isDefault()||!P._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,ee.hu)(!this.listens.get(it).has(Fe),"listen() called twice for same path/queryId.");var ut={onComplete:ye,hashFn:j,query:P,tag:se};this.listens.get(it).set(Fe,ut),this.connected_&&this.sendListen_(ut)},k.prototype.sendGet_=function(P){var j=this,se=this.outstandingGets_[P];this.sendRequest("g",se.request,function(ye){delete j.outstandingGets_[P],j.outstandingGetCount_--,0===j.outstandingGetCount_&&(j.outstandingGets_=[]),se.onComplete&&se.onComplete(ye)})},k.prototype.sendListen_=function(P){var j=this,se=P.query,ye=se._path.toString(),Fe=se._queryIdentifier;this.log_("Listen on "+ye+" for "+Fe);var it={p:ye};P.tag&&(it.q=se._queryObject,it.t=P.tag),it.h=P.hashFn(),this.sendRequest("q",it,function(Et){var zt=Et.d,Sn=Et.s;k.warnOnListenWarnings_(zt,se),(j.listens.get(ye)&&j.listens.get(ye).get(Fe))===P&&(j.log_("listen response",Et),"ok"!==Sn&&j.removeListen_(ye,Fe),P.onComplete&&P.onComplete(Sn,zt))})},k.warnOnListenWarnings_=function(P,j){if(P&&"object"==typeof P&&(0,ee.r3)(P,"w")){var se=(0,ee.DV)(P,"w");if(Array.isArray(se)&&~se.indexOf("no_index")){var ye='".indexOn": "'+j._queryParams.getIndex().toString()+'"',Fe=j._path.toString();Yr("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+ye+" at "+Fe+" to your security rules for better performance.")}}},k.prototype.refreshAuthToken=function(P){this.authToken_=P,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(P)},k.prototype.reduceReconnectDelayIfAdminCredential_=function(P){(P&&40===P.length||(0,ee.GJ)(P))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},k.prototype.refreshAppCheckToken=function(P){this.appCheckToken_=P,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},k.prototype.tryAuth=function(){var P=this;if(this.connected_&&this.authToken_){var j=this.authToken_,se=(0,ee.w9)(j)?"auth":"gauth",ye={cred:j};null===this.authOverride_?ye.noauth=!0:"object"==typeof this.authOverride_&&(ye.authvar=this.authOverride_),this.sendRequest(se,ye,function(Fe){var it=Fe.s,ut=Fe.d||"error";P.authToken_===j&&("ok"===it?P.invalidAuthTokenCount_=0:P.onAuthRevoked_(it,ut))})}},k.prototype.tryAppCheck=function(){var P=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(j){var se=j.s,ye=j.d||"error";"ok"===se?P.invalidAppCheckTokenCount_=0:P.onAppCheckRevoked_(se,ye)})},k.prototype.unlisten=function(P,j){var se=P._path.toString(),ye=P._queryIdentifier;this.log_("Unlisten called for "+se+" "+ye),(0,ee.hu)(P._queryParams.isDefault()||!P._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(se,ye)&&this.connected_&&this.sendUnlisten_(se,ye,P._queryObject,j)},k.prototype.sendUnlisten_=function(P,j,se,ye){this.log_("Unlisten on "+P+" for "+j);var Fe={p:P};ye&&(Fe.q=se,Fe.t=ye),this.sendRequest("n",Fe)},k.prototype.onDisconnectPut=function(P,j,se){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",P,j,se):this.onDisconnectRequestQueue_.push({pathString:P,action:"o",data:j,onComplete:se})},k.prototype.onDisconnectMerge=function(P,j,se){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",P,j,se):this.onDisconnectRequestQueue_.push({pathString:P,action:"om",data:j,onComplete:se})},k.prototype.onDisconnectCancel=function(P,j){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",P,null,j):this.onDisconnectRequestQueue_.push({pathString:P,action:"oc",data:null,onComplete:j})},k.prototype.sendOnDisconnect_=function(P,j,se,ye){var Fe={p:j,d:se};this.log_("onDisconnect "+P,Fe),this.sendRequest(P,Fe,function(it){ye&&setTimeout(function(){ye(it.s,it.d)},Math.floor(0))})},k.prototype.put=function(P,j,se,ye){this.putInternal("p",P,j,se,ye)},k.prototype.merge=function(P,j,se,ye){this.putInternal("m",P,j,se,ye)},k.prototype.putInternal=function(P,j,se,ye,Fe){this.initConnection_();var it={p:j,d:se};void 0!==Fe&&(it.h=Fe),this.outstandingPuts_.push({action:P,request:it,onComplete:ye}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+j)},k.prototype.sendPut_=function(P){var j=this,se=this.outstandingPuts_[P].action,ye=this.outstandingPuts_[P].request,Fe=this.outstandingPuts_[P].onComplete;this.outstandingPuts_[P].queued=this.connected_,this.sendRequest(se,ye,function(it){j.log_(se+" response",it),delete j.outstandingPuts_[P],j.outstandingPutCount_--,0===j.outstandingPutCount_&&(j.outstandingPuts_=[]),Fe&&Fe(it.s,it.d)})},k.prototype.reportStats=function(P){var j=this;if(this.connected_){var se={c:P};this.log_("reportStats",se),this.sendRequest("s",se,function(ye){"ok"!==ye.s&&j.log_("reportStats","Error sending stats: "+ye.d)})}},k.prototype.onDataMessage_=function(P){if("r"in P){this.log_("from server: "+(0,ee.Pz)(P));var j=P.r,se=this.requestCBHash_[j];se&&(delete this.requestCBHash_[j],se(P.b))}else{if("error"in P)throw"A server-side error has occurred: "+P.error;"a"in P&&this.onDataPush_(P.a,P.b)}},k.prototype.onDataPush_=function(P,j){this.log_("handleServerMessage",P,j),"d"===P?this.onDataUpdate_(j.p,j.d,!1,j.t):"m"===P?this.onDataUpdate_(j.p,j.d,!0,j.t):"c"===P?this.onListenRevoked_(j.p,j.q):"ac"===P?this.onAuthRevoked_(j.s,j.d):"apc"===P?this.onAppCheckRevoked_(j.s,j.d):"sd"===P?this.onSecurityDebugPacket_(j):Ps("Unrecognized action received from server: "+(0,ee.Pz)(P)+"\nAre you using the latest client?")},k.prototype.onReady_=function(P,j){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(P),this.lastSessionId=j,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},k.prototype.scheduleConnect_=function(P){var j=this;(0,ee.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){j.establishConnectionTimer_=null,j.establishConnection_()},Math.floor(P))},k.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},k.prototype.onVisible_=function(P){P&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ad,this.realtime_||this.scheduleConnect_(0)),this.visible_=P},k.prototype.onOnline_=function(P){P?(this.log_("Browser went online."),this.reconnectDelay_=Ad,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},k.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Ad),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var j=(new Date).getTime()-this.lastConnectionAttemptTime_,se=Math.max(0,this.reconnectDelay_-j);se=Math.random()*se,this.log_("Trying to reconnect in "+se+"ms"),this.scheduleConnect_(se),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},k.prototype.establishConnection_=function(){return(0,x.mG)(this,void 0,void 0,function(){var P,j,se,ye,Fe,it,ut,Et,Sn,Hn,ci,Di,Qi,ir=this;return(0,x.Jh)(this,function(ts){switch(ts.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,P=this.onDataMessage_.bind(this),j=this.onReady_.bind(this),se=this.onRealtimeDisconnect_.bind(this),ye=this.id+":"+k.nextConnectionId_++,Fe=this.lastSessionId,it=!1,ut=null,this.realtime_={close:Et=function(){ut?ut.close():(it=!0,se())},sendRequest:function(Fa){(0,ee.hu)(ut,"sendRequest call when we're not connected not allowed."),ut.sendRequest(Fa)}},Sn=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,ts.label=1;case 1:return ts.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(Sn),this.appCheckTokenProvider_.getToken(Sn)])];case 2:return Hn=x.CR.apply(void 0,[ts.sent(),2]),ci=Hn[0],Di=Hn[1],it?hi("getToken() completed but was canceled"):(hi("getToken() completed. Creating connection."),this.authToken_=ci&&ci.accessToken,this.appCheckToken_=Di&&Di.token,ut=new We(ye,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,P,j,se,function(Fa){Yr(Fa+" ("+ir.repoInfo_.toString()+")"),ir.interrupt("server_kill")},Fe)),[3,4];case 3:return Qi=ts.sent(),this.log_("Failed to get token: "+Qi),it||(this.repoInfo_.nodeAdmin&&Yr(Qi),Et()),[3,4];case 4:return[2]}})})},k.prototype.interrupt=function(P){hi("Interrupting connection for reason: "+P),this.interruptReasons_[P]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},k.prototype.resume=function(P){hi("Resuming connection for reason: "+P),delete this.interruptReasons_[P],(0,ee.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Ad,this.realtime_||this.scheduleConnect_(0))},k.prototype.handleTimestamp_=function(P){var j=P-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:j})},k.prototype.cancelSentTransactions_=function(){for(var P=0;P<this.outstandingPuts_.length;P++){var j=this.outstandingPuts_[P];j&&"h"in j.request&&j.queued&&(j.onComplete&&j.onComplete("disconnect"),delete this.outstandingPuts_[P],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},k.prototype.onListenRevoked_=function(P,j){var se;se=j?j.map(function(Fe){return Vi(Fe)}).join("$"):"default";var ye=this.removeListen_(P,se);ye&&ye.onComplete&&ye.onComplete("permission_denied")},k.prototype.removeListen_=function(P,j){var ye,se=new Je(P).toString();if(this.listens.has(se)){var Fe=this.listens.get(se);ye=Fe.get(j),Fe.delete(j),0===Fe.size&&this.listens.delete(se)}else ye=void 0;return ye},k.prototype.onAuthRevoked_=function(P,j){hi("Auth token revoked: "+P+"/"+j),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===P||"permission_denied"===P)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},k.prototype.onAppCheckRevoked_=function(P,j){hi("App check token revoked: "+P+"/"+j),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===P||"permission_denied"===P)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},k.prototype.onSecurityDebugPacket_=function(P){this.securityDebugCallback_?this.securityDebugCallback_(P):"msg"in P&&console.log("FIREBASE: "+P.msg.replace("\n","\nFIREBASE: "))},k.prototype.restoreState_=function(){var P,j,se,ye;this.tryAuth(),this.tryAppCheck();try{for(var Fe=(0,x.XA)(this.listens.values()),it=Fe.next();!it.done;it=Fe.next()){var ut=it.value;try{for(var Et=(se=void 0,(0,x.XA)(ut.values())),zt=Et.next();!zt.done;zt=Et.next())this.sendListen_(zt.value)}catch(Di){se={error:Di}}finally{try{zt&&!zt.done&&(ye=Et.return)&&ye.call(Et)}finally{if(se)throw se.error}}}}catch(Di){P={error:Di}}finally{try{it&&!it.done&&(j=Fe.return)&&j.call(Fe)}finally{if(P)throw P.error}}for(var Hn=0;Hn<this.outstandingPuts_.length;Hn++)this.outstandingPuts_[Hn]&&this.sendPut_(Hn);for(;this.onDisconnectRequestQueue_.length;){var ci=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(ci.action,ci.pathString,ci.data,ci.onComplete)}for(Hn=0;Hn<this.outstandingGets_.length;Hn++)this.outstandingGets_[Hn]&&this.sendGet_(Hn)},k.prototype.sendConnectStats_=function(){var P={},j="js";(0,ee.Yr)()&&(j=this.repoInfo_.nodeAdmin?"admin_node":"node"),P["sdk."+j+"."+Me.replace(/\./g,"-")]=1,(0,ee.uI)()?P["framework.cordova"]=1:(0,ee.b$)()&&(P["framework.reactnative"]=1),this.reportStats(P)},k.prototype.shouldReconnect_=function(){var P=X.getInstance().currentlyOnline();return(0,ee.xb)(this.interruptReasons_)&&P},k.nextPersistentConnectionId_=0,k.nextConnectionId_=0,k}(st),Ts=function(){function E(k,P){this.name=k,this.node=P}return E.Wrap=function(k,P){return new E(k,P)},E}(),Zh=function(){function E(){}return E.prototype.getCompare=function(){return this.compare.bind(this)},E.prototype.indexedValueChanged=function(k,P){var j=new Ts(mn,k),se=new Ts(mn,P);return 0!==this.compare(j,se)},E.prototype.minPost=function(){return Ts.MIN},E}(),Mp=function(E){function k(){return null!==E&&E.apply(this,arguments)||this}return(0,x.ZT)(k,E),Object.defineProperty(k,"__EMPTY_NODE",{get:function(){return sh},set:function(P){sh=P},enumerable:!1,configurable:!0}),k.prototype.compare=function(P,j){return vn(P.name,j.name)},k.prototype.isDefinedOn=function(P){throw(0,ee.g5)("KeyIndex.isDefinedOn not expected to be called.")},k.prototype.indexedValueChanged=function(P,j){return!1},k.prototype.minPost=function(){return Ts.MIN},k.prototype.maxPost=function(){return new Ts(Yn,sh)},k.prototype.makePost=function(P,j){return(0,ee.hu)("string"==typeof P,"KeyIndex indexValue must always be a string."),new Ts(P,sh)},k.prototype.toString=function(){return".key"},k}(Zh),nc=new Mp,oh=function(){function E(k,P,j,se,ye){void 0===ye&&(ye=null),this.isReverse_=se,this.resultGenerator_=ye,this.nodeStack_=[];for(var Fe=1;!k.isEmpty();)if(k=k,Fe=P?j(k.key,P):1,se&&(Fe*=-1),Fe<0)k=this.isReverse_?k.left:k.right;else{if(0===Fe){this.nodeStack_.push(k);break}this.nodeStack_.push(k),k=this.isReverse_?k.right:k.left}}return E.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var P,k=this.nodeStack_.pop();if(P=this.resultGenerator_?this.resultGenerator_(k.key,k.value):{key:k.key,value:k.value},this.isReverse_)for(k=k.left;!k.isEmpty();)this.nodeStack_.push(k),k=k.right;else for(k=k.right;!k.isEmpty();)this.nodeStack_.push(k),k=k.left;return P},E.prototype.hasNext=function(){return this.nodeStack_.length>0},E.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var k=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(k.key,k.value):{key:k.key,value:k.value}},E}(),zl=function(){function E(k,P,j,se,ye){this.key=k,this.value=P,this.color=null!=j?j:E.RED,this.left=null!=se?se:la.EMPTY_NODE,this.right=null!=ye?ye:la.EMPTY_NODE}return E.prototype.copy=function(k,P,j,se,ye){return new E(null!=k?k:this.key,null!=P?P:this.value,null!=j?j:this.color,null!=se?se:this.left,null!=ye?ye:this.right)},E.prototype.count=function(){return this.left.count()+1+this.right.count()},E.prototype.isEmpty=function(){return!1},E.prototype.inorderTraversal=function(k){return this.left.inorderTraversal(k)||!!k(this.key,this.value)||this.right.inorderTraversal(k)},E.prototype.reverseTraversal=function(k){return this.right.reverseTraversal(k)||k(this.key,this.value)||this.left.reverseTraversal(k)},E.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},E.prototype.minKey=function(){return this.min_().key},E.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},E.prototype.insert=function(k,P,j){var se=this,ye=j(k,se.key);return(se=ye<0?se.copy(null,null,null,se.left.insert(k,P,j),null):0===ye?se.copy(null,P,null,null,null):se.copy(null,null,null,null,se.right.insert(k,P,j))).fixUp_()},E.prototype.removeMin_=function(){if(this.left.isEmpty())return la.EMPTY_NODE;var k=this;return!k.left.isRed_()&&!k.left.left.isRed_()&&(k=k.moveRedLeft_()),(k=k.copy(null,null,null,k.left.removeMin_(),null)).fixUp_()},E.prototype.remove=function(k,P){var j,se;if(P(k,(j=this).key)<0)!j.left.isEmpty()&&!j.left.isRed_()&&!j.left.left.isRed_()&&(j=j.moveRedLeft_()),j=j.copy(null,null,null,j.left.remove(k,P),null);else{if(j.left.isRed_()&&(j=j.rotateRight_()),!j.right.isEmpty()&&!j.right.isRed_()&&!j.right.left.isRed_()&&(j=j.moveRedRight_()),0===P(k,j.key)){if(j.right.isEmpty())return la.EMPTY_NODE;se=j.right.min_(),j=j.copy(se.key,se.value,null,null,j.right.removeMin_())}j=j.copy(null,null,null,null,j.right.remove(k,P))}return j.fixUp_()},E.prototype.isRed_=function(){return this.color},E.prototype.fixUp_=function(){var k=this;return k.right.isRed_()&&!k.left.isRed_()&&(k=k.rotateLeft_()),k.left.isRed_()&&k.left.left.isRed_()&&(k=k.rotateRight_()),k.left.isRed_()&&k.right.isRed_()&&(k=k.colorFlip_()),k},E.prototype.moveRedLeft_=function(){var k=this.colorFlip_();return k.right.left.isRed_()&&(k=(k=(k=k.copy(null,null,null,null,k.right.rotateRight_())).rotateLeft_()).colorFlip_()),k},E.prototype.moveRedRight_=function(){var k=this.colorFlip_();return k.left.left.isRed_()&&(k=(k=k.rotateRight_()).colorFlip_()),k},E.prototype.rotateLeft_=function(){var k=this.copy(null,null,E.RED,null,this.right.left);return this.right.copy(null,null,this.color,k,null)},E.prototype.rotateRight_=function(){var k=this.copy(null,null,E.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,k)},E.prototype.colorFlip_=function(){var k=this.left.copy(null,null,!this.left.color,null,null),P=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,k,P)},E.prototype.checkMaxDepth_=function(){var k=this.check_();return Math.pow(2,k)<=this.count()+1},E.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var k=this.left.check_();if(k!==this.right.check_())throw new Error("Black depths differ");return k+(this.isRed_()?0:1)},E.RED=!0,E.BLACK=!1,E}(),ah=function(){function E(){}return E.prototype.copy=function(k,P,j,se,ye){return this},E.prototype.insert=function(k,P,j){return new zl(k,P,null)},E.prototype.remove=function(k,P){return this},E.prototype.count=function(){return 0},E.prototype.isEmpty=function(){return!0},E.prototype.inorderTraversal=function(k){return!1},E.prototype.reverseTraversal=function(k){return!1},E.prototype.minKey=function(){return null},E.prototype.maxKey=function(){return null},E.prototype.check_=function(){return 0},E.prototype.isRed_=function(){return!1},E}(),la=function(){function E(k,P){void 0===P&&(P=E.EMPTY_NODE),this.comparator_=k,this.root_=P}return E.prototype.insert=function(k,P){return new E(this.comparator_,this.root_.insert(k,P,this.comparator_).copy(null,null,zl.BLACK,null,null))},E.prototype.remove=function(k){return new E(this.comparator_,this.root_.remove(k,this.comparator_).copy(null,null,zl.BLACK,null,null))},E.prototype.get=function(k){for(var P,j=this.root_;!j.isEmpty();){if(0===(P=this.comparator_(k,j.key)))return j.value;P<0?j=j.left:P>0&&(j=j.right)}return null},E.prototype.getPredecessorKey=function(k){for(var P,j=this.root_,se=null;!j.isEmpty();){if(0===(P=this.comparator_(k,j.key))){if(j.left.isEmpty())return se?se.key:null;for(j=j.left;!j.right.isEmpty();)j=j.right;return j.key}P<0?j=j.left:P>0&&(se=j,j=j.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},E.prototype.isEmpty=function(){return this.root_.isEmpty()},E.prototype.count=function(){return this.root_.count()},E.prototype.minKey=function(){return this.root_.minKey()},E.prototype.maxKey=function(){return this.root_.maxKey()},E.prototype.inorderTraversal=function(k){return this.root_.inorderTraversal(k)},E.prototype.reverseTraversal=function(k){return this.root_.reverseTraversal(k)},E.prototype.getIterator=function(k){return new oh(this.root_,null,this.comparator_,!1,k)},E.prototype.getIteratorFrom=function(k,P){return new oh(this.root_,k,this.comparator_,!1,P)},E.prototype.getReverseIteratorFrom=function(k,P){return new oh(this.root_,k,this.comparator_,!0,P)},E.prototype.getReverseIterator=function(k){return new oh(this.root_,null,this.comparator_,!0,k)},E.EMPTY_NODE=new ah,E}();function Tp(E,k){return vn(E.name,k.name)}function Ss(E,k){return vn(E,k)}var Ld,ch,Pd,Od,Bl,ic=function(E){return"number"==typeof E?"number:"+vi(E):"string:"+E},lh=function(E){if(E.isLeafNode()){var k=E.val();(0,ee.hu)("string"==typeof k||"number"==typeof k||"object"==typeof k&&(0,ee.r3)(k,".sv"),"Priority must be a string or number.")}else(0,ee.hu)(E===zs||E.isEmpty(),"priority of unexpected type.");(0,ee.hu)(E===zs||E.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Or=function(){function E(k,P){void 0===P&&(P=E.__childrenNodeConstructor.EMPTY_NODE),this.value_=k,this.priorityNode_=P,this.lazyHash_=null,(0,ee.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),lh(this.priorityNode_)}return Object.defineProperty(E,"__childrenNodeConstructor",{get:function(){return Ld},set:function(k){Ld=k},enumerable:!1,configurable:!0}),E.prototype.isLeafNode=function(){return!0},E.prototype.getPriority=function(){return this.priorityNode_},E.prototype.updatePriority=function(k){return new E(this.value_,k)},E.prototype.getImmediateChild=function(k){return".priority"===k?this.priorityNode_:E.__childrenNodeConstructor.EMPTY_NODE},E.prototype.getChild=function(k){return Yi(k)?this:".priority"===ln(k)?this.priorityNode_:E.__childrenNodeConstructor.EMPTY_NODE},E.prototype.hasChild=function(){return!1},E.prototype.getPredecessorChildName=function(k,P){return null},E.prototype.updateImmediateChild=function(k,P){return".priority"===k?this.updatePriority(P):P.isEmpty()&&".priority"!==k?this:E.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(k,P).updatePriority(this.priorityNode_)},E.prototype.updateChild=function(k,P){var j=ln(k);return null===j?P:P.isEmpty()&&".priority"!==j?this:((0,ee.hu)(".priority"!==j||1===qt(k),".priority must be the last token in a path"),this.updateImmediateChild(j,E.__childrenNodeConstructor.EMPTY_NODE.updateChild(un(k),P)))},E.prototype.isEmpty=function(){return!1},E.prototype.numChildren=function(){return 0},E.prototype.forEachChild=function(k,P){return!1},E.prototype.val=function(k){return k&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},E.prototype.hash=function(){if(null===this.lazyHash_){var k="";this.priorityNode_.isEmpty()||(k+="priority:"+ic(this.priorityNode_.val())+":");var P=typeof this.value_;k+=P+":",k+="number"===P?vi(this.value_):this.value_,this.lazyHash_=ii(k)}return this.lazyHash_},E.prototype.getValue=function(){return this.value_},E.prototype.compareTo=function(k){return k===E.__childrenNodeConstructor.EMPTY_NODE?1:k instanceof E.__childrenNodeConstructor?-1:((0,ee.hu)(k.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(k))},E.prototype.compareToLeafNode_=function(k){var P=typeof k.value_,j=typeof this.value_,se=E.VALUE_TYPE_ORDER.indexOf(P),ye=E.VALUE_TYPE_ORDER.indexOf(j);return(0,ee.hu)(se>=0,"Unknown leaf type: "+P),(0,ee.hu)(ye>=0,"Unknown leaf type: "+j),se===ye?"object"===j?0:this.value_<k.value_?-1:this.value_===k.value_?0:1:ye-se},E.prototype.withIndex=function(){return this},E.prototype.isIndexed=function(){return!0},E.prototype.equals=function(k){return k===this||!!k.isLeafNode()&&(this.value_===k.value_&&this.priorityNode_.equals(k.priorityNode_))},E.VALUE_TYPE_ORDER=["object","boolean","number","string"],E}(),mi=new(function(E){function k(){return null!==E&&E.apply(this,arguments)||this}return(0,x.ZT)(k,E),k.prototype.compare=function(P,j){var se=P.node.getPriority(),ye=j.node.getPriority(),Fe=se.compareTo(ye);return 0===Fe?vn(P.name,j.name):Fe},k.prototype.isDefinedOn=function(P){return!P.getPriority().isEmpty()},k.prototype.indexedValueChanged=function(P,j){return!P.getPriority().equals(j.getPriority())},k.prototype.minPost=function(){return Ts.MIN},k.prototype.maxPost=function(){return new Ts(Yn,new Or("[PRIORITY-POST]",Pd))},k.prototype.makePost=function(P,j){var se=ch(P);return new Ts(j,new Or("[PRIORITY-POST]",se))},k.prototype.toString=function(){return".priority"},k}(Zh)),Hc=Math.log(2),rc=function(){function E(k){this.count=parseInt(Math.log(k+1)/Hc,10),this.current_=this.count-1;var se=parseInt(Array(this.count+1).join("1"),2);this.bits_=k+1&se}return E.prototype.nextBitIsOne=function(){var k=!(this.bits_&1<<this.current_);return this.current_--,k},E}(),Xa=function(E,k,P,j){E.sort(k);var se=function(ut,Et){var Sn,Hn,zt=Et-ut;if(0===zt)return null;if(1===zt)return Sn=E[ut],Hn=P?P(Sn):Sn,new zl(Hn,Sn.node,zl.BLACK,null,null);var ci=parseInt(zt/2,10)+ut,Di=se(ut,ci),Qi=se(ci+1,Et);return Sn=E[ci],Hn=P?P(Sn):Sn,new zl(Hn,Sn.node,zl.BLACK,Di,Qi)},it=function(ut){for(var Et=null,zt=null,Sn=E.length,Hn=function(ts,Fa){var Qc=Sn-ts,mf=Sn;Sn-=ts;var gg=se(Qc+1,mf),ta=E[Qc],mu=P?P(ta):ta;ci(new zl(mu,ta.node,Fa,null,gg))},ci=function(ts){Et?(Et.left=ts,Et=ts):(zt=ts,Et=ts)},Di=0;Di<ut.count;++Di){var Qi=ut.nextBitIsOne(),ir=Math.pow(2,ut.count-(Di+1));Qi?Hn(ir,zl.BLACK):(Hn(ir,zl.BLACK),Hn(ir,zl.RED))}return zt}(new rc(E.length));return new la(j||k,it)},Vc={},Hs=function(){function E(k,P){this.indexes_=k,this.indexSet_=P}return Object.defineProperty(E,"Default",{get:function(){return(0,ee.hu)(Vc&&mi,"ChildrenNode.ts has not been loaded"),Od=Od||new E({".priority":Vc},{".priority":mi})},enumerable:!1,configurable:!0}),E.prototype.get=function(k){var P=(0,ee.DV)(this.indexes_,k);if(!P)throw new Error("No index defined for "+k);return P instanceof la?P:null},E.prototype.hasIndex=function(k){return(0,ee.r3)(this.indexSet_,k.toString())},E.prototype.addIndex=function(k,P){(0,ee.hu)(k!==nc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var j=[],se=!1,ye=P.getIterator(Ts.Wrap),Fe=ye.getNext();Fe;)se=se||k.isDefinedOn(Fe.node),j.push(Fe),Fe=ye.getNext();var it;it=se?Xa(j,k.getCompare()):Vc;var ut=k.toString(),Et=(0,x.pi)({},this.indexSet_);Et[ut]=k;var zt=(0,x.pi)({},this.indexes_);return zt[ut]=it,new E(zt,Et)},E.prototype.addToIndexes=function(k,P){var j=this;return new E((0,ee.UI)(this.indexes_,function(ye,Fe){var it=(0,ee.DV)(j.indexSet_,Fe);if((0,ee.hu)(it,"Missing index implementation for "+Fe),ye===Vc){if(it.isDefinedOn(k.node)){for(var ut=[],Et=P.getIterator(Ts.Wrap),zt=Et.getNext();zt;)zt.name!==k.name&&ut.push(zt),zt=Et.getNext();return ut.push(k),Xa(ut,it.getCompare())}return Vc}var Sn=P.get(k.name),Hn=ye;return Sn&&(Hn=Hn.remove(new Ts(k.name,Sn))),Hn.insert(k,k.node)}),this.indexSet_)},E.prototype.removeFromIndexes=function(k,P){return new E((0,ee.UI)(this.indexes_,function(se){if(se===Vc)return se;var ye=P.get(k.name);return ye?se.remove(new Ts(k.name,ye)):se}),this.indexSet_)},E}(),or=function(){function E(k,P,j){this.children_=k,this.priorityNode_=P,this.indexMap_=j,this.lazyHash_=null,this.priorityNode_&&lh(this.priorityNode_),this.children_.isEmpty()&&(0,ee.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(E,"EMPTY_NODE",{get:function(){return Bl||(Bl=new E(new la(Ss),null,Hs.Default))},enumerable:!1,configurable:!0}),E.prototype.isLeafNode=function(){return!1},E.prototype.getPriority=function(){return this.priorityNode_||Bl},E.prototype.updatePriority=function(k){return this.children_.isEmpty()?this:new E(this.children_,k,this.indexMap_)},E.prototype.getImmediateChild=function(k){if(".priority"===k)return this.getPriority();var P=this.children_.get(k);return null===P?Bl:P},E.prototype.getChild=function(k){var P=ln(k);return null===P?this:this.getImmediateChild(P).getChild(un(k))},E.prototype.hasChild=function(k){return null!==this.children_.get(k)},E.prototype.updateImmediateChild=function(k,P){if((0,ee.hu)(P,"We should always be passing snapshot nodes"),".priority"===k)return this.updatePriority(P);var j=new Ts(k,P),se=void 0,ye=void 0;P.isEmpty()?(se=this.children_.remove(k),ye=this.indexMap_.removeFromIndexes(j,this.children_)):(se=this.children_.insert(k,P),ye=this.indexMap_.addToIndexes(j,this.children_));var Fe=se.isEmpty()?Bl:this.priorityNode_;return new E(se,Fe,ye)},E.prototype.updateChild=function(k,P){var j=ln(k);if(null===j)return P;(0,ee.hu)(".priority"!==ln(k)||1===qt(k),".priority must be the last token in a path");var se=this.getImmediateChild(j).updateChild(un(k),P);return this.updateImmediateChild(j,se)},E.prototype.isEmpty=function(){return this.children_.isEmpty()},E.prototype.numChildren=function(){return this.children_.count()},E.prototype.val=function(k){if(this.isEmpty())return null;var P={},j=0,se=0,ye=!0;if(this.forEachChild(mi,function(ut,Et){P[ut]=Et.val(k),j++,ye&&E.INTEGER_REGEXP_.test(ut)?se=Math.max(se,Number(ut)):ye=!1}),!k&&ye&&se<2*j){var Fe=[];for(var it in P)Fe[it]=P[it];return Fe}return k&&!this.getPriority().isEmpty()&&(P[".priority"]=this.getPriority().val()),P},E.prototype.hash=function(){if(null===this.lazyHash_){var k="";this.getPriority().isEmpty()||(k+="priority:"+ic(this.getPriority().val())+":"),this.forEachChild(mi,function(P,j){var se=j.hash();""!==se&&(k+=":"+P+":"+se)}),this.lazyHash_=""===k?"":ii(k)}return this.lazyHash_},E.prototype.getPredecessorChildName=function(k,P,j){var se=this.resolveIndex_(j);if(se){var ye=se.getPredecessorKey(new Ts(k,P));return ye?ye.name:null}return this.children_.getPredecessorKey(k)},E.prototype.getFirstChildName=function(k){var P=this.resolveIndex_(k);if(P){var j=P.minKey();return j&&j.name}return this.children_.minKey()},E.prototype.getFirstChild=function(k){var P=this.getFirstChildName(k);return P?new Ts(P,this.children_.get(P)):null},E.prototype.getLastChildName=function(k){var P=this.resolveIndex_(k);if(P){var j=P.maxKey();return j&&j.name}return this.children_.maxKey()},E.prototype.getLastChild=function(k){var P=this.getLastChildName(k);return P?new Ts(P,this.children_.get(P)):null},E.prototype.forEachChild=function(k,P){var j=this.resolveIndex_(k);return j?j.inorderTraversal(function(se){return P(se.name,se.node)}):this.children_.inorderTraversal(P)},E.prototype.getIterator=function(k){return this.getIteratorFrom(k.minPost(),k)},E.prototype.getIteratorFrom=function(k,P){var j=this.resolveIndex_(P);if(j)return j.getIteratorFrom(k,function(Fe){return Fe});for(var se=this.children_.getIteratorFrom(k.name,Ts.Wrap),ye=se.peek();null!=ye&&P.compare(ye,k)<0;)se.getNext(),ye=se.peek();return se},E.prototype.getReverseIterator=function(k){return this.getReverseIteratorFrom(k.maxPost(),k)},E.prototype.getReverseIteratorFrom=function(k,P){var j=this.resolveIndex_(P);if(j)return j.getReverseIteratorFrom(k,function(Fe){return Fe});for(var se=this.children_.getReverseIteratorFrom(k.name,Ts.Wrap),ye=se.peek();null!=ye&&P.compare(ye,k)>0;)se.getNext(),ye=se.peek();return se},E.prototype.compareTo=function(k){return this.isEmpty()?k.isEmpty()?0:-1:k.isLeafNode()||k.isEmpty()?1:k===fr?-1:0},E.prototype.withIndex=function(k){if(k===nc||this.indexMap_.hasIndex(k))return this;var P=this.indexMap_.addIndex(k,this.children_);return new E(this.children_,this.priorityNode_,P)},E.prototype.isIndexed=function(k){return k===nc||this.indexMap_.hasIndex(k)},E.prototype.equals=function(k){if(k===this)return!0;if(k.isLeafNode())return!1;var P=k;if(this.getPriority().equals(P.getPriority())){if(this.children_.count()===P.children_.count()){for(var j=this.getIterator(mi),se=P.getIterator(mi),ye=j.getNext(),Fe=se.getNext();ye&&Fe;){if(ye.name!==Fe.name||!ye.node.equals(Fe.node))return!1;ye=j.getNext(),Fe=se.getNext()}return null===ye&&null===Fe}return!1}return!1},E.prototype.resolveIndex_=function(k){return k===nc?null:this.indexMap_.get(k.toString())},E.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,E}(),fr=new(function(E){function k(){return E.call(this,new la(Ss),or.EMPTY_NODE,Hs.Default)||this}return(0,x.ZT)(k,E),k.prototype.compareTo=function(P){return P===this?0:1},k.prototype.equals=function(P){return P===this},k.prototype.getPriority=function(){return this},k.prototype.getImmediateChild=function(P){return or.EMPTY_NODE},k.prototype.isEmpty=function(){return!1},k}(or));function os(E,k){if(void 0===k&&(k=null),null===E)return or.EMPTY_NODE;if("object"==typeof E&&".priority"in E&&(k=E[".priority"]),(0,ee.hu)(null===k||"string"==typeof k||"number"==typeof k||"object"==typeof k&&".sv"in k,"Invalid priority type found: "+typeof k),"object"==typeof E&&".value"in E&&null!==E[".value"]&&(E=E[".value"]),"object"!=typeof E||".sv"in E)return new Or(E,os(k));if(E instanceof Array){var ut=or.EMPTY_NODE;return Ti(E,function(Et,zt){if((0,ee.r3)(E,Et)&&"."!==Et.substring(0,1)){var Sn=os(zt);(Sn.isLeafNode()||!Sn.isEmpty())&&(ut=ut.updateImmediateChild(Et,Sn))}}),ut.updatePriority(os(k))}var j=[],se=!1;if(Ti(E,function(Et,zt){if("."!==Et.substring(0,1)){var Sn=os(zt);Sn.isEmpty()||(se=se||!Sn.getPriority().isEmpty(),j.push(new Ts(Et,Sn)))}}),0===j.length)return or.EMPTY_NODE;var Fe=Xa(j,Tp,function(Et){return Et.name},Ss);if(se){var it=Xa(j,mi.getCompare());return new or(Fe,os(k),new Hs({".priority":it},{".priority":mi}))}return new or(Fe,os(k),Hs.Default)}Object.defineProperties(Ts,{MIN:{value:new Ts(mn,or.EMPTY_NODE)},MAX:{value:new Ts(Yn,fr)}}),Mp.__EMPTY_NODE=or.EMPTY_NODE,Or.__childrenNodeConstructor=or,function(E){zs=E}(fr),function(E){Pd=E}(fr),function(E){ch=E}(os);var Ku=function(E){function k(P){var j=E.call(this)||this;return j.indexPath_=P,(0,ee.hu)(!Yi(P)&&".priority"!==ln(P),"Can't create PathIndex with empty path or .priority key"),j}return(0,x.ZT)(k,E),k.prototype.extractChild=function(P){return P.getChild(this.indexPath_)},k.prototype.isDefinedOn=function(P){return!P.getChild(this.indexPath_).isEmpty()},k.prototype.compare=function(P,j){var se=this.extractChild(P.node),ye=this.extractChild(j.node),Fe=se.compareTo(ye);return 0===Fe?vn(P.name,j.name):Fe},k.prototype.makePost=function(P,j){var se=os(P),ye=or.EMPTY_NODE.updateChild(this.indexPath_,se);return new Ts(j,ye)},k.prototype.maxPost=function(){var P=or.EMPTY_NODE.updateChild(this.indexPath_,fr);return new Ts(Yn,P)},k.prototype.toString=function(){return ki(this.indexPath_,0).join("/")},k}(Zh),sc=new(function(E){function k(){return null!==E&&E.apply(this,arguments)||this}return(0,x.ZT)(k,E),k.prototype.compare=function(P,j){var se=P.node.compareTo(j.node);return 0===se?vn(P.name,j.name):se},k.prototype.isDefinedOn=function(P){return!0},k.prototype.indexedValueChanged=function(P,j){return!P.equals(j)},k.prototype.minPost=function(){return Ts.MIN},k.prototype.maxPost=function(){return Ts.MAX},k.prototype.makePost=function(P,j){var se=os(P);return new Ts(j,se)},k.prototype.toString=function(){return".value"},k}(Zh)),La="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",uh=function(){var E=0,k=[];return function(P){var j=P===E;E=P;var se,ye=new Array(8);for(se=7;se>=0;se--)ye[se]=La.charAt(P%64),P=Math.floor(P/64);(0,ee.hu)(0===P,"Cannot push at time == 0");var Fe=ye.join("");if(j){for(se=11;se>=0&&63===k[se];se--)k[se]=0;k[se]++}else for(se=0;se<12;se++)k[se]=Math.floor(64*Math.random());for(se=0;se<12;se++)Fe+=La.charAt(k[se]);return(0,ee.hu)(20===Fe.length,"nextPushId: Length should be 20."),Fe}}(),xu=function(E){if(E===""+ss)return"-";var k=Gs(E);if(null!=k)return""+(k+1);for(var P=new Array(E.length),j=0;j<P.length;j++)P[j]=E.charAt(j);if(P.length<786)return P.push("-"),P.join("");for(var se=P.length-1;se>=0&&"z"===P[se];)se--;if(-1===se)return Yn;var Fe=La.charAt(La.indexOf(P[se])+1);return P[se]=Fe,P.slice(0,se+1).join("")},Hl=function(E){if(E===""+xo)return mn;var k=Gs(E);if(null!=k)return""+(k-1);for(var P=new Array(E.length),j=0;j<P.length;j++)P[j]=E.charAt(j);return"-"===P[P.length-1]?1===P.length?""+ss:(delete P[P.length-1],P.join("")):(P[P.length-1]=La.charAt(La.indexOf(P[P.length-1])-1),P.join("")+"z".repeat(786-P.length))};function Gh(E){return{type:"value",snapshotNode:E}}function vc(E,k){return{type:"child_added",snapshotNode:k,childName:E}}function rr(E,k){return{type:"child_removed",snapshotNode:k,childName:E}}function ed(E,k,P){return{type:"child_changed",snapshotNode:k,childName:E,oldSnap:P}}var bc=function(){function E(k){this.index_=k}return E.prototype.updateChild=function(k,P,j,se,ye,Fe){(0,ee.hu)(k.isIndexed(this.index_),"A node must be indexed if only a child is updated");var it=k.getImmediateChild(P);return it.getChild(se).equals(j.getChild(se))&&it.isEmpty()===j.isEmpty()||(null!=Fe&&(j.isEmpty()?k.hasChild(P)?Fe.trackChildChange(rr(P,it)):(0,ee.hu)(k.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):it.isEmpty()?Fe.trackChildChange(vc(P,j)):Fe.trackChildChange(ed(P,j,it))),k.isLeafNode()&&j.isEmpty())?k:k.updateImmediateChild(P,j).withIndex(this.index_)},E.prototype.updateFullNode=function(k,P,j){return null!=j&&(k.isLeafNode()||k.forEachChild(mi,function(se,ye){P.hasChild(se)||j.trackChildChange(rr(se,ye))}),P.isLeafNode()||P.forEachChild(mi,function(se,ye){if(k.hasChild(se)){var Fe=k.getImmediateChild(se);Fe.equals(ye)||j.trackChildChange(ed(se,ye,Fe))}else j.trackChildChange(vc(se,ye))})),P.withIndex(this.index_)},E.prototype.updatePriority=function(k,P){return k.isEmpty()?or.EMPTY_NODE:k.updatePriority(P)},E.prototype.filtersNodes=function(){return!1},E.prototype.getIndexedFilter=function(){return this},E.prototype.getIndex=function(){return this.index_},E}(),wu=function(){function E(k){this.indexedFilter_=new bc(k.getIndex()),this.index_=k.getIndex(),this.startPost_=E.getStartPost_(k),this.endPost_=E.getEndPost_(k)}return E.prototype.getStartPost=function(){return this.startPost_},E.prototype.getEndPost=function(){return this.endPost_},E.prototype.matches=function(k){return this.index_.compare(this.getStartPost(),k)<=0&&this.index_.compare(k,this.getEndPost())<=0},E.prototype.updateChild=function(k,P,j,se,ye,Fe){return this.matches(new Ts(P,j))||(j=or.EMPTY_NODE),this.indexedFilter_.updateChild(k,P,j,se,ye,Fe)},E.prototype.updateFullNode=function(k,P,j){P.isLeafNode()&&(P=or.EMPTY_NODE);var se=P.withIndex(this.index_);se=se.updatePriority(or.EMPTY_NODE);var ye=this;return P.forEachChild(mi,function(Fe,it){ye.matches(new Ts(Fe,it))||(se=se.updateImmediateChild(Fe,or.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(k,se,j)},E.prototype.updatePriority=function(k,P){return k},E.prototype.filtersNodes=function(){return!0},E.prototype.getIndexedFilter=function(){return this.indexedFilter_},E.prototype.getIndex=function(){return this.index_},E.getStartPost_=function(k){if(k.hasStart()){var P=k.getIndexStartName();return k.getIndex().makePost(k.getIndexStartValue(),P)}return k.getIndex().minPost()},E.getEndPost_=function(k){if(k.hasEnd()){var P=k.getIndexEndName();return k.getIndex().makePost(k.getIndexEndValue(),P)}return k.getIndex().maxPost()},E}(),sf=function(){function E(k){this.rangedFilter_=new wu(k),this.index_=k.getIndex(),this.limit_=k.getLimit(),this.reverse_=!k.isViewFromLeft()}return E.prototype.updateChild=function(k,P,j,se,ye,Fe){return this.rangedFilter_.matches(new Ts(P,j))||(j=or.EMPTY_NODE),k.getImmediateChild(P).equals(j)?k:k.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(k,P,j,se,ye,Fe):this.fullLimitUpdateChild_(k,P,j,ye,Fe)},E.prototype.updateFullNode=function(k,P,j){var se;if(P.isLeafNode()||P.isEmpty())se=or.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<P.numChildren()&&P.isIndexed(this.index_)){se=or.EMPTY_NODE.withIndex(this.index_);var ye=void 0;ye=this.reverse_?P.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):P.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var Fe=0;ye.hasNext()&&Fe<this.limit_;){var it=ye.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),it)<=0:this.index_.compare(it,this.rangedFilter_.getEndPost())<=0))break;se=se.updateImmediateChild(it.name,it.node),Fe++}}else{se=(se=P.withIndex(this.index_)).updatePriority(or.EMPTY_NODE);var Et=void 0,zt=void 0,Sn=void 0;if(ye=void 0,this.reverse_){ye=se.getReverseIterator(this.index_),Et=this.rangedFilter_.getEndPost(),zt=this.rangedFilter_.getStartPost();var Hn=this.index_.getCompare();Sn=function(ir,ts){return Hn(ts,ir)}}else ye=se.getIterator(this.index_),Et=this.rangedFilter_.getStartPost(),zt=this.rangedFilter_.getEndPost(),Sn=this.index_.getCompare();Fe=0;for(var ci=!1;ye.hasNext();)it=ye.getNext(),!ci&&Sn(Et,it)<=0&&(ci=!0),ci&&Fe<this.limit_&&Sn(it,zt)<=0?Fe++:se=se.updateImmediateChild(it.name,or.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(k,se,j)},E.prototype.updatePriority=function(k,P){return k},E.prototype.filtersNodes=function(){return!0},E.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},E.prototype.getIndex=function(){return this.index_},E.prototype.fullLimitUpdateChild_=function(k,P,j,se,ye){var Fe;if(this.reverse_){var it=this.index_.getCompare();Fe=function(Fa,Qc){return it(Qc,Fa)}}else Fe=this.index_.getCompare();var ut=k;(0,ee.hu)(ut.numChildren()===this.limit_,"");var Et=new Ts(P,j),zt=this.reverse_?ut.getFirstChild(this.index_):ut.getLastChild(this.index_),Sn=this.rangedFilter_.matches(Et);if(ut.hasChild(P)){for(var Hn=ut.getImmediateChild(P),ci=se.getChildAfterChild(this.index_,zt,this.reverse_);null!=ci&&(ci.name===P||ut.hasChild(ci.name));)ci=se.getChildAfterChild(this.index_,ci,this.reverse_);var Di=null==ci?1:Fe(ci,Et);if(Sn&&!j.isEmpty()&&Di>=0)return null!=ye&&ye.trackChildChange(ed(P,j,Hn)),ut.updateImmediateChild(P,j);null!=ye&&ye.trackChildChange(rr(P,Hn));var ir=ut.updateImmediateChild(P,or.EMPTY_NODE);return null!=ci&&this.rangedFilter_.matches(ci)?(null!=ye&&ye.trackChildChange(vc(ci.name,ci.node)),ir.updateImmediateChild(ci.name,ci.node)):ir}return j.isEmpty()?k:Sn&&Fe(zt,Et)>=0?(null!=ye&&(ye.trackChildChange(rr(zt.name,zt.node)),ye.trackChildChange(vc(P,j))),ut.updateImmediateChild(P,j).updateImmediateChild(zt.name,or.EMPTY_NODE)):k},E}(),au=function(){function E(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=mi}return E.prototype.hasStart=function(){return this.startSet_},E.prototype.hasStartAfter=function(){return this.startAfterSet_},E.prototype.hasEndBefore=function(){return this.endBeforeSet_},E.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},E.prototype.getIndexStartValue=function(){return(0,ee.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},E.prototype.getIndexStartName=function(){return(0,ee.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:mn},E.prototype.hasEnd=function(){return this.endSet_},E.prototype.getIndexEndValue=function(){return(0,ee.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},E.prototype.getIndexEndName=function(){return(0,ee.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Yn},E.prototype.hasLimit=function(){return this.limitSet_},E.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},E.prototype.getLimit=function(){return(0,ee.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_},E.prototype.getIndex=function(){return this.index_},E.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},E.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===mi},E.prototype.copy=function(){var k=new E;return k.limitSet_=this.limitSet_,k.limit_=this.limit_,k.startSet_=this.startSet_,k.indexStartValue_=this.indexStartValue_,k.startNameSet_=this.startNameSet_,k.indexStartName_=this.indexStartName_,k.endSet_=this.endSet_,k.indexEndValue_=this.indexEndValue_,k.endNameSet_=this.endNameSet_,k.indexEndName_=this.indexEndName_,k.index_=this.index_,k.viewFrom_=this.viewFrom_,k},E}();function Wh(E,k,P){var j=E.copy();return j.startSet_=!0,void 0===k&&(k=null),j.indexStartValue_=k,null!=P?(j.startNameSet_=!0,j.indexStartName_=P):(j.startNameSet_=!1,j.indexStartName_=""),j}function Fd(E,k,P){var j=E.copy();return j.endSet_=!0,void 0===k&&(k=null),j.indexEndValue_=k,void 0!==P?(j.endNameSet_=!0,j.indexEndName_=P):(j.endNameSet_=!1,j.indexEndName_=""),j}function Pa(E,k){var P=E.copy();return P.index_=k,P}function Do(E){var P,k={};return E.isDefault()||(E.index_===mi?P="$priority":E.index_===sc?P="$value":E.index_===nc?P="$key":((0,ee.hu)(E.index_ instanceof Ku,"Unrecognized index type!"),P=E.index_.toString()),k.orderBy=(0,ee.Pz)(P),E.startSet_&&(k.startAt=(0,ee.Pz)(E.indexStartValue_),E.startNameSet_&&(k.startAt+=","+(0,ee.Pz)(E.indexStartName_))),E.endSet_&&(k.endAt=(0,ee.Pz)(E.indexEndValue_),E.endNameSet_&&(k.endAt+=","+(0,ee.Pz)(E.indexEndName_))),E.limitSet_&&(E.isViewFromLeft()?k.limitToFirst=E.limit_:k.limitToLast=E.limit_)),k}function Bs(E){var k={};if(E.startSet_&&(k.sp=E.indexStartValue_,E.startNameSet_&&(k.sn=E.indexStartName_)),E.endSet_&&(k.ep=E.indexEndValue_,E.endNameSet_&&(k.en=E.indexEndName_)),E.limitSet_){k.l=E.limit_;var P=E.viewFrom_;""===P&&(P=E.isViewFromLeft()?"l":"r"),k.vf=P}return E.index_!==mi&&(k.i=E.index_.toString()),k}var qh=function(E){function k(P,j,se,ye){var Fe=E.call(this)||this;return Fe.repoInfo_=P,Fe.onDataUpdate_=j,Fe.authTokenProvider_=se,Fe.appCheckTokenProvider_=ye,Fe.log_=zi("p:rest:"),Fe.listens_={},Fe}return(0,x.ZT)(k,E),k.prototype.reportStats=function(P){throw new Error("Method not implemented.")},k.getListenId_=function(P,j){return void 0!==j?"tag$"+j:((0,ee.hu)(P._queryParams.isDefault(),"should have a tag if it's not a default query."),P._path.toString())},k.prototype.listen=function(P,j,se,ye){var Fe=this,it=P._path.toString();this.log_("Listen called for "+it+" "+P._queryIdentifier);var ut=k.getListenId_(P,se),Et={};this.listens_[ut]=Et;var zt=Do(P._queryParams);this.restRequest_(it+".json",zt,function(Sn,Hn){var ci=Hn;404===Sn&&(ci=null,Sn=null),null===Sn&&Fe.onDataUpdate_(it,ci,!1,se),(0,ee.DV)(Fe.listens_,ut)===Et&&ye(Sn?401===Sn?"permission_denied":"rest_error:"+Sn:"ok",null)})},k.prototype.unlisten=function(P,j){var se=k.getListenId_(P,j);delete this.listens_[se]},k.prototype.get=function(P){var j=this,se=Do(P._queryParams),ye=P._path.toString(),Fe=new ee.BH;return this.restRequest_(ye+".json",se,function(it,ut){var Et=ut;404===it&&(Et=null,it=null),null===it?(j.onDataUpdate_(ye,Et,!1,null),Fe.resolve(Et)):Fe.reject(new Error(Et))}),Fe.promise},k.prototype.refreshAuthToken=function(P){},k.prototype.restRequest_=function(P,j,se){var ye=this;return void 0===j&&(j={}),j.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(Fe){var it=(0,x.CR)(Fe,2),ut=it[0],Et=it[1];ut&&ut.accessToken&&(j.auth=ut.accessToken),Et&&Et.token&&(j.ac=Et.token);var zt=(ye.repoInfo_.secure?"https://":"http://")+ye.repoInfo_.host+P+"?ns="+ye.repoInfo_.namespace+(0,ee.xO)(j);ye.log_("Sending REST request for "+zt);var Sn=new XMLHttpRequest;Sn.onreadystatechange=function(){if(se&&4===Sn.readyState){ye.log_("REST Response for "+zt+" received. status:",Sn.status,"response:",Sn.responseText);var Hn=null;if(Sn.status>=200&&Sn.status<300){try{Hn=(0,ee.cI)(Sn.responseText)}catch(ci){Yr("Failed to parse JSON response for "+zt+": "+Sn.responseText)}se(null,Hn)}else 401!==Sn.status&&404!==Sn.status&&Yr("Got unsuccessful REST response for "+zt+" Status: "+Sn.status),se(Sn.status);se=null}},Sn.open("GET",zt,!0),Sn.send()})},k}(st),Dp=function(){function E(){this.rootNode_=or.EMPTY_NODE}return E.prototype.getNode=function(k){return this.rootNode_.getChild(k)},E.prototype.updateSnapshot=function(k,P){this.rootNode_=this.rootNode_.updateChild(k,P)},E}();function ll(){return{value:null,children:new Map}}function Uc(E,k,P){if(Yi(k))E.value=P,E.children.clear();else if(null!==E.value)E.value=E.value.updateChild(k,P);else{var j=ln(k);E.children.has(j)||E.children.set(j,ll()),Uc(E.children.get(j),k=un(k),P)}}function po(E,k){if(Yi(k))return E.value=null,E.children.clear(),!0;if(null!==E.value){if(E.value.isLeafNode())return!1;var P=E.value;return E.value=null,P.forEachChild(mi,function(ye,Fe){Uc(E,new Je(ye),Fe)}),po(E,k)}if(E.children.size>0){var j=ln(k);return k=un(k),E.children.has(j)&&po(E.children.get(j),k)&&E.children.delete(j),0===E.children.size}return!0}function ya(E,k,P){null!==E.value?P(k,E.value):function(E,k){E.children.forEach(function(P,j){k(j,P)})}(E,function(j,se){ya(se,new Je(k.toString()+"/"+j),P)})}var xc=function(){function E(k){this.collection_=k,this.last_=null}return E.prototype.get=function(){var k=this.collection_.get(),P=(0,x.pi)({},k);return this.last_&&Ti(this.last_,function(j,se){P[j]=P[j]-se}),this.last_=k,P},E}(),nd=function(){function E(k,P){this.server_=P,this.statsToReport_={},this.statsListener_=new xc(k);var j=1e4+2e4*Math.random();lr(this.reportStats_.bind(this),Math.floor(j))}return E.prototype.reportStats_=function(){var k=this,P=this.statsListener_.get(),j={},se=!1;Ti(P,function(ye,Fe){Fe>0&&(0,ee.r3)(k.statsToReport_,ye)&&(j[ye]=Fe,se=!0)}),se&&this.server_.reportStats(j),lr(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},E}(),$o=(()=>(function(E){E[E.OVERWRITE=0]="OVERWRITE",E[E.MERGE=1]="MERGE",E[E.ACK_USER_WRITE=2]="ACK_USER_WRITE",E[E.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}($o||($o={})),$o))();function Mu(E){return{fromUser:!1,fromServer:!0,queryId:E,tagged:!0}}var hh=function(){function E(k,P,j){this.path=k,this.affectedTree=P,this.revert=j,this.type=$o.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return E.prototype.operationForChild=function(k){if(Yi(this.path)){if(null!=this.affectedTree.value)return(0,ee.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var P=this.affectedTree.subtree(new Je(k));return new E(mt(),P,this.revert)}return(0,ee.hu)(ln(this.path)===k,"operationForChild called for unrelated child."),new E(un(this.path),this.affectedTree,this.revert)},E}(),va=function(){function E(k,P){this.source=k,this.path=P,this.type=$o.LISTEN_COMPLETE}return E.prototype.operationForChild=function(k){return Yi(this.path)?new E(this.source,mt()):new E(this.source,un(this.path))},E}(),ua=function(){function E(k,P,j){this.source=k,this.path=P,this.snap=j,this.type=$o.OVERWRITE}return E.prototype.operationForChild=function(k){return Yi(this.path)?new E(this.source,mt(),this.snap.getImmediateChild(k)):new E(this.source,un(this.path),this.snap)},E}(),Cc=function(){function E(k,P,j){this.source=k,this.path=P,this.children=j,this.type=$o.MERGE}return E.prototype.operationForChild=function(k){if(Yi(this.path)){var P=this.children.subtree(new Je(k));return P.isEmpty()?null:P.value?new ua(this.source,mt(),P.value):new E(this.source,mt(),P)}return(0,ee.hu)(ln(this.path)===k,"Can't get a merge for a child not on the path of the operation"),new E(this.source,un(this.path),this.children)},E.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},E}(),jc=function(){function E(k,P,j){this.node_=k,this.fullyInitialized_=P,this.filtered_=j}return E.prototype.isFullyInitialized=function(){return this.fullyInitialized_},E.prototype.isFiltered=function(){return this.filtered_},E.prototype.isCompleteForPath=function(k){if(Yi(k))return this.isFullyInitialized()&&!this.filtered_;var P=ln(k);return this.isCompleteForChild(P)},E.prototype.isCompleteForChild=function(k){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(k)},E.prototype.getNode=function(){return this.node_},E}(),af=function(k){this.query_=k,this.index_=this.query_._queryParams.getIndex()};function cl(E,k,P,j,se,ye){var Fe=j.filter(function(it){return it.type===P});Fe.sort(function(it,ut){return function(E,k,P){if(null==k.childName||null==P.childName)throw(0,ee.g5)("Should only compare child_ events.");var j=new Ts(k.childName,k.snapshotNode),se=new Ts(P.childName,P.snapshotNode);return E.index_.compare(j,se)}(E,it,ut)}),Fe.forEach(function(it){var ut=function(E,k,P){return"value"===k.type||"child_removed"===k.type||(k.prevName=P.getPredecessorChildName(k.childName,k.snapshotNode,E.index_)),k}(E,it,ye);se.forEach(function(Et){Et.respondsTo(it.type)&&k.push(Et.createEvent(ut,E.query_))})})}function Xt(E,k){return{eventCache:E,serverCache:k}}function An(E,k,P,j){return Xt(new jc(k,P,j),E.serverCache)}function yn(E,k,P,j){return Xt(E.eventCache,new jc(k,P,j))}function Ei(E){return E.eventCache.isFullyInitialized()?E.eventCache.getNode():null}function sr(E){return E.serverCache.isFullyInitialized()?E.serverCache.getNode():null}var Dr,Xr=function(){function E(k,P){void 0===P&&(Dr||(Dr=new la(ai)),P=Dr),this.value=k,this.children=P}return E.fromObject=function(k){var P=new E(null);return Ti(k,function(j,se){P=P.set(new Je(j),se)}),P},E.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},E.prototype.findRootMostMatchingPathAndValue=function(k,P){if(null!=this.value&&P(this.value))return{path:mt(),value:this.value};if(Yi(k))return null;var j=ln(k),se=this.children.get(j);if(null!==se){var ye=se.findRootMostMatchingPathAndValue(un(k),P);return null!=ye?{path:_i(new Je(j),ye.path),value:ye.value}:null}return null},E.prototype.findRootMostValueAndPath=function(k){return this.findRootMostMatchingPathAndValue(k,function(){return!0})},E.prototype.subtree=function(k){if(Yi(k))return this;var P=ln(k),j=this.children.get(P);return null!==j?j.subtree(un(k)):new E(null)},E.prototype.set=function(k,P){if(Yi(k))return new E(P,this.children);var j=ln(k),ye=(this.children.get(j)||new E(null)).set(un(k),P),Fe=this.children.insert(j,ye);return new E(this.value,Fe)},E.prototype.remove=function(k){if(Yi(k))return this.children.isEmpty()?new E(null):new E(null,this.children);var P=ln(k),j=this.children.get(P);if(j){var se=j.remove(un(k)),ye=void 0;return ye=se.isEmpty()?this.children.remove(P):this.children.insert(P,se),null===this.value&&ye.isEmpty()?new E(null):new E(this.value,ye)}return this},E.prototype.get=function(k){if(Yi(k))return this.value;var P=ln(k),j=this.children.get(P);return j?j.get(un(k)):null},E.prototype.setTree=function(k,P){if(Yi(k))return P;var Fe,j=ln(k),ye=(this.children.get(j)||new E(null)).setTree(un(k),P);return Fe=ye.isEmpty()?this.children.remove(j):this.children.insert(j,ye),new E(this.value,Fe)},E.prototype.fold=function(k){return this.fold_(mt(),k)},E.prototype.fold_=function(k,P){var j={};return this.children.inorderTraversal(function(se,ye){j[se]=ye.fold_(_i(k,se),P)}),P(k,this.value,j)},E.prototype.findOnPath=function(k,P){return this.findOnPath_(k,mt(),P)},E.prototype.findOnPath_=function(k,P,j){var se=!!this.value&&j(P,this.value);if(se)return se;if(Yi(k))return null;var ye=ln(k),Fe=this.children.get(ye);return Fe?Fe.findOnPath_(un(k),_i(P,ye),j):null},E.prototype.foreachOnPath=function(k,P){return this.foreachOnPath_(k,mt(),P)},E.prototype.foreachOnPath_=function(k,P,j){if(Yi(k))return this;this.value&&j(P,this.value);var se=ln(k),ye=this.children.get(se);return ye?ye.foreachOnPath_(un(k),_i(P,se),j):new E(null)},E.prototype.foreach=function(k){this.foreach_(mt(),k)},E.prototype.foreach_=function(k,P){this.children.inorderTraversal(function(j,se){se.foreach_(_i(k,j),P)}),this.value&&P(k,this.value)},E.prototype.foreachChild=function(k){this.children.inorderTraversal(function(P,j){j.value&&k(P,j.value)})},E}(),ba=function(){function E(k){this.writeTree_=k}return E.empty=function(){return new E(new Xr(null))},E}();function Tc(E,k,P){if(Yi(k))return new ba(new Xr(P));var j=E.writeTree_.findRootMostValueAndPath(k);if(null!=j){var se=j.path,ye=j.value,Fe=Lr(se,k);return ye=ye.updateChild(Fe,P),new ba(E.writeTree_.set(se,ye))}var it=new Xr(P),ut=E.writeTree_.setTree(k,it);return new ba(ut)}function Qo(E,k,P){var j=E;return Ti(P,function(se,ye){j=Tc(j,_i(k,se),ye)}),j}function Tu(E,k){if(Yi(k))return ba.empty();var P=E.writeTree_.setTree(k,new Xr(null));return new ba(P)}function fh(E,k){return null!=Ja(E,k)}function Ja(E,k){var P=E.writeTree_.findRootMostValueAndPath(k);return null!=P?E.writeTree_.get(P.path).getChild(Lr(P.path,k)):null}function lu(E){var k=[],P=E.writeTree_.value;return null!=P?P.isLeafNode()||P.forEachChild(mi,function(j,se){k.push(new Ts(j,se))}):E.writeTree_.children.inorderTraversal(function(j,se){null!=se.value&&k.push(new Ts(j,se.value))}),k}function Xo(E,k){if(Yi(k))return E;var P=Ja(E,k);return new ba(null!=P?new Xr(P):E.writeTree_.subtree(k))}function Ar(E){return E.writeTree_.isEmpty()}function Su(E,k){return Ap(mt(),E.writeTree_,k)}function Ap(E,k,P){if(null!=k.value)return P.updateChild(E,k.value);var j=null;return k.children.inorderTraversal(function(se,ye){".priority"===se?((0,ee.hu)(null!==ye.value,"Priority writes must always be leaf nodes"),j=ye.value):P=Ap(_i(E,se),ye,P)}),!P.getChild(E).isEmpty()&&null!==j&&(P=P.updateChild(_i(E,".priority"),j)),P}function Sc(E,k){return Gc(k,E)}function ku(E,k){if(E.snap)return qi(E.path,k);for(var P in E.children)if(E.children.hasOwnProperty(P)&&qi(_i(E.path,P),k))return!0;return!1}function Pp(E){return E.visible}function qs(E,k,P){for(var j=ba.empty(),se=0;se<E.length;++se){var ye=E[se];if(k(ye)){var Fe=ye.path,it=void 0;if(ye.snap)qi(P,Fe)?j=Tc(j,it=Lr(P,Fe),ye.snap):qi(Fe,P)&&(it=Lr(Fe,P),j=Tc(j,mt(),ye.snap.getChild(it)));else{if(!ye.children)throw(0,ee.g5)("WriteRecord should have .snap or .children");if(qi(P,Fe))j=Qo(j,it=Lr(P,Fe),ye.children);else if(qi(Fe,P))if(Yi(it=Lr(Fe,P)))j=Qo(j,mt(),ye.children);else{var ut=(0,ee.DV)(ye.children,ln(it));if(ut){var Et=ut.getChild(un(it));j=Tc(j,mt(),Et)}}}}}return j}function Eu(E,k,P,j,se){if(j||se){var ut=Xo(E.visibleWrites,k);return!se&&Ar(ut)?P:se||null!=P||fh(ut,mt())?Su(qs(E.allWrites,function(Hn){return(Hn.visible||se)&&(!j||!~j.indexOf(Hn.writeId))&&(qi(Hn.path,k)||qi(k,Hn.path))},k),P||or.EMPTY_NODE):null}var ye=Ja(E.visibleWrites,k);if(null!=ye)return ye;var Fe=Xo(E.visibleWrites,k);return Ar(Fe)?P:null!=P||fh(Fe,mt())?Su(Fe,P||or.EMPTY_NODE):null}function Bd(E,k,P,j){return Eu(E.writeTree,E.treePath,k,P,j)}function Rf(E,k){return function(E,k,P){var j=or.EMPTY_NODE,se=Ja(E.visibleWrites,k);if(se)return se.isLeafNode()||se.forEachChild(mi,function(it,ut){j=j.updateImmediateChild(it,ut)}),j;if(P){var ye=Xo(E.visibleWrites,k);return P.forEachChild(mi,function(it,ut){var Et=Su(Xo(ye,new Je(it)),ut);j=j.updateImmediateChild(it,Et)}),lu(ye).forEach(function(it){j=j.updateImmediateChild(it.name,it.node)}),j}return lu(Xo(E.visibleWrites,k)).forEach(function(it){j=j.updateImmediateChild(it.name,it.node)}),j}(E.writeTree,E.treePath,k)}function Xh(E,k,P,j){return function(E,k,P,j,se){(0,ee.hu)(j||se,"Either existingEventSnap or existingServerSnap must exist");var ye=_i(k,P);if(fh(E.visibleWrites,ye))return null;var Fe=Xo(E.visibleWrites,ye);return Ar(Fe)?se.getChild(P):Su(Fe,se.getChild(P))}(E.writeTree,E.treePath,k,P,j)}function Ul(E,k){return function(E,k){return Ja(E.visibleWrites,k)}(E.writeTree,_i(E.treePath,k))}function rd(E,k,P){return function(E,k,P,j){var se=_i(k,P),ye=Ja(E.visibleWrites,se);return null!=ye?ye:j.isCompleteForChild(P)?Su(Xo(E.visibleWrites,se),j.getNode().getImmediateChild(P)):null}(E.writeTree,E.treePath,k,P)}function Ec(E,k){return Gc(_i(E.treePath,k),E.writeTree)}function Gc(E,k){return{treePath:E,writeTree:k}}var Ci=function(){function E(){this.changeMap=new Map}return E.prototype.trackChildChange=function(k){var P=k.type,j=k.childName;(0,ee.hu)("child_added"===P||"child_changed"===P||"child_removed"===P,"Only child changes supported for tracking"),(0,ee.hu)(".priority"!==j,"Only non-priority child changes can be tracked.");var se=this.changeMap.get(j);if(se){var ye=se.type;if("child_added"===P&&"child_removed"===ye)this.changeMap.set(j,ed(j,k.snapshotNode,se.snapshotNode));else if("child_removed"===P&&"child_added"===ye)this.changeMap.delete(j);else if("child_removed"===P&&"child_changed"===ye)this.changeMap.set(j,rr(j,se.oldSnap));else if("child_changed"===P&&"child_added"===ye)this.changeMap.set(j,vc(j,k.snapshotNode));else{if("child_changed"!==P||"child_changed"!==ye)throw(0,ee.g5)("Illegal combination of changes: "+k+" occurred after "+se);this.changeMap.set(j,ed(j,k.snapshotNode,se.oldSnap))}}else this.changeMap.set(j,k)},E.prototype.getChanges=function(){return Array.from(this.changeMap.values())},E}(),$s=new(function(){function E(){}return E.prototype.getCompleteChild=function(k){return null},E.prototype.getChildAfterChild=function(k,P,j){return null},E}()),Rr=function(){function E(k,P,j){void 0===j&&(j=null),this.writes_=k,this.viewCache_=P,this.optCompleteServerCache_=j}return E.prototype.getCompleteChild=function(k){var P=this.viewCache_.eventCache;if(P.isCompleteForChild(k))return P.getNode().getImmediateChild(k);var j=null!=this.optCompleteServerCache_?new jc(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return rd(this.writes_,k,j)},E.prototype.getChildAfterChild=function(k,P,j){var se=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:sr(this.viewCache_),ye=function(E,k,P,j,se,ye){return function(E,k,P,j,se,ye,Fe){var it,ut=Xo(E.visibleWrites,k),Et=Ja(ut,mt());if(null!=Et)it=Et;else{if(null==P)return[];it=Su(ut,P)}if((it=it.withIndex(Fe)).isEmpty()||it.isLeafNode())return[];for(var zt=[],Sn=Fe.getCompare(),Hn=ye?it.getReverseIteratorFrom(j,Fe):it.getIteratorFrom(j,Fe),ci=Hn.getNext();ci&&zt.length<se;)0!==Sn(ci,j)&&zt.push(ci),ci=Hn.getNext();return zt}(E.writeTree,E.treePath,k,P,j,se,ye)}(this.writes_,se,P,1,j,k);return 0===ye.length?null:ye[0]},E}();function Vs(E,k,P,j,se,ye){var Fe=k.eventCache;if(null!=Ul(j,P))return k;var it=void 0,ut=void 0;if(Yi(P))if((0,ee.hu)(k.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),k.serverCache.isFiltered()){var Et=sr(k),Sn=Rf(j,Et instanceof or?Et:or.EMPTY_NODE);it=E.filter.updateFullNode(k.eventCache.getNode(),Sn,ye)}else{var Hn=Bd(j,sr(k));it=E.filter.updateFullNode(k.eventCache.getNode(),Hn,ye)}else{var ci=ln(P);if(".priority"===ci){(0,ee.hu)(1===qt(P),"Can't have a priority with additional path components");var Di=Fe.getNode(),Qi=Xh(j,P,Di,ut=k.serverCache.getNode());it=null!=Qi?E.filter.updatePriority(Di,Qi):Fe.getNode()}else{var ir=un(P),ts=void 0;if(Fe.isCompleteForChild(ci)){ut=k.serverCache.getNode();var Fa=Xh(j,P,Fe.getNode(),ut);ts=null!=Fa?Fe.getNode().getImmediateChild(ci).updateChild(ir,Fa):Fe.getNode().getImmediateChild(ci)}else ts=rd(j,ci,k.serverCache);it=null!=ts?E.filter.updateChild(Fe.getNode(),ci,ts,ir,se,ye):Fe.getNode()}}return An(k,it,Fe.isFullyInitialized()||Yi(P),E.filter.filtersNodes())}function Ho(E,k,P,j,se,ye,Fe,it){var Et,ut=k.serverCache,zt=Fe?E.filter:E.filter.getIndexedFilter();if(Yi(P))Et=zt.updateFullNode(ut.getNode(),j,null);else if(zt.filtersNodes()&&!ut.isFiltered()){var Sn=ut.getNode().updateChild(P,j);Et=zt.updateFullNode(ut.getNode(),Sn,null)}else{var Hn=ln(P);if(!ut.isCompleteForPath(P)&&qt(P)>1)return k;var ci=un(P),Qi=ut.getNode().getImmediateChild(Hn).updateChild(ci,j);Et=".priority"===Hn?zt.updatePriority(ut.getNode(),Qi):zt.updateChild(ut.getNode(),Hn,Qi,ci,$s,null)}var ir=yn(k,Et,ut.isFullyInitialized()||Yi(P),zt.filtersNodes());return Vs(E,ir,P,se,new Rr(se,ir,ye),it)}function Os(E,k,P,j,se,ye,Fe){var ut,Et,it=k.eventCache,zt=new Rr(se,k,ye);if(Yi(P))Et=E.filter.updateFullNode(k.eventCache.getNode(),j,Fe),ut=An(k,Et,!0,E.filter.filtersNodes());else{var Sn=ln(P);if(".priority"===Sn)Et=E.filter.updatePriority(k.eventCache.getNode(),j),ut=An(k,Et,it.isFullyInitialized(),it.isFiltered());else{var Hn=un(P),ci=it.getNode().getImmediateChild(Sn),Di=void 0;if(Yi(Hn))Di=j;else{var Qi=zt.getCompleteChild(Sn);Di=null!=Qi?".priority"===Vn(Hn)&&Qi.getChild(pr(Hn)).isEmpty()?Qi:Qi.updateChild(Hn,j):or.EMPTY_NODE}ut=ci.equals(Di)?k:An(k,E.filter.updateChild(it.getNode(),Sn,Di,Hn,zt,Fe),it.isFullyInitialized(),E.filter.filtersNodes())}}return ut}function Tl(E,k){return E.eventCache.isCompleteForChild(k)}function Ao(E,k,P){return P.foreach(function(j,se){k=k.updateChild(j,se)}),k}function el(E,k,P,j,se,ye,Fe,it){if(k.serverCache.getNode().isEmpty()&&!k.serverCache.isFullyInitialized())return k;var Et,ut=k;Et=Yi(P)?j:new Xr(null).setTree(P,j);var zt=k.serverCache.getNode();return Et.children.inorderTraversal(function(Sn,Hn){if(zt.hasChild(Sn)){var Di=Ao(0,k.serverCache.getNode().getImmediateChild(Sn),Hn);ut=Ho(E,ut,new Je(Sn),Di,se,ye,Fe,it)}}),Et.children.inorderTraversal(function(Sn,Hn){var ci=!k.serverCache.isCompleteForChild(Sn)&&void 0===Hn.value;if(!zt.hasChild(Sn)&&!ci){var Qi=Ao(0,k.serverCache.getNode().getImmediateChild(Sn),Hn);ut=Ho(E,ut,new Je(Sn),Qi,se,ye,Fe,it)}}),ut}var gh=function(){function E(k,P){this.query_=k,this.eventRegistrations_=[];var j=this.query_._queryParams,se=new bc(j.getIndex()),ye=function(E){return E.loadsAllData()?new bc(E.getIndex()):E.hasLimit()?new sf(E):new wu(E)}(j);this.processor_=function(E){return{filter:E}}(ye);var Fe=P.serverCache,it=P.eventCache,ut=se.updateFullNode(or.EMPTY_NODE,Fe.getNode(),null),Et=ye.updateFullNode(or.EMPTY_NODE,it.getNode(),null),zt=new jc(ut,Fe.isFullyInitialized(),se.filtersNodes()),Sn=new jc(Et,it.isFullyInitialized(),ye.filtersNodes());this.viewCache_=Xt(Sn,zt),this.eventGenerator_=new af(this.query_)}return Object.defineProperty(E.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),E}();function du(E,k){var P=sr(E.viewCache_);return P&&(E.query._queryParams.loadsAllData()||!Yi(k)&&!P.getImmediateChild(ln(k)).isEmpty())?P.getChild(k):null}function Dc(E){return 0===E.eventRegistrations_.length}function rt(E,k,P){var j=[];if(P){(0,ee.hu)(null==k,"A cancel should cancel all event registrations.");var se=E.query._path;E.eventRegistrations_.forEach(function(ut){var Et=ut.createCancelEvent(P,se);Et&&j.push(Et)})}if(k){for(var ye=[],Fe=0;Fe<E.eventRegistrations_.length;++Fe){var it=E.eventRegistrations_[Fe];if(it.matches(k)){if(k.hasAnyCallback()){ye=ye.concat(E.eventRegistrations_.slice(Fe+1));break}}else ye.push(it)}E.eventRegistrations_=ye}else E.eventRegistrations_=[];return j}function Ac(E,k,P,j){k.type===$o.MERGE&&null!==k.source.queryId&&((0,ee.hu)(sr(E.viewCache_),"We should always have a full cache before handling merges"),(0,ee.hu)(Ei(E.viewCache_),"Missing event cache, even though we have a server cache"));var se=E.viewCache_,ye=function(E,k,P,j,se){var Fe,it,ye=new Ci;if(P.type===$o.OVERWRITE){var ut=P;ut.source.fromUser?Fe=Os(E,k,ut.path,ut.snap,j,se,ye):((0,ee.hu)(ut.source.fromServer,"Unknown source."),it=ut.source.tagged||k.serverCache.isFiltered()&&!Yi(ut.path),Fe=Ho(E,k,ut.path,ut.snap,j,se,it,ye))}else if(P.type===$o.MERGE){var Et=P;Et.source.fromUser?Fe=function(E,k,P,j,se,ye,Fe){var it=k;return j.foreach(function(ut,Et){var zt=_i(P,ut);Tl(k,ln(zt))&&(it=Os(E,it,zt,Et,se,ye,Fe))}),j.foreach(function(ut,Et){var zt=_i(P,ut);Tl(k,ln(zt))||(it=Os(E,it,zt,Et,se,ye,Fe))}),it}(E,k,Et.path,Et.children,j,se,ye):((0,ee.hu)(Et.source.fromServer,"Unknown source."),it=Et.source.tagged||k.serverCache.isFiltered(),Fe=el(E,k,Et.path,Et.children,j,se,it,ye))}else if(P.type===$o.ACK_USER_WRITE){var zt=P;Fe=zt.revert?function(E,k,P,j,se,ye){var Fe;if(null!=Ul(j,P))return k;var it=new Rr(j,k,se),ut=k.eventCache.getNode(),Et=void 0;if(Yi(P)||".priority"===ln(P)){var zt=void 0;if(k.serverCache.isFullyInitialized())zt=Bd(j,sr(k));else{var Sn=k.serverCache.getNode();(0,ee.hu)(Sn instanceof or,"serverChildren would be complete if leaf node"),zt=Rf(j,Sn)}Et=E.filter.updateFullNode(ut,zt=zt,ye)}else{var Hn=ln(P),ci=rd(j,Hn,k.serverCache);null==ci&&k.serverCache.isCompleteForChild(Hn)&&(ci=ut.getImmediateChild(Hn)),(Et=null!=ci?E.filter.updateChild(ut,Hn,ci,un(P),it,ye):k.eventCache.getNode().hasChild(Hn)?E.filter.updateChild(ut,Hn,or.EMPTY_NODE,un(P),it,ye):ut).isEmpty()&&k.serverCache.isFullyInitialized()&&(Fe=Bd(j,sr(k))).isLeafNode()&&(Et=E.filter.updateFullNode(Et,Fe,ye))}return Fe=k.serverCache.isFullyInitialized()||null!=Ul(j,mt()),An(k,Et,Fe,E.filter.filtersNodes())}(E,k,zt.path,j,se,ye):function(E,k,P,j,se,ye,Fe){if(null!=Ul(se,P))return k;var it=k.serverCache.isFiltered(),ut=k.serverCache;if(null!=j.value){if(Yi(P)&&ut.isFullyInitialized()||ut.isCompleteForPath(P))return Ho(E,k,P,ut.getNode().getChild(P),se,ye,it,Fe);if(Yi(P)){var Et=new Xr(null);return ut.getNode().forEachChild(nc,function(Sn,Hn){Et=Et.set(new Je(Sn),Hn)}),el(E,k,P,Et,se,ye,it,Fe)}return k}var zt=new Xr(null);return j.foreach(function(Sn,Hn){var ci=_i(P,Sn);ut.isCompleteForPath(ci)&&(zt=zt.set(Sn,ut.getNode().getChild(ci)))}),el(E,k,P,zt,se,ye,it,Fe)}(E,k,zt.path,zt.affectedTree,j,se,ye)}else{if(P.type!==$o.LISTEN_COMPLETE)throw(0,ee.g5)("Unknown operation type: "+P.type);Fe=function(E,k,P,j,se){var ye=k.serverCache;return Vs(E,yn(k,ye.getNode(),ye.isFullyInitialized()||Yi(P),ye.isFiltered()),P,j,$s,se)}(E,k,P.path,j,ye)}var Sn=ye.getChanges();return function(E,k,P){var j=k.eventCache;if(j.isFullyInitialized()){var se=j.getNode().isLeafNode()||j.getNode().isEmpty(),ye=Ei(E);(P.length>0||!E.eventCache.isFullyInitialized()||se&&!j.getNode().equals(ye)||!j.getNode().getPriority().equals(ye.getPriority()))&&P.push(Gh(Ei(k)))}}(k,Fe,Sn),{viewCache:Fe,changes:Sn}}(E.processor_,se,k,P,j);return function(E,k){(0,ee.hu)(k.eventCache.getNode().isIndexed(E.filter.getIndex()),"Event snap not indexed"),(0,ee.hu)(k.serverCache.getNode().isIndexed(E.filter.getIndex()),"Server snap not indexed")}(E.processor_,ye.viewCache),(0,ee.hu)(ye.viewCache.serverCache.isFullyInitialized()||!se.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),E.viewCache_=ye.viewCache,tl(E,ye.changes,ye.viewCache.eventCache.getNode(),null)}function tl(E,k,P,j){return function(E,k,P,j){var se=[],ye=[];return k.forEach(function(Fe){"child_changed"===Fe.type&&E.index_.indexedValueChanged(Fe.oldSnap,Fe.snapshotNode)&&ye.push(function(E,k){return{type:"child_moved",snapshotNode:k,childName:E}}(Fe.childName,Fe.snapshotNode))}),cl(E,se,"child_removed",k,j,P),cl(E,se,"child_added",k,j,P),cl(E,se,"child_moved",ye,j,P),cl(E,se,"child_changed",k,j,P),cl(E,se,"value",k,j,P),se}(E.eventGenerator_,k,P,j?[j]:E.eventRegistrations_)}var as,T,Fp=function(){this.views=new Map};function ad(E,k,P,j){var se,ye,Fe=k.source.queryId;if(null!==Fe){var it=E.views.get(Fe);return(0,ee.hu)(null!=it,"SyncTree gave us an op for an invalid query."),Ac(it,k,P,j)}var ut=[];try{for(var Et=(0,x.XA)(E.views.values()),zt=Et.next();!zt.done;zt=Et.next())ut=ut.concat(Ac(it=zt.value,k,P,j))}catch(Sn){se={error:Sn}}finally{try{zt&&!zt.done&&(ye=Et.return)&&ye.call(Et)}finally{if(se)throw se.error}}return ut}function Ua(E,k,P,j,se){var Fe=E.views.get(k._queryIdentifier);if(!Fe){var it=Bd(P,se?j:null),ut=!1;it?ut=!0:j instanceof or?(it=Rf(P,j),ut=!1):(it=or.EMPTY_NODE,ut=!1);var Et=Xt(new jc(it,ut,!1),new jc(j,se,!1));return new gh(k,Et)}return Fe}function Nf(E){var k,P,j=[];try{for(var se=(0,x.XA)(E.views.values()),ye=se.next();!ye.done;ye=se.next()){var Fe=ye.value;Fe.query._queryParams.loadsAllData()||j.push(Fe)}}catch(it){k={error:it}}finally{try{ye&&!ye.done&&(P=se.return)&&P.call(se)}finally{if(k)throw k.error}}return j}function nl(E,k){var P,j,se=null;try{for(var ye=(0,x.XA)(E.views.values()),Fe=ye.next();!Fe.done;Fe=ye.next())se=se||du(Fe.value,k)}catch(ut){P={error:ut}}finally{try{Fe&&!Fe.done&&(j=ye.return)&&j.call(ye)}finally{if(P)throw P.error}}return se}function Jh(E,k){return k._queryParams.loadsAllData()?m(E):E.views.get(k._queryIdentifier)}function Np(E,k){return null!=Jh(E,k)}function R(E){return null!=m(E)}function m(E){var k,P;try{for(var j=(0,x.XA)(E.views.values()),se=j.next();!se.done;se=j.next()){var ye=se.value;if(ye.query._queryParams.loadsAllData())return ye}}catch(Fe){k={error:Fe}}finally{try{se&&!se.done&&(P=j.return)&&P.call(j)}finally{if(k)throw k.error}}return null}var J=1,ce=function(k){this.listenProvider_=k,this.syncPointTree_=new Xr(null),this.pendingWriteTree_={visibleWrites:ba.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function ge(E,k,P,j,se){return function(E,k,P,j,se){(0,ee.hu)(j>E.lastWriteId,"Stacking an older write on top of newer ones"),void 0===se&&(se=!0),E.allWrites.push({path:k,snap:P,writeId:j,visible:se}),se&&(E.visibleWrites=Tc(E.visibleWrites,k,P)),E.lastWriteId=j}(E.pendingWriteTree_,k,P,j,se),se?Vt(E,new ua({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},k,P)):[]}function ve(E,k,P){void 0===P&&(P=!1);var j=function(E,k){for(var P=0;P<E.allWrites.length;P++){var j=E.allWrites[P];if(j.writeId===k)return j}return null}(E.pendingWriteTree_,k);if(function(E,k){var P=E.allWrites.findIndex(function(Et){return Et.writeId===k});(0,ee.hu)(P>=0,"removeWrite called with nonexistent writeId.");var j=E.allWrites[P];E.allWrites.splice(P,1);for(var se=j.visible,ye=!1,Fe=E.allWrites.length-1;se&&Fe>=0;){var it=E.allWrites[Fe];it.visible&&(Fe>=P&&ku(it,j.path)?se=!1:qi(j.path,it.path)&&(ye=!0)),Fe--}return!!se&&(ye?(function(E){E.visibleWrites=qs(E.allWrites,Pp,mt()),E.lastWriteId=E.allWrites.length>0?E.allWrites[E.allWrites.length-1].writeId:-1}(E),!0):(j.snap?E.visibleWrites=Tu(E.visibleWrites,j.path):Ti(j.children,function(Et){E.visibleWrites=Tu(E.visibleWrites,_i(j.path,Et))}),!0))}(E.pendingWriteTree_,k)){var ye=new Xr(null);return null!=j.snap?ye=ye.set(mt(),!0):Ti(j.children,function(Fe){ye=ye.set(new Je(Fe),!0)}),Vt(E,new hh(j.path,ye,P))}return[]}function He(E,k,P){return Vt(E,new ua({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},k,P))}function pt(E,k,P,j){var se=k._path,ye=E.syncPointTree_.get(se),Fe=[];if(ye&&("default"===k._queryIdentifier||Np(ye,k))){var it=function(E,k,P,j){var se,ye,Fe=k._queryIdentifier,it=[],ut=[],Et=R(E);if("default"===Fe)try{for(var zt=(0,x.XA)(E.views.entries()),Sn=zt.next();!Sn.done;Sn=zt.next()){var Di,Hn=(0,x.CR)(Sn.value,2),ci=Hn[0];ut=ut.concat(rt(Di=Hn[1],P,j)),Dc(Di)&&(E.views.delete(ci),Di.query._queryParams.loadsAllData()||it.push(Di.query))}}catch(Qi){se={error:Qi}}finally{try{Sn&&!Sn.done&&(ye=zt.return)&&ye.call(zt)}finally{if(se)throw se.error}}else(Di=E.views.get(Fe))&&(ut=ut.concat(rt(Di,P,j)),Dc(Di)&&(E.views.delete(Fe),Di.query._queryParams.loadsAllData()||it.push(Di.query)));return Et&&!R(E)&&it.push(new((0,ee.hu)(as,"Reference.ts has not been loaded"),as)(k._repo,k._path)),{removed:it,events:ut}}(ye,k,P,j);(function(E){return 0===E.views.size})(ye)&&(E.syncPointTree_=E.syncPointTree_.remove(se));var ut=it.removed;Fe=it.events;var Et=-1!==ut.findIndex(function(Fa){return Fa._queryParams.loadsAllData()}),zt=E.syncPointTree_.findOnPath(se,function(Fa,Qc){return R(Qc)});if(Et&&!zt){var Sn=E.syncPointTree_.subtree(se);if(!Sn.isEmpty())for(var Hn=function(E){return E.fold(function(k,P,j){if(P&&R(P))return[m(P)];var ye=[];return P&&(ye=Nf(P)),Ti(j,function(Fe,it){ye=ye.concat(it)}),ye})}(Sn),ci=0;ci<Hn.length;++ci){var Di=Hn[ci],Qi=Di.query,ir=kn(E,Di);E.listenProvider_.startListening(ti(Qi),Dn(E,Qi),ir.hashFn,ir.onComplete)}}!zt&&ut.length>0&&!j&&(Et?E.listenProvider_.stopListening(ti(k),null):ut.forEach(function(Fa){var Qc=E.queryToTagMap.get(Nn(Fa));E.listenProvider_.stopListening(ti(Fa),Qc)})),function(E,k){for(var P=0;P<k.length;++P){var j=k[P];if(!j._queryParams.loadsAllData()){var se=Nn(j),ye=E.queryToTagMap.get(se);E.queryToTagMap.delete(se),E.tagToQueryMap.delete(ye)}}}(E,ut)}return Fe}function lt(E,k,P){var j=k._path,se=null,ye=!1;E.syncPointTree_.foreachOnPath(j,function(Qi,ir){var ts=Lr(Qi,j);se=se||nl(ir,ts),ye=ye||R(ir)});var it,Fe=E.syncPointTree_.get(j);Fe?(ye=ye||R(Fe),se=se||nl(Fe,mt())):(Fe=new Fp,E.syncPointTree_=E.syncPointTree_.set(j,Fe)),null!=se?it=!0:(it=!1,se=or.EMPTY_NODE,E.syncPointTree_.subtree(j).foreachChild(function(Qi,ir){var ts=nl(ir,mt());ts&&(se=se.updateImmediateChild(Qi,ts))}));var Et=Np(Fe,k);if(!Et&&!k._queryParams.loadsAllData()){var zt=Nn(k);(0,ee.hu)(!E.queryToTagMap.has(zt),"View does not exist, but we have a tag");var Sn=J++;E.queryToTagMap.set(zt,Sn),E.tagToQueryMap.set(Sn,zt)}var ci=function(E,k,P,j,se,ye){var Fe=Ua(E,k,j,se,ye);return E.views.has(k._queryIdentifier)||E.views.set(k._queryIdentifier,Fe),function(E,k){E.eventRegistrations_.push(k)}(Fe,P),function(E,k){var P=E.viewCache_.eventCache,j=[];return P.getNode().isLeafNode()||P.getNode().forEachChild(mi,function(ye,Fe){j.push(vc(ye,Fe))}),P.isFullyInitialized()&&j.push(Gh(P.getNode())),tl(E,j,P.getNode(),k)}(Fe,P)}(Fe,k,P,Sc(E.pendingWriteTree_,j),se,it);if(!Et&&!ye){var Di=Jh(Fe,k);ci=ci.concat(function(E,k,P){var j=k._path,se=Dn(E,k),ye=kn(E,P),Fe=E.listenProvider_.startListening(ti(k),se,ye.hashFn,ye.onComplete),it=E.syncPointTree_.subtree(j);if(se)(0,ee.hu)(!R(it.value),"If we're adding a query, it shouldn't be shadowed");else for(var ut=it.fold(function(Sn,Hn,ci){if(!Yi(Sn)&&Hn&&R(Hn))return[m(Hn).query];var Di=[];return Hn&&(Di=Di.concat(Nf(Hn).map(function(Qi){return Qi.query}))),Ti(ci,function(Qi,ir){Di=Di.concat(ir)}),Di}),Et=0;Et<ut.length;++Et){var zt=ut[Et];E.listenProvider_.stopListening(ti(zt),Dn(E,zt))}return Fe}(E,k,Di))}return ci}function wt(E,k,P){var se=E.pendingWriteTree_,ye=E.syncPointTree_.findOnPath(k,function(Fe,it){var Et=nl(it,Lr(Fe,k));if(Et)return Et});return Eu(se,k,ye,P,!0)}function Vt(E,k){return St(k,E.syncPointTree_,null,Sc(E.pendingWriteTree_,mt()))}function St(E,k,P,j){if(Yi(E.path))return Dt(E,k,P,j);var se=k.get(mt());null==P&&null!=se&&(P=nl(se,mt()));var ye=[],Fe=ln(E.path),it=E.operationForChild(Fe),ut=k.children.get(Fe);if(ut&&it){var Et=P?P.getImmediateChild(Fe):null,zt=Ec(j,Fe);ye=ye.concat(St(it,ut,Et,zt))}return se&&(ye=ye.concat(ad(se,E,j,P))),ye}function Dt(E,k,P,j){var se=k.get(mt());null==P&&null!=se&&(P=nl(se,mt()));var ye=[];return k.children.inorderTraversal(function(Fe,it){var ut=P?P.getImmediateChild(Fe):null,Et=Ec(j,Fe),zt=E.operationForChild(Fe);zt&&(ye=ye.concat(Dt(zt,it,ut,Et)))}),se&&(ye=ye.concat(ad(se,E,j,P))),ye}function kn(E,k){var P=k.query,j=Dn(E,P);return{hashFn:function(){return(function(E){return E.viewCache_.serverCache.getNode()}(k)||or.EMPTY_NODE).hash()},onComplete:function(se){if("ok"===se)return j?function(E,k,P){var j=It(E,P);if(j){var se=ri(j),ye=se.path,Fe=se.queryId,it=Lr(ye,k);return Bn(E,ye,new va(Mu(Fe),it))}return[]}(E,P._path,j):function(E,k){return Vt(E,new va({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},k))}(E,P._path);var ye=function(E,k){var P="Unknown Error";"too_big"===E?P="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===E?P="Client doesn't have permission to access the desired data.":"unavailable"===E&&(P="The service is unavailable");var j=new Error(E+" at "+k._path.toString()+": "+P);return j.code=E.toUpperCase(),j}(se,P);return pt(E,P,null,ye)}}}function Dn(E,k){var P=Nn(k);return E.queryToTagMap.get(P)}function Nn(E){return E._path.toString()+"$"+E._queryIdentifier}function It(E,k){return E.tagToQueryMap.get(k)}function ri(E){var k=E.indexOf("$");return(0,ee.hu)(-1!==k&&k<E.length-1,"Bad queryKey."),{queryId:E.substr(k+1),path:new Je(E.substr(0,k))}}function Bn(E,k,P){var j=E.syncPointTree_.get(k);return(0,ee.hu)(j,"Missing sync point for query tag that we're tracking"),ad(j,P,Sc(E.pendingWriteTree_,k),null)}function ti(E){return E._queryParams.loadsAllData()&&!E._queryParams.isDefault()?new((0,ee.hu)(T,"Reference.ts has not been loaded"),T)(E._repo,E._path):E}var Jr=function(){function E(k){this.node_=k}return E.prototype.getImmediateChild=function(k){return new E(this.node_.getImmediateChild(k))},E.prototype.node=function(){return this.node_},E}(),hs=function(){function E(k,P){this.syncTree_=k,this.path_=P}return E.prototype.getImmediateChild=function(k){var P=_i(this.path_,k);return new E(this.syncTree_,P)},E.prototype.node=function(){return wt(this.syncTree_,this.path_)},E}(),Cr=function(E,k,P){return E&&"object"==typeof E?((0,ee.hu)(".sv"in E,"Unexpected leaf node or priority contents"),"string"==typeof E[".sv"]?ks(E[".sv"],k,P):"object"==typeof E[".sv"]?to(E[".sv"],k):void(0,ee.hu)(!1,"Unexpected server value: "+JSON.stringify(E,null,2))):E},ks=function(E,k,P){switch(E){case"timestamp":return P.timestamp;default:(0,ee.hu)(!1,"Unexpected server value: "+E)}},to=function(E,k,P){E.hasOwnProperty("increment")||(0,ee.hu)(!1,"Unexpected server value: "+JSON.stringify(E,null,2));var j=E.increment;"number"!=typeof j&&(0,ee.hu)(!1,"Unexpected increment value: "+j);var se=k.node();if((0,ee.hu)(null!=se,"Expected ChildrenNode.EMPTY_NODE for nulls"),!se.isLeafNode())return j;var Fe=se.getValue();return"number"!=typeof Fe?j:Fe+j},jl=function(E,k,P,j){return gs(k,new hs(P,E),j)},ja=function(E,k,P){return gs(E,new Jr(k),P)};function gs(E,k,P){var ye,j=E.getPriority().val(),se=Cr(j,k.getImmediateChild(".priority"),P);if(E.isLeafNode()){var Fe=E,it=Cr(Fe.getValue(),k,P);return it!==Fe.getValue()||se!==Fe.getPriority().val()?new Or(it,os(se)):E}var ut=E;return ye=ut,se!==ut.getPriority().val()&&(ye=ye.updatePriority(new Or(se))),ut.forEachChild(mi,function(Et,zt){var Sn=gs(zt,k.getImmediateChild(Et),P);Sn!==zt&&(ye=ye.updateImmediateChild(Et,Sn))}),ye}var Ko=function(k,P,j){void 0===k&&(k=""),void 0===P&&(P=null),void 0===j&&(j={children:{},childCount:0}),this.name=k,this.parent=P,this.node=j};function Sl(E,k){for(var P=k instanceof Je?k:new Je(k),j=E,se=ln(P);null!==se;){var ye=(0,ee.DV)(j.node.children,se)||{children:{},childCount:0};j=new Ko(se,j,ye),se=ln(P=un(P))}return j}function Hi(E){return E.node.value}function Us(E,k){E.node.value=k,kl(E)}function Kr(E){return E.node.childCount>0}function fo(E,k){Ti(E.node.children,function(P,j){k(new Ko(P,E,j))})}function Zr(E,k,P,j){P&&!j&&k(E),fo(E,function(se){Zr(se,k,!0,j)}),P&&j&&k(E)}function dl(E){return new Je(null===E.parent?E.name:dl(E.parent)+"/"+E.name)}function kl(E){null!==E.parent&&function(E,k,P){var j=function(E){return void 0===Hi(E)&&!Kr(E)}(P),se=(0,ee.r3)(E.node.children,k);j&&se?(delete E.node.children[k],E.node.childCount--,kl(E)):!j&&!se&&(E.node.children[k]=P.node,E.node.childCount++,kl(E))}(E.parent,E.name,E)}var Za=/[\[\].#$\/\u0000-\u001F\u007F]/,ld=/[\[\].#$\u0000-\u001F\u007F]/,Oa=10485760,To=function(E){return"string"==typeof E&&0!==E.length&&!Za.test(E)},hu=function(E){return"string"==typeof E&&0!==E.length&&!ld.test(E)},cc=function(E){return null===E||"string"==typeof E||"number"==typeof E&&!hn(E)||E&&"object"==typeof E&&(0,ee.r3)(E,".sv")},hl=function(E,k,P,j){j&&void 0===k||Wc((0,ee.gK)(E,"value"),k,P)},Wc=function(E,k,P){var j=P instanceof Je?new jr(P,E):P;if(void 0===k)throw new Error(E+"contains undefined "+ao(j));if("function"==typeof k)throw new Error(E+"contains a function "+ao(j)+" with contents = "+k.toString());if(hn(k))throw new Error(E+"contains "+k.toString()+" "+ao(j));if("string"==typeof k&&k.length>Oa/3&&(0,ee.ug)(k)>Oa)throw new Error(E+"contains a string greater than "+Oa+" utf8 bytes "+ao(j)+" ('"+k.substring(0,50)+"...')");if(k&&"object"==typeof k){var se=!1,ye=!1;if(Ti(k,function(Fe,it){if(".value"===Fe)se=!0;else if(".priority"!==Fe&&".sv"!==Fe&&(ye=!0,!To(Fe)))throw new Error(E+" contains an invalid key ("+Fe+") "+ao(j)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(E,k){E.parts_.length>0&&(E.byteLength_+=1),E.parts_.push(k),E.byteLength_+=(0,ee.ug)(k),ga(E)})(j,Fe),Wc(E,it,j),function(E){var k=E.parts_.pop();E.byteLength_-=(0,ee.ug)(k),E.parts_.length>0&&(E.byteLength_-=1)}(j)}),se&&ye)throw new Error(E+' contains ".value" child '+ao(j)+" in addition to actual children.")}},W=function(E,k,P,j){if(!j||void 0!==k){var se=(0,ee.gK)(E,"values");if(!k||"object"!=typeof k||Array.isArray(k))throw new Error(se+" must be an object containing the children to replace.");var ye=[];Ti(k,function(Fe,it){var ut=new Je(Fe);if(Wc(se,it,_i(P,ut)),".priority"===Vn(ut)&&!cc(it))throw new Error(se+"contains an invalid value for '"+ut.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");ye.push(ut)}),function(E,k){var P,j;for(P=0;P<k.length;P++)for(var se=ki(j=k[P]),ye=0;ye<se.length;ye++)if((".priority"!==se[ye]||ye!==se.length-1)&&!To(se[ye]))throw new Error(E+"contains an invalid key ("+se[ye]+") in path "+j.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');k.sort(eo);var Fe=null;for(P=0;P<k.length;P++){if(j=k[P],null!==Fe&&qi(Fe,j))throw new Error(E+"contains a path "+Fe.toString()+" that is ancestor of another path "+j.toString());Fe=j}}(se,ye)}},le=function(E,k,P){if(!P||void 0!==k){if(hn(k))throw new Error((0,ee.gK)(E,"priority")+"is "+k.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!cc(k))throw new Error((0,ee.gK)(E,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},De=function(E,k,P){if(!P||void 0!==k)switch(k){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,ee.gK)(E,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Ue=function(E,k,P,j){if(!(j&&void 0===P||To(P)))throw new Error((0,ee.gK)(E,k)+'was an invalid key = "'+P+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},nt=function(E,k,P,j){if(!(j&&void 0===P||hu(P)))throw new Error((0,ee.gK)(E,k)+'was an invalid path = "'+P+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Tn=function(E,k){if(".info"===ln(k))throw new Error(E+" failed = Can't modify data under /.info/")},Gi=function(E,k){var P=k.path.toString();if("string"!=typeof k.repoInfo.host||0===k.repoInfo.host.length||!To(k.repoInfo.namespace)&&"localhost"!==k.repoInfo.host.split(":")[0]||0!==P.length&&!function(E){return E&&(E=E.replace(/^\/*\.info(\/|$)/,"/")),hu(E)}(P))throw new Error((0,ee.gK)(E,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},ls=function(E,k,P,j){if((!j||void 0!==P)&&"boolean"!=typeof P)throw new Error((0,ee.gK)(E,k)+"must be a boolean.")},mo=function(){this.eventLists_=[],this.recursionDepth_=0};function js(E,k){for(var P=null,j=0;j<k.length;j++){var se=k[j],ye=se.getPath();null!==P&&!Cs(ye,P.path)&&(E.eventLists_.push(P),P=null),null===P&&(P={events:[],path:ye}),P.events.push(se)}P&&E.eventLists_.push(P)}function ea(E,k,P){js(E,P),zf(E,function(j){return Cs(j,k)})}function Zs(E,k,P){js(E,P),zf(E,function(j){return qi(j,k)||qi(k,j)})}function zf(E,k){E.recursionDepth_++;for(var P=!0,j=0;j<E.eventLists_.length;j++){var se=E.eventLists_[j];se&&(k(se.path)?(t_(E.eventLists_[j]),E.eventLists_[j]=null):P=!1)}P&&(E.eventLists_=[]),E.recursionDepth_--}function t_(E){for(var k=0;k<E.events.length;k++){var P=E.events[k];if(null!==P){E.events[k]=null;var j=P.getEventRunner();Wt&&hi("event: "+P.toString()),Xs(j)}}}var uy="repo_interrupt",n_=function(){function E(k,P,j,se){this.repoInfo_=k,this.forceRestClient_=P,this.authTokenProvider_=j,this.appCheckProvider_=se,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new mo,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ll(),this.transactionQueueTree_=new Ko,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return E.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},E}();function Bp(E){var P=E.infoData_.getNode(new Je(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+P}function Lu(E){return function(E){return(E=E||{}).timestamp=E.timestamp||(new Date).getTime(),E}({timestamp:Bp(E)})}function xa(E,k,P,j,se){E.dataUpdateCount++;var ye=new Je(k);P=E.interceptServerDataCallback_?E.interceptServerDataCallback_(k,P):P;var Fe=[];if(se)if(j){var it=(0,ee.UI)(P,function(Hn){return os(Hn)});Fe=function(E,k,P,j){var se=It(E,j);if(se){var ye=ri(se),Fe=ye.path,it=ye.queryId,ut=Lr(Fe,k),Et=Xr.fromObject(P);return Bn(E,Fe,new Cc(Mu(it),ut,Et))}return[]}(E.serverSyncTree_,ye,it,se)}else{var ut=os(P);Fe=function(E,k,P,j){var se=It(E,j);if(null!=se){var ye=ri(se),Fe=ye.path,it=ye.queryId,ut=Lr(Fe,k);return Bn(E,Fe,new ua(Mu(it),ut,P))}return[]}(E.serverSyncTree_,ye,ut,se)}else if(j){var Et=(0,ee.UI)(P,function(Hn){return os(Hn)});Fe=function(E,k,P){var j=Xr.fromObject(P);return Vt(E,new Cc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},k,j))}(E.serverSyncTree_,ye,Et)}else{var zt=os(P);Fe=He(E.serverSyncTree_,ye,zt)}var Sn=ye;Fe.length>0&&(Sn=xh(E,ye)),Zs(E.eventQueue_,Sn,Fe)}function Mr(E,k){Kh(E,"connected",k),!1===k&&function(E){Yd(E,"onDisconnectEvents");var k=Lu(E),P=ll();ya(E.onDisconnect_,mt(),function(se,ye){var Fe=jl(se,ye,E.serverSyncTree_,k);Uc(P,se,Fe)});var j=[];ya(P,mt(),function(se,ye){j=j.concat(He(E.serverSyncTree_,se,ye));var Fe=Bf(E,se);xh(E,Fe)}),E.onDisconnect_=ll(),Zs(E.eventQueue_,mt(),j)}(E)}function Kh(E,k,P){var j=new Je("/.info/"+k),se=os(P);E.infoData_.updateSnapshot(j,se);var ye=He(E.infoSyncTree_,j,se);Zs(E.eventQueue_,j,ye)}function Yp(E){return E.nextWriteId_++}function Hp(E,k,P,j,se){Yd(E,"set",{path:k.toString(),value:P,priority:j});var ye=Lu(E),Fe=os(P,j),it=wt(E.serverSyncTree_,k),ut=ja(Fe,it,ye),Et=Yp(E),zt=ge(E.serverSyncTree_,k,ut,Et,!0);js(E.eventQueue_,zt),E.server_.put(k.toString(),Fe.val(!0),function(Hn,ci){var Di="ok"===Hn;Di||Yr("set at "+k+" failed: "+Hn);var Qi=ve(E.serverSyncTree_,Et,!Di);Zs(E.eventQueue_,k,Qi),Zl(0,se,Hn,ci)});var Sn=Bf(E,k);xh(E,Sn),Zs(E.eventQueue_,Sn,[])}function Sm(E,k,P){E.server_.onDisconnectCancel(k.toString(),function(j,se){"ok"===j&&po(E.onDisconnect_,k),Zl(0,P,j,se)})}function Ic(E,k,P,j){var se=os(P);E.server_.onDisconnectPut(k.toString(),se.val(!0),function(ye,Fe){"ok"===ye&&Uc(E.onDisconnect_,k,se),Zl(0,j,ye,Fe)})}function Fr(E,k,P){var j;j=".info"===ln(k._path)?pt(E.infoSyncTree_,k,P):pt(E.serverSyncTree_,k,P),ea(E.eventQueue_,k._path,j)}function cd(E){E.persistentConnection_&&E.persistentConnection_.interrupt(uy)}function Yd(E){for(var k=[],P=1;P<arguments.length;P++)k[P-1]=arguments[P];var j="";E.persistentConnection_&&(j=E.persistentConnection_.id+":"),hi.apply(void 0,(0,x.ev)([j],(0,x.CR)(k)))}function Zl(E,k,P,j){k&&Xs(function(){if("ok"===P)k(null);else{var se=(P||"error").toUpperCase(),ye=se;j&&(ye+=": "+j);var Fe=new Error(ye);Fe.code=se,k(Fe)}})}function fu(E,k,P){return wt(E.serverSyncTree_,k,P)||or.EMPTY_NODE}function Hd(E,k){if(void 0===k&&(k=E.transactionQueueTree_),k||fl(E,k),Hi(k)){var P=py(E,k);(0,ee.hu)(P.length>0,"Sending zero length transaction queue"),P.every(function(se){return 0===se.status})&&function(E,k,P){for(var j=P.map(function(Hn){return Hn.currentWriteId}),se=fu(E,k,j),ye=se,Fe=se.hash(),it=0;it<P.length;it++){var ut=P[it];(0,ee.hu)(0===ut.status,"tryToSendTransactionQueue_: items in queue should all be run."),ut.status=1,ut.retryCount++;var Et=Lr(k,ut.path);ye=ye.updateChild(Et,ut.currentOutputSnapshotRaw)}var zt=ye.val(!0),Sn=k;E.server_.put(Sn.toString(),zt,function(Hn){Yd(E,"transaction put response",{path:Sn.toString(),status:Hn});var ci=[];if("ok"===Hn){for(var Di=[],Qi=function(ts){P[ts].status=2,ci=ci.concat(ve(E.serverSyncTree_,P[ts].currentWriteId)),P[ts].onComplete&&Di.push(function(){return P[ts].onComplete(null,!0,P[ts].currentOutputSnapshotResolved)}),P[ts].unwatcher()},ir=0;ir<P.length;ir++)Qi(ir);for(fl(E,Sl(E.transactionQueueTree_,k)),Hd(E,E.transactionQueueTree_),Zs(E.eventQueue_,k,ci),ir=0;ir<Di.length;ir++)Xs(Di[ir])}else{if("datastale"===Hn)for(ir=0;ir<P.length;ir++)P[ir].status=3===P[ir].status?4:0;else for(Yr("transaction at "+Sn.toString()+" failed: "+Hn),ir=0;ir<P.length;ir++)P[ir].status=4,P[ir].abortReason=Hn;xh(E,k)}},Fe)}(E,dl(k),P)}else Kr(k)&&fo(k,function(se){Hd(E,se)})}function xh(E,k){var P=km(E,k),j=dl(P);return function(E,k,P){if(0!==k.length){for(var j=[],se=[],Fe=k.filter(function(Et){return 0===Et.status}).map(function(Et){return Et.currentWriteId}),it=function(Et){var ci,zt=k[Et],Sn=Lr(P,zt.path),Hn=!1;if((0,ee.hu)(null!==Sn,"rerunTransactionsUnderNode_: relativePath should not be null."),4===zt.status)Hn=!0,ci=zt.abortReason,se=se.concat(ve(E.serverSyncTree_,zt.currentWriteId,!0));else if(0===zt.status)if(zt.retryCount>=25)Hn=!0,ci="maxretry",se=se.concat(ve(E.serverSyncTree_,zt.currentWriteId,!0));else{var Di=fu(E,zt.path,Fe);zt.currentInputSnapshot=Di;var Qi=k[Et].update(Di.val());if(void 0!==Qi){Wc("transaction failed: Data returned ",Qi,zt.path);var ir=os(Qi);"object"==typeof Qi&&null!=Qi&&(0,ee.r3)(Qi,".priority")||(ir=ir.updatePriority(Di.getPriority()));var Fa=zt.currentWriteId,Qc=Lu(E),mf=ja(ir,Di,Qc);zt.currentOutputSnapshotRaw=ir,zt.currentOutputSnapshotResolved=mf,zt.currentWriteId=Yp(E),Fe.splice(Fe.indexOf(Fa),1),se=(se=se.concat(ge(E.serverSyncTree_,zt.path,mf,zt.currentWriteId,zt.applyLocally))).concat(ve(E.serverSyncTree_,Fa,!0))}else Hn=!0,ci="nodata",se=se.concat(ve(E.serverSyncTree_,zt.currentWriteId,!0))}Zs(E.eventQueue_,P,se),se=[],Hn&&(k[Et].status=2,setTimeout(k[Et].unwatcher,Math.floor(0)),k[Et].onComplete&&j.push("nodata"===ci?function(){return k[Et].onComplete(null,!1,k[Et].currentInputSnapshot)}:function(){return k[Et].onComplete(new Error(ci),!1,null)}))},ut=0;ut<k.length;ut++)it(ut);for(fl(E,E.transactionQueueTree_),ut=0;ut<j.length;ut++)Xs(j[ut]);Hd(E,E.transactionQueueTree_)}}(E,py(E,P),j),j}function km(E,k){var P,j=E.transactionQueueTree_;for(P=ln(k);null!==P&&void 0===Hi(j);)j=Sl(j,P),P=ln(k=un(k));return j}function py(E,k){var P=[];return pl(E,k,P),P.sort(function(j,se){return j.order-se.order}),P}function pl(E,k,P){var j=Hi(k);if(j)for(var se=0;se<j.length;se++)P.push(j[se]);fo(k,function(ye){pl(E,ye,P)})}function fl(E,k){var P=Hi(k);if(P){for(var j=0,se=0;se<P.length;se++)2!==P[se].status&&(P[j]=P[se],j++);P.length=j,Us(k,P.length>0?P:void 0)}fo(k,function(ye){fl(E,ye)})}function Bf(E,k){var P=dl(km(E,k)),j=Sl(E.transactionQueueTree_,k);return function(E,k,P){for(var j=E.parent;null!==j;){if(k(j))return!0;j=j.parent}}(j,function(se){Em(E,se)}),Em(E,j),Zr(j,function(se){Em(E,se)}),P}function Em(E,k){var P=Hi(k);if(P){for(var j=[],se=[],ye=-1,Fe=0;Fe<P.length;Fe++)3===P[Fe].status||(1===P[Fe].status?((0,ee.hu)(ye===Fe-1,"All SENT items should be at beginning of queue."),ye=Fe,P[Fe].status=3,P[Fe].abortReason="set"):((0,ee.hu)(0===P[Fe].status,"Unexpected transaction status in abort"),P[Fe].unwatcher(),se=se.concat(ve(E.serverSyncTree_,P[Fe].currentWriteId,!0)),P[Fe].onComplete&&j.push(P[Fe].onComplete.bind(null,new Error("set"),!1,null))));for(-1===ye?Us(k,void 0):P.length=ye+1,Zs(E.eventQueue_,dl(k),se),Fe=0;Fe<j.length;Fe++)Xs(j[Fe])}}var Am=function(E,k){var P=sg(E),j=P.namespace;return"firebase.com"===P.domain&&er(P.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!j||"undefined"===j)&&"localhost"!==P.domain&&er("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),P.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Yr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Pr(P.host,P.secure,j,k,"ws"===P.scheme||"wss"===P.scheme,"",j!==P.subdomain),path:new Je(P.pathString)}},sg=function(E){var k="",P="",j="",se="",ye="",Fe=!0,it="https",ut=443;if("string"==typeof E){var Et=E.indexOf("//");Et>=0&&(it=E.substring(0,Et-1),E=E.substring(Et+2));var zt=E.indexOf("/");-1===zt&&(zt=E.length);var Sn=E.indexOf("?");-1===Sn&&(Sn=E.length),k=E.substring(0,Math.min(zt,Sn)),zt<Sn&&(se=function(E){for(var k="",P=E.split("/"),j=0;j<P.length;j++)if(P[j].length>0){var se=P[j];try{se=decodeURIComponent(se.replace(/\+/g," "))}catch(ye){}k+="/"+se}return k}(E.substring(zt,Sn)));var Hn=function(E){var k,P,j={};"?"===E.charAt(0)&&(E=E.substring(1));try{for(var se=(0,x.XA)(E.split("&")),ye=se.next();!ye.done;ye=se.next()){var Fe=ye.value;if(0!==Fe.length){var it=Fe.split("=");2===it.length?j[decodeURIComponent(it[0])]=decodeURIComponent(it[1]):Yr("Invalid query segment '"+Fe+"' in query '"+E+"'")}}}catch(ut){k={error:ut}}finally{try{ye&&!ye.done&&(P=se.return)&&P.call(se)}finally{if(k)throw k.error}}return j}(E.substring(Math.min(E.length,Sn)));(Et=k.indexOf(":"))>=0?(Fe="https"===it||"wss"===it,ut=parseInt(k.substring(Et+1),10)):Et=k.length;var ci=k.slice(0,Et);if("localhost"===ci.toLowerCase())P="localhost";else if(ci.split(".").length<=2)P=ci;else{var Di=k.indexOf(".");j=k.substring(0,Di).toLowerCase(),P=k.substring(Di+1),ye=j}"ns"in Hn&&(ye=Hn.ns)}return{host:k,port:ut,domain:P,subdomain:j,secure:Fe,scheme:it,pathString:se,namespace:ye}},r_=function(){function E(k,P,j,se){this.eventType=k,this.eventRegistration=P,this.snapshot=j,this.prevName=se}return E.prototype.getPath=function(){var k=this.snapshot.ref;return"value"===this.eventType?k._path:k.parent._path},E.prototype.getEventType=function(){return this.eventType},E.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},E.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,ee.Pz)(this.snapshot.exportVal())},E}(),Lc=function(){function E(k,P,j){this.eventRegistration=k,this.error=P,this.path=j}return E.prototype.getPath=function(){return this.path},E.prototype.getEventType=function(){return"cancel"},E.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},E.prototype.toString=function(){return this.path.toString()+":cancel"},E}(),da=function(){function E(k,P){this.snapshotCallback=k,this.cancelCallback=P}return E.prototype.onValue=function(k,P){this.snapshotCallback.call(null,k,P)},E.prototype.onCancel=function(k){return(0,ee.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,k)},Object.defineProperty(E.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),E.prototype.matches=function(k){return this.snapshotCallback===k.snapshotCallback||this.snapshotCallback.userCallback===k.snapshotCallback.userCallback&&this.snapshotCallback.context===k.snapshotCallback.context},E}(),Hf=function(){function E(k,P){this._repo=k,this._path=P}return E.prototype.cancel=function(){var k=new ee.BH;return Sm(this._repo,this._path,k.wrapCallback(function(){})),k.promise},E.prototype.remove=function(){Tn("OnDisconnect.remove",this._path);var k=new ee.BH;return Ic(this._repo,this._path,null,k.wrapCallback(function(){})),k.promise},E.prototype.set=function(k){Tn("OnDisconnect.set",this._path),hl("OnDisconnect.set",k,this._path,!1);var P=new ee.BH;return Ic(this._repo,this._path,k,P.wrapCallback(function(){})),P.promise},E.prototype.setWithPriority=function(k,P){Tn("OnDisconnect.setWithPriority",this._path),hl("OnDisconnect.setWithPriority",k,this._path,!1),le("OnDisconnect.setWithPriority",P,!1);var j=new ee.BH;return function(E,k,P,j,se){var ye=os(P,j);E.server_.onDisconnectPut(k.toString(),ye.val(!0),function(Fe,it){"ok"===Fe&&Uc(E.onDisconnect_,k,ye),Zl(0,se,Fe,it)})}(this._repo,this._path,k,P,j.wrapCallback(function(){})),j.promise},E.prototype.update=function(k){Tn("OnDisconnect.update",this._path),W("OnDisconnect.update",k,this._path,!1);var P=new ee.BH;return function(E,k,P,j){if((0,ee.xb)(P))return hi("onDisconnect().update() called with empty data.  Don't do anything."),void Zl(0,j,"ok",void 0);E.server_.onDisconnectMerge(k.toString(),P,function(se,ye){"ok"===se&&Ti(P,function(Fe,it){var ut=os(it);Uc(E.onDisconnect_,_i(k,Fe),ut)}),Zl(0,j,se,ye)})}(this._repo,this._path,k,P.wrapCallback(function(){})),P.promise},E}(),Ra=function(){function E(k,P,j,se){this._repo=k,this._path=P,this._queryParams=j,this._orderByCalled=se}return Object.defineProperty(E.prototype,"key",{get:function(){return Yi(this._path)?null:Vn(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"ref",{get:function(){return new Ds(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"_queryIdentifier",{get:function(){var k=Bs(this._queryParams),P=Vi(k);return"{}"===P?"default":P},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"_queryObject",{get:function(){return Bs(this._queryParams)},enumerable:!1,configurable:!0}),E.prototype.isEqual=function(k){if(!((k=(0,ee.m9)(k))instanceof E))return!1;var P=this._repo===k._repo,j=Cs(this._path,k._path);return P&&j&&this._queryIdentifier===k._queryIdentifier},E.prototype.toJSON=function(){return this.toString()},E.prototype.toString=function(){return this._repo.toString()+function(E){for(var k="",P=E.pieceNum_;P<E.pieces_.length;P++)""!==E.pieces_[P]&&(k+="/"+encodeURIComponent(String(E.pieces_[P])));return k||"/"}(this._path)},E}();function es(E,k){if(!0===E._orderByCalled)throw new Error(k+": You can't combine multiple orderBy calls.")}function Dl(E){var k=null,P=null;if(E.hasStart()&&(k=E.getIndexStartValue()),E.hasEnd()&&(P=E.getIndexEndValue()),E.getIndex()===nc){var j="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",se="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(E.hasStart()){if(E.getIndexStartName()!==mn)throw new Error(j);if("string"!=typeof k)throw new Error(se)}if(E.hasEnd()){if(E.getIndexEndName()!==Yn)throw new Error(j);if("string"!=typeof P)throw new Error(se)}}else if(E.getIndex()===mi){if(null!=k&&!cc(k)||null!=P&&!cc(P))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,ee.hu)(E.getIndex()instanceof Ku||E.getIndex()===sc,"unknown index type."),null!=k&&"object"==typeof k||null!=P&&"object"==typeof P)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Up(E){if(E.hasStart()&&E.hasEnd()&&E.hasLimit()&&!E.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Ds=function(E){function k(P,j){return E.call(this,P,j,new au,!1)||this}return(0,x.ZT)(k,E),Object.defineProperty(k.prototype,"parent",{get:function(){var P=pr(this._path);return null===P?null:new k(this._repo,P)},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"root",{get:function(){for(var P=this;null!==P.parent;)P=P.parent;return P},enumerable:!1,configurable:!0}),k}(Ra),Ch=function(){function E(k,P,j){this._node=k,this.ref=P,this._index=j}return Object.defineProperty(E.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),E.prototype.child=function(k){var P=new Je(k),j=Ou(this.ref,k);return new E(this._node.getChild(P),j,mi)},E.prototype.exists=function(){return!this._node.isEmpty()},E.prototype.exportVal=function(){return this._node.val(!0)},E.prototype.forEach=function(k){var P=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,function(se,ye){return k(new E(ye,Ou(P.ref,se),mi))})},E.prototype.hasChild=function(k){var P=new Je(k);return!this._node.getChild(P).isEmpty()},E.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},E.prototype.toJSON=function(){return this.exportVal()},E.prototype.val=function(){return this._node.val()},E}();function Vf(E,k){return(E=(0,ee.m9)(E))._checkNotDeleted("ref"),void 0!==k?Ou(E._root,k):E._root}function Vd(E,k){(E=(0,ee.m9)(E))._checkNotDeleted("refFromURL");var P=Am(k,E._repo.repoInfo_.nodeAdmin);Gi("refFromURL",P);var j=P.repoInfo;return!E._repo.repoInfo_.isCustomHost()&&j.host!==E._repo.repoInfo_.host&&er("refFromURL: Host name does not match the current database: (found "+j.host+" but expected "+E._repo.repoInfo_.host+")"),Vf(E,P.path.toString())}function Ou(E,k){return null===ln((E=(0,ee.m9)(E))._path)?((P=k)&&(P=P.replace(/^\/*\.info(\/|$)/,"/")),nt("child","path",P,!1)):nt("child","path",k,!1),new Ds(E._repo,_i(E._path,k));var P}function Im(E,k){E=(0,ee.m9)(E),Tn("push",E._path),hl("push",k,E._path,!0);var Fe,P=Bp(E._repo),j=uh(P),se=Ou(E,j),ye=Ou(E,j);return Fe=null!=k?ep(ye,k).then(function(){return ye}):Promise.resolve(ye),se.then=Fe.then.bind(Fe),se.catch=Fe.then.bind(Fe,void 0),se}function cf(E){return Tn("remove",E._path),ep(E,null)}function ep(E,k){E=(0,ee.m9)(E),Tn("set",E._path),hl("set",k,E._path,!1);var P=new ee.BH;return Hp(E._repo,E._path,k,null,P.wrapCallback(function(){})),P.promise}function uf(E,k){E=(0,ee.m9)(E),Tn("setPriority",E._path),le("setPriority",k,!1);var P=new ee.BH;return Hp(E._repo,_i(E._path,".priority"),k,null,P.wrapCallback(function(){})),P.promise}function fy(E,k,P){if(Tn("setWithPriority",E._path),hl("setWithPriority",k,E._path,!1),le("setWithPriority",P,!1),".length"===E.key||".keys"===E.key)throw"setWithPriority failed: "+E.key+" is a read-only object.";var j=new ee.BH;return Hp(E._repo,E._path,k,P,j.wrapCallback(function(){})),j.promise}function Lm(E,k){W("update",k,E._path,!1);var P=new ee.BH;return function(E,k,P,j){Yd(E,"update",{path:k.toString(),value:P});var se=!0,ye=Lu(E),Fe={};if(Ti(P,function(Et,zt){se=!1,Fe[Et]=jl(_i(k,Et),os(zt),E.serverSyncTree_,ye)}),se)hi("update() called with empty data.  Don't do anything."),Zl(0,j,"ok",void 0);else{var it=Yp(E),ut=function(E,k,P,j){!function(E,k,P,j){(0,ee.hu)(j>E.lastWriteId,"Stacking an older merge on top of newer ones"),E.allWrites.push({path:k,children:P,writeId:j,visible:!0}),E.visibleWrites=Qo(E.visibleWrites,k,P),E.lastWriteId=j}(E.pendingWriteTree_,k,P,j);var se=Xr.fromObject(P);return Vt(E,new Cc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},k,se))}(E.serverSyncTree_,k,Fe,it);js(E.eventQueue_,ut),E.server_.merge(k.toString(),P,function(Et,zt){var Sn="ok"===Et;Sn||Yr("update at "+k+" failed: "+Et);var Hn=ve(E.serverSyncTree_,it,!Sn),ci=Hn.length>0?xh(E,k):k;Zs(E.eventQueue_,ci,Hn),Zl(0,j,Et,zt)}),Ti(P,function(Et){var zt=Bf(E,_i(k,Et));xh(E,zt)}),Zs(E.eventQueue_,k,[])}}(E._repo,E._path,k,P.wrapCallback(function(){})),P.promise}function tp(E){return function(E,k){var P=function(E,k){var P=k._path,j=null;E.syncPointTree_.foreachOnPath(P,function(Et,zt){var Sn=Lr(Et,P);j=j||nl(zt,Sn)});var se=E.syncPointTree_.get(P);se?j=j||nl(se,mt()):(se=new Fp,E.syncPointTree_=E.syncPointTree_.set(P,se));var ye=null!=j,Fe=ye?new jc(j,!0,!1):null;return function(E){return Ei(E.viewCache_)}(Ua(se,k,Sc(E.pendingWriteTree_,k._path),ye?Fe.getNode():or.EMPTY_NODE,ye))}(E.serverSyncTree_,k);return null!=P?Promise.resolve(P):E.server_.get(k).then(function(j){var se=os(j).withIndex(k._queryParams.getIndex()),ye=He(E.serverSyncTree_,k._path,se);return ea(E.eventQueue_,k._path,ye),Promise.resolve(se)},function(j){return Yd(E,"get for query "+(0,ee.Pz)(k)+" failed: "+j),Promise.reject(new Error(j))})}((E=(0,ee.m9)(E))._repo,E).then(function(k){return new Ch(k,new Ds(E._repo,E._path),E._queryParams.getIndex())})}var ud=function(){function E(k){this.callbackContext=k}return E.prototype.respondsTo=function(k){return"value"===k},E.prototype.createEvent=function(k,P){var j=P._queryParams.getIndex();return new r_("value",this,new Ch(k.snapshotNode,new Ds(P._repo,P._path),j))},E.prototype.getEventRunner=function(k){var P=this;return"cancel"===k.getEventType()?function(){return P.callbackContext.onCancel(k.error)}:function(){return P.callbackContext.onValue(k.snapshot,null)}},E.prototype.createCancelEvent=function(k,P){return this.callbackContext.hasCancelCallback?new Lc(this,k,P):null},E.prototype.matches=function(k){return k instanceof E&&(!k.callbackContext||!this.callbackContext||k.callbackContext.matches(this.callbackContext))},E.prototype.hasAnyCallback=function(){return null!==this.callbackContext},E}(),Wl=function(){function E(k,P){this.eventType=k,this.callbackContext=P}return E.prototype.respondsTo=function(k){var P="children_added"===k?"child_added":k;return this.eventType===("children_removed"===P?"child_removed":P)},E.prototype.createCancelEvent=function(k,P){return this.callbackContext.hasCancelCallback?new Lc(this,k,P):null},E.prototype.createEvent=function(k,P){(0,ee.hu)(null!=k.childName,"Child events should have a childName.");var j=Ou(new Ds(P._repo,P._path),k.childName),se=P._queryParams.getIndex();return new r_(k.type,this,new Ch(k.snapshotNode,j,se),k.prevName)},E.prototype.getEventRunner=function(k){var P=this;return"cancel"===k.getEventType()?function(){return P.callbackContext.onCancel(k.error)}:function(){return P.callbackContext.onValue(k.snapshot,k.prevName)}},E.prototype.matches=function(k){return k instanceof E&&this.eventType===k.eventType&&(!this.callbackContext||!k.callbackContext||this.callbackContext.matches(k.callbackContext))},E.prototype.hasAnyCallback=function(){return!!this.callbackContext},E}();function np(E,k,P,j,se){var ye;if("object"==typeof j&&(ye=void 0,se=j),"function"==typeof j&&(ye=j),se&&se.onlyOnce){var Fe=P,it=function(zt,Sn){Fr(E._repo,E,Et),Fe(zt,Sn)};it.userCallback=P.userCallback,it.context=P.context,P=it}var ut=new da(P,ye||void 0),Et="value"===k?new ud(ut):new Wl(k,ut);return function(E,k,P){var j;j=".info"===ln(k._path)?lt(E.infoSyncTree_,k,P):lt(E.serverSyncTree_,k,P),ea(E.eventQueue_,k._path,j)}(E._repo,E,Et),function(){return Fr(E._repo,E,Et)}}function df(E,k,P,j){return np(E,"value",k,P,j)}function Pm(E,k,P,j){return np(E,"child_added",k,P,j)}function Wa(E,k,P,j){return np(E,"child_changed",k,P,j)}function Uf(E,k,P,j){return np(E,"child_moved",k,P,j)}function jf(E,k,P,j){return np(E,"child_removed",k,P,j)}function dd(E,k,P){var j=null,se=P?new da(P):null;"value"===k?j=new ud(se):k&&(j=new Wl(k,se)),Fr(E._repo,E,j)}var Ru=function(){},Zf=function(E){function k(P,j){var se=E.call(this)||this;return se._value=P,se._key=j,se}return(0,x.ZT)(k,E),k.prototype._apply=function(P){hl("endAt",this._value,P._path,!0);var j=Fd(P._queryParams,this._value,this._key);if(Up(j),Dl(j),P._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ra(P._repo,P._path,j,P._orderByCalled)},k}(Ru);function ip(E,k){return Ue("endAt","key",k,!0),new Zf(E,k)}var uc=function(E){function k(P,j){var se=E.call(this)||this;return se._value=P,se._key=j,se}return(0,x.ZT)(k,E),k.prototype._apply=function(P){hl("endBefore",this._value,P._path,!1);var j=function(E,k,P){var se;return E.index_===nc?("string"==typeof k&&(k=Hl(k)),se=Fd(E,k,P)):se=Fd(E,k,null==P?mn:Hl(P)),se.endBeforeSet_=!0,se}(P._queryParams,this._value,this._key);if(Up(j),Dl(j),P._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ra(P._repo,P._path,j,P._orderByCalled)},k}(Ru);function s_(E,k){return Ue("endBefore","key",k,!0),new uc(E,k)}var Fu=function(E){function k(P,j){var se=E.call(this)||this;return se._value=P,se._key=j,se}return(0,x.ZT)(k,E),k.prototype._apply=function(P){hl("startAt",this._value,P._path,!0);var j=Wh(P._queryParams,this._value,this._key);if(Up(j),Dl(j),P._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ra(P._repo,P._path,j,P._orderByCalled)},k}(Ru);function Nu(E,k){return void 0===E&&(E=null),Ue("startAt","key",k,!0),new Fu(E,k)}var og=function(E){function k(P,j){var se=E.call(this)||this;return se._value=P,se._key=j,se}return(0,x.ZT)(k,E),k.prototype._apply=function(P){hl("startAfter",this._value,P._path,!1);var j=function(E,k,P){var j;return E.index_===nc?("string"==typeof k&&(k=xu(k)),j=Wh(E,k,P)):j=Wh(E,k,null==P?Yn:xu(P)),j.startAfterSet_=!0,j}(P._queryParams,this._value,this._key);if(Up(j),Dl(j),P._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ra(P._repo,P._path,j,P._orderByCalled)},k}(Ru);function ag(E,k){return Ue("startAfter","key",k,!0),new og(E,k)}var Gf=function(E){function k(P){var j=E.call(this)||this;return j._limit=P,j}return(0,x.ZT)(k,E),k.prototype._apply=function(P){if(P._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ra(P._repo,P._path,function(E,k){var P=E.copy();return P.limitSet_=!0,P.limit_=k,P.viewFrom_="l",P}(P._queryParams,this._limit),P._orderByCalled)},k}(Ru);function dc(E){if("number"!=typeof E||Math.floor(E)!==E||E<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Gf(E)}var Ud=function(E){function k(P){var j=E.call(this)||this;return j._limit=P,j}return(0,x.ZT)(k,E),k.prototype._apply=function(P){if(P._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ra(P._repo,P._path,function(E,k){var P=E.copy();return P.limitSet_=!0,P.limit_=k,P.viewFrom_="r",P}(P._queryParams,this._limit),P._orderByCalled)},k}(Ru);function vr(E){if("number"!=typeof E||Math.floor(E)!==E||E<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Ud(E)}var zu=function(E){function k(P){var j=E.call(this)||this;return j._path=P,j}return(0,x.ZT)(k,E),k.prototype._apply=function(P){es(P,"orderByChild");var j=new Je(this._path);if(Yi(j))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var se=new Ku(j),ye=Pa(P._queryParams,se);return Dl(ye),new Ra(P._repo,P._path,ye,!0)},k}(Ru);function rp(E){if("$key"===E)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===E)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===E)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return nt("orderByChild","path",E,!1),new zu(E)}var hd=function(E){function k(){return null!==E&&E.apply(this,arguments)||this}return(0,x.ZT)(k,E),k.prototype._apply=function(P){es(P,"orderByKey");var j=Pa(P._queryParams,nc);return Dl(j),new Ra(P._repo,P._path,j,!0)},k}(Ru);function my(){return new hd}var Om=function(E){function k(){return null!==E&&E.apply(this,arguments)||this}return(0,x.ZT)(k,E),k.prototype._apply=function(P){es(P,"orderByPriority");var j=Pa(P._queryParams,mi);return Dl(j),new Ra(P._repo,P._path,j,!0)},k}(Ru);function sp(){return new Om}var Pc=function(E){function k(){return null!==E&&E.apply(this,arguments)||this}return(0,x.ZT)(k,E),k.prototype._apply=function(P){es(P,"orderByValue");var j=Pa(P._queryParams,sc);return Dl(j),new Ra(P._repo,P._path,j,!0)},k}(Ru);function lg(){return new Pc}var gy=function(E){function k(P,j){var se=E.call(this)||this;return se._value=P,se._key=j,se}return(0,x.ZT)(k,E),k.prototype._apply=function(P){if(hl("equalTo",this._value,P._path,!1),P._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(P._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Zf(this._value,this._key)._apply(new Fu(this._value,this._key)._apply(P))},k}(Ru);function cg(E,k){return Ue("equalTo","key",k,!0),new gy(E,k)}function jd(E){for(var k,P,j=[],se=1;se<arguments.length;se++)j[se-1]=arguments[se];var ye=(0,ee.m9)(E);try{for(var Fe=(0,x.XA)(j),it=Fe.next();!it.done;it=Fe.next()){var ut=it.value;ye=ut._apply(ye)}}catch(Et){k={error:Et}}finally{try{it&&!it.done&&(P=Fe.return)&&P.call(Fe)}finally{if(k)throw k.error}}return ye}(function(E){(0,ee.hu)(!as,"__referenceConstructor has already been defined"),as=E})(Ds),function(E){(0,ee.hu)(!T,"__referenceConstructor has already been defined"),T=E}(Ds);var hc={},So=!1;function pd(E,k,P,j,se){var ye=j||E.options.databaseURL;void 0===ye&&(E.options.projectId||er("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),hi("Using default host for project ",E.options.projectId),ye=E.options.projectId+"-default-rtdb.firebaseio.com");var ut,Fe=Am(ye,se),it=Fe.repoInfo,Et=void 0;"undefined"!=typeof process&&(Et=process.env.FIREBASE_DATABASE_EMULATOR_HOST),Et?(ut=!0,it=(Fe=Am(ye="http://"+Et+"?ns="+it.namespace,se)).repoInfo):ut=!Fe.repoInfo.secure;var zt=se&&ut?new tr(tr.OWNER):new Ki(E.name,E.options,k);Gi("Invalid Firebase Database URL",Fe),Yi(Fe.path)||er("Database URL must point to the root of a Firebase Database (not including a child path).");var Sn=function(E,k,P,j){var se=hc[k.name];se||(hc[k.name]=se={});var ye=se[E.toURLString()];return ye&&er("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),ye=new n_(E,So,P,j),se[E.toURLString()]=ye,ye}(it,E,zt,new Da(E.name,P));return new ug(Sn,E)}var ug=function(){function E(k,P){this._repoInternal=k,this.app=P,this.type="database",this._instanceStarted=!1}return Object.defineProperty(E.prototype,"_repo",{get:function(){return this._instanceStarted||(function(E,k,P){if(E.stats_=ws(E.repoInfo_),E.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)E.server_=new qh(E.repoInfo_,function(j,se,ye,Fe){xa(E,j,se,ye,Fe)},E.authTokenProvider_,E.appCheckProvider_),setTimeout(function(){return Mr(E,!0)},0);else{if(null!=P){if("object"!=typeof P)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,ee.Pz)(P)}catch(j){throw new Error("Invalid authOverride provided: "+j)}}E.persistentConnection_=new ou(E.repoInfo_,k,function(j,se,ye,Fe){xa(E,j,se,ye,Fe)},function(j){Mr(E,j)},function(j){!function(E,k){Ti(k,function(P,j){Kh(E,P,j)})}(E,j)},E.authTokenProvider_,E.appCheckProvider_,P),E.server_=E.persistentConnection_}E.authTokenProvider_.addTokenChangeListener(function(j){E.server_.refreshAuthToken(j)}),E.appCheckProvider_.addTokenChangeListener(function(j){E.server_.refreshAppCheckToken(j.token)}),E.statsReporter_=function(E,k){var P=E.toString();return Aa[P]||(Aa[P]=k()),Aa[P]}(E.repoInfo_,function(){return new nd(E.stats_,E.server_)}),E.infoData_=new Dp,E.infoSyncTree_=new ce({startListening:function(j,se,ye,Fe){var it=[],ut=E.infoData_.getNode(j._path);return ut.isEmpty()||(it=He(E.infoSyncTree_,j._path,ut),setTimeout(function(){Fe("ok")},0)),it},stopListening:function(){}}),Kh(E,"connected",!1),E.serverSyncTree_=new ce({startListening:function(j,se,ye,Fe){return E.server_.listen(j,ye,se,function(it,ut){var Et=Fe(it,ut);Zs(E.eventQueue_,j._path,Et)}),[]},stopListening:function(j,se){E.server_.unlisten(j,se)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Ds(this._repo,mt())),this._rootInternal},enumerable:!1,configurable:!0}),E.prototype._delete=function(){return null!==this._rootInternal&&(function(E,k){var P=hc[k];(!P||P[E.key]!==E)&&er("Database "+k+"("+E.repoInfo_+") has already been deleted."),cd(E),delete P[E.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},E.prototype._checkNotDeleted=function(k){null===this._rootInternal&&er("Cannot call "+k+" on a deleted database.")},E}();function qf(E){(E=(0,ee.m9)(E))._checkNotDeleted("goOffline"),cd(E._repo)}function Bu(E){(E=(0,ee.m9)(E))._checkNotDeleted("goOnline"),function(E){E.persistentConnection_&&E.persistentConnection_.resume(uy)}(E._repo)}var Oc={".sv":"timestamp"},$f=function(){function E(k,P){this.committed=k,this.snapshot=P}return E.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},E}();function Pv(E,k,P){var j;if(E=(0,ee.m9)(E),Tn("Reference.transaction",E._path),".length"===E.key||".keys"===E.key)throw"Reference.transaction failed: "+E.key+" is a read-only object.";var se=null===(j=null==P?void 0:P.applyLocally)||void 0===j||j,ye=new ee.BH,it=df(E,function(){});return function(E,k,P,j,se,ye){Yd(E,"transaction on "+k);var Fe={path:k,update:P,onComplete:j,status:null,order:ct(),applyLocally:ye,retryCount:0,unwatcher:se,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},it=fu(E,k,void 0);Fe.currentInputSnapshot=it;var ut=Fe.update(it.val());if(void 0===ut)Fe.unwatcher(),Fe.currentOutputSnapshotRaw=null,Fe.currentOutputSnapshotResolved=null,Fe.onComplete&&Fe.onComplete(null,!1,Fe.currentInputSnapshot);else{Wc("transaction failed: Data returned ",ut,Fe.path),Fe.status=0;var Et=Sl(E.transactionQueueTree_,k),zt=Hi(Et)||[];zt.push(Fe),Us(Et,zt);var Sn=void 0;"object"==typeof ut&&null!==ut&&(0,ee.r3)(ut,".priority")?(Sn=(0,ee.DV)(ut,".priority"),(0,ee.hu)(cc(Sn),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):Sn=(wt(E.serverSyncTree_,k)||or.EMPTY_NODE).getPriority().val();var ci=Lu(E),Di=os(ut,Sn),Qi=ja(Di,it,ci);Fe.currentOutputSnapshotRaw=Di,Fe.currentOutputSnapshotResolved=Qi,Fe.currentWriteId=Yp(E);var ir=ge(E.serverSyncTree_,k,Qi,Fe.currentWriteId,Fe.applyLocally);Zs(E.eventQueue_,k,ir),Hd(E,E.transactionQueueTree_)}}(E._repo,E._path,k,function(ut,Et,zt){var Sn=null;ut?ye.reject(ut):(Sn=new Ch(zt,new Ds(E._repo,E._path),mi),ye.resolve(new $f(Et,Sn)))},it,se),ye.promise}var Yu=function(){function E(k){this._delegate=k}return E.prototype.cancel=function(k){(0,ee.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,ee.Wj)("OnDisconnect.cancel","onComplete",k,!0);var P=this._delegate.cancel();return k&&P.then(function(){return k(null)},function(j){return k(j)}),P},E.prototype.remove=function(k){(0,ee.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,ee.Wj)("OnDisconnect.remove","onComplete",k,!0);var P=this._delegate.remove();return k&&P.then(function(){return k(null)},function(j){return k(j)}),P},E.prototype.set=function(k,P){(0,ee.Dv)("OnDisconnect.set",1,2,arguments.length),(0,ee.Wj)("OnDisconnect.set","onComplete",P,!0);var j=this._delegate.set(k);return P&&j.then(function(){return P(null)},function(se){return P(se)}),j},E.prototype.setWithPriority=function(k,P,j){(0,ee.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,ee.Wj)("OnDisconnect.setWithPriority","onComplete",j,!0);var se=this._delegate.setWithPriority(k,P);return j&&se.then(function(){return j(null)},function(ye){return j(ye)}),se},E.prototype.update=function(k,P){if((0,ee.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(k)){for(var j={},se=0;se<k.length;++se)j[""+se]=k[se];k=j,Yr("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,ee.Wj)("OnDisconnect.update","onComplete",P,!0);var ye=this._delegate.update(k);return P&&ye.then(function(){return P(null)},function(Fe){return P(Fe)}),ye},E}(),dg=function(){function E(k,P){this.committed=k,this.snapshot=P}return E.prototype.toJSON=function(){return(0,ee.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},E}(),Th=function(){function E(k,P){this._database=k,this._delegate=P}return E.prototype.val=function(){return(0,ee.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},E.prototype.exportVal=function(){return(0,ee.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},E.prototype.toJSON=function(){return(0,ee.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},E.prototype.exists=function(){return(0,ee.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},E.prototype.child=function(k){return(0,ee.Dv)("DataSnapshot.child",0,1,arguments.length),k=String(k),nt("DataSnapshot.child","path",k,!1),new E(this._database,this._delegate.child(k))},E.prototype.hasChild=function(k){return(0,ee.Dv)("DataSnapshot.hasChild",1,1,arguments.length),nt("DataSnapshot.hasChild","path",k,!1),this._delegate.hasChild(k)},E.prototype.getPriority=function(){return(0,ee.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},E.prototype.forEach=function(k){var P=this;return(0,ee.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,ee.Wj)("DataSnapshot.forEach","action",k,!1),this._delegate.forEach(function(j){return k(new E(P._database,j))})},E.prototype.hasChildren=function(){return(0,ee.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(E.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),E.prototype.numChildren=function(){return(0,ee.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},E.prototype.getRef=function(){return(0,ee.Dv)("DataSnapshot.ref",0,0,arguments.length),new fd(this._database,this._delegate.ref)},Object.defineProperty(E.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),E}(),Fm=function(){function E(k,P){this.database=k,this._delegate=P}return E.prototype.on=function(k,P,j,se){var Fe,ye=this;(0,ee.Dv)("Query.on",2,4,arguments.length),(0,ee.Wj)("Query.on","callback",P,!1);var it=E.getCancelAndContextArgs_("Query.on",j,se),ut=function(zt,Sn){P.call(it.context,new Th(ye.database,zt),Sn)};ut.userCallback=P,ut.context=it.context;var Et=null===(Fe=it.cancel)||void 0===Fe?void 0:Fe.bind(it.context);switch(k){case"value":return df(this._delegate,ut,Et),P;case"child_added":return Pm(this._delegate,ut,Et),P;case"child_removed":return jf(this._delegate,ut,Et),P;case"child_changed":return Wa(this._delegate,ut,Et),P;case"child_moved":return Uf(this._delegate,ut,Et),P;default:throw new Error((0,ee.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},E.prototype.off=function(k,P,j){if((0,ee.Dv)("Query.off",0,3,arguments.length),De("Query.off",k,!0),(0,ee.Wj)("Query.off","callback",P,!0),(0,ee.lb)("Query.off","context",j,!0),P){var se=function(){};se.userCallback=P,se.context=j,dd(this._delegate,k,se)}else dd(this._delegate,k)},E.prototype.get=function(){var k=this;return tp(this._delegate).then(function(P){return new Th(k.database,P)})},E.prototype.once=function(k,P,j,se){var ye=this;(0,ee.Dv)("Query.once",1,4,arguments.length),(0,ee.Wj)("Query.once","callback",P,!0);var Fe=E.getCancelAndContextArgs_("Query.once",j,se),it=new ee.BH,ut=function(zt,Sn){var Hn=new Th(ye.database,zt);P&&P.call(Fe.context,Hn,Sn),it.resolve(Hn)};ut.userCallback=P,ut.context=Fe.context;var Et=function(zt){Fe.cancel&&Fe.cancel.call(Fe.context,zt),it.reject(zt)};switch(k){case"value":df(this._delegate,ut,Et,{onlyOnce:!0});break;case"child_added":Pm(this._delegate,ut,Et,{onlyOnce:!0});break;case"child_removed":jf(this._delegate,ut,Et,{onlyOnce:!0});break;case"child_changed":Wa(this._delegate,ut,Et,{onlyOnce:!0});break;case"child_moved":Uf(this._delegate,ut,Et,{onlyOnce:!0});break;default:throw new Error((0,ee.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return it.promise},E.prototype.limitToFirst=function(k){return(0,ee.Dv)("Query.limitToFirst",1,1,arguments.length),new E(this.database,jd(this._delegate,dc(k)))},E.prototype.limitToLast=function(k){return(0,ee.Dv)("Query.limitToLast",1,1,arguments.length),new E(this.database,jd(this._delegate,vr(k)))},E.prototype.orderByChild=function(k){return(0,ee.Dv)("Query.orderByChild",1,1,arguments.length),new E(this.database,jd(this._delegate,rp(k)))},E.prototype.orderByKey=function(){return(0,ee.Dv)("Query.orderByKey",0,0,arguments.length),new E(this.database,jd(this._delegate,my()))},E.prototype.orderByPriority=function(){return(0,ee.Dv)("Query.orderByPriority",0,0,arguments.length),new E(this.database,jd(this._delegate,sp()))},E.prototype.orderByValue=function(){return(0,ee.Dv)("Query.orderByValue",0,0,arguments.length),new E(this.database,jd(this._delegate,lg()))},E.prototype.startAt=function(k,P){return void 0===k&&(k=null),(0,ee.Dv)("Query.startAt",0,2,arguments.length),new E(this.database,jd(this._delegate,Nu(k,P)))},E.prototype.startAfter=function(k,P){return void 0===k&&(k=null),(0,ee.Dv)("Query.startAfter",0,2,arguments.length),new E(this.database,jd(this._delegate,ag(k,P)))},E.prototype.endAt=function(k,P){return void 0===k&&(k=null),(0,ee.Dv)("Query.endAt",0,2,arguments.length),new E(this.database,jd(this._delegate,ip(k,P)))},E.prototype.endBefore=function(k,P){return void 0===k&&(k=null),(0,ee.Dv)("Query.endBefore",0,2,arguments.length),new E(this.database,jd(this._delegate,s_(k,P)))},E.prototype.equalTo=function(k,P){return(0,ee.Dv)("Query.equalTo",1,2,arguments.length),new E(this.database,jd(this._delegate,cg(k,P)))},E.prototype.toString=function(){return(0,ee.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()},E.prototype.toJSON=function(){return(0,ee.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},E.prototype.isEqual=function(k){if((0,ee.Dv)("Query.isEqual",1,1,arguments.length),!(k instanceof E)){var P="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(P)}return this._delegate.isEqual(k._delegate)},E.getCancelAndContextArgs_=function(k,P,j){var se={cancel:void 0,context:void 0};if(P&&j)se.cancel=P,(0,ee.Wj)(k,"cancel",se.cancel,!0),se.context=j,(0,ee.lb)(k,"context",se.context,!0);else if(P)if("object"==typeof P&&null!==P)se.context=P;else{if("function"!=typeof P)throw new Error((0,ee.gK)(k,"cancelOrContext")+" must either be a cancel callback or a context object.");se.cancel=P}return se},Object.defineProperty(E.prototype,"ref",{get:function(){return new fd(this.database,new Ds(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),E}(),fd=function(E){function k(P,j){var se=E.call(this,P,new Ra(j._repo,j._path,new au,!1))||this;return se.database=P,se._delegate=j,se}return(0,x.ZT)(k,E),k.prototype.getKey=function(){return(0,ee.Dv)("Reference.key",0,0,arguments.length),this._delegate.key},k.prototype.child=function(P){return(0,ee.Dv)("Reference.child",1,1,arguments.length),"number"==typeof P&&(P=String(P)),new k(this.database,Ou(this._delegate,P))},k.prototype.getParent=function(){(0,ee.Dv)("Reference.parent",0,0,arguments.length);var P=this._delegate.parent;return P?new k(this.database,P):null},k.prototype.getRoot=function(){return(0,ee.Dv)("Reference.root",0,0,arguments.length),new k(this.database,this._delegate.root)},k.prototype.set=function(P,j){(0,ee.Dv)("Reference.set",1,2,arguments.length),(0,ee.Wj)("Reference.set","onComplete",j,!0);var se=ep(this._delegate,P);return j&&se.then(function(){return j(null)},function(ye){return j(ye)}),se},k.prototype.update=function(P,j){if((0,ee.Dv)("Reference.update",1,2,arguments.length),Array.isArray(P)){for(var se={},ye=0;ye<P.length;++ye)se[""+ye]=P[ye];P=se,Yr("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Tn("Reference.update",this._delegate._path),(0,ee.Wj)("Reference.update","onComplete",j,!0);var Fe=Lm(this._delegate,P);return j&&Fe.then(function(){return j(null)},function(it){return j(it)}),Fe},k.prototype.setWithPriority=function(P,j,se){(0,ee.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,ee.Wj)("Reference.setWithPriority","onComplete",se,!0);var ye=fy(this._delegate,P,j);return se&&ye.then(function(){return se(null)},function(Fe){return se(Fe)}),ye},k.prototype.remove=function(P){(0,ee.Dv)("Reference.remove",0,1,arguments.length),(0,ee.Wj)("Reference.remove","onComplete",P,!0);var j=cf(this._delegate);return P&&j.then(function(){return P(null)},function(se){return P(se)}),j},k.prototype.transaction=function(P,j,se){var ye=this;(0,ee.Dv)("Reference.transaction",1,3,arguments.length),(0,ee.Wj)("Reference.transaction","transactionUpdate",P,!1),(0,ee.Wj)("Reference.transaction","onComplete",j,!0),ls("Reference.transaction","applyLocally",se,!0);var Fe=Pv(this._delegate,P,{applyLocally:se}).then(function(it){return new dg(it.committed,new Th(ye.database,it.snapshot))});return j&&Fe.then(function(it){return j(null,it.committed,it.snapshot)},function(it){return j(it,!1,null)}),Fe},k.prototype.setPriority=function(P,j){(0,ee.Dv)("Reference.setPriority",1,2,arguments.length),(0,ee.Wj)("Reference.setPriority","onComplete",j,!0);var se=uf(this._delegate,P);return j&&se.then(function(){return j(null)},function(ye){return j(ye)}),se},k.prototype.push=function(P,j){var se=this;(0,ee.Dv)("Reference.push",0,2,arguments.length),(0,ee.Wj)("Reference.push","onComplete",j,!0);var ye=Im(this._delegate,P),Fe=ye.then(function(ut){return new k(se.database,ut)});j&&Fe.then(function(){return j(null)},function(ut){return j(ut)});var it=new k(this.database,ye);return it.then=Fe.then.bind(Fe),it.catch=Fe.catch.bind(Fe,void 0),it},k.prototype.onDisconnect=function(){return Tn("Reference.onDisconnect",this._delegate._path),new Yu(new Hf(this._delegate._repo,this._delegate._path))},Object.defineProperty(k.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),k}(Fm),Zd=function(){function E(k,P){var j=this;this._delegate=k,this.app=P,this.INTERNAL={delete:function(){return j._delegate._delete()}}}return E.prototype.useEmulator=function(k,P,j){void 0===j&&(j={}),function(E,k,P,j){void 0===j&&(j={}),(E=(0,ee.m9)(E))._checkNotDeleted("useEmulator"),E._instanceStarted&&er("Cannot call useEmulator() after instance has already been initialized.");var se=E._repoInternal,ye=void 0;if(se.repoInfo_.nodeAdmin)j.mockUserToken&&er('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),ye=new tr(tr.OWNER);else if(j.mockUserToken){var Fe=(0,ee.Sg)(j.mockUserToken,E.app.options.projectId);ye=new tr(Fe)}!function(E,k,P,j){E.repoInfo_=new Pr(k+":"+P,!1,E.repoInfo_.namespace,E.repoInfo_.webSocketOnly,E.repoInfo_.nodeAdmin,E.repoInfo_.persistenceKey,E.repoInfo_.includeNamespaceInQueryParams),j&&(E.authTokenProvider_=j)}(se,k,P,ye)}(this._delegate,k,P,j)},E.prototype.ref=function(k){if((0,ee.Dv)("database.ref",0,1,arguments.length),k instanceof fd){var P=Vd(this._delegate,k.toString());return new fd(this,P)}return P=Vf(this._delegate,k),new fd(this,P)},E.prototype.refFromURL=function(k){var P="database.refFromURL";(0,ee.Dv)(P,1,1,arguments.length);var j=Vd(this._delegate,k);return new fd(this,j)},E.prototype.goOffline=function(){return(0,ee.Dv)("database.goOffline",0,0,arguments.length),qf(this._delegate)},E.prototype.goOnline=function(){return(0,ee.Dv)("database.goOnline",0,0,arguments.length),Bu(this._delegate)},E.ServerValue={TIMESTAMP:Oc,increment:function(k){return function(E){return{".sv":{increment:E}}}(k)}},E}(),fg=Object.freeze({__proto__:null,forceLongPolling:function(){p.forceDisallow(),nn.forceAllow()},forceWebSockets:function(){nn.forceDisallow()},isWebSocketsAvailable:function(){return p.isAvailable()},setSecurityDebugCallback:function(E,k){E._delegate._repo.persistentConnection_.securityDebugCallback_=k},stats:function(E,k){!function(E,k){if(void 0===k&&(k=!1),"undefined"!=typeof console){var P;k?(E.statsListener_||(E.statsListener_=new xc(E.stats_)),P=E.statsListener_.get()):P=E.stats_.get();var j=Object.keys(P).reduce(function(se,ye){return Math.max(ye.length,se)},0);Ti(P,function(se,ye){for(var Fe=se,it=se.length;it<j+2;it++)Fe+=" ";console.log(Fe+ye)})}}(E._delegate._repo,k)},statsIncrementCounter:function(E,k){!function(E,k){E.stats_.incrementCounter(k),function(E,k){E.statsToReport_[k]=!0}(E.statsReporter_,k)}(E._delegate._repo,k)},dataUpdateCount:function(E){return E._delegate._repo.dataUpdateCount},interceptServerData:function(E,k){return function(E,k){E.interceptServerDataCallback_=k}(E._delegate._repo,k)},initStandalone:function(E){var k=E.app,P=E.url,se=E.customAuthImpl,ye=E.namespace,Fe=E.nodeAdmin,it=void 0!==Fe&&Fe;Be(E.version);var ut=new $.zt("auth-internal",new $.H0("database-standalone"));return ut.setComponent(new $.wA("auth-internal",function(){return se},"PRIVATE")),{instance:new Zd(pd(k,ut,void 0,P,it),k),namespace:ye}}}),mg=ou;ou.prototype.simpleListen=function(E,k){this.sendRequest("q",{p:E},k)},ou.prototype.echo=function(E,k){this.sendRequest("echo",{d:E},k)};var l_=Object.freeze({__proto__:null,DataConnection:mg,RealTimeConnection:We,hijackHash:function(E){var k=ou.prototype.put;return ou.prototype.put=function(P,j,se,ye){void 0!==ye&&(ye=E()),k.call(this,P,j,se,ye)},function(){ou.prototype.put=k}},ConnectionTarget:Pr,queryIdentifier:function(E){return E._delegate._queryIdentifier},forceRestClient:function(E){!function(E){So=E}(E)}}),ff=Zd.ServerValue;!function(E){Be(E.SDK_VERSION);var k=E.INTERNAL.registerComponent(new $.wA("database",function(P,j){var se=j.instanceIdentifier,ye=P.getProvider("app").getImmediate(),Fe=P.getProvider("auth-internal"),it=P.getProvider("app-check-internal");return new Zd(pd(ye,Fe,it,se),ye)},"PUBLIC").setServiceProps({Reference:fd,Query:Fm,Database:Zd,DataSnapshot:Th,enableLogging:us,INTERNAL:fg,ServerValue:ff,TEST_ACCESS:l_}).setMultipleInstances(!0));E.registerVersion("@firebase/database","0.10.9"),(0,ee.Yr)()&&(Ut.exports=k)}(o.Z)},300:(Ut,kt,Ae)=>{"use strict";function o(){for(var ft=0,Lt=0,rn=arguments.length;Lt<rn;Lt++)ft+=arguments[Lt].length;var Gt=Array(ft),ct=0;for(Lt=0;Lt<rn;Lt++)for(var ii=arguments[Lt],Fn=0,Wt=ii.length;Fn<Wt;Fn++,ct++)Gt[ct]=ii[Fn];return Gt}Ae.d(kt,{in:()=>x,Yd:()=>Be,Ub:()=>Ge,Am:()=>Mt});var $,ee=[],x=(()=>{return(ft=x||(x={}))[ft.DEBUG=0]="DEBUG",ft[ft.VERBOSE=1]="VERBOSE",ft[ft.INFO=2]="INFO",ft[ft.WARN=3]="WARN",ft[ft.ERROR=4]="ERROR",ft[ft.SILENT=5]="SILENT",x;var ft})(),de={debug:x.DEBUG,verbose:x.VERBOSE,info:x.INFO,warn:x.WARN,error:x.ERROR,silent:x.SILENT},Ce=x.INFO,Ee=(($={})[x.DEBUG]="log",$[x.VERBOSE]="log",$[x.INFO]="info",$[x.WARN]="warn",$[x.ERROR]="error",$),Me=function(ft,Lt){for(var rn=[],Gt=2;Gt<arguments.length;Gt++)rn[Gt-2]=arguments[Gt];if(!(Lt<ft.logLevel)){var ct=(new Date).toISOString(),ii=Ee[Lt];if(!ii)throw new Error("Attempted to log a message with an invalid logType (value: "+Lt+")");console[ii].apply(console,o(["["+ct+"]  "+ft.name+":"],rn))}},Be=function(){function ft(Lt){this.name=Lt,this._logLevel=Ce,this._logHandler=Me,this._userLogHandler=null,ee.push(this)}return Object.defineProperty(ft.prototype,"logLevel",{get:function(){return this._logLevel},set:function(Lt){if(!(Lt in x))throw new TypeError('Invalid value "'+Lt+'" assigned to `logLevel`');this._logLevel=Lt},enumerable:!1,configurable:!0}),ft.prototype.setLogLevel=function(Lt){this._logLevel="string"==typeof Lt?de[Lt]:Lt},Object.defineProperty(ft.prototype,"logHandler",{get:function(){return this._logHandler},set:function(Lt){if("function"!=typeof Lt)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Lt},enumerable:!1,configurable:!0}),Object.defineProperty(ft.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(Lt){this._userLogHandler=Lt},enumerable:!1,configurable:!0}),ft.prototype.debug=function(){for(var Lt=[],rn=0;rn<arguments.length;rn++)Lt[rn]=arguments[rn];this._userLogHandler&&this._userLogHandler.apply(this,o([this,x.DEBUG],Lt)),this._logHandler.apply(this,o([this,x.DEBUG],Lt))},ft.prototype.log=function(){for(var Lt=[],rn=0;rn<arguments.length;rn++)Lt[rn]=arguments[rn];this._userLogHandler&&this._userLogHandler.apply(this,o([this,x.VERBOSE],Lt)),this._logHandler.apply(this,o([this,x.VERBOSE],Lt))},ft.prototype.info=function(){for(var Lt=[],rn=0;rn<arguments.length;rn++)Lt[rn]=arguments[rn];this._userLogHandler&&this._userLogHandler.apply(this,o([this,x.INFO],Lt)),this._logHandler.apply(this,o([this,x.INFO],Lt))},ft.prototype.warn=function(){for(var Lt=[],rn=0;rn<arguments.length;rn++)Lt[rn]=arguments[rn];this._userLogHandler&&this._userLogHandler.apply(this,o([this,x.WARN],Lt)),this._logHandler.apply(this,o([this,x.WARN],Lt))},ft.prototype.error=function(){for(var Lt=[],rn=0;rn<arguments.length;rn++)Lt[rn]=arguments[rn];this._userLogHandler&&this._userLogHandler.apply(this,o([this,x.ERROR],Lt)),this._logHandler.apply(this,o([this,x.ERROR],Lt))},ft}();function Ge(ft){ee.forEach(function(Lt){Lt.setLogLevel(ft)})}function Mt(ft,Lt){for(var rn=function(Fn){var Wt=null;Lt&&Lt.level&&(Wt=de[Lt.level]),Fn.userLogHandler=null===ft?null:function(ar,us){for(var hi=[],zi=2;zi<arguments.length;zi++)hi[zi-2]=arguments[zi];var Ps=hi.map(function(er){if(null==er)return null;if("string"==typeof er)return er;if("number"==typeof er||"boolean"==typeof er)return er.toString();if(er instanceof Error)return er.message;try{return JSON.stringify(er)}catch(Yr){return null}}).filter(function(er){return er}).join(" ");us>=(null!=Wt?Wt:ar.logLevel)&&ft({level:x[us].toLowerCase(),message:Ps,args:hi,type:ar.name})}},Gt=0,ct=ee;Gt<ct.length;Gt++)rn(ct[Gt])}},4685:(Ut,kt,Ae)=>{"use strict";Ae.d(kt,{BH:()=>Lt,LL:()=>vn,gQ:()=>tr,hu:()=>ee,g5:()=>x,US:()=>Ee,h$:()=>Me,r3:()=>kr,Sg:()=>rn,ne:()=>wo,p$:()=>Ge,ZB:()=>Mt,gK:()=>Co,m9:()=>Yo,z$:()=>Gt,GJ:()=>Oi,jU:()=>Fn,ru:()=>Wt,d:()=>us,xb:()=>ss,w1:()=>hi,uI:()=>ct,UG:()=>ii,Yr:()=>Ps,b$:()=>ar,G6:()=>er,Mn:()=>zi,w9:()=>Kn,cI:()=>Vi,UI:()=>Gs,xO:()=>lr,DV:()=>xo,ug:()=>Pr,dS:()=>Wo,Pz:()=>fi,Dv:()=>nr,Wj:()=>Qr,lb:()=>Ns});var o=Ae(4762),ee=function(Rt,Ot){if(!Rt)throw x(Ot)},x=function(Rt){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+Rt)},de=function(Rt){for(var Ot=[],Qt=0,_n=0;_n<Rt.length;_n++){var on=Rt.charCodeAt(_n);on<128?Ot[Qt++]=on:on<2048?(Ot[Qt++]=on>>6|192,Ot[Qt++]=63&on|128):55296==(64512&on)&&_n+1<Rt.length&&56320==(64512&Rt.charCodeAt(_n+1))?(on=65536+((1023&on)<<10)+(1023&Rt.charCodeAt(++_n)),Ot[Qt++]=on>>18|240,Ot[Qt++]=on>>12&63|128,Ot[Qt++]=on>>6&63|128,Ot[Qt++]=63&on|128):(Ot[Qt++]=on>>12|224,Ot[Qt++]=on>>6&63|128,Ot[Qt++]=63&on|128)}return Ot},Ee={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(Rt,Ot){if(!Array.isArray(Rt))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var Qt=Ot?this.byteToCharMapWebSafe_:this.byteToCharMap_,_n=[],on=0;on<Rt.length;on+=3){var gi=Rt[on],Ui=on+1<Rt.length,hr=Ui?Rt[on+1]:0,Hr=on+2<Rt.length,Er=Hr?Rt[on+2]:0,$e=(15&hr)<<2|Er>>6,dt=63&Er;Hr||(dt=64,Ui||($e=64)),_n.push(Qt[gi>>2],Qt[(3&gi)<<4|hr>>4],Qt[$e],Qt[dt])}return _n.join("")},encodeString:function(Rt,Ot){return this.HAS_NATIVE_SUPPORT&&!Ot?btoa(Rt):this.encodeByteArray(de(Rt),Ot)},decodeString:function(Rt,Ot){return this.HAS_NATIVE_SUPPORT&&!Ot?atob(Rt):function(Rt){for(var Ot=[],Qt=0,_n=0;Qt<Rt.length;){var on=Rt[Qt++];if(on<128)Ot[_n++]=String.fromCharCode(on);else if(on>191&&on<224){var gi=Rt[Qt++];Ot[_n++]=String.fromCharCode((31&on)<<6|63&gi)}else if(on>239&&on<365){var Hr=((7&on)<<18|(63&(gi=Rt[Qt++]))<<12|(63&(Ui=Rt[Qt++]))<<6|63&Rt[Qt++])-65536;Ot[_n++]=String.fromCharCode(55296+(Hr>>10)),Ot[_n++]=String.fromCharCode(56320+(1023&Hr))}else{gi=Rt[Qt++];var Ui=Rt[Qt++];Ot[_n++]=String.fromCharCode((15&on)<<12|(63&gi)<<6|63&Ui)}}return Ot.join("")}(this.decodeStringToByteArray(Rt,Ot))},decodeStringToByteArray:function(Rt,Ot){this.init_();for(var Qt=Ot?this.charToByteMapWebSafe_:this.charToByteMap_,_n=[],on=0;on<Rt.length;){var gi=Qt[Rt.charAt(on++)],hr=on<Rt.length?Qt[Rt.charAt(on)]:0,Er=++on<Rt.length?Qt[Rt.charAt(on)]:64,Ye=++on<Rt.length?Qt[Rt.charAt(on)]:64;if(++on,null==gi||null==hr||null==Er||null==Ye)throw Error();_n.push(gi<<2|hr>>4),64!==Er&&(_n.push(hr<<4&240|Er>>2),64!==Ye&&_n.push(Er<<6&192|Ye))}return _n},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var Rt=0;Rt<this.ENCODED_VALS.length;Rt++)this.byteToCharMap_[Rt]=this.ENCODED_VALS.charAt(Rt),this.charToByteMap_[this.byteToCharMap_[Rt]]=Rt,this.byteToCharMapWebSafe_[Rt]=this.ENCODED_VALS_WEBSAFE.charAt(Rt),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Rt]]=Rt,Rt>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Rt)]=Rt,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Rt)]=Rt)}}},Me=function(Rt){var Ot=de(Rt);return Ee.encodeByteArray(Ot,!0)},Be=function(Rt){try{return Ee.decodeString(Rt,!0)}catch(Ot){console.error("base64Decode failed: ",Ot)}return null};function Ge(Rt){return Mt(void 0,Rt)}function Mt(Rt,Ot){if(!(Ot instanceof Object))return Ot;switch(Ot.constructor){case Date:return new Date(Ot.getTime());case Object:void 0===Rt&&(Rt={});break;case Array:Rt=[];break;default:return Ot}for(var _n in Ot)!Ot.hasOwnProperty(_n)||!ft(_n)||(Rt[_n]=Mt(Rt[_n],Ot[_n]));return Rt}function ft(Rt){return"__proto__"!==Rt}var Lt=function(){function Rt(){var Ot=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(Qt,_n){Ot.resolve=Qt,Ot.reject=_n})}return Rt.prototype.wrapCallback=function(Ot){var Qt=this;return function(_n,on){_n?Qt.reject(_n):Qt.resolve(on),"function"==typeof Ot&&(Qt.promise.catch(function(){}),1===Ot.length?Ot(_n):Ot(_n,on))}},Rt}();function rn(Rt,Ot){if(Rt.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var _n=Ot||"demo-project",on=Rt.iat||0,gi=Rt.sub||Rt.user_id;if(!gi)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var Ui=(0,o.pi)({iss:"https://securetoken.google.com/"+_n,aud:_n,iat:on,exp:on+3600,auth_time:on,sub:gi,user_id:gi,firebase:{sign_in_provider:"custom",identities:{}}},Rt);return[Ee.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),Ee.encodeString(JSON.stringify(Ui),!1),""].join(".")}function Gt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ct(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gt())}function ii(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Rt){return!1}}function Fn(){return"object"==typeof self&&self.self===self}function Wt(){var Rt="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Rt&&void 0!==Rt.id}function ar(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function us(){return Gt().indexOf("Electron/")>=0}function hi(){var Rt=Gt();return Rt.indexOf("MSIE ")>=0||Rt.indexOf("Trident/")>=0}function zi(){return Gt().indexOf("MSAppHost/")>=0}function Ps(){return!1}function er(){return!ii()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var Yn=function(Rt){function Ot(Qt,_n,on){var gi=Rt.call(this,_n)||this;return gi.code=Qt,gi.customData=on,gi.name="FirebaseError",Object.setPrototypeOf(gi,Ot.prototype),Error.captureStackTrace&&Error.captureStackTrace(gi,vn.prototype.create),gi}return(0,o.ZT)(Ot,Rt),Ot}(Error),vn=function(){function Rt(Ot,Qt,_n){this.service=Ot,this.serviceName=Qt,this.errors=_n}return Rt.prototype.create=function(Ot){for(var Qt=[],_n=1;_n<arguments.length;_n++)Qt[_n-1]=arguments[_n];var on=Qt[0]||{},gi=this.service+"/"+Ot,Ui=this.errors[Ot],hr=Ui?ai(Ui,on):"Error",Hr=this.serviceName+": "+hr+" ("+gi+").",Er=new Yn(gi,Hr,on);return Er},Rt}();function ai(Rt,Ot){return Rt.replace(Bi,function(Qt,_n){var on=Ot[_n];return null!=on?String(on):"<"+_n+"?>"})}var Bi=/\{\$([^}]+)}/g;function Vi(Rt){return JSON.parse(Rt)}function fi(Rt){return JSON.stringify(Rt)}var Ti=function(Rt){var Ot={},Qt={},_n={},on="";try{var gi=Rt.split(".");Ot=Vi(Be(gi[0])||""),Qt=Vi(Be(gi[1])||""),on=gi[2],_n=Qt.d||{},delete Qt.d}catch(Ui){}return{header:Ot,claims:Qt,data:_n,signature:on}},Kn=function(Rt){var Qt=Ti(Rt).claims;return!!Qt&&"object"==typeof Qt&&Qt.hasOwnProperty("iat")},Oi=function(Rt){var Ot=Ti(Rt).claims;return"object"==typeof Ot&&!0===Ot.admin};function kr(Rt,Ot){return Object.prototype.hasOwnProperty.call(Rt,Ot)}function xo(Rt,Ot){if(Object.prototype.hasOwnProperty.call(Rt,Ot))return Rt[Ot]}function ss(Rt){for(var Ot in Rt)if(Object.prototype.hasOwnProperty.call(Rt,Ot))return!1;return!0}function Gs(Rt,Ot,Qt){var _n={};for(var on in Rt)Object.prototype.hasOwnProperty.call(Rt,on)&&(_n[on]=Ot.call(Qt,Rt[on],on,Rt));return _n}function lr(Rt){for(var Ot=[],Qt=function(Hr,Er){Array.isArray(Er)?Er.forEach(function(at){Ot.push(encodeURIComponent(Hr)+"="+encodeURIComponent(at))}):Ot.push(encodeURIComponent(Hr)+"="+encodeURIComponent(Er))},_n=0,on=Object.entries(Rt);_n<on.length;_n++){var gi=on[_n];Qt(gi[0],gi[1])}return Ot.length?"&"+Ot.join("&"):""}var tr=function(){function Rt(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var Ot=1;Ot<this.blockSize;++Ot)this.pad_[Ot]=0;this.reset()}return Rt.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},Rt.prototype.compress_=function(Ot,Qt){Qt||(Qt=0);var _n=this.W_;if("string"==typeof Ot)for(var on=0;on<16;on++)_n[on]=Ot.charCodeAt(Qt)<<24|Ot.charCodeAt(Qt+1)<<16|Ot.charCodeAt(Qt+2)<<8|Ot.charCodeAt(Qt+3),Qt+=4;else for(on=0;on<16;on++)_n[on]=Ot[Qt]<<24|Ot[Qt+1]<<16|Ot[Qt+2]<<8|Ot[Qt+3],Qt+=4;for(on=16;on<80;on++)_n[on]=4294967295&((gi=_n[on-3]^_n[on-8]^_n[on-14]^_n[on-16])<<1|gi>>>31);var Ye,$e,Ui=this.chain_[0],hr=this.chain_[1],Hr=this.chain_[2],Er=this.chain_[3],at=this.chain_[4];for(on=0;on<80;on++){on<40?on<20?(Ye=Er^hr&(Hr^Er),$e=1518500249):(Ye=hr^Hr^Er,$e=1859775393):on<60?(Ye=hr&Hr|Er&(hr|Hr),$e=2400959708):(Ye=hr^Hr^Er,$e=3395469782);var gi=(Ui<<5|Ui>>>27)+Ye+at+$e+_n[on]&4294967295;at=Er,Er=Hr,Hr=4294967295&(hr<<30|hr>>>2),hr=Ui,Ui=gi}this.chain_[0]=this.chain_[0]+Ui&4294967295,this.chain_[1]=this.chain_[1]+hr&4294967295,this.chain_[2]=this.chain_[2]+Hr&4294967295,this.chain_[3]=this.chain_[3]+Er&4294967295,this.chain_[4]=this.chain_[4]+at&4294967295},Rt.prototype.update=function(Ot,Qt){if(null!=Ot){void 0===Qt&&(Qt=Ot.length);for(var _n=Qt-this.blockSize,on=0,gi=this.buf_,Ui=this.inbuf_;on<Qt;){if(0===Ui)for(;on<=_n;)this.compress_(Ot,on),on+=this.blockSize;if("string"==typeof Ot){for(;on<Qt;)if(gi[Ui]=Ot.charCodeAt(on),++on,++Ui===this.blockSize){this.compress_(gi),Ui=0;break}}else for(;on<Qt;)if(gi[Ui]=Ot[on],++on,++Ui===this.blockSize){this.compress_(gi),Ui=0;break}}this.inbuf_=Ui,this.total_+=Qt}},Rt.prototype.digest=function(){var Ot=[],Qt=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var _n=this.blockSize-1;_n>=56;_n--)this.buf_[_n]=255&Qt,Qt/=256;this.compress_(this.buf_);var on=0;for(_n=0;_n<5;_n++)for(var gi=24;gi>=0;gi-=8)Ot[on]=this.chain_[_n]>>gi&255,++on;return Ot},Rt}();function wo(Rt,Ot){var Qt=new Ws(Rt,Ot);return Qt.subscribe.bind(Qt)}var Ws=function(){function Rt(Ot,Qt){var _n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Qt,this.task.then(function(){Ot(_n)}).catch(function(on){_n.error(on)})}return Rt.prototype.next=function(Ot){this.forEachObserver(function(Qt){Qt.next(Ot)})},Rt.prototype.error=function(Ot){this.forEachObserver(function(Qt){Qt.error(Ot)}),this.close(Ot)},Rt.prototype.complete=function(){this.forEachObserver(function(Ot){Ot.complete()}),this.close()},Rt.prototype.subscribe=function(Ot,Qt,_n){var gi,on=this;if(void 0===Ot&&void 0===Qt&&void 0===_n)throw new Error("Missing Observer.");void 0===(gi=function(Rt,Ot){if("object"!=typeof Rt||null===Rt)return!1;for(var Qt=0,_n=["next","error","complete"];Qt<_n.length;Qt++){var on=_n[Qt];if(on in Rt&&"function"==typeof Rt[on])return!0}return!1}(Ot)?Ot:{next:Ot,error:Qt,complete:_n}).next&&(gi.next=xr),void 0===gi.error&&(gi.error=xr),void 0===gi.complete&&(gi.complete=xr);var Ui=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{on.finalError?gi.error(on.finalError):gi.complete()}catch(hr){}}),this.observers.push(gi),Ui},Rt.prototype.unsubscribeOne=function(Ot){void 0===this.observers||void 0===this.observers[Ot]||(delete this.observers[Ot],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},Rt.prototype.forEachObserver=function(Ot){if(!this.finalized)for(var Qt=0;Qt<this.observers.length;Qt++)this.sendOne(Qt,Ot)},Rt.prototype.sendOne=function(Ot,Qt){var _n=this;this.task.then(function(){if(void 0!==_n.observers&&void 0!==_n.observers[Ot])try{Qt(_n.observers[Ot])}catch(on){"undefined"!=typeof console&&console.error&&console.error(on)}})},Rt.prototype.close=function(Ot){var Qt=this;this.finalized||(this.finalized=!0,void 0!==Ot&&(this.finalError=Ot),this.task.then(function(){Qt.observers=void 0,Qt.onNoObservers=void 0}))},Rt}();function xr(){}var nr=function(Rt,Ot,Qt,_n){var on;if(_n<Ot?on="at least "+Ot:_n>Qt&&(on=0===Qt?"none":"no more than "+Qt),on)throw new Error(Rt+" failed: Was called with "+_n+(1===_n?" argument.":" arguments.")+" Expects "+on+".")};function Co(Rt,Ot){return Rt+" failed: "+Ot+" argument "}function Qr(Rt,Ot,Qt,_n){if((!_n||Qt)&&"function"!=typeof Qt)throw new Error(Co(Rt,Ot)+"must be a valid function.")}function Ns(Rt,Ot,Qt,_n){if((!_n||Qt)&&("object"!=typeof Qt||null===Qt))throw new Error(Co(Rt,Ot)+"must be a valid context object.")}var Wo=function(Rt){for(var Ot=[],Qt=0,_n=0;_n<Rt.length;_n++){var on=Rt.charCodeAt(_n);if(on>=55296&&on<=56319){var gi=on-55296;_n++,ee(_n<Rt.length,"Surrogate pair missing trail surrogate."),on=65536+(gi<<10)+(Rt.charCodeAt(_n)-56320)}on<128?Ot[Qt++]=on:on<2048?(Ot[Qt++]=on>>6|192,Ot[Qt++]=63&on|128):on<65536?(Ot[Qt++]=on>>12|224,Ot[Qt++]=on>>6&63|128,Ot[Qt++]=63&on|128):(Ot[Qt++]=on>>18|240,Ot[Qt++]=on>>12&63|128,Ot[Qt++]=on>>6&63|128,Ot[Qt++]=63&on|128)}return Ot},Pr=function(Rt){for(var Ot=0,Qt=0;Qt<Rt.length;Qt++){var _n=Rt.charCodeAt(Qt);_n<128?Ot++:_n<2048?Ot+=2:_n>=55296&&_n<=56319?(Ot+=4,Qt++):Ot+=3}return Ot};function Yo(Rt){return Rt&&Rt._delegate?Rt._delegate:Rt}},3300:(Ut,kt,Ae)=>{"use strict";var o;function $(Re){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(Re)}function ee(Re,p){if(!(Re instanceof p))throw new TypeError("Cannot call a class as a function")}function x(Re,p){for(var f=0;f<p.length;f++){var b=p[f];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(Re,b.key,b)}}function de(Re,p,f){return p&&x(Re.prototype,p),f&&x(Re,f),Re}function Ce(Re,p,f){return p in Re?Object.defineProperty(Re,p,{value:f,enumerable:!0,configurable:!0,writable:!0}):Re[p]=f,Re}function Ee(Re,p){var f=Object.keys(Re);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(Re);p&&(b=b.filter(function(S){return Object.getOwnPropertyDescriptor(Re,S).enumerable})),f.push.apply(f,b)}return f}function Me(Re){for(var p=1;p<arguments.length;p++){var f=null!=arguments[p]?arguments[p]:{};p%2?Ee(Object(f),!0).forEach(function(b){Ce(Re,b,f[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Re,Object.getOwnPropertyDescriptors(f)):Ee(Object(f)).forEach(function(b){Object.defineProperty(Re,b,Object.getOwnPropertyDescriptor(f,b))})}return Re}function Be(Re,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");Re.prototype=Object.create(p&&p.prototype,{constructor:{value:Re,writable:!0,configurable:!0}}),p&&Mt(Re,p)}function Ge(Re){return(Ge=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(Re)}function Mt(Re,p){return(Mt=Object.setPrototypeOf||function(f,b){return f.__proto__=b,f})(Re,p)}function ft(Re,p){return!p||"object"!=typeof p&&"function"!=typeof p?function(f){if(void 0===f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}(Re):p}function Lt(Re){var p=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(f){return!1}}();return function(){var f,b=Ge(Re);if(p){var S=Ge(this).constructor;f=Reflect.construct(b,arguments,S)}else f=b.apply(this,arguments);return ft(this,f)}}function rn(Re){return function(p){if(Array.isArray(p))return Gt(p)}(Re)||function(p){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(p))return Array.from(p)}(Re)||function(p,f){if(p){if("string"==typeof p)return Gt(p,f);var b=Object.prototype.toString.call(p).slice(8,-1);if("Object"===b&&p.constructor&&(b=p.constructor.name),"Map"===b||"Set"===b)return Array.from(p);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return Gt(p,f)}}(Re)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gt(Re,p){(null==p||p>Re.length)&&(p=Re.length);for(var f=0,b=new Array(p);f<p;f++)b[f]=Re[f];return b}var ct=function(){function Re(){ee(this,Re)}return de(Re,[{key:"shadeRGBColor",value:function(p,f){var b=f.split(","),S=p<0?0:255,D=p<0?-1*p:p,B=parseInt(b[0].slice(4),10),F=parseInt(b[1],10),Z=parseInt(b[2],10);return"rgb("+(Math.round((S-B)*D)+B)+","+(Math.round((S-F)*D)+F)+","+(Math.round((S-Z)*D)+Z)+")"}},{key:"shadeHexColor",value:function(p,f){var b=parseInt(f.slice(1),16),S=p<0?0:255,D=p<0?-1*p:p,B=b>>16,F=b>>8&255,Z=255&b;return"#"+(16777216+65536*(Math.round((S-B)*D)+B)+256*(Math.round((S-F)*D)+F)+(Math.round((S-Z)*D)+Z)).toString(16).slice(1)}},{key:"shadeColor",value:function(p,f){return Re.isColorHex(f)?this.shadeHexColor(p,f):this.shadeRGBColor(p,f)}}],[{key:"bind",value:function(p,f){return function(){return p.apply(f,arguments)}}},{key:"isObject",value:function(p){return p&&"object"===$(p)&&!Array.isArray(p)&&null!=p}},{key:"listToArray",value:function(p){var f,b=[];for(f=0;f<p.length;f++)b[f]=p[f];return b}},{key:"extend",value:function(p,f){var b=this;"function"!=typeof Object.assign&&(Object.assign=function(D){if(null==D)throw new TypeError("Cannot convert undefined or null to object");for(var B=Object(D),F=1;F<arguments.length;F++){var Z=arguments[F];if(null!=Z)for(var q in Z)Z.hasOwnProperty(q)&&(B[q]=Z[q])}return B});var S=Object.assign({},p);return this.isObject(p)&&this.isObject(f)&&Object.keys(f).forEach(function(D){b.isObject(f[D])&&D in p?S[D]=b.extend(p[D],f[D]):Object.assign(S,Ce({},D,f[D]))}),S}},{key:"extendArray",value:function(p,f){var b=[];return p.map(function(S){b.push(Re.extend(f,S))}),b}},{key:"monthMod",value:function(p){return p%12}},{key:"clone",value:function(p){if("[object Array]"===Object.prototype.toString.call(p)){for(var f=[],b=0;b<p.length;b++)f[b]=this.clone(p[b]);return f}if("[object Null]"===Object.prototype.toString.call(p))return null;if("[object Date]"===Object.prototype.toString.call(p))return p;if("object"===$(p)){var S={};for(var D in p)p.hasOwnProperty(D)&&(S[D]=this.clone(p[D]));return S}return p}},{key:"log10",value:function(p){return Math.log(p)/Math.LN10}},{key:"roundToBase10",value:function(p){return Math.pow(10,Math.floor(Math.log10(p)))}},{key:"roundToBase",value:function(p,f){return Math.pow(f,Math.floor(Math.log(p)/Math.log(f)))}},{key:"parseNumber",value:function(p){return null===p?p:parseFloat(p)}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(p){var f=String(p).split(/[eE]/);if(1===f.length)return f[0];var b="",S=p<0?"-":"",D=f[0].replace(".",""),B=Number(f[1])+1;if(B<0){for(b=S+"0.";B++;)b+="0";return b+D.replace(/^-/,"")}for(B-=D.length;B--;)b+="0";return D+b}},{key:"getDimensions",value:function(p){var f=getComputedStyle(p,null),b=p.clientHeight,S=p.clientWidth;return b-=parseFloat(f.paddingTop)+parseFloat(f.paddingBottom),[S-=parseFloat(f.paddingLeft)+parseFloat(f.paddingRight),b]}},{key:"getBoundingClientRect",value:function(p){var f=p.getBoundingClientRect();return{top:f.top,right:f.right,bottom:f.bottom,left:f.left,width:p.clientWidth,height:p.clientHeight,x:f.left,y:f.top}}},{key:"getLargestStringFromArr",value:function(p){return p.reduce(function(f,b){return Array.isArray(b)&&(b=b.reduce(function(S,D){return S.length>D.length?S:D})),f.length>b.length?f:b},0)}},{key:"hexToRgba",value:function(){var p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#999999",f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.6;"#"!==p.substring(0,1)&&(p="#999999");var b=p.replace("#","");b=b.match(new RegExp("(.{"+b.length/3+"})","g"));for(var S=0;S<b.length;S++)b[S]=parseInt(1===b[S].length?b[S]+b[S]:b[S],16);return void 0!==f&&b.push(f),"rgba("+b.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(p){return parseFloat(p.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(p){return(p=p.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===p.length?"#"+("0"+parseInt(p[1],10).toString(16)).slice(-2)+("0"+parseInt(p[2],10).toString(16)).slice(-2)+("0"+parseInt(p[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(p){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(p)}},{key:"getPolygonPos",value:function(p,f){for(var b=[],S=2*Math.PI/f,D=0;D<f;D++){var B={};B.x=p*Math.sin(D*S),B.y=-p*Math.cos(D*S),b.push(B)}return b}},{key:"polarToCartesian",value:function(p,f,b,S){var D=(S-90)*Math.PI/180;return{x:p+b*Math.cos(D),y:f+b*Math.sin(D)}}},{key:"escapeString",value:function(p){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",b=p.toString().slice();return b.replace(/[` ~!@#$%^&*()_|+\-=?;:'",.<>{}[\]\\/]/gi,f)}},{key:"negToZero",value:function(p){return p<0?0:p}},{key:"moveIndexInArray",value:function(p,f,b){if(b>=p.length)for(var S=b-p.length+1;S--;)p.push(void 0);return p.splice(b,0,p.splice(f,1)[0]),p}},{key:"extractNumber",value:function(p){return parseFloat(p.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(p,f){for(;(p=p.parentElement)&&!p.classList.contains(f););return p}},{key:"setELstyles",value:function(p,f){for(var b in f)f.hasOwnProperty(b)&&(p.style.key=f[b])}},{key:"isNumber",value:function(p){return!isNaN(p)&&parseFloat(Number(p))===p&&!isNaN(parseInt(p,10))}},{key:"isFloat",value:function(p){return Number(p)===p&&p%1!=0}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"isFirefox",value:function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1}},{key:"isIE11",value:function(){if(-1!==window.navigator.userAgent.indexOf("MSIE")||window.navigator.appVersion.indexOf("Trident/")>-1)return!0}},{key:"isIE",value:function(){var p=window.navigator.userAgent,f=p.indexOf("MSIE ");if(f>0)return parseInt(p.substring(f+5,p.indexOf(".",f)),10);if(p.indexOf("Trident/")>0){var b=p.indexOf("rv:");return parseInt(p.substring(b+3,p.indexOf(".",b)),10)}var S=p.indexOf("Edge/");return S>0&&parseInt(p.substring(S+5,p.indexOf(".",S)),10)}},{key:"sanitizeDom",value:function(p){return String(p).replace(/\&/g,"&amp;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;").replace(/\"/g,"&quot;")}}]),Re}(),ii=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w,this.setEasingFunctions()}return de(Re,[{key:"setEasingFunctions",value:function(){var p;if(!this.w.globals.easing){switch(this.w.config.chart.animations.easing){case"linear":p="-";break;case"easein":p="<";break;case"easeout":p=">";break;case"easeinout":p="<>";break;case"swing":p=function(f){var b=1.70158;return(f-=1)*f*((b+1)*f+b)+1};break;case"bounce":p=function(f){return f<1/2.75?7.5625*f*f:f<2/2.75?7.5625*(f-=1.5/2.75)*f+.75:f<2.5/2.75?7.5625*(f-=2.25/2.75)*f+.9375:7.5625*(f-=2.625/2.75)*f+.984375};break;case"elastic":p=function(f){return f===!!f?f:Math.pow(2,-10*f)*Math.sin((f-.075)*(2*Math.PI)/.3)+1};break;default:p="<>"}this.w.globals.easing=p}}},{key:"animateLine",value:function(p,f,b,S){p.attr(f).animate(S).attr(b)}},{key:"animateMarker",value:function(p,f,b,S,D,B){f||(f=0),p.attr({r:f,width:f,height:f}).animate(S,D).attr({r:b,width:b.width,height:b.height}).afterAll(function(){B()})}},{key:"animateCircle",value:function(p,f,b,S,D){p.attr({r:f.r,cx:f.cx,cy:f.cy}).animate(S,D).attr({r:b.r,cx:b.cx,cy:b.cy})}},{key:"animateRect",value:function(p,f,b,S,D){p.attr(f).animate(S).attr(b).afterAll(function(){return D()})}},{key:"animatePathsGradually",value:function(p){var oe=this.w,ue=0;oe.config.chart.animations.animateGradually.enabled&&(ue=oe.config.chart.animations.animateGradually.delay),oe.config.chart.animations.dynamicAnimation.enabled&&oe.globals.dataChanged&&"bar"!==oe.config.chart.type&&(ue=0),this.morphSVG(p.el,p.realIndex,p.j,"line"!==oe.config.chart.type||oe.globals.comboCharts?p.fill:"stroke",p.pathFrom,p.pathTo,p.speed,p.delay*ue)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach(function(p){p.el.classList.remove("apexcharts-element-hidden")})}},{key:"animationCompleted",value:function(p){var f=this.w;f.globals.animationEnded||(f.globals.animationEnded=!0,this.showDelayedElements(),"function"==typeof f.config.chart.events.animationEnd&&f.config.chart.events.animationEnd(this.ctx,{el:p,w:f}))}},{key:"morphSVG",value:function(p,f,b,S,D,B,F,Z){var q=this,oe=this.w;D||(D=p.attr("pathFrom")),B||(B=p.attr("pathTo"));var ue=function(ae){return"radar"===oe.config.chart.type&&(F=1),"M 0 ".concat(oe.globals.gridHeight)};(!D||D.indexOf("undefined")>-1||D.indexOf("NaN")>-1)&&(D=ue()),(!B||B.indexOf("undefined")>-1||B.indexOf("NaN")>-1)&&(B=ue()),oe.globals.shouldAnimate||(F=1),p.plot(D).animate(1,oe.globals.easing,Z).plot(D).animate(F,oe.globals.easing,Z).plot(B).afterAll(function(){ct.isNumber(b)?b===oe.globals.series[oe.globals.maxValsInArrayIndex].length-2&&oe.globals.shouldAnimate&&q.animationCompleted(p):"none"!==S&&oe.globals.shouldAnimate&&(!oe.globals.comboCharts&&f===oe.globals.series.length-1||oe.globals.comboCharts)&&q.animationCompleted(p),q.showDelayedElements()})}}]),Re}(),Fn=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w}return de(Re,[{key:"getDefaultFilter",value:function(p,f){var b=this.w;p.unfilter(!0),(new window.SVG.Filter).size("120%","180%","-5%","-40%"),"none"!==b.config.states.normal.filter?this.applyFilter(p,f,b.config.states.normal.filter.type,b.config.states.normal.filter.value):b.config.chart.dropShadow.enabled&&this.dropShadow(p,b.config.chart.dropShadow,f)}},{key:"addNormalFilter",value:function(p,f){var b=this.w;b.config.chart.dropShadow.enabled&&!p.node.classList.contains("apexcharts-marker")&&this.dropShadow(p,b.config.chart.dropShadow,f)}},{key:"addLightenFilter",value:function(p,f,b){var S=this,D=this.w,B=b.intensity;p.unfilter(!0),new window.SVG.Filter,p.filter(function(F){var Z=D.config.chart.dropShadow;(Z.enabled?S.addShadow(F,f,Z):F).componentTransfer({rgb:{type:"linear",slope:1.5,intercept:B}})}),p.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(p.filterer.node)}},{key:"addDarkenFilter",value:function(p,f,b){var S=this,D=this.w,B=b.intensity;p.unfilter(!0),new window.SVG.Filter,p.filter(function(F){var Z=D.config.chart.dropShadow;(Z.enabled?S.addShadow(F,f,Z):F).componentTransfer({rgb:{type:"linear",slope:B}})}),p.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(p.filterer.node)}},{key:"applyFilter",value:function(p,f,b){var S=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;switch(b){case"none":this.addNormalFilter(p,f);break;case"lighten":this.addLightenFilter(p,f,{intensity:S});break;case"darken":this.addDarkenFilter(p,f,{intensity:S})}}},{key:"addShadow",value:function(p,f,b){var S=b.blur,D=b.top,B=b.left,F=b.color,Z=b.opacity,q=p.flood(Array.isArray(F)?F[f]:F,Z).composite(p.sourceAlpha,"in").offset(B,D).gaussianBlur(S).merge(p.source);return p.blend(p.source,q)}},{key:"dropShadow",value:function(p,f){var b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,S=f.top,D=f.left,B=f.blur,F=f.color,Z=f.opacity,q=f.noUserSpaceOnUse,oe=this.w;return p.unfilter(!0),ct.isIE()&&"radialBar"===oe.config.chart.type||(F=Array.isArray(F)?F[b]:F,p.filter(function(ue){var ae;ae=ct.isSafari()||ct.isFirefox()||ct.isIE()?ue.flood(F,Z).composite(ue.sourceAlpha,"in").offset(D,S).gaussianBlur(B):ue.flood(F,Z).composite(ue.sourceAlpha,"in").offset(D,S).gaussianBlur(B).merge(ue.source),ue.blend(ue.source,ae)}),q||p.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(p.filterer.node)),p}},{key:"setSelectionFilter",value:function(p,f,b){var S=this.w;if(void 0!==S.globals.selectedDataPoints[f]&&S.globals.selectedDataPoints[f].indexOf(b)>-1){p.node.setAttribute("selected",!0);var D=S.config.states.active.filter;"none"!==D&&this.applyFilter(p,f,D.type,D.value)}}},{key:"_scaleFilterSize",value:function(p){!function(f){for(var b in f)f.hasOwnProperty(b)&&p.setAttribute(b,f[b])}({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),Re}(),Wt=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w}return de(Re,[{key:"drawLine",value:function(p,f,b,S){var D=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#a8a8a8",B=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,F=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,Z=this.w,q=Z.globals.dom.Paper.line().attr({x1:p,y1:f,x2:b,y2:S,stroke:D,"stroke-dasharray":B,"stroke-width":F});return q}},{key:"drawRect",value:function(){var p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,S=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,D=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,B=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"#fefefe",F=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,Z=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,q=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,oe=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,ue=this.w,ae=ue.globals.dom.Paper.rect();return ae.attr({x:p,y:f,width:b>0?b:0,height:S>0?S:0,rx:D,ry:D,opacity:F,"stroke-width":null!==Z?Z:0,stroke:null!==q?q:"none","stroke-dasharray":oe}),ae.node.setAttribute("fill",B),ae}},{key:"drawPolygon",value:function(p){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#e1e1e1",b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,S=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none",D=this.w,B=D.globals.dom.Paper.polygon(p).attr({fill:S,stroke:f,"stroke-width":b});return B}},{key:"drawCircle",value:function(p){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,b=this.w;p<0&&(p=0);var S=b.globals.dom.Paper.circle(2*p);return null!==f&&S.attr(f),S}},{key:"drawPath",value:function(p){var f=p.d,b=void 0===f?"":f,S=p.stroke,D=void 0===S?"#a8a8a8":S,B=p.strokeWidth,F=void 0===B?1:B,Z=p.fill,q=p.fillOpacity,oe=void 0===q?1:q,ue=p.strokeOpacity,ae=void 0===ue?1:ue,_e=p.classes,Ie=p.strokeLinecap,Pe=void 0===Ie?null:Ie,ze=p.strokeDashArray,We=void 0===ze?0:ze,st=this.w;return null===Pe&&(Pe=st.config.stroke.lineCap),(b.indexOf("undefined")>-1||b.indexOf("NaN")>-1)&&(b="M 0 ".concat(st.globals.gridHeight)),st.globals.dom.Paper.path(b).attr({fill:Z,"fill-opacity":oe,stroke:D,"stroke-opacity":ae,"stroke-linecap":Pe,"stroke-width":F,"stroke-dasharray":We,class:_e})}},{key:"group",value:function(){var p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,f=this.w,b=f.globals.dom.Paper.group();return null!==p&&b.attr(p),b}},{key:"move",value:function(p,f){return["M",p,f].join(" ")}},{key:"line",value:function(p,f){var b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,S=null;return null===b?S=["L",p,f].join(" "):"H"===b?S=["H",p].join(" "):"V"===b&&(S=["V",f].join(" ")),S}},{key:"curve",value:function(p,f,b,S,D,B){return["C",p,f,b,S,D,B].join(" ")}},{key:"quadraticCurve",value:function(p,f,b,S){return["Q",p,f,b,S].join(" ")}},{key:"arc",value:function(p,f,b,S,D,B,F){var Z=arguments.length>7&&void 0!==arguments[7]&&arguments[7],q="A";Z&&(q="a");var oe=[q,p,f,b,S,D,B,F].join(" ");return oe}},{key:"renderPaths",value:function(p){var f,b=p.j,S=p.realIndex,D=p.pathFrom,B=p.pathTo,F=p.stroke,Z=p.strokeWidth,q=p.strokeLinecap,oe=p.fill,ue=p.animationDelay,ae=p.initialSpeed,_e=p.dataChangeSpeed,Ie=p.className,Pe=p.shouldClipToGrid,ze=void 0===Pe||Pe,We=p.bindEventsOnPaths,st=void 0===We||We,bt=p.drawShadow,X=void 0===bt||bt,he=this.w,Ne=new Fn(this.ctx),Je=new ii(this.ctx),mt=this.w.config.chart.animations.enabled,ln=mt&&this.w.config.chart.animations.dynamicAnimation.enabled,qt=!!(mt&&!he.globals.resized||ln&&he.globals.dataChanged&&he.globals.shouldAnimate);qt?f=D:(f=B,he.globals.animationEnded=!0);var Vn,un=he.config.stroke.dashArray;Vn=Array.isArray(un)?un[S]:he.config.stroke.dashArray;var zn=this.drawPath({d:f,stroke:F,strokeWidth:Z,fill:oe,fillOpacity:1,classes:Ie,strokeLinecap:q,strokeDashArray:Vn});zn.attr("index",S),ze&&zn.attr({"clip-path":"url(#gridRectMask".concat(he.globals.cuid,")")}),"none"!==he.config.states.normal.filter.type?Ne.getDefaultFilter(zn,S):he.config.chart.dropShadow.enabled&&X&&(!he.config.chart.dropShadow.enabledOnSeries||he.config.chart.dropShadow.enabledOnSeries&&-1!==he.config.chart.dropShadow.enabledOnSeries.indexOf(S))&&Ne.dropShadow(zn,he.config.chart.dropShadow,S),st&&(zn.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,zn)),zn.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,zn)),zn.node.addEventListener("mousedown",this.pathMouseDown.bind(this,zn))),zn.attr({pathTo:B,pathFrom:D});var pr={el:zn,j:b,realIndex:S,pathFrom:D,pathTo:B,fill:oe,strokeWidth:Z,delay:ue};return!mt||he.globals.resized||he.globals.dataChanged?!he.globals.resized&&he.globals.dataChanged||Je.showDelayedElements():Je.animatePathsGradually(Me(Me({},pr),{},{speed:ae})),he.globals.dataChanged&&ln&&qt&&Je.animatePathsGradually(Me(Me({},pr),{},{speed:_e})),zn}},{key:"drawPattern",value:function(p,f,b){var S=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#a8a8a8",D=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,B=this.w,F=B.globals.dom.Paper.pattern(f,b,function(Z){"horizontalLines"===p?Z.line(0,0,b,0).stroke({color:S,width:D+1}):"verticalLines"===p?Z.line(0,0,0,f).stroke({color:S,width:D+1}):"slantedLines"===p?Z.line(0,0,f,b).stroke({color:S,width:D}):"squares"===p?Z.rect(f,b).fill("none").stroke({color:S,width:D}):"circles"===p&&Z.circle(f).fill("none").stroke({color:S,width:D})});return F}},{key:"drawGradient",value:function(p,f,b,S,D){var B,F=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,Z=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,q=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,oe=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,ue=this.w;f.length<9&&0===f.indexOf("#")&&(f=ct.hexToRgba(f,S)),b.length<9&&0===b.indexOf("#")&&(b=ct.hexToRgba(b,D));var ae=0,_e=1,Ie=1,Pe=null;null!==Z&&(ae=void 0!==Z[0]?Z[0]/100:0,_e=void 0!==Z[1]?Z[1]/100:1,Ie=void 0!==Z[2]?Z[2]/100:1,Pe=void 0!==Z[3]?Z[3]/100:null);var ze=!("donut"!==ue.config.chart.type&&"pie"!==ue.config.chart.type&&"polarArea"!==ue.config.chart.type&&"bubble"!==ue.config.chart.type);if(B=ue.globals.dom.Paper.gradient(ze?"radial":"linear",null===q||0===q.length?function(bt){bt.at(ae,f,S),bt.at(_e,b,D),bt.at(Ie,b,D),null!==Pe&&bt.at(Pe,f,S)}:function(bt){(Array.isArray(q[oe])?q[oe]:q).forEach(function(X){bt.at(X.offset/100,X.color,X.opacity)})}),ze){var We=ue.globals.gridWidth/2,st=ue.globals.gridHeight/2;B.attr("bubble"!==ue.config.chart.type?{gradientUnits:"userSpaceOnUse",cx:We,cy:st,r:F}:{cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else"vertical"===p?B.from(0,0).to(0,1):"diagonal"===p?B.from(0,0).to(1,1):"horizontal"===p?B.from(0,1).to(1,1):"diagonal2"===p&&B.from(1,0).to(0,1);return B}},{key:"drawText",value:function(p){var f,b=p.x,S=p.y,D=p.text,B=p.textAnchor,F=p.fontSize,Z=p.fontFamily,q=p.fontWeight,oe=p.foreColor,ue=p.opacity,ae=p.cssClass,_e=void 0===ae?"":ae,Ie=p.isPlainText,Pe=void 0===Ie||Ie,ze=this.w;return void 0===D&&(D=""),B||(B="start"),oe&&oe.length||(oe=ze.config.chart.foreColor),Z=Z||ze.config.chart.fontFamily,q=q||"regular",(f=Array.isArray(D)?ze.globals.dom.Paper.text(function(We){for(var st=0;st<D.length;st++)0===st?We.tspan(D[st]):We.tspan(D[st]).newLine()}):Pe?ze.globals.dom.Paper.plain(D):ze.globals.dom.Paper.text(function(We){return We.tspan(D)})).attr({x:b,y:S,"text-anchor":B,"dominant-baseline":"auto","font-size":F,"font-family":Z,"font-weight":q,fill:oe,class:"apexcharts-text "+_e}),f.node.style.fontFamily=Z,f.node.style.opacity=ue,f}},{key:"drawMarker",value:function(p,f,b){p=p||0;var S=b.pSize||0,D=null;if("square"===b.shape||"rect"===b.shape){var B=void 0===b.pRadius?S/2:b.pRadius;null!==f&&S||(S=0,B=0);var F=1.2*S+B,Z=this.drawRect(F,F,F,F,B);Z.attr({x:p-F/2,y:f-F/2,cx:p,cy:f,class:b.class?b.class:"",fill:b.pointFillColor,"fill-opacity":b.pointFillOpacity?b.pointFillOpacity:1,stroke:b.pointStrokeColor,"stroke-width":b.pointStrokeWidth?b.pointStrokeWidth:0,"stroke-opacity":b.pointStrokeOpacity?b.pointStrokeOpacity:1}),D=Z}else"circle"!==b.shape&&b.shape||(ct.isNumber(f)||(S=0,f=0),D=this.drawCircle(S,{cx:p,cy:f,class:b.class?b.class:"",stroke:b.pointStrokeColor,fill:b.pointFillColor,"fill-opacity":b.pointFillOpacity?b.pointFillOpacity:1,"stroke-width":b.pointStrokeWidth?b.pointStrokeWidth:0,"stroke-opacity":b.pointStrokeOpacity?b.pointStrokeOpacity:1}));return D}},{key:"pathMouseEnter",value:function(p,f){var b=this.w,S=new Fn(this.ctx),D=parseInt(p.node.getAttribute("index"),10),B=parseInt(p.node.getAttribute("j"),10);if("function"==typeof b.config.chart.events.dataPointMouseEnter&&b.config.chart.events.dataPointMouseEnter(f,this.ctx,{seriesIndex:D,dataPointIndex:B,w:b}),this.ctx.events.fireEvent("dataPointMouseEnter",[f,this.ctx,{seriesIndex:D,dataPointIndex:B,w:b}]),("none"===b.config.states.active.filter.type||"true"!==p.node.getAttribute("selected"))&&"none"!==b.config.states.hover.filter.type&&"none"!==b.config.states.active.filter.type&&!b.globals.isTouchDevice){var F=b.config.states.hover.filter;S.applyFilter(p,D,F.type,F.value)}}},{key:"pathMouseLeave",value:function(p,f){var b=this.w,S=new Fn(this.ctx),D=parseInt(p.node.getAttribute("index"),10),B=parseInt(p.node.getAttribute("j"),10);"function"==typeof b.config.chart.events.dataPointMouseLeave&&b.config.chart.events.dataPointMouseLeave(f,this.ctx,{seriesIndex:D,dataPointIndex:B,w:b}),this.ctx.events.fireEvent("dataPointMouseLeave",[f,this.ctx,{seriesIndex:D,dataPointIndex:B,w:b}]),"none"!==b.config.states.active.filter.type&&"true"===p.node.getAttribute("selected")||"none"!==b.config.states.hover.filter.type&&S.getDefaultFilter(p,D)}},{key:"pathMouseDown",value:function(p,f){var b=this.w,S=new Fn(this.ctx),D=parseInt(p.node.getAttribute("index"),10),B=parseInt(p.node.getAttribute("j"),10),F="false";if("true"===p.node.getAttribute("selected")){if(p.node.setAttribute("selected","false"),b.globals.selectedDataPoints[D].indexOf(B)>-1){var Z=b.globals.selectedDataPoints[D].indexOf(B);b.globals.selectedDataPoints[D].splice(Z,1)}}else{if(!b.config.states.active.allowMultipleDataPointsSelection&&b.globals.selectedDataPoints.length>0){b.globals.selectedDataPoints=[];var q=b.globals.dom.Paper.select(".apexcharts-series path").members,oe=b.globals.dom.Paper.select(".apexcharts-series circle, .apexcharts-series rect").members,ue=function(_e){Array.prototype.forEach.call(_e,function(Ie){Ie.node.setAttribute("selected","false"),S.getDefaultFilter(Ie,D)})};ue(q),ue(oe)}p.node.setAttribute("selected","true"),F="true",void 0===b.globals.selectedDataPoints[D]&&(b.globals.selectedDataPoints[D]=[]),b.globals.selectedDataPoints[D].push(B)}if("true"===F){var ae=b.config.states.active.filter;"none"!==ae&&S.applyFilter(p,D,ae.type,ae.value)}else"none"!==b.config.states.active.filter.type&&S.getDefaultFilter(p,D);"function"==typeof b.config.chart.events.dataPointSelection&&b.config.chart.events.dataPointSelection(f,this.ctx,{selectedDataPoints:b.globals.selectedDataPoints,seriesIndex:D,dataPointIndex:B,w:b}),f&&this.ctx.events.fireEvent("dataPointSelection",[f,this.ctx,{selectedDataPoints:b.globals.selectedDataPoints,seriesIndex:D,dataPointIndex:B,w:b}])}},{key:"rotateAroundCenter",value:function(p){var f=p.getBBox();return{x:f.x+f.width/2,y:f.y+f.height/2}}},{key:"getTextRects",value:function(p,f,b,S){var D=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],B=this.w,F=this.drawText({x:-200,y:-200,text:p,textAnchor:"start",fontSize:f,fontFamily:b,foreColor:"#fff",opacity:0});S&&F.attr("transform",S),B.globals.dom.Paper.add(F);var Z=F.bbox();return D||(Z=F.node.getBoundingClientRect()),F.remove(),{width:Z.width,height:Z.height}}},{key:"placeTextWithEllipsis",value:function(p,f,b){if("function"==typeof p.getComputedTextLength&&(p.textContent=f,f.length>0&&p.getComputedTextLength()>=b/1.1)){for(var S=f.length-3;S>0;S-=3)if(p.getSubStringLength(0,S)<=b/1.1)return void(p.textContent=f.substring(0,S)+"...");p.textContent="."}}}],[{key:"setAttrs",value:function(p,f){for(var b in f)f.hasOwnProperty(b)&&p.setAttribute(b,f[b])}}]),Re}(),ar=function(){function Re(p){ee(this,Re),this.w=p.w,this.annoCtx=p}return de(Re,[{key:"setOrientations",value:function(p){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,b=this.w;if("vertical"===p.label.orientation){var S=null!==f?f:0,D=b.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(S,"']"));if(null!==D){var B=D.getBoundingClientRect();D.setAttribute("x",parseFloat(D.getAttribute("x"))-B.height+4),D.setAttribute("y","top"===p.label.position?parseFloat(D.getAttribute("y"))+B.width:parseFloat(D.getAttribute("y"))-B.width);var F=this.annoCtx.graphics.rotateAroundCenter(D),Z=F.x,q=F.y;D.setAttribute("transform","rotate(-90 ".concat(Z," ").concat(q,")"))}}}},{key:"addBackgroundToAnno",value:function(p,f){var b=this.w;if(!p||!f.label.text||f.label.text&&!f.label.text.trim())return null;var S=b.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),D=p.getBoundingClientRect(),B=f.label.style.padding.left,F=f.label.style.padding.right,Z=f.label.style.padding.top,q=f.label.style.padding.bottom;"vertical"===f.label.orientation&&(Z=f.label.style.padding.left,q=f.label.style.padding.right,B=f.label.style.padding.top,F=f.label.style.padding.bottom);var ae=this.annoCtx.graphics.drawRect(D.left-S.left-B-b.globals.barPadForNumericAxis,D.top-S.top-Z,D.width+B+F,D.height+Z+q,f.label.borderRadius,f.label.style.background,1,f.label.borderWidth,f.label.borderColor,0);return f.id&&ae.node.classList.add(f.id),ae}},{key:"annotationsBackground",value:function(){var p=this,f=this.w,b=function(S,D,B){var F=f.globals.dom.baseEl.querySelector(".apexcharts-".concat(B,"-annotations .apexcharts-").concat(B,"-annotation-label[rel='").concat(D,"']"));if(F){var Z=F.parentNode,q=p.addBackgroundToAnno(F,S);q&&Z.insertBefore(q.node,F)}};f.config.annotations.xaxis.map(function(S,D){b(S,D,"xaxis")}),f.config.annotations.yaxis.map(function(S,D){b(S,D,"yaxis")}),f.config.annotations.points.map(function(S,D){b(S,D,"point")})}},{key:"getStringX",value:function(p){var f=this.w,b=p;f.config.xaxis.convertedCatToNumeric&&f.globals.categoryLabels.length&&(p=f.globals.categoryLabels.indexOf(p)+1);var S=f.globals.labels.indexOf(p),D=f.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child("+(S+1)+")");return D&&(b=parseFloat(D.getAttribute("x"))),b}}]),Re}(),us=function(){function Re(p){ee(this,Re),this.w=p.w,this.annoCtx=p,this.invertAxis=this.annoCtx.invertAxis}return de(Re,[{key:"addXaxisAnnotation",value:function(p,f,b){var S=this.w,D=this.invertAxis?S.globals.minY:S.globals.minX,B=this.invertAxis?S.globals.maxY:S.globals.maxX,F=this.invertAxis?S.globals.yRange[0]:S.globals.xRange,Z=(p.x-D)/(F/S.globals.gridWidth);this.annoCtx.inversedReversedAxis&&(Z=(B-p.x)/(F/S.globals.gridWidth));var q=p.label.text;"category"!==S.config.xaxis.type&&!S.config.xaxis.convertedCatToNumeric||this.invertAxis||S.globals.dataFormatXNumeric||(Z=this.annoCtx.helpers.getStringX(p.x));var oe=p.strokeDashArray;if(ct.isNumber(Z)){if(null==p.x2){var ue=this.annoCtx.graphics.drawLine(Z+p.offsetX,0+p.offsetY,Z+p.offsetX,S.globals.gridHeight+p.offsetY,p.borderColor,oe,p.borderWidth);f.appendChild(ue.node),p.id&&ue.node.classList.add(p.id)}else{var ae=(p.x2-D)/(F/S.globals.gridWidth);if(this.annoCtx.inversedReversedAxis&&(ae=(B-p.x2)/(F/S.globals.gridWidth)),"category"!==S.config.xaxis.type&&!S.config.xaxis.convertedCatToNumeric||this.invertAxis||S.globals.dataFormatXNumeric||(ae=this.annoCtx.helpers.getStringX(p.x2)),ae<Z){var _e=Z;Z=ae,ae=_e}var Ie=this.annoCtx.graphics.drawRect(Z+p.offsetX,0+p.offsetY,ae-Z,S.globals.gridHeight+p.offsetY,0,p.fillColor,p.opacity,1,p.borderColor,oe);Ie.node.classList.add("apexcharts-annotation-rect"),Ie.attr("clip-path","url(#gridRectMask".concat(S.globals.cuid,")")),f.appendChild(Ie.node),p.id&&Ie.node.classList.add(p.id)}var Pe="top"===p.label.position?4:S.globals.gridHeight,ze=this.annoCtx.graphics.getTextRects(q,parseFloat(p.label.style.fontSize)),We=this.annoCtx.graphics.drawText({x:Z+p.label.offsetX,y:Pe+p.label.offsetY-("vertical"===p.label.orientation?"top"===p.label.position?ze.width/2-12:-ze.width/2:0),text:q,textAnchor:p.label.textAnchor,fontSize:p.label.style.fontSize,fontFamily:p.label.style.fontFamily,fontWeight:p.label.style.fontWeight,foreColor:p.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(p.label.style.cssClass," ").concat(p.id?p.id:"")});We.attr({rel:b}),f.appendChild(We.node),this.annoCtx.helpers.setOrientations(p,b)}}},{key:"drawXAxisAnnotations",value:function(){var p=this,f=this.w,b=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return f.config.annotations.xaxis.map(function(S,D){p.addXaxisAnnotation(S,b.node,D)}),b}}]),Re}(),hi=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w}return de(Re,[{key:"getStackedSeriesTotals",value:function(){var p=this.w,f=[];if(0===p.globals.series.length)return f;for(var b=0;b<p.globals.series[p.globals.maxValsInArrayIndex].length;b++){for(var S=0,D=0;D<p.globals.series.length;D++)void 0!==p.globals.series[D][b]&&(S+=p.globals.series[D][b]);f.push(S)}return p.globals.stackedSeriesTotals=f,f}},{key:"getSeriesTotalByIndex",value:function(){var p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null===p?this.w.config.series.reduce(function(f,b){return f+b},0):this.w.globals.series[p].reduce(function(f,b){return f+b},0)}},{key:"isSeriesNull",value:function(){var p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return 0===(null===p?this.w.config.series.filter(function(f){return null!==f}):this.w.config.series[p].data.filter(function(f){return null!==f})).length}},{key:"seriesHaveSameValues",value:function(p){return this.w.globals.series[p].every(function(f,b,S){return f===S[0]})}},{key:"getCategoryLabels",value:function(p){var f=this.w,b=p.slice();return f.config.xaxis.convertedCatToNumeric&&(b=p.map(function(S,D){return f.config.xaxis.labels.formatter(S-f.globals.minX+1)})),b}},{key:"getLargestSeries",value:function(){var p=this.w;p.globals.maxValsInArrayIndex=p.globals.series.map(function(f){return f.length}).indexOf(Math.max.apply(Math,p.globals.series.map(function(f){return f.length})))}},{key:"getLargestMarkerSize",value:function(){var p=this.w,f=0;return p.globals.markers.size.forEach(function(b){f=Math.max(f,b)}),p.globals.markers.largestSize=f,f}},{key:"getSeriesTotals",value:function(){var p=this.w;p.globals.seriesTotals=p.globals.series.map(function(f,b){var S=0;if(Array.isArray(f))for(var D=0;D<f.length;D++)S+=f[D];else S+=f;return S})}},{key:"getSeriesTotalsXRange",value:function(p,f){var b=this.w;return b.globals.series.map(function(S,D){for(var B=0,F=0;F<S.length;F++)b.globals.seriesX[D][F]>p&&b.globals.seriesX[D][F]<f&&(B+=S[F]);return B})}},{key:"getPercentSeries",value:function(){var p=this.w;p.globals.seriesPercent=p.globals.series.map(function(f,b){var S=[];if(Array.isArray(f))for(var D=0;D<f.length;D++){var B=p.globals.stackedSeriesTotals[D],F=0;B&&(F=100*f[D]/B),S.push(F)}else{var Z=100*f/p.globals.seriesTotals.reduce(function(q,oe){return q+oe},0);S.push(Z)}return S})}},{key:"getCalculatedRatios",value:function(){var p,f,b,S,D=this.w.globals,B=[],F=0,Z=[],q=.1,oe=0;if(D.yRange=[],D.isMultipleYAxis)for(var ue=0;ue<D.minYArr.length;ue++)D.yRange.push(Math.abs(D.minYArr[ue]-D.maxYArr[ue])),Z.push(0);else D.yRange.push(Math.abs(D.minY-D.maxY));D.xRange=Math.abs(D.maxX-D.minX),D.zRange=Math.abs(D.maxZ-D.minZ);for(var ae=0;ae<D.yRange.length;ae++)B.push(D.yRange[ae]/D.gridHeight);if(f=D.xRange/D.gridWidth,b=Math.abs(D.initialMaxX-D.initialMinX)/D.gridWidth,p=D.yRange/D.gridWidth,S=D.xRange/D.gridHeight,(F=D.zRange/D.gridHeight*16)||(F=1),D.minY!==Number.MIN_VALUE&&0!==Math.abs(D.minY)&&(D.hasNegs=!0),D.isMultipleYAxis){Z=[];for(var _e=0;_e<B.length;_e++)Z.push(-D.minYArr[_e]/B[_e])}else Z.push(-D.minY/B[0]),D.minY!==Number.MIN_VALUE&&0!==Math.abs(D.minY)&&(q=-D.minY/p,oe=D.minX/f);return{yRatio:B,invertedYRatio:p,zRatio:F,xRatio:f,initialXRatio:b,invertedXRatio:S,baseLineInvertedY:q,baseLineY:Z,baseLineX:oe}}},{key:"getLogSeries",value:function(p){var f=this,b=this.w;return b.globals.seriesLog=p.map(function(S,D){return b.config.yaxis[D]&&b.config.yaxis[D].logarithmic?S.map(function(B){return null===B?null:f.getLogVal(B,D)}):S}),b.globals.invalidLogScale?p:b.globals.seriesLog}},{key:"getLogVal",value:function(p,f){var b=this.w;return(Math.log(p)-Math.log(b.globals.minYArr[f]))/(Math.log(b.globals.maxYArr[f])-Math.log(b.globals.minYArr[f]))}},{key:"getLogYRatios",value:function(p){var f=this,b=this.w,S=this.w.globals;return S.yLogRatio=p.slice(),S.logYRange=S.yRange.map(function(D,B){if(b.config.yaxis[B]&&f.w.config.yaxis[B].logarithmic){var F,Z=-Number.MAX_VALUE,q=Number.MIN_VALUE;return S.seriesLog.forEach(function(oe,ue){oe.forEach(function(ae){b.config.yaxis[ue]&&b.config.yaxis[ue].logarithmic&&(Z=Math.max(ae,Z),q=Math.min(ae,q))})}),F=Math.pow(S.yRange[B],Math.abs(q-Z)/S.yRange[B]),S.yLogRatio[B]=F/S.gridHeight,F}}),S.invalidLogScale?p.slice():S.yLogRatio}}],[{key:"checkComboSeries",value:function(p){var f=!1,b=0,S=0;return p.length&&void 0!==p[0].type&&p.forEach(function(D){"bar"!==D.type&&"column"!==D.type&&"candlestick"!==D.type&&"boxPlot"!==D.type||b++,void 0!==D.type&&S++}),S>1&&(f=!0),{comboBarCount:b,comboCharts:f}}},{key:"extendArrayProps",value:function(p,f,b){return f.yaxis&&(f=p.extendYAxis(f,b)),f.annotations&&(f.annotations.yaxis&&(f=p.extendYAxisAnnotations(f)),f.annotations.xaxis&&(f=p.extendXAxisAnnotations(f)),f.annotations.points&&(f=p.extendPointAnnotations(f))),f}}]),Re}(),zi=function(){function Re(p){ee(this,Re),this.w=p.w,this.annoCtx=p}return de(Re,[{key:"addYaxisAnnotation",value:function(p,f,b){var S,D=this.w,B=p.strokeDashArray,F=this._getY1Y2("y1",p),Z=p.label.text;if(null==p.y2){var q=this.annoCtx.graphics.drawLine(0+p.offsetX,F+p.offsetY,this._getYAxisAnnotationWidth(p),F+p.offsetY,p.borderColor,B,p.borderWidth);f.appendChild(q.node),p.id&&q.node.classList.add(p.id)}else{if((S=this._getY1Y2("y2",p))>F){var oe=F;F=S,S=oe}var ue=this.annoCtx.graphics.drawRect(0+p.offsetX,S+p.offsetY,this._getYAxisAnnotationWidth(p),F-S,0,p.fillColor,p.opacity,1,p.borderColor,B);ue.node.classList.add("apexcharts-annotation-rect"),ue.attr("clip-path","url(#gridRectMask".concat(D.globals.cuid,")")),f.appendChild(ue.node),p.id&&ue.node.classList.add(p.id)}var _e=this.annoCtx.graphics.drawText({x:("right"===p.label.position?D.globals.gridWidth:0)+p.label.offsetX,y:(S||F)+p.label.offsetY-3,text:Z,textAnchor:p.label.textAnchor,fontSize:p.label.style.fontSize,fontFamily:p.label.style.fontFamily,fontWeight:p.label.style.fontWeight,foreColor:p.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(p.label.style.cssClass," ").concat(p.id?p.id:"")});_e.attr({rel:b}),f.appendChild(_e.node)}},{key:"_getY1Y2",value:function(p,f){var b,S="y1"===p?f.y:f.y2,D=this.w;if(this.annoCtx.invertAxis){var B=D.globals.labels.indexOf(S);D.config.xaxis.convertedCatToNumeric&&(B=D.globals.categoryLabels.indexOf(S));var F=D.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child("+(B+1)+")");F&&(b=parseFloat(F.getAttribute("y")))}else{var Z;Z=D.config.yaxis[f.yAxisIndex].logarithmic?(S=new hi(this.annoCtx.ctx).getLogVal(S,f.yAxisIndex))/D.globals.yLogRatio[f.yAxisIndex]:(S-D.globals.minYArr[f.yAxisIndex])/(D.globals.yRange[f.yAxisIndex]/D.globals.gridHeight),b=D.globals.gridHeight-Z,D.config.yaxis[f.yAxisIndex]&&D.config.yaxis[f.yAxisIndex].reversed&&(b=Z)}return b}},{key:"_getYAxisAnnotationWidth",value:function(p){var f=this.w;return(p.width.indexOf("%")>-1?f.globals.gridWidth*parseInt(p.width,10)/100:parseInt(p.width,10))+p.offsetX}},{key:"drawYAxisAnnotations",value:function(){var p=this,f=this.w,b=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return f.config.annotations.yaxis.map(function(S,D){p.addYaxisAnnotation(S,b.node,D)}),b}}]),Re}(),Ps=function(){function Re(p){ee(this,Re),this.w=p.w,this.annoCtx=p}return de(Re,[{key:"addPointAnnotation",value:function(p,f,b){var S=this.w,D=0,B=0,F=0;this.annoCtx.invertAxis&&console.warn("Point annotation is not supported in horizontal bar charts.");var Z=parseFloat(p.y);if("string"==typeof p.x){var q=S.globals.labels.indexOf(p.x);S.config.xaxis.convertedCatToNumeric&&(q=S.globals.categoryLabels.indexOf(p.x)),D=this.annoCtx.helpers.getStringX(p.x),null===p.y&&(Z=S.globals.series[p.seriesIndex][q])}else D=(p.x-S.globals.minX)/(S.globals.xRange/S.globals.gridWidth);for(var oe,ue=[],ae=0,_e=0;_e<=p.seriesIndex;_e++){var Ie=S.config.yaxis[_e].seriesName;if(Ie)for(var Pe=_e+1;Pe<=p.seriesIndex;Pe++)S.config.yaxis[Pe].seriesName===Ie&&-1===ue.indexOf(Ie)&&(ae++,ue.push(Ie))}if(S.config.yaxis[p.yAxisIndex].logarithmic)oe=(Z=new hi(this.annoCtx.ctx).getLogVal(Z,p.yAxisIndex))/S.globals.yLogRatio[p.yAxisIndex];else{var ze=p.yAxisIndex+ae;oe=(Z-S.globals.minYArr[ze])/(S.globals.yRange[ze]/S.globals.gridHeight)}if(B=S.globals.gridHeight-oe-parseFloat(p.label.style.fontSize)-p.marker.size,F=S.globals.gridHeight-oe,S.config.yaxis[p.yAxisIndex]&&S.config.yaxis[p.yAxisIndex].reversed&&(B=oe+parseFloat(p.label.style.fontSize)+p.marker.size,F=oe),ct.isNumber(D)){var We={pSize:p.marker.size,pointStrokeWidth:p.marker.strokeWidth,pointFillColor:p.marker.fillColor,pointStrokeColor:p.marker.strokeColor,shape:p.marker.shape,pRadius:p.marker.radius,class:"apexcharts-point-annotation-marker ".concat(p.marker.cssClass," ").concat(p.id?p.id:"")},st=this.annoCtx.graphics.drawMarker(D+p.marker.offsetX,F+p.marker.offsetY,We);f.appendChild(st.node);var X=this.annoCtx.graphics.drawText({x:D+p.label.offsetX,y:B+p.label.offsetY,text:p.label.text?p.label.text:"",textAnchor:p.label.textAnchor,fontSize:p.label.style.fontSize,fontFamily:p.label.style.fontFamily,fontWeight:p.label.style.fontWeight,foreColor:p.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(p.label.style.cssClass," ").concat(p.id?p.id:"")});if(X.attr({rel:b}),f.appendChild(X.node),p.customSVG.SVG){var he=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+p.customSVG.cssClass});he.attr({transform:"translate(".concat(D+p.customSVG.offsetX,", ").concat(B+p.customSVG.offsetY,")")}),he.node.innerHTML=p.customSVG.SVG,f.appendChild(he.node)}if(p.image.path){var Ne=p.image.width?p.image.width:20,Je=p.image.height?p.image.height:20;this.annoCtx.addImage({x:D+p.image.offsetX-Ne/2,y:B+p.image.offsetY-Je/2,width:Ne,height:Je,path:p.image.path,appendTo:".apexcharts-point-annotations"})}}}},{key:"drawPointAnnotations",value:function(){var p=this,f=this.w,b=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return f.config.annotations.points.map(function(S,D){p.addPointAnnotation(S,b.node,D)}),b}}]),Re}(),er={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},Yr=function(){function Re(){ee(this,Re),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,tickAmount:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={x:0,y:null,yAxisIndex:0,seriesIndex:0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,radius:2,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return de(Re,[{key:"init",value:function(){return{annotations:{position:"front",yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"transparent",locales:[er],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.35},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0},stacked:!1,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",dateFormatter:function(p){return new Date(p).toDateString()}},png:{filename:void 0},svg:{filename:void 0}},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,rangeBarOverlap:!0,rangeBarGroupRows:!1,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal"}},bubble:{minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(p){return p}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(p){return p+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(p){return p.globals.seriesTotals.reduce(function(f,b){return f+b},0)/p.globals.series.length+"%"}}}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(p){return p}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(p){return p}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(p){return p.globals.seriesTotals.reduce(function(f,b){return f+b},0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(p){return null!==p?p:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],labels:{colors:void 0,useSeriesColors:!1},markers:{width:12,height:12,strokeWidth:0,fillColors:void 0,strokeColor:"#fff",radius:12,customHTML:void 0,offsetX:0,offsetY:0,onClick:void 0},itemMargin:{horizontal:5,vertical:2},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",width:8,height:8,radius:2,offsetX:0,offsetY:0,onClick:void 0,onDblClick:void 0,showNullDataPoints:!0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{normal:{filter:{type:"none",value:0}},hover:{filter:{type:"lighten",value:.1}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken",value:.5}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(p){return p?p+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.4}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"light",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),Re}(),wn=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w,this.graphics=new Wt(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new ar(this),this.xAxisAnnotations=new us(this),this.yAxisAnnotations=new zi(this),this.pointsAnnotations=new Ps(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return de(Re,[{key:"drawAxesAnnotations",value:function(){var p=this.w;if(p.globals.axisCharts){for(var f=this.yAxisAnnotations.drawYAxisAnnotations(),b=this.xAxisAnnotations.drawXAxisAnnotations(),S=this.pointsAnnotations.drawPointAnnotations(),D=p.config.chart.animations.enabled,B=[f,b,S],F=[b.node,f.node,S.node],Z=0;Z<3;Z++)p.globals.dom.elGraphical.add(B[Z]),!D||p.globals.resized||p.globals.dataChanged||"scatter"!==p.config.chart.type&&"bubble"!==p.config.chart.type&&p.globals.dataPoints>1&&F[Z].classList.add("apexcharts-element-hidden"),p.globals.delayedElements.push({el:F[Z],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var p=this;this.w.config.annotations.images.map(function(f,b){p.addImage(f,b)})}},{key:"drawTextAnnos",value:function(){var p=this;this.w.config.annotations.texts.map(function(f,b){p.addText(f,b)})}},{key:"addXaxisAnnotation",value:function(p,f,b){this.xAxisAnnotations.addXaxisAnnotation(p,f,b)}},{key:"addYaxisAnnotation",value:function(p,f,b){this.yAxisAnnotations.addYaxisAnnotation(p,f,b)}},{key:"addPointAnnotation",value:function(p,f,b){this.pointsAnnotations.addPointAnnotation(p,f,b)}},{key:"addText",value:function(p,f){var D=p.text,ae=p.backgroundColor,_e=p.borderWidth,Ie=p.strokeDashArray,Pe=p.borderRadius,ze=p.borderColor,We=p.appendTo,st=void 0===We?".apexcharts-annotations":We,bt=p.paddingLeft,X=void 0===bt?4:bt,he=p.paddingRight,Ne=void 0===he?4:he,Je=p.paddingBottom,mt=void 0===Je?2:Je,ln=p.paddingTop,qt=void 0===ln?2:ln,un=this.w,Vn=this.graphics.drawText({x:p.x,y:p.y,text:D,textAnchor:p.textAnchor||"start",fontSize:p.fontSize||"12px",fontWeight:p.fontWeight||"regular",fontFamily:p.fontFamily||un.config.chart.fontFamily,foreColor:p.foreColor||un.config.chart.foreColor,cssClass:p.cssClass}),zn=un.globals.dom.baseEl.querySelector(st);zn&&zn.appendChild(Vn.node);var ki=Vn.bbox();if(D){var pr=this.graphics.drawRect(ki.x-X,ki.y-qt,ki.width+X+Ne,ki.height+mt+qt,Pe,ae||"transparent",1,_e,ze,Ie);zn.insertBefore(pr.node,Vn.node)}}},{key:"addImage",value:function(p,f){var b=this.w,D=p.x,B=void 0===D?0:D,F=p.y,Z=void 0===F?0:F,q=p.width,oe=void 0===q?20:q,ue=p.height,ae=void 0===ue?20:ue,_e=p.appendTo,Ie=void 0===_e?".apexcharts-annotations":_e,Pe=b.globals.dom.Paper.image(p.path);Pe.size(oe,ae).move(B,Z);var ze=b.globals.dom.baseEl.querySelector(Ie);ze&&ze.appendChild(Pe.node)}},{key:"addXaxisAnnotationExternal",value:function(p,f,b){return this.addAnnotationExternal({params:p,pushToMemory:f,context:b,type:"xaxis",contextMethod:b.addXaxisAnnotation}),b}},{key:"addYaxisAnnotationExternal",value:function(p,f,b){return this.addAnnotationExternal({params:p,pushToMemory:f,context:b,type:"yaxis",contextMethod:b.addYaxisAnnotation}),b}},{key:"addPointAnnotationExternal",value:function(p,f,b){return void 0===this.invertAxis&&(this.invertAxis=b.w.globals.isBarHorizontal),this.addAnnotationExternal({params:p,pushToMemory:f,context:b,type:"point",contextMethod:b.addPointAnnotation}),b}},{key:"addAnnotationExternal",value:function(p){var f=p.params,b=p.pushToMemory,S=p.context,D=p.type,B=p.contextMethod,F=S,Z=F.w,q=Z.globals.dom.baseEl.querySelector(".apexcharts-".concat(D,"-annotations")),oe=q.childNodes.length+1,ue=new Yr,ae=Object.assign({},"xaxis"===D?ue.xAxisAnnotation:"yaxis"===D?ue.yAxisAnnotation:ue.pointAnnotation),_e=ct.extend(ae,f);switch(D){case"xaxis":this.addXaxisAnnotation(_e,q,oe);break;case"yaxis":this.addYaxisAnnotation(_e,q,oe);break;case"point":this.addPointAnnotation(_e,q,oe)}var Ie=Z.globals.dom.baseEl.querySelector(".apexcharts-".concat(D,"-annotations .apexcharts-").concat(D,"-annotation-label[rel='").concat(oe,"']")),Pe=this.helpers.addBackgroundToAnno(Ie,_e);return Pe&&q.insertBefore(Pe.node,Ie),b&&Z.globals.memory.methodsToExec.push({context:F,id:_e.id?_e.id:ct.randomId(),method:B,label:"addAnnotation",params:f}),S}},{key:"clearAnnotations",value:function(p){var f=p.w,b=f.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations");f.globals.memory.methodsToExec.map(function(S,D){"addText"!==S.label&&"addAnnotation"!==S.label||f.globals.memory.methodsToExec.splice(D,1)}),b=ct.listToArray(b),Array.prototype.forEach.call(b,function(S){for(;S.firstChild;)S.removeChild(S.firstChild)})}},{key:"removeAnnotation",value:function(p,f){var b=p.w,S=b.globals.dom.baseEl.querySelectorAll(".".concat(f));S&&(b.globals.memory.methodsToExec.map(function(D,B){D.id===f&&b.globals.memory.methodsToExec.splice(B,1)}),Array.prototype.forEach.call(S,function(D){D.parentElement.removeChild(D)}))}}]),Re}(),hn=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w,this.opts=null,this.seriesIndex=0}return de(Re,[{key:"clippedImgArea",value:function(p){var f=this.w,b=f.config,S=parseInt(f.globals.gridWidth,10),D=parseInt(f.globals.gridHeight,10),B=S>D?S:D,F=p.image,Z=0,q=0;void 0===p.width&&void 0===p.height?void 0!==b.fill.image.width&&void 0!==b.fill.image.height?(Z=b.fill.image.width+1,q=b.fill.image.height):(Z=B+1,q=B):(Z=p.width,q=p.height);var oe=document.createElementNS(f.globals.SVGNS,"pattern");Wt.setAttrs(oe,{id:p.patternID,patternUnits:p.patternUnits?p.patternUnits:"userSpaceOnUse",width:Z+"px",height:q+"px"});var ue=document.createElementNS(f.globals.SVGNS,"image");oe.appendChild(ue),ue.setAttributeNS(window.SVG.xlink,"href",F),Wt.setAttrs(ue,{x:0,y:0,preserveAspectRatio:"none",width:Z+"px",height:q+"px"}),ue.style.opacity=p.opacity,f.globals.dom.elDefs.node.appendChild(oe)}},{key:"getSeriesIndex",value:function(p){var f=this.w;return this.seriesIndex=("bar"===f.config.chart.type||"rangeBar"===f.config.chart.type)&&f.config.plotOptions.bar.distributed||"heatmap"===f.config.chart.type||"treemap"===f.config.chart.type?p.seriesNumber:p.seriesNumber%f.globals.series.length,this.seriesIndex}},{key:"fillPath",value:function(p){var f=this.w;this.opts=p;var b,S,D,B=this.w.config;this.seriesIndex=this.getSeriesIndex(p);var F=this.getFillColors()[this.seriesIndex];void 0!==f.globals.seriesColors[this.seriesIndex]&&(F=f.globals.seriesColors[this.seriesIndex]),"function"==typeof F&&(F=F({seriesIndex:this.seriesIndex,dataPointIndex:p.dataPointIndex,value:p.value,w:f}));var Z=this.getFillType(this.seriesIndex),q=Array.isArray(B.fill.opacity)?B.fill.opacity[this.seriesIndex]:B.fill.opacity;p.color&&(F=p.color);var oe=F;if(-1===F.indexOf("rgb")?F.length<9&&(oe=ct.hexToRgba(F,q)):F.indexOf("rgba")>-1&&(q=ct.getOpacityFromRGBA(F)),p.opacity&&(q=p.opacity),"pattern"===Z&&(S=this.handlePatternFill(S,F,q,oe)),"gradient"===Z&&(D=this.handleGradientFill(F,q,this.seriesIndex)),"image"===Z){var ue=B.fill.image.src,ae=p.patternID?p.patternID:"";this.clippedImgArea({opacity:q,image:Array.isArray(ue)?p.seriesNumber<ue.length?ue[p.seriesNumber]:ue[0]:ue,width:p.width?p.width:void 0,height:p.height?p.height:void 0,patternUnits:p.patternUnits,patternID:"pattern".concat(f.globals.cuid).concat(p.seriesNumber+1).concat(ae)}),b="url(#pattern".concat(f.globals.cuid).concat(p.seriesNumber+1).concat(ae,")")}else b="gradient"===Z?D:"pattern"===Z?S:oe;return p.solid&&(b=oe),b}},{key:"getFillType",value:function(p){var f=this.w;return Array.isArray(f.config.fill.type)?f.config.fill.type[p]:f.config.fill.type}},{key:"getFillColors",value:function(){var p=this.w,f=p.config,b=this.opts,S=[];return p.globals.comboCharts?"line"===p.config.series[this.seriesIndex].type?Array.isArray(p.globals.stroke.colors)?S=p.globals.stroke.colors:S.push(p.globals.stroke.colors):Array.isArray(p.globals.fill.colors)?S=p.globals.fill.colors:S.push(p.globals.fill.colors):"line"===f.chart.type?Array.isArray(p.globals.stroke.colors)?S=p.globals.stroke.colors:S.push(p.globals.stroke.colors):Array.isArray(p.globals.fill.colors)?S=p.globals.fill.colors:S.push(p.globals.fill.colors),void 0!==b.fillColors&&(S=[],Array.isArray(b.fillColors)?S=b.fillColors.slice():S.push(b.fillColors)),S}},{key:"handlePatternFill",value:function(p,f,b,S){var D=this.w.config,B=this.opts,F=new Wt(this.ctx),Z=void 0===D.fill.pattern.strokeWidth?Array.isArray(D.stroke.width)?D.stroke.width[this.seriesIndex]:D.stroke.width:Array.isArray(D.fill.pattern.strokeWidth)?D.fill.pattern.strokeWidth[this.seriesIndex]:D.fill.pattern.strokeWidth,q=f;return Array.isArray(D.fill.pattern.style)?void 0!==D.fill.pattern.style[B.seriesNumber]?F.drawPattern(D.fill.pattern.style[B.seriesNumber],D.fill.pattern.width,D.fill.pattern.height,q,Z,b):S:F.drawPattern(D.fill.pattern.style,D.fill.pattern.width,D.fill.pattern.height,q,Z,b)}},{key:"handleGradientFill",value:function(p,f,b){var S,D=this.w.config,B=this.opts,F=new Wt(this.ctx),Z=new ct,q=D.fill.gradient.type,oe=p,ue=void 0===D.fill.gradient.opacityFrom?f:Array.isArray(D.fill.gradient.opacityFrom)?D.fill.gradient.opacityFrom[b]:D.fill.gradient.opacityFrom;oe.indexOf("rgba")>-1&&(ue=ct.getOpacityFromRGBA(oe));var ae=void 0===D.fill.gradient.opacityTo?f:Array.isArray(D.fill.gradient.opacityTo)?D.fill.gradient.opacityTo[b]:D.fill.gradient.opacityTo;if(void 0===D.fill.gradient.gradientToColors||0===D.fill.gradient.gradientToColors.length)S=Z.shadeColor("dark"===D.fill.gradient.shade?-1*parseFloat(D.fill.gradient.shadeIntensity):parseFloat(D.fill.gradient.shadeIntensity),p.indexOf("rgb")>-1?ct.rgb2hex(p):p);else if(D.fill.gradient.gradientToColors[B.seriesNumber]){var _e=D.fill.gradient.gradientToColors[B.seriesNumber];S=_e,_e.indexOf("rgba")>-1&&(ae=ct.getOpacityFromRGBA(_e))}else S=p;if(D.fill.gradient.inverseColors){var Ie=oe;oe=S,S=Ie}return oe.indexOf("rgb")>-1&&(oe=ct.rgb2hex(oe)),S.indexOf("rgb")>-1&&(S=ct.rgb2hex(S)),F.drawGradient(q,oe,S,ue,ae,B.size,D.fill.gradient.stops,D.fill.gradient.colorStops,b)}}]),Re}(),Mn=function(){function Re(p,f){ee(this,Re),this.ctx=p,this.w=p.w}return de(Re,[{key:"setGlobalMarkerSize",value:function(){var p=this.w;if(p.globals.markers.size=Array.isArray(p.config.markers.size)?p.config.markers.size:[p.config.markers.size],p.globals.markers.size.length>0){if(p.globals.markers.size.length<p.globals.series.length+1)for(var f=0;f<=p.globals.series.length;f++)void 0===p.globals.markers.size[f]&&p.globals.markers.size.push(p.globals.markers.size[0])}else p.globals.markers.size=p.config.series.map(function(b){return p.config.markers.size})}},{key:"plotChartMarkers",value:function(p,f,b,S){var D,B=arguments.length>4&&void 0!==arguments[4]&&arguments[4],F=this.w,Z=f,q=p,oe=null,ue=new Wt(this.ctx);if((F.globals.markers.size[f]>0||B)&&(oe=ue.group({class:B?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(F.globals.cuid,")")),Array.isArray(q.x))for(var ae=0;ae<q.x.length;ae++){var _e=b;1===b&&0===ae&&(_e=0),1===b&&1===ae&&(_e=1);var Ie="apexcharts-marker";"line"!==F.config.chart.type&&"area"!==F.config.chart.type||F.globals.comboCharts||F.config.tooltip.intersect||(Ie+=" no-pointer-events");var Pe=Array.isArray(F.config.markers.size)?F.globals.markers.size[f]>0:F.config.markers.size>0;if(Pe||B){ct.isNumber(q.y[ae])?Ie+=" w".concat(ct.randomId()):Ie="apexcharts-nullpoint";var ze=this.getMarkerConfig(Ie,f,_e);F.config.series[Z].data[_e]&&(F.config.series[Z].data[_e].fillColor&&(ze.pointFillColor=F.config.series[Z].data[_e].fillColor),F.config.series[Z].data[_e].strokeColor&&(ze.pointStrokeColor=F.config.series[Z].data[_e].strokeColor)),S&&(ze.pSize=S),(D=ue.drawMarker(q.x[ae],q.y[ae],ze)).attr("rel",_e),D.attr("j",_e),D.attr("index",f),D.node.setAttribute("default-marker-size",ze.pSize);var We=new Fn(this.ctx);We.setSelectionFilter(D,f,_e),this.addEvents(D),oe&&oe.add(D)}else void 0===F.globals.pointsArray[f]&&(F.globals.pointsArray[f]=[]),F.globals.pointsArray[f].push([q.x[ae],q.y[ae]])}return oe}},{key:"getMarkerConfig",value:function(p,f){var b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,S=this.w,D=this.getMarkerStyle(f),B=S.globals.markers.size[f],F=S.config.markers;return null!==b&&F.discrete.length&&F.discrete.map(function(Z){Z.seriesIndex===f&&Z.dataPointIndex===b&&(D.pointStrokeColor=Z.strokeColor,D.pointFillColor=Z.fillColor,B=Z.size,D.pointShape=Z.shape)}),{pSize:B,pRadius:F.radius,width:Array.isArray(F.width)?F.width[f]:F.width,height:Array.isArray(F.height)?F.height[f]:F.height,pointStrokeWidth:Array.isArray(F.strokeWidth)?F.strokeWidth[f]:F.strokeWidth,pointStrokeColor:D.pointStrokeColor,pointFillColor:D.pointFillColor,shape:D.pointShape||(Array.isArray(F.shape)?F.shape[f]:F.shape),class:p,pointStrokeOpacity:Array.isArray(F.strokeOpacity)?F.strokeOpacity[f]:F.strokeOpacity,pointStrokeDashArray:Array.isArray(F.strokeDashArray)?F.strokeDashArray[f]:F.strokeDashArray,pointFillOpacity:Array.isArray(F.fillOpacity)?F.fillOpacity[f]:F.fillOpacity,seriesIndex:f}}},{key:"addEvents",value:function(p){var f=this.w,b=new Wt(this.ctx);p.node.addEventListener("mouseenter",b.pathMouseEnter.bind(this.ctx,p)),p.node.addEventListener("mouseleave",b.pathMouseLeave.bind(this.ctx,p)),p.node.addEventListener("mousedown",b.pathMouseDown.bind(this.ctx,p)),p.node.addEventListener("click",f.config.markers.onClick),p.node.addEventListener("dblclick",f.config.markers.onDblClick),p.node.addEventListener("touchstart",b.pathMouseDown.bind(this.ctx,p),{passive:!0})}},{key:"getMarkerStyle",value:function(p){var f=this.w,b=f.globals.markers.colors,S=f.config.markers.strokeColor||f.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(S)?S[p]:S,pointFillColor:Array.isArray(b)?b[p]:b}}}]),Re}(),mn=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled}return de(Re,[{key:"draw",value:function(p,f,b){var S=this.w,D=new Wt(this.ctx),B=b.realIndex,F=b.pointsPos,Z=b.zRatio,q=b.elParent,oe=D.group({class:"apexcharts-series-markers apexcharts-series-".concat(S.config.chart.type)});if(oe.attr("clip-path","url(#gridRectMarkerMask".concat(S.globals.cuid,")")),Array.isArray(F.x))for(var ue=0;ue<F.x.length;ue++){var ae=f+1,_e=!0;0===f&&0===ue&&(ae=0),0===f&&1===ue&&(ae=1);var Ie=0,Pe=S.globals.markers.size[B];if(Z!==1/0){Pe=S.globals.seriesZ[B][ae]/Z;var ze=S.config.plotOptions.bubble;ze.minBubbleRadius&&Pe<ze.minBubbleRadius&&(Pe=ze.minBubbleRadius),ze.maxBubbleRadius&&Pe>ze.maxBubbleRadius&&(Pe=ze.maxBubbleRadius)}S.config.chart.animations.enabled||(Ie=Pe);var st=F.y[ue];if(Ie=Ie||0,null!==st&&void 0!==S.globals.series[B][ae]||(_e=!1),_e){var bt=this.drawPoint(F.x[ue],st,Ie,Pe,B,ae,f);oe.add(bt)}q.add(oe)}}},{key:"drawPoint",value:function(p,f,b,S,D,B,F){var Z,q=this.w,oe=D,ue=new ii(this.ctx),ae=new Fn(this.ctx),_e=new hn(this.ctx),Ie=new Mn(this.ctx),Pe=new Wt(this.ctx),ze=Ie.getMarkerConfig("apexcharts-marker",oe),We=_e.fillPath({seriesNumber:D,dataPointIndex:B,patternUnits:"objectBoundingBox",value:q.globals.series[D][F]});if("circle"===ze.shape?Z=Pe.drawCircle(b):"square"!==ze.shape&&"rect"!==ze.shape||(Z=Pe.drawRect(0,0,ze.width-ze.pointStrokeWidth/2,ze.height-ze.pointStrokeWidth/2,ze.pRadius)),q.config.series[oe].data[B]&&q.config.series[oe].data[B].fillColor&&(We=q.config.series[oe].data[B].fillColor),Z.attr({x:p-ze.width/2-ze.pointStrokeWidth/2,y:f-ze.height/2-ze.pointStrokeWidth/2,cx:p,cy:f,fill:We,"fill-opacity":ze.pointFillOpacity,stroke:ze.pointStrokeColor,r:S,"stroke-width":ze.pointStrokeWidth,"stroke-dasharray":ze.pointStrokeDashArray,"stroke-opacity":ze.pointStrokeOpacity}),q.config.chart.dropShadow.enabled&&ae.dropShadow(Z,q.config.chart.dropShadow,D),!this.initialAnim||q.globals.dataChanged||q.globals.resized?q.globals.animationEnded=!0:ue.animateMarker(Z,0,"circle"===ze.shape?S:{width:ze.width,height:ze.height},q.config.chart.animations.speed,q.globals.easing,function(){window.setTimeout(function(){ue.animationCompleted(Z)},100)}),q.globals.dataChanged&&"circle"===ze.shape)if(this.dynamicAnim){var X,he,Ne,Je,mt=q.config.chart.animations.dynamicAnimation.speed;null!=(Je=q.globals.previousPaths[D]&&q.globals.previousPaths[D][F])&&(X=Je.x,he=Je.y,Ne=void 0!==Je.r?Je.r:S);for(var ln=0;ln<q.globals.collapsedSeries.length;ln++)q.globals.collapsedSeries[ln].index===D&&(mt=1,S=0);0===p&&0===f&&(S=0),ue.animateCircle(Z,{cx:X,cy:he,r:Ne},{cx:p,cy:f,r:S},mt,q.globals.easing)}else Z.attr({r:S});return Z.attr({rel:B,j:B,index:D,"default-marker-size":S}),ae.setSelectionFilter(Z,D,B),Ie.addEvents(Z),Z.node.classList.add("apexcharts-marker"),Z}},{key:"centerTextInBubble",value:function(p){return{y:p+=parseInt(this.w.config.dataLabels.style.fontSize,10)/4}}}]),Re}(),Yn=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w}return de(Re,[{key:"dataLabelsCorrection",value:function(p,f,b,S,D,B,F){var Z=this.w,q=!1,oe=new Wt(this.ctx).getTextRects(b,F),ue=oe.width,ae=oe.height;if(f<0&&(f=0),f>Z.globals.gridHeight+ae&&(f=Z.globals.gridHeight+ae/2),void 0===Z.globals.dataLabelsRects[S]&&(Z.globals.dataLabelsRects[S]=[]),Z.globals.dataLabelsRects[S].push({x:p,y:f,width:ue,height:ae}),void 0!==Z.globals.dataLabelsRects[S][Z.globals.dataLabelsRects[S].length-2]){var Pe=Z.globals.dataLabelsRects[S][void 0!==Z.globals.lastDrawnDataLabelsIndexes[S]?Z.globals.lastDrawnDataLabelsIndexes[S][Z.globals.lastDrawnDataLabelsIndexes[S].length-1]:0];(p>Pe.x+Pe.width+2||f>Pe.y+Pe.height+2||p+ue<Pe.x)&&(q=!0)}return(0===D||B)&&(q=!0),{x:p,y:f,textRects:oe,drawnextLabel:q}}},{key:"drawDataLabel",value:function(p,f,b){var S=this,D=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,B=this.w,F=new Wt(this.ctx),Z=B.config.dataLabels,q=0,oe=0,ue=b,ae=null;if(!Z.enabled||!Array.isArray(p.x))return ae;ae=F.group({class:"apexcharts-data-labels"});for(var _e=0;_e<p.x.length;_e++)if(q=p.x[_e]+Z.offsetX,oe=p.y[_e]+Z.offsetY+D,!isNaN(q)){1===b&&0===_e&&(ue=0),1===b&&1===_e&&(ue=1);var Ie=B.globals.series[f][ue],Pe="",ze=function(bt){return B.config.dataLabels.formatter(bt,{ctx:S.ctx,seriesIndex:f,dataPointIndex:ue,w:B})};if("bubble"===B.config.chart.type){Pe=ze(Ie=B.globals.seriesZ[f][ue]),oe=p.y[_e];var We=new mn(this.ctx),st=We.centerTextInBubble(oe,f,ue);oe=st.y}else void 0!==Ie&&(Pe=ze(Ie));this.plotDataLabelsText({x:q,y:oe,text:Pe,i:f,j:ue,parent:ae,offsetCorrection:!0,dataLabelsConfig:B.config.dataLabels})}return ae}},{key:"plotDataLabelsText",value:function(p){var f=this.w,b=new Wt(this.ctx),S=p.x,D=p.y,B=p.i,F=p.j,Z=p.text,q=p.textAnchor,oe=p.fontSize,ue=p.parent,ae=p.dataLabelsConfig,_e=p.color,Ie=p.alwaysDrawDataLabel,Pe=p.offsetCorrection;if(!(Array.isArray(f.config.dataLabels.enabledOnSeries)&&f.config.dataLabels.enabledOnSeries.indexOf(B)<0)){var ze={x:S,y:D,drawnextLabel:!0};Pe&&(ze=this.dataLabelsCorrection(S,D,Z,B,F,Ie,parseInt(ae.style.fontSize,10))),f.globals.zoomed||(S=ze.x,D=ze.y),ze.textRects&&(S<-10-ze.textRects.width||S>f.globals.gridWidth+ze.textRects.width+10)&&(Z="");var We=f.globals.dataLabels.style.colors[B];(("bar"===f.config.chart.type||"rangeBar"===f.config.chart.type)&&f.config.plotOptions.bar.distributed||f.config.dataLabels.distributed)&&(We=f.globals.dataLabels.style.colors[F]),"function"==typeof We&&(We=We({series:f.globals.series,seriesIndex:B,dataPointIndex:F,w:f})),_e&&(We=_e);var st=ae.offsetX,bt=ae.offsetY;if("bar"!==f.config.chart.type&&"rangeBar"!==f.config.chart.type||(st=0,bt=0),ze.drawnextLabel){var X=b.drawText({width:100,height:parseInt(ae.style.fontSize,10),x:S+st,y:D+bt,foreColor:We,textAnchor:q||ae.textAnchor,text:Z,fontSize:oe||ae.style.fontSize,fontFamily:ae.style.fontFamily,fontWeight:ae.style.fontWeight||"normal"});if(X.attr({class:"apexcharts-datalabel",cx:S,cy:D}),ae.dropShadow.enabled){var he=ae.dropShadow;new Fn(this.ctx).dropShadow(X,he)}ue.add(X),void 0===f.globals.lastDrawnDataLabelsIndexes[B]&&(f.globals.lastDrawnDataLabelsIndexes[B]=[]),f.globals.lastDrawnDataLabelsIndexes[B].push(F)}}}},{key:"addBackgroundToDataLabel",value:function(p,f){var b=this.w,S=b.config.dataLabels.background,D=S.padding,B=S.padding/2,F=f.width,Z=f.height,q=new Wt(this.ctx).drawRect(f.x-D,f.y-B/2,F+2*D,Z+B,S.borderRadius,"transparent"===b.config.chart.background?"#fff":b.config.chart.background,S.opacity,S.borderWidth,S.borderColor);return S.dropShadow.enabled&&new Fn(this.ctx).dropShadow(q,S.dropShadow),q}},{key:"dataLabelsBackground",value:function(){var p=this.w;if("bubble"!==p.config.chart.type)for(var f=p.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),b=0;b<f.length;b++){var S=f[b],D=S.getBBox(),B=null;if(D.width&&D.height&&(B=this.addBackgroundToDataLabel(S,D)),B){S.parentNode.insertBefore(B.node,S);var F=S.getAttribute("fill");!p.config.chart.animations.enabled||p.globals.resized||p.globals.dataChanged?B.attr({fill:F}):B.animate().attr({fill:F}),S.setAttribute("fill",p.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var p=this.w,f=p.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),b=p.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),S=0;S<f.length;S++)b&&b.insertBefore(f[S],b.nextSibling)}}]),Re}(),vn=function(){function Re(p){ee(this,Re),this.w=p.w,this.barCtx=p}return de(Re,[{key:"handleBarDataLabels",value:function(p){var f=p.x,b=p.y,S=p.y1,D=p.y2,B=p.i,F=p.j,Z=p.realIndex,q=p.series,oe=p.barHeight,ue=p.barWidth,ae=p.barYPosition,_e=p.visibleSeries,Ie=p.renderedPath,Pe=this.w,ze=new Wt(this.barCtx.ctx),We=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[Z]:this.barCtx.strokeWidth,st=f+parseFloat(ue*_e),bt=b+parseFloat(oe*_e);Pe.globals.isXNumeric&&!Pe.globals.isBarHorizontal&&(st=f+parseFloat(ue*(_e+1)),bt=b+parseFloat(oe*(_e+1))-We);var Ne,X=f,he=b,Je=Pe.config.dataLabels,mt=this.barCtx.barOptions.dataLabels;void 0!==ae&&this.barCtx.isTimelineBar&&(bt=ae,he=ae);var ln=Je.offsetX,qt=Je.offsetY,un={width:0,height:0};Pe.config.dataLabels.enabled&&(un=ze.getTextRects(Pe.globals.yLabelFormatters[0](this.barCtx.series[B][F]),parseFloat(Je.style.fontSize)));var zn={x:f,y:b,i:B,j:F,renderedPath:Ie,bcx:st,bcy:bt,barHeight:oe,barWidth:ue,textRects:un,strokeWidth:We,dataLabelsX:X,dataLabelsY:he,barDataLabelsConfig:mt,offX:ln,offY:qt};return Ne=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(zn):this.calculateColumnsDataLabelsPosition(zn),Ie.attr({cy:Ne.bcy,cx:Ne.bcx,j:F,val:q[B][F],barHeight:oe,barWidth:ue}),this.drawCalculatedDataLabels({x:Ne.dataLabelsX,y:Ne.dataLabelsY,val:this.barCtx.isTimelineBar?[S,D]:q[B][F],i:Z,j:F,barWidth:ue,barHeight:oe,textRects:un,dataLabelsConfig:Je})}},{key:"calculateColumnsDataLabelsPosition",value:function(p){var f,b=this.w,S=p.i,D=p.j,B=p.y,F=p.bcx,Z=p.barWidth,q=p.barHeight,oe=p.textRects,ue=p.dataLabelsY,ae=p.barDataLabelsConfig,_e=p.strokeWidth,Ie=p.offX,Pe=p.offY;q=Math.abs(q);var ze="vertical"===b.config.plotOptions.bar.dataLabels.orientation;F-=_e/2,f=b.globals.isXNumeric?F-Z/2+Ie:F-b.globals.gridWidth/b.globals.dataPoints+Z/2+Ie,ze&&(f=f+oe.height/2-_e/2-2);var st=this.barCtx.series[S][D]<0,bt=B;switch(this.barCtx.isReversed&&(bt=B-q+(st?2*q:0),B-=q),ae.position){case"center":ue=ze?st?bt+q/2+Pe:bt+q/2-Pe:st?bt-q/2+oe.height/2+Pe:bt+q/2+oe.height/2-Pe;break;case"bottom":ue=ze?st?bt+q+Pe:bt+q-Pe:st?bt-q+oe.height+_e+Pe:bt+q-oe.height/2+_e-Pe;break;case"top":ue=ze?st?bt+Pe:bt-Pe:st?bt-oe.height/2-Pe:bt+oe.height+Pe}return b.config.chart.stacked||(ue<0?ue=0+_e:ue+oe.height/3>b.globals.gridHeight&&(ue=b.globals.gridHeight-_e)),{bcx:F,bcy:B,dataLabelsX:f,dataLabelsY:ue}}},{key:"calculateBarsDataLabelsPosition",value:function(p){var f=this.w,b=p.x,S=p.i,D=p.j,B=p.bcy,F=p.barHeight,Z=p.barWidth,q=p.textRects,oe=p.dataLabelsX,ue=p.strokeWidth,ae=p.barDataLabelsConfig,_e=p.offX,Ie=p.offY,Pe=f.globals.gridHeight/f.globals.dataPoints;Z=Math.abs(Z);var ze=B-(this.barCtx.isTimelineBar?0:Pe)+F/2+q.height/2+Ie-3,We=this.barCtx.series[S][D]<0,st=b;switch(this.barCtx.isReversed&&(st=b+Z-(We?2*Z:0),b=f.globals.gridWidth-Z),ae.position){case"center":oe=We?st+Z/2-_e:Math.max(q.width/2,st-Z/2)+_e;break;case"bottom":oe=We?st+Z-ue-Math.round(q.width/2)-_e:st-Z+ue+Math.round(q.width/2)+_e;break;case"top":oe=We?st-ue+Math.round(q.width/2)-_e:st-ue-Math.round(q.width/2)+_e}return f.config.chart.stacked||(oe<0?oe=oe+q.width+ue:oe+q.width/2>f.globals.gridWidth&&(oe=f.globals.gridWidth-q.width-ue)),{bcx:b,bcy:B,dataLabelsX:oe,dataLabelsY:ze}}},{key:"drawCalculatedDataLabels",value:function(p){var f=p.x,b=p.y,S=p.val,D=p.i,B=p.j,F=p.textRects,Z=p.barHeight,q=p.barWidth,oe=p.dataLabelsConfig,ue=this.w,ae="rotate(0)";"vertical"===ue.config.plotOptions.bar.dataLabels.orientation&&(ae="rotate(-90, ".concat(f,", ").concat(b,")"));var _e=new Yn(this.barCtx.ctx),Ie=new Wt(this.barCtx.ctx),Pe=oe.formatter,ze=null,We=ue.globals.collapsedSeriesIndices.indexOf(D)>-1;if(oe.enabled&&!We){ze=Ie.group({class:"apexcharts-data-labels",transform:ae});var st="";void 0!==S&&(st=Pe(S,{seriesIndex:D,dataPointIndex:B,w:ue}));var bt=ue.globals.series[D][B]<0,X=ue.config.plotOptions.bar.dataLabels.position;"vertical"===ue.config.plotOptions.bar.dataLabels.orientation&&("top"===X&&(oe.textAnchor=bt?"end":"start"),"center"===X&&(oe.textAnchor="middle"),"bottom"===X&&(oe.textAnchor=bt?"end":"start")),this.barCtx.isTimelineBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&q<Ie.getTextRects(st,parseFloat(oe.style.fontSize)).width&&(st=""),ue.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?(q>0&&F.width/1.6>q||q<0&&F.width/1.6<q)&&(st=""):F.height/1.6>Z&&(st=""));var he=Me({},oe);this.barCtx.isHorizontal&&S<0&&("start"===oe.textAnchor?he.textAnchor="end":"end"===oe.textAnchor&&(he.textAnchor="start")),_e.plotDataLabelsText({x:f,y:b,text:st,i:D,j:B,parent:ze,dataLabelsConfig:he,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return ze}}]),Re}(),ai=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w,this.legendInactiveClass="legend-mouseover-inactive"}return de(Re,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(p){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(ct.escapeString(p),"']"))}},{key:"isSeriesHidden",value:function(p){var f=this.getSeriesByName(p),b=parseInt(f.getAttribute("data:realIndex"),10);return{isHidden:f.classList.contains("apexcharts-series-collapsed"),realIndex:b}}},{key:"addCollapsedClassToSeries",value:function(p,f){var b=this.w;function S(D){for(var B=0;B<D.length;B++)D[B].index===f&&p.node.classList.add("apexcharts-series-collapsed")}S(b.globals.collapsedSeries),S(b.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(p){var f=this.isSeriesHidden(p);return this.ctx.legend.legendHelpers.toggleDataSeries(f.realIndex,f.isHidden),f.isHidden}},{key:"showSeries",value:function(p){var f=this.isSeriesHidden(p);f.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(f.realIndex,!0)}},{key:"hideSeries",value:function(p){var f=this.isSeriesHidden(p);f.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(f.realIndex,!1)}},{key:"resetSeries",value:function(){var p=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],f=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],b=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],S=this.w,D=ct.clone(S.globals.initialSeries);S.globals.previousPaths=[],b?(S.globals.collapsedSeries=[],S.globals.ancillaryCollapsedSeries=[],S.globals.collapsedSeriesIndices=[],S.globals.ancillaryCollapsedSeriesIndices=[]):D=this.emptyCollapsedSeries(D),S.config.series=D,p&&(f&&(S.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(D,S.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(p){for(var f=this.w,b=0;b<p.length;b++)f.globals.collapsedSeriesIndices.indexOf(b)>-1&&(p[b].data=[]);return p}},{key:"toggleSeriesOnHover",value:function(p,f){var b=this.w,S=b.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels");if("mousemove"===p.type){var D=parseInt(f.getAttribute("rel"),10)-1,B=null,F=null;b.globals.axisCharts||"radialBar"===b.config.chart.type?b.globals.axisCharts?(B=b.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(D,"']")),F=b.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(D,"']"))):B=b.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(D+1,"']")):B=b.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(D+1,"'] path"));for(var Z=0;Z<S.length;Z++)S[Z].classList.add(this.legendInactiveClass);null!==B&&(b.globals.axisCharts||B.parentNode.classList.remove(this.legendInactiveClass),B.classList.remove(this.legendInactiveClass),null!==F&&F.classList.remove(this.legendInactiveClass))}else if("mouseout"===p.type)for(var q=0;q<S.length;q++)S[q].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(p,f){var b=this,S=this.w,D=S.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),B=function(Z){for(var q=0;q<D.length;q++)D[q].classList[Z](b.legendInactiveClass)};if("mousemove"===p.type){var F=parseInt(f.getAttribute("rel"),10)-1;B("add"),function(Z){for(var q=0;q<D.length;q++){var oe=parseInt(D[q].getAttribute("val"),10);oe>=Z.from&&oe<=Z.to&&D[q].classList.remove(b.legendInactiveClass)}}(S.config.plotOptions.heatmap.colorScale.ranges[F])}else"mouseout"===p.type&&B("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var p=arguments.length>0&&void 0!==arguments[0]&&arguments[0],f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",b=this.w,S=0;if(b.config.series.length>1)for(var D=b.config.series.map(function(F,Z){var q=!1;return p&&(q="bar"===b.config.series[Z].type||"column"===b.config.series[Z].type),F.data&&F.data.length>0&&!q?Z:-1}),B="asc"===f?0:D.length-1;"asc"===f?B<D.length:B>=0;"asc"===f?B++:B--)if(-1!==D[B]){S=D[B];break}return S}},{key:"getPreviousPaths",value:function(){var p=this.w;function f(B,F,Z){for(var q=B[F].childNodes,oe={type:Z,paths:[],realIndex:B[F].getAttribute("data:realIndex")},ue=0;ue<q.length;ue++)if(q[ue].hasAttribute("pathTo")){var ae=q[ue].getAttribute("pathTo");oe.paths.push({d:ae})}p.globals.previousPaths.push(oe)}p.globals.previousPaths=[],["line","area","bar","rangebar","candlestick","radar"].forEach(function(B){for(var Z=p.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(B,"-series .apexcharts-series")),q=0;q<Z.length;q++)f(Z,q,B)}),this.handlePrevBubbleScatterPaths("bubble"),this.handlePrevBubbleScatterPaths("scatter");var b=p.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(p.config.chart.type," .apexcharts-series"));if(b.length>0)for(var S=function(B){for(var F=p.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(p.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(B,"'] rect")),Z=[],q=function(ue){var ae=function(Ie){return F[ue].getAttribute(Ie)},_e={x:parseFloat(ae("x")),y:parseFloat(ae("y")),width:parseFloat(ae("width")),height:parseFloat(ae("height"))};Z.push({rect:_e,color:F[ue].getAttribute("color")})},oe=0;oe<F.length;oe++)q(oe);p.globals.previousPaths.push(Z)},D=0;D<b.length;D++)S(D);p.globals.axisCharts||(p.globals.previousPaths=p.globals.series)}},{key:"handlePrevBubbleScatterPaths",value:function(p){var f=this.w,b=f.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(p,"-series .apexcharts-series"));if(b.length>0)for(var S=0;S<b.length;S++){for(var D=f.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(p,"-series .apexcharts-series[data\\:realIndex='").concat(S,"'] circle")),B=[],F=0;F<D.length;F++)B.push({x:D[F].getAttribute("cx"),y:D[F].getAttribute("cy"),r:D[F].getAttribute("r")});f.globals.previousPaths.push(B)}}},{key:"clearPreviousPaths",value:function(){var p=this.w;p.globals.previousPaths=[],p.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var p=this.w,f=p.config.noData,b=new Wt(this.ctx),S=p.globals.svgWidth/2,D=p.globals.svgHeight/2,B="middle";if(p.globals.noData=!0,p.globals.animationEnded=!0,"left"===f.align?(S=10,B="start"):"right"===f.align&&(S=p.globals.svgWidth-10,B="end"),"top"===f.verticalAlign?D=50:"bottom"===f.verticalAlign&&(D=p.globals.svgHeight-50),S+=f.offsetX,D=D+parseInt(f.style.fontSize,10)+2+f.offsetY,void 0!==f.text&&""!==f.text){var F=b.drawText({x:S,y:D,text:f.text,textAnchor:B,fontSize:f.style.fontSize,fontFamily:f.style.fontFamily,foreColor:f.style.color,opacity:1,class:"apexcharts-text-nodata"});p.globals.dom.Paper.add(F)}}},{key:"setNullSeriesToZeroValues",value:function(p){for(var f=this.w,b=0;b<p.length;b++)if(0===p[b].length)for(var S=0;S<p[f.globals.maxValsInArrayIndex].length;S++)p[b].push(0);return p}},{key:"hasAllSeriesEqualX",value:function(){for(var p=!0,f=this.w,b=this.filteredSeriesX(),S=0;S<b.length-1;S++)if(b[S][0]!==b[S+1][0]){p=!1;break}return f.globals.allSeriesHasEqualX=p,p}},{key:"filteredSeriesX",value:function(){return this.w.globals.seriesX.map(function(f){return f.length>0?f:[]})}}]),Re}(),Bi=function(){function Re(p){ee(this,Re),this.w=p.w,this.barCtx=p}return de(Re,[{key:"initVariables",value:function(p){var f=this.w;this.barCtx.series=p,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var b=0;b<p.length;b++)if(p[b].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=p[b].length),f.globals.isXNumeric)for(var S=0;S<p[b].length;S++)f.globals.seriesX[b][S]>f.globals.minX&&f.globals.seriesX[b][S]<f.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=f.globals.dataPoints;0===this.barCtx.seriesLen&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],this.barCtx.radiusOnSeriesNumber=p.length-1,f.globals.comboCharts||this.checkZeroSeries({series:p})}},{key:"initialPositions",value:function(){var p,f,b,S,D,B,F,Z,q=this.w,oe=q.globals.dataPoints;this.barCtx.isTimelineBar&&(oe=q.globals.labels.length);var ue=this.barCtx.seriesLen;if(q.config.plotOptions.bar.rangeBarGroupRows&&(ue=1),this.barCtx.isHorizontal)D=(b=q.globals.gridHeight/oe)/ue,q.globals.isXNumeric&&(D=(b=q.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),D=D*parseInt(this.barCtx.barOptions.barHeight,10)/100,Z=this.barCtx.baseLineInvertedY+q.globals.padHorizontal+(this.barCtx.isReversed?q.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),f=(b-D*this.barCtx.seriesLen)/2;else{if(S=q.globals.gridWidth/this.barCtx.visibleItems,q.config.xaxis.convertedCatToNumeric&&(S=q.globals.gridWidth/q.globals.dataPoints),B=S/this.barCtx.seriesLen*parseInt(this.barCtx.barOptions.columnWidth,10)/100,q.globals.isXNumeric){var ae=this.barCtx.xRatio;q.config.xaxis.convertedCatToNumeric&&(ae=this.barCtx.initialXRatio),q.globals.minXDiff&&.5!==q.globals.minXDiff&&q.globals.minXDiff/ae>0&&(S=q.globals.minXDiff/ae),(B=S/this.barCtx.seriesLen*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(B=1)}F=q.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.yaxisIndex]-(this.barCtx.isReversed?q.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.yaxisIndex]:0),p=q.globals.padHorizontal+(S-B*this.barCtx.seriesLen)/2}return{x:p,y:f,yDivision:b,xDivision:S,barHeight:D,barWidth:B,zeroH:F,zeroW:Z}}},{key:"getPathFillColor",value:function(p,f,b,S){var D=this.w,B=new hn(this.barCtx.ctx),F=null,Z=this.barCtx.barOptions.distributed?b:f;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map(function(q){p[f][b]>=q.from&&p[f][b]<=q.to&&(F=q.color)}),D.config.series[f].data[b]&&D.config.series[f].data[b].fillColor&&(F=D.config.series[f].data[b].fillColor),B.fillPath({seriesNumber:this.barCtx.barOptions.distributed?Z:S,dataPointIndex:b,color:F,value:p[f][b]})}},{key:"getStrokeWidth",value:function(p,f,b){var S=0,D=this.w;return this.barCtx.isNullValue=null==this.barCtx.series[p][f],D.config.stroke.show&&(this.barCtx.isNullValue||(S=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[b]:this.barCtx.strokeWidth)),S}},{key:"barBackground",value:function(p){var f=p.j,b=p.i,S=p.x1,D=p.x2,B=p.y1,F=p.y2,Z=p.elSeries,q=this.w,oe=new Wt(this.barCtx.ctx),ue=new ai(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&ue===b){f>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(f-=this.barCtx.barOptions.colors.backgroundBarColors.length);var _e=oe.drawRect(void 0!==S?S:0,void 0!==B?B:0,void 0!==D?D:q.globals.gridWidth,void 0!==F?F:q.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,this.barCtx.barOptions.colors.backgroundBarColors[f],this.barCtx.barOptions.colors.backgroundBarOpacity);Z.add(_e),_e.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(p){var f=p.barWidth,b=p.barXPosition,S=p.yRatio,D=p.y1,B=p.y2,F=p.strokeWidth,Z=p.series,q=p.realIndex,oe=p.i,ue=p.j,ae=p.w,_e=new Wt(this.barCtx.ctx);(F=Array.isArray(F)?F[q]:F)||(F=0);var Pe=this.getRoundedBars(ae,{barWidth:f,strokeWidth:F,yRatio:S,barXPosition:b,y1:D,y2:B},Z,oe,ue),ze=b,We=b+f,st=_e.move(ze,D),bt=_e.move(ze,D),X=_e.line(We-F,D);return ae.globals.previousPaths.length>0&&(bt=this.barCtx.getPreviousPath(q,ue,!1)),st=st+_e.line(ze,Pe.y2)+Pe.pathWithRadius+_e.line(We-F,Pe.y2)+X+X+"z",bt=bt+_e.line(ze,D)+X+X+X+X+X+_e.line(ze,D),ae.config.chart.stacked&&(this.barCtx.yArrj.push(Pe.y2),this.barCtx.yArrjF.push(Math.abs(D-Pe.y2)),this.barCtx.yArrjVal.push(this.barCtx.series[oe][ue])),{pathTo:st,pathFrom:bt}}},{key:"getBarpaths",value:function(p){var f=p.barYPosition,b=p.barHeight,S=p.x1,D=p.x2,B=p.strokeWidth,F=p.series,Z=p.realIndex,q=p.i,oe=p.j,ue=p.w,ae=new Wt(this.barCtx.ctx);(B=Array.isArray(B)?B[Z]:B)||(B=0);var Ie=this.getRoundedBars(ue,{barHeight:b,strokeWidth:B,barYPosition:f,x2:D,x1:S},F,q,oe),Pe=ae.move(S,f),ze=ae.move(S,f);ue.globals.previousPaths.length>0&&(ze=this.barCtx.getPreviousPath(Z,oe,!1));var We=f,st=f+b,bt=ae.line(S,st-B);return Pe=Pe+ae.line(Ie.x2,We)+Ie.pathWithRadius+ae.line(Ie.x2,st-B)+bt+bt+"z",ze=ze+ae.line(S,We)+bt+bt+bt+bt+bt+ae.line(S,We),ue.config.chart.stacked&&(this.barCtx.xArrj.push(Ie.x2),this.barCtx.xArrjF.push(Math.abs(S-Ie.x2)),this.barCtx.xArrjVal.push(this.barCtx.series[q][oe])),{pathTo:Pe,pathFrom:ze}}},{key:"getRoundedBars",value:function(p,f,b,S,D){var B=new Wt(this.barCtx.ctx),F=p.config.plotOptions.bar.borderRadius;if(p.config.chart.stacked&&b.length>1&&S!==this.barCtx.radiusOnSeriesNumber&&(F=0),this.barCtx.isHorizontal){var Z="",q=f.x2;if(Math.abs(f.x1-f.x2)<F&&(F=Math.abs(f.x1-f.x2)),void 0!==b[S][D]||null!==b[S][D]){var oe=this.barCtx.isReversed?b[S][D]>0:b[S][D]<0;oe&&(F*=-1),Z=B.quadraticCurve((q-=F)+F,f.barYPosition,q+F,f.barYPosition+(oe?-1*F:F))+B.line(q+F,f.barYPosition+f.barHeight-f.strokeWidth-(oe?-1*F:F))+B.quadraticCurve(q+F,f.barYPosition+f.barHeight-f.strokeWidth,q,f.barYPosition+f.barHeight-f.strokeWidth)}return{pathWithRadius:Z,x2:q}}var ue="",ae=f.y2;if(Math.abs(f.y1-f.y2)<F&&(F=Math.abs(f.y1-f.y2)),void 0!==b[S][D]||null!==b[S][D]){var _e=b[S][D]<0;_e&&(F*=-1),ue=B.quadraticCurve(f.barXPosition,(ae+=F)-F,f.barXPosition+(_e?-1*F:F),ae-F)+B.line(f.barXPosition+f.barWidth-f.strokeWidth-(_e?-1*F:F),ae-F)+B.quadraticCurve(f.barXPosition+f.barWidth-f.strokeWidth,ae-F,f.barXPosition+f.barWidth-f.strokeWidth,ae)}return{pathWithRadius:ue,y2:ae}}},{key:"checkZeroSeries",value:function(p){for(var f=p.series,b=this.w,S=0;S<f.length;S++){for(var D=0,B=0;B<f[b.globals.maxValsInArrayIndex].length;B++)D+=f[S][B];0===D&&this.barCtx.zeroSerieses.push(S)}for(var F=f.length-1;F>=0;F--)this.barCtx.zeroSerieses.indexOf(F)>-1&&F===this.radiusOnSeriesNumber&&(this.barCtx.radiusOnSeriesNumber-=1);for(var Z=f.length-1;Z>=0;Z--)b.globals.collapsedSeriesIndices.indexOf(this.barCtx.radiusOnSeriesNumber)>-1&&(this.barCtx.radiusOnSeriesNumber-=1)}},{key:"getXForValue",value:function(p,f){var b=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],S=b?f:null;return null!=p&&(S=f+p/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?p/this.barCtx.invertedYRatio:0)),S}},{key:"getYForValue",value:function(p,f){var b=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],S=b?f:null;return null!=p&&(S=f-p/this.barCtx.yRatio[this.barCtx.yaxisIndex]+2*(this.barCtx.isReversed?p/this.barCtx.yRatio[this.barCtx.yaxisIndex]:0)),S}},{key:"getGoalValues",value:function(p,f,b,S,D){var B=this,F=this.w,Z=[];return F.globals.seriesGoals[S]&&F.globals.seriesGoals[S][D]&&Array.isArray(F.globals.seriesGoals[S][D])&&F.globals.seriesGoals[S][D].forEach(function(q){var oe;Z.push((Ce(oe={},p,"x"===p?B.getXForValue(q.value,f,!1):B.getYForValue(q.value,b,!1)),Ce(oe,"attrs",q),oe))}),Z}},{key:"drawGoalLine",value:function(p){var f=p.barXPosition,b=p.barYPosition,S=p.goalX,D=p.goalY,B=p.barWidth,F=p.barHeight,Z=new Wt(this.barCtx.ctx),q=Z.group({className:"apexcharts-bar-goals-groups"}),oe=null;return this.barCtx.isHorizontal?Array.isArray(S)&&S.forEach(function(ue){oe=Z.drawLine(ue.x,b,ue.x,b+F,ue.attrs.strokeColor?ue.attrs.strokeColor:void 0,0,ue.attrs.strokeWidth?ue.attrs.strokeWidth:2),q.add(oe)}):Array.isArray(D)&&D.forEach(function(ue){oe=Z.drawLine(f,ue.y,f+B,ue.y,ue.attrs.strokeColor?ue.attrs.strokeColor:void 0,0,ue.attrs.strokeWidth?ue.attrs.strokeWidth:2),q.add(oe)}),q}}]),Re}(),Vi=function(){function Re(p,f){ee(this,Re),this.ctx=p,this.w=p.w;var b=this.w;this.barOptions=b.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=b.config.stroke.width,this.isNullValue=!1,this.isTimelineBar="datetime"===b.config.xaxis.type&&b.globals.seriesRangeBarTimeline.length,this.xyRatios=f,null!==this.xyRatios&&(this.xRatio=f.xRatio,this.initialXRatio=f.initialXRatio,this.yRatio=f.yRatio,this.invertedXRatio=f.invertedXRatio,this.invertedYRatio=f.invertedYRatio,this.baseLineY=f.baseLineY,this.baseLineInvertedY=f.baseLineInvertedY),this.yaxisIndex=0,this.seriesLen=0,this.barHelpers=new Bi(this)}return de(Re,[{key:"draw",value:function(p,f){var b=this.w,S=new Wt(this.ctx),D=new hi(this.ctx,b);p=D.getLogSeries(p),this.series=p,this.yRatio=D.getLogYRatios(this.yRatio),this.barHelpers.initVariables(p);var B=S.group({class:"apexcharts-bar-series apexcharts-plot-series"});b.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering.");for(var F=0,Z=0;F<p.length;F++,Z++){var q,oe,ue,ae,_e=void 0,Ie=void 0,Pe=[],ze=[],We=b.globals.comboCharts?f[F]:F,st=S.group({class:"apexcharts-series",rel:F+1,seriesName:ct.escapeString(b.globals.seriesNames[We]),"data:realIndex":We});this.ctx.series.addCollapsedClassToSeries(st,We),p[F].length>0&&(this.visibleI=this.visibleI+1);var bt=0,X=0;this.yRatio.length>1&&(this.yaxisIndex=We),this.isReversed=b.config.yaxis[this.yaxisIndex]&&b.config.yaxis[this.yaxisIndex].reversed;var he=this.barHelpers.initialPositions();Ie=he.y,bt=he.barHeight,oe=he.yDivision,ae=he.zeroW,_e=he.x,X=he.barWidth,q=he.xDivision,ue=he.zeroH,this.horizontal||ze.push(_e+X/2);for(var Ne=S.group({class:"apexcharts-datalabels","data:realIndex":We}),Je=S.group({class:"apexcharts-bar-goals-markers",style:"pointer-events: none"}),mt=0;mt<b.globals.dataPoints;mt++){var ln=this.barHelpers.getStrokeWidth(F,mt,We),qt=null,un={indexes:{i:F,j:mt,realIndex:We,bc:Z},x:_e,y:Ie,strokeWidth:ln,elSeries:st};this.isHorizontal?(qt=this.drawBarPaths(Me(Me({},un),{},{barHeight:bt,zeroW:ae,yDivision:oe})),X=this.series[F][mt]/this.invertedYRatio):(qt=this.drawColumnPaths(Me(Me({},un),{},{xDivision:q,barWidth:X,zeroH:ue})),bt=this.series[F][mt]/this.yRatio[this.yaxisIndex]);var Vn=this.barHelpers.drawGoalLine({barXPosition:qt.barXPosition,barYPosition:qt.barYPosition,goalX:qt.goalX,goalY:qt.goalY,barHeight:bt,barWidth:X});Vn&&Je.add(Vn),Ie=qt.y,_e=qt.x,mt>0&&ze.push(_e+X/2),Pe.push(Ie);var zn=this.barHelpers.getPathFillColor(p,F,mt,We);this.renderSeries({realIndex:We,pathFill:zn,j:mt,i:F,pathFrom:qt.pathFrom,pathTo:qt.pathTo,strokeWidth:ln,elSeries:st,x:_e,y:Ie,series:p,barHeight:bt,barWidth:X,elDataLabelsWrap:Ne,elGoalsMarkers:Je,visibleSeries:this.visibleI,type:"bar"})}b.globals.seriesXvalues[We]=ze,b.globals.seriesYvalues[We]=Pe,B.add(st)}return B}},{key:"renderSeries",value:function(p){var f=p.realIndex,b=p.pathFill,S=p.lineFill,D=p.j,B=p.i,F=p.pathFrom,Z=p.pathTo,q=p.strokeWidth,oe=p.elSeries,ue=p.x,ae=p.y,_e=p.y1,Ie=p.y2,Pe=p.series,ze=p.barHeight,We=p.barWidth,st=p.barYPosition,bt=p.elDataLabelsWrap,X=p.elGoalsMarkers,he=p.visibleSeries,Ne=p.type,Je=this.w,mt=new Wt(this.ctx);S||(S=this.barOptions.distributed?Je.globals.stroke.colors[D]:Je.globals.stroke.colors[f]),Je.config.series[B].data[D]&&Je.config.series[B].data[D].strokeColor&&(S=Je.config.series[B].data[D].strokeColor),this.isNullValue&&(b="none");var qt=mt.renderPaths({i:B,j:D,realIndex:f,pathFrom:F,pathTo:Z,stroke:S,strokeWidth:q,strokeLineCap:Je.config.stroke.lineCap,fill:b,animationDelay:D/Je.config.chart.animations.animateGradually.delay*(Je.config.chart.animations.speed/Je.globals.dataPoints)/2.4,initialSpeed:Je.config.chart.animations.speed,dataChangeSpeed:Je.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(Ne,"-area")});qt.attr("clip-path","url(#gridRectMask".concat(Je.globals.cuid,")"));var un=Je.config.forecastDataPoints;un.count>0&&D>=Je.globals.dataPoints-un.count&&(qt.node.setAttribute("stroke-dasharray",un.dashArray),qt.node.setAttribute("stroke-width",un.strokeWidth),qt.node.setAttribute("fill-opacity",un.fillOpacity)),void 0!==_e&&void 0!==Ie&&(qt.attr("data-range-y1",_e),qt.attr("data-range-y2",Ie)),new Fn(this.ctx).setSelectionFilter(qt,f,D),oe.add(qt);var Vn=new vn(this).handleBarDataLabels({x:ue,y:ae,y1:_e,y2:Ie,i:B,j:D,series:Pe,realIndex:f,barHeight:ze,barWidth:We,barYPosition:st,renderedPath:qt,visibleSeries:he});return null!==Vn&&bt.add(Vn),oe.add(bt),X&&oe.add(X),oe}},{key:"drawBarPaths",value:function(p){var B,f=p.indexes,b=p.barHeight,S=p.strokeWidth,D=p.zeroW,F=p.y,Z=p.yDivision,q=p.elSeries,oe=this.w,ue=f.i,ae=f.j;oe.globals.isXNumeric&&(F=(oe.globals.seriesX[ue][ae]-oe.globals.minX)/this.invertedXRatio-b);var _e=F+b*this.visibleI;B=this.barHelpers.getXForValue(this.series[ue][ae],D);var Ie=this.barHelpers.getBarpaths({barYPosition:_e,barHeight:b,x1:D,x2:B,strokeWidth:S,series:this.series,realIndex:f.realIndex,i:ue,j:ae,w:oe});return oe.globals.isXNumeric||(F+=Z),this.barHelpers.barBackground({j:ae,i:ue,y1:_e-b*this.visibleI,y2:b*this.seriesLen,elSeries:q}),{pathTo:Ie.pathTo,pathFrom:Ie.pathFrom,x:B,y:F,goalX:this.barHelpers.getGoalValues("x",D,null,ue,ae),barYPosition:_e}}},{key:"drawColumnPaths",value:function(p){var S,f=p.indexes,b=p.x,D=p.xDivision,B=p.barWidth,F=p.zeroH,Z=p.strokeWidth,q=p.elSeries,oe=this.w,ue=f.realIndex,ae=f.i,_e=f.j,Ie=f.bc;if(oe.globals.isXNumeric){var Pe=ue;oe.globals.seriesX[ue].length||(Pe=oe.globals.maxValsInArrayIndex),b=(oe.globals.seriesX[Pe][_e]-oe.globals.minX)/this.xRatio-B*this.seriesLen/2}var ze=b+B*this.visibleI;S=this.barHelpers.getYForValue(this.series[ae][_e],F);var We=this.barHelpers.getColumnPaths({barXPosition:ze,barWidth:B,y1:F,y2:S,strokeWidth:Z,series:this.series,realIndex:f.realIndex,i:ae,j:_e,w:oe});return oe.globals.isXNumeric||(b+=D),this.barHelpers.barBackground({bc:Ie,j:_e,i:ae,x1:ze-Z/2-B*this.visibleI,x2:B*this.seriesLen+Z/2,elSeries:q}),{pathTo:We.pathTo,pathFrom:We.pathFrom,x:b,y:S,goalY:this.barHelpers.getGoalValues("y",null,F,ae,_e),barXPosition:ze}}},{key:"getPreviousPath",value:function(p,f){for(var b,S=this.w,D=0;D<S.globals.previousPaths.length;D++){var B=S.globals.previousPaths[D];B.paths&&B.paths.length>0&&parseInt(B.realIndex,10)===parseInt(p,10)&&void 0!==S.globals.previousPaths[D].paths[f]&&(b=S.globals.previousPaths[D].paths[f].d)}return b}}]),Re}(),fi=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return de(Re,[{key:"isValidDate",value:function(p){return!isNaN(this.parseDate(p))}},{key:"getTimeStamp",value:function(p){return Date.parse(p)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(p).toISOString().substr(0,25)).getTime():new Date(p).getTime():p}},{key:"getDate",value:function(p){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(p).toUTCString()):new Date(p)}},{key:"parseDate",value:function(p){var f=Date.parse(p);if(!isNaN(f))return this.getTimeStamp(p);var b=Date.parse(p.replace(/-/g,"/").replace(/[a-z]+/gi," "));return this.getTimeStamp(b)}},{key:"parseDateWithTimezone",value:function(p){return Date.parse(p.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(p,f){var b=this.w.globals.locale,S=this.w.config.xaxis.labels.datetimeUTC,D=["\0"].concat(rn(b.months)),B=["\x01"].concat(rn(b.shortMonths)),F=["\x02"].concat(rn(b.days)),Z=["\x03"].concat(rn(b.shortDays));function q(mt,ln){var qt=mt+"";for(ln=ln||2;qt.length<ln;)qt="0"+qt;return qt}var oe=S?p.getUTCFullYear():p.getFullYear();f=(f=(f=f.replace(/(^|[^\\])yyyy+/g,"$1"+oe)).replace(/(^|[^\\])yy/g,"$1"+oe.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+oe);var ue=(S?p.getUTCMonth():p.getMonth())+1;f=(f=(f=(f=f.replace(/(^|[^\\])MMMM+/g,"$1"+D[0])).replace(/(^|[^\\])MMM/g,"$1"+B[0])).replace(/(^|[^\\])MM/g,"$1"+q(ue))).replace(/(^|[^\\])M/g,"$1"+ue);var ae=S?p.getUTCDate():p.getDate();f=(f=(f=(f=f.replace(/(^|[^\\])dddd+/g,"$1"+F[0])).replace(/(^|[^\\])ddd/g,"$1"+Z[0])).replace(/(^|[^\\])dd/g,"$1"+q(ae))).replace(/(^|[^\\])d/g,"$1"+ae);var _e=S?p.getUTCHours():p.getHours(),Ie=_e>12?_e-12:0===_e?12:_e;f=(f=(f=(f=f.replace(/(^|[^\\])HH+/g,"$1"+q(_e))).replace(/(^|[^\\])H/g,"$1"+_e)).replace(/(^|[^\\])hh+/g,"$1"+q(Ie))).replace(/(^|[^\\])h/g,"$1"+Ie);var Pe=S?p.getUTCMinutes():p.getMinutes();f=(f=f.replace(/(^|[^\\])mm+/g,"$1"+q(Pe))).replace(/(^|[^\\])m/g,"$1"+Pe);var ze=S?p.getUTCSeconds():p.getSeconds();f=(f=f.replace(/(^|[^\\])ss+/g,"$1"+q(ze))).replace(/(^|[^\\])s/g,"$1"+ze);var We=S?p.getUTCMilliseconds():p.getMilliseconds();f=f.replace(/(^|[^\\])fff+/g,"$1"+q(We,3)),We=Math.round(We/10),f=f.replace(/(^|[^\\])ff/g,"$1"+q(We)),We=Math.round(We/10);var st=_e<12?"AM":"PM";f=(f=(f=f.replace(/(^|[^\\])f/g,"$1"+We)).replace(/(^|[^\\])TT+/g,"$1"+st)).replace(/(^|[^\\])T/g,"$1"+st.charAt(0));var bt=st.toLowerCase();f=(f=f.replace(/(^|[^\\])tt+/g,"$1"+bt)).replace(/(^|[^\\])t/g,"$1"+bt.charAt(0));var X=-p.getTimezoneOffset(),he=S||!X?"Z":X>0?"+":"-";if(!S){var Ne=(X=Math.abs(X))%60;he+=q(Math.floor(X/60))+":"+q(Ne)}f=f.replace(/(^|[^\\])K/g,"$1"+he);var Je=(S?p.getUTCDay():p.getDay())+1;return(f=(f=(f=(f=f.replace(new RegExp(F[0],"g"),F[Je])).replace(new RegExp(Z[0],"g"),Z[Je])).replace(new RegExp(D[0],"g"),D[ue])).replace(new RegExp(B[0],"g"),B[ue])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(p,f,b){var S=this.w;void 0!==S.config.xaxis.min&&(p=S.config.xaxis.min),void 0!==S.config.xaxis.max&&(f=S.config.xaxis.max);var D=this.getDate(p),B=this.getDate(f),F=this.formatDate(D,"yyyy MM dd HH mm ss fff").split(" "),Z=this.formatDate(B,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(F[6],10),maxMillisecond:parseInt(Z[6],10),minSecond:parseInt(F[5],10),maxSecond:parseInt(Z[5],10),minMinute:parseInt(F[4],10),maxMinute:parseInt(Z[4],10),minHour:parseInt(F[3],10),maxHour:parseInt(Z[3],10),minDate:parseInt(F[2],10),maxDate:parseInt(Z[2],10),minMonth:parseInt(F[1],10)-1,maxMonth:parseInt(Z[1],10)-1,minYear:parseInt(F[0],10),maxYear:parseInt(Z[0],10)}}},{key:"isLeapYear",value:function(p){return p%4==0&&p%100!=0||p%400==0}},{key:"calculcateLastDaysOfMonth",value:function(p,f,b){return this.determineDaysOfMonths(p,f)-b}},{key:"determineDaysOfYear",value:function(p){var f=365;return this.isLeapYear(p)&&(f=366),f}},{key:"determineRemainingDaysOfYear",value:function(p,f,b){var S=this.daysCntOfYear[f]+b;return f>1&&this.isLeapYear()&&S++,S}},{key:"determineDaysOfMonths",value:function(p,f){var b=30;switch(p=ct.monthMod(p),!0){case this.months30.indexOf(p)>-1:2===p&&(b=this.isLeapYear(f)?29:28);break;case this.months31.indexOf(p)>-1:default:b=31}return b}}]),Re}(),Ti=function(Re){Be(f,Vi);var p=Lt(f);function f(){return ee(this,f),p.apply(this,arguments)}return de(f,[{key:"draw",value:function(b,S){var D=this.w,B=new Wt(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=b,this.seriesRangeStart=D.globals.seriesRangeStart,this.seriesRangeEnd=D.globals.seriesRangeEnd,this.barHelpers.initVariables(b);for(var F=B.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),Z=0;Z<b.length;Z++){var q,oe,ue,ae=void 0,_e=void 0,Ie=void 0,Pe=D.globals.comboCharts?S[Z]:Z,ze=B.group({class:"apexcharts-series",seriesName:ct.escapeString(D.globals.seriesNames[Pe]),rel:Z+1,"data:realIndex":Pe});b[Z].length>0&&(this.visibleI=this.visibleI+1);var We=0,st=0;this.yRatio.length>1&&(this.yaxisIndex=Pe);var bt=this.barHelpers.initialPositions();_e=bt.y,ue=bt.zeroW,ae=bt.x,st=bt.barWidth,q=bt.xDivision,oe=bt.zeroH;for(var X=B.group({class:"apexcharts-datalabels","data:realIndex":Pe}),he=B.group({class:"apexcharts-rangebar-goals-markers",style:"pointer-events: none"}),Ne=0;Ne<D.globals.dataPoints;Ne++){var Je=this.barHelpers.getStrokeWidth(Z,Ne,Pe),mt=this.seriesRangeStart[Z][Ne],ln=this.seriesRangeEnd[Z][Ne],qt=null,un=null,Vn={x:ae,y:_e,strokeWidth:Je,elSeries:ze};if(Ie=bt.yDivision,We=bt.barHeight,this.isHorizontal){un=_e+We*this.visibleI;var zn=this.seriesLen;D.config.plotOptions.bar.rangeBarGroupRows&&(zn=1);var ki=(Ie-We*zn)/2;if(void 0===D.config.series[Z].data[Ne])break;if(this.isTimelineBar&&D.config.series[Z].data[Ne].x){var pr=this.detectOverlappingBars({i:Z,j:Ne,barYPosition:un,srty:ki,barHeight:We,yDivision:Ie,initPositions:bt});We=pr.barHeight,un=pr.barYPosition}st=(qt=this.drawRangeBarPaths(Me({indexes:{i:Z,j:Ne,realIndex:Pe},barHeight:We,barYPosition:un,zeroW:ue,yDivision:Ie,y1:mt,y2:ln},Vn))).barWidth}else We=(qt=this.drawRangeColumnPaths(Me({indexes:{i:Z,j:Ne,realIndex:Pe},zeroH:oe,barWidth:st,xDivision:q},Vn))).barHeight;var _i=this.barHelpers.drawGoalLine({barXPosition:qt.barXPosition,barYPosition:un,goalX:qt.goalX,goalY:qt.goalY,barHeight:We,barWidth:st});_i&&he.add(_i),_e=qt.y,ae=qt.x;var Yi=this.barHelpers.getPathFillColor(b,Z,Ne,Pe);this.renderSeries({realIndex:Pe,pathFill:Yi,lineFill:D.globals.stroke.colors[Pe],j:Ne,i:Z,x:ae,y:_e,y1:mt,y2:ln,pathFrom:qt.pathFrom,pathTo:qt.pathTo,strokeWidth:Je,elSeries:ze,series:b,barHeight:We,barYPosition:un,barWidth:st,elDataLabelsWrap:X,elGoalsMarkers:he,visibleSeries:this.visibleI,type:"rangebar"})}F.add(ze)}return F}},{key:"detectOverlappingBars",value:function(b){var S=b.i,D=b.j,B=b.barYPosition,F=b.srty,Z=b.barHeight,q=b.yDivision,oe=b.initPositions,ue=this.w,ae=[],_e=ue.config.series[S].data[D].rangeName,Ie=ue.config.series[S].data[D].x,Pe=ue.globals.labels.indexOf(Ie),ze=ue.globals.seriesRangeBarTimeline[S].findIndex(function(We){return We.x===Ie&&We.overlaps.length>0});return B=ue.config.plotOptions.bar.rangeBarGroupRows?F+q*Pe:F+Z*this.visibleI+q*Pe,ze>-1&&!ue.config.plotOptions.bar.rangeBarOverlap&&(ae=ue.globals.seriesRangeBarTimeline[S][ze].overlaps).indexOf(_e)>-1&&(B=(Z=oe.barHeight/ae.length)*this.visibleI+q*(100-parseInt(this.barOptions.barHeight,10))/100/2+Z*(this.visibleI+ae.indexOf(_e))+q*Pe),{barYPosition:B,barHeight:Z}}},{key:"drawRangeColumnPaths",value:function(b){var S=b.indexes,D=b.x,B=b.xDivision,F=b.barWidth,Z=b.zeroH,q=this.w,oe=S.i,ue=S.j,ae=this.yRatio[this.yaxisIndex],_e=S.realIndex,Ie=this.getRangeValue(_e,ue),Pe=Math.min(Ie.start,Ie.end),ze=Math.max(Ie.start,Ie.end);q.globals.isXNumeric&&(D=(q.globals.seriesX[oe][ue]-q.globals.minX)/this.xRatio-F/2);var We=D+F*this.visibleI;null==this.series[oe][ue]?Pe=Z:(Pe=Z-Pe/ae,ze=Z-ze/ae);var st=Math.abs(ze-Pe),bt=this.barHelpers.getColumnPaths({barXPosition:We,barWidth:F,y1:Pe,y2:ze,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:S.realIndex,i:_e,j:ue,w:q});return q.globals.isXNumeric||(D+=B),{pathTo:bt.pathTo,pathFrom:bt.pathFrom,barHeight:st,x:D,y:ze,goalY:this.barHelpers.getGoalValues("y",null,Z,oe,ue),barXPosition:We}}},{key:"drawRangeBarPaths",value:function(b){var S=b.indexes,D=b.y,Z=b.yDivision,q=b.barHeight,oe=b.barYPosition,ue=b.zeroW,ae=this.w,_e=ue+b.y1/this.invertedYRatio,Ie=ue+b.y2/this.invertedYRatio,Pe=Math.abs(Ie-_e),ze=this.barHelpers.getBarpaths({barYPosition:oe,barHeight:q,x1:_e,x2:Ie,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:S.realIndex,realIndex:S.realIndex,j:S.j,w:ae});return ae.globals.isXNumeric||(D+=Z),{pathTo:ze.pathTo,pathFrom:ze.pathFrom,barWidth:Pe,x:Ie,goalX:this.barHelpers.getGoalValues("x",ue,null,S.realIndex,S.j),y:D}}},{key:"getRangeValue",value:function(b,S){var D=this.w;return{start:D.globals.seriesRangeStart[b][S],end:D.globals.seriesRangeEnd[b][S]}}},{key:"getTooltipValues",value:function(b){var S=b.ctx,D=b.seriesIndex,B=b.dataPointIndex,F=b.y1,Z=b.y2,q=b.w,oe=q.globals.seriesRangeStart[D][B],ue=q.globals.seriesRangeEnd[D][B],ae=q.globals.labels[B],_e=q.config.series[D].name?q.config.series[D].name:"",Ie=q.config.tooltip.y.formatter,Pe=q.config.tooltip.y.title.formatter,ze={w:q,seriesIndex:D,dataPointIndex:B,start:oe,end:ue};"function"==typeof Pe&&(_e=Pe(_e,ze)),Number.isFinite(F)&&Number.isFinite(Z)&&(oe=F,ue=Z,q.config.series[D].data[B].x&&(ae=q.config.series[D].data[B].x+":"),"function"==typeof Ie&&(ae=Ie(ae,ze)));var We="",st="",bt=q.globals.colors[D];if(void 0===q.config.tooltip.x.formatter)if("datetime"===q.config.xaxis.type){var X=new fi(S);We=X.formatDate(X.getDate(oe),q.config.tooltip.x.format),st=X.formatDate(X.getDate(ue),q.config.tooltip.x.format)}else We=oe,st=ue;else We=q.config.tooltip.x.formatter(oe),st=q.config.tooltip.x.formatter(ue);return{start:oe,end:ue,startVal:We,endVal:st,ylabel:ae,color:bt,seriesName:_e}}},{key:"buildCustomTooltipHTML",value:function(b){return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+b.color+'">'+(b.seriesName||"")+'</span></div><div> <span class="category">'+b.ylabel+' </span> <span class="value start-value">'+b.start+'</span> <span class="separator">-</span> <span class="value end-value">'+b.end+"</span></div></div>"}}]),f}(),vi=function(){function Re(p){ee(this,Re),this.opts=p}return de(Re,[{key:"line",value:function(){return{chart:{animations:{easing:"swing"}},dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(p){return this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0,ct.extend(p,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"bar",value:function(){return{chart:{stacked:!1,animations:{easing:"swing"}},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"round"},fill:{opacity:.85},legend:{markers:{shape:"square",radius:2,size:8}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"candlestick",value:function(){var p=this;return{stroke:{width:1,colors:["#333"]},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(f){return p._getBoxTooltip(f.w,f.seriesIndex,f.dataPointIndex,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var p=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(f){return p._getBoxTooltip(f.w,f.seriesIndex,f.dataPointIndex,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:5,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(p,f){var b=f.seriesIndex,S=f.dataPointIndex,D=f.w;return D.globals.seriesRangeEnd[b][S]-D.globals.seriesRangeStart[b][S]},background:{enabled:!1},style:{colors:["#fff"]}},tooltip:{shared:!1,followCursor:!0,custom:function(p){return p.w.config.plotOptions&&p.w.config.plotOptions.bar&&p.w.config.plotOptions.bar.horizontal?(S=(b=new Ti((f=p).ctx,null)).getTooltipValues(f),b.buildCustomTooltipHTML({color:S.color,seriesName:S.seriesName,ylabel:S.ylabel,start:S.startVal,end:S.endVal})):function(f){var b=new Ti(f.ctx,null),S=b.getTooltipValues(f);return b.buildCustomTooltipHTML({color:S.color,seriesName:S.seriesName,ylabel:S.ylabel,start:S.start,end:S.end})}(p);var f,b,S}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"area",value:function(){return{stroke:{width:4},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"brush",value:function(p){return ct.extend(p,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(p){p.dataLabels=p.dataLabels||{},p.dataLabels.formatter=p.dataLabels.formatter||void 0;var f=p.dataLabels.formatter;return p.yaxis.forEach(function(b,S){p.yaxis[S].min=0,p.yaxis[S].max=100}),"bar"===p.chart.type&&(p.dataLabels.formatter=f||function(b){return"number"==typeof b&&b?b.toFixed(0)+"%":b}),p}},{key:"convertCatToNumeric",value:function(p){return p.xaxis.convertedCatToNumeric=!0,p}},{key:"convertCatToNumericXaxis",value:function(p,f,b){p.xaxis.type="numeric",p.xaxis.labels=p.xaxis.labels||{},p.xaxis.labels.formatter=p.xaxis.labels.formatter||function(B){return ct.isNumber(B)?Math.floor(B):B};var S=p.xaxis.labels.formatter,D=p.xaxis.categories&&p.xaxis.categories.length?p.xaxis.categories:p.labels;return b&&b.length&&(D=b.map(function(B){return Array.isArray(B)?B:String(B)})),D&&D.length&&(p.xaxis.labels.formatter=function(B){return ct.isNumber(B)?S(D[Math.floor(B)-1]):S(B)}),p.xaxis.categories=[],p.labels=[],p.xaxis.tickAmount=p.xaxis.tickAmount||"dataPoints",p}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square",size:10,offsetY:2}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(p){return p.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(p){return p.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"polarArea",value:function(){return this.opts.yaxis[0].tickAmount=this.opts.yaxis[0].tickAmount?this.opts.yaxis[0].tickAmount:6,{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(p){return p.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:3,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1},xaxis:{labels:{formatter:function(p){return p},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0}}}},{key:"_getBoxTooltip",value:function(p,f,b,S,D){var B=p.globals.seriesCandleO[f][b],F=p.globals.seriesCandleH[f][b],Z=p.globals.seriesCandleM[f][b],q=p.globals.seriesCandleL[f][b],oe=p.globals.seriesCandleC[f][b];return p.config.series[f].type&&p.config.series[f].type!==D?'<div class="apexcharts-custom-tooltip">\n          '.concat(p.config.series[f].name?p.config.series[f].name:"series-"+(f+1),": <strong>").concat(p.globals.series[f][b],"</strong>\n        </div>"):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(p.config.chart.type,'">')+"<div>".concat(S[0],': <span class="value">')+B+"</span></div>"+"<div>".concat(S[1],': <span class="value">')+F+"</span></div>"+(Z?"<div>".concat(S[2],': <span class="value">')+Z+"</span></div>":"")+"<div>".concat(S[3],': <span class="value">')+q+"</span></div>"+"<div>".concat(S[4],': <span class="value">')+oe+"</span></div></div>"}}]),Re}(),bi=function(){function Re(p){ee(this,Re),this.opts=p}return de(Re,[{key:"init",value:function(p){var f=p.responsiveOverride,b=this.opts,S=new Yr,D=new vi(b);this.chartType=b.chart.type,"histogram"===this.chartType&&(b.chart.type="bar",b=ct.extend({plotOptions:{bar:{columnWidth:"99.99%"}}},b)),b=this.extendYAxis(b),b=this.extendAnnotations(b);var B=S.init(),F={};if(b&&"object"===$(b)){var Z={};Z=-1!==["line","area","bar","candlestick","boxPlot","rangeBar","histogram","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(b.chart.type)?D[b.chart.type]():D.line(),b.chart.brush&&b.chart.brush.enabled&&(Z=D.brush(Z)),b.chart.stacked&&"100%"===b.chart.stackType&&(b=D.stacked100(b)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(b),b.xaxis=b.xaxis||window.Apex.xaxis||{},f||(b.xaxis.convertedCatToNumeric=!1),((b=this.checkForCatToNumericXAxis(this.chartType,Z,b)).chart.sparkline&&b.chart.sparkline.enabled||window.Apex.chart&&window.Apex.chart.sparkline&&window.Apex.chart.sparkline.enabled)&&(Z=D.sparkline(Z)),F=ct.extend(B,Z)}var q=ct.extend(F,window.Apex);return B=ct.extend(q,b),this.handleUserInputErrors(B)}},{key:"checkForCatToNumericXAxis",value:function(p,f,b){var S=new vi(b);return"bar"===p&&b.plotOptions&&b.plotOptions.bar&&b.plotOptions.bar.horizontal||"pie"===p||"polarArea"===p||"donut"===p||"radar"===p||"radialBar"===p||"heatmap"===p||!("datetime"!==b.xaxis.type&&"numeric"!==b.xaxis.type)||"between"===(b.xaxis.tickPlacement?b.xaxis.tickPlacement:f.xaxis&&f.xaxis.tickPlacement)||(b=S.convertCatToNumeric(b)),b}},{key:"extendYAxis",value:function(p,f){var b=new Yr;(void 0===p.yaxis||!p.yaxis||Array.isArray(p.yaxis)&&0===p.yaxis.length)&&(p.yaxis={}),p.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(p.yaxis=ct.extend(p.yaxis,window.Apex.yaxis)),p.yaxis=p.yaxis.constructor!==Array?[ct.extend(b.yAxis,p.yaxis)]:ct.extendArray(p.yaxis,b.yAxis);var S=!1;p.yaxis.forEach(function(B){B.logarithmic&&(S=!0)});var D=p.series;return f&&!D&&(D=f.config.series),S&&D.length!==p.yaxis.length&&D.length&&(p.yaxis=D.map(function(B,F){if(B.name||(D[F].name="series-".concat(F+1)),p.yaxis[F])return p.yaxis[F].seriesName=D[F].name,p.yaxis[F];var Z=ct.extend(b.yAxis,p.yaxis[0]);return Z.show=!1,Z})),S&&D.length>1&&D.length!==p.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes. Please make sure to equalize both."),p}},{key:"extendAnnotations",value:function(p){return void 0===p.annotations&&(p.annotations={},p.annotations.yaxis=[],p.annotations.xaxis=[],p.annotations.points=[]),p=this.extendYAxisAnnotations(p),p=this.extendXAxisAnnotations(p),this.extendPointAnnotations(p)}},{key:"extendYAxisAnnotations",value:function(p){var f=new Yr;return p.annotations.yaxis=ct.extendArray(void 0!==p.annotations.yaxis?p.annotations.yaxis:[],f.yAxisAnnotation),p}},{key:"extendXAxisAnnotations",value:function(p){var f=new Yr;return p.annotations.xaxis=ct.extendArray(void 0!==p.annotations.xaxis?p.annotations.xaxis:[],f.xAxisAnnotation),p}},{key:"extendPointAnnotations",value:function(p){var f=new Yr;return p.annotations.points=ct.extendArray(void 0!==p.annotations.points?p.annotations.points:[],f.pointAnnotation),p}},{key:"checkForDarkTheme",value:function(p){p.theme&&"dark"===p.theme.mode&&(p.tooltip||(p.tooltip={}),"light"!==p.tooltip.theme&&(p.tooltip.theme="dark"),p.chart.foreColor||(p.chart.foreColor="#f6f7f8"),p.chart.background||(p.chart.background="#424242"),p.theme.palette||(p.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(p){var f=p;if(f.tooltip.shared&&f.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if("bar"===f.chart.type&&f.plotOptions.bar.horizontal){if(f.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");f.yaxis[0].reversed&&(f.yaxis[0].opposite=!0),f.xaxis.tooltip.enabled=!1,f.yaxis[0].tooltip.enabled=!1,f.chart.zoom.enabled=!1}return"bar"!==f.chart.type&&"rangeBar"!==f.chart.type||f.tooltip.shared&&"barWidth"===f.xaxis.crosshairs.width&&f.series.length>1&&(f.xaxis.crosshairs.width="tickWidth"),"candlestick"!==f.chart.type&&"boxPlot"!==f.chart.type||f.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(f.chart.type," chart is not supported.")),f.yaxis[0].reversed=!1),f.chart.group&&0===f.yaxis[0].labels.minWidth&&console.warn("It looks like you have multiple charts in synchronization. You must provide yaxis.labels.minWidth which must be EQUAL for all grouped charts to prevent incorrect behaviour."),Array.isArray(f.stroke.width)&&"line"!==f.chart.type&&"area"!==f.chart.type&&(console.warn("stroke.width option accepts array only for line and area charts. Reverted back to Number"),f.stroke.width=f.stroke.width[0]),f}}]),Re}(),Kn=function(){function Re(){ee(this,Re)}return de(Re,[{key:"initGlobalVars",value:function(p){p.series=[],p.seriesCandleO=[],p.seriesCandleH=[],p.seriesCandleM=[],p.seriesCandleL=[],p.seriesCandleC=[],p.seriesRangeStart=[],p.seriesRangeEnd=[],p.seriesRangeBarTimeline=[],p.seriesPercent=[],p.seriesGoals=[],p.seriesX=[],p.seriesZ=[],p.seriesNames=[],p.seriesTotals=[],p.seriesLog=[],p.seriesColors=[],p.stackedSeriesTotals=[],p.seriesXvalues=[],p.seriesYvalues=[],p.labels=[],p.categoryLabels=[],p.timescaleLabels=[],p.noLabelsProvided=!1,p.resizeTimer=null,p.selectionResizeTimer=null,p.delayedElements=[],p.pointsArray=[],p.dataLabelsRects=[],p.isXNumeric=!1,p.xaxisLabelsCount=0,p.skipLastTimelinelabel=!1,p.skipFirstTimelinelabel=!1,p.isDataXYZ=!1,p.isMultiLineX=!1,p.isMultipleYAxis=!1,p.maxY=-Number.MAX_VALUE,p.minY=Number.MIN_VALUE,p.minYArr=[],p.maxYArr=[],p.maxX=-Number.MAX_VALUE,p.minX=Number.MAX_VALUE,p.initialMaxX=-Number.MAX_VALUE,p.initialMinX=Number.MAX_VALUE,p.maxDate=0,p.minDate=Number.MAX_VALUE,p.minZ=Number.MAX_VALUE,p.maxZ=-Number.MAX_VALUE,p.minXDiff=Number.MAX_VALUE,p.yAxisScale=[],p.xAxisScale=null,p.xAxisTicksPositions=[],p.yLabelsCoords=[],p.yTitleCoords=[],p.barPadForNumericAxis=0,p.padHorizontal=0,p.xRange=0,p.yRange=[],p.zRange=0,p.dataPoints=0,p.xTickAmount=0}},{key:"globalVars",value:function(p){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:p.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],goldenPadding:35,invalidLogScale:!1,ignoreYAxisIndexes:[],yAxisSameScaleIndices:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:"zoom"===p.chart.toolbar.autoSelected&&p.chart.toolbar.tools.zoom&&p.chart.zoom.enabled,panEnabled:"pan"===p.chart.toolbar.autoSelected&&p.chart.toolbar.tools.pan,selectionEnabled:"selection"===p.chart.toolbar.autoSelected&&p.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,easing:null,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null}}},{key:"init",value:function(p){var f=this.globalVars(p);return this.initGlobalVars(f),f.initialConfig=ct.extend({},p),f.initialSeries=ct.clone(p.series),f.lastXAxis=ct.clone(f.initialConfig.xaxis),f.lastYAxis=ct.clone(f.initialConfig.yaxis),f}}]),Re}(),Oi=function(){function Re(p){ee(this,Re),this.opts=p}return de(Re,[{key:"init",value:function(){var p=new bi(this.opts).init({responsiveOverride:!1});return{config:p,globals:(new Kn).init(p)}}}]),Re}(),kr=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new hi(this.ctx)}return de(Re,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var p=this.w.config.series.slice(),f=new ai(this.ctx);if(this.activeSeriesIndex=f.getActiveConfigSeriesIndex(),void 0!==p[this.activeSeriesIndex].data&&p[this.activeSeriesIndex].data.length>0&&null!==p[this.activeSeriesIndex].data[0]&&void 0!==p[this.activeSeriesIndex].data[0].x&&null!==p[this.activeSeriesIndex].data[0])return!0}},{key:"isFormat2DArray",value:function(){var p=this.w.config.series.slice(),f=new ai(this.ctx);if(this.activeSeriesIndex=f.getActiveConfigSeriesIndex(),void 0!==p[this.activeSeriesIndex].data&&p[this.activeSeriesIndex].data.length>0&&null!=p[this.activeSeriesIndex].data[0]&&p[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(p,f){for(var b=this.w.config,S=this.w.globals,D="boxPlot"===b.chart.type||"boxPlot"===b.series[f].type,B=0;B<p[f].data.length;B++)if(void 0!==p[f].data[B][1]&&(Array.isArray(p[f].data[B][1])&&4===p[f].data[B][1].length&&!D?this.twoDSeries.push(ct.parseNumber(p[f].data[B][1][3])):this.twoDSeries.push(ct.parseNumber(p[f].data[B].length>=5?p[f].data[B][4]:p[f].data[B][1])),S.dataFormatXNumeric=!0),"datetime"===b.xaxis.type){var F=new Date(p[f].data[B][0]);F=new Date(F).getTime(),this.twoDSeriesX.push(F)}else this.twoDSeriesX.push(p[f].data[B][0]);for(var Z=0;Z<p[f].data.length;Z++)void 0!==p[f].data[Z][2]&&(this.threeDSeries.push(p[f].data[Z][2]),S.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(p,f){var b=this.w.config,S=this.w.globals,D=new fi(this.ctx),B=f;S.collapsedSeriesIndices.indexOf(f)>-1&&(B=this.activeSeriesIndex);for(var F=0;F<p[f].data.length;F++)void 0!==p[f].data[F].y&&(Array.isArray(p[f].data[F].y)?this.twoDSeries.push(ct.parseNumber(p[f].data[F].y[p[f].data[F].y.length-1])):this.twoDSeries.push(ct.parseNumber(p[f].data[F].y))),void 0!==p[f].data[F].goals&&Array.isArray(p[f].data[F].goals)?(void 0===this.seriesGoals[f]&&(this.seriesGoals[f]=[]),this.seriesGoals[f].push(p[f].data[F].goals)):(void 0===this.seriesGoals[f]&&(this.seriesGoals[f]=[]),this.seriesGoals[f].push(null));for(var Z=0;Z<p[B].data.length;Z++){var q="string"==typeof p[B].data[Z].x,oe=Array.isArray(p[B].data[Z].x),ue=!oe&&!!D.isValidDate(p[B].data[Z].x.toString());q||ue?q||b.xaxis.convertedCatToNumeric?"datetime"!==b.xaxis.type||S.isBarHorizontal&&S.isRangeData?(this.fallbackToCategory=!0,this.twoDSeriesX.push(p[B].data[Z].x)):this.twoDSeriesX.push(D.parseDate(p[B].data[Z].x)):"datetime"===b.xaxis.type?this.twoDSeriesX.push(D.parseDate(p[B].data[Z].x.toString())):(S.dataFormatXNumeric=!0,S.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(p[B].data[Z].x))):oe?(this.fallbackToCategory=!0,this.twoDSeriesX.push(p[B].data[Z].x)):(S.isXNumeric=!0,S.dataFormatXNumeric=!0,this.twoDSeriesX.push(p[B].data[Z].x))}if(p[f].data[0]&&void 0!==p[f].data[0].z){for(var _e=0;_e<p[f].data.length;_e++)this.threeDSeries.push(p[f].data[_e].z);S.isDataXYZ=!0}}},{key:"handleRangeData",value:function(p,f){var b=this.w.config,S=this.w.globals,D={};return this.isFormat2DArray()?D=this.handleRangeDataFormat("array",p,f):this.isFormatXY()&&(D=this.handleRangeDataFormat("xy",p,f)),S.seriesRangeStart.push(D.start),S.seriesRangeEnd.push(D.end),"datetime"===b.xaxis.type&&S.seriesRangeBarTimeline.push(D.rangeUniques),S.seriesRangeBarTimeline.forEach(function(B,F){B&&B.forEach(function(Z,q){Z.y.forEach(function(oe,ue){for(var ae=0;ae<Z.y.length;ae++)ue!==ae&&oe.y1<=Z.y[ae].y2&&Z.y[ae].y1<=oe.y2&&(Z.overlaps.indexOf(oe.rangeName)<0&&Z.overlaps.push(oe.rangeName),Z.overlaps.indexOf(Z.y[ae].rangeName)<0&&Z.overlaps.push(Z.y[ae].rangeName))})})}),D}},{key:"handleCandleStickBoxData",value:function(p,f){var b=this.w.globals,S={};return this.isFormat2DArray()?S=this.handleCandleStickBoxDataFormat("array",p,f):this.isFormatXY()&&(S=this.handleCandleStickBoxDataFormat("xy",p,f)),b.seriesCandleO[f]=S.o,b.seriesCandleH[f]=S.h,b.seriesCandleM[f]=S.m,b.seriesCandleL[f]=S.l,b.seriesCandleC[f]=S.c,S}},{key:"handleRangeDataFormat",value:function(p,f,b){var S=[],D=[],B=f[b].data.filter(function(ae,_e,Ie){return _e===Ie.findIndex(function(Pe){return Pe.x===ae.x})}).map(function(ae,_e){return{x:ae.x,overlaps:[],y:[]}}),F="Please provide [Start, End] values in valid format. Read more https://apexcharts.com/docs/series/#rangecharts",Z=new ai(this.ctx).getActiveConfigSeriesIndex();if("array"===p){if(2!==f[Z].data[0][1].length)throw new Error(F);for(var q=0;q<f[b].data.length;q++)S.push(f[b].data[q][1][0]),D.push(f[b].data[q][1][1])}else if("xy"===p){if(2!==f[Z].data[0].y.length)throw new Error(F);for(var oe=function(ae){var _e=ct.randomId(),Ie=f[b].data[ae].x,Pe={y1:f[b].data[ae].y[0],y2:f[b].data[ae].y[1],rangeName:_e};f[b].data[ae].rangeName=_e;var ze=B.findIndex(function(We){return We.x===Ie});B[ze].y.push(Pe),S.push(Pe.y1),D.push(Pe.y2)},ue=0;ue<f[b].data.length;ue++)oe(ue)}return{start:S,end:D,rangeUniques:B}}},{key:"handleCandleStickBoxDataFormat",value:function(p,f,b){var S=this.w,D="boxPlot"===S.config.chart.type||"boxPlot"===S.config.series[b].type,B=[],F=[],Z=[],q=[],oe=[];if("array"===p)if(D&&6===f[b].data[0].length||!D&&5===f[b].data[0].length)for(var ue=0;ue<f[b].data.length;ue++)B.push(f[b].data[ue][1]),F.push(f[b].data[ue][2]),D?(Z.push(f[b].data[ue][3]),q.push(f[b].data[ue][4]),oe.push(f[b].data[ue][5])):(q.push(f[b].data[ue][3]),oe.push(f[b].data[ue][4]));else for(var ae=0;ae<f[b].data.length;ae++)Array.isArray(f[b].data[ae][1])&&(B.push(f[b].data[ae][1][0]),F.push(f[b].data[ae][1][1]),D?(Z.push(f[b].data[ae][1][2]),q.push(f[b].data[ae][1][3]),oe.push(f[b].data[ae][1][4])):(q.push(f[b].data[ae][1][2]),oe.push(f[b].data[ae][1][3])));else if("xy"===p)for(var _e=0;_e<f[b].data.length;_e++)Array.isArray(f[b].data[_e].y)&&(B.push(f[b].data[_e].y[0]),F.push(f[b].data[_e].y[1]),D?(Z.push(f[b].data[_e].y[2]),q.push(f[b].data[_e].y[3]),oe.push(f[b].data[_e].y[4])):(q.push(f[b].data[_e].y[2]),oe.push(f[b].data[_e].y[3])));return{o:B,h:F,m:Z,l:q,c:oe}}},{key:"parseDataAxisCharts",value:function(p){var f=this,b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.ctx,S=this.w.config,D=this.w.globals,B=new fi(b),F=S.labels.length>0?S.labels.slice():S.xaxis.categories.slice();D.isTimelineBar="rangeBar"===S.chart.type&&"datetime"===S.xaxis.type;for(var Z=function(){for(var ue=0;ue<F.length;ue++)if("string"==typeof F[ue]){if(!B.isValidDate(F[ue]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");f.twoDSeriesX.push(B.parseDate(F[ue]))}else f.twoDSeriesX.push(F[ue])},q=0;q<p.length;q++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],void 0===p[q].data)return void console.error("It is a possibility that you may have not included 'data' property in series.");if("rangeBar"!==S.chart.type&&"rangeArea"!==S.chart.type&&"rangeBar"!==p[q].type&&"rangeArea"!==p[q].type||(D.isRangeData=!0,this.handleRangeData(p,q)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(p,q):this.isFormatXY()&&this.handleFormatXY(p,q),"candlestick"!==S.chart.type&&"candlestick"!==p[q].type&&"boxPlot"!==S.chart.type&&"boxPlot"!==p[q].type||this.handleCandleStickBoxData(p,q),D.series.push(this.twoDSeries),D.labels.push(this.twoDSeriesX),D.seriesX.push(this.twoDSeriesX),D.seriesGoals=this.seriesGoals,q!==this.activeSeriesIndex||this.fallbackToCategory||(D.isXNumeric=!0);else{"datetime"===S.xaxis.type?(D.isXNumeric=!0,Z(),D.seriesX.push(this.twoDSeriesX)):"numeric"===S.xaxis.type&&(D.isXNumeric=!0,F.length>0&&(this.twoDSeriesX=F,D.seriesX.push(this.twoDSeriesX))),D.labels.push(this.twoDSeriesX);var oe=p[q].data.map(function(ue){return ct.parseNumber(ue)});D.series.push(oe)}D.seriesZ.push(this.threeDSeries),D.seriesNames.push(void 0!==p[q].name?p[q].name:"series-"+parseInt(q+1,10)),D.seriesColors.push(void 0!==p[q].color?p[q].color:void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(p){var f=this.w.globals,b=this.w.config;f.series=p.slice(),f.seriesNames=b.labels.slice();for(var S=0;S<f.series.length;S++)void 0===f.seriesNames[S]&&f.seriesNames.push("series-"+(S+1));return this.w}},{key:"handleExternalLabelsData",value:function(p){var f=this.w.config,b=this.w.globals;f.xaxis.categories.length>0?b.labels=f.xaxis.categories:f.labels.length>0?b.labels=f.labels.slice():this.fallbackToCategory?(b.labels=b.labels[0],b.seriesRangeBarTimeline.length&&(b.seriesRangeBarTimeline.map(function(S){S.forEach(function(D){b.labels.indexOf(D.x)<0&&D.x&&b.labels.push(D.x)})}),b.labels=b.labels.filter(function(S,D,B){return B.indexOf(S)===D})),f.xaxis.convertedCatToNumeric&&(new vi(f).convertCatToNumericXaxis(f,this.ctx,b.seriesX[0]),this._generateExternalLabels(p))):this._generateExternalLabels(p)}},{key:"_generateExternalLabels",value:function(p){var f=this.w.globals,b=this.w.config,S=[];if(f.axisCharts){if(f.series.length>0)for(var D=0;D<f.series[f.maxValsInArrayIndex].length;D++)S.push(D+1);f.seriesX=[];for(var B=0;B<p.length;B++)f.seriesX.push(S);f.isXNumeric=!0}if(0===S.length){S=f.axisCharts?[]:f.series.map(function(Z,q){return q+1});for(var F=0;F<p.length;F++)f.seriesX.push(S)}f.labels=S,b.xaxis.convertedCatToNumeric&&(f.categoryLabels=S.map(function(Z){return b.xaxis.labels.formatter(Z)})),f.noLabelsProvided=!0}},{key:"parseData",value:function(p){var f=this.w,b=f.config,S=f.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),S.axisCharts?this.parseDataAxisCharts(p):this.parseDataNonAxisCharts(p),this.coreUtils.getLargestSeries(),"bar"===b.chart.type&&b.chart.stacked){var D=new ai(this.ctx);S.series=D.setNullSeriesToZeroValues(S.series)}this.coreUtils.getSeriesTotals(),S.axisCharts&&this.coreUtils.getStackedSeriesTotals(),this.coreUtils.getPercentSeries(),S.dataFormatXNumeric||S.isXNumeric&&("numeric"!==b.xaxis.type||0!==b.labels.length||0!==b.xaxis.categories.length)||this.handleExternalLabelsData(p);for(var B=this.coreUtils.getCategoryLabels(S.labels),F=0;F<B.length;F++)if(Array.isArray(B[F])){S.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var p=this,f=this.w;f.globals.ignoreYAxisIndexes=f.globals.collapsedSeries.map(function(b,S){if(p.w.globals.isMultipleYAxis&&!f.config.chart.stacked)return b.index})}}]),Re}(),xo=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w,this.tooltipKeyFormat="dd MMM"}return de(Re,[{key:"xLabelFormat",value:function(p,f,b,S){var D=this.w;if("datetime"===D.config.xaxis.type&&void 0===D.config.xaxis.labels.formatter&&void 0===D.config.tooltip.x.formatter){var B=new fi(this.ctx);return B.formatDate(B.getDate(f),D.config.tooltip.x.format)}return p(f,b,S)}},{key:"defaultGeneralFormatter",value:function(p){return Array.isArray(p)?p.map(function(f){return f}):p}},{key:"defaultYFormatter",value:function(p,f,b){var S=this.w;return ct.isNumber(p)&&(p=p.toFixed(0!==S.globals.yValueDecimal?void 0!==f.decimalsInFloat?f.decimalsInFloat:S.globals.yValueDecimal:S.globals.maxYArr[b]-S.globals.minYArr[b]<5?1:0)),p}},{key:"setLabelFormatters",value:function(){var p=this,f=this.w;return f.globals.xaxisTooltipFormatter=function(b){return p.defaultGeneralFormatter(b)},f.globals.ttKeyFormatter=function(b){return p.defaultGeneralFormatter(b)},f.globals.ttZFormatter=function(b){return b},f.globals.legendFormatter=function(b){return p.defaultGeneralFormatter(b)},f.globals.xLabelFormatter=void 0!==f.config.xaxis.labels.formatter?f.config.xaxis.labels.formatter:function(b){if(ct.isNumber(b)){if(!f.config.xaxis.convertedCatToNumeric&&"numeric"===f.config.xaxis.type){if(ct.isNumber(f.config.xaxis.decimalsInFloat))return b.toFixed(f.config.xaxis.decimalsInFloat);var S=f.globals.maxX-f.globals.minX;return b.toFixed(S>0&&S<100?1:0)}return b.toFixed(f.globals.isBarHorizontal&&f.globals.maxY-f.globals.minYArr<4?1:0)}return b},f.globals.ttKeyFormatter="function"==typeof f.config.tooltip.x.formatter?f.config.tooltip.x.formatter:f.globals.xLabelFormatter,"function"==typeof f.config.xaxis.tooltip.formatter&&(f.globals.xaxisTooltipFormatter=f.config.xaxis.tooltip.formatter),(Array.isArray(f.config.tooltip.y)||void 0!==f.config.tooltip.y.formatter)&&(f.globals.ttVal=f.config.tooltip.y),void 0!==f.config.tooltip.z.formatter&&(f.globals.ttZFormatter=f.config.tooltip.z.formatter),void 0!==f.config.legend.formatter&&(f.globals.legendFormatter=f.config.legend.formatter),f.config.yaxis.forEach(function(b,S){f.globals.yLabelFormatters[S]=void 0!==b.labels.formatter?b.labels.formatter:function(D){return f.globals.xyCharts?Array.isArray(D)?D.map(function(B){return p.defaultYFormatter(B,b,S)}):p.defaultYFormatter(D,b,S):D}}),f.globals}},{key:"heatmapLabelFormatters",value:function(){var p=this.w;if("heatmap"===p.config.chart.type){p.globals.yAxisScale[0].result=p.globals.seriesNames.slice();var f=p.globals.seriesNames.reduce(function(b,S){return b.length>S.length?b:S},0);p.globals.yAxisScale[0].niceMax=f,p.globals.yAxisScale[0].niceMin=f}}}]),Re}(),ss=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w}return de(Re,[{key:"getLabel",value:function(p,f,b,S){var D=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],B=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"12px",F=this.w,Z=void 0===p[S]?"":p[S],q=Z,oe=F.globals.xLabelFormatter,ue=F.config.xaxis.labels.formatter,ae=!1,_e=new xo(this.ctx),Ie=Z;q=_e.xLabelFormat(oe,Z,Ie,{i:S,dateFormatter:new fi(this.ctx).formatDate,w:F}),void 0!==ue&&(q=ue(Z,p[S],{i:S,dateFormatter:new fi(this.ctx).formatDate,w:F}));var Pe=function(bt){var X=null;return f.forEach(function(he){"month"===he.unit?X="year":"day"===he.unit?X="month":"hour"===he.unit?X="day":"minute"===he.unit&&(X="hour")}),X===bt};f.length>0?(ae=Pe(f[S].unit),b=f[S].position,q=f[S].value):"datetime"===F.config.xaxis.type&&void 0===ue&&(q=""),void 0===q&&(q=""),q=Array.isArray(q)?q:q.toString();var ze=new Wt(this.ctx),We={};We=F.globals.rotateXLabels?ze.getTextRects(q,parseInt(B,10),null,"rotate(".concat(F.config.xaxis.labels.rotate," 0 0)"),!1):ze.getTextRects(q,parseInt(B,10));var st=!F.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(q)&&(0===q.indexOf("NaN")||0===q.toLowerCase().indexOf("invalid")||q.toLowerCase().indexOf("infinity")>=0||D.indexOf(q)>=0&&st)&&(q=""),{x:b,text:q,textRect:We,isBold:ae}}},{key:"checkLabelBasedOnTickamount",value:function(p,f,b){var S=this.w,D=S.config.xaxis.tickAmount;return"dataPoints"===D&&(D=Math.round(S.globals.gridWidth/120)),D>b||p%Math.round(b/(D+1))==0||(f.text=""),f}},{key:"checkForOverflowingLabels",value:function(p,f,b,S,D){var B=this.w;if(0===p&&B.globals.skipFirstTimelinelabel&&(f.text=""),p===b-1&&B.globals.skipLastTimelinelabel&&(f.text=""),B.config.xaxis.labels.hideOverlappingLabels&&S.length>0){var F=D[D.length-1];f.x<F.textRect.width/(B.globals.rotateXLabels?Math.abs(B.config.xaxis.labels.rotate)/12:1.01)+F.x&&(f.text="")}return f}},{key:"checkForReversedLabels",value:function(p,f){var b=this.w;return b.config.yaxis[p]&&b.config.yaxis[p].reversed&&f.reverse(),f}},{key:"isYAxisHidden",value:function(p){var f=this.w,b=new hi(this.ctx);return!f.config.yaxis[p].show||!f.config.yaxis[p].showForNullSeries&&b.isSeriesNull(p)&&-1===f.globals.collapsedSeriesIndices.indexOf(p)}},{key:"getYAxisForeColor",value:function(p,f){var b=this.w;return Array.isArray(p)&&b.globals.yAxisScale[f]&&this.ctx.theme.pushExtraColors(p,b.globals.yAxisScale[f].result.length,!1),p}},{key:"drawYAxisTicks",value:function(p,f,b,S,D,B,F){var Z=this.w,q=new Wt(this.ctx),oe=Z.globals.translateY;if(S.show&&f>0){!0===Z.config.yaxis[D].opposite&&(p+=S.width);for(var ue=f;ue>=0;ue--){var ae=oe+f/10+Z.config.yaxis[D].labels.offsetY-1;Z.globals.isBarHorizontal&&(ae=B*ue),"heatmap"===Z.config.chart.type&&(ae+=B/2);var _e=q.drawLine(p+b.offsetX-S.width+S.offsetX,ae+S.offsetY,p+b.offsetX+S.offsetX,ae+S.offsetY,S.color);F.add(_e),oe+=B}}}}]),Re}(),Gs=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w}return de(Re,[{key:"scaleSvgNode",value:function(p,f){var b=parseFloat(p.getAttributeNS(null,"width")),S=parseFloat(p.getAttributeNS(null,"height"));p.setAttributeNS(null,"width",b*f),p.setAttributeNS(null,"height",S*f),p.setAttributeNS(null,"viewBox","0 0 "+b+" "+S)}},{key:"fixSvgStringForIe11",value:function(p){if(!ct.isIE11())return p;var f=0,b=p.replace(/xmlns="http:\/\/www.w3.org\/2000\/svg"/g,function(S){return 2==++f?'xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs"':S});return(b=b.replace(/xmlns:NS\d+=""/g,"")).replace(/NS\d+:(\w+:\w+=")/g,"$1")}},{key:"getSvgString",value:function(p){var f=this.w.globals.dom.Paper.svg();if(1!==p){var b=this.w.globals.dom.Paper.node.cloneNode(!0);this.scaleSvgNode(b,p),f=(new XMLSerializer).serializeToString(b)}return this.fixSvgStringForIe11(f)}},{key:"cleanup",value:function(){var p=this.w,f=p.globals.dom.baseEl.getElementsByClassName("apexcharts-xcrosshairs"),b=p.globals.dom.baseEl.getElementsByClassName("apexcharts-ycrosshairs"),S=p.globals.dom.baseEl.querySelectorAll(".apexcharts-zoom-rect, .apexcharts-selection-rect");Array.prototype.forEach.call(S,function(D){D.setAttribute("width",0)}),f&&f[0]&&(f[0].setAttribute("x",-500),f[0].setAttribute("x1",-500),f[0].setAttribute("x2",-500)),b&&b[0]&&(b[0].setAttribute("y",-100),b[0].setAttribute("y1",-100),b[0].setAttribute("y2",-100))}},{key:"svgUrl",value:function(){this.cleanup();var p=this.getSvgString(),f=new Blob([p],{type:"image/svg+xml;charset=utf-8"});return URL.createObjectURL(f)}},{key:"dataURI",value:function(p){var f=this;return new Promise(function(b){var S=f.w,D=p?p.scale||p.width/S.globals.svgWidth:1;f.cleanup();var B=document.createElement("canvas");B.width=S.globals.svgWidth*D,B.height=parseInt(S.globals.dom.elWrap.style.height,10)*D;var F="transparent"===S.config.chart.background?"#fff":S.config.chart.background,Z=B.getContext("2d");Z.fillStyle=F,Z.fillRect(0,0,B.width*D,B.height*D);var q=f.getSvgString(D);if(window.canvg&&ct.isIE11()){var oe=window.canvg.Canvg.fromString(Z,q,{ignoreClear:!0,ignoreDimensions:!0});oe.start();var ue=B.msToBlob();oe.stop(),b({blob:ue})}else{var ae="data:image/svg+xml,"+encodeURIComponent(q),_e=new Image;_e.crossOrigin="anonymous",_e.onload=function(){if(Z.drawImage(_e,0,0),B.msToBlob){var Ie=B.msToBlob();b({blob:Ie})}else{var Pe=B.toDataURL("image/png");b({imgURI:Pe})}},_e.src=ae}})}},{key:"exportToSVG",value:function(){this.triggerDownload(this.svgUrl(),this.w.config.chart.toolbar.export.svg.filename,".svg")}},{key:"exportToPng",value:function(){var p=this;this.dataURI().then(function(f){var b=f.imgURI,S=f.blob;S?navigator.msSaveOrOpenBlob(S,p.w.globals.chartID+".png"):p.triggerDownload(b,p.w.config.chart.toolbar.export.png.filename,".png")})}},{key:"exportToCSV",value:function(p){var f=this,b=p.series,S=p.columnDelimiter,D=p.lineDelimiter,B=void 0===D?"\n":D,F=this.w,Z=[],q=[],oe="data:text/csv;charset=utf-8,\ufeff",ue=new kr(this.ctx),ae=new ss(this.ctx),_e=function(Ie){var Pe="";if(F.globals.axisCharts){if("category"===F.config.xaxis.type||F.config.xaxis.convertedCatToNumeric)if(F.globals.isBarHorizontal){var ze=F.globals.yLabelFormatters[0],We=new ai(f.ctx).getActiveConfigSeriesIndex();Pe=ze(F.globals.labels[Ie],{seriesIndex:We,dataPointIndex:Ie,w:F})}else Pe=ae.getLabel(F.globals.labels,F.globals.timescaleLabels,0,Ie).text;"datetime"===F.config.xaxis.type&&(F.config.xaxis.categories.length?Pe=F.config.xaxis.categories[Ie]:F.config.labels.length&&(Pe=F.config.labels[Ie]))}else Pe=F.config.labels[Ie];return Array.isArray(Pe)&&(Pe=Pe.join(" ")),ct.isNumber(Pe)?Pe:Pe.split(S).join("")};Z.push(F.config.chart.toolbar.export.csv.headerCategory),b.map(function(Ie,Pe){var ze=Ie.name?Ie.name:"series-".concat(Pe);F.globals.axisCharts&&Z.push(ze.split(S).join("")?ze.split(S).join(""):"series-".concat(Pe))}),F.globals.axisCharts||(Z.push(F.config.chart.toolbar.export.csv.headerValue),q.push(Z.join(S))),b.map(function(Ie,Pe){F.globals.axisCharts?function(ze,We){if(Z.length&&0===We&&q.push(Z.join(S)),ze.data&&ze.data.length)for(var st=0;st<ze.data.length;st++){Z=[];var bt=_e(st);if(bt||(ue.isFormatXY()?bt=b[We].data[st].x:ue.isFormat2DArray()&&(bt=b[We].data[st]?b[We].data[st][0]:"")),0===We){Z.push("datetime"===F.config.xaxis.type&&String(bt).length>=10?F.config.chart.toolbar.export.csv.dateFormatter(bt):ct.isNumber(bt)?bt:bt.split(S).join(""));for(var X=0;X<F.globals.series.length;X++)Z.push(F.globals.series[X][st])}("candlestick"===F.config.chart.type||ze.type&&"candlestick"===ze.type)&&(Z.pop(),Z.push(F.globals.seriesCandleO[We][st]),Z.push(F.globals.seriesCandleH[We][st]),Z.push(F.globals.seriesCandleL[We][st]),Z.push(F.globals.seriesCandleC[We][st])),("boxPlot"===F.config.chart.type||ze.type&&"boxPlot"===ze.type)&&(Z.pop(),Z.push(F.globals.seriesCandleO[We][st]),Z.push(F.globals.seriesCandleH[We][st]),Z.push(F.globals.seriesCandleM[We][st]),Z.push(F.globals.seriesCandleL[We][st]),Z.push(F.globals.seriesCandleC[We][st])),"rangeBar"===F.config.chart.type&&(Z.pop(),Z.push(F.globals.seriesRangeStart[We][st]),Z.push(F.globals.seriesRangeEnd[We][st])),Z.length&&q.push(Z.join(S))}}(Ie,Pe):((Z=[]).push(F.globals.labels[Pe].split(S).join("")),Z.push(F.globals.series[Pe]),q.push(Z.join(S)))}),oe+=q.join(B),this.triggerDownload(encodeURI(oe),F.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(p,f,b){var S=document.createElement("a");S.href=p,S.download=(f||this.w.globals.chartID)+b,document.body.appendChild(S),S.click(),document.body.removeChild(S)}}]),Re}(),Xs=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w;var f=this.w;this.axesUtils=new ss(p),this.xaxisLabels=f.globals.labels.slice(),f.globals.timescaleLabels.length>0&&!f.globals.isBarHorizontal&&(this.xaxisLabels=f.globals.timescaleLabels.slice()),f.config.xaxis.overwriteCategories&&(this.xaxisLabels=f.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],this.offY="top"===f.config.xaxis.position?0:f.globals.gridHeight+1,this.offY=this.offY+f.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal="bar"===f.config.chart.type&&f.config.plotOptions.bar.horizontal,this.xaxisFontSize=f.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=f.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=f.config.xaxis.labels.style.colors,this.xaxisBorderWidth=f.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=f.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth=this.xaxisBorderWidth.indexOf("%")>-1?f.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=f.config.xaxis.axisBorder.height,this.yaxis=f.config.yaxis[0]}return de(Re,[{key:"drawXaxis",value:function(){var p,f=this,b=this.w,S=new Wt(this.ctx),D=S.group({class:"apexcharts-xaxis",transform:"translate(".concat(b.config.xaxis.offsetX,", ").concat(b.config.xaxis.offsetY,")")}),B=S.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(b.globals.translateXAxisX,", ").concat(b.globals.translateXAxisY,")")});D.add(B);for(var F=b.globals.padHorizontal,Z=[],q=0;q<this.xaxisLabels.length;q++)Z.push(this.xaxisLabels[q]);var oe=Z.length;F=b.globals.isXNumeric?F+(p=b.globals.gridWidth/(oe>1?oe-1:oe))/2+b.config.xaxis.labels.offsetX:F+(p=b.globals.gridWidth/Z.length)+b.config.xaxis.labels.offsetX;for(var ae=function(st){var bt=F-p/2+b.config.xaxis.labels.offsetX;0===st&&1===oe&&p/2===F&&1===b.globals.dataPoints&&(bt=b.globals.gridWidth/2);var X=f.axesUtils.getLabel(Z,b.globals.timescaleLabels,bt,st,f.drawnLabels,f.xaxisFontSize),he=28;if(b.globals.rotateXLabels&&(he=22),(X=void 0!==b.config.xaxis.tickAmount&&"dataPoints"!==b.config.xaxis.tickAmount&&"datetime"!==b.config.xaxis.type?f.axesUtils.checkLabelBasedOnTickamount(st,X,oe):f.axesUtils.checkForOverflowingLabels(st,X,oe,f.drawnLabels,f.drawnLabelsRects)).text&&b.globals.xaxisLabelsCount++,b.config.xaxis.labels.show){var Ne=S.drawText({x:X.x,y:f.offY+b.config.xaxis.labels.offsetY+he-("top"===b.config.xaxis.position?b.globals.xAxisHeight+b.config.xaxis.axisTicks.height-2:0),text:X.text,textAnchor:"middle",fontWeight:X.isBold?600:b.config.xaxis.labels.style.fontWeight,fontSize:f.xaxisFontSize,fontFamily:f.xaxisFontFamily,foreColor:Array.isArray(f.xaxisForeColors)?b.config.xaxis.convertedCatToNumeric?f.xaxisForeColors[b.globals.minX+st-1]:f.xaxisForeColors[st]:f.xaxisForeColors,isPlainText:!1,cssClass:"apexcharts-xaxis-label "+b.config.xaxis.labels.style.cssClass});B.add(Ne);var Je=document.createElementNS(b.globals.SVGNS,"title");Je.textContent=Array.isArray(X.text)?X.text.join(" "):X.text,Ne.node.appendChild(Je),""!==X.text&&(f.drawnLabels.push(X.text),f.drawnLabelsRects.push(X))}F+=p},_e=0;_e<=oe-1;_e++)ae(_e);if(void 0!==b.config.xaxis.title.text){var Ie=S.group({class:"apexcharts-xaxis-title"}),Pe=S.drawText({x:b.globals.gridWidth/2+b.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+b.globals.xAxisLabelsHeight+b.config.xaxis.title.offsetY,text:b.config.xaxis.title.text,textAnchor:"middle",fontSize:b.config.xaxis.title.style.fontSize,fontFamily:b.config.xaxis.title.style.fontFamily,fontWeight:b.config.xaxis.title.style.fontWeight,foreColor:b.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+b.config.xaxis.title.style.cssClass});Ie.add(Pe),D.add(Ie)}if(b.config.xaxis.axisBorder.show){var ze=b.globals.barPadForNumericAxis,We=S.drawLine(b.globals.padHorizontal+b.config.xaxis.axisBorder.offsetX-ze,this.offY,this.xaxisBorderWidth+ze,this.offY,b.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);D.add(We)}return D}},{key:"drawXaxisInversed",value:function(p){var f,b,S=this,D=this.w,B=new Wt(this.ctx),F=D.config.yaxis[0].opposite?D.globals.translateYAxisX[p]:0,Z=B.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:p}),q=B.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+F+", 0)"});Z.add(q);var oe=[];if(D.config.yaxis[p].show)for(var ue=0;ue<this.xaxisLabels.length;ue++)oe.push(this.xaxisLabels[ue]);b=-(f=D.globals.gridHeight/oe.length)/2.2;var ae=D.globals.yLabelFormatters[0],_e=D.config.yaxis[0].labels;if(_e.show)for(var Ie=function(he){var Ne=void 0===oe[he]?"":oe[he];Ne=ae(Ne,{seriesIndex:p,dataPointIndex:he,w:D});var Je=S.axesUtils.getYAxisForeColor(_e.style.colors,p),mt=0;Array.isArray(Ne)&&(mt=Ne.length/2*parseInt(_e.style.fontSize,10));var ln=B.drawText({x:_e.offsetX-15,y:b+f+_e.offsetY-mt,text:Ne,textAnchor:S.yaxis.opposite?"start":"end",foreColor:Array.isArray(Je)?Je[he]:Je,fontSize:_e.style.fontSize,fontFamily:_e.style.fontFamily,fontWeight:_e.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+_e.style.cssClass});q.add(ln);var qt=document.createElementNS(D.globals.SVGNS,"title");if(qt.textContent=Array.isArray(Ne)?Ne.join(" "):Ne,ln.node.appendChild(qt),0!==D.config.yaxis[p].labels.rotate){var un=B.rotateAroundCenter(ln.node);ln.node.setAttribute("transform","rotate(".concat(D.config.yaxis[p].labels.rotate," 0 ").concat(un.y,")"))}b+=f},Pe=0;Pe<=oe.length-1;Pe++)Ie(Pe);if(void 0!==D.config.yaxis[0].title.text){var ze=B.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+F+", 0)"}),We=B.drawText({x:0,y:D.globals.gridHeight/2,text:D.config.yaxis[0].title.text,textAnchor:"middle",foreColor:D.config.yaxis[0].title.style.color,fontSize:D.config.yaxis[0].title.style.fontSize,fontWeight:D.config.yaxis[0].title.style.fontWeight,fontFamily:D.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+D.config.yaxis[0].title.style.cssClass});ze.add(We),Z.add(ze)}var st=0;this.isCategoryBarHorizontal&&D.config.yaxis[0].opposite&&(st=D.globals.gridWidth);var bt=D.config.xaxis.axisBorder;if(bt.show){var X=B.drawLine(D.globals.padHorizontal+bt.offsetX+st,1+bt.offsetY,D.globals.padHorizontal+bt.offsetX+st,D.globals.gridHeight+bt.offsetY,bt.color,0);Z.add(X)}return D.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(st,oe.length,D.config.yaxis[0].axisBorder,D.config.yaxis[0].axisTicks,0,f,Z),Z}},{key:"drawXaxisTicks",value:function(p,f){var b=this.w,S=p;if(!(p<0||p-2>b.globals.gridWidth)){var D=this.offY+b.config.xaxis.axisTicks.offsetY,B=D+b.config.xaxis.axisTicks.height;if("top"===b.config.xaxis.position&&(B=D-b.config.xaxis.axisTicks.height),b.config.xaxis.axisTicks.show){var F=new Wt(this.ctx).drawLine(p+b.config.xaxis.axisTicks.offsetX,D+b.config.xaxis.offsetY,S+b.config.xaxis.axisTicks.offsetX,B+b.config.xaxis.offsetY,b.config.xaxis.axisTicks.color);f.add(F),F.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var p=this.w,f=[],b=this.xaxisLabels.length,S=p.globals.padHorizontal;if(p.globals.timescaleLabels.length>0)for(var D=0;D<b;D++)f.push(S=this.xaxisLabels[D].position);else for(var B=b,F=0;F<B;F++){var Z=B;p.globals.isXNumeric&&"bar"!==p.config.chart.type&&(Z-=1),f.push(S+=p.globals.gridWidth/Z)}return f}},{key:"xAxisLabelCorrections",value:function(){var p=this.w,f=new Wt(this.ctx),b=p.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),S=p.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text"),D=p.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),B=p.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(p.globals.rotateXLabels||p.config.xaxis.labels.rotateAlways)for(var F=0;F<S.length;F++){var Z=f.rotateAroundCenter(S[F]);Z.y=Z.y-1,Z.x=Z.x+1,S[F].setAttribute("transform","rotate(".concat(p.config.xaxis.labels.rotate," ").concat(Z.x," ").concat(Z.y,")")),S[F].setAttribute("text-anchor","end"),b.setAttribute("transform","translate(0, ".concat(-10,")")),p.config.xaxis.labels.trim&&Array.prototype.forEach.call(S[F].childNodes,function(_e){f.placeTextWithEllipsis(_e,_e.textContent,p.globals.xAxisLabelsHeight-("bottom"===p.config.legend.position?20:10))})}else!function(){for(var _e=p.globals.gridWidth/(p.globals.labels.length+1),Ie=0;Ie<S.length;Ie++)p.config.xaxis.labels.trim&&"datetime"!==p.config.xaxis.type&&Array.prototype.forEach.call(S[Ie].childNodes,function(ze){f.placeTextWithEllipsis(ze,ze.textContent,_e)})}();if(D.length>0){var oe=D[D.length-1].getBBox(),ue=D[0].getBBox();oe.x<-20&&D[D.length-1].parentNode.removeChild(D[D.length-1]),ue.x+ue.width>p.globals.gridWidth&&!p.globals.isBarHorizontal&&D[0].parentNode.removeChild(D[0]);for(var ae=0;ae<B.length;ae++)f.placeTextWithEllipsis(B[ae],B[ae].textContent,p.config.yaxis[0].labels.maxWidth-2*parseFloat(p.config.yaxis[0].title.style.fontSize)-20)}}}]),Re}(),Ea=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w;var f=this.w;this.xaxisLabels=f.globals.labels.slice(),this.axesUtils=new ss(p),this.isTimelineBar="datetime"===f.config.xaxis.type&&f.globals.seriesRangeBarTimeline.length,f.globals.timescaleLabels.length>0&&(this.xaxisLabels=f.globals.timescaleLabels.slice())}return de(Re,[{key:"drawGridArea",value:function(){var p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,f=this.w,b=new Wt(this.ctx);null===p&&(p=b.group({class:"apexcharts-grid"}));var S=b.drawLine(f.globals.padHorizontal,1,f.globals.padHorizontal,f.globals.gridHeight,"transparent"),D=b.drawLine(f.globals.padHorizontal,f.globals.gridHeight,f.globals.gridWidth,f.globals.gridHeight,"transparent");return p.add(D),p.add(S),p}},{key:"drawGrid",value:function(){var p=null;return this.w.globals.axisCharts&&(p=this.renderGrid(),this.drawGridArea(p.el)),p}},{key:"createGridMask",value:function(){var p=this.w,f=p.globals,b=new Wt(this.ctx),S=Array.isArray(p.config.stroke.width)?0:p.config.stroke.width;if(Array.isArray(p.config.stroke.width)){var D=0;p.config.stroke.width.forEach(function(ue){D=Math.max(D,ue)}),S=D}f.dom.elGridRectMask=document.createElementNS(f.SVGNS,"clipPath"),f.dom.elGridRectMask.setAttribute("id","gridRectMask".concat(f.cuid)),f.dom.elGridRectMarkerMask=document.createElementNS(f.SVGNS,"clipPath"),f.dom.elGridRectMarkerMask.setAttribute("id","gridRectMarkerMask".concat(f.cuid)),f.dom.elForecastMask=document.createElementNS(f.SVGNS,"clipPath"),f.dom.elForecastMask.setAttribute("id","forecastMask".concat(f.cuid)),f.dom.elNonForecastMask=document.createElementNS(f.SVGNS,"clipPath"),f.dom.elNonForecastMask.setAttribute("id","nonForecastMask".concat(f.cuid));var B=p.config.chart.type,F=0,Z=0;("bar"===B||"rangeBar"===B||"candlestick"===B||"boxPlot"===B||p.globals.comboBarCount>0)&&p.globals.isXNumeric&&!p.globals.isBarHorizontal&&(Z=p.config.grid.padding.right,f.barPadForNumericAxis>(F=p.config.grid.padding.left)&&(F=f.barPadForNumericAxis,Z=f.barPadForNumericAxis)),f.dom.elGridRect=b.drawRect(-S/2-F-2,-S/2,f.gridWidth+S+Z+F+4,f.gridHeight+S,0,"#fff"),new hi(this).getLargestMarkerSize();var q=p.globals.markers.largestSize+1;f.dom.elGridRectMarker=b.drawRect(2*-q,2*-q,f.gridWidth+4*q,f.gridHeight+4*q,0,"#fff"),f.dom.elGridRectMask.appendChild(f.dom.elGridRect.node),f.dom.elGridRectMarkerMask.appendChild(f.dom.elGridRectMarker.node);var oe=f.dom.baseEl.querySelector("defs");oe.appendChild(f.dom.elGridRectMask),oe.appendChild(f.dom.elForecastMask),oe.appendChild(f.dom.elNonForecastMask),oe.appendChild(f.dom.elGridRectMarkerMask)}},{key:"_drawGridLines",value:function(p){var f=p.i,b=p.x1,q=this.w;0===f&&q.globals.skipFirstTimelinelabel||f===p.xCount-1&&q.globals.skipLastTimelinelabel&&!q.config.xaxis.labels.formatter||"radar"===q.config.chart.type||(q.config.grid.xaxis.lines.show&&this._drawGridLine({x1:b,y1:p.y1,x2:p.x2,y2:p.y2,parent:p.parent}),new Xs(this.ctx).drawXaxisTicks(b,this.elg))}},{key:"_drawGridLine",value:function(p){var f=p.x1,b=p.y1,S=p.x2,D=p.y2,B=p.parent,F=this.w,Z=B.node.classList.contains("apexcharts-gridlines-horizontal"),q=F.config.grid.strokeDashArray,oe=F.globals.barPadForNumericAxis,ue=new Wt(this).drawLine(f-(Z?oe:0),b,S+(Z?oe:0),D,F.config.grid.borderColor,q);ue.node.classList.add("apexcharts-gridline"),B.add(ue)}},{key:"_drawGridBandRect",value:function(p){var f=p.c,b=p.x1,S=p.y1,D=p.x2,B=p.y2,F=p.type,Z=this.w,q=new Wt(this.ctx),oe=Z.globals.barPadForNumericAxis;if("column"!==F||"datetime"!==Z.config.xaxis.type){var ae=q.drawRect(b-("row"===F?oe:0),S,D+("row"===F?2*oe:0),B,0,Z.config.grid[F].colors[f],Z.config.grid[F].opacity);this.elg.add(ae),ae.attr("clip-path","url(#gridRectMask".concat(Z.globals.cuid,")")),ae.node.classList.add("apexcharts-grid-".concat(F))}}},{key:"_drawXYLines",value:function(p){var f=this,b=p.xCount,S=p.tickAmount,D=this.w;if(D.config.grid.xaxis.lines.show||D.config.xaxis.axisTicks.show){var B,F=D.globals.padHorizontal,Z=D.globals.gridHeight;D.globals.timescaleLabels.length?function(Ie){for(var Pe=Ie.xC,We=Ie.y1,bt=Ie.y2,X=0;X<Pe;X++)f._drawGridLines({i:X,x1:f.xaxisLabels[X].position,y1:We,x2:f.xaxisLabels[X].position,y2:bt,xCount:b,parent:f.elgridLinesV})}({xC:b,x1:F,y1:0,x2:B,y2:Z}):(D.globals.isXNumeric&&(b=D.globals.xAxisScale.result.length),D.config.xaxis.convertedCatToNumeric&&(b=D.globals.xaxisLabelsCount),function(Ie){var Pe=Ie.xC,ze=Ie.x1,We=Ie.y1,st=Ie.x2,bt=Ie.y2;if(void 0!==D.config.xaxis.tickAmount&&"dataPoints"!==D.config.xaxis.tickAmount)D.globals.dom.baseEl.querySelectorAll(".apexcharts-text.apexcharts-xaxis-label tspan:not(:empty)").forEach(function(he,Ne){var Je=he.getBBox();f._drawGridLines({i:Ne,x1:Je.x+Je.width/2,y1:We,x2:Je.x+Je.width/2,y2:bt,xCount:b,parent:f.elgridLinesV})});else for(var X=0;X<Pe+(D.globals.isXNumeric?0:1);X++)0===X&&1===Pe&&1===D.globals.dataPoints&&(st=ze=D.globals.gridWidth/2),f._drawGridLines({i:X,x1:ze,y1:We,x2:st,y2:bt,xCount:b,parent:f.elgridLinesV}),st=ze+=D.globals.gridWidth/(D.globals.isXNumeric?Pe-1:Pe)}({xC:b,x1:F,y1:0,x2:B,y2:Z}))}if(D.config.grid.yaxis.lines.show){var q=0,oe=0,ue=D.globals.gridWidth,ae=S+1;this.isTimelineBar&&(ae=D.globals.labels.length);for(var _e=0;_e<ae+(this.isTimelineBar?1:0);_e++)this._drawGridLine({x1:0,y1:q,x2:ue,y2:oe,parent:this.elgridLinesH}),oe=q+=D.globals.gridHeight/(this.isTimelineBar?ae:S)}}},{key:"_drawInvertedXYLines",value:function(p){var f=p.xCount,b=this.w;if(b.config.grid.xaxis.lines.show||b.config.xaxis.axisTicks.show)for(var S,D=b.globals.padHorizontal,B=b.globals.gridHeight,F=0;F<f+1;F++)b.config.grid.xaxis.lines.show&&this._drawGridLine({x1:D,y1:0,x2:S,y2:B,parent:this.elgridLinesV}),new Xs(this.ctx).drawXaxisTicks(D,this.elg),S=D=D+b.globals.gridWidth/f+.3;if(b.config.grid.yaxis.lines.show)for(var Z=0,q=0,oe=b.globals.gridWidth,ue=0;ue<b.globals.dataPoints+1;ue++)this._drawGridLine({x1:0,y1:Z,x2:oe,y2:q,parent:this.elgridLinesH}),q=Z+=b.globals.gridHeight/b.globals.dataPoints}},{key:"renderGrid",value:function(){var p=this.w,f=new Wt(this.ctx);this.elg=f.group({class:"apexcharts-grid"}),this.elgridLinesH=f.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=f.group({class:"apexcharts-gridlines-vertical"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),p.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide());for(var b,S=p.globals.yAxisScale.length?p.globals.yAxisScale[0].result.length-1:5,D=0;D<p.globals.series.length&&(void 0!==p.globals.yAxisScale[D]&&(S=p.globals.yAxisScale[D].result.length-1),!(S>2));D++);return!p.globals.isBarHorizontal||this.isTimelineBar?(b=this.xaxisLabels.length,this.isTimelineBar&&(S=p.globals.labels.length,p.config.xaxis.tickAmount&&p.config.xaxis.labels.formatter&&(b=p.config.xaxis.tickAmount)),this._drawXYLines({xCount:b,tickAmount:S})):this._drawInvertedXYLines({xCount:b=S,tickAmount:S=p.globals.xTickAmount}),this.drawGridBands(b,S),{el:this.elg,xAxisTickWidth:p.globals.gridWidth/b}}},{key:"drawGridBands",value:function(p,f){var b=this.w;if(void 0!==b.config.grid.row.colors&&b.config.grid.row.colors.length>0)for(var S=0,D=b.globals.gridHeight/f,B=b.globals.gridWidth,F=0,Z=0;F<f;F++,Z++)Z>=b.config.grid.row.colors.length&&(Z=0),this._drawGridBandRect({c:Z,x1:0,y1:S,x2:B,y2:D,type:"row"}),S+=b.globals.gridHeight/f;if(void 0!==b.config.grid.column.colors&&b.config.grid.column.colors.length>0)for(var q=b.globals.isBarHorizontal||"category"!==b.config.xaxis.type&&!b.config.xaxis.convertedCatToNumeric?p:p-1,oe=b.globals.padHorizontal,ue=b.globals.padHorizontal+b.globals.gridWidth/q,ae=b.globals.gridHeight,_e=0,Ie=0;_e<p;_e++,Ie++)Ie>=b.config.grid.column.colors.length&&(Ie=0),this._drawGridBandRect({c:Ie,x1:oe,y1:0,x2:ue,y2:ae,type:"column"}),oe+=b.globals.gridWidth/q}}]),Re}(),lr=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w}return de(Re,[{key:"niceScale",value:function(p,f){var b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,S=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,D=arguments.length>4?arguments[4]:void 0,B=this.w,F=Math.abs(f-p);if("dataPoints"===(b=this._adjustTicksForSmallRange(b,S,F))&&(b=B.globals.dataPoints-1),p===Number.MIN_VALUE&&0===f||!ct.isNumber(p)&&!ct.isNumber(f)||p===Number.MIN_VALUE&&f===-Number.MAX_VALUE){var Z=this.linearScale(p=0,f=b,b);return Z}p>f?(console.warn("axis.min cannot be greater than axis.max"),f=p+.1):p===f&&(p=0===p?0:p-.5,f=0===f?2:f+.5);var q=[];F<1&&D&&("candlestick"===B.config.chart.type||"candlestick"===B.config.series[S].type||"boxPlot"===B.config.chart.type||"boxPlot"===B.config.series[S].type||B.globals.isRangeData)&&(f*=1.01);var oe=b+1;oe<2?oe=2:oe>2&&(oe-=2);var ue=F/oe,ae=Math.floor(ct.log10(ue)),_e=Math.pow(10,ae),Ie=Math.round(ue/_e);Ie<1&&(Ie=1);var Pe=Ie*_e,ze=Pe*Math.floor(p/Pe),We=Pe*Math.ceil(f/Pe),st=ze;if(D&&F>2){for(;q.push(st),!((st+=Pe)>We););return{result:q,niceMin:q[0],niceMax:q[q.length-1]}}var bt=p;(q=[]).push(bt);for(var X=Math.abs(f-p)/b,he=0;he<=b;he++)q.push(bt+=X);return q[q.length-2]>=f&&q.pop(),{result:q,niceMin:q[0],niceMax:q[q.length-1]}}},{key:"linearScale",value:function(p,f){var b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,S=arguments.length>3?arguments[3]:void 0,D=Math.abs(f-p);"dataPoints"===(b=this._adjustTicksForSmallRange(b,S,D))&&(b=this.w.globals.dataPoints-1);var B=D/b;b===Number.MAX_VALUE&&(b=10,B=1);for(var F=[],Z=p;b>=0;)F.push(Z),Z+=B,b-=1;return{result:F,niceMin:F[0],niceMax:F[F.length-1]}}},{key:"logarithmicScale",value:function(p){for(var f=[],b=Math.ceil(Math.log10(p))+1,S=0;S<b;S++)f.push(Math.pow(10,S));return{result:f,niceMin:f[0],niceMax:f[f.length-1]}}},{key:"_adjustTicksForSmallRange",value:function(p,f,b){var S=p;if(void 0!==f&&this.w.config.yaxis[f].labels.formatter&&void 0===this.w.config.yaxis[f].tickAmount){var D=this.w.config.yaxis[f].labels.formatter(1);ct.isNumber(Number(D))&&!ct.isFloat(D)&&(S=Math.ceil(b))}return S<p?S:p}},{key:"setYScaleForIndex",value:function(p,f,b){var S=this.w.globals,D=this.w.config,B=S.isBarHorizontal?D.xaxis:D.yaxis[p];void 0===S.yAxisScale[p]&&(S.yAxisScale[p]=[]);var F=Math.abs(b-f);B.logarithmic&&F<=5&&(S.invalidLogScale=!0),B.logarithmic&&F>5?(S.allSeriesCollapsed=!1,S.yAxisScale[p]=this.logarithmicScale(b)):b!==-Number.MAX_VALUE&&ct.isNumber(b)?(S.allSeriesCollapsed=!1,S.yAxisScale[p]=void 0===B.min&&void 0===B.max||B.forceNiceScale?this.niceScale(f,b,B.tickAmount?B.tickAmount:F<5&&F>1?F+1:5,p,void 0===D.yaxis[p].max&&void 0===D.yaxis[p].min||D.yaxis[p].forceNiceScale):this.linearScale(f,b,B.tickAmount,p)):S.yAxisScale[p]=this.linearScale(0,5,5)}},{key:"setXScale",value:function(p,f){var b=this.w,S=b.globals,D=b.config.xaxis,B=Math.abs(f-p);return S.xAxisScale=f!==-Number.MAX_VALUE&&ct.isNumber(f)?this.linearScale(p,f,D.tickAmount?D.tickAmount:B<5&&B>1?B+1:5,0):this.linearScale(0,5,5),S.xAxisScale}},{key:"setMultipleYScales",value:function(){var p=this,f=this.w.globals,b=this.w.config,S=f.minYArr.concat([]),D=f.maxYArr.concat([]),B=[];b.yaxis.forEach(function(F,Z){var q=Z;b.series.forEach(function(ae,_e){ae.name===F.seriesName&&(q=_e,B.push(Z!==_e?{index:_e,similarIndex:Z,alreadyExists:!0}:{index:_e}))}),p.setYScaleForIndex(Z,S[q],D[q])}),this.sameScaleInMultipleAxes(S,D,B)}},{key:"sameScaleInMultipleAxes",value:function(p,f,b){var S=this,D=this.w.config,B=this.w.globals,F=[];b.forEach(function(Pe){Pe.alreadyExists&&(void 0===F[Pe.index]&&(F[Pe.index]=[]),F[Pe.index].push(Pe.index),F[Pe.index].push(Pe.similarIndex))}),B.yAxisSameScaleIndices=F,F.forEach(function(Pe,ze){F.forEach(function(We,st){var bt,X;ze!==st&&(bt=Pe,X=We,bt.filter(function(he){return-1!==X.indexOf(he)})).length>0&&(F[ze]=F[ze].concat(F[st]))})});var Z=F.map(function(Pe){return Pe.filter(function(ze,We){return Pe.indexOf(ze)===We})}).map(function(Pe){return Pe.sort()});F=F.filter(function(Pe){return!!Pe});var q=Z.slice(),oe=q.map(function(Pe){return JSON.stringify(Pe)});q=q.filter(function(Pe,ze){return oe.indexOf(JSON.stringify(Pe))===ze});var ue=[],ae=[];p.forEach(function(Pe,ze){q.forEach(function(We,st){We.indexOf(ze)>-1&&(void 0===ue[st]&&(ue[st]=[],ae[st]=[]),ue[st].push({key:ze,value:Pe}),ae[st].push({key:ze,value:f[ze]}))})});var _e=Array.apply(null,Array(q.length)).map(Number.prototype.valueOf,Number.MIN_VALUE),Ie=Array.apply(null,Array(q.length)).map(Number.prototype.valueOf,-Number.MAX_VALUE);ue.forEach(function(Pe,ze){Pe.forEach(function(We,st){_e[ze]=Math.min(We.value,_e[ze])})}),ae.forEach(function(Pe,ze){Pe.forEach(function(We,st){Ie[ze]=Math.max(We.value,Ie[ze])})}),p.forEach(function(Pe,ze){ae.forEach(function(We,st){var bt=_e[st],X=Ie[st];D.chart.stacked&&(X=0,We.forEach(function(he,Ne){he.value!==-Number.MAX_VALUE&&(X+=he.value),bt!==Number.MIN_VALUE&&(bt+=ue[st][Ne].value)})),We.forEach(function(he,Ne){We[Ne].key===ze&&(void 0!==D.yaxis[ze].min&&(bt="function"==typeof D.yaxis[ze].min?D.yaxis[ze].min(B.minY):D.yaxis[ze].min),void 0!==D.yaxis[ze].max&&(X="function"==typeof D.yaxis[ze].max?D.yaxis[ze].max(B.maxY):D.yaxis[ze].max),S.setYScaleForIndex(ze,bt,X))})})})}},{key:"autoScaleY",value:function(p,f,b){p||(p=this);var S=p.w;if(S.globals.isMultipleYAxis||S.globals.collapsedSeries.length)return console.warn("autoScaleYaxis is not supported in a multi-yaxis chart."),f;var D=S.globals.seriesX[0],B=S.config.chart.stacked;return f.forEach(function(F,Z){for(var q=0,oe=0;oe<D.length;oe++)if(D[oe]>=b.xaxis.min){q=oe;break}var ue,ae,_e=S.globals.minYArr[Z],Ie=S.globals.maxYArr[Z],Pe=S.globals.stackedSeriesTotals;S.globals.series.forEach(function(ze,We){var st=ze[q];B?(ue=ae=st=Pe[q],Pe.forEach(function(bt,X){D[X]<=b.xaxis.max&&D[X]>=b.xaxis.min&&(bt>ae&&null!==bt&&(ae=bt),ze[X]<ue&&null!==ze[X]&&(ue=ze[X]))})):(ue=ae=st,ze.forEach(function(bt,X){if(D[X]<=b.xaxis.max&&D[X]>=b.xaxis.min){var he=bt,Ne=bt;S.globals.series.forEach(function(Je,mt){null!==bt&&(he=Math.min(Je[X],he),Ne=Math.max(Je[X],Ne))}),Ne>ae&&null!==Ne&&(ae=Ne),he<ue&&null!==he&&(ue=he)}})),void 0===ue&&void 0===ae&&(ue=_e,ae=Ie),(ae*=ae<0?.9:1.1)<0&&ae<Ie&&(ae=Ie),(ue*=ue<0?1.1:.9)<0&&ue>_e&&(ue=_e),f.length>1?(f[We].min=void 0===F.min?ue:F.min,f[We].max=void 0===F.max?ae:F.max):(f[0].min=void 0===F.min?ue:F.min,f[0].max=void 0===F.max?ae:F.max)})}),f}}]),Re}(),Da=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w,this.scales=new lr(p)}return de(Re,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(p){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-Number.MAX_VALUE,S=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,D=this.w.config,B=this.w.globals,F=-Number.MAX_VALUE,Z=Number.MIN_VALUE;null===S&&(S=p+1);var q=B.series,oe=q,ue=q;"candlestick"===D.chart.type?(oe=B.seriesCandleL,ue=B.seriesCandleH):"boxPlot"===D.chart.type?(oe=B.seriesCandleO,ue=B.seriesCandleC):B.isRangeData&&(oe=B.seriesRangeStart,ue=B.seriesRangeEnd);for(var ae=p;ae<S;ae++){B.dataPoints=Math.max(B.dataPoints,q[ae].length);for(var _e=0;_e<B.series[ae].length;_e++){var Ie=q[ae][_e];null!==Ie&&ct.isNumber(Ie)?(void 0!==ue[ae][_e]&&(F=Math.max(F,ue[ae][_e])),void 0!==oe[ae][_e]&&(f=Math.min(f,oe[ae][_e]),b=Math.max(b,oe[ae][_e])),"candlestick"!==this.w.config.chart.type&&"boxPlot"!==this.w.config.chart.type||(void 0!==B.seriesCandleC[ae][_e]&&(F=Math.max(F,B.seriesCandleO[ae][_e]),F=Math.max(F,B.seriesCandleH[ae][_e]),F=Math.max(F,B.seriesCandleL[ae][_e]),F=Math.max(F,B.seriesCandleC[ae][_e]),"boxPlot"===this.w.config.chart.type&&(F=Math.max(F,B.seriesCandleM[ae][_e]))),!D.series[ae].type||"candlestick"===D.series[ae].type&&"boxPlot"===D.series[ae].type||(F=Math.max(F,B.series[ae][_e]),f=Math.min(f,B.series[ae][_e])),b=F),B.seriesGoals[ae]&&B.seriesGoals[ae][_e]&&Array.isArray(B.seriesGoals[ae][_e])&&B.seriesGoals[ae][_e].forEach(function(Pe){Z!==Number.MIN_VALUE&&(Z=Math.min(Z,Pe.value),f=Z),F=Math.max(F,Pe.value),b=F}),ct.isFloat(Ie)&&(Ie=ct.noExponents(Ie),B.yValueDecimal=Math.max(B.yValueDecimal,Ie.toString().split(".")[1].length)),Z>oe[ae][_e]&&oe[ae][_e]<0&&(Z=oe[ae][_e])):B.hasNullValues=!0}}return"rangeBar"===D.chart.type&&B.seriesRangeStart.length&&B.isBarHorizontal&&"datetime"===D.xaxis.type&&(Z=f),"bar"===D.chart.type&&(Z<0&&F<0&&(F=0),Z===Number.MIN_VALUE&&(Z=0)),{minY:Z,maxY:F,lowestY:f,highestY:b}}},{key:"setYRange",value:function(){var p=this.w.globals,f=this.w.config;p.maxY=-Number.MAX_VALUE,p.minY=Number.MIN_VALUE;var b=Number.MAX_VALUE;if(p.isMultipleYAxis)for(var S=0;S<p.series.length;S++){var D=this.getMinYMaxY(S,b,null,S+1);p.minYArr.push(D.minY),p.maxYArr.push(D.maxY),b=D.lowestY}var B=this.getMinYMaxY(0,b,null,p.series.length);if(p.minY=B.minY,p.maxY=B.maxY,b=B.lowestY,f.chart.stacked&&this._setStackedMinMax(),("line"===f.chart.type||"area"===f.chart.type||"candlestick"===f.chart.type||"boxPlot"===f.chart.type||"rangeBar"===f.chart.type&&!p.isBarHorizontal)&&p.minY===Number.MIN_VALUE&&b!==-Number.MAX_VALUE&&b!==p.maxY){var F=p.maxY-b;(b>=0&&b<=10||void 0!==f.yaxis[0].min||void 0!==f.yaxis[0].max)&&(F=0),p.minY=b-5*F/100,b>0&&p.minY<0&&(p.minY=0),p.maxY=p.maxY+5*F/100}return f.yaxis.forEach(function(Z,q){void 0!==Z.max&&("number"==typeof Z.max?p.maxYArr[q]=Z.max:"function"==typeof Z.max&&(p.maxYArr[q]=Z.max(p.isMultipleYAxis?p.maxYArr[q]:p.maxY)),p.maxY=p.maxYArr[q]),void 0!==Z.min&&("number"==typeof Z.min?p.minYArr[q]=Z.min:"function"==typeof Z.min&&(p.minYArr[q]=Z.min(p.isMultipleYAxis?p.minYArr[q]===Number.MIN_VALUE?0:p.minYArr[q]:p.minY)),p.minY=p.minYArr[q])}),p.isBarHorizontal&&["min","max"].forEach(function(Z){void 0!==f.xaxis[Z]&&"number"==typeof f.xaxis[Z]&&("min"===Z?p.minY=f.xaxis[Z]:p.maxY=f.xaxis[Z])}),p.isMultipleYAxis?(this.scales.setMultipleYScales(),p.minY=b,p.yAxisScale.forEach(function(Z,q){p.minYArr[q]=Z.niceMin,p.maxYArr[q]=Z.niceMax})):(this.scales.setYScaleForIndex(0,p.minY,p.maxY),p.minY=p.yAxisScale[0].niceMin,p.maxY=p.yAxisScale[0].niceMax,p.minYArr[0]=p.yAxisScale[0].niceMin,p.maxYArr[0]=p.yAxisScale[0].niceMax),{minY:p.minY,maxY:p.maxY,minYArr:p.minYArr,maxYArr:p.maxYArr,yAxisScale:p.yAxisScale}}},{key:"setXRange",value:function(){var p=this.w.globals,f=this.w.config,b="numeric"===f.xaxis.type||"datetime"===f.xaxis.type||"category"===f.xaxis.type&&!p.noLabelsProvided||p.noLabelsProvided||p.isXNumeric;if(p.isXNumeric&&function(){for(var F=0;F<p.series.length;F++)if(p.labels[F])for(var Z=0;Z<p.labels[F].length;Z++)null!==p.labels[F][Z]&&ct.isNumber(p.labels[F][Z])&&(p.maxX=Math.max(p.maxX,p.labels[F][Z]),p.initialMaxX=Math.max(p.maxX,p.labels[F][Z]),p.minX=Math.min(p.minX,p.labels[F][Z]),p.initialMinX=Math.min(p.minX,p.labels[F][Z]))}(),p.noLabelsProvided&&0===f.xaxis.categories.length&&(p.maxX=p.labels[p.labels.length-1],p.initialMaxX=p.labels[p.labels.length-1],p.minX=1,p.initialMinX=1),p.isXNumeric||p.noLabelsProvided||p.dataFormatXNumeric){var S;if(void 0===f.xaxis.tickAmount?(S=Math.round(p.svgWidth/150),"numeric"===f.xaxis.type&&p.dataPoints<30&&(S=p.dataPoints-1),S>p.dataPoints&&0!==p.dataPoints&&(S=p.dataPoints-1)):"dataPoints"===f.xaxis.tickAmount?(p.series.length>1&&(S=p.series[p.maxValsInArrayIndex].length-1),p.isXNumeric&&(S=p.maxX-p.minX-1)):S=f.xaxis.tickAmount,p.xTickAmount=S,void 0!==f.xaxis.max&&"number"==typeof f.xaxis.max&&(p.maxX=f.xaxis.max),void 0!==f.xaxis.min&&"number"==typeof f.xaxis.min&&(p.minX=f.xaxis.min),void 0!==f.xaxis.range&&(p.minX=p.maxX-f.xaxis.range),p.minX!==Number.MAX_VALUE&&p.maxX!==-Number.MAX_VALUE)if(f.xaxis.convertedCatToNumeric&&!p.dataFormatXNumeric){for(var D=[],B=p.minX-1;B<p.maxX;B++)D.push(B+1);p.xAxisScale={result:D,niceMin:D[0],niceMax:D[D.length-1]}}else p.xAxisScale=this.scales.setXScale(p.minX,p.maxX);else p.xAxisScale=this.scales.linearScale(1,S,S),p.noLabelsProvided&&p.labels.length>0&&(p.xAxisScale=this.scales.linearScale(1,p.labels.length,S-1),p.seriesX=p.labels.slice());b&&(p.labels=p.xAxisScale.result.slice())}return p.isBarHorizontal&&p.labels.length&&(p.xTickAmount=p.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:p.minX,maxX:p.maxX}}},{key:"setZRange",value:function(){var p=this.w.globals;if(p.isDataXYZ)for(var f=0;f<p.series.length;f++)if(void 0!==p.seriesZ[f])for(var b=0;b<p.seriesZ[f].length;b++)null!==p.seriesZ[f][b]&&ct.isNumber(p.seriesZ[f][b])&&(p.maxZ=Math.max(p.maxZ,p.seriesZ[f][b]),p.minZ=Math.min(p.minZ,p.seriesZ[f][b]))}},{key:"_handleSingleDataPoint",value:function(){var p=this.w.globals,f=this.w.config;if(p.minX===p.maxX){var b=new fi(this.ctx);if("datetime"===f.xaxis.type){var S=b.getDate(p.minX);S.setUTCDate(S.getDate()-2),p.minX=new Date(S).getTime();var D=b.getDate(p.maxX);D.setUTCDate(D.getDate()+2),p.maxX=new Date(D).getTime()}else("numeric"===f.xaxis.type||"category"===f.xaxis.type&&!p.noLabelsProvided)&&(p.minX=p.minX-2,p.initialMinX=p.minX,p.maxX=p.maxX+2,p.initialMaxX=p.maxX)}}},{key:"_getMinXDiff",value:function(){var p=this.w.globals;p.isXNumeric&&p.seriesX.forEach(function(f,b){1===f.length&&f.push(p.seriesX[p.maxValsInArrayIndex][p.seriesX[p.maxValsInArrayIndex].length-1]);var S=f.slice();S.sort(function(D,B){return D-B}),S.forEach(function(D,B){if(B>0){var F=D-S[B-1];F>0&&(p.minXDiff=Math.min(F,p.minXDiff))}}),1===p.dataPoints&&p.minXDiff===Number.MAX_VALUE&&(p.minXDiff=.5)})}},{key:"_setStackedMinMax",value:function(){var p=this.w.globals,f=[],b=[];if(p.series.length)for(var S=0;S<p.series[p.maxValsInArrayIndex].length;S++)for(var D=0,B=0,F=0;F<p.series.length;F++)null!==p.series[F][S]&&ct.isNumber(p.series[F][S])&&(p.series[F][S]>0?D=D+parseFloat(p.series[F][S])+1e-4:B+=parseFloat(p.series[F][S])),F===p.series.length-1&&(f.push(D),b.push(B));for(var Z=0;Z<f.length;Z++)p.maxY=Math.max(p.maxY,f[Z]),p.minY=Math.min(p.minY,b[Z])}}]),Re}(),Ki=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w;var f=this.w;this.xaxisFontSize=f.config.xaxis.labels.style.fontSize,this.axisFontFamily=f.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=f.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal="bar"===f.config.chart.type&&f.config.plotOptions.bar.horizontal,this.xAxisoffX=0,"bottom"===f.config.xaxis.position&&(this.xAxisoffX=f.globals.gridHeight),this.drawnLabels=[],this.axesUtils=new ss(p)}return de(Re,[{key:"drawYaxis",value:function(p){var f=this,b=this.w,S=new Wt(this.ctx),D=b.config.yaxis[p].labels.style,B=D.fontSize,F=D.fontFamily,Z=D.fontWeight,q=S.group({class:"apexcharts-yaxis",rel:p,transform:"translate("+b.globals.translateYAxisX[p]+", 0)"});if(this.axesUtils.isYAxisHidden(p))return q;var oe=S.group({class:"apexcharts-yaxis-texts-g"});q.add(oe);var ue=b.globals.yAxisScale[p].result.length-1,ae=b.globals.gridHeight/ue,_e=b.globals.translateY,Ie=b.globals.yLabelFormatters[p],Pe=b.globals.yAxisScale[p].result.slice();Pe=this.axesUtils.checkForReversedLabels(p,Pe);var ze="";if(b.config.yaxis[p].labels.show)for(var We=function(ln){var qt=Pe[ln];qt=Ie(qt,ln,b);var un=b.config.yaxis[p].labels.padding;b.config.yaxis[p].opposite&&0!==b.config.yaxis.length&&(un*=-1);var Vn=f.axesUtils.getYAxisForeColor(D.colors,p),zn=S.drawText({x:un,y:_e+ue/10+b.config.yaxis[p].labels.offsetY+1,text:qt,textAnchor:b.config.yaxis[p].opposite?"start":"end",fontSize:B,fontFamily:F,fontWeight:Z,foreColor:Array.isArray(Vn)?Vn[ln]:Vn,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+D.cssClass});ln===ue&&(ze=zn),oe.add(zn);var ki=document.createElementNS(b.globals.SVGNS,"title");if(ki.textContent=Array.isArray(qt)?qt.join(" "):qt,zn.node.appendChild(ki),0!==b.config.yaxis[p].labels.rotate){var pr=S.rotateAroundCenter(ze.node),_i=S.rotateAroundCenter(zn.node);zn.node.setAttribute("transform","rotate(".concat(b.config.yaxis[p].labels.rotate," ").concat(pr.x," ").concat(_i.y,")"))}_e+=ae},st=ue;st>=0;st--)We(st);if(void 0!==b.config.yaxis[p].title.text){var bt=S.group({class:"apexcharts-yaxis-title"}),X=0;b.config.yaxis[p].opposite&&(X=b.globals.translateYAxisX[p]);var he=S.drawText({x:X,y:b.globals.gridHeight/2+b.globals.translateY+b.config.yaxis[p].title.offsetY,text:b.config.yaxis[p].title.text,textAnchor:"end",foreColor:b.config.yaxis[p].title.style.color,fontSize:b.config.yaxis[p].title.style.fontSize,fontWeight:b.config.yaxis[p].title.style.fontWeight,fontFamily:b.config.yaxis[p].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+b.config.yaxis[p].title.style.cssClass});bt.add(he),q.add(bt)}var Ne=b.config.yaxis[p].axisBorder,Je=31+Ne.offsetX;if(b.config.yaxis[p].opposite&&(Je=-31-Ne.offsetX),Ne.show){var mt=S.drawLine(Je,b.globals.translateY+Ne.offsetY-2,Je,b.globals.gridHeight+b.globals.translateY+Ne.offsetY+2,Ne.color,0,Ne.width);q.add(mt)}return b.config.yaxis[p].axisTicks.show&&this.axesUtils.drawYAxisTicks(Je,ue,Ne,b.config.yaxis[p].axisTicks,p,ae,q),q}},{key:"drawYaxisInversed",value:function(p){var f=this.w,b=new Wt(this.ctx),S=b.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),D=b.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(f.globals.translateXAxisX,", ").concat(f.globals.translateXAxisY,")")});S.add(D);var B=f.globals.yAxisScale[p].result.length-1,F=f.globals.gridWidth/B+.1,Z=F+f.config.xaxis.labels.offsetX,q=f.globals.xLabelFormatter,oe=f.globals.yAxisScale[p].result.slice(),ue=f.globals.timescaleLabels;ue.length>0&&(this.xaxisLabels=ue.slice(),B=(oe=ue.slice()).length),oe=this.axesUtils.checkForReversedLabels(p,oe);var ae=ue.length;if(f.config.xaxis.labels.show)for(var _e=ae?0:B;ae?_e<ae:_e>=0;ae?_e++:_e--){var Ie=oe[_e];Ie=q(Ie,_e,f);var Pe=f.globals.gridWidth+f.globals.padHorizontal-(Z-F+f.config.xaxis.labels.offsetX);if(ue.length){var ze=this.axesUtils.getLabel(oe,ue,Pe,_e,this.drawnLabels,this.xaxisFontSize);Pe=ze.x,Ie=ze.text,this.drawnLabels.push(ze.text),0===_e&&f.globals.skipFirstTimelinelabel&&(Ie=""),_e===oe.length-1&&f.globals.skipLastTimelinelabel&&(Ie="")}var We=b.drawText({x:Pe,y:this.xAxisoffX+f.config.xaxis.labels.offsetY+30-("top"===f.config.xaxis.position?f.globals.xAxisHeight+f.config.xaxis.axisTicks.height-2:0),text:Ie,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[p]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:f.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label "+f.config.xaxis.labels.style.cssClass});D.add(We),We.tspan(Ie);var st=document.createElementNS(f.globals.SVGNS,"title");st.textContent=Ie,We.node.appendChild(st),Z+=F}return this.inversedYAxisTitleText(S),this.inversedYAxisBorder(S),S}},{key:"inversedYAxisBorder",value:function(p){var f=this.w,b=new Wt(this.ctx),S=f.config.xaxis.axisBorder;if(S.show){var D=0;"bar"===f.config.chart.type&&f.globals.isXNumeric&&(D-=15);var B=b.drawLine(f.globals.padHorizontal+D+S.offsetX,this.xAxisoffX,f.globals.gridWidth,this.xAxisoffX,S.color,0,S.height);p.add(B)}}},{key:"inversedYAxisTitleText",value:function(p){var f=this.w,b=new Wt(this.ctx);if(void 0!==f.config.xaxis.title.text){var S=b.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),D=b.drawText({x:f.globals.gridWidth/2+f.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(f.config.xaxis.title.style.fontSize)+f.config.xaxis.title.offsetY+20,text:f.config.xaxis.title.text,textAnchor:"middle",fontSize:f.config.xaxis.title.style.fontSize,fontFamily:f.config.xaxis.title.style.fontFamily,fontWeight:f.config.xaxis.title.style.fontWeight,foreColor:f.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+f.config.xaxis.title.style.cssClass});S.add(D),p.add(S)}}},{key:"yAxisTitleRotate",value:function(p,f){var b=this.w,S=new Wt(this.ctx),D={width:0,height:0},B={width:0,height:0},F=b.globals.dom.baseEl.querySelector(" .apexcharts-yaxis[rel='".concat(p,"'] .apexcharts-yaxis-texts-g"));null!==F&&(D=F.getBoundingClientRect());var Z=b.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(p,"'] .apexcharts-yaxis-title text"));if(null!==Z&&(B=Z.getBoundingClientRect()),null!==Z){var q=this.xPaddingForYAxisTitle(p,D,B,f);Z.setAttribute("x",q.xPos-(f?10:0))}if(null!==Z){var oe=S.rotateAroundCenter(Z);Z.setAttribute("transform","rotate(".concat(f?-1*b.config.yaxis[p].title.rotate:b.config.yaxis[p].title.rotate," ").concat(oe.x," ").concat(oe.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(p,f,b,S){var D=this.w,B=0,F=0,Z=10;return void 0===D.config.yaxis[p].title.text||p<0?{xPos:F,padd:0}:(S?(F=f.width+D.config.yaxis[p].title.offsetX+b.width/2+Z/2,0===(B+=1)&&(F-=Z/2)):(F=-1*f.width+D.config.yaxis[p].title.offsetX+Z/2+b.width/2,D.globals.isBarHorizontal&&(F=-1*f.width-D.config.yaxis[p].title.offsetX-(Z=25))),{xPos:F,padd:Z})}},{key:"setYAxisXPosition",value:function(p,f){var b=this.w,S=0,D=0,B=18,F=1;b.config.yaxis.length>1&&(this.multipleYs=!0),b.config.yaxis.map(function(Z,q){var oe=b.globals.ignoreYAxisIndexes.indexOf(q)>-1||!Z.show||Z.floating||0===p[q].width,ue=p[q].width+f[q].width;Z.opposite?b.globals.isBarHorizontal?b.globals.translateYAxisX[q]=(D=b.globals.gridWidth+b.globals.translateX-1)-Z.labels.offsetX:(D=b.globals.gridWidth+b.globals.translateX+F,oe||(F=F+ue+20),b.globals.translateYAxisX[q]=D-Z.labels.offsetX+20):(S=b.globals.translateX-B,oe||(B=B+ue+20),b.globals.translateYAxisX[q]=S+Z.labels.offsetX)})}},{key:"setYAxisTextAlignments",value:function(){var p=this.w,f=p.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis");(f=ct.listToArray(f)).forEach(function(b,S){var D=p.config.yaxis[S];if(D&&void 0!==D.labels.align){var B=p.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(S,"'] .apexcharts-yaxis-texts-g")),F=p.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(S,"'] .apexcharts-yaxis-label"));F=ct.listToArray(F);var Z=B.getBoundingClientRect();"left"===D.labels.align?(F.forEach(function(q,oe){q.setAttribute("text-anchor","start")}),D.opposite||B.setAttribute("transform","translate(-".concat(Z.width,", 0)"))):"center"===D.labels.align?(F.forEach(function(q,oe){q.setAttribute("text-anchor","middle")}),B.setAttribute("transform","translate(".concat(Z.width/2*(D.opposite?1:-1),", 0)"))):"right"===D.labels.align&&(F.forEach(function(q,oe){q.setAttribute("text-anchor","end")}),D.opposite&&B.setAttribute("transform","translate(".concat(Z.width,", 0)")))}})}}]),Re}(),tr=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w,this.documentEvent=ct.bind(this.documentEvent,this)}return de(Re,[{key:"addEventListener",value:function(p,f){var b=this.w;b.globals.events.hasOwnProperty(p)?b.globals.events[p].push(f):b.globals.events[p]=[f]}},{key:"removeEventListener",value:function(p,f){var b=this.w;if(b.globals.events.hasOwnProperty(p)){var S=b.globals.events[p].indexOf(f);-1!==S&&b.globals.events[p].splice(S,1)}}},{key:"fireEvent",value:function(p,f){var b=this.w;if(b.globals.events.hasOwnProperty(p)){f&&f.length||(f=[]);for(var S=b.globals.events[p],D=S.length,B=0;B<D;B++)S[B].apply(null,f)}}},{key:"setupEventHandlers",value:function(){var p=this,f=this.w,b=this.ctx,S=f.globals.dom.baseEl.querySelector(f.globals.chartClass);this.ctx.eventList.forEach(function(D){S.addEventListener(D,function(B){var F=Object.assign({},f,{seriesIndex:f.globals.capturedSeriesIndex,dataPointIndex:f.globals.capturedDataPointIndex});"mousemove"===B.type||"touchmove"===B.type?"function"==typeof f.config.chart.events.mouseMove&&f.config.chart.events.mouseMove(B,b,F):"mouseleave"===B.type||"touchleave"===B.type?"function"==typeof f.config.chart.events.mouseLeave&&f.config.chart.events.mouseLeave(B,b,F):("mouseup"===B.type&&1===B.which||"touchend"===B.type)&&("function"==typeof f.config.chart.events.click&&f.config.chart.events.click(B,b,F),b.ctx.events.fireEvent("click",[B,b,F]))},{capture:!1,passive:!0})}),this.ctx.eventList.forEach(function(D){f.globals.dom.baseEl.addEventListener(D,p.documentEvent,{passive:!0})}),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(p){var f=this.w,b=p.target.className;if("click"===p.type){var S=f.globals.dom.baseEl.querySelector(".apexcharts-menu");S&&S.classList.contains("apexcharts-menu-open")&&"apexcharts-menu-icon"!==b&&S.classList.remove("apexcharts-menu-open")}f.globals.clientX="touchmove"===p.type?p.touches[0].clientX:p.clientX,f.globals.clientY="touchmove"===p.type?p.touches[0].clientY:p.clientY}}]),Re}(),wo=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w}return de(Re,[{key:"setCurrentLocaleValues",value:function(p){var f=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(f=this.w.config.chart.locales.concat(window.Apex.chart.locales));var b=f.filter(function(D){return D.name===p})[0];if(!b)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var S=ct.extend(er,b);this.w.globals.locale=S.options}}]),Re}(),Ws=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w}return de(Re,[{key:"drawAxis",value:function(p,f){var b,S,D=this.w.globals,B=this.w.config,F=new Xs(this.ctx),Z=new Ki(this.ctx);D.axisCharts&&"radar"!==p&&(D.isBarHorizontal?(S=Z.drawYaxisInversed(0),b=F.drawXaxisInversed(0),D.dom.elGraphical.add(b),D.dom.elGraphical.add(S)):(b=F.drawXaxis(),D.dom.elGraphical.add(b),B.yaxis.map(function(q,oe){-1===D.ignoreYAxisIndexes.indexOf(oe)&&(S=Z.drawYaxis(oe),D.dom.Paper.add(S))})))}}]),Re}(),wi=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w}return de(Re,[{key:"drawXCrosshairs",value:function(){var p=this.w,f=new Wt(this.ctx),b=new Fn(this.ctx),S=p.config.xaxis.crosshairs.fill.gradient,D=p.config.xaxis.crosshairs.dropShadow,ae=D.enabled,_e=D.left,Ie=D.top,Pe=D.blur,ze=D.color,We=D.opacity,st=p.config.xaxis.crosshairs.fill.color;if(p.config.xaxis.crosshairs.show){"gradient"===p.config.xaxis.crosshairs.fill.type&&(st=f.drawGradient("vertical",S.colorFrom,S.colorTo,S.opacityFrom,S.opacityTo,null,S.stops,null));var bt=f.drawRect();1===p.config.xaxis.crosshairs.width&&(bt=f.drawLine());var X=p.globals.gridHeight;(!ct.isNumber(X)||X<0)&&(X=0);var he=p.config.xaxis.crosshairs.width;(!ct.isNumber(he)||he<0)&&(he=0),bt.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:X,width:he,height:X,fill:st,filter:"none","fill-opacity":p.config.xaxis.crosshairs.opacity,stroke:p.config.xaxis.crosshairs.stroke.color,"stroke-width":p.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":p.config.xaxis.crosshairs.stroke.dashArray}),ae&&(bt=b.dropShadow(bt,{left:_e,top:Ie,blur:Pe,color:ze,opacity:We})),p.globals.dom.elGraphical.add(bt)}}},{key:"drawYCrosshairs",value:function(){var p=this.w,f=new Wt(this.ctx),b=p.config.yaxis[0].crosshairs,S=p.globals.barPadForNumericAxis;if(p.config.yaxis[0].crosshairs.show){var D=f.drawLine(-S,0,p.globals.gridWidth+S,0,b.stroke.color,b.stroke.dashArray,b.stroke.width);D.attr({class:"apexcharts-ycrosshairs"}),p.globals.dom.elGraphical.add(D)}var B=f.drawLine(-S,0,p.globals.gridWidth+S,0,b.stroke.color,0,0);B.attr({class:"apexcharts-ycrosshairs-hidden"}),p.globals.dom.elGraphical.add(B)}}]),Re}(),fs=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w}return de(Re,[{key:"checkResponsiveConfig",value:function(p){var f=this,b=this.w,S=b.config;if(0!==S.responsive.length){var D=S.responsive.slice();D.sort(function(q,oe){return q.breakpoint>oe.breakpoint?1:oe.breakpoint>q.breakpoint?-1:0}).reverse();var B=new bi({}),F=function(){var q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},oe=D[0].breakpoint,ue=window.innerWidth>0?window.innerWidth:screen.width;if(ue>oe){var ae=hi.extendArrayProps(B,b.globals.initialConfig,b);q=ct.extend(ae,q),q=ct.extend(b.config,q),f.overrideResponsiveOptions(q)}else for(var _e=0;_e<D.length;_e++)ue<D[_e].breakpoint&&(q=hi.extendArrayProps(B,D[_e].options,b),q=ct.extend(b.config,q),f.overrideResponsiveOptions(q))};if(p){var Z=hi.extendArrayProps(B,p,b);Z=ct.extend(b.config,Z),F(Z=ct.extend(Z,p))}else F({})}}},{key:"overrideResponsiveOptions",value:function(p){var f=new bi(p).init({responsiveOverride:!0});this.w.config=f}}]),Re}(),xr=function(){function Re(p){ee(this,Re),this.ctx=p,this.colors=[],this.w=p.w;var f=this.w;this.isColorFn=!1,this.isHeatmapDistributed="treemap"===f.config.chart.type&&f.config.plotOptions.treemap.distributed||"heatmap"===f.config.chart.type&&f.config.plotOptions.heatmap.distributed,this.isBarDistributed=f.config.plotOptions.bar.distributed&&("bar"===f.config.chart.type||"rangeBar"===f.config.chart.type)}return de(Re,[{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var p=this,f=this.w,b=new ct;if(f.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(f.config.theme.mode)),void 0===f.config.colors?f.globals.colors=this.predefined():(f.globals.colors=f.config.colors,Array.isArray(f.config.colors)&&f.config.colors.length>0&&"function"==typeof f.config.colors[0]&&(f.globals.colors=f.config.series.map(function(_e,Ie){var Pe=f.config.colors[Ie];return Pe||(Pe=f.config.colors[0]),"function"==typeof Pe?(p.isColorFn=!0,Pe({value:f.globals.axisCharts?f.globals.series[Ie][0]?f.globals.series[Ie][0]:0:f.globals.series[Ie],seriesIndex:Ie,dataPointIndex:Ie,w:f})):Pe}))),f.globals.seriesColors.map(function(_e,Ie){_e&&(f.globals.colors[Ie]=_e)}),f.config.theme.monochrome.enabled){var S=[],D=f.globals.series.length;(this.isBarDistributed||this.isHeatmapDistributed)&&(D=f.globals.series[0].length*f.globals.series.length);for(var B=f.config.theme.monochrome.color,F=1/(D/f.config.theme.monochrome.shadeIntensity),Z=f.config.theme.monochrome.shadeTo,q=0,oe=0;oe<D;oe++){var ue=void 0;"dark"===Z?(ue=b.shadeColor(-1*q,B),q+=F):(ue=b.shadeColor(q,B),q+=F),S.push(ue)}f.globals.colors=S.slice()}var ae=f.globals.colors.slice();this.pushExtraColors(f.globals.colors),["fill","stroke"].forEach(function(_e){f.globals[_e].colors=void 0===f.config[_e].colors?p.isColorFn?f.config.colors:ae:f.config[_e].colors.slice(),p.pushExtraColors(f.globals[_e].colors)}),f.globals.dataLabels.style.colors=void 0===f.config.dataLabels.style.colors?ae:f.config.dataLabels.style.colors.slice(),this.pushExtraColors(f.globals.dataLabels.style.colors,50),f.globals.radarPolygons.fill.colors=void 0===f.config.plotOptions.radar.polygons.fill.colors?["dark"===f.config.theme.mode?"#424242":"none"]:f.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(f.globals.radarPolygons.fill.colors,20),f.globals.markers.colors=void 0===f.config.markers.colors?ae:f.config.markers.colors.slice(),this.pushExtraColors(f.globals.markers.colors)}},{key:"pushExtraColors",value:function(p,f){var b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,S=this.w,D=f||S.globals.series.length;if(null===b&&(b=this.isBarDistributed||this.isHeatmapDistributed||"heatmap"===S.config.chart.type&&S.config.plotOptions.heatmap.colorScale.inverse),b&&S.globals.series.length&&(D=S.globals.series[S.globals.maxValsInArrayIndex].length*S.globals.series.length),p.length<D)for(var B=D-p.length,F=0;F<B;F++)p.push(p[F])}},{key:"updateThemeOptions",value:function(p){p.chart=p.chart||{},p.tooltip=p.tooltip||{};var f=p.theme.mode||"light",b=p.theme.palette?p.theme.palette:"dark"===f?"palette4":"palette1",S=p.chart.foreColor?p.chart.foreColor:"dark"===f?"#f6f7f8":"#373d3f";return p.tooltip.theme=f,p.chart.foreColor=S,p.theme.palette=b,p}},{key:"predefined",value:function(){switch(this.w.config.theme.palette){case"palette1":this.colors=["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"];break;case"palette2":this.colors=["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"];break;case"palette3":this.colors=["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"];break;case"palette4":this.colors=["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"];break;case"palette5":this.colors=["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"];break;case"palette6":this.colors=["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"];break;case"palette7":this.colors=["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"];break;case"palette8":this.colors=["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"];break;case"palette9":this.colors=["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"];break;case"palette10":this.colors=["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"];break;default:this.colors=["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"]}return this.colors}}]),Re}(),nr=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w}return de(Re,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(p){var f=this.w,b="title"===p?f.config.title:f.config.subtitle,S=f.globals.svgWidth/2,D=b.offsetY,B="middle";if("left"===b.align?(S=10,B="start"):"right"===b.align&&(S=f.globals.svgWidth-10,B="end"),S+=b.offsetX,D=D+parseInt(b.style.fontSize,10)+b.margin/2,void 0!==b.text){var F=new Wt(this.ctx).drawText({x:S,y:D,text:b.text,textAnchor:B,fontSize:b.style.fontSize,fontFamily:b.style.fontFamily,fontWeight:b.style.fontWeight,foreColor:b.style.color,opacity:1});F.node.setAttribute("class","apexcharts-".concat(p,"-text")),f.globals.dom.Paper.add(F)}}}]),Re}(),Co=function(){function Re(p){ee(this,Re),this.w=p.w,this.dCtx=p}return de(Re,[{key:"getTitleSubtitleCoords",value:function(p){var f=this.w,b=0,S=0,D="title"===p?f.config.title.floating:f.config.subtitle.floating,B=f.globals.dom.baseEl.querySelector(".apexcharts-".concat(p,"-text"));if(null!==B&&!D){var F=B.getBoundingClientRect();b=F.width,S=f.globals.axisCharts?F.height+5:F.height}return{width:b,height:S}}},{key:"getLegendsRect",value:function(){var p=this.w,f=p.globals.dom.baseEl.querySelector(".apexcharts-legend");p.config.legend.height||"top"!==p.config.legend.position&&"bottom"!==p.config.legend.position||(f.style.maxHeight=p.globals.svgHeight/2+"px");var b=Object.assign({},ct.getBoundingClientRect(f));return this.dCtx.lgRect=null!==f&&!p.config.legend.floating&&p.config.legend.show?{x:b.x,y:b.y,height:b.height,width:0===b.height?0:b.width}:{x:0,y:0,height:0,width:0},"left"!==p.config.legend.position&&"right"!==p.config.legend.position||1.5*this.dCtx.lgRect.width>p.globals.svgWidth&&(this.dCtx.lgRect.width=p.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getLargestStringFromMultiArr",value:function(p,f){var b=p;if(this.w.globals.isMultiLineX){var S=f.map(function(B,F){return Array.isArray(B)?B.length:1}),D=Math.max.apply(Math,rn(S));b=f[S.indexOf(D)]}return b}}]),Re}(),Yc=function(){function Re(p){ee(this,Re),this.w=p.w,this.dCtx=p}return de(Re,[{key:"getxAxisLabelsCoords",value:function(){var p,f=this.w,b=f.globals.labels.slice();if(f.config.xaxis.convertedCatToNumeric&&0===b.length&&(b=f.globals.categoryLabels),f.globals.timescaleLabels.length>0){var S=this.getxAxisTimeScaleLabelsCoords();p={width:S.width,height:S.height},f.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends="left"!==f.config.legend.position&&"right"!==f.config.legend.position||f.config.legend.floating?0:this.dCtx.lgRect.width;var D=f.globals.xLabelFormatter,B=ct.getLargestStringFromArr(b),F=this.dCtx.dimHelpers.getLargestStringFromMultiArr(B,b);f.globals.isBarHorizontal&&(F=B=f.globals.yAxisScale[0].result.reduce(function(Ie,Pe){return Ie.length>Pe.length?Ie:Pe},0));var Z=new xo(this.dCtx.ctx),q=B;B=Z.xLabelFormat(D,B,q,{i:void 0,dateFormatter:new fi(this.dCtx.ctx).formatDate,w:f}),F=Z.xLabelFormat(D,F,q,{i:void 0,dateFormatter:new fi(this.dCtx.ctx).formatDate,w:f}),(f.config.xaxis.convertedCatToNumeric&&void 0===B||""===String(B).trim())&&(F=B="1");var oe=new Wt(this.dCtx.ctx),ue=oe.getTextRects(B,f.config.xaxis.labels.style.fontSize),ae=ue;if(B!==F&&(ae=oe.getTextRects(F,f.config.xaxis.labels.style.fontSize)),(p={width:ue.width>=ae.width?ue.width:ae.width,height:ue.height>=ae.height?ue.height:ae.height}).width*b.length>f.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&0!==f.config.xaxis.labels.rotate||f.config.xaxis.labels.rotateAlways){if(!f.globals.isBarHorizontal){f.globals.rotateXLabels=!0;var _e=function(Ie){return oe.getTextRects(Ie,f.config.xaxis.labels.style.fontSize,f.config.xaxis.labels.style.fontFamily,"rotate(".concat(f.config.xaxis.labels.rotate," 0 0)"),!1)};ue=_e(B),B!==F&&(ae=_e(F)),p.height=(ue.height>ae.height?ue.height:ae.height)/1.5,p.width=ue.width>ae.width?ue.width:ae.width}}else f.globals.rotateXLabels=!1}return f.config.xaxis.labels.show||(p={width:0,height:0}),{width:p.width,height:p.height}}},{key:"getxAxisTitleCoords",value:function(){var p=this.w,f=0,b=0;if(void 0!==p.config.xaxis.title.text){var S=new Wt(this.dCtx.ctx).getTextRects(p.config.xaxis.title.text,p.config.xaxis.title.style.fontSize);f=S.width,b=S.height}return{width:f,height:b}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var p,f=this.w;this.dCtx.timescaleLabels=f.globals.timescaleLabels.slice();var b=this.dCtx.timescaleLabels.map(function(D){return D.value}),S=b.reduce(function(D,B){return void 0===D?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):D.length>B.length?D:B},0);return 1.05*(p=new Wt(this.dCtx.ctx).getTextRects(S,f.config.xaxis.labels.style.fontSize)).width*b.length>f.globals.gridWidth&&0!==f.config.xaxis.labels.rotate&&(f.globals.overlappingXLabels=!0),p}},{key:"additionalPaddingXLabels",value:function(p){var f=this,b=this.w,S=b.globals,D=b.config,B=D.xaxis.type,F=p.width;S.skipLastTimelinelabel=!1,S.skipFirstTimelinelabel=!1;var Z=b.config.yaxis[0].opposite&&b.globals.isBarHorizontal;D.yaxis.forEach(function(oe,ue){Z?(f.dCtx.gridPad.left<F&&(f.dCtx.xPadLeft=F/2+1),f.dCtx.xPadRight=F/2+1):function(oe,ue){-1!==S.collapsedSeriesIndices.indexOf(ue)||function(ae){if(f.dCtx.timescaleLabels&&f.dCtx.timescaleLabels.length){var Pe=f.dCtx.timescaleLabels[0].position-F/1.75+f.dCtx.yAxisWidthLeft;f.dCtx.timescaleLabels[f.dCtx.timescaleLabels.length-1].position+F/1.75-f.dCtx.yAxisWidthRight>S.svgWidth-S.translateX-("right"===b.config.legend.position&&f.dCtx.lgRect.width>0?f.dCtx.lgRect.width:0)&&(S.skipLastTimelinelabel=!0),Pe<-(ae.show&&!ae.floating||"bar"!==D.chart.type&&"candlestick"!==D.chart.type&&"rangeBar"!==D.chart.type&&"boxPlot"!==D.chart.type?10:F/1.75)&&(S.skipFirstTimelinelabel=!0)}else"datetime"===B?f.dCtx.gridPad.right<F&&!S.rotateXLabels&&(S.skipLastTimelinelabel=!0):"datetime"!==B&&f.dCtx.gridPad.right<F/2-f.dCtx.yAxisWidthRight&&!S.rotateXLabels&&!b.config.xaxis.labels.trim&&("between"!==b.config.xaxis.tickPlacement||b.globals.isBarHorizontal)&&(f.dCtx.xPadRight=F/2+1)}(oe)}(oe,ue)})}}]),Re}(),Qr=function(){function Re(p){ee(this,Re),this.w=p.w,this.dCtx=p}return de(Re,[{key:"getyAxisLabelsCoords",value:function(){var p=this,f=this.w,b=[],S=10,D=new ss(this.dCtx.ctx);return f.config.yaxis.map(function(B,F){var Z=f.globals.yAxisScale[F],q=0;if(!D.isYAxisHidden(F)&&B.labels.show&&void 0!==B.labels.minWidth&&(q=B.labels.minWidth),!D.isYAxisHidden(F)&&B.labels.show&&Z.result.length){var oe=f.globals.yLabelFormatters[F],ue=Z.niceMin===Number.MIN_VALUE?0:Z.niceMin,ae=String(ue).length>String(Z.niceMax).length?ue:Z.niceMax,_e=oe(ae,{seriesIndex:F,dataPointIndex:-1,w:f}),Ie=_e;if(void 0!==_e&&0!==_e.length||(_e=ae),f.globals.isBarHorizontal){S=0;var Pe=f.globals.labels.slice();_e=oe(_e=ct.getLargestStringFromArr(Pe),{seriesIndex:F,dataPointIndex:-1,w:f}),Ie=p.dCtx.dimHelpers.getLargestStringFromMultiArr(_e,Pe)}var ze=new Wt(p.dCtx.ctx),We="rotate(".concat(B.labels.rotate," 0 0)"),st=ze.getTextRects(_e,B.labels.style.fontSize,B.labels.style.fontFamily,We,!1),bt=st;_e!==Ie&&(bt=ze.getTextRects(Ie,B.labels.style.fontSize,B.labels.style.fontFamily,We,!1)),b.push({width:(q>bt.width||q>st.width?q:bt.width>st.width?bt.width:st.width)+S,height:bt.height>st.height?bt.height:st.height})}else b.push({width:0,height:0})}),b}},{key:"getyAxisTitleCoords",value:function(){var p=this,b=[];return this.w.config.yaxis.map(function(S,D){if(S.show&&void 0!==S.title.text){var B=new Wt(p.dCtx.ctx),F="rotate(".concat(S.title.rotate," 0 0)"),Z=B.getTextRects(S.title.text,S.title.style.fontSize,S.title.style.fontFamily,F,!1);b.push({width:Z.width,height:Z.height})}else b.push({width:0,height:0})}),b}},{key:"getTotalYAxisWidth",value:function(){var p=this.w,f=0,b=0,S=0,D=p.globals.yAxisScale.length>1?10:0,B=new ss(this.dCtx.ctx),F=function(Z,q){var oe=p.config.yaxis[q].floating,ue=0;Z.width>0&&!oe?(ue=Z.width+D,p.globals.ignoreYAxisIndexes.indexOf(q)>-1&&(ue=ue-Z.width-D)):ue=oe||B.isYAxisHidden(q)?0:5,p.config.yaxis[q].opposite?S+=ue:b+=ue,f+=ue};return p.globals.yLabelsCoords.map(function(Z,q){F(Z,q)}),p.globals.yTitleCoords.map(function(Z,q){F(Z,q)}),p.globals.isBarHorizontal&&!p.config.yaxis[0].floating&&(f=p.globals.yLabelsCoords[0].width+p.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=b,this.dCtx.yAxisWidthRight=S,f}}]),Re}(),Ns=function(){function Re(p){ee(this,Re),this.w=p.w,this.dCtx=p}return de(Re,[{key:"gridPadForColumnsInNumericAxis",value:function(p){var f=this.w;if(f.globals.noData||f.globals.allSeriesCollapsed)return 0;var b=function(oe){return"bar"===oe||"rangeBar"===oe||"candlestick"===oe||"boxPlot"===oe},S=f.config.chart.type,D=0,B=b(S)?f.config.series.length:1;if(f.globals.comboBarCount>0&&(B=f.globals.comboBarCount),f.globals.collapsedSeries.forEach(function(oe){b(oe.type)&&(B-=1)}),f.config.chart.stacked&&(B=1),(b(S)||f.globals.comboBarCount>0)&&f.globals.isXNumeric&&!f.globals.isBarHorizontal&&B>0){var F,Z,q=Math.abs(f.globals.initialMaxX-f.globals.initialMinX);q<=3&&(q=f.globals.dataPoints),F=q/p,f.globals.minXDiff&&f.globals.minXDiff/F>0&&(Z=f.globals.minXDiff/F),Z>p/2&&(Z/=2),(D=Z/B*parseInt(f.config.plotOptions.bar.columnWidth,10)/100)<1&&(D=1),f.globals.barPadForNumericAxis=D=D/(B>1?1:1.5)+5}return D}},{key:"gridPadFortitleSubtitle",value:function(){var p=this,f=this.w,b=f.globals,S=this.dCtx.isSparkline||!f.globals.axisCharts?0:10;["title","subtitle"].forEach(function(F){S+=void 0!==f.config[F].text?f.config[F].margin:p.dCtx.isSparkline||!f.globals.axisCharts?0:5}),!f.config.legend.show||"bottom"!==f.config.legend.position||f.config.legend.floating||f.globals.axisCharts||(S+=10);var D=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),B=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");b.gridHeight=b.gridHeight-D.height-B.height-S,b.translateY=b.translateY+D.height+B.height+S}},{key:"setGridXPosForDualYAxis",value:function(p,f){var b=this.w,S=new ss(this.dCtx.ctx);b.config.yaxis.map(function(D,B){-1!==b.globals.ignoreYAxisIndexes.indexOf(B)||D.floating||S.isYAxisHidden(B)||(D.opposite&&(b.globals.translateX=b.globals.translateX-(f[B].width+p[B].width)-parseInt(b.config.yaxis[B].labels.style.fontSize,10)/1.2-12),b.globals.translateX<2&&(b.globals.translateX=2))})}}]),Re}(),Wo=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new Co(this),this.dimYAxis=new Qr(this),this.dimXAxis=new Yc(this),this.dimGrid=new Ns(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return de(Re,[{key:"plotCoords",value:function(){var p=this.w.globals;this.lgRect=this.dimHelpers.getLegendsRect(),p.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),p.gridHeight=p.gridHeight-this.gridPad.top-this.gridPad.bottom,p.gridWidth=p.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var f=this.dimGrid.gridPadForColumnsInNumericAxis(p.gridWidth);p.gridWidth=p.gridWidth-2*f,p.translateX=p.translateX+this.gridPad.left+this.xPadLeft+(f>0?f+4:0),p.translateY=p.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var p=this,f=this.w,b=f.globals,S=this.dimYAxis.getyAxisLabelsCoords(),D=this.dimYAxis.getyAxisTitleCoords();f.globals.yLabelsCoords=[],f.globals.yTitleCoords=[],f.config.yaxis.map(function(ae,_e){f.globals.yLabelsCoords.push({width:S[_e].width,index:_e}),f.globals.yTitleCoords.push({width:D[_e].width,index:_e})}),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var B=this.dimXAxis.getxAxisLabelsCoords(),F=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(B,F),b.translateXAxisY=f.globals.rotateXLabels?this.xAxisHeight/8:-4,b.translateXAxisX=f.globals.rotateXLabels&&f.globals.isXNumeric&&f.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,f.globals.isBarHorizontal&&(b.rotateXLabels=!1,b.translateXAxisY=parseInt(f.config.xaxis.labels.style.fontSize,10)/1.5*-1),b.translateXAxisY=b.translateXAxisY+f.config.xaxis.labels.offsetY,b.translateXAxisX=b.translateXAxisX+f.config.xaxis.labels.offsetX;var Z=this.yAxisWidth,q=this.xAxisHeight;b.xAxisLabelsHeight=this.xAxisHeight-F.height,b.xAxisLabelsWidth=this.xAxisWidth,b.xAxisHeight=this.xAxisHeight;var oe=10;("radar"===f.config.chart.type||this.isSparkline)&&(Z=0,q=b.goldenPadding),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||"treemap"===f.config.chart.type)&&(Z=0,q=0,oe=0),this.isSparkline||this.dimXAxis.additionalPaddingXLabels(B);var ue=function(){b.translateX=Z,b.gridHeight=b.svgHeight-p.lgRect.height-q-(p.isSparkline||"treemap"===f.config.chart.type?0:f.globals.rotateXLabels?10:15),b.gridWidth=b.svgWidth-Z};switch("top"===f.config.xaxis.position&&(oe=b.xAxisHeight-f.config.xaxis.axisTicks.height-5),f.config.legend.position){case"bottom":b.translateY=oe,ue();break;case"top":b.translateY=this.lgRect.height+oe,ue();break;case"left":b.translateY=oe,b.translateX=this.lgRect.width+Z,b.gridHeight=b.svgHeight-q-12,b.gridWidth=b.svgWidth-this.lgRect.width-Z;break;case"right":b.translateY=oe,b.translateX=Z,b.gridHeight=b.svgHeight-q-12,b.gridWidth=b.svgWidth-this.lgRect.width-Z-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(D,S),new Ki(this.ctx).setYAxisXPosition(S,D)}},{key:"setDimensionsForNonAxisCharts",value:function(){var p=this.w,f=p.globals,b=p.config,S=0;p.config.legend.show&&!p.config.legend.floating&&(S=20);var D="pie"===b.chart.type||"polarArea"===b.chart.type||"donut"===b.chart.type?"pie":"radialBar",B=b.plotOptions[D].offsetY,F=b.plotOptions[D].offsetX;if(!b.legend.show||b.legend.floating)return f.gridHeight=f.svgHeight-b.grid.padding.left+b.grid.padding.right,f.gridWidth=f.gridHeight,f.translateY=B,void(f.translateX=F+(f.svgWidth-f.gridWidth)/2);switch(b.legend.position){case"bottom":f.gridHeight=f.svgHeight-this.lgRect.height-f.goldenPadding,f.gridWidth=f.svgWidth,f.translateY=B-10,f.translateX=F+(f.svgWidth-f.gridWidth)/2;break;case"top":f.gridHeight=f.svgHeight-this.lgRect.height-f.goldenPadding,f.gridWidth=f.svgWidth,f.translateY=this.lgRect.height+B+10,f.translateX=F+(f.svgWidth-f.gridWidth)/2;break;case"left":f.gridWidth=f.svgWidth-this.lgRect.width-S,f.gridHeight="auto"!==b.chart.height?f.svgHeight:f.gridWidth,f.translateY=B,f.translateX=F+this.lgRect.width+S;break;case"right":f.gridWidth=f.svgWidth-this.lgRect.width-S-5,f.gridHeight="auto"!==b.chart.height?f.svgHeight:f.gridWidth,f.translateY=B,f.translateX=F+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(p,f){var b=this.w;this.xAxisHeight=(p.height+f.height)*(b.globals.isMultiLineX?1.2:b.globals.LINE_HEIGHT_RATIO)+(b.globals.rotateXLabels?22:10),this.xAxisWidth=p.width,this.xAxisHeight-f.height>b.config.xaxis.labels.maxHeight&&(this.xAxisHeight=b.config.xaxis.labels.maxHeight),b.config.xaxis.labels.minHeight&&this.xAxisHeight<b.config.xaxis.labels.minHeight&&(this.xAxisHeight=b.config.xaxis.labels.minHeight),b.config.xaxis.floating&&(this.xAxisHeight=0);var S=0,D=0;b.config.yaxis.forEach(function(B){S+=B.labels.minWidth,D+=B.labels.maxWidth}),this.yAxisWidth<S&&(this.yAxisWidth=S),this.yAxisWidth>D&&(this.yAxisWidth=D)}}]),Re}(),Pr=function(){function Re(p){ee(this,Re),this.w=p.w,this.lgCtx=p}return de(Re,[{key:"getLegendStyles",value:function(){var p=document.createElement("style");p.setAttribute("type","text/css");var f=document.createTextNode("\t\n    \t\n      .apexcharts-legend {\t\n        display: flex;\t\n        overflow: auto;\t\n        padding: 0 10px;\t\n      }\t\n      .apexcharts-legend.position-bottom, .apexcharts-legend.position-top {\t\n        flex-wrap: wrap\t\n      }\t\n      .apexcharts-legend.position-right, .apexcharts-legend.position-left {\t\n        flex-direction: column;\t\n        bottom: 0;\t\n      }\t\n      .apexcharts-legend.position-bottom.apexcharts-align-left, .apexcharts-legend.position-top.apexcharts-align-left, .apexcharts-legend.position-right, .apexcharts-legend.position-left {\t\n        justify-content: flex-start;\t\n      }\t\n      .apexcharts-legend.position-bottom.apexcharts-align-center, .apexcharts-legend.position-top.apexcharts-align-center {\t\n        justify-content: center;  \t\n      }\t\n      .apexcharts-legend.position-bottom.apexcharts-align-right, .apexcharts-legend.position-top.apexcharts-align-right {\t\n        justify-content: flex-end;\t\n      }\t\n      .apexcharts-legend-series {\t\n        cursor: pointer;\t\n        line-height: normal;\t\n      }\t\n      .apexcharts-legend.position-bottom .apexcharts-legend-series, .apexcharts-legend.position-top .apexcharts-legend-series{\t\n        display: flex;\t\n        align-items: center;\t\n      }\t\n      .apexcharts-legend-text {\t\n        position: relative;\t\n        font-size: 14px;\t\n      }\t\n      .apexcharts-legend-text *, .apexcharts-legend-marker * {\t\n        pointer-events: none;\t\n      }\t\n      .apexcharts-legend-marker {\t\n        position: relative;\t\n        display: inline-block;\t\n        cursor: pointer;\t\n        margin-right: 3px;\t\n        border-style: solid;\n      }\t\n      \t\n      .apexcharts-legend.apexcharts-align-right .apexcharts-legend-series, .apexcharts-legend.apexcharts-align-left .apexcharts-legend-series{\t\n        display: inline-block;\t\n      }\t\n      .apexcharts-legend-series.apexcharts-no-click {\t\n        cursor: auto;\t\n      }\t\n      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {\t\n        display: none !important;\t\n      }\t\n      .apexcharts-inactive-legend {\t\n        opacity: 0.45;\t\n      }");return p.appendChild(f),p}},{key:"getLegendBBox",value:function(){var p=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect();return{clwh:p.height,clww:p.width}}},{key:"appendToForeignObject",value:function(){var p=this.w.globals;p.dom.elLegendForeign=document.createElementNS(p.SVGNS,"foreignObject");var f=p.dom.elLegendForeign;f.setAttribute("x",0),f.setAttribute("y",0),f.setAttribute("width",p.svgWidth),f.setAttribute("height",p.svgHeight),p.dom.elLegendWrap.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),f.appendChild(p.dom.elLegendWrap),f.appendChild(this.getLegendStyles()),p.dom.Paper.node.insertBefore(f,p.dom.elGraphical.node)}},{key:"toggleDataSeries",value:function(p,f){var b=this,S=this.w;if(S.globals.axisCharts||"radialBar"===S.config.chart.type){S.globals.resized=!0;var D=null,B=null;S.globals.risingSeries=[],S.globals.axisCharts?(D=S.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(p,"']")),B=parseInt(D.getAttribute("data:realIndex"),10)):(D=S.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(p+1,"']")),B=parseInt(D.getAttribute("rel"),10)-1),f?[{cs:S.globals.collapsedSeries,csi:S.globals.collapsedSeriesIndices},{cs:S.globals.ancillaryCollapsedSeries,csi:S.globals.ancillaryCollapsedSeriesIndices}].forEach(function(oe){b.riseCollapsedSeries(oe.cs,oe.csi,B)}):this.hideSeries({seriesEl:D,realIndex:B})}else{var F=S.globals.dom.Paper.select(" .apexcharts-series[rel='".concat(p+1,"'] path")),Z=S.config.chart.type;if("pie"===Z||"polarArea"===Z||"donut"===Z){var q=S.config.plotOptions.pie.donut.labels;new Wt(this.lgCtx.ctx).pathMouseDown(F.members[0],null),this.lgCtx.ctx.pie.printDataLabelsInner(F.members[0].node,q)}F.fire("click")}}},{key:"hideSeries",value:function(p){var f=p.seriesEl,b=p.realIndex,S=this.w,D=ct.clone(S.config.series);if(S.globals.axisCharts){var B=!1;if(S.config.yaxis[b]&&S.config.yaxis[b].show&&S.config.yaxis[b].showAlways&&(B=!0,S.globals.ancillaryCollapsedSeriesIndices.indexOf(b)<0&&(S.globals.ancillaryCollapsedSeries.push({index:b,data:D[b].data.slice(),type:f.parentNode.className.baseVal.split("-")[1]}),S.globals.ancillaryCollapsedSeriesIndices.push(b))),!B){S.globals.collapsedSeries.push({index:b,data:D[b].data.slice(),type:f.parentNode.className.baseVal.split("-")[1]}),S.globals.collapsedSeriesIndices.push(b);var F=S.globals.risingSeries.indexOf(b);S.globals.risingSeries.splice(F,1)}}else S.globals.collapsedSeries.push({index:b,data:D[b]}),S.globals.collapsedSeriesIndices.push(b);for(var Z=f.childNodes,q=0;q<Z.length;q++)Z[q].classList.contains("apexcharts-series-markers-wrap")&&(Z[q].classList.contains("apexcharts-hide")?Z[q].classList.remove("apexcharts-hide"):Z[q].classList.add("apexcharts-hide"));S.globals.allSeriesCollapsed=S.globals.collapsedSeries.length===S.config.series.length,D=this._getSeriesBasedOnCollapsedState(D),this.lgCtx.ctx.updateHelpers._updateSeries(D,S.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(p,f,b){var S=this.w,D=ct.clone(S.config.series);if(p.length>0){for(var B=0;B<p.length;B++)p[B].index===b&&(S.globals.axisCharts?(D[b].data=p[B].data.slice(),p.splice(B,1),f.splice(B,1),S.globals.risingSeries.push(b)):(D[b]=p[B].data,p.splice(B,1),f.splice(B,1),S.globals.risingSeries.push(b)));D=this._getSeriesBasedOnCollapsedState(D),this.lgCtx.ctx.updateHelpers._updateSeries(D,S.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(p){var f=this.w;return p.forEach(f.globals.axisCharts?function(b,S){f.globals.collapsedSeriesIndices.indexOf(S)>-1&&(p[S].data=[])}:function(b,S){f.globals.collapsedSeriesIndices.indexOf(S)>-1&&(p[S]=0)}),p}}]),Re}(),jn=function(){function Re(p,f){ee(this,Re),this.ctx=p,this.w=p.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed="bar"===this.w.config.chart.type&&this.w.config.plotOptions.bar.distributed&&1===this.w.config.series.length,this.legendHelpers=new Pr(this)}return de(Re,[{key:"init",value:function(){var p=this.w,f=p.globals,b=p.config;if((b.legend.showForSingleSeries&&1===f.series.length||this.isBarsDistributed||f.series.length>1||!f.axisCharts)&&b.legend.show){for(;f.dom.elLegendWrap.firstChild;)f.dom.elLegendWrap.removeChild(f.dom.elLegendWrap.firstChild);this.drawLegends(),ct.isIE11()?document.getElementsByTagName("head")[0].appendChild(this.legendHelpers.getLegendStyles()):this.legendHelpers.appendToForeignObject(),"bottom"===b.legend.position||"top"===b.legend.position?this.legendAlignHorizontal():"right"!==b.legend.position&&"left"!==b.legend.position||this.legendAlignVertical()}}},{key:"drawLegends",value:function(){var p=this,f=this.w,b=f.config.legend.fontFamily,S=f.globals.seriesNames,D=f.globals.colors.slice();if("heatmap"===f.config.chart.type){var B=f.config.plotOptions.heatmap.colorScale.ranges;S=B.map(function(Vn){return Vn.name?Vn.name:Vn.from+" - "+Vn.to}),D=B.map(function(Vn){return Vn.color})}else this.isBarsDistributed&&(S=f.globals.labels.slice());f.config.legend.customLegendItems.length&&(S=f.config.legend.customLegendItems);for(var F=f.globals.legendFormatter,Z=f.config.legend.inverseOrder,q=Z?S.length-1:0;Z?q>=0:q<=S.length-1;Z?q--:q++){var oe=F(S[q],{seriesIndex:q,w:f}),ue=!1,ae=!1;if(f.globals.collapsedSeries.length>0)for(var _e=0;_e<f.globals.collapsedSeries.length;_e++)f.globals.collapsedSeries[_e].index===q&&(ue=!0);if(f.globals.ancillaryCollapsedSeriesIndices.length>0)for(var Ie=0;Ie<f.globals.ancillaryCollapsedSeriesIndices.length;Ie++)f.globals.ancillaryCollapsedSeriesIndices[Ie]===q&&(ae=!0);var Pe=document.createElement("span");Pe.classList.add("apexcharts-legend-marker");var ze=f.config.legend.markers.offsetX,We=f.config.legend.markers.offsetY,st=f.config.legend.markers.height,bt=f.config.legend.markers.width,X=f.config.legend.markers.strokeWidth,he=f.config.legend.markers.strokeColor,Ne=f.config.legend.markers.radius,Je=Pe.style;Je.background=D[q],Je.color=D[q],Je.setProperty("background",D[q],"important"),f.config.legend.markers.fillColors&&f.config.legend.markers.fillColors[q]&&(Je.background=f.config.legend.markers.fillColors[q]),void 0!==f.globals.seriesColors[q]&&(Je.background=f.globals.seriesColors[q],Je.color=f.globals.seriesColors[q]),Je.height=Array.isArray(st)?parseFloat(st[q])+"px":parseFloat(st)+"px",Je.width=Array.isArray(bt)?parseFloat(bt[q])+"px":parseFloat(bt)+"px",Je.left=(Array.isArray(ze)?parseFloat(ze[q]):parseFloat(ze))+"px",Je.top=(Array.isArray(We)?parseFloat(We[q]):parseFloat(We))+"px",Je.borderWidth=Array.isArray(X)?X[q]:X,Je.borderColor=Array.isArray(he)?he[q]:he,Je.borderRadius=Array.isArray(Ne)?parseFloat(Ne[q])+"px":parseFloat(Ne)+"px",f.config.legend.markers.customHTML&&(Array.isArray(f.config.legend.markers.customHTML)?f.config.legend.markers.customHTML[q]&&(Pe.innerHTML=f.config.legend.markers.customHTML[q]()):Pe.innerHTML=f.config.legend.markers.customHTML()),Wt.setAttrs(Pe,{rel:q+1,"data:collapsed":ue||ae}),(ue||ae)&&Pe.classList.add("apexcharts-inactive-legend");var mt=document.createElement("div"),ln=document.createElement("span");ln.classList.add("apexcharts-legend-text"),ln.innerHTML=Array.isArray(oe)?ct.sanitizeDom(oe.join(" ")):ct.sanitizeDom(oe);var qt=f.config.legend.labels.useSeriesColors?f.globals.colors[q]:f.config.legend.labels.colors;qt||(qt=f.config.chart.foreColor),ln.style.color=qt,ln.style.fontSize=parseFloat(f.config.legend.fontSize)+"px",ln.style.fontWeight=f.config.legend.fontWeight,ln.style.fontFamily=b||f.config.chart.fontFamily,Wt.setAttrs(ln,{rel:q+1,i:q,"data:default-text":encodeURIComponent(oe),"data:collapsed":ue||ae}),mt.appendChild(Pe),mt.appendChild(ln);var un=new hi(this.ctx);f.config.legend.showForZeroSeries||0===un.getSeriesTotalByIndex(q)&&un.seriesHaveSameValues(q)&&!un.isSeriesNull(q)&&-1===f.globals.collapsedSeriesIndices.indexOf(q)&&-1===f.globals.ancillaryCollapsedSeriesIndices.indexOf(q)&&mt.classList.add("apexcharts-hidden-zero-series"),f.config.legend.showForNullSeries||un.isSeriesNull(q)&&-1===f.globals.collapsedSeriesIndices.indexOf(q)&&-1===f.globals.ancillaryCollapsedSeriesIndices.indexOf(q)&&mt.classList.add("apexcharts-hidden-null-series"),f.globals.dom.elLegendWrap.appendChild(mt),f.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(f.config.legend.horizontalAlign)),f.globals.dom.elLegendWrap.classList.add("position-"+f.config.legend.position),mt.classList.add("apexcharts-legend-series"),mt.style.margin="".concat(f.config.legend.itemMargin.vertical,"px ").concat(f.config.legend.itemMargin.horizontal,"px"),f.globals.dom.elLegendWrap.style.width=f.config.legend.width?f.config.legend.width+"px":"",f.globals.dom.elLegendWrap.style.height=f.config.legend.height?f.config.legend.height+"px":"",Wt.setAttrs(mt,{rel:q+1,seriesName:ct.escapeString(S[q]),"data:collapsed":ue||ae}),(ue||ae)&&mt.classList.add("apexcharts-inactive-legend"),f.config.legend.onItemClick.toggleDataSeries||mt.classList.add("apexcharts-no-click")}f.globals.dom.elWrap.addEventListener("click",p.onLegendClick,!0),f.config.legend.onItemHover.highlightDataSeries&&0===f.config.legend.customLegendItems.length&&(f.globals.dom.elWrap.addEventListener("mousemove",p.onLegendHovered,!0),f.globals.dom.elWrap.addEventListener("mouseout",p.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(p,f){var b=this.w,S=b.globals.dom.baseEl.querySelector(".apexcharts-legend"),D=S.getBoundingClientRect(),B=0,F=0;if("bottom"===b.config.legend.position)F+=b.globals.svgHeight-D.height/2;else if("top"===b.config.legend.position){var Z=new Wo(this.ctx),q=Z.dimHelpers.getTitleSubtitleCoords("title").height,oe=Z.dimHelpers.getTitleSubtitleCoords("subtitle").height;F=F+(q>0?q-10:0)+(oe>0?oe-10:0)}S.style.position="absolute",F=F+f+b.config.legend.offsetY,S.style.left=(B=B+p+b.config.legend.offsetX)+"px",S.style.top=F+"px","bottom"===b.config.legend.position?(S.style.top="auto",S.style.bottom=5-b.config.legend.offsetY+"px"):"right"===b.config.legend.position&&(S.style.left="auto",S.style.right=25+b.config.legend.offsetX+"px"),["width","height"].forEach(function(ue){S.style[ue]&&(S.style[ue]=parseInt(b.config.legend[ue],10)+"px")})}},{key:"legendAlignHorizontal",value:function(){var p=this.w;p.globals.dom.baseEl.querySelector(".apexcharts-legend").style.right=0;var f=this.legendHelpers.getLegendBBox(),b=new Wo(this.ctx),S=b.dimHelpers.getTitleSubtitleCoords("title"),D=b.dimHelpers.getTitleSubtitleCoords("subtitle"),B=0;"bottom"===p.config.legend.position?B=-f.clwh/1.8:"top"===p.config.legend.position&&(B=S.height+D.height+p.config.title.margin+p.config.subtitle.margin-10),this.setLegendWrapXY(20,B)}},{key:"legendAlignVertical",value:function(){var p=this.w,f=this.legendHelpers.getLegendBBox(),b=0;"left"===p.config.legend.position&&(b=20),"right"===p.config.legend.position&&(b=p.globals.svgWidth-f.clww-10),this.setLegendWrapXY(b,20)}},{key:"onLegendHovered",value:function(p){var f=this.w,b=p.target.classList.contains("apexcharts-legend-text")||p.target.classList.contains("apexcharts-legend-marker");if("heatmap"===f.config.chart.type||this.isBarsDistributed){if(b){var S=parseInt(p.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,S,this.w]),new ai(this.ctx).highlightRangeInSeries(p,p.target)}}else!p.target.classList.contains("apexcharts-inactive-legend")&&b&&new ai(this.ctx).toggleSeriesOnHover(p,p.target)}},{key:"onLegendClick",value:function(p){var f=this.w;if(!f.config.legend.customLegendItems.length&&(p.target.classList.contains("apexcharts-legend-text")||p.target.classList.contains("apexcharts-legend-marker"))){var b=parseInt(p.target.getAttribute("rel"),10)-1,S="true"===p.target.getAttribute("data:collapsed"),D=this.w.config.chart.events.legendClick;"function"==typeof D&&D(this.ctx,b,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,b,this.w]);var B=this.w.config.legend.markers.onClick;"function"==typeof B&&p.target.classList.contains("apexcharts-legend-marker")&&(B(this.ctx,b,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,b,this.w])),"treemap"!==f.config.chart.type&&"heatmap"!==f.config.chart.type&&!this.isBarsDistributed&&f.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(b,S)}}}]),Re}(),Xi=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w;var f=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=f.globals.minX,this.maxX=f.globals.maxX}return de(Re,[{key:"createToolbar",value:function(){var p=this,f=this.w,b=function(){return document.createElement("div")},S=b();if(S.setAttribute("class","apexcharts-toolbar"),S.style.top=f.config.chart.toolbar.offsetY+"px",S.style.right=3-f.config.chart.toolbar.offsetX+"px",f.globals.dom.elWrap.appendChild(S),this.elZoom=b(),this.elZoomIn=b(),this.elZoomOut=b(),this.elPan=b(),this.elSelection=b(),this.elZoomReset=b(),this.elMenuIcon=b(),this.elMenu=b(),this.elCustomIcons=[],this.t=f.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var D=0;D<this.t.customIcons.length;D++)this.elCustomIcons.push(b());var B=[],F=function(ue,ae,_e){var Ie=ue.toLowerCase();p.t[Ie]&&f.config.chart.zoom.enabled&&B.push({el:ae,icon:"string"==typeof p.t[Ie]?p.t[Ie]:_e,title:p.localeValues[ue],class:"apexcharts-".concat(Ie,"-icon")})};F("zoomIn",this.elZoomIn,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n'),F("zoomOut",this.elZoomOut,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n');var Z=function(ue){p.t[ue]&&f.config.chart[ue].enabled&&B.push({el:"zoom"===ue?p.elZoom:p.elSelection,icon:"string"==typeof p.t[ue]?p.t[ue]:"zoom"===ue?'<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>\n    <path d="M0 0h24v24H0V0z" fill="none"/>\n    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>\n</svg>':'<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>\n</svg>',title:p.localeValues["zoom"===ue?"selectionZoom":"selection"],class:f.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(ue,"-icon")})};Z("zoom"),Z("selection"),this.t.pan&&f.config.chart.zoom.enabled&&B.push({el:this.elPan,icon:"string"==typeof this.t.pan?this.t.pan:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <defs>\n        <path d="M0 0h24v24H0z" id="a"/>\n    </defs>\n    <clipPath id="b">\n        <use overflow="visible" xlink:href="#a"/>\n    </clipPath>\n    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>\n</svg>',title:this.localeValues.pan,class:f.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),F("reset",this.elZoomReset,'<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>\n    <path d="M0 0h24v24H0z" fill="none"/>\n</svg>'),this.t.download&&B.push({el:this.elMenuIcon,icon:"string"==typeof this.t.download?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var q=0;q<this.elCustomIcons.length;q++)B.push({el:this.elCustomIcons[q],icon:this.t.customIcons[q].icon,title:this.t.customIcons[q].title,index:this.t.customIcons[q].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[q].class});B.forEach(function(ue,ae){ue.index&&ct.moveIndexInArray(B,ae,ue.index)});for(var oe=0;oe<B.length;oe++)Wt.setAttrs(B[oe].el,{class:B[oe].class,title:B[oe].title}),B[oe].el.innerHTML=B[oe].icon,S.appendChild(B[oe].el);this._createHamburgerMenu(S),f.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):f.globals.panEnabled?this.elPan.classList.add(this.selectedClass):f.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(p){this.elMenuItems=[],p.appendChild(this.elMenu),Wt.setAttrs(this.elMenu,{class:"apexcharts-menu"});var f=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}];this.w.globals.allSeriesHasEqualX||f.splice(2,1);for(var b=0;b<f.length;b++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[b].innerHTML=f[b].title,Wt.setAttrs(this.elMenuItems[b],{class:"apexcharts-menu-item ".concat(f[b].name),title:f[b].title}),this.elMenu.appendChild(this.elMenuItems[b])}},{key:"addToolbarEventListeners",value:function(){var p=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach(function(b){b.classList.contains("exportSVG")?b.addEventListener("click",p.handleDownload.bind(p,"svg")):b.classList.contains("exportPNG")?b.addEventListener("click",p.handleDownload.bind(p,"png")):b.classList.contains("exportCSV")&&b.addEventListener("click",p.handleDownload.bind(p,"csv"))});for(var f=0;f<this.t.customIcons.length;f++)this.elCustomIcons[f].addEventListener("click",this.t.customIcons[f].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(p){this.ctx.getSyncedCharts().forEach(function(f){f.ctx.toolbar.toggleOtherControls();var b="selection"===p?f.ctx.toolbar.elSelection:f.ctx.toolbar.elZoom,S="selection"===p?"selectionEnabled":"zoomEnabled";f.w.globals[S]=!f.w.globals[S],b.classList.contains(f.ctx.toolbar.selectedClass)?b.classList.remove(f.ctx.toolbar.selectedClass):b.classList.add(f.ctx.toolbar.selectedClass)})}},{key:"getToolbarIconsReference",value:function(){var p=this.w;this.elZoom||(this.elZoom=p.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=p.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=p.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(p){this.toggleOtherControls(),"pan"===p?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var f="pan"===p?this.elPan:this.elZoom,b="pan"===p?this.elZoom:this.elPan;f&&f.classList.add(this.selectedClass),b&&b.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach(function(p){p.ctx.toolbar.toggleOtherControls(),p.w.globals.panEnabled=!p.w.globals.panEnabled,p.ctx.toolbar.elPan.classList.contains(p.ctx.toolbar.selectedClass)?p.ctx.toolbar.elPan.classList.remove(p.ctx.toolbar.selectedClass):p.ctx.toolbar.elPan.classList.add(p.ctx.toolbar.selectedClass)})}},{key:"toggleOtherControls",value:function(){var p=this,f=this.w;f.globals.panEnabled=!1,f.globals.zoomEnabled=!1,f.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach(function(b){b&&b.classList.remove(p.selectedClass)})}},{key:"handleZoomIn",value:function(){var p=this.w;p.globals.isTimelineBar&&(this.minX=p.globals.minY,this.maxX=p.globals.maxY);var f=(this.minX+this.maxX)/2,D=this._getNewMinXMaxX((this.minX+f)/2,(this.maxX+f)/2);p.globals.disableZoomIn||this.zoomUpdateOptions(D.minX,D.maxX)}},{key:"handleZoomOut",value:function(){var p=this.w;if(p.globals.isTimelineBar&&(this.minX=p.globals.minY,this.maxX=p.globals.maxY),!("datetime"===p.config.xaxis.type&&new Date(this.minX).getUTCFullYear()<1e3)){var f=(this.minX+this.maxX)/2,D=this._getNewMinXMaxX(this.minX-(f-this.minX),this.maxX-(f-this.maxX));p.globals.disableZoomOut||this.zoomUpdateOptions(D.minX,D.maxX)}}},{key:"_getNewMinXMaxX",value:function(p,f){var b=this.w.config.xaxis.convertedCatToNumeric;return{minX:b?Math.floor(p):p,maxX:b?Math.floor(f):f}}},{key:"zoomUpdateOptions",value:function(p,f){var b=this.w;if(void 0!==p||void 0!==f){if(!(b.config.xaxis.convertedCatToNumeric&&(p<1&&(p=1,f=b.globals.dataPoints),f-p<2))){var S={min:p,max:f},D=this.getBeforeZoomRange(S);D&&(S=D.xaxis);var B={xaxis:S},F=ct.clone(b.globals.initialConfig.yaxis);b.config.chart.zoom.autoScaleYaxis&&(F=new lr(this.ctx).autoScaleY(this.ctx,F,{xaxis:S})),b.config.chart.group||(B.yaxis=F),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(B,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(S,F)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(p,f){"function"==typeof this.ev.zoomed&&this.ev.zoomed(this.ctx,{xaxis:p,yaxis:f})}},{key:"getBeforeZoomRange",value:function(p,f){var b=null;return"function"==typeof this.ev.beforeZoom&&(b=this.ev.beforeZoom(this,{xaxis:p,yaxis:f})),b}},{key:"toggleMenu",value:function(){var p=this;window.setTimeout(function(){p.elMenu.classList.contains("apexcharts-menu-open")?p.elMenu.classList.remove("apexcharts-menu-open"):p.elMenu.classList.add("apexcharts-menu-open")},0)}},{key:"handleDownload",value:function(p){var f=this.w,b=new Gs(this.ctx);switch(p){case"svg":b.exportToSVG(this.ctx);break;case"png":b.exportToPng(this.ctx);break;case"csv":b.exportToCSV({series:f.config.series,columnDelimiter:f.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(p){this.ctx.getSyncedCharts().forEach(function(f){var b=f.w;if(b.globals.lastXAxis.min=void 0,b.globals.lastXAxis.max=void 0,f.updateHelpers.revertDefaultAxisMinMax(),"function"==typeof b.config.chart.events.beforeResetZoom){var S=b.config.chart.events.beforeResetZoom(f,b);S&&f.updateHelpers.revertDefaultAxisMinMax(S)}"function"==typeof b.config.chart.events.zoomed&&f.ctx.toolbar.zoomCallback({min:b.config.xaxis.min,max:b.config.xaxis.max}),b.globals.zoomed=!1;var D=f.ctx.series.emptyCollapsedSeries(ct.clone(b.globals.initialSeries));f.updateHelpers._updateSeries(D,b.config.chart.animations.dynamicAnimation.enabled)})}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),Re}(),wl=function(Re){Be(f,Xi);var p=Lt(f);function f(b){var S;return ee(this,f),(S=p.call(this,b)).ctx=b,S.w=b.w,S.dragged=!1,S.graphics=new Wt(S.ctx),S.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend"],S.clientX=0,S.clientY=0,S.startX=0,S.endX=0,S.dragX=0,S.startY=0,S.endY=0,S.dragY=0,S.moveDirection="none",S}return de(f,[{key:"init",value:function(b){var S=this,D=b.xyRatios,B=this.w,F=this;this.xyRatios=D,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=B.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),B.globals.dom.elGraphical.add(this.zoomRect),B.globals.dom.elGraphical.add(this.selectionRect),this.slDraggableRect="x"===B.config.chart.selection.type?this.selectionRect.draggable({minX:0,minY:0,maxX:B.globals.gridWidth,maxY:B.globals.gridHeight}).on("dragmove",this.selectionDragging.bind(this,"dragging")):"y"===B.config.chart.selection.type?this.selectionRect.draggable({minX:0,maxX:B.globals.gridWidth}).on("dragmove",this.selectionDragging.bind(this,"dragging")):this.selectionRect.draggable().on("dragmove",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=B.globals.dom.baseEl.querySelector("".concat(B.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach(function(Z){S.hoverArea.addEventListener(Z,F.svgMouseEvents.bind(F,D),{capture:!1,passive:!0})})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(b,S){var D=this.w,B=this,F=this.ctx.toolbar,Z=D.globals.zoomEnabled?D.config.chart.zoom.type:D.config.chart.selection.type,q=D.config.chart.toolbar.autoSelected;S.shiftKey?(this.shiftWasPressed=!0,F.enableZoomPanFromToolbar("pan"===q?"zoom":"pan")):this.shiftWasPressed&&(F.enableZoomPanFromToolbar(q),this.shiftWasPressed=!1);var oe=S.target.classList;if(!(oe.contains("apexcharts-selection-rect")||oe.contains("apexcharts-legend-marker")||oe.contains("apexcharts-legend-text")||S.target.parentNode.classList.contains("apexcharts-toolbar"))){if(B.clientX="touchmove"===S.type||"touchstart"===S.type?S.touches[0].clientX:"touchend"===S.type?S.changedTouches[0].clientX:S.clientX,B.clientY="touchmove"===S.type||"touchstart"===S.type?S.touches[0].clientY:"touchend"===S.type?S.changedTouches[0].clientY:S.clientY,"mousedown"===S.type&&1===S.which){var ue=B.gridRect.getBoundingClientRect();B.startX=B.clientX-ue.left,B.startY=B.clientY-ue.top,B.dragged=!1,B.w.globals.mousedown=!0}if(("mousemove"===S.type&&1===S.which||"touchmove"===S.type)&&(B.dragged=!0,D.globals.panEnabled?(D.globals.selection=null,B.w.globals.mousedown&&B.panDragging({context:B,zoomtype:Z,xyRatios:b})):(B.w.globals.mousedown&&D.globals.zoomEnabled||B.w.globals.mousedown&&D.globals.selectionEnabled)&&(B.selection=B.selectionDrawing({context:B,zoomtype:Z}))),"mouseup"===S.type||"touchend"===S.type||"mouseleave"===S.type){var ae=B.gridRect.getBoundingClientRect();B.w.globals.mousedown&&(B.endX=B.clientX-ae.left,B.endY=B.clientY-ae.top,B.dragX=Math.abs(B.endX-B.startX),B.dragY=Math.abs(B.endY-B.startY),(D.globals.zoomEnabled||D.globals.selectionEnabled)&&B.selectionDrawn({context:B,zoomtype:Z}),D.globals.panEnabled&&D.config.xaxis.convertedCatToNumeric&&B.delayedPanScrolled()),D.globals.zoomEnabled&&B.hideSelectionRect(this.selectionRect),B.dragged=!1,B.w.globals.mousedown=!1}this.makeSelectionRectDraggable()}}},{key:"makeSelectionRectDraggable",value:function(){var b=this.w;if(this.selectionRect){var S=this.selectionRect.node.getBoundingClientRect();S.width>0&&S.height>0&&this.slDraggableRect.selectize({points:"l, r",pointSize:8,pointType:"rect"}).resize({constraint:{minX:0,minY:0,maxX:b.globals.gridWidth,maxY:b.globals.gridHeight}}).on("resizing",this.selectionDragging.bind(this,"resizing"))}}},{key:"preselectedSelection",value:function(){var b=this.w,S=this.xyRatios;if(!b.globals.zoomEnabled)if(null!=b.globals.selection)this.drawSelectionRect(b.globals.selection);else if(void 0!==b.config.chart.selection.xaxis.min&&void 0!==b.config.chart.selection.xaxis.max){var D=(b.config.chart.selection.xaxis.min-b.globals.minX)/S.xRatio;this.drawSelectionRect({x:D,y:0,width:b.globals.gridWidth-(b.globals.maxX-b.config.chart.selection.xaxis.max)/S.xRatio-D,height:b.globals.gridHeight,translateX:0,translateY:0,selectionEnabled:!0}),this.makeSelectionRectDraggable(),"function"==typeof b.config.chart.events.selection&&b.config.chart.events.selection(this.ctx,{xaxis:{min:b.config.chart.selection.xaxis.min,max:b.config.chart.selection.xaxis.max},yaxis:{}})}}},{key:"drawSelectionRect",value:function(b){var S=b.x,D=b.y,B=b.width,F=b.height,Z=b.translateX,oe=b.translateY,ae=this.w,_e=this.zoomRect,Ie=this.selectionRect;if(this.dragged||null!==ae.globals.selection){var Pe={transform:"translate("+(void 0===Z?0:Z)+", "+(void 0===oe?0:oe)+")"};ae.globals.zoomEnabled&&this.dragged&&(B<0&&(B=1),_e.attr({x:S,y:D,width:B,height:F,fill:ae.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":ae.config.chart.zoom.zoomedArea.fill.opacity,stroke:ae.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":ae.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":ae.config.chart.zoom.zoomedArea.stroke.opacity}),Wt.setAttrs(_e.node,Pe)),ae.globals.selectionEnabled&&(Ie.attr({x:S,y:D,width:B>0?B:0,height:F>0?F:0,fill:ae.config.chart.selection.fill.color,"fill-opacity":ae.config.chart.selection.fill.opacity,stroke:ae.config.chart.selection.stroke.color,"stroke-width":ae.config.chart.selection.stroke.width,"stroke-dasharray":ae.config.chart.selection.stroke.dashArray,"stroke-opacity":ae.config.chart.selection.stroke.opacity}),Wt.setAttrs(Ie.node,Pe))}}},{key:"hideSelectionRect",value:function(b){b&&b.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(b){var Pe,D=b.zoomtype,B=this.w,F=b.context,Z=this.gridRect.getBoundingClientRect(),q=F.startX-1,oe=F.startY,ue=!1,ae=!1,_e=F.clientX-Z.left-q,Ie=F.clientY-Z.top-oe;return Math.abs(_e+q)>B.globals.gridWidth?_e=B.globals.gridWidth-q:F.clientX-Z.left<0&&(_e=q),q>F.clientX-Z.left&&(ue=!0,_e=Math.abs(_e)),oe>F.clientY-Z.top&&(ae=!0,Ie=Math.abs(Ie)),F.drawSelectionRect(Pe="x"===D?{x:ue?q-_e:q,y:0,width:_e,height:B.globals.gridHeight}:"y"===D?{x:0,y:ae?oe-Ie:oe,width:B.globals.gridWidth,height:Ie}:{x:ue?q-_e:q,y:ae?oe-Ie:oe,width:_e,height:Ie}),F.selectionDragging("resizing"),Pe}},{key:"selectionDragging",value:function(b,S){var D=this,B=this.w,F=this.xyRatios,Z=this.selectionRect,q=0;"resizing"===b&&(q=30);var oe=function(ae){return parseFloat(Z.node.getAttribute(ae))},ue={x:oe("x"),y:oe("y"),width:oe("width"),height:oe("height")};B.globals.selection=ue,"function"==typeof B.config.chart.events.selection&&B.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout(function(){var ae=D.gridRect.getBoundingClientRect(),_e=Z.node.getBoundingClientRect(),Ie={xaxis:{min:B.globals.xAxisScale.niceMin+(_e.left-ae.left)*F.xRatio,max:B.globals.xAxisScale.niceMin+(_e.right-ae.left)*F.xRatio},yaxis:{min:B.globals.yAxisScale[0].niceMin+(ae.bottom-_e.bottom)*F.yRatio[0],max:B.globals.yAxisScale[0].niceMax-(_e.top-ae.top)*F.yRatio[0]}};B.config.chart.events.selection(D.ctx,Ie),B.config.chart.brush.enabled&&void 0!==B.config.chart.events.brushScrolled&&B.config.chart.events.brushScrolled(D.ctx,Ie)},q))}},{key:"selectionDrawn",value:function(b){var D=b.zoomtype,B=this.w,F=b.context,Z=this.xyRatios,q=this.ctx.toolbar;if(F.startX>F.endX){var oe=F.startX;F.startX=F.endX,F.endX=oe}if(F.startY>F.endY){var ue=F.startY;F.startY=F.endY,F.endY=ue}var ae=void 0,_e=void 0;B.globals.isTimelineBar?(ae=B.globals.yAxisScale[0].niceMin+F.startX*Z.invertedYRatio,_e=B.globals.yAxisScale[0].niceMin+F.endX*Z.invertedYRatio):(ae=B.globals.xAxisScale.niceMin+F.startX*Z.xRatio,_e=B.globals.xAxisScale.niceMin+F.endX*Z.xRatio);var Ie=[],Pe=[];if(B.config.yaxis.forEach(function(Je,mt){Ie.push(B.globals.yAxisScale[mt].niceMax-Z.yRatio[mt]*F.startY),Pe.push(B.globals.yAxisScale[mt].niceMax-Z.yRatio[mt]*F.endY)}),F.dragged&&(F.dragX>10||F.dragY>10)&&ae!==_e)if(B.globals.zoomEnabled){var ze=ct.clone(B.globals.initialConfig.yaxis),We=ct.clone(B.globals.initialConfig.xaxis);if(B.globals.zoomed=!0,B.config.xaxis.convertedCatToNumeric&&(ae=Math.floor(ae),_e=Math.floor(_e),ae<1&&(ae=1,_e=B.globals.dataPoints),_e-ae<2&&(_e=ae+1)),"xy"!==D&&"x"!==D||(We={min:ae,max:_e}),"xy"!==D&&"y"!==D||ze.forEach(function(Je,mt){ze[mt].min=Pe[mt],ze[mt].max=Ie[mt]}),B.config.chart.zoom.autoScaleYaxis){var st=new lr(F.ctx);ze=st.autoScaleY(F.ctx,ze,{xaxis:We})}if(q){var bt=q.getBeforeZoomRange(We,ze);bt&&(We=bt.xaxis?bt.xaxis:We,ze=bt.yaxis?bt.yaxis:ze)}var X={xaxis:We};B.config.chart.group||(X.yaxis=ze),F.ctx.updateHelpers._updateOptions(X,!1,F.w.config.chart.animations.dynamicAnimation.enabled),"function"==typeof B.config.chart.events.zoomed&&q.zoomCallback(We,ze)}else if(B.globals.selectionEnabled){var he,Ne=null;he={min:ae,max:_e},"xy"!==D&&"y"!==D||(Ne=ct.clone(B.config.yaxis)).forEach(function(Je,mt){Ne[mt].min=Pe[mt],Ne[mt].max=Ie[mt]}),B.globals.selection=F.selection,"function"==typeof B.config.chart.events.selection&&B.config.chart.events.selection(F.ctx,{xaxis:he,yaxis:Ne})}}},{key:"panDragging",value:function(b){var D=this.w,B=b.context;if(void 0!==D.globals.lastClientPosition.x){var F=D.globals.lastClientPosition.x-B.clientX,Z=D.globals.lastClientPosition.y-B.clientY;Math.abs(F)>Math.abs(Z)&&F>0?this.moveDirection="left":Math.abs(F)>Math.abs(Z)&&F<0?this.moveDirection="right":Math.abs(Z)>Math.abs(F)&&Z>0?this.moveDirection="up":Math.abs(Z)>Math.abs(F)&&Z<0&&(this.moveDirection="down")}D.globals.lastClientPosition={x:B.clientX,y:B.clientY},D.config.xaxis.convertedCatToNumeric||B.panScrolled(D.globals.isTimelineBar?D.globals.minY:D.globals.minX,D.globals.isTimelineBar?D.globals.maxY:D.globals.maxX)}},{key:"delayedPanScrolled",value:function(){var b=this.w,S=b.globals.minX,D=b.globals.maxX,B=(b.globals.maxX-b.globals.minX)/2;"left"===this.moveDirection?(S=b.globals.minX+B,D=b.globals.maxX+B):"right"===this.moveDirection&&(S=b.globals.minX-B,D=b.globals.maxX-B),S=Math.floor(S),D=Math.floor(D),this.updateScrolledChart({xaxis:{min:S,max:D}},S,D)}},{key:"panScrolled",value:function(b,S){var D=this.w,B=this.xyRatios,F=ct.clone(D.globals.initialConfig.yaxis),Z=B.xRatio,q=D.globals.minX,oe=D.globals.maxX;D.globals.isTimelineBar&&(Z=B.invertedYRatio,q=D.globals.minY,oe=D.globals.maxY),"left"===this.moveDirection?(b=q+D.globals.gridWidth/15*Z,S=oe+D.globals.gridWidth/15*Z):"right"===this.moveDirection&&(b=q-D.globals.gridWidth/15*Z,S=oe-D.globals.gridWidth/15*Z),D.globals.isTimelineBar||(b<D.globals.initialMinX||S>D.globals.initialMaxX)&&(b=q,S=oe);var ue={min:b,max:S};D.config.chart.zoom.autoScaleYaxis&&(F=new lr(this.ctx).autoScaleY(this.ctx,F,{xaxis:ue}));var ae={xaxis:{min:b,max:S}};D.config.chart.group||(ae.yaxis=F),this.updateScrolledChart(ae,b,S)}},{key:"updateScrolledChart",value:function(b,S,D){var B=this.w;this.ctx.updateHelpers._updateOptions(b,!1,!1),"function"==typeof B.config.chart.events.scrolled&&B.config.chart.events.scrolled(this.ctx,{xaxis:{min:S,max:D}})}}]),f}(),Va=function(){function Re(p){ee(this,Re),this.w=p.w,this.ttCtx=p,this.ctx=p.ctx}return de(Re,[{key:"getNearestValues",value:function(p){var f=p.hoverArea,S=p.clientX,D=p.clientY,B=this.w,F=B.globals.gridWidth,q=F/(B.globals.dataPoints-1),oe=B.globals.gridHeight/B.globals.dataPoints,ue=p.elGrid.getBoundingClientRect(),ae=this.hasBars();!B.globals.comboCharts&&!ae||B.config.xaxis.convertedCatToNumeric||(q=F/B.globals.dataPoints);var _e=S-ue.left-B.globals.barPadForNumericAxis,Ie=D-ue.top;_e<0||Ie<0||_e>B.globals.gridWidth||Ie>B.globals.gridHeight?(f.classList.remove("hovering-zoom"),f.classList.remove("hovering-pan")):B.globals.zoomEnabled?(f.classList.remove("hovering-pan"),f.classList.add("hovering-zoom")):B.globals.panEnabled&&(f.classList.remove("hovering-zoom"),f.classList.add("hovering-pan"));var Pe=Math.round(_e/q),ze=Math.floor(Ie/oe);ae&&!B.config.xaxis.convertedCatToNumeric&&(Pe=Math.ceil(_e/q),Pe-=1);for(var We,st=null,bt=null,X=[],he=0;he<B.globals.seriesXvalues.length;he++)X.push([B.globals.seriesXvalues[he][0]-1e-6].concat(B.globals.seriesXvalues[he]));return X=X.map(function(Ne){return Ne.filter(function(Je){return Je})}),We=B.globals.seriesYvalues.map(function(Ne){return Ne.filter(function(Je){return ct.isNumber(Je)})}),B.globals.isXNumeric&&(st=(bt=this.closestInMultiArray(_e,Ie,X,We)).index,Pe=bt.j,null!==st&&(Pe=(bt=this.closestInArray(_e,X=B.globals.seriesXvalues[st])).index)),B.globals.capturedSeriesIndex=null===st?-1:st,(!Pe||Pe<1)&&(Pe=0),B.globals.capturedDataPointIndex=Pe,{capturedSeries:st,j:B.globals.isBarHorizontal?ze:Pe,hoverX:_e,hoverY:Ie}}},{key:"closestInMultiArray",value:function(p,f,b,S){var B=0,F=null,Z=-1;this.w.globals.series.length>1?B=this.getFirstActiveXArray(b):F=0;var q=S[B][0],ue=Math.abs(p-b[B][0]),ae=Math.abs(f-q),_e=ae+ue;return S.map(function(Ie,Pe){Ie.map(function(ze,We){var st=Math.abs(f-S[Pe][We]),bt=Math.abs(p-b[Pe][We]),X=bt+st;X<_e&&(_e=X,ue=bt,ae=st,F=Pe,Z=We)})}),{index:F,j:Z}}},{key:"getFirstActiveXArray",value:function(p){for(var f=0,b=p.map(function(D,B){return D.length>0?B:-1}),S=0;S<b.length;S++)if(-1!==b[S]){f=b[S];break}return f}},{key:"closestInArray",value:function(p,f){for(var S=null,D=Math.abs(p-f[0]),B=0;B<f.length;B++){var F=Math.abs(p-f[B]);F<D&&(D=F,S=B)}return{index:S}}},{key:"isXoverlap",value:function(p){var f=[],b=this.w.globals.seriesX.filter(function(D){return void 0!==D[0]});if(b.length>0)for(var S=0;S<b.length-1;S++)void 0!==b[S][p]&&void 0!==b[S+1][p]&&b[S][p]!==b[S+1][p]&&f.push("unEqual");return 0===f.length}},{key:"isInitialSeriesSameLen",value:function(){for(var p=!0,f=this.w.globals.initialSeries,b=0;b<f.length-1;b++)if(f[b].data.length!==f[b+1].data.length){p=!1;break}return p}},{key:"getBarsHeight",value:function(p){return rn(p).reduce(function(f,b){return f+b.getBBox().height},0)}},{key:"getElMarkers",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(" .apexcharts-series-markers")}},{key:"getAllMarkers",value:function(){var p=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");(p=rn(p)).sort(function(b,S){return Number(S.getAttribute("data:realIndex"))<Number(b.getAttribute("data:realIndex"))?0:-1});var f=[];return p.forEach(function(b){f.push(b.querySelector(".apexcharts-marker"))}),f}},{key:"hasMarkers",value:function(){return this.getElMarkers().length>0}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(p){var f=this.w,b=f.config.markers.hover.size;return void 0===b&&(b=f.globals.markers.size[p]+f.config.markers.hover.sizeOffset),b}},{key:"toggleAllTooltipSeriesGroups",value:function(p){var f=this.w,b=this.ttCtx;0===b.allTooltipSeriesGroups.length&&(b.allTooltipSeriesGroups=f.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var S=b.allTooltipSeriesGroups,D=0;D<S.length;D++)"enable"===p?(S[D].classList.add("apexcharts-active"),S[D].style.display=f.config.tooltip.items.display):(S[D].classList.remove("apexcharts-active"),S[D].style.display="none")}}]),Re}(),Aa=function(){function Re(p){ee(this,Re),this.w=p.w,this.ctx=p.ctx,this.ttCtx=p,this.tooltipUtil=new Va(p)}return de(Re,[{key:"drawSeriesTexts",value:function(p){var f=p.shared,b=void 0===f||f,S=p.ttItems,D=p.i,B=void 0===D?0:D,F=p.j,Z=void 0===F?null:F,ue=p.e,ae=this.w;void 0!==ae.config.tooltip.custom?this.handleCustomTooltip({i:B,j:Z,y1:p.y1,y2:p.y2,w:ae}):this.toggleActiveInactiveSeries(b);var _e=this.getValuesToPrint({i:B,j:Z});this.printLabels({i:B,j:Z,values:_e,ttItems:S,shared:b,e:ue});var Ie=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=Ie.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=Ie.getBoundingClientRect().height}},{key:"printLabels",value:function(p){var f,b=this,S=p.i,D=p.j,B=p.values,F=p.ttItems,Z=p.shared,q=p.e,oe=this.w,ue=[],ae=function(he){return oe.globals.seriesGoals[he]&&oe.globals.seriesGoals[he][D]&&Array.isArray(oe.globals.seriesGoals[he][D])},_e=B.xVal,Ie=B.zVal,Pe=B.xAxisTTVal,ze="",We=oe.globals.colors[S];null!==D&&oe.config.plotOptions.bar.distributed&&(We=oe.globals.colors[D]);for(var st=function(he,Ne){var Je=b.getFormatters(S);ze=b.getSeriesName({fn:Je.yLbTitleFormatter,index:S,seriesIndex:S,j:D}),"treemap"===oe.config.chart.type&&(ze=Je.yLbTitleFormatter(String(oe.config.series[S].data[D].x),{series:oe.globals.series,seriesIndex:S,dataPointIndex:D,w:oe}));var mt=oe.config.tooltip.inverseOrder?Ne:he;if(oe.globals.axisCharts){var ln=function(qt){return Je.yLbFormatter(oe.globals.series[qt][D],{series:oe.globals.series,seriesIndex:qt,dataPointIndex:D,w:oe})};Z?(Je=b.getFormatters(mt),ze=b.getSeriesName({fn:Je.yLbTitleFormatter,index:mt,seriesIndex:S,j:D}),We=oe.globals.colors[mt],f=ln(mt),ae(mt)&&(ue=oe.globals.seriesGoals[mt][D].map(function(qt){return{attrs:qt,val:Je.yLbFormatter(qt.value,{seriesIndex:mt,dataPointIndex:D,w:oe})}}))):(q&&q.target&&q.target.getAttribute("fill")&&(We=q.target.getAttribute("fill")),f=ln(S),ae(S)&&Array.isArray(oe.globals.seriesGoals[S][D])&&(ue=oe.globals.seriesGoals[S][D].map(function(qt){return{attrs:qt,val:Je.yLbFormatter(qt.value,{seriesIndex:S,dataPointIndex:D,w:oe})}})))}null===D&&(f=Je.yLbFormatter(oe.globals.series[S],Me(Me({},oe),{},{seriesIndex:S,dataPointIndex:S}))),b.DOMHandling({i:S,t:mt,j:D,ttItems:F,values:{val:f,goalVals:ue,xVal:_e,xAxisTTVal:Pe,zVal:Ie},seriesName:ze,shared:Z,pColor:We})},bt=0,X=oe.globals.series.length-1;bt<oe.globals.series.length;bt++,X--)st(bt,X)}},{key:"getFormatters",value:function(p){var f,b=this.w,S=b.globals.yLabelFormatters[p];return void 0!==b.globals.ttVal?Array.isArray(b.globals.ttVal)?(S=b.globals.ttVal[p]&&b.globals.ttVal[p].formatter,f=b.globals.ttVal[p]&&b.globals.ttVal[p].title&&b.globals.ttVal[p].title.formatter):(S=b.globals.ttVal.formatter,"function"==typeof b.globals.ttVal.title.formatter&&(f=b.globals.ttVal.title.formatter)):f=b.config.tooltip.y.title.formatter,"function"!=typeof S&&(S=b.globals.yLabelFormatters[0]?b.globals.yLabelFormatters[0]:function(D){return D}),"function"!=typeof f&&(f=function(D){return D}),{yLbFormatter:S,yLbTitleFormatter:f}}},{key:"getSeriesName",value:function(p){var S=p.seriesIndex,D=p.j,B=this.w;return(0,p.fn)(String(B.globals.seriesNames[p.index]),{series:B.globals.series,seriesIndex:S,dataPointIndex:D,w:B})}},{key:"DOMHandling",value:function(p){var f=p.t,b=p.j,S=p.ttItems,D=p.values,B=p.seriesName,F=p.shared,Z=p.pColor,q=this.w,oe=this.ttCtx;Object.keys(D).forEach(function(Ne){"string"==typeof D[Ne]&&(D[Ne]=ct.sanitizeDom(D[Ne]))});var ue=D.val,ae=D.goalVals,_e=D.xVal,Ie=D.xAxisTTVal,Pe=D.zVal,ze=null;ze=S[f].children,q.config.tooltip.fillSeriesColor&&(S[f].style.backgroundColor=Z,ze[0].style.display="none"),oe.showTooltipTitle&&(null===oe.tooltipTitle&&(oe.tooltipTitle=q.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),oe.tooltipTitle.innerHTML=_e),oe.blxaxisTooltip&&(oe.xaxisTooltipText.innerHTML=""!==Ie?Ie:_e);var We=S[f].querySelector(".apexcharts-tooltip-text-y-label");We&&(We.innerHTML=B?ct.sanitizeDom(B):"");var st=S[f].querySelector(".apexcharts-tooltip-text-y-value");st&&(st.innerHTML=void 0!==ue?ue:""),ze[0]&&ze[0].classList.contains("apexcharts-tooltip-marker")&&(q.config.tooltip.marker.fillColors&&Array.isArray(q.config.tooltip.marker.fillColors)&&(Z=q.config.tooltip.marker.fillColors[f]),ze[0].style.backgroundColor=Z),q.config.tooltip.marker.show||(ze[0].style.display="none");var bt=S[f].querySelector(".apexcharts-tooltip-text-goals-label"),X=S[f].querySelector(".apexcharts-tooltip-text-goals-value");if(ae.length&&q.globals.seriesGoals[f]){var he=function(){var Ne="<div >",Je="<div>";ae.forEach(function(mt,ln){Ne+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(mt.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(mt.attrs.name,"</div>"),Je+="<div>".concat(mt.val,"</div>")}),bt.innerHTML=Ne+"</div>",X.innerHTML=Je+"</div>"};F?q.globals.seriesGoals[f][b]&&Array.isArray(q.globals.seriesGoals[f][b])?he():(bt.innerHTML="",X.innerHTML=""):he()}else bt.innerHTML="",X.innerHTML="";null!==Pe&&(S[f].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=q.config.tooltip.z.title,S[f].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=void 0!==Pe?Pe:""),F&&ze[0]&&(ze[0].parentNode.style.display=null==ue||q.globals.collapsedSeriesIndices.indexOf(f)>-1?"none":q.config.tooltip.items.display)}},{key:"toggleActiveInactiveSeries",value:function(p){var f=this.w;if(p)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var b=f.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group");b&&(b.classList.add("apexcharts-active"),b.style.display=f.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(p){var f=p.i,b=p.j,S=this.w,D=this.ctx.series.filteredSeriesX(),B="",F="",Z=null,q=null,oe={series:S.globals.series,seriesIndex:f,dataPointIndex:b,w:S},ue=S.globals.ttZFormatter;null===b?q=S.globals.series[f]:S.globals.isXNumeric&&"treemap"!==S.config.chart.type?(B=D[f][b],0===D[f].length&&(B=D[this.tooltipUtil.getFirstActiveXArray(D)][b])):B=void 0!==S.globals.labels[b]?S.globals.labels[b]:"";var ae=B;return B=S.globals.isXNumeric&&"datetime"===S.config.xaxis.type?new xo(this.ctx).xLabelFormat(S.globals.ttKeyFormatter,ae,ae,{i:void 0,dateFormatter:new fi(this.ctx).formatDate,w:this.w}):S.globals.isBarHorizontal?S.globals.yLabelFormatters[0](ae,oe):S.globals.xLabelFormatter(ae,oe),void 0!==S.config.tooltip.x.formatter&&(B=S.globals.ttKeyFormatter(ae,oe)),S.globals.seriesZ.length>0&&S.globals.seriesZ[f].length>0&&(Z=ue(S.globals.seriesZ[f][b],S)),F="function"==typeof S.config.xaxis.tooltip.formatter?S.globals.xaxisTooltipFormatter(ae,oe):B,{val:Array.isArray(q)?q.join(" "):q,xVal:Array.isArray(B)?B.join(" "):B,xAxisTTVal:Array.isArray(F)?F.join(" "):F,zVal:Z}}},{key:"handleCustomTooltip",value:function(p){var f=p.i,b=p.j,S=p.y1,D=p.y2,B=p.w,F=this.ttCtx.getElTooltip(),Z=B.config.tooltip.custom;Array.isArray(Z)&&Z[f]&&(Z=Z[f]),F.innerHTML=Z({ctx:this.ctx,series:B.globals.series,seriesIndex:f,dataPointIndex:b,y1:S,y2:D,w:B})}}]),Re}(),ws=function(){function Re(p){ee(this,Re),this.ttCtx=p,this.ctx=p.ctx,this.w=p.w}return de(Re,[{key:"moveXCrosshairs",value:function(p){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,b=this.ttCtx,S=this.w,D=b.getElXCrosshairs(),B=p-b.xcrosshairsWidth/2,F=S.globals.labels.slice().length;if(null!==f&&(B=S.globals.gridWidth/F*f),null!==D&&(D.setAttribute("x",B),D.setAttribute("x1",B),D.setAttribute("x2",B),D.setAttribute("y2",S.globals.gridHeight),D.classList.add("apexcharts-active")),B<0&&(B=0),B>S.globals.gridWidth&&(B=S.globals.gridWidth),b.blxaxisTooltip){var Z=B;"tickWidth"!==S.config.xaxis.crosshairs.width&&"barWidth"!==S.config.xaxis.crosshairs.width||(Z=B+b.xcrosshairsWidth/2),this.moveXAxisTooltip(Z)}}},{key:"moveYCrosshairs",value:function(p){var f=this.ttCtx;null!==f.ycrosshairs&&Wt.setAttrs(f.ycrosshairs,{y1:p,y2:p}),null!==f.ycrosshairsHidden&&Wt.setAttrs(f.ycrosshairsHidden,{y1:p,y2:p})}},{key:"moveXAxisTooltip",value:function(p){var f=this.w,b=this.ttCtx;if(null!==b.xaxisTooltip){b.xaxisTooltip.classList.add("apexcharts-active");var D,S=b.xaxisOffY+f.config.xaxis.tooltip.offsetY+f.globals.translateY+1+f.config.xaxis.offsetY;p-=b.xaxisTooltip.getBoundingClientRect().width/2,isNaN(p)||(p+=f.globals.translateX,D=new Wt(this.ctx).getTextRects(b.xaxisTooltipText.innerHTML),b.xaxisTooltipText.style.minWidth=D.width+"px",b.xaxisTooltip.style.left=p+"px",b.xaxisTooltip.style.top=S+"px")}}},{key:"moveYAxisTooltip",value:function(p){var f=this.w,b=this.ttCtx;null===b.yaxisTTEls&&(b.yaxisTTEls=f.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var S=parseInt(b.ycrosshairsHidden.getAttribute("y1"),10),D=f.globals.translateY+S,B=b.yaxisTTEls[p].getBoundingClientRect().height,F=f.globals.translateYAxisX[p]-2;f.config.yaxis[p].opposite&&(F-=26),D-=B/2,-1===f.globals.ignoreYAxisIndexes.indexOf(p)?(b.yaxisTTEls[p].classList.add("apexcharts-active"),b.yaxisTTEls[p].style.top=D+"px",b.yaxisTTEls[p].style.left=F+f.config.yaxis[p].tooltip.offsetX+"px"):b.yaxisTTEls[p].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(p,f){var b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,S=this.w,D=this.ttCtx,B=D.getElTooltip(),F=D.tooltipRect,Z=null!==b?parseFloat(b):1,q=parseFloat(p)+Z+5,oe=parseFloat(f)+Z/2;if(q>S.globals.gridWidth/2&&(q=q-F.ttWidth-Z-15),q>S.globals.gridWidth-F.ttWidth-10&&(q=S.globals.gridWidth-F.ttWidth),q<-20&&(q=-20),S.config.tooltip.followCursor){var ue=D.getElGrid(),ae=ue.getBoundingClientRect();oe=D.e.clientY+S.globals.translateY-ae.top-F.ttHeight/2}else S.globals.isBarHorizontal?oe-=F.ttHeight:(F.ttHeight/2+oe>S.globals.gridHeight&&(oe=S.globals.gridHeight-F.ttHeight+S.globals.translateY),oe<0&&(oe=0));isNaN(q)||(B.style.left=(q+=S.globals.translateX)+"px",B.style.top=oe+"px")}},{key:"moveMarkers",value:function(p,f){var b=this.w,S=this.ttCtx;if(b.globals.markers.size[p]>0)for(var D=b.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(p,"'] .apexcharts-marker")),B=0;B<D.length;B++)parseInt(D[B].getAttribute("rel"),10)===f&&(S.marker.resetPointsSize(),S.marker.enlargeCurrentPoint(f,D[B]));else S.marker.resetPointsSize(),this.moveDynamicPointOnHover(f,p)}},{key:"moveDynamicPointOnHover",value:function(p,f){var b,S,D=this.w,B=this.ttCtx,F=D.globals.pointsArray,Z=B.tooltipUtil.getHoverMarkerSize(f),q=D.config.series[f].type;if(!q||"column"!==q&&"candlestick"!==q&&"boxPlot"!==q){b=F[f][p][0],S=F[f][p][1]?F[f][p][1]:0;var oe=D.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(f,"'] .apexcharts-series-markers circle"));oe&&S<D.globals.gridHeight&&S>0&&(oe.setAttribute("r",Z),oe.setAttribute("cx",b),oe.setAttribute("cy",S)),this.moveXCrosshairs(b),B.fixedTooltip||this.moveTooltip(b,S,Z)}}},{key:"moveDynamicPointsOnHover",value:function(p){var f,b=this.ttCtx,S=b.w,D=0,B=0,F=S.globals.pointsArray;f=new ai(this.ctx).getActiveConfigSeriesIndex(!0);var Z=b.tooltipUtil.getHoverMarkerSize(f);F[f]&&(D=F[f][p][0],B=F[f][p][1]);var q=b.tooltipUtil.getAllMarkers();if(null!==q)for(var oe=0;oe<S.globals.series.length;oe++){var ue=F[oe];if(S.globals.comboCharts&&void 0===ue&&q.splice(oe,0,null),ue&&ue.length){var ae=F[oe][p][1];q[oe].setAttribute("cx",D),null!==ae&&!isNaN(ae)&&ae<S.globals.gridHeight&&ae>0?(q[oe]&&q[oe].setAttribute("r",Z),q[oe]&&q[oe].setAttribute("cy",ae)):q[oe]&&q[oe].setAttribute("r",0)}}this.moveXCrosshairs(D),b.fixedTooltip||this.moveTooltip(D,B||S.globals.gridHeight,Z)}},{key:"moveStickyTooltipOverBars",value:function(p){var f=this.w,b=this.ttCtx,S=f.globals.columnSeries?f.globals.columnSeries.length:f.globals.series.length,D=S>=2&&S%2==0?Math.floor(S/2):Math.floor(S/2)+1;f.globals.isBarHorizontal&&(D=new ai(this.ctx).getActiveConfigSeriesIndex(!1,"desc")+1);var B=f.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(D,"'] path[j='").concat(p,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(D,"'] path[j='").concat(p,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(D,"'] path[j='").concat(p,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(D,"'] path[j='").concat(p,"']")),F=B?parseFloat(B.getAttribute("cx")):0,Z=B?parseFloat(B.getAttribute("cy")):0,q=B?parseFloat(B.getAttribute("barWidth")):0,oe=B?parseFloat(B.getAttribute("barHeight")):0,ue=b.getElGrid().getBoundingClientRect();f.globals.isXNumeric?(F-=S%2!=0?q/2:0,B&&(B.classList.contains("apexcharts-candlestick-area")||B.classList.contains("apexcharts-boxPlot-area"))&&f.globals.comboCharts&&(F-=q/2)):f.globals.isBarHorizontal||(F=b.xAxisTicksPositions[p-1]+b.dataPointsDividedWidth/2,isNaN(F)&&(F=b.xAxisTicksPositions[p]-b.dataPointsDividedWidth/2)),f.globals.isBarHorizontal?Z+=oe/3:Z=b.e.clientY-ue.top-b.tooltipRect.ttHeight/2,f.globals.isBarHorizontal||this.moveXCrosshairs(F),b.fixedTooltip||this.moveTooltip(F,Z||f.globals.gridHeight)}}]),Re}(),Bo=function(){function Re(p){ee(this,Re),this.w=p.w,this.ttCtx=p,this.ctx=p.ctx,this.tooltipPosition=new ws(p)}return de(Re,[{key:"drawDynamicPoints",value:function(){var p=this.w,f=new Wt(this.ctx),b=new Mn(this.ctx),S=p.globals.dom.baseEl.querySelectorAll(".apexcharts-series");S=rn(S),p.config.chart.stacked&&S.sort(function(ue,ae){return parseFloat(ue.getAttribute("data:realIndex"))-parseFloat(ae.getAttribute("data:realIndex"))});for(var D=0;D<S.length;D++){var B=S[D].querySelector(".apexcharts-series-markers-wrap");if(null!==B){var F=void 0,Z="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));"line"!==p.config.chart.type&&"area"!==p.config.chart.type||p.globals.comboCharts||p.config.tooltip.intersect||(Z+=" no-pointer-events");var q=b.getMarkerConfig(Z,D);(F=f.drawMarker(0,0,q)).node.setAttribute("default-marker-size",0);var oe=document.createElementNS(p.globals.SVGNS,"g");oe.classList.add("apexcharts-series-markers"),oe.appendChild(F.node),B.appendChild(oe)}}}},{key:"enlargeCurrentPoint",value:function(p,f){var b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,S=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,D=this.w;"bubble"!==D.config.chart.type&&this.newPointSize(p,f);var B=f.getAttribute("cx"),F=f.getAttribute("cy");if(null!==b&&null!==S&&(B=b,F=S),this.tooltipPosition.moveXCrosshairs(B),!this.fixedTooltip){if("radar"===D.config.chart.type){var Z=this.ttCtx.getElGrid(),q=Z.getBoundingClientRect();B=this.ttCtx.e.clientX-q.left}this.tooltipPosition.moveTooltip(B,F,D.config.markers.hover.size)}}},{key:"enlargePoints",value:function(p){for(var f=this.w,b=this,S=this.ttCtx,D=p,B=f.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),F=f.config.markers.hover.size,Z=0;Z<B.length;Z++){var q=B[Z].getAttribute("rel"),oe=B[Z].getAttribute("index");if(void 0===F&&(F=f.globals.markers.size[oe]+f.config.markers.hover.sizeOffset),D===parseInt(q,10)){b.newPointSize(D,B[Z]);var ue=B[Z].getAttribute("cx"),ae=B[Z].getAttribute("cy");b.tooltipPosition.moveXCrosshairs(ue),S.fixedTooltip||b.tooltipPosition.moveTooltip(ue,ae,F)}else b.oldPointSize(B[Z])}}},{key:"newPointSize",value:function(p,f){var b=this.w,S=b.config.markers.hover.size,D=0===p?f.parentNode.firstChild:f.parentNode.lastChild;if("0"!==D.getAttribute("default-marker-size")){var B=parseInt(D.getAttribute("index"),10);void 0===S&&(S=b.globals.markers.size[B]+b.config.markers.hover.sizeOffset),S<0&&(S=0),D.setAttribute("r",S)}}},{key:"oldPointSize",value:function(p){var f=parseFloat(p.getAttribute("default-marker-size"));p.setAttribute("r",f)}},{key:"resetPointsSize",value:function(){for(var p=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),f=0;f<p.length;f++){var b=parseFloat(p[f].getAttribute("default-marker-size"));ct.isNumber(b)&&b>=0?p[f].setAttribute("r",b):p[f].setAttribute("r",0)}}}]),Re}(),Yo=function(){function Re(p){ee(this,Re),this.w=p.w,this.ttCtx=p}return de(Re,[{key:"getAttr",value:function(p,f){return parseFloat(p.target.getAttribute(f))}},{key:"handleHeatTreeTooltip",value:function(p){var f=p.e,b=p.opt,S=p.x,D=p.y,F=this.ttCtx,Z=this.w;if(f.target.classList.contains("apexcharts-".concat(p.type,"-rect"))){var q=this.getAttr(f,"i"),oe=this.getAttr(f,"j"),ue=this.getAttr(f,"cx"),ae=this.getAttr(f,"cy"),_e=this.getAttr(f,"width"),Ie=this.getAttr(f,"height");if(F.tooltipLabels.drawSeriesTexts({ttItems:b.ttItems,i:q,j:oe,shared:!1,e:f}),Z.globals.capturedSeriesIndex=q,Z.globals.capturedDataPointIndex=oe,S=ue+F.tooltipRect.ttWidth/2+_e,D=ae+F.tooltipRect.ttHeight/2-Ie/2,F.tooltipPosition.moveXCrosshairs(ue+_e/2),S>Z.globals.gridWidth/2&&(S=ue-F.tooltipRect.ttWidth/2+_e),F.w.config.tooltip.followCursor){var Pe=Z.globals.dom.elWrap.getBoundingClientRect();S=Z.globals.clientX-Pe.left-F.tooltipRect.ttWidth/2,D=Z.globals.clientY-Pe.top-F.tooltipRect.ttHeight-5}}return{x:S,y:D}}},{key:"handleMarkerTooltip",value:function(p){var f,b,S=p.e,D=p.opt,B=p.x,F=p.y,Z=this.w,q=this.ttCtx;if(S.target.classList.contains("apexcharts-marker")){var oe=parseInt(D.paths.getAttribute("cx"),10),ue=parseInt(D.paths.getAttribute("cy"),10),ae=parseFloat(D.paths.getAttribute("val"));if(b=parseInt(D.paths.getAttribute("rel"),10),f=parseInt(D.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,q.intersect){var _e=ct.findAncestor(D.paths,"apexcharts-series");_e&&(f=parseInt(_e.getAttribute("data:realIndex"),10))}if(q.tooltipLabels.drawSeriesTexts({ttItems:D.ttItems,i:f,j:b,shared:!q.showOnIntersect&&Z.config.tooltip.shared,e:S}),"mouseup"===S.type&&q.markerClick(S,f,b),Z.globals.capturedSeriesIndex=f,Z.globals.capturedDataPointIndex=b,B=oe,F=ue+Z.globals.translateY-1.4*q.tooltipRect.ttHeight,q.w.config.tooltip.followCursor){var Ie=q.getElGrid().getBoundingClientRect();F=q.e.clientY+Z.globals.translateY-Ie.top}ae<0&&(F=ue),q.marker.enlargeCurrentPoint(b,D.paths,B,F)}return{x:B,y:F}}},{key:"handleBarTooltip",value:function(p){var f,b,S=p.e,D=p.opt,B=this.w,F=this.ttCtx,Z=F.getElTooltip(),q=0,oe=0,ue=0,ae=this.getBarTooltipXY({e:S,opt:D}),_e=ae.barHeight,Ie=ae.j;B.globals.capturedSeriesIndex=f=ae.i,B.globals.capturedDataPointIndex=Ie,B.globals.isBarHorizontal&&F.tooltipUtil.hasBars()||!B.config.tooltip.shared?(oe=ae.x,ue=ae.y,b=Array.isArray(B.config.stroke.width)?B.config.stroke.width[f]:B.config.stroke.width,q=oe):B.globals.comboCharts||B.config.tooltip.shared||(q/=2),isNaN(ue)?ue=B.globals.svgHeight-F.tooltipRect.ttHeight:ue<0&&(ue=0);var Pe=parseInt(D.paths.parentNode.getAttribute("data:realIndex"),10),ze=B.globals.isMultipleYAxis?B.config.yaxis[Pe]&&B.config.yaxis[Pe].reversed:B.config.yaxis[0].reversed;if(oe+F.tooltipRect.ttWidth>B.globals.gridWidth&&!ze?oe-=F.tooltipRect.ttWidth:oe<0&&(oe=0),F.w.config.tooltip.followCursor){var We=F.getElGrid().getBoundingClientRect();ue=F.e.clientY-We.top}null===F.tooltip&&(F.tooltip=B.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),B.config.tooltip.shared||F.tooltipPosition.moveXCrosshairs(B.globals.comboBarCount>0?q+b/2:q),!F.fixedTooltip&&(!B.config.tooltip.shared||B.globals.isBarHorizontal&&F.tooltipUtil.hasBars())&&(ze&&(oe-=F.tooltipRect.ttWidth)<0&&(oe=0),Z.style.left=oe+B.globals.translateX+"px",!ze||B.globals.isBarHorizontal&&F.tooltipUtil.hasBars()||(ue=ue+_e-2*(B.globals.series[f][Ie]<0?_e:0)),Z.style.top=F.tooltipRect.ttHeight+ue>B.globals.gridHeight?(ue=B.globals.gridHeight-F.tooltipRect.ttHeight+B.globals.translateY)+"px":ue+B.globals.translateY-F.tooltipRect.ttHeight/2+"px")}},{key:"getBarTooltipXY",value:function(p){var f=p.e,b=p.opt,S=this.w,D=null,B=this.ttCtx,F=0,Z=0,q=0,oe=0,ue=0,ae=f.target.classList;if(ae.contains("apexcharts-bar-area")||ae.contains("apexcharts-candlestick-area")||ae.contains("apexcharts-boxPlot-area")||ae.contains("apexcharts-rangebar-area")){var _e=f.target,Ie=_e.getBoundingClientRect(),Pe=b.elGrid.getBoundingClientRect(),ze=Ie.height;ue=Ie.height;var We=Ie.width,st=parseInt(_e.getAttribute("cx"),10),bt=parseInt(_e.getAttribute("cy"),10);oe=parseFloat(_e.getAttribute("barWidth"));var X="touchmove"===f.type?f.touches[0].clientX:f.clientX;D=parseInt(_e.getAttribute("j"),10),F=parseInt(_e.parentNode.getAttribute("rel"),10)-1;var he=_e.getAttribute("data-range-y1"),Ne=_e.getAttribute("data-range-y2");S.globals.comboCharts&&(F=parseInt(_e.parentNode.getAttribute("data:realIndex"),10)),B.tooltipLabels.drawSeriesTexts({ttItems:b.ttItems,i:F,j:D,y1:he?parseInt(he,10):null,y2:Ne?parseInt(Ne,10):null,shared:!B.showOnIntersect&&S.config.tooltip.shared,e:f}),S.config.tooltip.followCursor?S.globals.isBarHorizontal?(Z=X-Pe.left+15,q=bt-B.dataPointsDividedHeight+ze/2-B.tooltipRect.ttHeight/2):(Z=S.globals.isXNumeric?st-We/2:st-B.dataPointsDividedWidth+We/2,q=f.clientY-Pe.top-B.tooltipRect.ttHeight/2-15):S.globals.isBarHorizontal?((Z=st)<B.xyRatios.baseLineInvertedY&&(Z=st-B.tooltipRect.ttWidth),q=bt-B.dataPointsDividedHeight+ze/2-B.tooltipRect.ttHeight/2):(Z=S.globals.isXNumeric?st-We/2:st-B.dataPointsDividedWidth+We/2,q=bt)}return{x:Z,y:q,barHeight:ue,barWidth:oe,i:F,j:D}}}]),Re}(),Rt=function(){function Re(p){ee(this,Re),this.w=p.w,this.ttCtx=p}return de(Re,[{key:"drawXaxisTooltip",value:function(){var p=this.w,f=this.ttCtx,b="bottom"===p.config.xaxis.position;f.xaxisOffY=b?p.globals.gridHeight+1:-p.globals.xAxisHeight-p.config.xaxis.axisTicks.height+3;var S=b?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",D=p.globals.dom.elWrap;f.blxaxisTooltip&&null===p.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")&&(f.xaxisTooltip=document.createElement("div"),f.xaxisTooltip.setAttribute("class",S+" apexcharts-theme-"+p.config.tooltip.theme),D.appendChild(f.xaxisTooltip),f.xaxisTooltipText=document.createElement("div"),f.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),f.xaxisTooltipText.style.fontFamily=p.config.xaxis.tooltip.style.fontFamily||p.config.chart.fontFamily,f.xaxisTooltipText.style.fontSize=p.config.xaxis.tooltip.style.fontSize,f.xaxisTooltip.appendChild(f.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var p=this.w,f=this.ttCtx,b=function(D){var B=p.config.yaxis[D].opposite||p.config.yaxis[D].crosshairs.opposite;f.yaxisOffX=B?p.globals.gridWidth+1:1;var F="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(D,B?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left");p.globals.yAxisSameScaleIndices.map(function(q,oe){q.map(function(ue,ae){ae===D&&(F+=p.config.yaxis[ae].show?" ":" apexcharts-yaxistooltip-hidden")})});var Z=p.globals.dom.elWrap;null===p.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(D))&&(f.yaxisTooltip=document.createElement("div"),f.yaxisTooltip.setAttribute("class",F+" apexcharts-theme-"+p.config.tooltip.theme),Z.appendChild(f.yaxisTooltip),0===D&&(f.yaxisTooltipText=[]),f.yaxisTooltipText[D]=document.createElement("div"),f.yaxisTooltipText[D].classList.add("apexcharts-yaxistooltip-text"),f.yaxisTooltip.appendChild(f.yaxisTooltipText[D]))},S=0;S<p.config.yaxis.length;S++)b(S)}},{key:"setXCrosshairWidth",value:function(){var p=this.w,f=this.ttCtx,b=f.getElXCrosshairs();if(f.xcrosshairsWidth=parseInt(p.config.xaxis.crosshairs.width,10),p.globals.comboCharts){var S=p.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==S&&"barWidth"===p.config.xaxis.crosshairs.width){var D=parseFloat(S.getAttribute("barWidth"));f.xcrosshairsWidth=D}else"tickWidth"===p.config.xaxis.crosshairs.width&&(f.xcrosshairsWidth=p.globals.gridWidth/p.globals.labels.length)}else if("tickWidth"===p.config.xaxis.crosshairs.width)f.xcrosshairsWidth=p.globals.gridWidth/p.globals.labels.length;else if("barWidth"===p.config.xaxis.crosshairs.width){var Z=p.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==Z){var q=parseFloat(Z.getAttribute("barWidth"));f.xcrosshairsWidth=q}else f.xcrosshairsWidth=1}p.globals.isBarHorizontal&&(f.xcrosshairsWidth=0),null!==b&&f.xcrosshairsWidth>0&&b.setAttribute("width",f.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var p=this.w,f=this.ttCtx;f.ycrosshairs=p.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),f.ycrosshairsHidden=p.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(p,f,b){var S=this.ttCtx,D=this.w,B=D.globals.yLabelFormatters[p];if(S.yaxisTooltips[p]){var F=S.getElGrid().getBoundingClientRect(),oe=D.globals.minYArr[p]+(D.globals.maxYArr[p]-D.globals.minYArr[p]-(f-F.top)*b.yRatio[p]);S.tooltipPosition.moveYCrosshairs(f-F.top),S.yaxisTooltipText[p].innerHTML=B(oe),S.tooltipPosition.moveYAxisTooltip(p)}}}]),Re}(),Ot=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w;var f=this.w;this.tConfig=f.config.tooltip,this.tooltipUtil=new Va(this),this.tooltipLabels=new Aa(this),this.tooltipPosition=new ws(this),this.marker=new Bo(this),this.intersect=new Yo(this),this.axesTooltip=new Rt(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!f.globals.isBarHorizontal&&this.tConfig.shared}return de(Re,[{key:"getElTooltip",value:function(p){return p||(p=this),p.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip")}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(p){var f=this.w;this.xyRatios=p,this.blxaxisTooltip=f.config.xaxis.tooltip.enabled&&f.globals.axisCharts,this.yaxisTooltips=f.config.yaxis.map(function(B,F){return!!(B.show&&B.tooltip.enabled&&f.globals.axisCharts)}),this.allTooltipSeriesGroups=[],f.globals.axisCharts||(this.showTooltipTitle=!1);var b=document.createElement("div");if(b.classList.add("apexcharts-tooltip"),b.classList.add("apexcharts-theme-".concat(this.tConfig.theme)),f.globals.dom.elWrap.appendChild(b),f.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var S=new Xs(this.ctx);this.xAxisTicksPositions=S.getXAxisTicksPositions()}if(!f.globals.comboCharts&&!this.tConfig.intersect&&"rangeBar"!==f.config.chart.type||this.tConfig.shared||(this.showOnIntersect=!0),0!==f.config.markers.size&&0!==f.globals.markers.largestSize||this.marker.drawDynamicPoints(this),f.globals.collapsedSeries.length!==f.globals.series.length){this.dataPointsDividedHeight=f.globals.gridHeight/f.globals.dataPoints,this.dataPointsDividedWidth=f.globals.gridWidth/f.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||f.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,b.appendChild(this.tooltipTitle));var D=f.globals.series.length;(f.globals.xyCharts||f.globals.comboCharts)&&this.tConfig.shared&&(D=this.showOnIntersect?1:f.globals.series.length),this.legendLabels=f.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(D),this.addSVGEvents()}}},{key:"createTTElements",value:function(p){for(var f=this,b=this.w,S=[],D=this.getElTooltip(),B=function(Z){var q=document.createElement("div");q.classList.add("apexcharts-tooltip-series-group"),q.style.order=b.config.tooltip.inverseOrder?p-Z:Z+1,f.tConfig.shared&&f.tConfig.enabledOnSeries&&Array.isArray(f.tConfig.enabledOnSeries)&&f.tConfig.enabledOnSeries.indexOf(Z)<0&&q.classList.add("apexcharts-tooltip-series-group-hidden");var oe=document.createElement("span");oe.classList.add("apexcharts-tooltip-marker"),oe.style.backgroundColor=b.globals.colors[Z],q.appendChild(oe);var ue=document.createElement("div");ue.classList.add("apexcharts-tooltip-text"),ue.style.fontFamily=f.tConfig.style.fontFamily||b.config.chart.fontFamily,ue.style.fontSize=f.tConfig.style.fontSize,["y","goals","z"].forEach(function(ae){var _e=document.createElement("div");_e.classList.add("apexcharts-tooltip-".concat(ae,"-group"));var Ie=document.createElement("span");Ie.classList.add("apexcharts-tooltip-text-".concat(ae,"-label")),_e.appendChild(Ie);var Pe=document.createElement("span");Pe.classList.add("apexcharts-tooltip-text-".concat(ae,"-value")),_e.appendChild(Pe),ue.appendChild(_e)}),q.appendChild(ue),D.appendChild(q),S.push(q)},F=0;F<p;F++)B(F);return S}},{key:"addSVGEvents",value:function(){var p=this.w,f=p.config.chart.type,b=this.getElTooltip(),S=!("bar"!==f&&"candlestick"!==f&&"boxPlot"!==f&&"rangeBar"!==f),D="area"===f||"line"===f||"scatter"===f||"bubble"===f||"radar"===f,B=p.globals.dom.Paper.node,F=this.getElGrid();F&&(this.seriesBound=F.getBoundingClientRect());var Z,q=[],oe=[],ue={hoverArea:B,elGrid:F,tooltipEl:b,tooltipY:q,tooltipX:oe,ttItems:this.ttItems};if(p.globals.axisCharts&&(D?Z=p.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):S?Z=p.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):"heatmap"!==f&&"treemap"!==f||(Z=p.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),Z&&Z.length))for(var ae=0;ae<Z.length;ae++)q.push(Z[ae].getAttribute("cy")),oe.push(Z[ae].getAttribute("cx"));if(p.globals.xyCharts&&!this.showOnIntersect||p.globals.comboCharts&&!this.showOnIntersect||S&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([B],ue);else if(S&&!p.globals.comboCharts||D&&this.showOnIntersect)this.addDatapointEventsListeners(ue);else if(!p.globals.axisCharts||"heatmap"===f||"treemap"===f){var _e=p.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(_e,ue)}if(this.showOnIntersect){var Ie=p.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");Ie.length>0&&this.addPathsEventListeners(Ie,ue),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(ue)}}},{key:"drawFixedTooltipRect",value:function(){var p=this.w,f=this.getElTooltip(),b=f.getBoundingClientRect(),S=b.width+10,D=b.height+10,B=this.tConfig.fixed.offsetX,F=this.tConfig.fixed.offsetY,Z=this.tConfig.fixed.position.toLowerCase();return Z.indexOf("right")>-1&&(B=B+p.globals.svgWidth-S+10),Z.indexOf("bottom")>-1&&(F=F+p.globals.svgHeight-D-10),f.style.left=B+"px",f.style.top=F+"px",{x:B,y:F,ttWidth:S,ttHeight:D}}},{key:"addDatapointEventsListeners",value:function(p){var f=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(f,p)}},{key:"addPathsEventListeners",value:function(p,f){for(var b=this,S=function(B){var F={paths:p[B],tooltipEl:f.tooltipEl,tooltipY:f.tooltipY,tooltipX:f.tooltipX,elGrid:f.elGrid,hoverArea:f.hoverArea,ttItems:f.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map(function(Z){return p[B].addEventListener(Z,b.seriesHover.bind(b,F),{capture:!1,passive:!0})})},D=0;D<p.length;D++)S(D)}},{key:"seriesHover",value:function(p,f){var b=this,S=[],D=this.w;D.config.chart.group&&(S=this.ctx.getGroupedCharts()),D.globals.axisCharts&&(D.globals.minX===-1/0&&D.globals.maxX===1/0||0===D.globals.dataPoints)||(S.length?S.forEach(function(B){var F=b.getElTooltip(B);B.w.globals.minX===b.w.globals.minX&&B.w.globals.maxX===b.w.globals.maxX&&B.w.globals.tooltip.seriesHoverByContext({chartCtx:B,ttCtx:B.w.globals.tooltip,opt:{paths:p.paths,tooltipEl:F,tooltipY:p.tooltipY,tooltipX:p.tooltipX,elGrid:p.elGrid,hoverArea:p.hoverArea,ttItems:B.w.globals.tooltip.ttItems},e:f})}):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:p,e:f}))}},{key:"seriesHoverByContext",value:function(p){var f=p.chartCtx,b=p.ttCtx,S=p.opt,D=p.e,B=f.w,F=this.getElTooltip();b.tooltipRect={x:0,y:0,ttWidth:F.getBoundingClientRect().width,ttHeight:F.getBoundingClientRect().height},b.e=D,!b.tooltipUtil.hasBars()||B.globals.comboCharts||b.isBarShared||this.tConfig.onDatasetHover.highlightDataSeries&&new ai(f).toggleSeriesOnHover(D,D.target.parentNode),b.fixedTooltip&&b.drawFixedTooltipRect(),B.globals.axisCharts?b.axisChartsTooltips({e:D,opt:S,tooltipRect:b.tooltipRect}):b.nonAxisChartsTooltips({e:D,opt:S,tooltipRect:b.tooltipRect})}},{key:"axisChartsTooltips",value:function(p){var f,b,S=p.e,D=p.opt,B=this.w,F=D.elGrid.getBoundingClientRect(),Z="touchmove"===S.type?S.touches[0].clientX:S.clientX,q="touchmove"===S.type?S.touches[0].clientY:S.clientY;if(this.clientY=q,this.clientX=Z,B.globals.capturedSeriesIndex=-1,B.globals.capturedDataPointIndex=-1,q<F.top||q>F.top+F.height)this.handleMouseOut(D);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!B.config.tooltip.shared){var oe=parseInt(D.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(oe)<0)return void this.handleMouseOut(D)}var ue=this.getElTooltip(),ae=this.getElXCrosshairs(),_e=B.globals.xyCharts||"bar"===B.config.chart.type&&!B.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||B.globals.comboCharts&&this.tooltipUtil.hasBars();if("mousemove"===S.type||"touchmove"===S.type||"mouseup"===S.type){null!==ae&&ae.classList.add("apexcharts-active");var Ie=this.yaxisTooltips.filter(function(We){return!0===We});if(null!==this.ycrosshairs&&Ie.length&&this.ycrosshairs.classList.add("apexcharts-active"),_e&&!this.showOnIntersect)this.handleStickyTooltip(S,Z,q,D);else if("heatmap"===B.config.chart.type||"treemap"===B.config.chart.type){var Pe=this.intersect.handleHeatTreeTooltip({e:S,opt:D,x:f,y:b,type:B.config.chart.type});b=Pe.y,ue.style.left=(f=Pe.x)+"px",ue.style.top=b+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:S,opt:D}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:S,opt:D,x:f,y:b});if(this.yaxisTooltips.length)for(var ze=0;ze<B.config.yaxis.length;ze++)this.axesTooltip.drawYaxisTooltipText(ze,q,this.xyRatios);D.tooltipEl.classList.add("apexcharts-active")}else"mouseout"!==S.type&&"touchend"!==S.type||this.handleMouseOut(D)}}},{key:"nonAxisChartsTooltips",value:function(p){var f=p.e,b=p.opt,S=p.tooltipRect,D=this.w,B=b.paths.getAttribute("rel"),F=this.getElTooltip(),Z=D.globals.dom.elWrap.getBoundingClientRect();if("mousemove"===f.type||"touchmove"===f.type){F.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:b.ttItems,i:parseInt(B,10)-1,shared:!1});var oe=D.globals.clientY-Z.top-S.ttHeight-10;if(F.style.left=D.globals.clientX-Z.left-S.ttWidth/2+"px",F.style.top=oe+"px",D.config.legend.tooltipHoverFormatter){var ue=B-1,ae=(0,D.config.legend.tooltipHoverFormatter)(this.legendLabels[ue].getAttribute("data:default-text"),{seriesIndex:ue,dataPointIndex:ue,w:D});this.legendLabels[ue].innerHTML=ae}}else"mouseout"!==f.type&&"touchend"!==f.type||(F.classList.remove("apexcharts-active"),D.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(_e){var Ie=_e.getAttribute("data:default-text");_e.innerHTML=decodeURIComponent(Ie)}))}},{key:"handleStickyTooltip",value:function(p,f,b,S){var D=this.w,B=this.tooltipUtil.getNearestValues({context:this,hoverArea:S.hoverArea,elGrid:S.elGrid,clientX:f,clientY:b}),F=B.j,Z=B.capturedSeries;B.hoverX<0||B.hoverX>D.globals.gridWidth?this.handleMouseOut(S):null!==Z?this.handleStickyCapturedSeries(p,Z,S,F):(this.tooltipUtil.isXoverlap(F)||D.globals.isBarHorizontal)&&this.create(p,this,0,F,S.ttItems)}},{key:"handleStickyCapturedSeries",value:function(p,f,b,S){var D=this.w;null===D.globals.series[f][S]?this.handleMouseOut(b):void 0!==D.globals.series[f][S]?this.tConfig.shared&&this.tooltipUtil.isXoverlap(S)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(p,this,f,S,b.ttItems):this.create(p,this,f,S,b.ttItems,!1):this.tooltipUtil.isXoverlap(S)&&this.create(p,this,0,S,b.ttItems)}},{key:"deactivateHoverFilter",value:function(){for(var p=this.w,f=new Wt(this.ctx),b=p.globals.dom.Paper.select(".apexcharts-bar-area"),S=0;S<b.length;S++)f.pathMouseLeave(b[S])}},{key:"handleMouseOut",value:function(p){var f=this.w,b=this.getElXCrosshairs();if(p.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),"bubble"!==f.config.chart.type&&this.marker.resetPointsSize(),null!==b&&b.classList.remove("apexcharts-active"),null!==this.ycrosshairs&&this.ycrosshairs.classList.remove("apexcharts-active"),this.blxaxisTooltip&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){null===this.yaxisTTEls&&(this.yaxisTTEls=f.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var S=0;S<this.yaxisTTEls.length;S++)this.yaxisTTEls[S].classList.remove("apexcharts-active")}f.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(D){var B=D.getAttribute("data:default-text");D.innerHTML=decodeURIComponent(B)})}},{key:"markerClick",value:function(p,f,b){var S=this.w;"function"==typeof S.config.chart.events.markerClick&&S.config.chart.events.markerClick(p,this.ctx,{seriesIndex:f,dataPointIndex:b,w:S}),this.ctx.events.fireEvent("markerClick",[p,this.ctx,{seriesIndex:f,dataPointIndex:b,w:S}])}},{key:"create",value:function(p,f,b,S,D){var B=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,F=this.w,Z=f;"mouseup"===p.type&&this.markerClick(p,b,S),null===B&&(B=this.tConfig.shared);var q=this.tooltipUtil.hasMarkers(),oe=this.tooltipUtil.getElBars();if(F.config.legend.tooltipHoverFormatter){var ue=F.config.legend.tooltipHoverFormatter,ae=Array.from(this.legendLabels);ae.forEach(function(he){var Ne=he.getAttribute("data:default-text");he.innerHTML=decodeURIComponent(Ne)});for(var _e=0;_e<ae.length;_e++){var Ie=ae[_e],Pe=parseInt(Ie.getAttribute("i"),10),ze=decodeURIComponent(Ie.getAttribute("data:default-text")),We=ue(ze,{seriesIndex:B?Pe:b,dataPointIndex:S,w:F});if(B)Ie.innerHTML=F.globals.collapsedSeriesIndices.indexOf(Pe)<0?We:ze;else if(Ie.innerHTML=Pe===b?We:ze,b===Pe)break}}if(B){if(Z.tooltipLabels.drawSeriesTexts({ttItems:D,i:b,j:S,shared:!this.showOnIntersect&&this.tConfig.shared}),q&&(F.globals.markers.largestSize>0?Z.marker.enlargePoints(S):Z.tooltipPosition.moveDynamicPointsOnHover(S)),this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(oe),this.barSeriesHeight>0)){var st=new Wt(this.ctx),bt=F.globals.dom.Paper.select(".apexcharts-bar-area[j='".concat(S,"']"));this.deactivateHoverFilter(),this.tooltipPosition.moveStickyTooltipOverBars(S);for(var X=0;X<bt.length;X++)st.pathMouseEnter(bt[X])}}else Z.tooltipLabels.drawSeriesTexts({shared:!1,ttItems:D,i:b,j:S}),this.tooltipUtil.hasBars()&&Z.tooltipPosition.moveStickyTooltipOverBars(S),q&&Z.tooltipPosition.moveMarkers(b,S)}}]),Re}(),Qt=function(Re){Be(f,Vi);var p=Lt(f);function f(){return ee(this,f),p.apply(this,arguments)}return de(f,[{key:"draw",value:function(b,S){var D=this,B=this.w;this.graphics=new Wt(this.ctx),this.bar=new Vi(this.ctx,this.xyRatios);var F=new hi(this.ctx,B);b=F.getLogSeries(b),this.yRatio=F.getLogYRatios(this.yRatio),this.barHelpers.initVariables(b),"100%"===B.config.chart.stackType&&(b=B.globals.seriesPercent.slice()),this.series=b,this.totalItems=0,this.prevY=[],this.prevX=[],this.prevYF=[],this.prevXF=[],this.prevYVal=[],this.prevXVal=[],this.xArrj=[],this.xArrjF=[],this.xArrjVal=[],this.yArrj=[],this.yArrjF=[],this.yArrjVal=[];for(var Z=0;Z<b.length;Z++)b[Z].length>0&&(this.totalItems+=b[Z].length);for(var q=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),oe=0,ue=0,ae=function(Pe,ze){var We=void 0,st=void 0,bt=void 0,X=void 0,he=[],Ne=[],Je=B.globals.comboCharts?S[Pe]:Pe;D.yRatio.length>1&&(D.yaxisIndex=Je),D.isReversed=B.config.yaxis[D.yaxisIndex]&&B.config.yaxis[D.yaxisIndex].reversed;var mt=D.graphics.group({class:"apexcharts-series",seriesName:ct.escapeString(B.globals.seriesNames[Je]),rel:Pe+1,"data:realIndex":Je});D.ctx.series.addCollapsedClassToSeries(mt,Je);var ln=D.graphics.group({class:"apexcharts-datalabels","data:realIndex":Je}),qt=0,un=0,Vn=D.initialPositions(oe,ue,We,st,bt,X);ue=Vn.y,qt=Vn.barHeight,st=Vn.yDivision,X=Vn.zeroW,oe=Vn.x,un=Vn.barWidth,We=Vn.xDivision,bt=Vn.zeroH,D.yArrj=[],D.yArrjF=[],D.yArrjVal=[],D.xArrj=[],D.xArrjF=[],D.xArrjVal=[],1===D.prevY.length&&D.prevY[0].every(function(Lr){return isNaN(Lr)})&&(D.prevY[0]=D.prevY[0].map(function(Lr){return bt}),D.prevYF[0]=D.prevYF[0].map(function(Lr){return 0}));for(var zn=0;zn<B.globals.dataPoints;zn++){var ki=D.barHelpers.getStrokeWidth(Pe,zn,Je),pr={indexes:{i:Pe,j:zn,realIndex:Je,bc:ze},strokeWidth:ki,x:oe,y:ue,elSeries:mt},_i=null;D.isHorizontal?(_i=D.drawStackedBarPaths(Me(Me({},pr),{},{zeroW:X,barHeight:qt,yDivision:st})),un=D.series[Pe][zn]/D.invertedYRatio):(_i=D.drawStackedColumnPaths(Me(Me({},pr),{},{xDivision:We,barWidth:un,zeroH:bt})),qt=D.series[Pe][zn]/D.yRatio[D.yaxisIndex]),ue=_i.y,he.push(oe=_i.x),Ne.push(ue);var Yi=D.barHelpers.getPathFillColor(b,Pe,zn,Je);mt=D.renderSeries({realIndex:Je,pathFill:Yi,j:zn,i:Pe,pathFrom:_i.pathFrom,pathTo:_i.pathTo,strokeWidth:ki,elSeries:mt,x:oe,y:ue,series:b,barHeight:qt,barWidth:un,elDataLabelsWrap:ln,type:"bar",visibleSeries:0})}B.globals.seriesXvalues[Je]=he,B.globals.seriesYvalues[Je]=Ne,D.prevY.push(D.yArrj),D.prevYF.push(D.yArrjF),D.prevYVal.push(D.yArrjVal),D.prevX.push(D.xArrj),D.prevXF.push(D.xArrjF),D.prevXVal.push(D.xArrjVal),q.add(mt)},_e=0,Ie=0;_e<b.length;_e++,Ie++)ae(_e,Ie);return q}},{key:"initialPositions",value:function(b,S,D,B,F,Z){var q,oe,ue=this.w;return this.isHorizontal?(q=(q=B=ue.globals.gridHeight/ue.globals.dataPoints)*parseInt(ue.config.plotOptions.bar.barHeight,10)/100,Z=this.baseLineInvertedY+ue.globals.padHorizontal+(this.isReversed?ue.globals.gridWidth:0)-(this.isReversed?2*this.baseLineInvertedY:0),S=(B-q)/2):(oe=D=ue.globals.gridWidth/ue.globals.dataPoints,oe=ue.globals.isXNumeric&&ue.globals.dataPoints>1?(D=ue.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:oe*parseInt(ue.config.plotOptions.bar.columnWidth,10)/100,F=this.baseLineY[this.yaxisIndex]+(this.isReversed?ue.globals.gridHeight:0)-(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),b=ue.globals.padHorizontal+(D-oe)/2),{x:b,y:S,yDivision:B,xDivision:D,barHeight:q,barWidth:oe,zeroH:F,zeroW:Z}}},{key:"drawStackedBarPaths",value:function(b){for(var S,q,D=b.indexes,B=b.barHeight,F=b.strokeWidth,Z=b.zeroW,oe=b.y,ue=b.yDivision,ae=b.elSeries,_e=this.w,Ie=oe,Pe=D.i,ze=D.j,We=0,st=0;st<this.prevXF.length;st++)We+=this.prevXF[st][ze];if(Pe>0){var bt=Z;this.prevXVal[Pe-1][ze]<0?bt=this.series[Pe][ze]>=0?this.prevX[Pe-1][ze]+We-2*(this.isReversed?We:0):this.prevX[Pe-1][ze]:this.prevXVal[Pe-1][ze]>=0&&(bt=this.series[Pe][ze]>=0?this.prevX[Pe-1][ze]:this.prevX[Pe-1][ze]-We+2*(this.isReversed?We:0)),S=bt}else S=Z;var X=this.barHelpers.getBarpaths({barYPosition:Ie,barHeight:B,x1:S,x2:q=null===this.series[Pe][ze]?S:S+this.series[Pe][ze]/this.invertedYRatio-2*(this.isReversed?this.series[Pe][ze]/this.invertedYRatio:0),strokeWidth:F,series:this.series,realIndex:D.realIndex,i:Pe,j:ze,w:_e});return this.barHelpers.barBackground({j:ze,i:Pe,y1:Ie,y2:B,elSeries:ae}),{pathTo:X.pathTo,pathFrom:X.pathFrom,x:q,y:oe+=ue}}},{key:"drawStackedColumnPaths",value:function(b){var B,S=b.indexes,D=b.x,F=b.xDivision,Z=b.barWidth,q=b.zeroH,oe=b.elSeries,ue=this.w,ae=S.i,_e=S.j,Ie=S.bc;if(ue.globals.isXNumeric){var Pe=ue.globals.seriesX[ae][_e];Pe||(Pe=0),D=(Pe-ue.globals.minX)/this.xRatio-Z/2}for(var ze,We=D,st=0,bt=0;bt<this.prevYF.length;bt++)st+=isNaN(this.prevYF[bt][_e])?0:this.prevYF[bt][_e];if(ae>0&&!ue.globals.isXNumeric||ae>0&&ue.globals.isXNumeric&&ue.globals.seriesX[ae-1][_e]===ue.globals.seriesX[ae][_e]){var X,he,Ne=Math.min(this.yRatio.length+1,ae+1);if(void 0!==this.prevY[ae-1])for(var Je=1;Je<Ne;Je++)if(!isNaN(this.prevY[ae-Je][_e])){he=this.prevY[ae-Je][_e];break}for(var mt=1;mt<Ne;mt++){if(this.prevYVal[ae-mt][_e]<0){X=this.series[ae][_e]>=0?he-st+2*(this.isReversed?st:0):he;break}if(this.prevYVal[ae-mt][_e]>=0){X=this.series[ae][_e]>=0?he:he+st-2*(this.isReversed?st:0);break}}void 0===X&&(X=ue.globals.gridHeight),ze=this.prevYF[0].every(function(qt){return 0===qt})&&this.prevYF.slice(1,ae).every(function(qt){return qt.every(function(un){return isNaN(un)})})?ue.globals.gridHeight-q:X}else ze=ue.globals.gridHeight-q;var ln=this.barHelpers.getColumnPaths({barXPosition:We,barWidth:Z,y1:ze,y2:B=ze-this.series[ae][_e]/this.yRatio[this.yaxisIndex]+2*(this.isReversed?this.series[ae][_e]/this.yRatio[this.yaxisIndex]:0),yRatio:this.yRatio[this.yaxisIndex],strokeWidth:this.strokeWidth,series:this.series,realIndex:S.realIndex,i:ae,j:_e,w:ue});return this.barHelpers.barBackground({bc:Ie,j:_e,i:ae,x1:We,x2:Z,elSeries:oe}),D+=F,{pathTo:ln.pathTo,pathFrom:ln.pathFrom,x:ue.globals.isXNumeric?D-F:D,y:B}}}]),f}(),_n=function(Re){Be(f,Vi);var p=Lt(f);function f(){return ee(this,f),p.apply(this,arguments)}return de(f,[{key:"draw",value:function(b,S){var D=this,B=this.w,F=new Wt(this.ctx),Z=new hn(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot;var q=new hi(this.ctx,B);b=q.getLogSeries(b),this.series=b,this.yRatio=q.getLogYRatios(this.yRatio),this.barHelpers.initVariables(b);for(var oe=F.group({class:"apexcharts-".concat(B.config.chart.type,"-series apexcharts-plot-series")}),ue=function(_e){D.isBoxPlot="boxPlot"===B.config.chart.type||"boxPlot"===B.config.series[_e].type;var Ie,Pe,Ne,Je,ze=void 0,We=void 0,st=[],bt=[],X=B.globals.comboCharts?S[_e]:_e,he=F.group({class:"apexcharts-series",seriesName:ct.escapeString(B.globals.seriesNames[X]),rel:_e+1,"data:realIndex":X});b[_e].length>0&&(D.visibleI=D.visibleI+1),D.yRatio.length>1&&(D.yaxisIndex=X);var mt=D.barHelpers.initialPositions();We=mt.y,Ne=mt.barHeight,Ie=mt.xDivision,Pe=mt.zeroH,bt.push((ze=mt.x)+(Je=mt.barWidth)/2);for(var ln=F.group({class:"apexcharts-datalabels","data:realIndex":X}),qt=function(Vn){var zn=D.barHelpers.getStrokeWidth(_e,Vn,X),ki=D.drawBoxPaths({indexes:{i:_e,j:Vn,realIndex:X},x:ze,y:We,xDivision:Ie,barWidth:Je,zeroH:Pe,strokeWidth:zn,elSeries:he});We=ki.y,ze=ki.x,Vn>0&&bt.push(ze+Je/2),st.push(We),ki.pathTo.forEach(function(pr,_i){var Yi=!D.isBoxPlot&&D.candlestickOptions.wick.useFillColor?ki.color[_i]:B.globals.stroke.colors[_e],Lr=Z.fillPath({seriesNumber:X,dataPointIndex:Vn,color:ki.color[_i],value:b[_e][Vn]});D.renderSeries({realIndex:X,pathFill:Lr,lineFill:Yi,j:Vn,i:_e,pathFrom:ki.pathFrom,pathTo:pr,strokeWidth:zn,elSeries:he,x:ze,y:We,series:b,barHeight:Ne,barWidth:Je,elDataLabelsWrap:ln,visibleSeries:D.visibleI,type:B.config.chart.type})})},un=0;un<B.globals.dataPoints;un++)qt(un);B.globals.seriesXvalues[X]=bt,B.globals.seriesYvalues[X]=st,oe.add(he)},ae=0;ae<b.length;ae++)ue(ae);return oe}},{key:"drawBoxPaths",value:function(b){var S=b.indexes,D=b.x,B=b.xDivision,F=b.barWidth,Z=b.zeroH,q=b.strokeWidth,oe=this.w,ue=new Wt(this.ctx),ae=S.i,_e=S.j,Ie=!0,Pe=oe.config.plotOptions.candlestick.colors.upward,ze=oe.config.plotOptions.candlestick.colors.downward,We="";this.isBoxPlot&&(We=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var st=this.yRatio[this.yaxisIndex],bt=S.realIndex,X=this.getOHLCValue(bt,_e),he=Z,Ne=Z;X.o>X.c&&(Ie=!1);var Je=Math.min(X.o,X.c),mt=Math.max(X.o,X.c),ln=X.m;oe.globals.isXNumeric&&(D=(oe.globals.seriesX[bt][_e]-oe.globals.minX)/this.xRatio-F/2);var qt=D+F*this.visibleI;null==this.series[ae][_e]?(Je=Z,mt=Z):(Je=Z-Je/st,mt=Z-mt/st,he=Z-X.h/st,Ne=Z-X.l/st,ln=Z-X.m/st);var un=ue.move(qt,Z),Vn=ue.move(qt+F/2,Je);return oe.globals.previousPaths.length>0&&(Vn=this.getPreviousPath(bt,_e,!0)),un=this.isBoxPlot?[ue.move(qt,Je)+ue.line(qt+F/2,Je)+ue.line(qt+F/2,he)+ue.line(qt+F/4,he)+ue.line(qt+F-F/4,he)+ue.line(qt+F/2,he)+ue.line(qt+F/2,Je)+ue.line(qt+F,Je)+ue.line(qt+F,ln)+ue.line(qt,ln)+ue.line(qt,Je+q/2),ue.move(qt,ln)+ue.line(qt+F,ln)+ue.line(qt+F,mt)+ue.line(qt+F/2,mt)+ue.line(qt+F/2,Ne)+ue.line(qt+F-F/4,Ne)+ue.line(qt+F/4,Ne)+ue.line(qt+F/2,Ne)+ue.line(qt+F/2,mt)+ue.line(qt,mt)+ue.line(qt,ln)+"z"]:[ue.move(qt,mt)+ue.line(qt+F/2,mt)+ue.line(qt+F/2,he)+ue.line(qt+F/2,mt)+ue.line(qt+F,mt)+ue.line(qt+F,Je)+ue.line(qt+F/2,Je)+ue.line(qt+F/2,Ne)+ue.line(qt+F/2,Je)+ue.line(qt,Je)+ue.line(qt,mt-q/2)],Vn+=ue.move(qt,Je),oe.globals.isXNumeric||(D+=B),{pathTo:un,pathFrom:Vn,x:D,y:mt,barXPosition:qt,color:this.isBoxPlot?We:Ie?[Pe]:[ze]}}},{key:"getOHLCValue",value:function(b,S){var D=this.w;return{o:this.isBoxPlot?D.globals.seriesCandleH[b][S]:D.globals.seriesCandleO[b][S],h:this.isBoxPlot?D.globals.seriesCandleO[b][S]:D.globals.seriesCandleH[b][S],m:D.globals.seriesCandleM[b][S],l:this.isBoxPlot?D.globals.seriesCandleC[b][S]:D.globals.seriesCandleL[b][S],c:this.isBoxPlot?D.globals.seriesCandleL[b][S]:D.globals.seriesCandleC[b][S]}}}]),f}(),on=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w}return de(Re,[{key:"checkColorRange",value:function(){var p=this.w,f=!1,b=p.config.plotOptions[p.config.chart.type];return b.colorScale.ranges.length>0&&b.colorScale.ranges.map(function(S,D){S.from<=0&&(f=!0)}),f}},{key:"getShadeColor",value:function(p,f,b,S){var D=this.w,B=1,F=D.config.plotOptions[p].shadeIntensity,Z=this.determineColor(p,f,b);D.globals.hasNegs||S?B=D.config.plotOptions[p].reverseNegativeShade?Z.percent<0?Z.percent/100*(1.25*F):1.25*F*(1-Z.percent/100):Z.percent<=0?1-(1+Z.percent/100)*F:(1-Z.percent/100)*F:(B=1-Z.percent/100,"treemap"===p&&(B=1.25*F*(1-Z.percent/100)));var q=Z.color,oe=new ct;return D.config.plotOptions[p].enableShades&&(q=ct.hexToRgba(oe.shadeColor("dark"===this.w.config.theme.mode?-1*B:B,Z.color),D.config.fill.opacity)),{color:q,colorProps:Z}}},{key:"determineColor",value:function(p,f,b){var S=this.w,D=S.globals.series[f][b],B=S.config.plotOptions[p],F=B.colorScale.inverse?b:f;S.config.plotOptions[p].distributed&&(F=b);var Z=S.globals.colors[F],q=null,oe=Math.min.apply(Math,rn(S.globals.series[f])),ue=Math.max.apply(Math,rn(S.globals.series[f]));B.distributed||"heatmap"!==p||(oe=S.globals.minY,ue=S.globals.maxY),void 0!==B.colorScale.min&&(oe=B.colorScale.min<S.globals.minY?B.colorScale.min:S.globals.minY,ue=B.colorScale.max>S.globals.maxY?B.colorScale.max:S.globals.maxY);var ae=Math.abs(ue)+Math.abs(oe),_e=100*D/(0===ae?ae-1e-6:ae);return B.colorScale.ranges.length>0&&B.colorScale.ranges.map(function(Ie,Pe){if(D>=Ie.from&&D<=Ie.to){Z=Ie.color,q=Ie.foreColor?Ie.foreColor:null,oe=Ie.from,ue=Ie.to;var ze=Math.abs(ue)+Math.abs(oe);_e=100*D/(0===ze?ze-1e-6:ze)}}),{color:Z,foreColor:q,percent:_e}}},{key:"calculateDataLabels",value:function(p){var f=p.text,b=p.x,S=p.y,D=p.i,B=p.j,F=p.colorProps,Z=p.fontSize,q=this.w.config.dataLabels,oe=new Wt(this.ctx),ue=new Yn(this.ctx),ae=null;if(q.enabled){ae=oe.group({class:"apexcharts-data-labels"});var Ie=q.offsetY,Pe=b+q.offsetX,ze=S+parseFloat(q.style.fontSize)/3+Ie;ue.plotDataLabelsText({x:Pe,y:ze,text:f,i:D,j:B,color:F.foreColor,parent:ae,fontSize:Z,dataLabelsConfig:q})}return ae}},{key:"addListeners",value:function(p){var f=new Wt(this.ctx);p.node.addEventListener("mouseenter",f.pathMouseEnter.bind(this,p)),p.node.addEventListener("mouseleave",f.pathMouseLeave.bind(this,p)),p.node.addEventListener("mousedown",f.pathMouseDown.bind(this,p))}}]),Re}(),gi=function(){function Re(p,f){ee(this,Re),this.ctx=p,this.w=p.w,this.xRatio=f.xRatio,this.yRatio=f.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new on(p),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return de(Re,[{key:"draw",value:function(p){var f=this.w,b=new Wt(this.ctx),S=b.group({class:"apexcharts-heatmap"});S.attr("clip-path","url(#gridRectMask".concat(f.globals.cuid,")"));var D=f.globals.gridWidth/f.globals.dataPoints,B=f.globals.gridHeight/f.globals.series.length,F=0,Z=!1;this.negRange=this.helpers.checkColorRange();var q=p.slice();f.config.yaxis[0].reversed&&(Z=!0,q.reverse());for(var oe=Z?0:q.length-1;Z?oe<q.length:oe>=0;Z?oe++:oe--){var ue=b.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:ct.escapeString(f.globals.seriesNames[oe]),rel:oe+1,"data:realIndex":oe});if(this.ctx.series.addCollapsedClassToSeries(ue,oe),f.config.chart.dropShadow.enabled){var ae=f.config.chart.dropShadow;new Fn(this.ctx).dropShadow(ue,ae,oe)}for(var _e=0,Ie=f.config.plotOptions.heatmap.shadeIntensity,Pe=0;Pe<q[oe].length;Pe++){var ze=this.helpers.getShadeColor(f.config.chart.type,oe,Pe,this.negRange),We=ze.color,st=ze.colorProps;"image"===f.config.fill.type&&(We=new hn(this.ctx).fillPath({seriesNumber:oe,dataPointIndex:Pe,opacity:f.globals.hasNegs?st.percent<0?1-(1+st.percent/100):Ie+st.percent/100:st.percent/100,patternID:ct.randomId(),width:f.config.fill.image.width?f.config.fill.image.width:D,height:f.config.fill.image.height?f.config.fill.image.height:B}));var X=b.drawRect(_e,F,D,B,this.rectRadius);if(X.attr({cx:_e,cy:F}),X.node.classList.add("apexcharts-heatmap-rect"),ue.add(X),X.attr({fill:We,i:oe,index:oe,j:Pe,val:q[oe][Pe],"stroke-width":this.strokeWidth,stroke:f.config.plotOptions.heatmap.useFillColorAsStroke?We:f.globals.stroke.colors[0],color:We}),this.helpers.addListeners(X),f.config.chart.animations.enabled&&!f.globals.dataChanged){var he=1;f.globals.resized||(he=f.config.chart.animations.speed),this.animateHeatMap(X,_e,F,D,B,he)}if(f.globals.dataChanged){var Ne=1;if(this.dynamicAnim.enabled&&f.globals.shouldAnimate){Ne=this.dynamicAnim.speed;var Je=f.globals.previousPaths[oe]&&f.globals.previousPaths[oe][Pe]&&f.globals.previousPaths[oe][Pe].color;Je||(Je="rgba(255, 255, 255, 0)"),this.animateHeatColor(X,ct.isColorHex(Je)?Je:ct.rgb2hex(Je),ct.isColorHex(We)?We:ct.rgb2hex(We),Ne)}}var mt=(0,f.config.dataLabels.formatter)(f.globals.series[oe][Pe],{value:f.globals.series[oe][Pe],seriesIndex:oe,dataPointIndex:Pe,w:f}),ln=this.helpers.calculateDataLabels({text:mt,x:_e+D/2,y:F+B/2,i:oe,j:Pe,colorProps:st,series:q});null!==ln&&ue.add(ln),_e+=D}F+=B,S.add(ue)}var qt=f.globals.yAxisScale[0].result.slice();return f.config.yaxis[0].reversed?qt.unshift(""):qt.push(""),f.globals.yAxisScale[0].result=qt,f.config.yaxis[0].labels.offsetY=-f.globals.gridHeight/f.globals.series.length/2,S}},{key:"animateHeatMap",value:function(p,f,b,S,D,B){var F=new ii(this.ctx);F.animateRect(p,{x:f+S/2,y:b+D/2,width:0,height:0},{x:f,y:b,width:S,height:D},B,function(){F.animationCompleted(p)})}},{key:"animateHeatColor",value:function(p,f,b,S){p.attr({fill:f}).animate(S).attr({fill:b})}}]),Re}(),Ui=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w}return de(Re,[{key:"drawYAxisTexts",value:function(p,f,b,S){var D=this.w,B=D.config.yaxis[0],F=D.globals.yLabelFormatters[0];return new Wt(this.ctx).drawText({x:p+B.labels.offsetX,y:f+B.labels.offsetY,text:F(S,b),textAnchor:"middle",fontSize:B.labels.style.fontSize,fontFamily:B.labels.style.fontFamily,foreColor:Array.isArray(B.labels.style.colors)?B.labels.style.colors[b]:B.labels.style.colors})}}]),Re}(),hr=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w;var f=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=void 0!==f.globals.stroke.colors?f.globals.stroke.colors:f.globals.colors,this.defaultSize=Math.min(f.globals.gridWidth,f.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=f.globals.gridWidth/2,this.fullAngle="radialBar"===f.config.chart.type?360:Math.abs(f.config.plotOptions.pie.endAngle-f.config.plotOptions.pie.startAngle),this.initialAngle=f.config.plotOptions.pie.startAngle%this.fullAngle,f.globals.radialSize=this.defaultSize/2.05-f.config.stroke.width-(f.config.chart.sparkline.enabled?0:f.config.chart.dropShadow.blur),this.donutSize=f.globals.radialSize*parseInt(f.config.plotOptions.pie.donut.size,10)/100,this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return de(Re,[{key:"draw",value:function(p){var f=this,b=this.w,S=new Wt(this.ctx);if(this.ret=S.group({class:"apexcharts-pie"}),b.globals.noData)return this.ret;for(var D=0,B=0;B<p.length;B++)D+=ct.negToZero(p[B]);var F=[],Z=S.group();0===D&&(D=1e-5),p.forEach(function(Je){f.maxY=Math.max(f.maxY,Je)}),b.config.yaxis[0].max&&(this.maxY=b.config.yaxis[0].max),"back"===b.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(this.ret);for(var q=0;q<p.length;q++){var oe=this.fullAngle*ct.negToZero(p[q])/D;F.push(oe),"polarArea"===this.chartType?(F[q]=this.fullAngle/p.length,this.sliceSizes.push(b.globals.radialSize*p[q]/this.maxY)):this.sliceSizes.push(b.globals.radialSize)}if(b.globals.dataChanged){for(var ue,ae=0,_e=0;_e<b.globals.previousPaths.length;_e++)ae+=ct.negToZero(b.globals.previousPaths[_e]);for(var Ie=0;Ie<b.globals.previousPaths.length;Ie++)ue=this.fullAngle*ct.negToZero(b.globals.previousPaths[Ie])/ae,this.prevSectorAngleArr.push(ue)}this.donutSize<0&&(this.donutSize=0);var Pe=b.config.plotOptions.pie.customScale,st=b.globals.gridWidth/2-b.globals.gridWidth/2*Pe,bt=b.globals.gridHeight/2-b.globals.gridHeight/2*Pe;if("donut"===this.chartType){var X=S.drawCircle(this.donutSize);X.attr({cx:this.centerX,cy:this.centerY,fill:b.config.plotOptions.pie.donut.background?b.config.plotOptions.pie.donut.background:"transparent"}),Z.add(X)}var he=this.drawArcs(F,p);if(this.sliceLabels.forEach(function(Je){he.add(Je)}),Z.attr({transform:"translate(".concat(st,", ").concat(bt,") scale(").concat(Pe,")")}),Z.add(he),this.ret.add(Z),this.donutDataLabels.show){var Ne=this.renderInnerDataLabels(this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show,translateX:st,translateY:bt});this.ret.add(Ne)}return"front"===b.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(this.ret),this.ret}},{key:"drawArcs",value:function(p,f){var b=this.w,S=new Fn(this.ctx),D=new Wt(this.ctx),B=new hn(this.ctx),F=D.group({class:"apexcharts-slices"}),Z=this.initialAngle,q=this.initialAngle,oe=this.initialAngle,ue=this.initialAngle;this.strokeWidth=b.config.stroke.show?b.config.stroke.width:0;for(var ae=0;ae<p.length;ae++){var _e=D.group({class:"apexcharts-series apexcharts-pie-series",seriesName:ct.escapeString(b.globals.seriesNames[ae]),rel:ae+1,"data:realIndex":ae});F.add(_e),oe=(Z=oe)+p[ae],ue=(q=ue)+this.prevSectorAngleArr[ae];var Ie=oe<Z?this.fullAngle+oe-Z:oe-Z,Pe=B.fillPath({seriesNumber:ae,size:this.sliceSizes[ae],value:f[ae]}),ze=this.getChangedPath(q,ue),We=D.drawPath({d:ze,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[ae]:this.lineColorArr,strokeWidth:0,fill:Pe,fillOpacity:b.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(ae)});We.attr({index:0,j:ae}),S.setSelectionFilter(We,0,ae),b.config.chart.dropShadow.enabled&&S.dropShadow(We,b.config.chart.dropShadow,ae),this.addListeners(We,this.donutDataLabels),Wt.setAttrs(We.node,{"data:angle":Ie,"data:startAngle":Z,"data:strokeWidth":this.strokeWidth,"data:value":f[ae]});var bt={x:0,y:0};"pie"===this.chartType||"polarArea"===this.chartType?bt=ct.polarToCartesian(this.centerX,this.centerY,b.globals.radialSize/1.25+b.config.plotOptions.pie.dataLabels.offset,(Z+Ie/2)%this.fullAngle):"donut"===this.chartType&&(bt=ct.polarToCartesian(this.centerX,this.centerY,(b.globals.radialSize+this.donutSize)/2+b.config.plotOptions.pie.dataLabels.offset,(Z+Ie/2)%this.fullAngle)),_e.add(We);var X=0;if(!this.initialAnim||b.globals.resized||b.globals.dataChanged?this.animBeginArr.push(0):(0==(X=Ie/this.fullAngle*b.config.chart.animations.speed)&&(X=1),this.animDur=X+this.animDur,this.animBeginArr.push(this.animDur)),this.animatePaths(We,this.dynamicAnim&&b.globals.dataChanged?{size:this.sliceSizes[ae],endAngle:oe,startAngle:Z,prevStartAngle:q,prevEndAngle:ue,animateStartingPos:!0,i:ae,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:b.config.chart.animations.dynamicAnimation.speed}:{size:this.sliceSizes[ae],endAngle:oe,startAngle:Z,i:ae,totalItems:p.length-1,animBeginArr:this.animBeginArr,dur:X}),b.config.plotOptions.pie.expandOnClick&&"polarArea"!==this.chartType&&We.click(this.pieClicked.bind(this,ae)),void 0!==b.globals.selectedDataPoints[0]&&b.globals.selectedDataPoints[0].indexOf(ae)>-1&&this.pieClicked(ae),b.config.dataLabels.enabled){var he=bt.x,Ne=bt.y,Je=100*Ie/this.fullAngle+"%";if(0!==Ie&&b.config.plotOptions.pie.dataLabels.minAngleToShowLabel<p[ae]){var mt=b.config.dataLabels.formatter;void 0!==mt&&(Je=mt(b.globals.seriesPercent[ae][0],{seriesIndex:ae,w:b}));var ln=b.globals.dataLabels.style.colors[ae],qt=D.group({class:"apexcharts-datalabels"}),un=D.drawText({x:he,y:Ne,text:Je,textAnchor:"middle",fontSize:b.config.dataLabels.style.fontSize,fontFamily:b.config.dataLabels.style.fontFamily,fontWeight:b.config.dataLabels.style.fontWeight,foreColor:ln});qt.add(un),b.config.dataLabels.dropShadow.enabled&&S.dropShadow(un,b.config.dataLabels.dropShadow),un.node.classList.add("apexcharts-pie-label"),b.config.chart.animations.animate&&!1===b.globals.resized&&(un.node.classList.add("apexcharts-pie-label-delay"),un.node.style.animationDelay=b.config.chart.animations.speed/940+"s"),this.sliceLabels.push(qt)}}}return F}},{key:"addListeners",value:function(p,f){var b=new Wt(this.ctx);p.node.addEventListener("mouseenter",b.pathMouseEnter.bind(this,p)),p.node.addEventListener("mouseleave",b.pathMouseLeave.bind(this,p)),p.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,p.node,f)),p.node.addEventListener("mousedown",b.pathMouseDown.bind(this,p)),this.donutDataLabels.total.showAlways||(p.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,p.node,f)),p.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,p.node,f)))}},{key:"animatePaths",value:function(p,f){var S=f.endAngle<f.startAngle?this.fullAngle+f.endAngle-f.startAngle:f.endAngle-f.startAngle,D=S,B=f.startAngle,F=f.startAngle;void 0!==f.prevStartAngle&&void 0!==f.prevEndAngle&&(B=f.prevEndAngle,D=f.prevEndAngle<f.prevStartAngle?this.fullAngle+f.prevEndAngle-f.prevStartAngle:f.prevEndAngle-f.prevStartAngle),f.i===this.w.config.series.length-1&&(S+F>this.fullAngle?f.endAngle=f.endAngle-(S+F):S+F<this.fullAngle&&(f.endAngle=f.endAngle+(this.fullAngle-(S+F)))),S===this.fullAngle&&(S=this.fullAngle-.01),this.animateArc(p,B,F,S,D,f)}},{key:"animateArc",value:function(p,f,b,S,D,B){var F,Z=this,q=this.w,oe=new ii(this.ctx),ue=B.size;(isNaN(f)||isNaN(D))&&(f=b,D=S,B.dur=0);var ae=S,_e=b,Ie=f<b?this.fullAngle+f-b:f-b;q.globals.dataChanged&&B.shouldSetPrevPaths&&B.prevEndAngle&&(F=Z.getPiePath({me:Z,startAngle:B.prevStartAngle,angle:B.prevEndAngle<B.prevStartAngle?this.fullAngle+B.prevEndAngle-B.prevStartAngle:B.prevEndAngle-B.prevStartAngle,size:ue}),p.attr({d:F})),0!==B.dur?p.animate(B.dur,q.globals.easing,B.animBeginArr[B.i]).afterAll(function(){"pie"!==Z.chartType&&"donut"!==Z.chartType&&"polarArea"!==Z.chartType||this.animate(q.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":Z.strokeWidth}),B.i===q.config.series.length-1&&oe.animationCompleted(p)}).during(function(Pe){ae=Ie+(S-Ie)*Pe,B.animateStartingPos&&(ae=D+(S-D)*Pe,_e=f-D+(b-(f-D))*Pe),F=Z.getPiePath({me:Z,startAngle:_e,angle:ae,size:ue}),p.node.setAttribute("data:pathOrig",F),p.attr({d:F})}):(F=Z.getPiePath({me:Z,startAngle:_e,angle:S,size:ue}),B.isTrack||(q.globals.animationEnded=!0),p.node.setAttribute("data:pathOrig",F),p.attr({d:F,"stroke-width":Z.strokeWidth}))}},{key:"pieClicked",value:function(p){var f,b=this.w,S=this,D=S.sliceSizes[p]+(b.config.plotOptions.pie.expandOnClick?4:0),B=b.globals.dom.Paper.select(".apexcharts-".concat(S.chartType.toLowerCase(),"-slice-").concat(p)).members[0];if("true"!==B.attr("data:pieClicked")){var F=b.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(F,function(ue){ue.setAttribute("data:pieClicked","false");var ae=ue.getAttribute("data:pathOrig");ue.setAttribute("d",ae)}),B.attr("data:pieClicked","true");var Z=parseInt(B.attr("data:startAngle"),10),q=parseInt(B.attr("data:angle"),10);f=S.getPiePath({me:S,startAngle:Z,angle:q,size:D}),360!==q&&B.plot(f)}else{B.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(B.node,this.donutDataLabels);var oe=B.attr("data:pathOrig");B.attr({d:oe})}}},{key:"getChangedPath",value:function(p,f){var b="";return this.dynamicAnim&&this.w.globals.dataChanged&&(b=this.getPiePath({me:this,startAngle:p,angle:f-p,size:this.size})),b}},{key:"getPiePath",value:function(p){var f=p.me,b=p.startAngle,S=p.angle,D=p.size,B=b,F=Math.PI*(B-90)/180,Z=S+b;Math.ceil(Z)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(Z=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(Z)>this.fullAngle&&(Z-=this.fullAngle);var q=Math.PI*(Z-90)/180,oe=f.centerX+D*Math.cos(F),ue=f.centerY+D*Math.sin(F),ae=f.centerX+D*Math.cos(q),_e=f.centerY+D*Math.sin(q),Ie=ct.polarToCartesian(f.centerX,f.centerY,f.donutSize,Z),Pe=ct.polarToCartesian(f.centerX,f.centerY,f.donutSize,B),ze=S>180?1:0,We=["M",oe,ue,"A",D,D,0,ze,1,ae,_e];return"donut"===f.chartType?[].concat(We,["L",Ie.x,Ie.y,"A",f.donutSize,f.donutSize,0,ze,0,Pe.x,Pe.y,"L",oe,ue,"z"]).join(" "):"pie"===f.chartType||"polarArea"===f.chartType?[].concat(We,["L",f.centerX,f.centerY,"L",oe,ue]).join(" "):[].concat(We).join(" ")}},{key:"drawPolarElements",value:function(p){var f=this.w,b=new lr(this.ctx),S=new Wt(this.ctx),D=new Ui(this.ctx),B=S.group(),F=S.group(),Z=b.niceScale(0,Math.ceil(this.maxY),f.config.yaxis[0].tickAmount,0,!0),q=Z.result.reverse(),oe=Z.result.length;this.maxY=Z.niceMax;for(var ue=f.globals.radialSize,ae=ue/(oe-1),_e=0;_e<oe-1;_e++){var Ie=S.drawCircle(ue);if(Ie.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":f.config.plotOptions.polarArea.rings.strokeWidth,stroke:f.config.plotOptions.polarArea.rings.strokeColor}),f.config.yaxis[0].show){var Pe=D.drawYAxisTexts(this.centerX,this.centerY-ue+parseInt(f.config.yaxis[0].labels.style.fontSize,10)/2,_e,q[_e]);F.add(Pe)}B.add(Ie),ue-=ae}this.drawSpokes(p),p.add(B),p.add(F)}},{key:"renderInnerDataLabels",value:function(p,f){var b=this.w,S=new Wt(this.ctx),D=S.group({class:"apexcharts-datalabels-group",transform:"translate(".concat(f.translateX?f.translateX:0,", ").concat(f.translateY?f.translateY:0,") scale(").concat(b.config.plotOptions.pie.customScale,")")}),B=p.total.show;D.node.style.opacity=f.opacity;var F,Z,q=f.centerX,oe=f.centerY;F=void 0===p.name.color?b.globals.colors[0]:p.name.color;var ue=p.name.fontSize,ae=p.name.fontFamily,_e=p.value.fontWeight;Z=void 0===p.value.color?b.config.chart.foreColor:p.value.color;var Ie=p.value.formatter,Pe="",ze="";if(B?(F=p.total.color,ue=p.total.fontSize,ae=p.total.fontFamily,_e=p.total.fontWeight,ze=p.total.label,Pe=p.total.formatter(b)):1===b.globals.series.length&&(Pe=Ie(b.globals.series[0],b),ze=b.globals.seriesNames[0]),ze&&(ze=p.name.formatter(ze,p.total.show,b)),p.name.show){var We=S.drawText({x:q,y:oe+parseFloat(p.name.offsetY),text:ze,textAnchor:"middle",foreColor:F,fontSize:ue,fontWeight:_e,fontFamily:ae});We.node.classList.add("apexcharts-datalabel-label"),D.add(We)}if(p.value.show){var st=p.name.show?parseFloat(p.value.offsetY)+16:p.value.offsetY,bt=S.drawText({x:q,y:oe+st,text:Pe,textAnchor:"middle",foreColor:Z,fontWeight:p.value.fontWeight,fontSize:p.value.fontSize,fontFamily:p.value.fontFamily});bt.node.classList.add("apexcharts-datalabel-value"),D.add(bt)}return D}},{key:"printInnerLabels",value:function(p,f,b,S){var D,B=this.w;S?D=void 0===p.name.color?B.globals.colors[parseInt(S.parentNode.getAttribute("rel"),10)-1]:p.name.color:B.globals.series.length>1&&p.total.show&&(D=p.total.color);var F=B.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),Z=B.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");b=(0,p.value.formatter)(b,B),S||"function"!=typeof p.total.formatter||(b=p.total.formatter(B)),f=p.name.formatter(f,f===p.total.label,B),null!==F&&(F.textContent=f),null!==Z&&(Z.textContent=b),null!==F&&(F.style.fill=D)}},{key:"printDataLabelsInner",value:function(p,f){var b=this.w,S=p.getAttribute("data:value"),D=b.globals.seriesNames[parseInt(p.parentNode.getAttribute("rel"),10)-1];b.globals.series.length>1&&this.printInnerLabels(f,D,S,p);var B=b.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");null!==B&&(B.style.opacity=1)}},{key:"drawSpokes",value:function(p){var f=this,b=this.w,S=new Wt(this.ctx),D=b.config.plotOptions.polarArea.spokes;if(0!==D.strokeWidth){for(var B=[],F=360/b.globals.series.length,Z=0;Z<b.globals.series.length;Z++)B.push(ct.polarToCartesian(this.centerX,this.centerY,b.globals.radialSize,b.config.plotOptions.pie.startAngle+F*Z));B.forEach(function(q,oe){var ue=S.drawLine(q.x,q.y,f.centerX,f.centerY,Array.isArray(D.connectorColors)?D.connectorColors[oe]:D.connectorColors);p.add(ue)})}}},{key:"revertDataLabelsInner",value:function(p,f,b){var S=this,D=this.w,B=D.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group"),F=!1,Z=D.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area"),q=function(ae){var _e=ae.makeSliceOut,Ie=ae.printLabel;Array.prototype.forEach.call(Z,function(Pe){"true"===Pe.getAttribute("data:pieClicked")&&(_e&&(F=!0),Ie&&S.printDataLabelsInner(Pe,f))})};if(q({makeSliceOut:!0,printLabel:!1}),f.total.show&&D.globals.series.length>1)F&&!f.total.showAlways?q({makeSliceOut:!1,printLabel:!0}):this.printInnerLabels(f,f.total.label,f.total.formatter(D));else if(q({makeSliceOut:!1,printLabel:!0}),!F)if(D.globals.selectedDataPoints.length&&D.globals.series.length>1)if(D.globals.selectedDataPoints[0].length>0){var oe=D.globals.selectedDataPoints[0],ue=D.globals.dom.baseEl.querySelector(".apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(oe));this.printDataLabelsInner(ue,f)}else B&&D.globals.selectedDataPoints.length&&0===D.globals.selectedDataPoints[0].length&&(B.style.opacity=0);else B&&D.globals.series.length>1&&(B.style.opacity=0)}}]),Re}(),Hr=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var f=this.w;this.graphics=new Wt(this.ctx),this.lineColorArr=void 0!==f.globals.stroke.colors?f.globals.stroke.colors:f.globals.colors,this.defaultSize=f.globals.svgHeight<f.globals.svgWidth?f.globals.gridHeight+1.5*f.globals.goldenPadding:f.globals.gridWidth,this.isLog=f.config.yaxis[0].logarithmic,this.coreUtils=new hi(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(f.globals.maxY,0):f.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.w.globals.minY,0):f.globals.minY,this.polygons=f.config.plotOptions.radar.polygons,this.strokeWidth=f.config.stroke.show?f.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-f.config.chart.dropShadow.blur,f.config.xaxis.labels.show&&(this.size=this.size-f.globals.xAxisLabelsWidth/1.75),void 0!==f.config.plotOptions.radar.size&&(this.size=f.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return de(Re,[{key:"draw",value:function(p){var f=this,b=this.w,S=new hn(this.ctx),D=[],B=new Yn(this.ctx);p.length&&(this.dataPointsLen=p[b.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var oe=b.globals.gridHeight/2+b.config.plotOptions.radar.offsetY,ue=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(b.globals.gridWidth/2+b.config.plotOptions.radar.offsetX||0,", ").concat(oe||0,")")}),ae=[],_e=null,Ie=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),p.forEach(function(ze,We){var st=ze.length===b.globals.dataPoints,bt=f.graphics.group().attr({class:"apexcharts-series","data:longestSeries":st,seriesName:ct.escapeString(b.globals.seriesNames[We]),rel:We+1,"data:realIndex":We});f.dataRadiusOfPercent[We]=[],f.dataRadius[We]=[],f.angleArr[We]=[],ze.forEach(function(zn,ki){var pr=Math.abs(f.maxValue-f.minValue);zn+=Math.abs(f.minValue),f.isLog&&(zn=f.coreUtils.getLogVal(zn,0)),f.dataRadiusOfPercent[We][ki]=zn/pr,f.dataRadius[We][ki]=f.dataRadiusOfPercent[We][ki]*f.size,f.angleArr[We][ki]=ki*f.disAngle}),ae=f.getDataPointsPos(f.dataRadius[We],f.angleArr[We]);var X=f.createPaths(ae,{x:0,y:0});_e=f.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),Ie=f.graphics.group({class:"apexcharts-datalabels","data:realIndex":We}),b.globals.delayedElements.push({el:_e.node,index:We});var he={i:We,realIndex:We,animationDelay:We,initialSpeed:b.config.chart.animations.speed,dataChangeSpeed:b.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:b.globals.stroke.colors[We],strokeLineCap:b.config.stroke.lineCap},Ne=null;b.globals.previousPaths.length>0&&(Ne=f.getPreviousPath(We));for(var Je=0;Je<X.linePathsTo.length;Je++){var mt=f.graphics.renderPaths(Me(Me({},he),{},{pathFrom:null===Ne?X.linePathsFrom[Je]:Ne,pathTo:X.linePathsTo[Je],strokeWidth:Array.isArray(f.strokeWidth)?f.strokeWidth[We]:f.strokeWidth,fill:"none",drawShadow:!1}));bt.add(mt);var ln=S.fillPath({seriesNumber:We}),qt=f.graphics.renderPaths(Me(Me({},he),{},{pathFrom:null===Ne?X.areaPathsFrom[Je]:Ne,pathTo:X.areaPathsTo[Je],strokeWidth:0,fill:ln,drawShadow:!1}));b.config.chart.dropShadow.enabled&&new Fn(f.ctx).dropShadow(qt,Object.assign({},b.config.chart.dropShadow,{noUserSpaceOnUse:!0}),We),bt.add(qt)}ze.forEach(function(zn,ki){var pr=new Mn(f.ctx).getMarkerConfig("apexcharts-marker",We,ki),_i=f.graphics.drawMarker(ae[ki].x,ae[ki].y,pr);_i.attr("rel",ki),_i.attr("j",ki),_i.attr("index",We),_i.node.setAttribute("default-marker-size",pr.pSize);var Yi=f.graphics.group({class:"apexcharts-series-markers"});Yi&&Yi.add(_i),_e.add(Yi),bt.add(_e);var Lr=b.config.dataLabels;if(Lr.enabled){var eo=Lr.formatter(b.globals.series[We][ki],{seriesIndex:We,dataPointIndex:ki,w:b});B.plotDataLabelsText({x:ae[ki].x,y:ae[ki].y,text:eo,textAnchor:"middle",i:We,j:We,parent:Ie,offsetCorrection:!1,dataLabelsConfig:Me({},Lr)})}bt.add(Ie)}),D.push(bt)}),this.drawPolygons({parent:ue}),b.config.xaxis.labels.show){var Pe=this.drawXAxisTexts();ue.add(Pe)}return D.forEach(function(ze){ue.add(ze)}),ue.add(this.yaxisLabels),ue}},{key:"drawPolygons",value:function(p){for(var f=this,b=this.w,S=p.parent,D=new Ui(this.ctx),B=b.globals.yAxisScale[0].result.reverse(),F=B.length,Z=[],q=this.size/(F-1),oe=0;oe<F;oe++)Z[oe]=q*oe;Z.reverse();var ue=[],ae=[];Z.forEach(function(_e,Ie){var Pe=ct.getPolygonPos(_e,f.dataPointsLen),ze="";Pe.forEach(function(We,st){if(0===Ie){var bt=f.graphics.drawLine(We.x,We.y,0,0,Array.isArray(f.polygons.connectorColors)?f.polygons.connectorColors[st]:f.polygons.connectorColors);ae.push(bt)}0===st&&f.yaxisLabelsTextsPos.push({x:We.x,y:We.y}),ze+=We.x+","+We.y+" "}),ue.push(ze)}),ue.forEach(function(_e,Ie){var Pe=f.polygons.strokeColors,ze=f.polygons.strokeWidth,We=f.graphics.drawPolygon(_e,Array.isArray(Pe)?Pe[Ie]:Pe,Array.isArray(ze)?ze[Ie]:ze,b.globals.radarPolygons.fill.colors[Ie]);S.add(We)}),ae.forEach(function(_e){S.add(_e)}),b.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach(function(_e,Ie){var Pe=D.drawYAxisTexts(_e.x,_e.y,Ie,B[Ie]);f.yaxisLabels.add(Pe)})}},{key:"drawXAxisTexts",value:function(){var p=this,f=this.w,b=f.config.xaxis.labels,S=this.graphics.group({class:"apexcharts-xaxis"}),D=ct.getPolygonPos(this.size,this.dataPointsLen);return f.globals.labels.forEach(function(B,F){var Z=f.config.xaxis.labels.formatter,q=new Yn(p.ctx);if(D[F]){var oe=p.getTextPos(D[F],p.size),ue=Z(B,{seriesIndex:-1,dataPointIndex:F,w:f});q.plotDataLabelsText({x:oe.newX,y:oe.newY,text:ue,textAnchor:oe.textAnchor,i:F,j:F,parent:S,color:Array.isArray(b.style.colors)&&b.style.colors[F]?b.style.colors[F]:"#a8a8a8",dataLabelsConfig:Me({textAnchor:oe.textAnchor,dropShadow:{enabled:!1}},b),offsetCorrection:!1})}}),S}},{key:"createPaths",value:function(p,f){var b=this,S=[],D=[],B=[],F=[];if(p.length){D=[this.graphics.move(f.x,f.y)],F=[this.graphics.move(f.x,f.y)];var Z=this.graphics.move(p[0].x,p[0].y),q=this.graphics.move(p[0].x,p[0].y);p.forEach(function(oe,ue){Z+=b.graphics.line(oe.x,oe.y),q+=b.graphics.line(oe.x,oe.y),ue===p.length-1&&(Z+="Z",q+="Z")}),S.push(Z),B.push(q)}return{linePathsFrom:D,linePathsTo:S,areaPathsFrom:F,areaPathsTo:B}}},{key:"getTextPos",value:function(p,f){var b="middle",S=p.x,D=p.y;return Math.abs(p.x)>=10?p.x>0?(b="start",S+=10):p.x<0&&(b="end",S-=10):b="middle",Math.abs(p.y)>=f-10&&(p.y<0?D-=10:p.y>0&&(D+=10)),{textAnchor:b,newX:S,newY:D}}},{key:"getPreviousPath",value:function(p){for(var f=this.w,b=null,S=0;S<f.globals.previousPaths.length;S++){var D=f.globals.previousPaths[S];D.paths.length>0&&parseInt(D.realIndex,10)===parseInt(p,10)&&void 0!==f.globals.previousPaths[S].paths[0]&&(b=f.globals.previousPaths[S].paths[0].d)}return b}},{key:"getDataPointsPos",value:function(p,f){var b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.dataPointsLen;p=p||[],f=f||[];for(var S=[],D=0;D<b;D++){var B={};B.x=p[D]*Math.sin(f[D]),B.y=-p[D]*Math.cos(f[D]),S.push(B)}return S}}]),Re}(),Er=function(Re){Be(f,hr);var p=Lt(f);function f(b){var S;ee(this,f),(S=p.call(this,b)).ctx=b,S.w=b.w,S.animBeginArr=[0],S.animDur=0;var D=S.w;return S.startAngle=D.config.plotOptions.radialBar.startAngle,S.endAngle=D.config.plotOptions.radialBar.endAngle,S.totalAngle=Math.abs(D.config.plotOptions.radialBar.endAngle-D.config.plotOptions.radialBar.startAngle),S.trackStartAngle=D.config.plotOptions.radialBar.track.startAngle,S.trackEndAngle=D.config.plotOptions.radialBar.track.endAngle,S.radialDataLabels=D.config.plotOptions.radialBar.dataLabels,S.trackStartAngle||(S.trackStartAngle=S.startAngle),S.trackEndAngle||(S.trackEndAngle=S.endAngle),360===S.endAngle&&(S.endAngle=359.99),S.margin=parseInt(D.config.plotOptions.radialBar.track.margin,10),S}return de(f,[{key:"draw",value:function(b){var S=this.w,D=new Wt(this.ctx),B=D.group({class:"apexcharts-radialbar"});if(S.globals.noData)return B;var F=D.group(),Z=this.defaultSize/2,q=S.globals.gridWidth/2,oe=this.defaultSize/2.05;S.config.chart.sparkline.enabled||(oe=oe-S.config.stroke.width-S.config.chart.dropShadow.blur);var ue=S.globals.fill.colors;if(S.config.plotOptions.radialBar.track.show){var ae=this.drawTracks({size:oe,centerX:q,centerY:Z,colorArr:ue,series:b});F.add(ae)}var _e=this.drawArcs({size:oe,centerX:q,centerY:Z,colorArr:ue,series:b}),Ie=360;S.config.plotOptions.radialBar.startAngle<0&&(Ie=this.totalAngle);var Pe=(360-Ie)/360;if(S.globals.radialSize=oe-oe*Pe,this.radialDataLabels.value.show){var ze=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);S.globals.radialSize+=ze*Pe}return F.add(_e.g),"front"===S.config.plotOptions.radialBar.hollow.position&&(_e.g.add(_e.elHollow),_e.dataLabels&&_e.g.add(_e.dataLabels)),B.add(F),B}},{key:"drawTracks",value:function(b){var S=this.w,D=new Wt(this.ctx),B=D.group({class:"apexcharts-tracks"}),F=new Fn(this.ctx),Z=new hn(this.ctx),q=this.getStrokeWidth(b);b.size=b.size-q/2;for(var oe=0;oe<b.series.length;oe++){var ue=D.group({class:"apexcharts-radialbar-track apexcharts-track"});B.add(ue),ue.attr({rel:oe+1}),b.size=b.size-q-this.margin;var ae=S.config.plotOptions.radialBar.track,_e=Z.fillPath({seriesNumber:0,size:b.size,fillColors:Array.isArray(ae.background)?ae.background[oe]:ae.background,solid:!0}),Ie=this.trackStartAngle,Pe=this.trackEndAngle;Math.abs(Pe)+Math.abs(Ie)>=360&&(Pe=360-Math.abs(this.startAngle)-.1);var ze=D.drawPath({d:"",stroke:_e,strokeWidth:q*parseInt(ae.strokeWidth,10)/100,fill:"none",strokeOpacity:ae.opacity,classes:"apexcharts-radialbar-area"});ae.dropShadow.enabled&&F.dropShadow(ze,ae.dropShadow),ue.add(ze),ze.attr("id","apexcharts-radialbarTrack-"+oe),this.animatePaths(ze,{centerX:b.centerX,centerY:b.centerY,endAngle:Pe,startAngle:Ie,size:b.size,i:oe,totalItems:2,animBeginArr:0,dur:0,isTrack:!0,easing:S.globals.easing})}return B}},{key:"drawArcs",value:function(b){var S=this.w,D=new Wt(this.ctx),B=new hn(this.ctx),F=new Fn(this.ctx),Z=D.group(),q=this.getStrokeWidth(b);b.size=b.size-q/2;var oe=S.config.plotOptions.radialBar.hollow.background,ue=b.size-q*b.series.length-this.margin*b.series.length-q*parseInt(S.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,ae=ue-S.config.plotOptions.radialBar.hollow.margin;void 0!==S.config.plotOptions.radialBar.hollow.image&&(oe=this.drawHollowImage(b,Z,ue,oe));var _e=this.drawHollow({size:ae,centerX:b.centerX,centerY:b.centerY,fill:oe||"transparent"});S.config.plotOptions.radialBar.hollow.dropShadow.enabled&&F.dropShadow(_e,S.config.plotOptions.radialBar.hollow.dropShadow);var Pe=1;!this.radialDataLabels.total.show&&S.globals.series.length>1&&(Pe=0);var ze=null;this.radialDataLabels.show&&(ze=this.renderInnerDataLabels(this.radialDataLabels,{hollowSize:ue,centerX:b.centerX,centerY:b.centerY,opacity:Pe})),"back"===S.config.plotOptions.radialBar.hollow.position&&(Z.add(_e),ze&&Z.add(ze));var We=!1;S.config.plotOptions.radialBar.inverseOrder&&(We=!0);for(var st=We?b.series.length-1:0;We?st>=0:st<b.series.length;We?st--:st++){var bt=D.group({class:"apexcharts-series apexcharts-radial-series",seriesName:ct.escapeString(S.globals.seriesNames[st])});Z.add(bt),bt.attr({rel:st+1,"data:realIndex":st}),this.ctx.series.addCollapsedClassToSeries(bt,st),b.size=b.size-q-this.margin;var X=B.fillPath({seriesNumber:st,size:b.size,value:b.series[st]}),he=this.startAngle,Ne=void 0,Je=ct.negToZero(b.series[st]>100?100:b.series[st])/100,mt=Math.round(this.totalAngle*Je)+this.startAngle,ln=void 0;S.globals.dataChanged&&(Ne=this.startAngle,ln=Math.round(this.totalAngle*ct.negToZero(S.globals.previousPaths[st])/100)+Ne),Math.abs(mt)+Math.abs(he)>=360&&(mt-=.01),Math.abs(ln)+Math.abs(Ne)>=360&&(ln-=.01);var qt=mt-he,un=Array.isArray(S.config.stroke.dashArray)?S.config.stroke.dashArray[st]:S.config.stroke.dashArray,Vn=D.drawPath({d:"",stroke:X,strokeWidth:q,fill:"none",fillOpacity:S.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+st,strokeDashArray:un});Wt.setAttrs(Vn.node,{"data:angle":qt,"data:value":b.series[st]}),S.config.chart.dropShadow.enabled&&F.dropShadow(Vn,S.config.chart.dropShadow,st),F.setSelectionFilter(Vn,0,st),this.addListeners(Vn,this.radialDataLabels),bt.add(Vn),Vn.attr({index:0,j:st});var ki=0;!this.initialAnim||S.globals.resized||S.globals.dataChanged||(this.animDur=(ki=(mt-he)/360*S.config.chart.animations.speed)/(1.2*b.series.length)+this.animDur,this.animBeginArr.push(this.animDur)),S.globals.dataChanged&&(this.animDur=(ki=(mt-he)/360*S.config.chart.animations.dynamicAnimation.speed)/(1.2*b.series.length)+this.animDur,this.animBeginArr.push(this.animDur)),this.animatePaths(Vn,{centerX:b.centerX,centerY:b.centerY,endAngle:mt,startAngle:he,prevEndAngle:ln,prevStartAngle:Ne,size:b.size,i:st,totalItems:2,animBeginArr:this.animBeginArr,dur:ki,shouldSetPrevPaths:!0,easing:S.globals.easing})}return{g:Z,elHollow:_e,dataLabels:ze}}},{key:"drawHollow",value:function(b){var S=new Wt(this.ctx).drawCircle(2*b.size);return S.attr({class:"apexcharts-radialbar-hollow",cx:b.centerX,cy:b.centerY,r:b.size,fill:b.fill}),S}},{key:"drawHollowImage",value:function(b,S,D,B){var F=this.w,Z=new hn(this.ctx),q=ct.randomId(),oe=F.config.plotOptions.radialBar.hollow.image;if(F.config.plotOptions.radialBar.hollow.imageClipped)Z.clippedImgArea({width:D,height:D,image:oe,patternID:"pattern".concat(F.globals.cuid).concat(q)}),B="url(#pattern".concat(F.globals.cuid).concat(q,")");else{var ue=F.config.plotOptions.radialBar.hollow.imageWidth,ae=F.config.plotOptions.radialBar.hollow.imageHeight;if(void 0===ue&&void 0===ae){var _e=F.globals.dom.Paper.image(oe).loaded(function(Pe){this.move(b.centerX-Pe.width/2+F.config.plotOptions.radialBar.hollow.imageOffsetX,b.centerY-Pe.height/2+F.config.plotOptions.radialBar.hollow.imageOffsetY)});S.add(_e)}else{var Ie=F.globals.dom.Paper.image(oe).loaded(function(Pe){this.move(b.centerX-ue/2+F.config.plotOptions.radialBar.hollow.imageOffsetX,b.centerY-ae/2+F.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(ue,ae)});S.add(Ie)}}return B}},{key:"getStrokeWidth",value:function(b){return b.size*(100-parseInt(this.w.config.plotOptions.radialBar.hollow.size,10))/100/(b.series.length+1)-this.margin}}]),f}(),at=function(){function Re(p){ee(this,Re),this.w=p.w,this.lineCtx=p}return de(Re,[{key:"sameValueSeriesFix",value:function(p,f){var b=this.w;if("line"===b.config.chart.type&&("gradient"===b.config.fill.type||"gradient"===b.config.fill.type[p])&&new hi(this.lineCtx.ctx,b).seriesHaveSameValues(p)){var S=f[p].slice();S[S.length-1]=S[S.length-1]+1e-6,f[p]=S}return f}},{key:"calculatePoints",value:function(p){var f=p.series,S=p.x,D=p.y,B=p.i,F=p.j,Z=p.prevY,q=this.w,oe=[],ue=[];if(0===F){var ae=this.lineCtx.categoryAxisCorrection+q.config.markers.offsetX;q.globals.isXNumeric&&(ae=(q.globals.seriesX[p.realIndex][0]-q.globals.minX)/this.lineCtx.xRatio+q.config.markers.offsetX),oe.push(ae),ue.push(ct.isNumber(f[B][0])?Z+q.config.markers.offsetY:null),oe.push(S+q.config.markers.offsetX),ue.push(ct.isNumber(f[B][F+1])?D+q.config.markers.offsetY:null)}else oe.push(S+q.config.markers.offsetX),ue.push(ct.isNumber(f[B][F+1])?D+q.config.markers.offsetY:null);return{x:oe,y:ue}}},{key:"checkPreviousPaths",value:function(p){for(var f=p.pathFromLine,b=p.pathFromArea,S=p.realIndex,D=this.w,B=0;B<D.globals.previousPaths.length;B++){var F=D.globals.previousPaths[B];("line"===F.type||"area"===F.type)&&F.paths.length>0&&parseInt(F.realIndex,10)===parseInt(S,10)&&("line"===F.type?(this.lineCtx.appendPathFrom=!1,f=D.globals.previousPaths[B].paths[0].d):"area"===F.type&&(this.lineCtx.appendPathFrom=!1,b=D.globals.previousPaths[B].paths[0].d,D.config.stroke.show&&D.globals.previousPaths[B].paths[1]&&(f=D.globals.previousPaths[B].paths[1].d)))}return{pathFromLine:f,pathFromArea:b}}},{key:"determineFirstPrevY",value:function(p){var f=p.i,b=p.series,S=p.prevY,D=p.lineYPosition,B=this.w;if(void 0!==b[f][0])S=(D=B.config.chart.stacked&&f>0?this.lineCtx.prevSeriesY[f-1][0]:this.lineCtx.zeroY)-b[f][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]+2*(this.lineCtx.isReversed?b[f][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]:0);else if(B.config.chart.stacked&&f>0&&void 0===b[f][0])for(var F=f-1;F>=0;F--)if(null!=b[F][0]){S=D=this.lineCtx.prevSeriesY[F][0];break}return{prevY:S,lineYPosition:D}}}]),Re}(),Ye=function(){function Re(p,f,b){ee(this,Re),this.ctx=p,this.w=p.w,this.xyRatios=f,this.pointsChart=!("bubble"!==this.w.config.chart.type&&"scatter"!==this.w.config.chart.type)||b,this.scatter=new mn(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new at(this),this.markers=new Mn(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return de(Re,[{key:"draw",value:function(p,f,b){var S=this.w,D=new Wt(this.ctx),B=S.globals.comboCharts?f:S.config.chart.type,F=D.group({class:"apexcharts-".concat(B,"-series apexcharts-plot-series")}),Z=new hi(this.ctx,S);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,p=Z.getLogSeries(p),this.yRatio=Z.getLogYRatios(this.yRatio);for(var q=[],oe=0;oe<p.length;oe++){p=this.lineHelpers.sameValueSeriesFix(oe,p);var ue=S.globals.comboCharts?b[oe]:oe;this._initSerieVariables(p,oe,ue);var ae=[],_e=[],Ie=S.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,ue),S.globals.isXNumeric&&S.globals.seriesX.length>0&&(Ie=(S.globals.seriesX[ue][0]-S.globals.minX)/this.xRatio),_e.push(Ie);var Pe,ze=Ie,We=ze,st=this.zeroY;st=this.lineHelpers.determineFirstPrevY({i:oe,series:p,prevY:st,lineYPosition:0}).prevY,ae.push(st),Pe=st;var bt=this._calculatePathsFrom({series:p,i:oe,realIndex:ue,prevX:We,prevY:st}),X=this._iterateOverDataPoints({series:p,realIndex:ue,i:oe,x:Ie,y:1,pX:ze,pY:Pe,pathsFrom:bt,linePaths:[],areaPaths:[],seriesIndex:b,lineYPosition:0,xArrj:_e,yArrj:ae});this._handlePaths({type:B,realIndex:ue,i:oe,paths:X}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),q.push(this.elSeries)}if(S.config.chart.stacked)for(var he=q.length;he>0;he--)F.add(q[he-1]);else for(var Ne=0;Ne<q.length;Ne++)F.add(q[Ne]);return F}},{key:"_initSerieVariables",value:function(p,f,b){var S=this.w,D=new Wt(this.ctx);this.xDivision=S.globals.gridWidth/(S.globals.dataPoints-("on"===S.config.xaxis.tickPlacement?1:0)),this.strokeWidth=Array.isArray(S.config.stroke.width)?S.config.stroke.width[b]:S.config.stroke.width,this.yRatio.length>1&&(this.yaxisIndex=b),this.isReversed=S.config.yaxis[this.yaxisIndex]&&S.config.yaxis[this.yaxisIndex].reversed,this.zeroY=S.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?S.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),this.areaBottomY=this.zeroY,(this.zeroY>S.globals.gridHeight||"end"===S.config.plotOptions.area.fillTo)&&(this.areaBottomY=S.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=D.group({class:"apexcharts-series",seriesName:ct.escapeString(S.globals.seriesNames[b])}),this.elPointsMain=D.group({class:"apexcharts-series-markers-wrap","data:realIndex":b}),this.elDataLabelsWrap=D.group({class:"apexcharts-datalabels","data:realIndex":b}),this.elSeries.attr({"data:longestSeries":p[f].length===S.globals.dataPoints,rel:f+1,"data:realIndex":b}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(p){var f,b,S,D,B=p.series,F=p.i,Z=p.realIndex,q=p.prevX,oe=p.prevY,ue=this.w,ae=new Wt(this.ctx);if(null===B[F][0]){for(var _e=0;_e<B[F].length;_e++)if(null!==B[F][_e]){f=ae.move(q=this.xDivision*_e,oe=this.zeroY-B[F][_e]/this.yRatio[this.yaxisIndex]),b=ae.move(q,this.areaBottomY);break}}else f=ae.move(q,oe),b=ae.move(q,this.areaBottomY)+ae.line(q,oe);if(S=ae.move(-1,this.zeroY)+ae.line(-1,this.zeroY),D=ae.move(-1,this.zeroY)+ae.line(-1,this.zeroY),ue.globals.previousPaths.length>0){var Ie=this.lineHelpers.checkPreviousPaths({pathFromLine:S,pathFromArea:D,realIndex:Z});S=Ie.pathFromLine,D=Ie.pathFromArea}return{prevX:q,prevY:oe,linePath:f,areaPath:b,pathFromLine:S,pathFromArea:D}}},{key:"_handlePaths",value:function(p){var f=p.type,b=p.realIndex,S=p.i,D=p.paths,B=this.w,F=new Wt(this.ctx),Z=new hn(this.ctx);this.prevSeriesY.push(D.yArrj),B.globals.seriesXvalues[b]=D.xArrj,B.globals.seriesYvalues[b]=D.yArrj;var q=B.config.forecastDataPoints;if(q.count>0){var oe=B.globals.seriesXvalues[b][B.globals.seriesXvalues[b].length-q.count-1],ue=F.drawRect(oe,0,B.globals.gridWidth,B.globals.gridHeight,0);B.globals.dom.elForecastMask.appendChild(ue.node);var ae=F.drawRect(0,0,oe,B.globals.gridHeight,0);B.globals.dom.elNonForecastMask.appendChild(ae.node)}this.pointsChart||B.globals.delayedElements.push({el:this.elPointsMain.node,index:b});var _e={i:S,realIndex:b,animationDelay:S,initialSpeed:B.config.chart.animations.speed,dataChangeSpeed:B.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(f)};if("area"===f)for(var Ie=Z.fillPath({seriesNumber:b}),Pe=0;Pe<D.areaPaths.length;Pe++){var ze=F.renderPaths(Me(Me({},_e),{},{pathFrom:D.pathFromArea,pathTo:D.areaPaths[Pe],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:Ie}));this.elSeries.add(ze)}if(B.config.stroke.show&&!this.pointsChart){var We;We="line"===f?Z.fillPath({seriesNumber:b,i:S}):B.globals.stroke.colors[b];for(var st=0;st<D.linePaths.length;st++){var bt=Me(Me({},_e),{},{pathFrom:D.pathFromLine,pathTo:D.linePaths[st],stroke:We,strokeWidth:this.strokeWidth,strokeLineCap:B.config.stroke.lineCap,fill:"none"}),X=F.renderPaths(bt);if(this.elSeries.add(X),q.count>0){var he=F.renderPaths(bt);he.node.setAttribute("stroke-dasharray",q.dashArray),q.strokeWidth&&he.node.setAttribute("stroke-width",q.strokeWidth),this.elSeries.add(he),he.attr("clip-path","url(#forecastMask".concat(B.globals.cuid,")")),X.attr("clip-path","url(#nonForecastMask".concat(B.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(p){for(var f=p.series,b=p.realIndex,S=p.i,D=p.x,B=p.y,F=p.pX,Z=p.pY,q=p.pathsFrom,oe=p.linePaths,ue=p.areaPaths,ae=p.seriesIndex,_e=p.lineYPosition,Ie=p.xArrj,Pe=p.yArrj,ze=this.w,We=new Wt(this.ctx),st=this.yRatio,bt=q.prevY,X=q.linePath,he=q.areaPath,Ne=q.pathFromLine,Je=q.pathFromArea,mt=ct.isNumber(ze.globals.minYArr[b])?ze.globals.minYArr[b]:ze.globals.minY,ln=ze.globals.dataPoints>1?ze.globals.dataPoints-1:ze.globals.dataPoints,qt=0;qt<ln;qt++){var un=null==f[S][qt+1];if(ze.globals.isXNumeric){var Vn=ze.globals.seriesX[b][qt+1];void 0===ze.globals.seriesX[b][qt+1]&&(Vn=ze.globals.seriesX[b][ln-1]),D=(Vn-ze.globals.minX)/this.xRatio}else D+=this.xDivision;_e=ze.config.chart.stacked&&S>0&&ze.globals.collapsedSeries.length<ze.config.series.length-1?this.prevSeriesY[function(pr){for(var _i=pr,Yi=0;Yi<ze.globals.series.length;Yi++)if(ze.globals.collapsedSeriesIndices.indexOf(pr)>-1){_i--;break}return _i>=0?_i:0}(S-1)][qt+1]:this.zeroY,B=un?_e-mt/st[this.yaxisIndex]+2*(this.isReversed?mt/st[this.yaxisIndex]:0):_e-f[S][qt+1]/st[this.yaxisIndex]+2*(this.isReversed?f[S][qt+1]/st[this.yaxisIndex]:0),Ie.push(D),Pe.push(B);var zn=this.lineHelpers.calculatePoints({series:f,x:D,y:B,realIndex:b,i:S,j:qt,prevY:bt}),ki=this._createPaths({series:f,i:S,realIndex:b,j:qt,x:D,y:B,pX:F,pY:Z,linePath:X,areaPath:he,linePaths:oe,areaPaths:ue,seriesIndex:ae});ue=ki.areaPaths,oe=ki.linePaths,F=ki.pX,Z=ki.pY,he=ki.areaPath,X=ki.linePath,this.appendPathFrom&&(Ne+=We.line(D,this.zeroY),Je+=We.line(D,this.zeroY)),this.handleNullDataPoints(f,zn,S,qt,b),this._handleMarkersAndLabels({pointsPos:zn,series:f,x:D,y:B,prevY:bt,i:S,j:qt,realIndex:b})}return{yArrj:Pe,xArrj:Ie,pathFromArea:Je,areaPaths:ue,pathFromLine:Ne,linePaths:oe}}},{key:"_handleMarkersAndLabels",value:function(p){var f=p.pointsPos,b=p.i,S=p.j,D=p.realIndex,B=this.w,F=new Yn(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,S,{realIndex:D,pointsPos:f,zRatio:this.zRatio,elParent:this.elPointsMain});else{B.globals.series[b].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var Z=this.markers.plotChartMarkers(f,D,S+1);null!==Z&&this.elPointsMain.add(Z)}var q=F.drawDataLabel(f,D,S+1,null);null!==q&&this.elDataLabelsWrap.add(q)}},{key:"_createPaths",value:function(p){var f=p.series,b=p.i,S=p.realIndex,D=p.j,B=p.x,F=p.y,Z=p.pX,q=p.pY,oe=p.linePath,ue=p.areaPath,ae=p.linePaths,_e=p.areaPaths,Ie=p.seriesIndex,Pe=this.w,ze=new Wt(this.ctx),We=Pe.config.stroke.curve,st=this.areaBottomY;if(Array.isArray(Pe.config.stroke.curve)&&(We=Array.isArray(Ie)?Pe.config.stroke.curve[Ie[b]]:Pe.config.stroke.curve[b]),"smooth"===We){var bt=.35*(B-Z);Pe.globals.hasNullValues?(null!==f[b][D]&&(null!==f[b][D+1]?(oe=ze.move(Z,q)+ze.curve(Z+bt,q,B-bt,F,B+1,F),ue=ze.move(Z+1,q)+ze.curve(Z+bt,q,B-bt,F,B+1,F)+ze.line(B,st)+ze.line(Z,st)+"z"):(oe=ze.move(Z,q),ue=ze.move(Z,q)+"z")),ae.push(oe),_e.push(ue)):(oe+=ze.curve(Z+bt,q,B-bt,F,B,F),ue+=ze.curve(Z+bt,q,B-bt,F,B,F)),Z=B,q=F,D===f[b].length-2&&(ue=ue+ze.curve(Z,q,B,F,B,st)+ze.move(B,F)+"z",Pe.globals.hasNullValues||(ae.push(oe),_e.push(ue)))}else null===f[b][D+1]&&(oe+=ze.move(B,F),ue=ue+ze.line(Pe.globals.isXNumeric?(Pe.globals.seriesX[S][D]-Pe.globals.minX)/this.xRatio:B-this.xDivision,st)+ze.move(B,F)+"z"),null===f[b][D]&&(oe+=ze.move(B,F),ue+=ze.move(B,st)),"stepline"===We?(oe=oe+ze.line(B,null,"H")+ze.line(null,F,"V"),ue=ue+ze.line(B,null,"H")+ze.line(null,F,"V")):"straight"===We&&(oe+=ze.line(B,F),ue+=ze.line(B,F)),D===f[b].length-2&&(ue=ue+ze.line(B,st)+ze.move(B,F)+"z",ae.push(oe),_e.push(ue));return{linePaths:ae,areaPaths:_e,pX:Z,pY:q,linePath:oe,areaPath:ue}}},{key:"handleNullDataPoints",value:function(p,f,b,S,D){var B=this.w;if(null===p[b][S]&&B.config.markers.showNullDataPoints||1===p[b].length){var F=this.markers.plotChartMarkers(f,D,S+1,this.strokeWidth-B.config.markers.strokeWidth/2,!0);null!==F&&this.elPointsMain.add(F)}}}]),Re}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function Re(F,Z,q,oe){this.xoffset=F,this.yoffset=Z,this.height=oe,this.width=q,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(ue){var ae,_e=[],Ie=this.xoffset,Pe=this.yoffset,ze=D(ue)/this.height,We=D(ue)/this.width;if(this.width>=this.height)for(ae=0;ae<ue.length;ae++)_e.push([Ie,Pe,Ie+ze,Pe+ue[ae]/ze]),Pe+=ue[ae]/ze;else for(ae=0;ae<ue.length;ae++)_e.push([Ie,Pe,Ie+ue[ae]/We,Pe+We]),Ie+=ue[ae]/We;return _e},this.cutArea=function(ue){var ae;if(this.width>=this.height){var _e=ue/this.height;ae=new Re(this.xoffset+_e,this.yoffset,this.width-_e,this.height)}else{var Pe=ue/this.width;ae=new Re(this.xoffset,this.yoffset+Pe,this.width,this.height-Pe)}return ae}}function p(F,Z,q,oe,ue){return oe=void 0===oe?0:oe,ue=void 0===ue?0:ue,function(ae){var _e,Ie,Pe=[];for(_e=0;_e<ae.length;_e++)for(Ie=0;Ie<ae[_e].length;Ie++)Pe.push(ae[_e][Ie]);return Pe}(f(function(ae,_e){var Ie,Pe=[],ze=_e/D(ae);for(Ie=0;Ie<ae.length;Ie++)Pe[Ie]=ae[Ie]*ze;return Pe}(F,Z*q),[],new Re(oe,ue,Z,q),[]))}function f(F,Z,q,oe){var ue,ae,_e,Ie,Pe,ze,We;if(0!==F.length)return ue=q.shortestEdge(),Pe=ae=F[0],ze=ue,0===(Ie=Z).length||((We=Ie.slice()).push(Pe),b(Ie,ze)>=b(We,ze))?(Z.push(ae),f(F.slice(1),Z,q,oe)):(_e=q.cutArea(D(Z),oe),oe.push(q.getCoordinates(Z)),f(F,[],_e,oe)),oe;oe.push(q.getCoordinates(Z))}function b(F,Z){var q=Math.min.apply(Math,F),oe=Math.max.apply(Math,F),ue=D(F);return Math.max(Math.pow(Z,2)*oe/Math.pow(ue,2),Math.pow(ue,2)/(Math.pow(Z,2)*q))}function S(F){return F&&F.constructor===Array}function D(F){var Z,q=0;for(Z=0;Z<F.length;Z++)q+=F[Z];return q}function B(F){var Z,q=0;if(S(F[0]))for(Z=0;Z<F.length;Z++)q+=B(F[Z]);else q=D(F);return q}return function F(Z,q,oe,ue,ae){ue=void 0===ue?0:ue,ae=void 0===ae?0:ae;var _e,Ie,Pe=[],ze=[];if(S(Z[0])){for(Ie=0;Ie<Z.length;Ie++)Pe[Ie]=B(Z[Ie]);for(_e=p(Pe,q,oe,ue,ae),Ie=0;Ie<Z.length;Ie++)ze.push(F(Z[Ie],_e[Ie][2]-_e[Ie][0],_e[Ie][3]-_e[Ie][1],_e[Ie][0],_e[Ie][1]))}else ze=p(Z,q,oe,ue,ae);return ze}}();var $e,dt,Ct=function(){function Re(p,f){ee(this,Re),this.ctx=p,this.w=p.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new on(p),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return de(Re,[{key:"draw",value:function(p){var f=this,b=this.w,S=new Wt(this.ctx),D=new hn(this.ctx),B=S.group({class:"apexcharts-treemap"});if(b.globals.noData)return B;var F=[];return p.forEach(function(Z){var q=Z.map(function(oe){return Math.abs(oe)});F.push(q)}),this.negRange=this.helpers.checkColorRange(),b.config.series.forEach(function(Z,q){Z.data.forEach(function(oe){Array.isArray(f.labels[q])||(f.labels[q]=[]),f.labels[q].push(oe.x)})}),window.TreemapSquared.generate(F,b.globals.gridWidth,b.globals.gridHeight).forEach(function(Z,q){var oe=S.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:ct.escapeString(b.globals.seriesNames[q]),rel:q+1,"data:realIndex":q});if(b.config.chart.dropShadow.enabled){var ue=b.config.chart.dropShadow;new Fn(f.ctx).dropShadow(B,ue,q)}var ae=S.group({class:"apexcharts-data-labels"});Z.forEach(function(_e,Ie){var Pe=_e[0],ze=_e[1],We=_e[2],st=_e[3],bt=S.drawRect(Pe,ze,We-Pe,st-ze,0,"#fff",1,f.strokeWidth,b.config.plotOptions.treemap.useFillColorAsStroke?he:b.globals.stroke.colors[q]);bt.attr({cx:Pe,cy:ze,index:q,i:q,j:Ie,width:We-Pe,height:st-ze});var X=f.helpers.getShadeColor(b.config.chart.type,q,Ie,f.negRange),he=X.color;void 0!==b.config.series[q].data[Ie]&&b.config.series[q].data[Ie].fillColor&&(he=b.config.series[q].data[Ie].fillColor);var Ne=D.fillPath({color:he,seriesNumber:q,dataPointIndex:Ie});bt.node.classList.add("apexcharts-treemap-rect"),bt.attr({fill:Ne}),f.helpers.addListeners(bt);var Je={x:Pe+(We-Pe)/2,y:ze+(st-ze)/2,width:0,height:0},mt={x:Pe,y:ze,width:We-Pe,height:st-ze};if(b.config.chart.animations.enabled&&!b.globals.dataChanged){var ln=1;b.globals.resized||(ln=b.config.chart.animations.speed),f.animateTreemap(bt,Je,mt,ln)}b.globals.dataChanged&&f.dynamicAnim.enabled&&b.globals.shouldAnimate&&(b.globals.previousPaths[q]&&b.globals.previousPaths[q][Ie]&&b.globals.previousPaths[q][Ie].rect&&(Je=b.globals.previousPaths[q][Ie].rect),f.animateTreemap(bt,Je,mt,f.dynamicAnim.speed));var un=f.getFontSize(_e),Vn=b.config.dataLabels.formatter(f.labels[q][Ie],{value:b.globals.series[q][Ie],seriesIndex:q,dataPointIndex:Ie,w:b}),zn=f.helpers.calculateDataLabels({text:Vn,x:(Pe+We)/2,y:(ze+st)/2+f.strokeWidth/2+un/3,i:q,j:Ie,colorProps:X,fontSize:un,series:p});b.config.dataLabels.enabled&&zn&&f.rotateToFitLabel(zn,Vn,Pe,ze,We,st),oe.add(bt),null!==zn&&oe.add(zn)}),oe.add(ae),B.add(oe)}),B}},{key:"getFontSize",value:function(p){var B,f=this.w,F=function Z(q){var oe,ue=0;if(Array.isArray(q[0]))for(oe=0;oe<q.length;oe++)ue+=Z(q[oe]);else for(oe=0;oe<q.length;oe++)ue+=q[oe].length;return ue}(this.labels)/function Z(q){var oe,ue=0;if(Array.isArray(q[0]))for(oe=0;oe<q.length;oe++)ue+=Z(q[oe]);else for(oe=0;oe<q.length;oe++)ue+=1;return ue}(this.labels);return B=Math.pow((p[2]-p[0])*(p[3]-p[1]),.5),Math.min(B/F,parseInt(f.config.dataLabels.style.fontSize,10))}},{key:"rotateToFitLabel",value:function(p,f,b,S,D,B){var F=new Wt(this.ctx),Z=F.getTextRects(f);if(Z.width+5>D-b&&Z.width<=B-S){var q=F.rotateAroundCenter(p.node);p.node.setAttribute("transform","rotate(-90 ".concat(q.x," ").concat(q.y,")"))}}},{key:"animateTreemap",value:function(p,f,b,S){var D=new ii(this.ctx);D.animateRect(p,{x:f.x,y:f.y,width:f.width,height:f.height},{x:b.x,y:b.y,width:b.width,height:b.height},S,function(){D.animationCompleted(p)})}}]),Re}(),Bt=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return de(Re,[{key:"calculateTimeScaleTicks",value:function(p,f){var b=this,S=this.w;if(S.globals.allSeriesCollapsed)return S.globals.labels=[],S.globals.timescaleLabels=[],[];var D=new fi(this.ctx),B=(f-p)/864e5;this.determineInterval(B),S.globals.disableZoomIn=!1,S.globals.disableZoomOut=!1,B<.00011574074074074075?S.globals.disableZoomIn=!0:B>5e4&&(S.globals.disableZoomOut=!0);var F=D.getTimeUnitsfromTimestamp(p,f,this.utc),Z=S.globals.gridWidth/B,q=Z/24,oe=q/60,ue=oe/60,ae=Math.floor(24*B),_e=Math.floor(1440*B),Ie=Math.floor(86400*B),Pe=Math.floor(B),ze=Math.floor(B/30),We=Math.floor(B/365),st={minMillisecond:F.minMillisecond,minSecond:F.minSecond,minMinute:F.minMinute,minHour:F.minHour,minDate:F.minDate,minMonth:F.minMonth,minYear:F.minYear},bt={firstVal:st,currentMillisecond:st.minMillisecond,currentSecond:st.minSecond,currentMinute:st.minMinute,currentHour:st.minHour,currentMonthDate:st.minDate,currentDate:st.minDate,currentMonth:st.minMonth,currentYear:st.minYear,daysWidthOnXAxis:Z,hoursWidthOnXAxis:q,minutesWidthOnXAxis:oe,secondsWidthOnXAxis:ue,numberOfSeconds:Ie,numberOfMinutes:_e,numberOfHours:ae,numberOfDays:Pe,numberOfMonths:ze,numberOfYears:We};switch(this.tickInterval){case"years":this.generateYearScale(bt);break;case"months":case"half_year":this.generateMonthScale(bt);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(bt);break;case"hours":this.generateHourScale(bt);break;case"minutes_fives":case"minutes":this.generateMinuteScale(bt);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(bt)}var X=this.timeScaleArray.map(function(he){var Ne={position:he.position,unit:he.unit,year:he.year,day:he.day?he.day:1,hour:he.hour?he.hour:0,month:he.month+1};return"month"===he.unit?Me(Me({},Ne),{},{day:1,value:he.value+1}):"day"===he.unit||"hour"===he.unit?Me(Me({},Ne),{},{value:he.value}):"minute"===he.unit?Me(Me({},Ne),{},{value:he.value,minute:he.value}):"second"===he.unit?Me(Me({},Ne),{},{value:he.value,minute:he.minute,second:he.second}):he});return X.filter(function(he){var Ne=1,Je=Math.ceil(S.globals.gridWidth/120),mt=he.value;void 0!==S.config.xaxis.tickAmount&&(Je=S.config.xaxis.tickAmount),X.length>Je&&(Ne=Math.floor(X.length/Je));var ln=!1,qt=!1;switch(b.tickInterval){case"years":"year"===he.unit&&(ln=!0);break;case"half_year":Ne=7,"year"===he.unit&&(ln=!0);break;case"months":Ne=1,"year"===he.unit&&(ln=!0);break;case"months_fortnight":Ne=15,"year"!==he.unit&&"month"!==he.unit||(ln=!0),30===mt&&(qt=!0);break;case"months_days":Ne=10,"month"===he.unit&&(ln=!0),30===mt&&(qt=!0);break;case"week_days":Ne=8,"month"===he.unit&&(ln=!0);break;case"days":Ne=1,"month"===he.unit&&(ln=!0);break;case"hours":"day"===he.unit&&(ln=!0);break;case"minutes_fives":mt%5!=0&&(qt=!0);break;case"seconds_tens":mt%10!=0&&(qt=!0);break;case"seconds_fives":mt%5!=0&&(qt=!0)}if("hours"===b.tickInterval||"minutes_fives"===b.tickInterval||"seconds_tens"===b.tickInterval||"seconds_fives"===b.tickInterval){if(!qt)return!0}else if((mt%Ne==0||ln)&&!qt)return!0})}},{key:"recalcDimensionsBasedOnFormat",value:function(p,f){var b=this.w,S=this.formatDates(p),D=this.removeOverlappingTS(S);b.globals.timescaleLabels=D.slice(),new Wo(this.ctx).plotCoords()}},{key:"determineInterval",value:function(p){var f=24*p,b=60*f;switch(!0){case p/365>5:this.tickInterval="years";break;case p>800:this.tickInterval="half_year";break;case p>180:this.tickInterval="months";break;case p>90:this.tickInterval="months_fortnight";break;case p>60:this.tickInterval="months_days";break;case p>30:this.tickInterval="week_days";break;case p>2:this.tickInterval="days";break;case f>2.4:this.tickInterval="hours";break;case b>15:this.tickInterval="minutes_fives";break;case b>5:this.tickInterval="minutes";break;case b>1:this.tickInterval="seconds_tens";break;case 60*b>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(p){var f=p.firstVal,b=p.currentMonth,S=p.currentYear,D=p.daysWidthOnXAxis,B=p.numberOfYears,F=f.minYear,Z=0,q=new fi(this.ctx),oe="year";if(f.minDate>1||f.minMonth>0){var ue=q.determineRemainingDaysOfYear(f.minYear,f.minMonth,f.minDate);Z=(q.determineDaysOfYear(f.minYear)-ue+1)*D,this.timeScaleArray.push({position:Z,value:F=f.minYear+1,unit:oe,year:F,month:ct.monthMod(b+1)})}else 1===f.minDate&&0===f.minMonth&&this.timeScaleArray.push({position:Z,value:F,unit:oe,year:S,month:ct.monthMod(b+1)});for(var ae=F,_e=Z,Ie=0;Ie<B;Ie++)ae++,_e=q.determineDaysOfYear(ae-1)*D+_e,this.timeScaleArray.push({position:_e,value:ae,unit:oe,year:ae,month:1})}},{key:"generateMonthScale",value:function(p){var f=p.firstVal,b=p.currentMonthDate,S=p.currentMonth,D=p.currentYear,B=p.daysWidthOnXAxis,F=p.numberOfMonths,Z=S,q=0,oe=new fi(this.ctx),ue="month",ae=0;if(f.minDate>1){q=(oe.determineDaysOfMonths(S+1,f.minYear)-b+1)*B,Z=ct.monthMod(S+1);var _e=D+ae,Ie=ct.monthMod(Z),Pe=Z;0===Z&&(ue="year",Pe=_e,Ie=1,_e+=ae+=1),this.timeScaleArray.push({position:q,value:Pe,unit:ue,year:_e,month:Ie})}else this.timeScaleArray.push({position:q,value:Z,unit:ue,year:D,month:ct.monthMod(S)});for(var ze=Z+1,We=q,st=0,bt=1;st<F;st++,bt++){0===(ze=ct.monthMod(ze))?(ue="year",ae+=1):ue="month";var X=this._getYear(D,ze,ae);We=oe.determineDaysOfMonths(ze,X)*B+We,this.timeScaleArray.push({position:We,value:0===ze?X:ze,unit:ue,year:X,month:0===ze?1:ze}),ze++}}},{key:"generateDayScale",value:function(p){var f=p.firstVal,b=p.currentMonth,S=p.currentYear,D=p.hoursWidthOnXAxis,B=p.numberOfDays,F=new fi(this.ctx),Z="day",q=f.minDate+1,oe=q,ue=function(bt,X,he){return bt>F.determineDaysOfMonths(X+1,he)&&(oe=1,Z="month",_e=X+=1),X},ae=(24-f.minHour)*D,_e=q,Ie=ue(oe,b,S);0===f.minHour&&1===f.minDate?(ae=0,_e=ct.monthMod(f.minMonth),Z="month",oe=f.minDate,B++):1!==f.minDate&&0===f.minHour&&0===f.minMinute&&(ae=0,_e=q=f.minDate,Ie=ue(oe=q,b,S)),this.timeScaleArray.push({position:ae,value:_e,unit:Z,year:this._getYear(S,Ie,0),month:ct.monthMod(Ie),day:oe});for(var Pe=ae,ze=0;ze<B;ze++){Z="day",Ie=ue(oe+=1,Ie,this._getYear(S,Ie,0));var We=this._getYear(S,Ie,0);Pe=24*D+Pe;var st=1===oe?ct.monthMod(Ie):oe;this.timeScaleArray.push({position:Pe,value:st,unit:Z,year:We,month:ct.monthMod(Ie),day:st})}}},{key:"generateHourScale",value:function(p){var f=p.firstVal,b=p.currentDate,S=p.currentMonth,D=p.currentYear,B=p.minutesWidthOnXAxis,F=p.numberOfHours,Z=new fi(this.ctx),q="hour",ue=function(Ne,Je){return Ne>Z.determineDaysOfMonths(Je+1,D)?Je+=1:Je},ae=60-(f.minMinute+f.minSecond/60),_e=ae*B,Ie=f.minHour+1,Pe=Ie+1;60===ae&&(_e=0,Pe=(Ie=f.minHour)+1);var Ne,Je,ze=b,We=ue(ze,S);this.timeScaleArray.push({position:_e,value:Ie,unit:q,day:ze,hour:Pe,year:D,month:ct.monthMod(We)});for(var st=_e,bt=0;bt<F;bt++){q="hour",Pe>=24&&(Pe=0,q="day",We=(Ne=ze+=1,Je=We,Ne>Z.determineDaysOfMonths(Je+1,D)&&(ze=1,Je+=1),{month:Je,date:ze}).month,We=ue(ze,We));var X=this._getYear(D,We,0);this.timeScaleArray.push({position:st=0===Pe&&0===bt?ae*B:60*B+st,value:0===Pe?ze:Pe,unit:q,hour:Pe,day:ze,year:X,month:ct.monthMod(We)}),Pe++}}},{key:"generateMinuteScale",value:function(p){for(var q=p.minutesWidthOnXAxis,ue=p.numberOfMinutes,ae=p.currentMinute+1,_e=p.currentDate,Ie=p.currentMonth,Pe=p.currentYear,ze=p.currentHour,We=(60-p.currentSecond-p.currentMillisecond/1e3)*p.secondsWidthOnXAxis,st=0;st<ue;st++)ae>=60&&(ae=0,24===(ze+=1)&&(ze=0)),this.timeScaleArray.push({position:We,value:ae,unit:"minute",hour:ze,minute:ae,day:_e,year:this._getYear(Pe,Ie,0),month:ct.monthMod(Ie)}),We+=q,ae++}},{key:"generateSecondScale",value:function(p){for(var q=p.secondsWidthOnXAxis,oe=p.numberOfSeconds,ue=p.currentSecond+1,ae=p.currentMinute,_e=p.currentDate,Ie=p.currentMonth,Pe=p.currentYear,ze=p.currentHour,We=(1e3-p.currentMillisecond)/1e3*q,st=0;st<oe;st++)ue>=60&&(ue=0,++ae>=60&&(ae=0,24==++ze&&(ze=0))),this.timeScaleArray.push({position:We,value:ue,unit:"second",hour:ze,minute:ae,second:ue,day:_e,year:this._getYear(Pe,Ie,0),month:ct.monthMod(Ie)}),We+=q,ue++}},{key:"createRawDateString",value:function(p,f){var b=p.year;return 0===p.month&&(p.month=1),b+="-"+("0"+p.month.toString()).slice(-2),b+="day"===p.unit?"day"===p.unit?"-"+("0"+f).slice(-2):"-01":"-"+("0"+(p.day?p.day:"1")).slice(-2),b+="hour"===p.unit?"hour"===p.unit?"T"+("0"+f).slice(-2):"T00":"T"+("0"+(p.hour?p.hour:"0")).slice(-2),b+="minute"===p.unit?":"+("0"+f).slice(-2):":"+(p.minute?("0"+p.minute).slice(-2):"00"),b+="second"===p.unit?":"+("0"+f).slice(-2):":00",this.utc&&(b+=".000Z"),b}},{key:"formatDates",value:function(p){var f=this,b=this.w;return p.map(function(S){var D=S.value.toString(),B=new fi(f.ctx),F=f.createRawDateString(S,D),Z=B.getDate(B.parseDate(F));if(f.utc||(Z=B.getDate(B.parseDateWithTimezone(F))),void 0===b.config.xaxis.labels.format){var q="dd MMM",oe=b.config.xaxis.labels.datetimeFormatter;"year"===S.unit&&(q=oe.year),"month"===S.unit&&(q=oe.month),"day"===S.unit&&(q=oe.day),"hour"===S.unit&&(q=oe.hour),"minute"===S.unit&&(q=oe.minute),"second"===S.unit&&(q=oe.second),D=B.formatDate(Z,q)}else D=B.formatDate(Z,b.config.xaxis.labels.format);return{dateString:F,position:S.position,value:D,unit:S.unit,year:S.year,month:S.month}})}},{key:"removeOverlappingTS",value:function(p){var f,b=this,S=new Wt(this.ctx),D=!1;p.length>0&&p[0].value&&p.every(function(Z){return Z.value.length===p[0].value.length})&&(D=!0,f=S.getTextRects(p[0].value).width);var B=0;return p.map(function(Z,q){if(q>0&&b.w.config.xaxis.labels.hideOverlappingLabels){var oe=D?f:S.getTextRects(p[B].value).width;return Z.position>p[B].position+oe+10?(B=q,Z):null}return Z}).filter(function(Z){return null!==Z})}},{key:"_getYear",value:function(p,f,b){return p+Math.floor(f/12)+b}}]),Re}(),Pt=function(){function Re(p,f){ee(this,Re),this.ctx=f,this.w=f.w,this.el=p}return de(Re,[{key:"setupElements",value:function(){var p=this.w.globals,f=this.w.config,b=f.chart.type;p.axisCharts=["line","area","bar","rangeBar","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].indexOf(b)>-1,p.xyCharts=["line","area","bar","rangeBar","candlestick","boxPlot","scatter","bubble"].indexOf(b)>-1,p.isBarHorizontal=("bar"===f.chart.type||"rangeBar"===f.chart.type)&&f.plotOptions.bar.horizontal,p.chartClass=".apexcharts"+p.chartID,p.dom.baseEl=this.el,p.dom.elWrap=document.createElement("div"),Wt.setAttrs(p.dom.elWrap,{id:p.chartClass.substring(1),class:"apexcharts-canvas "+p.chartClass.substring(1)}),this.el.appendChild(p.dom.elWrap),p.dom.Paper=new window.SVG.Doc(p.dom.elWrap),p.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(f.chart.offsetX,", ").concat(f.chart.offsetY,")")}),p.dom.Paper.node.style.background=f.chart.background,this.setSVGDimensions(),p.dom.elGraphical=p.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),p.dom.elAnnotations=p.dom.Paper.group().attr({class:"apexcharts-annotations"}),p.dom.elDefs=p.dom.Paper.defs(),p.dom.elLegendWrap=document.createElement("div"),p.dom.elLegendWrap.classList.add("apexcharts-legend"),p.dom.elWrap.appendChild(p.dom.elLegendWrap),p.dom.Paper.add(p.dom.elGraphical),p.dom.elGraphical.add(p.dom.elDefs)}},{key:"plotChartType",value:function(p,f){var b=this.w,S=b.config,D=b.globals,B={series:[],i:[]},F={series:[],i:[]},Z={series:[],i:[]},q={series:[],i:[]},oe={series:[],i:[]},ue={series:[],i:[]},ae={series:[],i:[]};D.series.map(function(he,Ne){var Je=0;void 0!==p[Ne].type?("column"===p[Ne].type||"bar"===p[Ne].type?(D.series.length>1&&S.plotOptions.bar.horizontal&&console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"),oe.series.push(he),oe.i.push(Ne),Je++,b.globals.columnSeries=oe.series):"area"===p[Ne].type?(F.series.push(he),F.i.push(Ne),Je++):"line"===p[Ne].type?(B.series.push(he),B.i.push(Ne),Je++):"scatter"===p[Ne].type?(Z.series.push(he),Z.i.push(Ne)):"bubble"===p[Ne].type?(q.series.push(he),q.i.push(Ne),Je++):"candlestick"===p[Ne].type?(ue.series.push(he),ue.i.push(Ne),Je++):"boxPlot"===p[Ne].type?(ae.series.push(he),ae.i.push(Ne),Je++):console.warn("You have specified an unrecognized chart type. Available types for this property are line/area/column/bar/scatter/bubble"),Je>1&&(D.comboCharts=!0)):(B.series.push(he),B.i.push(Ne))});var _e=new Ye(this.ctx,f),Ie=new _n(this.ctx,f);this.ctx.pie=new hr(this.ctx);var Pe=new Er(this.ctx);this.ctx.rangeBar=new Ti(this.ctx,f);var ze=new Hr(this.ctx),We=[];if(D.comboCharts){if(F.series.length>0&&We.push(_e.draw(F.series,"area",F.i)),oe.series.length>0)if(b.config.chart.stacked){var st=new Qt(this.ctx,f);We.push(st.draw(oe.series,oe.i))}else this.ctx.bar=new Vi(this.ctx,f),We.push(this.ctx.bar.draw(oe.series,oe.i));if(B.series.length>0&&We.push(_e.draw(B.series,"line",B.i)),ue.series.length>0&&We.push(Ie.draw(ue.series,ue.i)),ae.series.length>0&&We.push(Ie.draw(ae.series,ae.i)),Z.series.length>0){var bt=new Ye(this.ctx,f,!0);We.push(bt.draw(Z.series,"scatter",Z.i))}if(q.series.length>0){var X=new Ye(this.ctx,f,!0);We.push(X.draw(q.series,"bubble",q.i))}}else switch(S.chart.type){case"line":We=_e.draw(D.series,"line");break;case"area":We=_e.draw(D.series,"area");break;case"bar":S.chart.stacked?We=new Qt(this.ctx,f).draw(D.series):(this.ctx.bar=new Vi(this.ctx,f),We=this.ctx.bar.draw(D.series));break;case"candlestick":case"boxPlot":We=new _n(this.ctx,f).draw(D.series);break;case"rangeBar":We=this.ctx.rangeBar.draw(D.series);break;case"heatmap":We=new gi(this.ctx,f).draw(D.series);break;case"treemap":We=new Ct(this.ctx,f).draw(D.series);break;case"pie":case"donut":case"polarArea":We=this.ctx.pie.draw(D.series);break;case"radialBar":We=Pe.draw(D.series);break;case"radar":We=ze.draw(D.series);break;default:We=_e.draw(D.series)}return We}},{key:"setSVGDimensions",value:function(){var p=this.w.globals,f=this.w.config;p.svgWidth=f.chart.width,p.svgHeight=f.chart.height;var b=ct.getDimensions(this.el),S=f.chart.width.toString().split(/[0-9]+/g).pop();"%"===S?ct.isNumber(b[0])&&(0===b[0].width&&(b=ct.getDimensions(this.el.parentNode)),p.svgWidth=b[0]*parseInt(f.chart.width,10)/100):"px"!==S&&""!==S||(p.svgWidth=parseInt(f.chart.width,10));var D=f.chart.height.toString().split(/[0-9]+/g).pop();if("auto"!==p.svgHeight&&""!==p.svgHeight)if("%"===D){var B=ct.getDimensions(this.el.parentNode);p.svgHeight=B[1]*parseInt(f.chart.height,10)/100}else p.svgHeight=parseInt(f.chart.height,10);else p.svgHeight=p.axisCharts?p.svgWidth/1.61:p.svgWidth/1.2;p.svgWidth<0&&(p.svgWidth=0),p.svgHeight<0&&(p.svgHeight=0),Wt.setAttrs(p.dom.Paper.node,{width:p.svgWidth,height:p.svgHeight}),"%"!==D&&(p.dom.Paper.node.parentNode.parentNode.style.minHeight=p.svgHeight+(f.chart.sparkline.enabled?0:p.axisCharts?f.chart.parentHeightOffset:0)+"px"),p.dom.elWrap.style.width=p.svgWidth+"px",p.dom.elWrap.style.height=p.svgHeight+"px"}},{key:"shiftGraphPosition",value:function(){var p=this.w.globals;Wt.setAttrs(p.dom.elGraphical.node,{transform:"translate("+p.translateX+", "+p.translateY+")"})}},{key:"resizeNonAxisCharts",value:function(){var p=this.w,f=p.globals,b=0,S=p.config.chart.sparkline.enabled?1:15;S+=p.config.grid.padding.bottom,"top"!==p.config.legend.position&&"bottom"!==p.config.legend.position||!p.config.legend.show||p.config.legend.floating||(b=new jn(this.ctx).legendHelpers.getLegendBBox().clwh+10);var D=p.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),B=2.05*p.globals.radialSize;if(D&&!p.config.chart.sparkline.enabled){var F=ct.getBoundingClientRect(D);B=F.bottom,B=Math.max(2.05*p.globals.radialSize,F.bottom-F.top)}var q=B+f.translateY+b+S;f.dom.elLegendForeign&&f.dom.elLegendForeign.setAttribute("height",q),f.dom.elWrap.style.height=q+"px",Wt.setAttrs(f.dom.Paper.node,{height:q}),f.dom.Paper.node.parentNode.parentNode.style.minHeight=q+"px"}},{key:"coreCalculations",value:function(){new Da(this.ctx).init()}},{key:"resetGlobals",value:function(){var p=this,f=function(){return p.w.config.series.map(function(D){return[]})},b=new Kn,S=this.w.globals;b.initGlobalVars(S),S.seriesXvalues=f(),S.seriesYvalues=f()}},{key:"isMultipleY",value:function(){if(this.w.config.yaxis.constructor===Array&&this.w.config.yaxis.length>1)return this.w.globals.isMultipleYAxis=!0,!0}},{key:"xySettings",value:function(){var p=null,f=this.w;if(f.globals.axisCharts){if("back"===f.config.xaxis.crosshairs.position&&new wi(this.ctx).drawXCrosshairs(),"back"===f.config.yaxis[0].crosshairs.position&&new wi(this.ctx).drawYCrosshairs(),"datetime"===f.config.xaxis.type&&void 0===f.config.xaxis.labels.formatter){this.ctx.timeScale=new Bt(this.ctx);var b=[];isFinite(f.globals.minX)&&isFinite(f.globals.maxX)&&!f.globals.isBarHorizontal?b=this.ctx.timeScale.calculateTimeScaleTicks(f.globals.minX,f.globals.maxX):f.globals.isBarHorizontal&&(b=this.ctx.timeScale.calculateTimeScaleTicks(f.globals.minY,f.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(b)}p=new hi(this.ctx).getCalculatedRatios()}return p}},{key:"updateSourceChart",value:function(p){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:p.w.globals.minX,max:p.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var p=this,f=this.w;if(f.config.chart.brush.enabled&&"function"!=typeof f.config.chart.events.selection){var b=f.config.chart.brush.targets||[f.config.chart.brush.target];b.forEach(function(S){var D=ApexCharts.getChartByID(S);D.w.globals.brushSource=p.ctx,"function"!=typeof D.w.config.chart.events.zoomed&&(D.w.config.chart.events.zoomed=function(){p.updateSourceChart(D)}),"function"!=typeof D.w.config.chart.events.scrolled&&(D.w.config.chart.events.scrolled=function(){p.updateSourceChart(D)})}),f.config.chart.events.selection=function(S,D){b.forEach(function(B){var F=ApexCharts.getChartByID(B),Z=ct.clone(f.config.yaxis);if(f.config.chart.brush.autoScaleYaxis&&1===F.w.globals.series.length){var q=new lr(F);Z=q.autoScaleY(F,Z,D)}var oe=F.w.config.yaxis.reduce(function(ue,ae,_e){return[].concat(rn(ue),[Me(Me({},F.w.config.yaxis[_e]),{},{min:Z[0].min,max:Z[0].max})])},[]);F.ctx.updateHelpers._updateOptions({xaxis:{min:D.xaxis.min,max:D.xaxis.max},yaxis:oe},!1,!1,!1,!1)})}}}}]),Re}(),nn=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w}return de(Re,[{key:"_updateOptions",value:function(p){var f=this,b=arguments.length>1&&void 0!==arguments[1]&&arguments[1],S=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],D=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],B=arguments.length>4&&void 0!==arguments[4]&&arguments[4],F=[this.ctx];D&&(F=this.ctx.getSyncedCharts()),this.ctx.w.globals.isExecCalled&&(F=[this.ctx],this.ctx.w.globals.isExecCalled=!1),F.forEach(function(Z){var q=Z.w;return q.globals.shouldAnimate=S,b||(q.globals.resized=!0,q.globals.dataChanged=!0,S&&Z.series.getPreviousPaths()),p&&"object"===$(p)&&(Z.config=new bi(p),p=hi.extendArrayProps(Z.config,p,q),Z.w.globals.chartID!==f.ctx.w.globals.chartID&&delete p.series,q.config=ct.extend(q.config,p),B&&(q.globals.lastXAxis=p.xaxis?ct.clone(p.xaxis):[],q.globals.lastYAxis=p.yaxis?ct.clone(p.yaxis):[],q.globals.initialConfig=ct.extend({},q.config),q.globals.initialSeries=ct.clone(q.config.series))),Z.update(p)})}},{key:"_updateSeries",value:function(p,f){var b,S=this,D=arguments.length>2&&void 0!==arguments[2]&&arguments[2],B=this.w;return B.globals.shouldAnimate=f,B.globals.dataChanged=!0,f&&this.ctx.series.getPreviousPaths(),B.globals.axisCharts?(0===(b=p.map(function(F,Z){return S._extendSeries(F,Z)})).length&&(b=[{data:[]}]),B.config.series=b):B.config.series=p.slice(),D&&(B.globals.initialSeries=ct.clone(B.config.series)),this.ctx.update()}},{key:"_extendSeries",value:function(p,f){var b=this.w,S=b.config.series[f];return Me(Me({},b.config.series[f]),{},{name:p.name?p.name:S&&S.name,color:p.color?p.color:S&&S.color,type:p.type?p.type:S&&S.type,data:p.data?p.data:S&&S.data})}},{key:"toggleDataPointSelection",value:function(p,f){var b=this.w,S=null,D=".apexcharts-series[data\\:realIndex='".concat(p,"']");return b.globals.axisCharts?S=b.globals.dom.Paper.select("".concat(D," path[j='").concat(f,"'], ").concat(D," circle[j='").concat(f,"'], ").concat(D," rect[j='").concat(f,"']")).members[0]:void 0===f&&(S=b.globals.dom.Paper.select("".concat(D," path[j='").concat(p,"']")).members[0],"pie"!==b.config.chart.type&&"polarArea"!==b.config.chart.type&&"donut"!==b.config.chart.type||this.ctx.pie.pieClicked(p)),S?(new Wt(this.ctx).pathMouseDown(S,null),S.node?S.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(p){var f=this.w;if(["min","max"].forEach(function(S){void 0!==p.xaxis[S]&&(f.config.xaxis[S]=p.xaxis[S],f.globals.lastXAxis[S]=p.xaxis[S])}),p.xaxis.categories&&p.xaxis.categories.length&&(f.config.xaxis.categories=p.xaxis.categories),f.config.xaxis.convertedCatToNumeric){var b=new vi(p);p=b.convertCatToNumericXaxis(p,this.ctx)}return p}},{key:"forceYAxisUpdate",value:function(p){var f=this.w;return f.config.chart.stacked&&"100%"===f.config.chart.stackType&&(Array.isArray(p.yaxis)?p.yaxis.forEach(function(b,S){p.yaxis[S].min=0,p.yaxis[S].max=100}):(p.yaxis.min=0,p.yaxis.max=100)),p}},{key:"revertDefaultAxisMinMax",value:function(p){var f=this,b=this.w,S=b.globals.lastXAxis,D=b.globals.lastYAxis;p&&p.xaxis&&(S=p.xaxis),p&&p.yaxis&&(D=p.yaxis),b.config.xaxis.min=S.min,b.config.xaxis.max=S.max,b.config.yaxis.map(function(F,Z){b.globals.zoomed||void 0!==D[Z]?function(F){void 0!==D[F]&&(b.config.yaxis[F].min=D[F].min,b.config.yaxis[F].max=D[F].max)}(Z):void 0!==f.ctx.opts.yaxis[Z]&&(F.min=f.ctx.opts.yaxis[Z].min,F.max=f.ctx.opts.yaxis[Z].max)})}}]),Re}();$e="undefined"!=typeof window?window:void 0,dt=function(Re,p){var f=(void 0!==this?this:Re).SVG=function(X){if(f.supported)return X=new f.Doc(X),f.parser.draw||f.prepare(),X};if(f.ns="http://www.w3.org/2000/svg",f.xmlns="http://www.w3.org/2000/xmlns/",f.xlink="http://www.w3.org/1999/xlink",f.svgjs="http://svgjs.com/svgjs",f.supported=!0,!f.supported)return!1;f.did=1e3,f.eid=function(X){return"Svgjs"+oe(X)+f.did++},f.create=function(X){var he=p.createElementNS(this.ns,X);return he.setAttribute("id",this.eid(X)),he},f.extend=function(){var X,he;he=(X=[].slice.call(arguments)).pop();for(var Ne=X.length-1;Ne>=0;Ne--)if(X[Ne])for(var Je in he)X[Ne].prototype[Je]=he[Je];f.Set&&f.Set.inherit&&f.Set.inherit()},f.invent=function(X){var he="function"==typeof X.create?X.create:function(){this.constructor.call(this,f.create(X.create))};return X.inherit&&(he.prototype=new X.inherit),X.extend&&f.extend(he,X.extend),X.construct&&f.extend(X.parent||f.Container,X.construct),he},f.adopt=function(X){return X?X.instance?X.instance:((he="svg"==X.nodeName?X.parentNode instanceof Re.SVGElement?new f.Nested:new f.Doc:"linearGradient"==X.nodeName?new f.Gradient("linear"):"radialGradient"==X.nodeName?new f.Gradient("radial"):f[oe(X.nodeName)]?new(f[oe(X.nodeName)]):new f.Element(X)).type=X.nodeName,he.node=X,X.instance=he,he instanceof f.Doc&&he.namespace().defs(),he.setData(JSON.parse(X.getAttribute("svgjs:data"))||{}),he):null;var he},f.prepare=function(){var X=p.getElementsByTagName("body")[0],he=(X?new f.Doc(X):f.adopt(p.documentElement).nested()).size(2,0);f.parser={body:X||p.documentElement,draw:he.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").node,poly:he.polyline().node,path:he.path().node,native:f.create("svg")}},f.parser={native:f.create("svg")},p.addEventListener("DOMContentLoaded",function(){f.parser.draw||f.prepare()},!1),f.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},f.utils={map:function(X,he){for(var Ne=X.length,Je=[],mt=0;mt<Ne;mt++)Je.push(he(X[mt]));return Je},filter:function(X,he){for(var Ne=X.length,Je=[],mt=0;mt<Ne;mt++)he(X[mt])&&Je.push(X[mt]);return Je},filterSVGElements:function(X){return this.filter(X,function(he){return he instanceof Re.SVGElement})}},f.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},f.Color=function(X){var he,Ne;this.r=0,this.g=0,this.b=0,X&&("string"==typeof X?f.regex.isRgb.test(X)?(he=f.regex.rgb.exec(X.replace(f.regex.whitespace,"")),this.r=parseInt(he[1]),this.g=parseInt(he[2]),this.b=parseInt(he[3])):f.regex.isHex.test(X)&&(he=f.regex.hex.exec(4==(Ne=X).length?["#",Ne.substring(1,2),Ne.substring(1,2),Ne.substring(2,3),Ne.substring(2,3),Ne.substring(3,4),Ne.substring(3,4)].join(""):Ne),this.r=parseInt(he[1],16),this.g=parseInt(he[2],16),this.b=parseInt(he[3],16)):"object"===$(X)&&(this.r=X.r,this.g=X.g,this.b=X.b))},f.extend(f.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+ue(this.r)+ue(this.g)+ue(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(X){return this.destination=new f.Color(X),this},at:function(X){return this.destination?new f.Color({r:~~(this.r+(this.destination.r-this.r)*(X=X<0?0:X>1?1:X)),g:~~(this.g+(this.destination.g-this.g)*X),b:~~(this.b+(this.destination.b-this.b)*X)}):this}}),f.Color.test=function(X){return f.regex.isHex.test(X+="")||f.regex.isRgb.test(X)},f.Color.isRgb=function(X){return X&&"number"==typeof X.r&&"number"==typeof X.g&&"number"==typeof X.b},f.Color.isColor=function(X){return f.Color.isRgb(X)||f.Color.test(X)},f.Array=function(X,he){0==(X=(X||[]).valueOf()).length&&he&&(X=he.valueOf()),this.value=this.parse(X)},f.extend(f.Array,{toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(X){return X=X.valueOf(),Array.isArray(X)?X:this.split(X)}}),f.PointArray=function(X,he){f.Array.call(this,X,he||[[0,0]])},f.PointArray.prototype=new f.Array,f.PointArray.prototype.constructor=f.PointArray;for(var b={M:function(X,he,Ne){return he.x=Ne.x=X[0],he.y=Ne.y=X[1],["M",he.x,he.y]},L:function(X,he){return he.x=X[0],he.y=X[1],["L",X[0],X[1]]},H:function(X,he){return he.x=X[0],["H",X[0]]},V:function(X,he){return he.y=X[0],["V",X[0]]},C:function(X,he){return he.x=X[4],he.y=X[5],["C",X[0],X[1],X[2],X[3],X[4],X[5]]},Q:function(X,he){return he.x=X[2],he.y=X[3],["Q",X[0],X[1],X[2],X[3]]},Z:function(X,he,Ne){return he.x=Ne.x,he.y=Ne.y,["Z"]}},S="mlhvqtcsaz".split(""),D=0,B=S.length;D<B;++D)b[S[D]]=function(X){return function(he,Ne,Je){if("H"==X)he[0]=he[0]+Ne.x;else if("V"==X)he[0]=he[0]+Ne.y;else if("A"==X)he[5]=he[5]+Ne.x,he[6]=he[6]+Ne.y;else for(var mt=0,ln=he.length;mt<ln;++mt)he[mt]=he[mt]+(mt%2?Ne.y:Ne.x);return b[X](he,Ne,Je)}}(S[D].toUpperCase());f.PathArray=function(X,he){f.Array.call(this,X,he||[["M",0,0]])},f.PathArray.prototype=new f.Array,f.PathArray.prototype.constructor=f.PathArray,f.extend(f.PathArray,{toString:function(){return function(X){for(var he=0,Ne=X.length,Je="";he<Ne;he++)Je+=X[he][0],null!=X[he][1]&&(Je+=X[he][1],null!=X[he][2]&&(Je+=" ",Je+=X[he][2],null!=X[he][3]&&(Je+=" ",Je+=X[he][3],Je+=" ",Je+=X[he][4],null!=X[he][5]&&(Je+=" ",Je+=X[he][5],Je+=" ",Je+=X[he][6],null!=X[he][7]&&(Je+=" ",Je+=X[he][7])))));return Je+" "}(this.value)},move:function(X,he){return this.bbox(),this},at:function(X){if(!this.destination)return this;for(var he=this.value,Ne=this.destination.value,Je=[],mt=new f.PathArray,ln=0,qt=he.length;ln<qt;ln++){Je[ln]=[he[ln][0]];for(var un=1,Vn=he[ln].length;un<Vn;un++)Je[ln][un]=he[ln][un]+(Ne[ln][un]-he[ln][un])*X;"A"===Je[ln][0]&&(Je[ln][4]=+(0!=Je[ln][4]),Je[ln][5]=+(0!=Je[ln][5]))}return mt.value=Je,mt},parse:function(X){if(X instanceof f.PathArray)return X.valueOf();var he,Ne={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};X="string"==typeof X?X.replace(f.regex.numbersWithDots,Z).replace(f.regex.pathLetters," $& ").replace(f.regex.hyphen,"$1 -").trim().split(f.regex.delimiter):X.reduce(function(Vn,zn){return[].concat.call(Vn,zn)},[]);var Je=[],mt=new f.Point,ln=new f.Point,qt=0,un=X.length;do{f.regex.isPathLetter.test(X[qt])?(he=X[qt],++qt):"M"==he?he="L":"m"==he&&(he="l"),Je.push(b[he].call(null,X.slice(qt,qt+=Ne[he.toUpperCase()]).map(parseFloat),mt,ln))}while(un>qt);return Je},bbox:function(){return f.parser.draw||f.prepare(),f.parser.path.setAttribute("d",this.toString()),f.parser.path.getBBox()}}),f.Number=f.invent({create:function(X,he){this.value=0,this.unit=he||"","number"==typeof X?this.value=isNaN(X)?0:isFinite(X)?X:X<0?-34e37:34e37:"string"==typeof X?(he=X.match(f.regex.numberAndUnit))&&(this.value=parseFloat(he[1]),"%"==he[5]?this.value/=100:"s"==he[5]&&(this.value*=1e3),this.unit=he[5]):X instanceof f.Number&&(this.value=X.valueOf(),this.unit=X.unit)},extend:{toString:function(){return("%"==this.unit?~~(1e8*this.value)/1e6:"s"==this.unit?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(X){return X=new f.Number(X),new f.Number(this+X,this.unit||X.unit)},minus:function(X){return X=new f.Number(X),new f.Number(this-X,this.unit||X.unit)},times:function(X){return X=new f.Number(X),new f.Number(this*X,this.unit||X.unit)},divide:function(X){return X=new f.Number(X),new f.Number(this/X,this.unit||X.unit)},to:function(X){var he=new f.Number(this);return"string"==typeof X&&(he.unit=X),he},morph:function(X){return this.destination=new f.Number(X),X.relative&&(this.destination.value+=this.value),this},at:function(X){return this.destination?new f.Number(this.destination).minus(this).times(X).plus(this):this}}}),f.Element=f.invent({create:function(X){this._stroke=f.defaults.attrs.stroke,this._event=null,this.dom={},(this.node=X)&&(this.type=X.nodeName,this.node.instance=this,this._stroke=X.getAttribute("stroke")||this._stroke)},extend:{x:function(X){return this.attr("x",X)},y:function(X){return this.attr("y",X)},cx:function(X){return null==X?this.x()+this.width()/2:this.x(X-this.width()/2)},cy:function(X){return null==X?this.y()+this.height()/2:this.y(X-this.height()/2)},move:function(X,he){return this.x(X).y(he)},center:function(X,he){return this.cx(X).cy(he)},width:function(X){return this.attr("width",X)},height:function(X){return this.attr("height",X)},size:function(X,he){var Ne=ae(this,X,he);return this.width(new f.Number(Ne.width)).height(new f.Number(Ne.height))},clone:function(X){this.writeDataToDom();var he=Pe(this.node.cloneNode(!0));return X?X.add(he):this.after(he),he},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(X){return this.after(X).remove(),X},addTo:function(X){return X.put(this)},putIn:function(X){return X.add(this)},id:function(X){return this.attr("id",X)},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return"none"!=this.style("display")},toString:function(){return this.attr("id")},classes:function(){var X=this.attr("class");return null==X?[]:X.trim().split(f.regex.delimiter)},hasClass:function(X){return-1!=this.classes().indexOf(X)},addClass:function(X){if(!this.hasClass(X)){var he=this.classes();he.push(X),this.attr("class",he.join(" "))}return this},removeClass:function(X){return this.hasClass(X)&&this.attr("class",this.classes().filter(function(he){return he!=X}).join(" ")),this},toggleClass:function(X){return this.hasClass(X)?this.removeClass(X):this.addClass(X)},reference:function(X){return f.get(this.attr(X))},parent:function(X){var he=this;if(!he.node.parentNode)return null;if(he=f.adopt(he.node.parentNode),!X)return he;for(;he&&he.node instanceof Re.SVGElement;){if("string"==typeof X?he.matches(X):he instanceof X)return he;if(!he.node.parentNode||"#document"==he.node.parentNode.nodeName)return null;he=f.adopt(he.node.parentNode)}},doc:function(){return this instanceof f.Doc?this:this.parent(f.Doc)},parents:function(X){var he=[],Ne=this;do{if(!(Ne=Ne.parent(X))||!Ne.node)break;he.push(Ne)}while(Ne.parent);return he},matches:function(X){return((he=this.node).matches||he.matchesSelector||he.msMatchesSelector||he.mozMatchesSelector||he.webkitMatchesSelector||he.oMatchesSelector).call(he,X);var he},native:function(){return this.node},svg:function(X){var he=p.createElement("svg");if(!(X&&this instanceof f.Parent))return he.appendChild(X=p.createElement("svg")),this.writeDataToDom(),X.appendChild(this.node.cloneNode(!0)),he.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");he.innerHTML="<svg>"+X.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var Ne=0,Je=he.firstChild.childNodes.length;Ne<Je;Ne++)this.node.appendChild(he.firstChild.firstChild);return this},writeDataToDom:function(){return(this.each||this.lines)&&(this.each?this:this.lines()).each(function(){this.writeDataToDom()}),this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(X){return this.dom=X,this},is:function(X){return this instanceof X}}}),f.easing={"-":function(X){return X},"<>":function(X){return-Math.cos(X*Math.PI)/2+.5},">":function(X){return Math.sin(X*Math.PI/2)},"<":function(X){return 1-Math.cos(X*Math.PI/2)}},f.morph=function(X){return function(he,Ne){return new f.MorphObj(he,Ne).at(X)}},f.Situation=f.invent({create:function(X){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new f.Number(X.duration).valueOf(),this.delay=new f.Number(X.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=X.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),f.FX=f.invent({create:function(X){this._target=X,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(X,he,Ne){"object"===$(X)&&(he=X.ease,Ne=X.delay,X=X.duration);var Je=new f.Situation({duration:X||1e3,delay:Ne||0,ease:f.easing[he||"-"]||he});return this.queue(Je),this},target:function(X){return X&&X instanceof f.Element?(this._target=X,this):this._target},timeToAbsPos:function(X){return(X-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(X){return this.situation.duration/this._speed*X+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=Re.requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){Re.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(X){return("function"==typeof X||X instanceof f.Situation)&&this.situations.push(X),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof f.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var X,he=this.situation;if(he.init)return this;for(var Ne in he.animations){X=this.target()[Ne](),Array.isArray(X)||(X=[X]),Array.isArray(he.animations[Ne])||(he.animations[Ne]=[he.animations[Ne]]);for(var Je=X.length;Je--;)he.animations[Ne][Je]instanceof f.Number&&(X[Je]=new f.Number(X[Je])),he.animations[Ne][Je]=X[Je].morph(he.animations[Ne][Je])}for(var Ne in he.attrs)he.attrs[Ne]=new f.MorphObj(this.target().attr(Ne),he.attrs[Ne]);for(var Ne in he.styles)he.styles[Ne]=new f.MorphObj(this.target().style(Ne),he.styles[Ne]);return he.initialTransformation=this.target().matrixify(),he.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(X,he){var Ne=this.active;return this.active=!1,he&&this.clearQueue(),X&&this.situation&&(!Ne&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},after:function(X){var he=this.last();return this.target().on("finished.fx",function Ne(Je){Je.detail.situation==he&&(X.call(this,he),this.off("finished.fx",Ne))}),this._callStart()},during:function(X){var he=this.last(),Ne=function(Je){Je.detail.situation==he&&X.call(this,Je.detail.pos,f.morph(Je.detail.pos),Je.detail.eased,he)};return this.target().off("during.fx",Ne).on("during.fx",Ne),this.after(function(){this.off("during.fx",Ne)}),this._callStart()},afterAll:function(X){var he=function Ne(Je){X.call(this),this.off("allfinished.fx",Ne)};return this.target().off("allfinished.fx",he).on("allfinished.fx",he),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(X,he,Ne){return this.last()[Ne||"animations"][X]=he,this._callStart()},step:function(X){var he,Ne,Je;X||(this.absPos=this.timeToAbsPos(+new Date)),!1!==this.situation.loops?(he=Math.max(this.absPos,0),Ne=Math.floor(he),!0===this.situation.loops||Ne<this.situation.loops?(this.pos=he-Ne,Je=this.situation.loop,this.situation.loop=Ne):(this.absPos=this.situation.loops,this.pos=1,Je=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=Boolean((this.situation.loop-Je)%2))):(this.absPos=Math.min(this.absPos,1),this.pos=this.absPos),this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var mt=this.situation.ease(this.pos);for(var ln in this.situation.once)ln>this.lastPos&&ln<=mt&&(this.situation.once[ln].call(this.target(),this.pos,mt),delete this.situation.once[ln]);return this.active&&this.target().fire("during",{pos:this.pos,eased:mt,fx:this,situation:this.situation}),this.situation?(this.eachAt(),1==this.pos&&!this.situation.reversed||this.situation.reversed&&0==this.pos?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=mt,this):this},eachAt:function(){var X,he=this,Ne=this.target(),Je=this.situation;for(var mt in Je.animations)X=[].concat(Je.animations[mt]).map(function(un){return"string"!=typeof un&&un.at?un.at(Je.ease(he.pos),he.pos):un}),Ne[mt].apply(Ne,X);for(var mt in Je.attrs)X=[mt].concat(Je.attrs[mt]).map(function(Vn){return"string"!=typeof Vn&&Vn.at?Vn.at(Je.ease(he.pos),he.pos):Vn}),Ne.attr.apply(Ne,X);for(var mt in Je.styles)X=[mt].concat(Je.styles[mt]).map(function(Vn){return"string"!=typeof Vn&&Vn.at?Vn.at(Je.ease(he.pos),he.pos):Vn}),Ne.style.apply(Ne,X);if(Je.transforms.length){X=Je.initialTransformation,mt=0;for(var ln=Je.transforms.length;mt<ln;mt++){var qt=Je.transforms[mt];qt instanceof f.Matrix?X=qt.relative?X.multiply((new f.Matrix).morph(qt).at(Je.ease(this.pos))):X.morph(qt).at(Je.ease(this.pos)):(qt.relative||qt.undo(X.extract()),X=X.multiply(qt.at(Je.ease(this.pos))))}Ne.matrix(X)}return this},once:function(X,he,Ne){var Je=this.last();return Ne||(X=Je.ease(X)),Je.once[X]=he,this},_callStart:function(){return setTimeout(function(){this.start()}.bind(this),0),this}},parent:f.Element,construct:{animate:function(X,he,Ne){return(this.fx||(this.fx=new f.FX(this))).animate(X,he,Ne)},delay:function(X){return(this.fx||(this.fx=new f.FX(this))).delay(X)},stop:function(X,he){return this.fx&&this.fx.stop(X,he),this},finish:function(){return this.fx&&this.fx.finish(),this}}}),f.MorphObj=f.invent({create:function(X,he){return f.Color.isColor(he)?new f.Color(X).morph(he):f.regex.delimiter.test(X)?f.regex.pathLetters.test(X)?new f.PathArray(X).morph(he):new f.Array(X).morph(he):f.regex.numberAndUnit.test(he)?new f.Number(X).morph(he):(this.value=X,void(this.destination=he))},extend:{at:function(X,he){return he<1?this.value:this.destination},valueOf:function(){return this.value}}}),f.extend(f.FX,{attr:function(X,he,Ne){if("object"===$(X))for(var Je in X)this.attr(Je,X[Je]);else this.add(X,he,"attrs");return this},plot:function(X,he,Ne,Je){return 4==arguments.length?this.plot([X,he,Ne,Je]):this.add("plot",new(this.target().morphArray)(X))}}),f.Box=f.invent({create:function(X,he,Ne,Je){if(!("object"!==$(X)||X instanceof f.Element))return f.Box.call(this,null!=X.left?X.left:X.x,null!=X.top?X.top:X.y,X.width,X.height);4==arguments.length&&(this.x=X,this.y=he,this.width=Ne,this.height=Je),ze(this)}}),f.BBox=f.invent({create:function(X){if(f.Box.apply(this,[].slice.call(arguments)),X instanceof f.Element){var he;try{if(!p.documentElement.contains){for(var Ne=X.node;Ne.parentNode;)Ne=Ne.parentNode;if(Ne!=p)throw new Error("Element not in the dom")}he=X.node.getBBox()}catch(mt){if(X instanceof f.Shape){f.parser.draw||f.prepare();var Je=X.clone(f.parser.draw.instance).show();he=Je.node.getBBox(),Je.remove()}else he={x:X.node.clientLeft,y:X.node.clientTop,width:X.node.clientWidth,height:X.node.clientHeight}}f.Box.call(this,he)}},inherit:f.Box,parent:f.Element,construct:{bbox:function(){return new f.BBox(this)}}}),f.BBox.prototype.constructor=f.BBox,f.Matrix=f.invent({create:function(X){var he=Ie([1,0,0,1,0,0]);X=null===X?he:X instanceof f.Element?X.matrixify():"string"==typeof X?Ie(X.split(f.regex.delimiter).map(parseFloat)):6==arguments.length?Ie([].slice.call(arguments)):Array.isArray(X)?Ie(X):X&&"object"===$(X)?X:he;for(var Ne=st.length-1;Ne>=0;--Ne)this[st[Ne]]=null!=X[st[Ne]]?X[st[Ne]]:he[st[Ne]]},extend:{extract:function(){var X=_e(this,0,1);_e(this,1,0);var he=180/Math.PI*Math.atan2(X.y,X.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(he*Math.PI/180)+this.f*Math.sin(he*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(he*Math.PI/180)+this.e*Math.sin(-he*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),rotation:he,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new f.Matrix(this)}},clone:function(){return new f.Matrix(this)},morph:function(X){return this.destination=new f.Matrix(X),this},multiply:function(X){return new f.Matrix(this.native().multiply((he=X,he instanceof f.Matrix||(he=new f.Matrix(he)),he).native()));var he},inverse:function(){return new f.Matrix(this.native().inverse())},translate:function(X,he){return new f.Matrix(this.native().translate(X||0,he||0))},native:function(){for(var X=f.parser.native.createSVGMatrix(),he=st.length-1;he>=0;he--)X[st[he]]=this[st[he]];return X},toString:function(){return"matrix("+We(this.a)+","+We(this.b)+","+We(this.c)+","+We(this.d)+","+We(this.e)+","+We(this.f)+")"}},parent:f.Element,construct:{ctm:function(){return new f.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof f.Nested){var X=this.rect(1,1),he=X.node.getScreenCTM();return X.remove(),new f.Matrix(he)}return new f.Matrix(this.node.getScreenCTM())}}}),f.Point=f.invent({create:function(X,he){var Ne;Ne=Array.isArray(X)?{x:X[0],y:X[1]}:"object"===$(X)?{x:X.x,y:X.y}:null!=X?{x:X,y:null!=he?he:X}:{x:0,y:0},this.x=Ne.x,this.y=Ne.y},extend:{clone:function(){return new f.Point(this)},morph:function(X,he){return this.destination=new f.Point(X,he),this}}}),f.extend(f.Element,{point:function(X,he){return new f.Point(X,he).transform(this.screenCTM().inverse())}}),f.extend(f.Element,{attr:function(X,he,Ne){if(null==X){for(X={},Ne=(he=this.node.attributes).length-1;Ne>=0;Ne--)X[he[Ne].nodeName]=f.regex.isNumber.test(he[Ne].nodeValue)?parseFloat(he[Ne].nodeValue):he[Ne].nodeValue;return X}if("object"===$(X))for(var Je in X)this.attr(Je,X[Je]);else if(null===he)this.node.removeAttribute(X);else{if(null==he)return null==(he=this.node.getAttribute(X))?f.defaults.attrs[X]:f.regex.isNumber.test(he)?parseFloat(he):he;"stroke-width"==X?this.attr("stroke",parseFloat(he)>0?this._stroke:null):"stroke"==X&&(this._stroke=he),"fill"!=X&&"stroke"!=X||(f.regex.isImage.test(he)&&(he=this.doc().defs().image(he,0,0)),he instanceof f.Image&&(he=this.doc().defs().pattern(0,0,function(){this.add(he)}))),"number"==typeof he?he=new f.Number(he):f.Color.isColor(he)?he=new f.Color(he):Array.isArray(he)&&(he=new f.Array(he)),"leading"==X?this.leading&&this.leading(he):"string"==typeof Ne?this.node.setAttributeNS(Ne,X,he.toString()):this.node.setAttribute(X,he.toString()),!this.rebuild||"font-size"!=X&&"x"!=X||this.rebuild(X,he)}return this}}),f.extend(f.Element,{transform:function(X,he){var Ne;return"object"!==$(X)?(Ne=new f.Matrix(this).extract(),"string"==typeof X?Ne[X]:Ne):(Ne=new f.Matrix(this),he=!!he||!!X.relative,null!=X.a&&(Ne=he?Ne.multiply(new f.Matrix(X)):new f.Matrix(X)),this.attr("transform",Ne))}}),f.extend(f.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(f.regex.transforms).slice(0,-1).map(function(X){var he=X.trim().split("(");return[he[0],he[1].split(f.regex.delimiter).map(function(Ne){return parseFloat(Ne)})]}).reduce(function(X,he){return"matrix"==he[0]?X.multiply(Ie(he[1])):X[he[0]].apply(X,he[1])},new f.Matrix)},toParent:function(X){if(this==X)return this;var he=this.screenCTM(),Ne=X.screenCTM().inverse();return this.addTo(X).untransform().transform(Ne.multiply(he)),this},toDoc:function(){return this.toParent(this.doc())}}),f.Transformation=f.invent({create:function(X,he){if(arguments.length>1&&"boolean"!=typeof he)return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(X))for(var Ne=0,Je=this.arguments.length;Ne<Je;++Ne)this[this.arguments[Ne]]=X[Ne];else if(X&&"object"===$(X))for(Ne=0,Je=this.arguments.length;Ne<Je;++Ne)this[this.arguments[Ne]]=X[this.arguments[Ne]];this.inversed=!1,!0===he&&(this.inversed=!0)}}),f.Translate=f.invent({parent:f.Matrix,inherit:f.Transformation,create:function(X,he){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),f.extend(f.Element,{style:function(X,he){if(0==arguments.length)return this.node.style.cssText||"";if(arguments.length<2)if("object"===$(X))for(var Ne in X)this.style(Ne,X[Ne]);else{if(!f.regex.isCss.test(X))return this.node.style[q(X)];for(X=X.split(/\s*;\s*/).filter(function(Je){return!!Je}).map(function(Je){return Je.split(/\s*:\s*/)});he=X.pop();)this.style(he[0],he[1])}else this.node.style[q(X)]=null===he||f.regex.isBlank.test(he)?"":he;return this}}),f.Parent=f.invent({create:function(X){this.constructor.call(this,X)},inherit:f.Element,extend:{children:function(){return f.utils.map(f.utils.filterSVGElements(this.node.childNodes),function(X){return f.adopt(X)})},add:function(X,he){return null==he?this.node.appendChild(X.node):X.node!=this.node.childNodes[he]&&this.node.insertBefore(X.node,this.node.childNodes[he]),this},put:function(X,he){return this.add(X,he),X},has:function(X){return this.index(X)>=0},index:function(X){return[].slice.call(this.node.childNodes).indexOf(X.node)},get:function(X){return f.adopt(this.node.childNodes[X])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(X,he){for(var Ne=this.children(),Je=0,mt=Ne.length;Je<mt;Je++)Ne[Je]instanceof f.Element&&X.apply(Ne[Je],[Je,Ne]),he&&Ne[Je]instanceof f.Container&&Ne[Je].each(X,he);return this},removeElement:function(X){return this.node.removeChild(X.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),f.extend(f.Parent,{ungroup:function(X,he){return 0===he||this instanceof f.Defs||this.node==f.parser.draw||(X=X||(this instanceof f.Doc?this:this.parent(f.Parent)),he=he||1/0,this.each(function(){return this instanceof f.Defs?this:this instanceof f.Parent?this.ungroup(X,he-1):this.toParent(X)}),this.node.firstChild||this.remove()),this},flatten:function(X,he){return this.ungroup(X,he)}}),f.Container=f.invent({create:function(X){this.constructor.call(this,X)},inherit:f.Parent}),f.ViewBox=f.invent({parent:f.Container,construct:{}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(X){f.Element.prototype[X]=function(he){return f.on(this.node,X,he),this}}),f.listeners=[],f.handlerMap=[],f.listenerId=0,f.on=function(X,he,Ne,Je,mt){var ln=Ne.bind(Je||X.instance||X),qt=(f.handlerMap.indexOf(X)+1||f.handlerMap.push(X))-1,un=he.split(".")[0],Vn=he.split(".")[1]||"*";f.listeners[qt]=f.listeners[qt]||{},f.listeners[qt][un]=f.listeners[qt][un]||{},f.listeners[qt][un][Vn]=f.listeners[qt][un][Vn]||{},Ne._svgjsListenerId||(Ne._svgjsListenerId=++f.listenerId),f.listeners[qt][un][Vn][Ne._svgjsListenerId]=ln,X.addEventListener(un,ln,mt||{passive:!0})},f.off=function(X,he,Ne){var Je=f.handlerMap.indexOf(X),mt=he&&he.split(".")[0],ln=he&&he.split(".")[1],qt="";if(-1!=Je)if(Ne){if("function"==typeof Ne&&(Ne=Ne._svgjsListenerId),!Ne)return;f.listeners[Je][mt]&&f.listeners[Je][mt][ln||"*"]&&(X.removeEventListener(mt,f.listeners[Je][mt][ln||"*"][Ne],!1),delete f.listeners[Je][mt][ln||"*"][Ne])}else if(ln&&mt){if(f.listeners[Je][mt]&&f.listeners[Je][mt][ln]){for(var un in f.listeners[Je][mt][ln])f.off(X,[mt,ln].join("."),un);delete f.listeners[Je][mt][ln]}}else if(ln)for(var Vn in f.listeners[Je])for(var qt in f.listeners[Je][Vn])ln===qt&&f.off(X,[Vn,ln].join("."));else if(mt){if(f.listeners[Je][mt]){for(var qt in f.listeners[Je][mt])f.off(X,[mt,qt].join("."));delete f.listeners[Je][mt]}}else{for(var Vn in f.listeners[Je])f.off(X,Vn);delete f.listeners[Je],delete f.handlerMap[Je]}},f.extend(f.Element,{on:function(X,he,Ne,Je){return f.on(this.node,X,he,Ne,Je),this},off:function(X,he){return f.off(this.node,X,he),this},fire:function(X,he){return this.node.dispatchEvent(X instanceof Re.Event?X:X=new f.CustomEvent(X,{detail:he,cancelable:!0})),this._event=X,this},event:function(){return this._event}}),f.Defs=f.invent({create:"defs",inherit:f.Container}),f.G=f.invent({create:"g",inherit:f.Container,extend:{x:function(X){return null==X?this.transform("x"):this.transform({x:X-this.x()},!0)}},construct:{group:function(){return this.put(new f.G)}}}),f.Doc=f.invent({create:function(X){X&&("svg"==(X="string"==typeof X?p.getElementById(X):X).nodeName?this.constructor.call(this,X):(this.constructor.call(this,f.create("svg")),X.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:f.Container,extend:{namespace:function(){return this.attr({xmlns:f.ns,version:"1.1"}).attr("xmlns:xlink",f.xlink,f.xmlns).attr("xmlns:svgjs",f.svgjs,f.xmlns)},defs:function(){var X;return this._defs||(this._defs=(X=this.node.getElementsByTagName("defs")[0])?f.adopt(X):new f.Defs,this.node.appendChild(this._defs.node)),this._defs},parent:function(){return this.node.parentNode&&"#document"!=this.node.parentNode.nodeName?this.node.parentNode:null},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,f.parser.draw&&!f.parser.draw.parentNode&&this.node.appendChild(f.parser.draw),this},clone:function(X){this.writeDataToDom();var he=this.node,Ne=Pe(he.cloneNode(!0));return X?(X.node||X).appendChild(Ne.node):he.parentNode.insertBefore(Ne.node,he.nextSibling),Ne}}}),f.extend(f.Element,{}),f.Gradient=f.invent({create:function(X){this.constructor.call(this,f.create(X+"Gradient")),this.type=X},inherit:f.Container,extend:{at:function(X,he,Ne){return this.put(new f.Stop).update(X,he,Ne)},update:function(X){return this.clear(),"function"==typeof X&&X.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(X,he,Ne){return"transform"==X&&(X="gradientTransform"),f.Container.prototype.attr.call(this,X,he,Ne)}},construct:{gradient:function(X,he){return this.defs().gradient(X,he)}}}),f.extend(f.Gradient,f.FX,{from:function(X,he){return this.attr("radial"==(this._target||this).type?{fx:new f.Number(X),fy:new f.Number(he)}:{x1:new f.Number(X),y1:new f.Number(he)})},to:function(X,he){return this.attr("radial"==(this._target||this).type?{cx:new f.Number(X),cy:new f.Number(he)}:{x2:new f.Number(X),y2:new f.Number(he)})}}),f.extend(f.Defs,{gradient:function(X,he){return this.put(new f.Gradient(X)).update(he)}}),f.Stop=f.invent({create:"stop",inherit:f.Element,extend:{update:function(X){return("number"==typeof X||X instanceof f.Number)&&(X={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=X.opacity&&this.attr("stop-opacity",X.opacity),null!=X.color&&this.attr("stop-color",X.color),null!=X.offset&&this.attr("offset",new f.Number(X.offset)),this}}}),f.Pattern=f.invent({create:"pattern",inherit:f.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(X){return this.clear(),"function"==typeof X&&X.call(this,this),this},toString:function(){return this.fill()},attr:function(X,he,Ne){return"transform"==X&&(X="patternTransform"),f.Container.prototype.attr.call(this,X,he,Ne)}},construct:{pattern:function(X,he,Ne){return this.defs().pattern(X,he,Ne)}}}),f.extend(f.Defs,{pattern:function(X,he,Ne){return this.put(new f.Pattern).update(Ne).attr({x:0,y:0,width:X,height:he,patternUnits:"userSpaceOnUse"})}}),f.Shape=f.invent({create:function(X){this.constructor.call(this,X)},inherit:f.Element}),f.Symbol=f.invent({create:"symbol",inherit:f.Container,construct:{symbol:function(){return this.put(new f.Symbol)}}}),f.Use=f.invent({create:"use",inherit:f.Shape,extend:{element:function(X,he){return this.attr("href",(he||"")+"#"+X,f.xlink)}},construct:{use:function(X,he){return this.put(new f.Use).element(X,he)}}}),f.Rect=f.invent({create:"rect",inherit:f.Shape,construct:{rect:function(X,he){return this.put(new f.Rect).size(X,he)}}}),f.Circle=f.invent({create:"circle",inherit:f.Shape,construct:{circle:function(X){return this.put(new f.Circle).rx(new f.Number(X).divide(2)).move(0,0)}}}),f.extend(f.Circle,f.FX,{rx:function(X){return this.attr("r",X)},ry:function(X){return this.rx(X)}}),f.Ellipse=f.invent({create:"ellipse",inherit:f.Shape,construct:{ellipse:function(X,he){return this.put(new f.Ellipse).size(X,he).move(0,0)}}}),f.extend(f.Ellipse,f.Rect,f.FX,{rx:function(X){return this.attr("rx",X)},ry:function(X){return this.attr("ry",X)}}),f.extend(f.Circle,f.Ellipse,{x:function(X){return null==X?this.cx()-this.rx():this.cx(X+this.rx())},y:function(X){return null==X?this.cy()-this.ry():this.cy(X+this.ry())},cx:function(X){return null==X?this.attr("cx"):this.attr("cx",X)},cy:function(X){return null==X?this.attr("cy"):this.attr("cy",X)},width:function(X){return null==X?2*this.rx():this.rx(new f.Number(X).divide(2))},height:function(X){return null==X?2*this.ry():this.ry(new f.Number(X).divide(2))},size:function(X,he){var Ne=ae(this,X,he);return this.rx(new f.Number(Ne.width).divide(2)).ry(new f.Number(Ne.height).divide(2))}}),f.Line=f.invent({create:"line",inherit:f.Shape,extend:{array:function(){return new f.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(X,he,Ne,Je){return null==X?this.array():(X=void 0!==he?{x1:X,y1:he,x2:Ne,y2:Je}:new f.PointArray(X).toLine(),this.attr(X))},move:function(X,he){return this.attr(this.array().move(X,he).toLine())},size:function(X,he){var Ne=ae(this,X,he);return this.attr(this.array().size(Ne.width,Ne.height).toLine())}},construct:{line:function(X,he,Ne,Je){return f.Line.prototype.plot.apply(this.put(new f.Line),null!=X?[X,he,Ne,Je]:[0,0,0,0])}}}),f.Polyline=f.invent({create:"polyline",inherit:f.Shape,construct:{polyline:function(X){return this.put(new f.Polyline).plot(X||new f.PointArray)}}}),f.Polygon=f.invent({create:"polygon",inherit:f.Shape,construct:{polygon:function(X){return this.put(new f.Polygon).plot(X||new f.PointArray)}}}),f.extend(f.Polyline,f.Polygon,{array:function(){return this._array||(this._array=new f.PointArray(this.attr("points")))},plot:function(X){return null==X?this.array():this.clear().attr("points","string"==typeof X?X:this._array=new f.PointArray(X))},clear:function(){return delete this._array,this},move:function(X,he){return this.attr("points",this.array().move(X,he))},size:function(X,he){var Ne=ae(this,X,he);return this.attr("points",this.array().size(Ne.width,Ne.height))}}),f.extend(f.Line,f.Polyline,f.Polygon,{morphArray:f.PointArray,x:function(X){return null==X?this.bbox().x:this.move(X,this.bbox().y)},y:function(X){return null==X?this.bbox().y:this.move(this.bbox().x,X)},width:function(X){var he=this.bbox();return null==X?he.width:this.size(X,he.height)},height:function(X){var he=this.bbox();return null==X?he.height:this.size(he.width,X)}}),f.Path=f.invent({create:"path",inherit:f.Shape,extend:{morphArray:f.PathArray,array:function(){return this._array||(this._array=new f.PathArray(this.attr("d")))},plot:function(X){return null==X?this.array():this.clear().attr("d","string"==typeof X?X:this._array=new f.PathArray(X))},clear:function(){return delete this._array,this}},construct:{path:function(X){return this.put(new f.Path).plot(X||new f.PathArray)}}}),f.Image=f.invent({create:"image",inherit:f.Shape,extend:{load:function(X){if(!X)return this;var he=this,Ne=new Re.Image;return f.on(Ne,"load",function(){f.off(Ne);var Je=he.parent(f.Pattern);null!==Je&&(0==he.width()&&0==he.height()&&he.size(Ne.width,Ne.height),Je&&0==Je.width()&&0==Je.height()&&Je.size(he.width(),he.height()),"function"==typeof he._loaded&&he._loaded.call(he,{width:Ne.width,height:Ne.height,ratio:Ne.width/Ne.height,url:X}))}),f.on(Ne,"error",function(Je){f.off(Ne),"function"==typeof he._error&&he._error.call(he,Je)}),this.attr("href",Ne.src=this.src=X,f.xlink)},loaded:function(X){return this._loaded=X,this},error:function(X){return this._error=X,this}},construct:{image:function(X,he,Ne){return this.put(new f.Image).load(X).size(he||0,Ne||he||0)}}}),f.Text=f.invent({create:function(){this.constructor.call(this,f.create("text")),this.dom.leading=new f.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",f.defaults.attrs["font-family"])},inherit:f.Shape,extend:{x:function(X){return null==X?this.attr("x"):this.attr("x",X)},text:function(X){if(void 0===X){X="";for(var he=this.node.childNodes,Ne=0,Je=he.length;Ne<Je;++Ne)0!=Ne&&3!=he[Ne].nodeType&&1==f.adopt(he[Ne]).dom.newLined&&(X+="\n"),X+=he[Ne].textContent;return X}if(this.clear().build(!0),"function"==typeof X)X.call(this,this);else{Ne=0;for(var mt=(X=X.split("\n")).length;Ne<mt;Ne++)this.tspan(X[Ne]).newLine()}return this.build(!1).rebuild()},size:function(X){return this.attr("font-size",X).rebuild()},leading:function(X){return null==X?this.dom.leading:(this.dom.leading=new f.Number(X),this.rebuild())},lines:function(){var X=(this.textPath&&this.textPath()||this).node,he=f.utils.map(f.utils.filterSVGElements(X.childNodes),function(Ne){return f.adopt(Ne)});return new f.Set(he)},rebuild:function(X){if("boolean"==typeof X&&(this._rebuild=X),this._rebuild){var he=this,Ne=0,Je=this.dom.leading*new f.Number(this.attr("font-size"));this.lines().each(function(){this.dom.newLined&&(he.textPath()||this.attr("x",he.attr("x")),"\n"==this.text()?Ne+=Je:(this.attr("dy",Je+Ne),Ne=0))}),this.fire("rebuild")}return this},build:function(X){return this._build=!!X,this},setData:function(X){return this.dom=X,this.dom.leading=new f.Number(X.leading||1.3),this}},construct:{text:function(X){return this.put(new f.Text).text(X)},plain:function(X){return this.put(new f.Text).plain(X)}}}),f.Tspan=f.invent({create:"tspan",inherit:f.Shape,extend:{text:function(X){return null==X?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof X?X.call(this,this):this.plain(X),this)},dx:function(X){return this.attr("dx",X)},dy:function(X){return this.attr("dy",X)},newLine:function(){var X=this.parent(f.Text);return this.dom.newLined=!0,this.dy(X.dom.leading*X.attr("font-size")).attr("x",X.x())}}}),f.extend(f.Text,f.Tspan,{plain:function(X){return!1===this._build&&this.clear(),this.node.appendChild(p.createTextNode(X)),this},tspan:function(X){var he=(this.textPath&&this.textPath()||this).node,Ne=new f.Tspan;return!1===this._build&&this.clear(),he.appendChild(Ne.node),Ne.text(X)},clear:function(){for(var X=(this.textPath&&this.textPath()||this).node;X.hasChildNodes();)X.removeChild(X.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),f.TextPath=f.invent({create:"textPath",inherit:f.Parent,parent:f.Text,construct:{morphArray:f.PathArray,array:function(){var X=this.track();return X?X.array():null},plot:function(X){var he=this.track(),Ne=null;return he&&(Ne=he.plot(X)),null==X?Ne:this},track:function(){var X=this.textPath();if(X)return X.reference("href")},textPath:function(){if(this.node.firstChild&&"textPath"==this.node.firstChild.nodeName)return f.adopt(this.node.firstChild)}}}),f.Nested=f.invent({create:function(){this.constructor.call(this,f.create("svg")),this.style("overflow","visible")},inherit:f.Container,construct:{nested:function(){return this.put(new f.Nested)}}});var F={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(X,he){return"color"==he?X:X+"-"+he}};function Z(X,he,Ne,Je){return Ne+Je.replace(f.regex.dots," .")}function q(X){return X.toLowerCase().replace(/-(.)/g,function(he,Ne){return Ne.toUpperCase()})}function oe(X){return X.charAt(0).toUpperCase()+X.slice(1)}function ue(X){var he=X.toString(16);return 1==he.length?"0"+he:he}function ae(X,he,Ne){if(null==he||null==Ne){var Je=X.bbox();null==he?he=Je.width/Je.height*Ne:null==Ne&&(Ne=Je.height/Je.width*he)}return{width:he,height:Ne}}function _e(X,he,Ne){return{x:he*X.a+Ne*X.c+0,y:he*X.b+Ne*X.d+0}}function Ie(X){return{a:X[0],b:X[1],c:X[2],d:X[3],e:X[4],f:X[5]}}function Pe(X){for(var he=X.childNodes.length-1;he>=0;he--)X.childNodes[he]instanceof Re.SVGElement&&Pe(X.childNodes[he]);return f.adopt(X).id(f.eid(X.nodeName))}function ze(X){return null==X.x&&(X.x=0,X.y=0,X.width=0,X.height=0),X.w=X.width,X.h=X.height,X.x2=X.x+X.width,X.y2=X.y+X.height,X.cx=X.x+X.width/2,X.cy=X.y+X.height/2,X}function We(X){return Math.abs(X)>1e-37?X:0}["fill","stroke"].forEach(function(X){var he={};he[X]=function(Ne){if(void 0===Ne)return this;if("string"==typeof Ne||f.Color.isRgb(Ne)||Ne&&"function"==typeof Ne.fill)this.attr(X,Ne);else for(var Je=F[X].length-1;Je>=0;Je--)null!=Ne[F[X][Je]]&&this.attr(F.prefix(X,F[X][Je]),Ne[F[X][Je]]);return this},f.extend(f.Element,f.FX,he)}),f.extend(f.Element,f.FX,{translate:function(X,he){return this.transform({x:X,y:he})},matrix:function(X){return this.attr("transform",new f.Matrix(6==arguments.length?[].slice.call(arguments):X))},opacity:function(X){return this.attr("opacity",X)},dx:function(X){return this.x(new f.Number(X).plus(this instanceof f.FX?0:this.x()),!0)},dy:function(X){return this.y(new f.Number(X).plus(this instanceof f.FX?0:this.y()),!0)}}),f.extend(f.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(X){return this.node.getPointAtLength(X)}}),f.Set=f.invent({create:function(X){Array.isArray(X)?this.members=X:this.clear()},extend:{add:function(){for(var X=[].slice.call(arguments),he=0,Ne=X.length;he<Ne;he++)this.members.push(X[he]);return this},remove:function(X){var he=this.index(X);return he>-1&&this.members.splice(he,1),this},each:function(X){for(var he=0,Ne=this.members.length;he<Ne;he++)X.apply(this.members[he],[he,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(X){return this.index(X)>=0},index:function(X){return this.members.indexOf(X)},get:function(X){return this.members[X]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members}},construct:{set:function(X){return new f.Set(X)}}}),f.FX.Set=f.invent({create:function(X){this.set=X}}),f.Set.inherit=function(){var X=[];for(var he in f.Shape.prototype)"function"==typeof f.Shape.prototype[he]&&"function"!=typeof f.Set.prototype[he]&&X.push(he);for(var he in X.forEach(function(Je){f.Set.prototype[Je]=function(){for(var mt=0,ln=this.members.length;mt<ln;mt++)this.members[mt]&&"function"==typeof this.members[mt][Je]&&this.members[mt][Je].apply(this.members[mt],arguments);return"animate"==Je?this.fx||(this.fx=new f.FX.Set(this)):this}}),X=[],f.FX.prototype)"function"==typeof f.FX.prototype[he]&&"function"!=typeof f.FX.Set.prototype[he]&&X.push(he);X.forEach(function(Ne){f.FX.Set.prototype[Ne]=function(){for(var Je=0,mt=this.set.members.length;Je<mt;Je++)this.set.members[Je].fx[Ne].apply(this.set.members[Je].fx,arguments);return this}})},f.extend(f.Element,{}),f.extend(f.Element,{remember:function(X,he){if("object"===$(arguments[0]))for(var Ne in X)this.remember(Ne,X[Ne]);else{if(1==arguments.length)return this.memory()[X];this.memory()[X]=he}return this},forget:function(){if(0==arguments.length)this._memory={};else for(var X=arguments.length-1;X>=0;X--)delete this.memory()[arguments[X]];return this},memory:function(){return this._memory||(this._memory={})}}),f.get=function(X){var he=p.getElementById(function(Ne){var Je=(Ne||"").toString().match(f.regex.reference);if(Je)return Je[1]}(X)||X);return f.adopt(he)},f.select=function(X,he){return new f.Set(f.utils.map((he||p).querySelectorAll(X),function(Ne){return f.adopt(Ne)}))},f.extend(f.Parent,{select:function(X){return f.select(X,this.node)}});var st="abcdef".split("");if("function"!=typeof Re.CustomEvent){var bt=function(X,he){he=he||{bubbles:!1,cancelable:!1,detail:void 0};var Ne=p.createEvent("CustomEvent");return Ne.initCustomEvent(X,he.bubbles,he.cancelable,he.detail),Ne};bt.prototype=Re.Event.prototype,f.CustomEvent=bt}else f.CustomEvent=Re.CustomEvent;return f},void 0!==(o=function(){return dt($e,$e.document)}.call(kt,Ae,kt,Ut))&&(Ut.exports=o),function(){SVG.Filter=SVG.invent({create:"filter",inherit:SVG.Parent,extend:{source:"SourceGraphic",sourceAlpha:"SourceAlpha",background:"BackgroundImage",backgroundAlpha:"BackgroundAlpha",fill:"FillPaint",stroke:"StrokePaint",autoSetIn:!0,put:function(F,Z){return this.add(F,Z),!F.attr("in")&&this.autoSetIn&&F.attr("in",this.source),F.attr("result")||F.attr("result",F),F},blend:function(F,Z,q){return this.put(new SVG.BlendEffect(F,Z,q))},colorMatrix:function(F,Z){return this.put(new SVG.ColorMatrixEffect(F,Z))},convolveMatrix:function(F){return this.put(new SVG.ConvolveMatrixEffect(F))},componentTransfer:function(F){return this.put(new SVG.ComponentTransferEffect(F))},composite:function(F,Z,q){return this.put(new SVG.CompositeEffect(F,Z,q))},flood:function(F,Z){return this.put(new SVG.FloodEffect(F,Z))},offset:function(F,Z){return this.put(new SVG.OffsetEffect(F,Z))},image:function(F){return this.put(new SVG.ImageEffect(F))},merge:function(){var F=[void 0];for(var Z in arguments)F.push(arguments[Z]);return this.put(new(SVG.MergeEffect.bind.apply(SVG.MergeEffect,F)))},gaussianBlur:function(F,Z){return this.put(new SVG.GaussianBlurEffect(F,Z))},morphology:function(F,Z){return this.put(new SVG.MorphologyEffect(F,Z))},diffuseLighting:function(F,Z,q){return this.put(new SVG.DiffuseLightingEffect(F,Z,q))},displacementMap:function(F,Z,q,oe,ue){return this.put(new SVG.DisplacementMapEffect(F,Z,q,oe,ue))},specularLighting:function(F,Z,q,oe){return this.put(new SVG.SpecularLightingEffect(F,Z,q,oe))},tile:function(){return this.put(new SVG.TileEffect)},turbulence:function(F,Z,q,oe,ue){return this.put(new SVG.TurbulenceEffect(F,Z,q,oe,ue))},toString:function(){return"url(#"+this.attr("id")+")"}}}),SVG.extend(SVG.Defs,{filter:function(F){var Z=this.put(new SVG.Filter);return"function"==typeof F&&F.call(Z,Z),Z}}),SVG.extend(SVG.Container,{filter:function(F){return this.defs().filter(F)}}),SVG.extend(SVG.Element,SVG.G,SVG.Nested,{filter:function(F){return this.filterer=F instanceof SVG.Element?F:this.doc().filter(F),this.doc()&&this.filterer.doc()!==this.doc()&&this.doc().defs().add(this.filterer),this.attr("filter",this.filterer),this.filterer},unfilter:function(F){return this.filterer&&!0===F&&this.filterer.remove(),delete this.filterer,this.attr("filter",null)}}),SVG.Effect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(F){return null==F?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",F)},result:function(F){return null==F?this.attr("result"):this.attr("result",F)},toString:function(){return this.result()}}}),SVG.ParentEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Parent,extend:{in:function(F){return null==F?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",F)},result:function(F){return null==F?this.attr("result"):this.attr("result",F)},toString:function(){return this.result()}}});var Re={blend:function(F,Z){return this.parent()&&this.parent().blend(this,F,Z)},colorMatrix:function(F,Z){return this.parent()&&this.parent().colorMatrix(F,Z).in(this)},convolveMatrix:function(F){return this.parent()&&this.parent().convolveMatrix(F).in(this)},componentTransfer:function(F){return this.parent()&&this.parent().componentTransfer(F).in(this)},composite:function(F,Z){return this.parent()&&this.parent().composite(this,F,Z)},flood:function(F,Z){return this.parent()&&this.parent().flood(F,Z)},offset:function(F,Z){return this.parent()&&this.parent().offset(F,Z).in(this)},image:function(F){return this.parent()&&this.parent().image(F)},merge:function(){return this.parent()&&this.parent().merge.apply(this.parent(),[this].concat(arguments))},gaussianBlur:function(F,Z){return this.parent()&&this.parent().gaussianBlur(F,Z).in(this)},morphology:function(F,Z){return this.parent()&&this.parent().morphology(F,Z).in(this)},diffuseLighting:function(F,Z,q){return this.parent()&&this.parent().diffuseLighting(F,Z,q).in(this)},displacementMap:function(F,Z,q,oe){return this.parent()&&this.parent().displacementMap(this,F,Z,q,oe)},specularLighting:function(F,Z,q,oe){return this.parent()&&this.parent().specularLighting(F,Z,q,oe).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(F,Z,q,oe,ue){return this.parent()&&this.parent().turbulence(F,Z,q,oe,ue).in(this)}};SVG.extend(SVG.Effect,Re),SVG.extend(SVG.ParentEffect,Re),SVG.ChildEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(F){this.attr("in",F)}}});var p={blend:function(F,Z,q){this.attr({in:F,in2:Z,mode:q||"normal"})},colorMatrix:function(F,Z){"matrix"==F&&(Z=S(Z)),this.attr({type:F,values:void 0===Z?null:Z})},convolveMatrix:function(F){F=S(F),this.attr({order:Math.sqrt(F.split(" ").length),kernelMatrix:F})},composite:function(F,Z,q){this.attr({in:F,in2:Z,operator:q})},flood:function(F,Z){this.attr("flood-color",F),null!=Z&&this.attr("flood-opacity",Z)},offset:function(F,Z){this.attr({dx:F,dy:Z})},image:function(F){this.attr("href",F,SVG.xlink)},displacementMap:function(F,Z,q,oe,ue){this.attr({in:F,in2:Z,scale:q,xChannelSelector:oe,yChannelSelector:ue})},gaussianBlur:function(F,Z){this.attr("stdDeviation",null!=F||null!=Z?D(Array.prototype.slice.call(arguments)):"0 0")},morphology:function(F,Z){this.attr({operator:F,radius:Z})},tile:function(){},turbulence:function(F,Z,q,oe,ue){this.attr({numOctaves:Z,seed:q,stitchTiles:oe,baseFrequency:F,type:ue})}},f={merge:function(){var F;if(arguments[0]instanceof SVG.Set){var Z=this;arguments[0].each(function(oe){this instanceof SVG.MergeNode?Z.put(this):(this instanceof SVG.Effect||this instanceof SVG.ParentEffect)&&Z.put(new SVG.MergeNode(this))})}else{F=Array.isArray(arguments[0])?arguments[0]:arguments;for(var q=0;q<F.length;q++)F[q]instanceof SVG.MergeNode?this.put(F[q]):this.put(new SVG.MergeNode(F[q]))}},componentTransfer:function(F){if(this.rgb=new SVG.Set,["r","g","b","a"].forEach(function(q){this[q]=new(SVG["Func"+q.toUpperCase()])("identity"),this.rgb.add(this[q]),this.node.appendChild(this[q].node)}.bind(this)),F)for(var Z in F.rgb&&(["r","g","b"].forEach(function(q){this[q].attr(F.rgb)}.bind(this)),delete F.rgb),F)this[Z].attr(F[Z])},diffuseLighting:function(F,Z,q){this.attr({surfaceScale:F,diffuseConstant:Z,kernelUnitLength:q})},specularLighting:function(F,Z,q,oe){this.attr({surfaceScale:F,diffuseConstant:Z,specularExponent:q,kernelUnitLength:oe})}},b={distantLight:function(F,Z){this.attr({azimuth:F,elevation:Z})},pointLight:function(F,Z,q){this.attr({x:F,y:Z,z:q})},spotLight:function(F,Z,q,oe,ue,ae){this.attr({x:F,y:Z,z:q,pointsAtX:oe,pointsAtY:ue,pointsAtZ:ae})},mergeNode:function(F){this.attr("in",F)}};function S(F){return Array.isArray(F)&&(F=new SVG.Array(F)),F.toString().replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}function D(F){if(!Array.isArray(F))return F;for(var Z=0,q=F.length,oe=[];Z<q;Z++)oe.push(F[Z]);return oe.join(" ")}function B(){var F=function(){};for(var Z in"function"==typeof arguments[arguments.length-1]&&(F=arguments[arguments.length-1],Array.prototype.splice.call(arguments,arguments.length-1,1)),arguments)for(var q in arguments[Z])F(arguments[Z][q],q,arguments[Z])}["r","g","b","a"].forEach(function(F){b["Func"+F.toUpperCase()]=function(Z){switch(this.attr("type",Z),Z){case"table":this.attr("tableValues",arguments[1]);break;case"linear":this.attr("slope",arguments[1]),this.attr("intercept",arguments[2]);break;case"gamma":this.attr("amplitude",arguments[1]),this.attr("exponent",arguments[2]),this.attr("offset",arguments[2])}}}),B(p,function(F,Z){var q=Z.charAt(0).toUpperCase()+Z.slice(1);SVG[q+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+q)),F.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.Effect,extend:{}})}),B(f,function(F,Z){var q=Z.charAt(0).toUpperCase()+Z.slice(1);SVG[q+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+q)),F.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.ParentEffect,extend:{}})}),B(b,function(F,Z){var q=Z.charAt(0).toUpperCase()+Z.slice(1);SVG[q]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+q)),F.apply(this,arguments)},inherit:SVG.ChildEffect,extend:{}})}),SVG.extend(SVG.MergeEffect,{in:function(F){return F instanceof SVG.MergeNode?this.add(F,0):this.add(new SVG.MergeNode(F),0),this}}),SVG.extend(SVG.CompositeEffect,SVG.BlendEffect,SVG.DisplacementMapEffect,{in2:function(F){return null==F?this.parent()&&this.parent().select('[result="'+this.attr("in2")+'"]').get(0)||this.attr("in2"):this.attr("in2",F)}}),SVG.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]}}.call(void 0),function(){function Re(D,B,F,Z,q,oe,ue){for(var ae=D.slice(B,F||ue),_e=Z.slice(q,oe||ue),Ie=0,Pe={pos:[0,0],start:[0,0]},ze={pos:[0,0],start:[0,0]};ae[Ie]=p.call(Pe,ae[Ie]),_e[Ie]=p.call(ze,_e[Ie]),ae[Ie][0]!=_e[Ie][0]||"M"==ae[Ie][0]||"A"==ae[Ie][0]&&(ae[Ie][4]!=_e[Ie][4]||ae[Ie][5]!=_e[Ie][5])?(Array.prototype.splice.apply(ae,[Ie,1].concat(b.call(Pe,ae[Ie]))),Array.prototype.splice.apply(_e,[Ie,1].concat(b.call(ze,_e[Ie])))):(ae[Ie]=f.call(Pe,ae[Ie]),_e[Ie]=f.call(ze,_e[Ie])),++Ie!=ae.length||Ie!=_e.length;)Ie==ae.length&&ae.push(["C",Pe.pos[0],Pe.pos[1],Pe.pos[0],Pe.pos[1],Pe.pos[0],Pe.pos[1]]),Ie==_e.length&&_e.push(["C",ze.pos[0],ze.pos[1],ze.pos[0],ze.pos[1],ze.pos[0],ze.pos[1]]);return{start:ae,dest:_e}}function p(D){switch(D[0]){case"z":case"Z":D[0]="L",D[1]=this.start[0],D[2]=this.start[1];break;case"H":D[0]="L",D[2]=this.pos[1];break;case"V":D[0]="L",D[2]=D[1],D[1]=this.pos[0];break;case"T":D[0]="Q",D[3]=D[1],D[4]=D[2],D[1]=this.reflection[1],D[2]=this.reflection[0];break;case"S":D[0]="C",D[6]=D[4],D[5]=D[3],D[4]=D[2],D[3]=D[1],D[2]=this.reflection[1],D[1]=this.reflection[0]}return D}function f(D){var B=D.length;return this.pos=[D[B-2],D[B-1]],-1!="SCQT".indexOf(D[0])&&(this.reflection=[2*this.pos[0]-D[B-4],2*this.pos[1]-D[B-3]]),D}function b(D){var B=[D];switch(D[0]){case"M":return this.pos=this.start=[D[1],D[2]],B;case"L":D[5]=D[3]=D[1],D[6]=D[4]=D[2],D[1]=this.pos[0],D[2]=this.pos[1];break;case"Q":D[6]=D[4],D[5]=D[3],D[4]=1*D[4]/3+2*D[2]/3,D[3]=1*D[3]/3+2*D[1]/3,D[2]=1*this.pos[1]/3+2*D[2]/3,D[1]=1*this.pos[0]/3+2*D[1]/3;break;case"A":D=(B=function(F,Z){var q,oe,ue,ae,_e,Ie,Pe,ze,We,st,bt,X,he,Ne,Je,mt,ln,qt,un,Vn,zn,ki,pr,_i,Yi,Lr,eo=Math.abs(Z[1]),Cs=Math.abs(Z[2]),qi=Z[3]%360,jr=Z[4],Ms=Z[5],Ia=Z[6],ga=Z[7],ao=new SVG.Point(F),qo=new SVG.Point(Ia,ga),Ad=[];if(0===eo||0===Cs||ao.x===qo.x&&ao.y===qo.y)return[["C",ao.x,ao.y,qo.x,qo.y,qo.x,qo.y]];for((oe=(q=new SVG.Point((ao.x-qo.x)/2,(ao.y-qo.y)/2).transform((new SVG.Matrix).rotate(qi))).x*q.x/(eo*eo)+q.y*q.y/(Cs*Cs))>1&&(eo*=oe=Math.sqrt(oe),Cs*=oe),ue=(new SVG.Matrix).rotate(qi).scale(1/eo,1/Cs).rotate(-qi),ao=ao.transform(ue),Ie=(ae=[(qo=qo.transform(ue)).x-ao.x,qo.y-ao.y])[0]*ae[0]+ae[1]*ae[1],_e=Math.sqrt(Ie),ae[0]/=_e,ae[1]/=_e,Pe=Ie<4?Math.sqrt(1-Ie/4):0,jr===Ms&&(Pe*=-1),ze=new SVG.Point((qo.x+ao.x)/2+Pe*-ae[1],(qo.y+ao.y)/2+Pe*ae[0]),We=new SVG.Point(ao.x-ze.x,ao.y-ze.y),st=new SVG.Point(qo.x-ze.x,qo.y-ze.y),bt=Math.acos(We.x/Math.sqrt(We.x*We.x+We.y*We.y)),We.y<0&&(bt*=-1),X=Math.acos(st.x/Math.sqrt(st.x*st.x+st.y*st.y)),st.y<0&&(X*=-1),Ms&&bt>X&&(X+=2*Math.PI),!Ms&&bt<X&&(X-=2*Math.PI),mt=[],ln=bt,he=(X-bt)/(Ne=Math.ceil(2*Math.abs(bt-X)/Math.PI)),Je=4*Math.tan(he/4)/3,zn=0;zn<=Ne;zn++)un=Math.cos(ln),qt=Math.sin(ln),Vn=new SVG.Point(ze.x+un,ze.y+qt),mt[zn]=[new SVG.Point(Vn.x+Je*qt,Vn.y-Je*un),Vn,new SVG.Point(Vn.x-Je*qt,Vn.y+Je*un)],ln+=he;for(mt[0][0]=mt[0][1].clone(),mt[mt.length-1][2]=mt[mt.length-1][1].clone(),ue=(new SVG.Matrix).rotate(qi).scale(eo,Cs).rotate(-qi),zn=0,ki=mt.length;zn<ki;zn++)mt[zn][0]=mt[zn][0].transform(ue),mt[zn][1]=mt[zn][1].transform(ue),mt[zn][2]=mt[zn][2].transform(ue);for(zn=1,ki=mt.length;zn<ki;zn++)pr=(Vn=mt[zn-1][2]).x,_i=Vn.y,Yi=(Vn=mt[zn][0]).x,Lr=Vn.y,Ia=(Vn=mt[zn][1]).x,Ad.push(["C",pr,_i,Yi,Lr,Ia,ga=Vn.y]);return Ad}(this.pos,D))[0]}return D[0]="C",this.pos=[D[5],D[6]],this.reflection=[2*D[5]-D[3],2*D[6]-D[4]],B}function S(D,B){if(!1===B)return!1;for(var F=B,Z=D.length;F<Z;++F)if("M"==D[F][0])return F;return!1}SVG.extend(SVG.PathArray,{morph:function(D){for(var B=this.value,F=this.parse(D),Z=0,q=0,oe=!1,ue=!1;!1!==Z||!1!==q;){var ae;oe=S(B,!1!==Z&&Z+1),ue=S(F,!1!==q&&q+1),!1===Z&&(Z=0==(ae=new SVG.PathArray(_e.start).bbox()).height||0==ae.width?B.push(B[0])-1:B.push(["M",ae.x+ae.width/2,ae.y+ae.height/2])-1),!1===q&&(q=0==(ae=new SVG.PathArray(_e.dest).bbox()).height||0==ae.width?F.push(F[0])-1:F.push(["M",ae.x+ae.width/2,ae.y+ae.height/2])-1);var _e=Re(B,Z,oe,F,q,ue);B=B.slice(0,Z).concat(_e.start,!1===oe?[]:B.slice(oe)),F=F.slice(0,q).concat(_e.dest,!1===ue?[]:F.slice(ue)),Z=!1!==oe&&Z+_e.start.length,q=!1!==ue&&q+_e.dest.length}return this.value=B,this.destination=new SVG.PathArray,this.destination.value=F,this}})}(),function(){function Re(p){p.remember("_draggable",this),this.el=p}Re.prototype.init=function(p,f){var b=this;this.constraint=p,this.value=f,this.el.on("mousedown.drag",function(S){b.start(S)}),this.el.on("touchstart.drag",function(S){b.start(S)})},Re.prototype.transformPoint=function(p,f){var b=(p=p||window.event).changedTouches&&p.changedTouches[0]||p;return this.p.x=b.clientX-(f||0),this.p.y=b.clientY,this.p.matrixTransform(this.m)},Re.prototype.getBBox=function(){var p=this.el.bbox();return this.el instanceof SVG.Nested&&(p=this.el.rbox()),(this.el instanceof SVG.G||this.el instanceof SVG.Use||this.el instanceof SVG.Nested)&&(p.x=this.el.x(),p.y=this.el.y()),p},Re.prototype.start=function(p){if("click"!=p.type&&"mousedown"!=p.type&&"mousemove"!=p.type||1==(p.which||p.buttons)){var f=this;if(this.el.fire("beforedrag",{event:p,handler:this}),!this.el.event().defaultPrevented){p.preventDefault(),p.stopPropagation(),this.parent=this.parent||this.el.parent(SVG.Nested)||this.el.parent(SVG.Doc),this.p=this.parent.node.createSVGPoint(),this.m=this.el.node.getScreenCTM().inverse();var b,S=this.getBBox();if(this.el instanceof SVG.Text)switch(b=this.el.node.getComputedTextLength(),this.el.attr("text-anchor")){case"middle":b/=2;break;case"start":b=0}this.startPoints={point:this.transformPoint(p,b),box:S,transform:this.el.transform()},SVG.on(window,"mousemove.drag",function(D){f.drag(D)}),SVG.on(window,"touchmove.drag",function(D){f.drag(D)}),SVG.on(window,"mouseup.drag",function(D){f.end(D)}),SVG.on(window,"touchend.drag",function(D){f.end(D)}),this.el.fire("dragstart",{event:p,p:this.startPoints.point,m:this.m,handler:this})}}},Re.prototype.drag=function(p){var f=this.getBBox(),b=this.transformPoint(p),S=this.startPoints.box.x+b.x-this.startPoints.point.x,D=this.startPoints.box.y+b.y-this.startPoints.point.y,B=this.constraint,F=b.x-this.startPoints.point.x,Z=b.y-this.startPoints.point.y;if(this.el.fire("dragmove",{event:p,p:b,m:this.m,handler:this}),this.el.event().defaultPrevented)return b;if("function"==typeof B){var q=B.call(this.el,S,D,this.m);"boolean"==typeof q&&(q={x:q,y:q}),!0===q.x?this.el.x(S):!1!==q.x&&this.el.x(q.x),!0===q.y?this.el.y(D):!1!==q.y&&this.el.y(q.y)}else"object"==typeof B&&(null!=B.minX&&S<B.minX?F=(S=B.minX)-this.startPoints.box.x:null!=B.maxX&&S>B.maxX-f.width&&(F=(S=B.maxX-f.width)-this.startPoints.box.x),null!=B.minY&&D<B.minY?Z=(D=B.minY)-this.startPoints.box.y:null!=B.maxY&&D>B.maxY-f.height&&(Z=(D=B.maxY-f.height)-this.startPoints.box.y),null!=B.snapToGrid&&(S-=S%B.snapToGrid,D-=D%B.snapToGrid,F-=F%B.snapToGrid,Z-=Z%B.snapToGrid),this.el instanceof SVG.G?this.el.matrix(this.startPoints.transform).transform({x:F,y:Z},!0):this.el.move(S,D));return b},Re.prototype.end=function(p){var f=this.drag(p);this.el.fire("dragend",{event:p,p:f,m:this.m,handler:this}),SVG.off(window,"mousemove.drag"),SVG.off(window,"touchmove.drag"),SVG.off(window,"mouseup.drag"),SVG.off(window,"touchend.drag")},SVG.extend(SVG.Element,{draggable:function(p,f){"function"!=typeof p&&"object"!=typeof p||(f=p,p=!0);var b=this.remember("_draggable")||new Re(this);return(p=void 0===p||p)?b.init(f||{},p):(this.off("mousedown.drag"),this.off("touchstart.drag")),this}})}.call(void 0),function(){function Re(p){this.el=p,p.remember("_selectHandler",this),this.pointSelection={isSelected:!1},this.rectSelection={isSelected:!1},this.pointsList={lt:[0,0],rt:["width",0],rb:["width","height"],lb:[0,"height"],t:["width",0],r:["width","height"],b:["width","height"],l:[0,"height"]},this.pointCoord=function(f,b,S){var D="string"!=typeof f?f:b[f];return S?D/2:D},this.pointCoords=function(f,b){var S=this.pointsList[f];return{x:this.pointCoord(S[0],b,"t"===f||"b"===f),y:this.pointCoord(S[1],b,"r"===f||"l"===f)}}}Re.prototype.init=function(p,f){var b=this.el.bbox();this.options={};var S=this.el.selectize.defaults.points;for(var D in this.el.selectize.defaults)this.options[D]=this.el.selectize.defaults[D],void 0!==f[D]&&(this.options[D]=f[D]);var B=["points","pointsExclude"];for(var D in B){var F=this.options[B[D]];"string"==typeof F?F=F.length>0?F.split(/\s*,\s*/i):[]:"boolean"==typeof F&&"points"===B[D]&&(F=F?S:[]),this.options[B[D]]=F}this.options.points=[S,this.options.points].reduce(function(Z,q){return Z.filter(function(oe){return q.indexOf(oe)>-1})}),this.options.points=[this.options.points,this.options.pointsExclude].reduce(function(Z,q){return Z.filter(function(oe){return q.indexOf(oe)<0})}),this.parent=this.el.parent(),this.nested=this.nested||this.parent.group(),this.nested.matrix(new SVG.Matrix(this.el).translate(b.x,b.y)),this.options.deepSelect&&-1!==["line","polyline","polygon"].indexOf(this.el.type)?this.selectPoints(p):this.selectRect(p),this.observe(),this.cleanup()},Re.prototype.selectPoints=function(p){return this.pointSelection.isSelected=p,this.pointSelection.set||(this.pointSelection.set=this.parent.set(),this.drawPoints()),this},Re.prototype.getPointArray=function(){var p=this.el.bbox();return this.el.array().valueOf().map(function(f){return[f[0]-p.x,f[1]-p.y]})},Re.prototype.drawPoints=function(){for(var p=this,f=this.getPointArray(),b=0,S=f.length;b<S;++b){var D=function(F){return function(Z){(Z=Z||window.event).preventDefault?Z.preventDefault():Z.returnValue=!1,Z.stopPropagation(),p.el.fire("point",{x:Z.pageX||Z.touches[0].pageX,y:Z.pageY||Z.touches[0].pageY,i:F,event:Z})}}(b),B=this.drawPoint(f[b][0],f[b][1]).addClass(this.options.classPoints).addClass(this.options.classPoints+"_point").on("touchstart",D).on("mousedown",D);this.pointSelection.set.add(B)}},Re.prototype.drawPoint=function(p,f){var b=this.options.pointType;switch(b){case"circle":return this.drawCircle(p,f);case"rect":return this.drawRect(p,f);default:if("function"==typeof b)return b.call(this,p,f);throw new Error("Unknown "+b+" point type!")}},Re.prototype.drawCircle=function(p,f){return this.nested.circle(this.options.pointSize).center(p,f)},Re.prototype.drawRect=function(p,f){return this.nested.rect(this.options.pointSize,this.options.pointSize).center(p,f)},Re.prototype.updatePointSelection=function(){var p=this.getPointArray();this.pointSelection.set.each(function(f){this.cx()===p[f][0]&&this.cy()===p[f][1]||this.center(p[f][0],p[f][1])})},Re.prototype.updateRectSelection=function(){var p=this,f=this.el.bbox();if(this.rectSelection.set.get(0).attr({width:f.width,height:f.height}),this.options.points.length&&this.options.points.map(function(S,D){var B=p.pointCoords(S,f);p.rectSelection.set.get(D+1).center(B.x,B.y)}),this.options.rotationPoint){var b=this.rectSelection.set.length();this.rectSelection.set.get(b-1).center(f.width/2,20)}},Re.prototype.selectRect=function(p){var f=this,b=this.el.bbox();function S(F){return function(Z){(Z=Z||window.event).preventDefault?Z.preventDefault():Z.returnValue=!1,Z.stopPropagation(),f.el.fire(F,{x:Z.pageX||Z.touches[0].pageX,y:Z.pageY||Z.touches[0].pageY,event:Z})}}if(this.rectSelection.isSelected=p,this.rectSelection.set=this.rectSelection.set||this.parent.set(),this.rectSelection.set.get(0)||this.rectSelection.set.add(this.nested.rect(b.width,b.height).addClass(this.options.classRect)),this.options.points.length&&this.rectSelection.set.length()<2&&(this.options.points.map(function(F,Z){var q=f.pointCoords(F,b),oe=f.drawPoint(q.x,q.y).attr("class",f.options.classPoints+"_"+F).on("mousedown",S(F)).on("touchstart",S(F));f.rectSelection.set.add(oe)}),this.rectSelection.set.each(function(){this.addClass(f.options.classPoints)})),this.options.rotationPoint&&(this.options.points&&!this.rectSelection.set.get(9)||!this.options.points&&!this.rectSelection.set.get(1))){var D=function(F){(F=F||window.event).preventDefault?F.preventDefault():F.returnValue=!1,F.stopPropagation(),f.el.fire("rot",{x:F.pageX||F.touches[0].pageX,y:F.pageY||F.touches[0].pageY,event:F})},B=this.drawPoint(b.width/2,20).attr("class",this.options.classPoints+"_rot").on("touchstart",D).on("mousedown",D);this.rectSelection.set.add(B)}},Re.prototype.handler=function(){var p=this.el.bbox();this.nested.matrix(new SVG.Matrix(this.el).translate(p.x,p.y)),this.rectSelection.isSelected&&this.updateRectSelection(),this.pointSelection.isSelected&&this.updatePointSelection()},Re.prototype.observe=function(){var p=this;if(MutationObserver)if(this.rectSelection.isSelected||this.pointSelection.isSelected)this.observerInst=this.observerInst||new MutationObserver(function(){p.handler()}),this.observerInst.observe(this.el.node,{attributes:!0});else try{this.observerInst.disconnect(),delete this.observerInst}catch(f){}else this.el.off("DOMAttrModified.select"),(this.rectSelection.isSelected||this.pointSelection.isSelected)&&this.el.on("DOMAttrModified.select",function(){p.handler()})},Re.prototype.cleanup=function(){!this.rectSelection.isSelected&&this.rectSelection.set&&(this.rectSelection.set.each(function(){this.remove()}),this.rectSelection.set.clear(),delete this.rectSelection.set),!this.pointSelection.isSelected&&this.pointSelection.set&&(this.pointSelection.set.each(function(){this.remove()}),this.pointSelection.set.clear(),delete this.pointSelection.set),this.pointSelection.isSelected||this.rectSelection.isSelected||(this.nested.remove(),delete this.nested)},SVG.extend(SVG.Element,{selectize:function(p,f){return"object"==typeof p&&(f=p,p=!0),(this.remember("_selectHandler")||new Re(this)).init(void 0===p||p,f||{}),this}}),SVG.Element.prototype.selectize.defaults={points:["lt","rt","rb","lb","t","r","b","l"],pointsExclude:[],classRect:"svg_select_boundingRect",classPoints:"svg_select_points",pointSize:7,rotationPoint:!0,deepSelect:!1,pointType:"circle"}}(),function(){(function(){function Re(p){p.remember("_resizeHandler",this),this.el=p,this.parameters={},this.lastUpdateCall=null,this.p=p.doc().node.createSVGPoint()}Re.prototype.transformPoint=function(p,f,b){return this.p.x=p-(this.offset.x-window.pageXOffset),this.p.y=f-(this.offset.y-window.pageYOffset),this.p.matrixTransform(b||this.m)},Re.prototype._extractPosition=function(p){return{x:null!=p.clientX?p.clientX:p.touches[0].clientX,y:null!=p.clientY?p.clientY:p.touches[0].clientY}},Re.prototype.init=function(p){var f=this;if(this.stop(),"stop"!==p){for(var b in this.options={},this.el.resize.defaults)this.options[b]=this.el.resize.defaults[b],void 0!==p[b]&&(this.options[b]=p[b]);this.el.on("lt.resize",function(S){f.resize(S||window.event)}),this.el.on("rt.resize",function(S){f.resize(S||window.event)}),this.el.on("rb.resize",function(S){f.resize(S||window.event)}),this.el.on("lb.resize",function(S){f.resize(S||window.event)}),this.el.on("t.resize",function(S){f.resize(S||window.event)}),this.el.on("r.resize",function(S){f.resize(S||window.event)}),this.el.on("b.resize",function(S){f.resize(S||window.event)}),this.el.on("l.resize",function(S){f.resize(S||window.event)}),this.el.on("rot.resize",function(S){f.resize(S||window.event)}),this.el.on("point.resize",function(S){f.resize(S||window.event)}),this.update()}},Re.prototype.stop=function(){return this.el.off("lt.resize"),this.el.off("rt.resize"),this.el.off("rb.resize"),this.el.off("lb.resize"),this.el.off("t.resize"),this.el.off("r.resize"),this.el.off("b.resize"),this.el.off("l.resize"),this.el.off("rot.resize"),this.el.off("point.resize"),this},Re.prototype.resize=function(p){var f=this;this.m=this.el.node.getScreenCTM().inverse(),this.offset={x:window.pageXOffset,y:window.pageYOffset};var b=this._extractPosition(p.detail.event);if(this.parameters={type:this.el.type,p:this.transformPoint(b.x,b.y),x:p.detail.x,y:p.detail.y,box:this.el.bbox(),rotation:this.el.transform().rotation},"text"===this.el.type&&(this.parameters.fontSize=this.el.attr()["font-size"]),void 0!==p.detail.i){var S=this.el.array().valueOf();this.parameters.i=p.detail.i,this.parameters.pointCoords=[S[p.detail.i][0],S[p.detail.i][1]]}switch(p.type){case"lt":this.calc=function(D,B){var F=this.snapToGrid(D,B);if(this.parameters.box.width-F[0]>0&&this.parameters.box.height-F[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+F[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-F[0]);F=this.checkAspectRatio(F),this.el.move(this.parameters.box.x+F[0],this.parameters.box.y+F[1]).size(this.parameters.box.width-F[0],this.parameters.box.height-F[1])}};break;case"rt":this.calc=function(D,B){var F=this.snapToGrid(D,B,2);if(this.parameters.box.width+F[0]>0&&this.parameters.box.height-F[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-F[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+F[0]);F=this.checkAspectRatio(F,!0),this.el.move(this.parameters.box.x,this.parameters.box.y+F[1]).size(this.parameters.box.width+F[0],this.parameters.box.height-F[1])}};break;case"rb":this.calc=function(D,B){var F=this.snapToGrid(D,B,0);if(this.parameters.box.width+F[0]>0&&this.parameters.box.height+F[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-F[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+F[0]);F=this.checkAspectRatio(F),this.el.move(this.parameters.box.x,this.parameters.box.y).size(this.parameters.box.width+F[0],this.parameters.box.height+F[1])}};break;case"lb":this.calc=function(D,B){var F=this.snapToGrid(D,B,1);if(this.parameters.box.width-F[0]>0&&this.parameters.box.height+F[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+F[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-F[0]);F=this.checkAspectRatio(F,!0),this.el.move(this.parameters.box.x+F[0],this.parameters.box.y).size(this.parameters.box.width-F[0],this.parameters.box.height+F[1])}};break;case"t":this.calc=function(D,B){var F=this.snapToGrid(D,B,2);if(this.parameters.box.height-F[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y+F[1]).height(this.parameters.box.height-F[1])}};break;case"r":this.calc=function(D,B){var F=this.snapToGrid(D,B,0);if(this.parameters.box.width+F[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).width(this.parameters.box.width+F[0])}};break;case"b":this.calc=function(D,B){var F=this.snapToGrid(D,B,0);if(this.parameters.box.height+F[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).height(this.parameters.box.height+F[1])}};break;case"l":this.calc=function(D,B){var F=this.snapToGrid(D,B,1);if(this.parameters.box.width-F[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x+F[0],this.parameters.box.y).width(this.parameters.box.width-F[0])}};break;case"rot":this.calc=function(D,B){var F=D+this.parameters.p.x,Z=B+this.parameters.p.y,q=Math.atan2(this.parameters.p.y-this.parameters.box.y-this.parameters.box.height/2,this.parameters.p.x-this.parameters.box.x-this.parameters.box.width/2),oe=Math.atan2(Z-this.parameters.box.y-this.parameters.box.height/2,F-this.parameters.box.x-this.parameters.box.width/2),ue=this.parameters.rotation+180*(oe-q)/Math.PI+this.options.snapToAngle/2;this.el.center(this.parameters.box.cx,this.parameters.box.cy).rotate(ue-ue%this.options.snapToAngle,this.parameters.box.cx,this.parameters.box.cy)};break;case"point":this.calc=function(D,B){var F=this.snapToGrid(D,B,this.parameters.pointCoords[0],this.parameters.pointCoords[1]),Z=this.el.array().valueOf();Z[this.parameters.i][0]=this.parameters.pointCoords[0]+F[0],Z[this.parameters.i][1]=this.parameters.pointCoords[1]+F[1],this.el.plot(Z)}}this.el.fire("resizestart",{dx:this.parameters.x,dy:this.parameters.y,event:p}),SVG.on(window,"touchmove.resize",function(D){f.update(D||window.event)}),SVG.on(window,"touchend.resize",function(){f.done()}),SVG.on(window,"mousemove.resize",function(D){f.update(D||window.event)}),SVG.on(window,"mouseup.resize",function(){f.done()})},Re.prototype.update=function(p){if(p){var f=this._extractPosition(p),b=this.transformPoint(f.x,f.y),S=b.x-this.parameters.p.x,D=b.y-this.parameters.p.y;this.lastUpdateCall=[S,D],this.calc(S,D),this.el.fire("resizing",{dx:S,dy:D,event:p})}else this.lastUpdateCall&&this.calc(this.lastUpdateCall[0],this.lastUpdateCall[1])},Re.prototype.done=function(){this.lastUpdateCall=null,SVG.off(window,"mousemove.resize"),SVG.off(window,"mouseup.resize"),SVG.off(window,"touchmove.resize"),SVG.off(window,"touchend.resize"),this.el.fire("resizedone")},Re.prototype.snapToGrid=function(p,f,b,S){var D;return D=void 0!==S?[(b+p)%this.options.snapToGrid,(S+f)%this.options.snapToGrid]:[(this.parameters.box.x+p+(1&(b=null==b?3:b)?0:this.parameters.box.width))%this.options.snapToGrid,(this.parameters.box.y+f+(2&b?0:this.parameters.box.height))%this.options.snapToGrid],p<0&&(D[0]-=this.options.snapToGrid),f<0&&(D[1]-=this.options.snapToGrid),p-=Math.abs(D[0])<this.options.snapToGrid/2?D[0]:D[0]-(p<0?-this.options.snapToGrid:this.options.snapToGrid),f-=Math.abs(D[1])<this.options.snapToGrid/2?D[1]:D[1]-(f<0?-this.options.snapToGrid:this.options.snapToGrid),this.constraintToBox(p,f,b,S)},Re.prototype.constraintToBox=function(p,f,b,S){var D,B,F=this.options.constraint||{};return void 0!==S?(D=b,B=S):(D=this.parameters.box.x+(1&b?0:this.parameters.box.width),B=this.parameters.box.y+(2&b?0:this.parameters.box.height)),void 0!==F.minX&&D+p<F.minX&&(p=F.minX-D),void 0!==F.maxX&&D+p>F.maxX&&(p=F.maxX-D),void 0!==F.minY&&B+f<F.minY&&(f=F.minY-B),void 0!==F.maxY&&B+f>F.maxY&&(f=F.maxY-B),[p,f]},Re.prototype.checkAspectRatio=function(p,f){if(!this.options.saveAspectRatio)return p;var b=p.slice(),S=this.parameters.box.width/this.parameters.box.height,D=this.parameters.box.width+p[0],B=this.parameters.box.height-p[1],F=D/B;return F<S?(b[1]=D/S-this.parameters.box.height,f&&(b[1]=-b[1])):F>S&&(b[0]=this.parameters.box.width-B*S,f&&(b[0]=-b[0])),b},SVG.extend(SVG.Element,{resize:function(p){return(this.remember("_resizeHandler")||new Re(this)).init(p||{}),this}}),SVG.Element.prototype.resize.defaults={snapToAngle:.1,snapToGrid:1,constraint:{},saveAspectRatio:!1}}).call(this)}(),function(Re,p){void 0===p&&(p={});var f=p.insertAt;if("undefined"!=typeof document){var b=document.head||document.getElementsByTagName("head")[0],S=document.createElement("style");S.type="text/css","top"===f&&b.firstChild?b.insertBefore(S,b.firstChild):b.appendChild(S),S.styleSheet?S.styleSheet.cssText=Re:S.appendChild(document.createTextNode(Re))}}('.apexcharts-canvas {\n  position: relative;\n  user-select: none;\n  /* cannot give overflow: hidden as it will crop tooltips which overflow outside chart area */\n}\n\n\n/* scrollbar is not visible by default for legend, hence forcing the visibility */\n.apexcharts-canvas ::-webkit-scrollbar {\n  -webkit-appearance: none;\n  width: 6px;\n}\n\n.apexcharts-canvas ::-webkit-scrollbar-thumb {\n  border-radius: 4px;\n  background-color: rgba(0, 0, 0, .5);\n  box-shadow: 0 0 1px rgba(255, 255, 255, .5);\n  -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, .5);\n}\n\n\n.apexcharts-inner {\n  position: relative;\n}\n\n.apexcharts-text tspan {\n  font-family: inherit;\n}\n\n.legend-mouseover-inactive {\n  transition: 0.15s ease all;\n  opacity: 0.20;\n}\n\n.apexcharts-series-collapsed {\n  opacity: 0;\n}\n\n.apexcharts-tooltip {\n  border-radius: 5px;\n  box-shadow: 2px 2px 6px -4px #999;\n  cursor: default;\n  font-size: 14px;\n  left: 62px;\n  opacity: 0;\n  pointer-events: none;\n  position: absolute;\n  top: 20px;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  white-space: nowrap;\n  z-index: 12;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-tooltip.apexcharts-active {\n  opacity: 1;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-tooltip.apexcharts-theme-light {\n  border: 1px solid #e3e3e3;\n  background: rgba(255, 255, 255, 0.96);\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark {\n  color: #fff;\n  background: rgba(30, 30, 30, 0.8);\n}\n\n.apexcharts-tooltip * {\n  font-family: inherit;\n}\n\n\n.apexcharts-tooltip-title {\n  padding: 6px;\n  font-size: 15px;\n  margin-bottom: 4px;\n}\n\n.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {\n  background: #ECEFF1;\n  border-bottom: 1px solid #ddd;\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {\n  background: rgba(0, 0, 0, 0.7);\n  border-bottom: 1px solid #333;\n}\n\n.apexcharts-tooltip-text-y-value,\n.apexcharts-tooltip-text-goals-value,\n.apexcharts-tooltip-text-z-value {\n  display: inline-block;\n  font-weight: 600;\n  margin-left: 5px;\n}\n\n.apexcharts-tooltip-text-y-label:empty,\n.apexcharts-tooltip-text-y-value:empty,\n.apexcharts-tooltip-text-goals-label:empty,\n.apexcharts-tooltip-text-goals-value:empty,\n.apexcharts-tooltip-text-z-value:empty {\n  display: none;\n}\n\n.apexcharts-tooltip-text-y-value,\n.apexcharts-tooltip-text-goals-value,\n.apexcharts-tooltip-text-z-value {\n  font-weight: 600;\n}\n\n.apexcharts-tooltip-text-goals-label, \n.apexcharts-tooltip-text-goals-value {\n  padding: 6px 0 5px;\n}\n\n.apexcharts-tooltip-goals-group, \n.apexcharts-tooltip-text-goals-label, \n.apexcharts-tooltip-text-goals-value {\n  display: flex;\n}\n.apexcharts-tooltip-text-goals-label:not(:empty),\n.apexcharts-tooltip-text-goals-value:not(:empty) {\n  margin-top: -6px;\n}\n\n.apexcharts-tooltip-marker {\n  width: 12px;\n  height: 12px;\n  position: relative;\n  top: 0px;\n  margin-right: 10px;\n  border-radius: 50%;\n}\n\n.apexcharts-tooltip-series-group {\n  padding: 0 10px;\n  display: none;\n  text-align: left;\n  justify-content: left;\n  align-items: center;\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {\n  opacity: 1;\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active,\n.apexcharts-tooltip-series-group:last-child {\n  padding-bottom: 4px;\n}\n\n.apexcharts-tooltip-series-group-hidden {\n  opacity: 0;\n  height: 0;\n  line-height: 0;\n  padding: 0 !important;\n}\n\n.apexcharts-tooltip-y-group {\n  padding: 6px 0 5px;\n}\n\n.apexcharts-tooltip-box, .apexcharts-custom-tooltip {\n  padding: 4px 8px;\n}\n\n.apexcharts-tooltip-boxPlot {\n  display: flex;\n  flex-direction: column-reverse;\n}\n\n.apexcharts-tooltip-box>div {\n  margin: 4px 0;\n}\n\n.apexcharts-tooltip-box span.value {\n  font-weight: bold;\n}\n\n.apexcharts-tooltip-rangebar {\n  padding: 5px 8px;\n}\n\n.apexcharts-tooltip-rangebar .category {\n  font-weight: 600;\n  color: #777;\n}\n\n.apexcharts-tooltip-rangebar .series-name {\n  font-weight: bold;\n  display: block;\n  margin-bottom: 5px;\n}\n\n.apexcharts-xaxistooltip {\n  opacity: 0;\n  padding: 9px 10px;\n  pointer-events: none;\n  color: #373d3f;\n  font-size: 13px;\n  text-align: center;\n  border-radius: 2px;\n  position: absolute;\n  z-index: 10;\n  background: #ECEFF1;\n  border: 1px solid #90A4AE;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-xaxistooltip.apexcharts-theme-dark {\n  background: rgba(0, 0, 0, 0.7);\n  border: 1px solid rgba(0, 0, 0, 0.5);\n  color: #fff;\n}\n\n.apexcharts-xaxistooltip:after,\n.apexcharts-xaxistooltip:before {\n  left: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none;\n}\n\n.apexcharts-xaxistooltip:after {\n  border-color: rgba(236, 239, 241, 0);\n  border-width: 6px;\n  margin-left: -6px;\n}\n\n.apexcharts-xaxistooltip:before {\n  border-color: rgba(144, 164, 174, 0);\n  border-width: 7px;\n  margin-left: -7px;\n}\n\n.apexcharts-xaxistooltip-bottom:after,\n.apexcharts-xaxistooltip-bottom:before {\n  bottom: 100%;\n}\n\n.apexcharts-xaxistooltip-top:after,\n.apexcharts-xaxistooltip-top:before {\n  top: 100%;\n}\n\n.apexcharts-xaxistooltip-bottom:after {\n  border-bottom-color: #ECEFF1;\n}\n\n.apexcharts-xaxistooltip-bottom:before {\n  border-bottom-color: #90A4AE;\n}\n\n.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after {\n  border-bottom-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {\n  border-bottom-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip-top:after {\n  border-top-color: #ECEFF1\n}\n\n.apexcharts-xaxistooltip-top:before {\n  border-top-color: #90A4AE;\n}\n\n.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after {\n  border-top-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {\n  border-top-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip.apexcharts-active {\n  opacity: 1;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-yaxistooltip {\n  opacity: 0;\n  padding: 4px 10px;\n  pointer-events: none;\n  color: #373d3f;\n  font-size: 13px;\n  text-align: center;\n  border-radius: 2px;\n  position: absolute;\n  z-index: 10;\n  background: #ECEFF1;\n  border: 1px solid #90A4AE;\n}\n\n.apexcharts-yaxistooltip.apexcharts-theme-dark {\n  background: rgba(0, 0, 0, 0.7);\n  border: 1px solid rgba(0, 0, 0, 0.5);\n  color: #fff;\n}\n\n.apexcharts-yaxistooltip:after,\n.apexcharts-yaxistooltip:before {\n  top: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none;\n}\n\n.apexcharts-yaxistooltip:after {\n  border-color: rgba(236, 239, 241, 0);\n  border-width: 6px;\n  margin-top: -6px;\n}\n\n.apexcharts-yaxistooltip:before {\n  border-color: rgba(144, 164, 174, 0);\n  border-width: 7px;\n  margin-top: -7px;\n}\n\n.apexcharts-yaxistooltip-left:after,\n.apexcharts-yaxistooltip-left:before {\n  left: 100%;\n}\n\n.apexcharts-yaxistooltip-right:after,\n.apexcharts-yaxistooltip-right:before {\n  right: 100%;\n}\n\n.apexcharts-yaxistooltip-left:after {\n  border-left-color: #ECEFF1;\n}\n\n.apexcharts-yaxistooltip-left:before {\n  border-left-color: #90A4AE;\n}\n\n.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after {\n  border-left-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {\n  border-left-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip-right:after {\n  border-right-color: #ECEFF1;\n}\n\n.apexcharts-yaxistooltip-right:before {\n  border-right-color: #90A4AE;\n}\n\n.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after {\n  border-right-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {\n  border-right-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip.apexcharts-active {\n  opacity: 1;\n}\n\n.apexcharts-yaxistooltip-hidden {\n  display: none;\n}\n\n.apexcharts-xcrosshairs,\n.apexcharts-ycrosshairs {\n  pointer-events: none;\n  opacity: 0;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-xcrosshairs.apexcharts-active,\n.apexcharts-ycrosshairs.apexcharts-active {\n  opacity: 1;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-ycrosshairs-hidden {\n  opacity: 0;\n}\n\n.apexcharts-selection-rect {\n  cursor: move;\n}\n\n.svg_select_boundingRect, .svg_select_points_rot {\n  pointer-events: none;\n  opacity: 0;\n  visibility: hidden;\n}\n.apexcharts-selection-rect + g .svg_select_boundingRect,\n.apexcharts-selection-rect + g .svg_select_points_rot {\n  opacity: 0;\n  visibility: hidden;\n}\n\n.apexcharts-selection-rect + g .svg_select_points_l,\n.apexcharts-selection-rect + g .svg_select_points_r {\n  cursor: ew-resize;\n  opacity: 1;\n  visibility: visible;\n}\n\n.svg_select_points {\n  fill: #efefef;\n  stroke: #333;\n  rx: 2;\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-zoom {\n  cursor: crosshair\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-pan {\n  cursor: move\n}\n\n.apexcharts-zoom-icon,\n.apexcharts-zoomin-icon,\n.apexcharts-zoomout-icon,\n.apexcharts-reset-icon,\n.apexcharts-pan-icon,\n.apexcharts-selection-icon,\n.apexcharts-menu-icon,\n.apexcharts-toolbar-custom-icon {\n  cursor: pointer;\n  width: 20px;\n  height: 20px;\n  line-height: 24px;\n  color: #6E8192;\n  text-align: center;\n}\n\n.apexcharts-zoom-icon svg,\n.apexcharts-zoomin-icon svg,\n.apexcharts-zoomout-icon svg,\n.apexcharts-reset-icon svg,\n.apexcharts-menu-icon svg {\n  fill: #6E8192;\n}\n\n.apexcharts-selection-icon svg {\n  fill: #444;\n  transform: scale(0.76)\n}\n\n.apexcharts-theme-dark .apexcharts-zoom-icon svg,\n.apexcharts-theme-dark .apexcharts-zoomin-icon svg,\n.apexcharts-theme-dark .apexcharts-zoomout-icon svg,\n.apexcharts-theme-dark .apexcharts-reset-icon svg,\n.apexcharts-theme-dark .apexcharts-pan-icon svg,\n.apexcharts-theme-dark .apexcharts-selection-icon svg,\n.apexcharts-theme-dark .apexcharts-menu-icon svg,\n.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg {\n  fill: #f3f4f5;\n}\n\n.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg,\n.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,\n.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg {\n  fill: #008FFB;\n}\n\n.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,\n.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,\n.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,\n.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg,\n.apexcharts-theme-light .apexcharts-reset-icon:hover svg,\n.apexcharts-theme-light .apexcharts-menu-icon:hover svg {\n  fill: #333;\n}\n\n.apexcharts-selection-icon,\n.apexcharts-menu-icon {\n  position: relative;\n}\n\n.apexcharts-reset-icon {\n  margin-left: 5px;\n}\n\n.apexcharts-zoom-icon,\n.apexcharts-reset-icon,\n.apexcharts-menu-icon {\n  transform: scale(0.85);\n}\n\n.apexcharts-zoomin-icon,\n.apexcharts-zoomout-icon {\n  transform: scale(0.7)\n}\n\n.apexcharts-zoomout-icon {\n  margin-right: 3px;\n}\n\n.apexcharts-pan-icon {\n  transform: scale(0.62);\n  position: relative;\n  left: 1px;\n  top: 0px;\n}\n\n.apexcharts-pan-icon svg {\n  fill: #fff;\n  stroke: #6E8192;\n  stroke-width: 2;\n}\n\n.apexcharts-pan-icon.apexcharts-selected svg {\n  stroke: #008FFB;\n}\n\n.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {\n  stroke: #333;\n}\n\n.apexcharts-toolbar {\n  position: absolute;\n  z-index: 11;\n  max-width: 176px;\n  text-align: right;\n  border-radius: 3px;\n  padding: 0px 6px 2px 6px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.apexcharts-menu {\n  background: #fff;\n  position: absolute;\n  top: 100%;\n  border: 1px solid #ddd;\n  border-radius: 3px;\n  padding: 3px;\n  right: 10px;\n  opacity: 0;\n  min-width: 110px;\n  transition: 0.15s ease all;\n  pointer-events: none;\n}\n\n.apexcharts-menu.apexcharts-menu-open {\n  opacity: 1;\n  pointer-events: all;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-menu-item {\n  padding: 6px 7px;\n  font-size: 12px;\n  cursor: pointer;\n}\n\n.apexcharts-theme-light .apexcharts-menu-item:hover {\n  background: #eee;\n}\n\n.apexcharts-theme-dark .apexcharts-menu {\n  background: rgba(0, 0, 0, 0.7);\n  color: #fff;\n}\n\n@media screen and (min-width: 768px) {\n  .apexcharts-canvas:hover .apexcharts-toolbar {\n    opacity: 1;\n  }\n}\n\n.apexcharts-datalabel.apexcharts-element-hidden {\n  opacity: 0;\n}\n\n.apexcharts-pie-label,\n.apexcharts-datalabels,\n.apexcharts-datalabel,\n.apexcharts-datalabel-label,\n.apexcharts-datalabel-value {\n  cursor: default;\n  pointer-events: none;\n}\n\n.apexcharts-pie-label-delay {\n  opacity: 0;\n  animation-name: opaque;\n  animation-duration: 0.3s;\n  animation-fill-mode: forwards;\n  animation-timing-function: ease;\n}\n\n.apexcharts-canvas .apexcharts-element-hidden {\n  opacity: 0;\n}\n\n.apexcharts-hide .apexcharts-series-points {\n  opacity: 0;\n}\n\n.apexcharts-gridline,\n.apexcharts-annotation-rect,\n.apexcharts-tooltip .apexcharts-marker,\n.apexcharts-area-series .apexcharts-area,\n.apexcharts-line,\n.apexcharts-zoom-rect,\n.apexcharts-toolbar svg,\n.apexcharts-area-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,\n.apexcharts-line-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,\n.apexcharts-radar-series path,\n.apexcharts-radar-series polygon {\n  pointer-events: none;\n}\n\n\n/* markers */\n\n.apexcharts-marker {\n  transition: 0.15s ease all;\n}\n\n@keyframes opaque {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n\n\n/* Resize generated styles */\n\n@keyframes resizeanim {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 0;\n  }\n}\n\n.resize-triggers {\n  animation: 1ms resizeanim;\n  visibility: hidden;\n  opacity: 0;\n}\n\n.resize-triggers,\n.resize-triggers>div,\n.contract-trigger:before {\n  content: " ";\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  overflow: hidden;\n}\n\n.resize-triggers>div {\n  background: #eee;\n  overflow: auto;\n}\n\n.contract-trigger:before {\n  width: 200%;\n  height: 200%;\n}'),function(){function Re(ae){var _e=ae.__resizeTriggers__,Ie=_e.firstElementChild,Pe=_e.lastElementChild,ze=Ie?Ie.firstElementChild:null;Pe&&(Pe.scrollLeft=Pe.scrollWidth,Pe.scrollTop=Pe.scrollHeight),ze&&(ze.style.width=Ie.offsetWidth+1+"px",ze.style.height=Ie.offsetHeight+1+"px"),Ie&&(Ie.scrollLeft=Ie.scrollWidth,Ie.scrollTop=Ie.scrollHeight)}function p(ae){var _e=this;Re(this),this.__resizeRAF__&&D(this.__resizeRAF__),this.__resizeRAF__=S(function(){var Ie;((Ie=_e).offsetWidth!=Ie.__resizeLast__.width||Ie.offsetHeight!=Ie.__resizeLast__.height)&&(_e.__resizeLast__.width=_e.offsetWidth,_e.__resizeLast__.height=_e.offsetHeight,_e.__resizeListeners__.forEach(function(Ie){Ie.call(ae)}))})}var f,b,S=(f=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(ae){return window.setTimeout(ae,20)},function(ae){return f(ae)}),D=(b=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout,function(ae){return b(ae)}),B=!1,F="animationstart",Z="Webkit Moz O ms".split(" "),q="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),oe=document.createElement("fakeelement");if(void 0!==oe.style.animationName&&(B=!0),!1===B)for(var ue=0;ue<Z.length;ue++)if(void 0!==oe.style[Z[ue]+"AnimationName"]){F=q[ue];break}window.addResizeListener=function(ae,_e){ae.__resizeTriggers__||("static"==getComputedStyle(ae).position&&(ae.style.position="relative"),ae.__resizeLast__={},ae.__resizeListeners__=[],(ae.__resizeTriggers__=document.createElement("div")).className="resize-triggers",ae.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',ae.appendChild(ae.__resizeTriggers__),Re(ae),ae.addEventListener("scroll",p,!0),F&&ae.__resizeTriggers__.addEventListener(F,function(Ie){"resizeanim"==Ie.animationName&&Re(ae)})),ae.__resizeListeners__.push(_e)},window.removeResizeListener=function(ae,_e){ae&&(ae.__resizeListeners__.splice(ae.__resizeListeners__.indexOf(_e),1),ae.__resizeListeners__.length||(ae.removeEventListener("scroll",p),ae.__resizeTriggers__.parentNode&&(ae.__resizeTriggers__=!ae.removeChild(ae.__resizeTriggers__))))}}(),void 0===window.Apex&&(window.Apex={});var jt=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w}return de(Re,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new ii(this.ctx),this.ctx.axes=new Ws(this.ctx),this.ctx.core=new Pt(this.ctx.el,this.ctx),this.ctx.config=new bi({}),this.ctx.data=new kr(this.ctx),this.ctx.grid=new Ea(this.ctx),this.ctx.graphics=new Wt(this.ctx),this.ctx.coreUtils=new hi(this.ctx),this.ctx.crosshairs=new wi(this.ctx),this.ctx.events=new tr(this.ctx),this.ctx.exports=new Gs(this.ctx),this.ctx.localization=new wo(this.ctx),this.ctx.options=new Yr,this.ctx.responsive=new fs(this.ctx),this.ctx.series=new ai(this.ctx),this.ctx.theme=new xr(this.ctx),this.ctx.formatters=new xo(this.ctx),this.ctx.titleSubtitle=new nr(this.ctx),this.ctx.legend=new jn(this.ctx),this.ctx.toolbar=new Xi(this.ctx),this.ctx.dimensions=new Wo(this.ctx),this.ctx.updateHelpers=new nn(this.ctx),this.ctx.zoomPanSelection=new wl(this.ctx),this.ctx.w.globals.tooltip=new Ot(this.ctx)}}]),Re}(),en=function(){function Re(p){ee(this,Re),this.ctx=p,this.w=p.w}return de(Re,[{key:"clear",value:function(p){var f=p.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:f})}},{key:"killSVG",value:function(p){p.each(function(f,b){this.removeClass("*"),this.off(),this.stop()},!0),p.ungroup(),p.clear()}},{key:"clearDomElements",value:function(p){var f=this,S=this.w.globals.dom.Paper.node;S.parentNode&&S.parentNode.parentNode&&!p.isUpdating&&(S.parentNode.parentNode.style.minHeight="unset");var D=this.w.globals.dom.baseEl;D&&this.ctx.eventList.forEach(function(F){D.removeEventListener(F,f.ctx.events.documentEvent)});var B=this.w.globals.dom;if(null!==this.ctx.el)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(B.Paper),B.Paper.remove(),B.elWrap=null,B.elGraphical=null,B.elAnnotations=null,B.elLegendWrap=null,B.baseEl=null,B.elGridRect=null,B.elGridRectMask=null,B.elGridRectMarkerMask=null,B.elForecastMask=null,B.elNonForecastMask=null,B.elDefs=null}}]),Re}(),En=function(){function Re(p,f){ee(this,Re),this.opts=f,this.ctx=this,this.w=new Oi(f).init(),this.el=p,this.w.globals.cuid=ct.randomId(),this.w.globals.chartID=this.w.config.chart.id?ct.escapeString(this.w.config.chart.id):this.w.globals.cuid,new jt(this).initModules(),this.create=ct.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return de(Re,[{key:"render",value:function(){var p=this;return new Promise(function(f,b){if(null!==p.el){void 0===Apex._chartInstances&&(Apex._chartInstances=[]),p.w.config.chart.id&&Apex._chartInstances.push({id:p.w.globals.chartID,group:p.w.config.chart.group,chart:p}),p.setLocale(p.w.config.chart.defaultLocale);var S=p.w.config.chart.events.beforeMount;"function"==typeof S&&S(p,p.w),p.events.fireEvent("beforeMount",[p,p.w]),window.addEventListener("resize",p.windowResizeHandler),window.addResizeListener(p.el.parentNode,p.parentResizeHandler);var D=p.create(p.w.config.series,{});if(!D)return f(p);p.mount(D).then(function(){"function"==typeof p.w.config.chart.events.mounted&&p.w.config.chart.events.mounted(p,p.w),p.events.fireEvent("mounted",[p,p.w]),f(D)}).catch(function(B){b(B)})}else b(new Error("Element not found"))})}},{key:"create",value:function(p,f){var b=this.w;new jt(this).initModules();var S=this.w.globals;if(S.noData=!1,S.animationEnded=!1,this.responsive.checkResponsiveConfig(f),b.config.xaxis.convertedCatToNumeric&&new vi(b.config).convertCatToNumericXaxis(b.config,this.ctx),null===this.el||(this.core.setupElements(),"treemap"===b.config.chart.type&&(b.config.grid.show=!1,b.config.yaxis[0].show=!1),0===S.svgWidth))return S.animationEnded=!0,null;var D=hi.checkComboSeries(p);S.comboCharts=D.comboCharts,S.comboBarCount=D.comboBarCount;var B=p.every(function(ue){return ue.data&&0===ue.data.length});(0===p.length||B)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(p),this.theme.init(),new Mn(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),S.noData&&S.collapsedSeries.length!==S.series.length&&!b.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),S.axisCharts&&(this.core.coreCalculations(),"category"!==b.config.xaxis.type&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=b.globals.minX,this.ctx.toolbar.maxX=b.globals.maxX),this.formatters.heatmapLabelFormatters(),this.dimensions.plotCoords();var F=this.core.xySettings();this.grid.createGridMask();var Z=this.core.plotChartType(p,F),q=new Yn(this);return q.bringForward(),b.config.dataLabels.background.enabled&&q.dataLabelsBackground(),this.core.shiftGraphPosition(),{elGraph:Z,xyRatios:F,elInner:b.globals.dom.elGraphical,dimensions:{plot:{left:b.globals.translateX,top:b.globals.translateY,width:b.globals.gridWidth,height:b.globals.gridHeight}}}}},{key:"mount",value:function(){var p=this,f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,b=this,S=b.w;return new Promise(function(D,B){if(null===b.el)return B(new Error("Not enough data to display or target element not found"));(null===f||S.globals.allSeriesCollapsed)&&b.series.handleNoData(),"treemap"!==S.config.chart.type&&b.axes.drawAxis(S.config.chart.type,f.xyRatios),b.grid=new Ea(b);var F=b.grid.drawGrid();b.annotations=new wn(b),b.annotations.drawImageAnnos(),b.annotations.drawTextAnnos(),"back"===S.config.grid.position&&F&&S.globals.dom.elGraphical.add(F.el);var Z=new Xs(p.ctx),q=new Ki(p.ctx);if(null!==F&&(Z.xAxisLabelCorrections(F.xAxisTickWidth),q.setYAxisTextAlignments(),S.config.yaxis.map(function(ae,_e){-1===S.globals.ignoreYAxisIndexes.indexOf(_e)&&q.yAxisTitleRotate(_e,ae.opposite)})),"back"===S.config.annotations.position&&(S.globals.dom.Paper.add(S.globals.dom.elAnnotations),b.annotations.drawAxesAnnotations()),Array.isArray(f.elGraph))for(var oe=0;oe<f.elGraph.length;oe++)S.globals.dom.elGraphical.add(f.elGraph[oe]);else S.globals.dom.elGraphical.add(f.elGraph);if("front"===S.config.grid.position&&F&&S.globals.dom.elGraphical.add(F.el),"front"===S.config.xaxis.crosshairs.position&&b.crosshairs.drawXCrosshairs(),"front"===S.config.yaxis[0].crosshairs.position&&b.crosshairs.drawYCrosshairs(),"front"===S.config.annotations.position&&(S.globals.dom.Paper.add(S.globals.dom.elAnnotations),b.annotations.drawAxesAnnotations()),!S.globals.noData){if(S.config.tooltip.enabled&&!S.globals.noData&&b.w.globals.tooltip.drawTooltip(f.xyRatios),S.globals.axisCharts&&(S.globals.isXNumeric||S.config.xaxis.convertedCatToNumeric||S.globals.isTimelineBar))(S.config.chart.zoom.enabled||S.config.chart.selection&&S.config.chart.selection.enabled||S.config.chart.pan&&S.config.chart.pan.enabled)&&b.zoomPanSelection.init({xyRatios:f.xyRatios});else{var ue=S.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach(function(ae){ue[ae]=!1})}S.config.chart.toolbar.show&&!S.globals.allSeriesCollapsed&&b.toolbar.createToolbar()}S.globals.memory.methodsToExec.length>0&&S.globals.memory.methodsToExec.forEach(function(ae){ae.method(ae.params,!1,ae.context)}),S.globals.axisCharts||S.globals.noData||b.core.resizeNonAxisCharts(),D(b)})}},{key:"destroy",value:function(){window.removeEventListener("resize",this.windowResizeHandler),window.removeResizeListener(this.el.parentNode,this.parentResizeHandler);var p=this.w.config.chart.id;p&&Apex._chartInstances.forEach(function(f,b){f.id===ct.escapeString(p)&&Apex._chartInstances.splice(b,1)}),new en(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(p){var f=this,b=arguments.length>1&&void 0!==arguments[1]&&arguments[1],S=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],D=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],B=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],F=this.w;return F.globals.selection=void 0,p.series&&(this.series.resetSeries(!1,!0,!1),p.series.length&&p.series[0].data&&(p.series=p.series.map(function(Z,q){return f.updateHelpers._extendSeries(Z,q)})),this.updateHelpers.revertDefaultAxisMinMax()),p.xaxis&&(p=this.updateHelpers.forceXAxisUpdate(p)),p.yaxis&&(p=this.updateHelpers.forceYAxisUpdate(p)),F.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),p.theme&&(p=this.theme.updateThemeOptions(p)),this.updateHelpers._updateOptions(p,b,S,D,B)}},{key:"updateSeries",value:function(){var p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],f=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],b=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(p,f,b)}},{key:"appendSeries",value:function(p){var f=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],b=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],S=this.w.config.series.slice();return S.push(p),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(S,f,b)}},{key:"appendData",value:function(p){var f=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],b=this;b.w.globals.dataChanged=!0,b.series.getPreviousPaths();for(var S=b.w.config.series.slice(),D=0;D<S.length;D++)if(null!=p[D])for(var B=0;B<p[D].data.length;B++)S[D].data.push(p[D].data[B]);return b.w.config.series=S,f&&(b.w.globals.initialSeries=ct.clone(b.w.config.series)),this.update()}},{key:"update",value:function(p){var f=this;return new Promise(function(b,S){new en(f.ctx).clear({isUpdating:!0});var D=f.create(f.w.config.series,p);if(!D)return b(f);f.mount(D).then(function(){"function"==typeof f.w.config.chart.events.updated&&f.w.config.chart.events.updated(f,f.w),f.events.fireEvent("updated",[f,f.w]),f.w.globals.isDirty=!0,b(f)}).catch(function(B){S(B)})})}},{key:"getSyncedCharts",value:function(){var p=this.getGroupedCharts(),f=[this];return p.length&&(f=[],p.forEach(function(b){f.push(b)})),f}},{key:"getGroupedCharts",value:function(){var p=this;return Apex._chartInstances.filter(function(f){if(f.group)return!0}).map(function(f){return p.w.config.chart.group===f.group?f.chart:p})}},{key:"toggleSeries",value:function(p){return this.series.toggleSeries(p)}},{key:"showSeries",value:function(p){this.series.showSeries(p)}},{key:"hideSeries",value:function(p){this.series.hideSeries(p)}},{key:"resetSeries",value:function(){var p=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],f=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.series.resetSeries(p,f)}},{key:"addEventListener",value:function(p,f){this.events.addEventListener(p,f)}},{key:"removeEventListener",value:function(p,f){this.events.removeEventListener(p,f)}},{key:"addXaxisAnnotation",value:function(p){var f=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,S=this;b&&(S=b),S.annotations.addXaxisAnnotationExternal(p,f,S)}},{key:"addYaxisAnnotation",value:function(p){var f=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,S=this;b&&(S=b),S.annotations.addYaxisAnnotationExternal(p,f,S)}},{key:"addPointAnnotation",value:function(p){var f=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,S=this;b&&(S=b),S.annotations.addPointAnnotationExternal(p,f,S)}},{key:"clearAnnotations",value:function(){var p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,f=this;p&&(f=p),f.annotations.clearAnnotations(f)}},{key:"removeAnnotation",value:function(p){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,b=this;f&&(b=f),b.annotations.removeAnnotation(b,p)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(p,f){return this.coreUtils.getSeriesTotalsXRange(p,f)}},{key:"getHighestValueInSeries",value:function(){var p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,f=new Da(this.ctx);return f.getMinYMaxY(p).highestY}},{key:"getLowestValueInSeries",value:function(){var p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,f=new Da(this.ctx);return f.getMinYMaxY(p).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(p,f){return this.updateHelpers.toggleDataPointSelection(p,f)}},{key:"zoomX",value:function(p,f){this.ctx.toolbar.zoomUpdateOptions(p,f)}},{key:"setLocale",value:function(p){this.localization.setCurrentLocaleValues(p)}},{key:"dataURI",value:function(p){return new Gs(this.ctx).dataURI(p)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var p=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout(function(){p.w.globals.resized=!0,p.w.globals.dataChanged=!1,p.ctx.update()},150)}},{key:"_windowResizeHandler",value:function(){var p=this.w.config.chart.redrawOnWindowResize;"function"==typeof p&&(p=p()),p&&this._windowResize()}}],[{key:"getChartByID",value:function(p){var f=ct.escapeString(p),b=Apex._chartInstances.filter(function(S){return S.id===f})[0];return b&&b.chart}},{key:"initOnLoad",value:function(){for(var p=document.querySelectorAll("[data-apexcharts]"),f=0;f<p.length;f++)new Re(p[f],JSON.parse(p[f].getAttribute("data-options"))).render()}},{key:"exec",value:function(p,f){var b=this.getChartByID(p);if(b){b.w.globals.isExecCalled=!0;var S=null;if(-1!==b.publicMethods.indexOf(f)){for(var D=arguments.length,B=new Array(D>2?D-2:0),F=2;F<D;F++)B[F-2]=arguments[F];S=b[f].apply(b,B)}return S}}},{key:"merge",value:function(p,f){return ct.extend(p,f)}}]),Re}();Ut.exports=En},2329:(Ut,kt,Ae)=>{"use strict";Ae.d(kt,{Z:()=>o.Z});var o=Ae(4969);o.Z.registerVersion("firebase","8.9.1","app"),o.Z.SDK_VERSION="8.9.1"},3815:function(Ut,kt,Ae){var o;Ut=Ae.nmd(Ut),function(){var $,Ce="Expected a function",Me="__lodash_hash_undefined__",Ge="__lodash_placeholder__",ai=1/0,Bi=9007199254740991,Ti=4294967295,Kn=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],Oi="[object Arguments]",kr="[object Array]",ss="[object Boolean]",Gs="[object Date]",Ea="[object Error]",lr="[object Function]",Da="[object GeneratorFunction]",Ki="[object Map]",tr="[object Number]",Ws="[object Object]",wi="[object Promise]",xr="[object RegExp]",nr="[object Set]",Co="[object String]",Yc="[object Symbol]",Ns="[object WeakMap]",Pr="[object ArrayBuffer]",jn="[object DataView]",Xi="[object Float32Array]",wl="[object Float64Array]",Va="[object Int8Array]",Aa="[object Int16Array]",ws="[object Int32Array]",Bo="[object Uint8Array]",Yo="[object Uint8ClampedArray]",Rt="[object Uint16Array]",Ot="[object Uint32Array]",Qt=/\b__p \+= '';/g,_n=/\b(__p \+=) '' \+/g,on=/(__e\(.*?\)|\b__t\)) \+\n'';/g,gi=/&(?:amp|lt|gt|quot|#39);/g,Ui=/[&<>"']/g,hr=RegExp(gi.source),Hr=RegExp(Ui.source),Er=/<%-([\s\S]+?)%>/g,at=/<%([\s\S]+?)%>/g,Ye=/<%=([\s\S]+?)%>/g,$e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,dt=/^\w*$/,Ct=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Bt=/[\\^$.*+?()[\]{}|]/g,Pt=RegExp(Bt.source),nn=/^\s+/,jt=/\s/,en=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,En=/\{\n\/\* \[wrapped with (.+)\] \*/,Re=/,? & /,p=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,f=/[()=,{}\[\]\/\s]/,b=/\\(\\)?/g,S=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,D=/\w*$/,B=/^[-+]0x[0-9a-f]+$/i,F=/^0b[01]+$/i,Z=/^\[object .+?Constructor\]$/,q=/^0o[0-7]+$/i,oe=/^(?:0|[1-9]\d*)$/,ue=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ae=/($^)/,_e=/['\n\r\u2028\u2029\\]/g,Ie="\\ud800-\\udfff",st="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",bt="\\u2700-\\u27bf",X="a-z\\xdf-\\xf6\\xf8-\\xff",ln="A-Z\\xc0-\\xd6\\xd8-\\xde",qt="\\ufe0e\\ufe0f",un="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",zn="["+Ie+"]",ki="["+un+"]",pr="["+st+"]",_i="\\d+",Yi="["+bt+"]",Lr="["+X+"]",eo="[^"+Ie+un+_i+bt+X+ln+"]",Cs="\\ud83c[\\udffb-\\udfff]",jr="[^"+Ie+"]",Ms="(?:\\ud83c[\\udde6-\\uddff]){2}",Ia="[\\ud800-\\udbff][\\udc00-\\udfff]",ga="["+ln+"]",qo="(?:"+Lr+"|"+eo+")",Ad="(?:"+ga+"|"+eo+")",Nl="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Tm="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",rh="(?:"+pr+"|"+Cs+")?",Cl="["+qt+"]?",ou=Cl+rh+"(?:\\u200d(?:"+[jr,Ms,Ia].join("|")+")"+Cl+rh+")*",Ts="(?:"+[Yi,Ms,Ia].join("|")+")"+ou,Zh="(?:"+[jr+pr+"?",pr,Ms,Ia,zn].join("|")+")",sh=RegExp("['\u2019]","g"),Mp=RegExp(pr,"g"),nc=RegExp(Cs+"(?="+Cs+")|"+Zh+ou,"g"),oh=RegExp([ga+"?"+Lr+"+"+Nl+"(?="+[ki,ga,"$"].join("|")+")",Ad+"+"+Tm+"(?="+[ki,ga+qo,"$"].join("|")+")",ga+"?"+qo+"+"+Nl,ga+"+"+Tm,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",_i,Ts].join("|"),"g"),zl=RegExp("[\\u200d"+Ie+st+qt+"]"),ah=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,la=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Tp=-1,Ss={};Ss[Xi]=Ss[wl]=Ss[Va]=Ss[Aa]=Ss[ws]=Ss[Bo]=Ss[Yo]=Ss[Rt]=Ss[Ot]=!0,Ss[Oi]=Ss[kr]=Ss[Pr]=Ss[ss]=Ss[jn]=Ss[Gs]=Ss[Ea]=Ss[lr]=Ss[Ki]=Ss[tr]=Ss[Ws]=Ss[xr]=Ss[nr]=Ss[Co]=Ss[Ns]=!1;var zs={};zs[Oi]=zs[kr]=zs[Pr]=zs[jn]=zs[ss]=zs[Gs]=zs[Xi]=zs[wl]=zs[Va]=zs[Aa]=zs[ws]=zs[Ki]=zs[tr]=zs[Ws]=zs[xr]=zs[nr]=zs[Co]=zs[Yc]=zs[Bo]=zs[Yo]=zs[Rt]=zs[Ot]=!0,zs[Ea]=zs[lr]=zs[Ns]=!1;var Ld={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Or=parseFloat,ch=parseInt,Pd="object"==typeof global&&global&&global.Object===Object&&global,Sp="object"==typeof self&&self&&self.Object===Object&&self,_a=Pd||Sp||Function("return this")(),Qa=kt&&!kt.nodeType&&kt,mi=Qa&&Ut&&!Ut.nodeType&&Ut,Hc=mi&&mi.exports===Qa,rc=Hc&&Pd.process,Xa=function(){try{return mi&&mi.require&&mi.require("util").types||rc&&rc.binding&&rc.binding("util")}catch(An){}}(),Od=Xa&&Xa.isArrayBuffer,Vc=Xa&&Xa.isDate,Hs=Xa&&Xa.isMap,Bl=Xa&&Xa.isRegExp,or=Xa&&Xa.isSet,kp=Xa&&Xa.isTypedArray;function fr(Xt,An,yn){switch(yn.length){case 0:return Xt.call(An);case 1:return Xt.call(An,yn[0]);case 2:return Xt.call(An,yn[0],yn[1]);case 3:return Xt.call(An,yn[0],yn[1],yn[2])}return Xt.apply(An,yn)}function Ep(Xt,An,yn,Ei){for(var sr=-1,Dr=null==Xt?0:Xt.length;++sr<Dr;){var Js=Xt[sr];An(Ei,Js,yn(Js),Xt)}return Ei}function os(Xt,An){for(var yn=-1,Ei=null==Xt?0:Xt.length;++yn<Ei&&!1!==An(Xt[yn],yn,Xt););return Xt}function Ku(Xt,An){for(var yn=null==Xt?0:Xt.length;yn--&&!1!==An(Xt[yn],yn,Xt););return Xt}function Yl(Xt,An){for(var yn=-1,Ei=null==Xt?0:Xt.length;++yn<Ei;)if(!An(Xt[yn],yn,Xt))return!1;return!0}function sc(Xt,An){for(var yn=-1,Ei=null==Xt?0:Xt.length,sr=0,Dr=[];++yn<Ei;){var Js=Xt[yn];An(Js,yn,Xt)&&(Dr[sr++]=Js)}return Dr}function La(Xt,An){return!(null==Xt||!Xt.length)&&bc(Xt,An,0)>-1}function al(Xt,An,yn){for(var Ei=-1,sr=null==Xt?0:Xt.length;++Ei<sr;)if(yn(An,Xt[Ei]))return!0;return!1}function ds(Xt,An){for(var yn=-1,Ei=null==Xt?0:Xt.length,sr=Array(Ei);++yn<Ei;)sr[yn]=An(Xt[yn],yn,Xt);return sr}function ca(Xt,An){for(var yn=-1,Ei=An.length,sr=Xt.length;++yn<Ei;)Xt[sr+yn]=An[yn];return Xt}function uh(Xt,An,yn,Ei){var sr=-1,Dr=null==Xt?0:Xt.length;for(Ei&&Dr&&(yn=Xt[++sr]);++sr<Dr;)yn=An(yn,Xt[sr],sr,Xt);return yn}function xu(Xt,An,yn,Ei){var sr=null==Xt?0:Xt.length;for(Ei&&sr&&(yn=Xt[--sr]);sr--;)yn=An(yn,Xt[sr],sr,Xt);return yn}function Hl(Xt,An){for(var yn=-1,Ei=null==Xt?0:Xt.length;++yn<Ei;)if(An(Xt[yn],yn,Xt))return!0;return!1}var Gh=td("length");function ed(Xt,An,yn){var Ei;return yn(Xt,function(sr,Dr,Js){if(An(sr,Dr,Js))return Ei=Dr,!1}),Ei}function Rd(Xt,An,yn,Ei){for(var sr=Xt.length,Dr=yn+(Ei?1:-1);Ei?Dr--:++Dr<sr;)if(An(Xt[Dr],Dr,Xt))return Dr;return-1}function bc(Xt,An,yn){return An==An?function(Xt,An,yn){for(var Ei=yn-1,sr=Xt.length;++Ei<sr;)if(Xt[Ei]===An)return Ei;return-1}(Xt,An,yn):Rd(Xt,sf,yn)}function wu(Xt,An,yn,Ei){for(var sr=yn-1,Dr=Xt.length;++sr<Dr;)if(Ei(Xt[sr],An))return sr;return-1}function sf(Xt){return Xt!=Xt}function au(Xt,An){var yn=null==Xt?0:Xt.length;return yn?Mo(Xt,An)/yn:NaN}function td(Xt){return function(An){return null==An?$:An[Xt]}}function $n(Xt){return function(An){return null==Xt?$:Xt[An]}}function ms(Xt,An,yn,Ei,sr){return sr(Xt,function(Dr,Js,Xr){yn=Ei?(Ei=!1,Dr):An(yn,Dr,Js,Xr)}),yn}function Mo(Xt,An){for(var yn,Ei=-1,sr=Xt.length;++Ei<sr;){var Dr=An(Xt[Ei]);Dr!==$&&(yn=yn===$?Dr:yn+Dr)}return yn}function Fd(Xt,An){for(var yn=-1,Ei=Array(Xt);++yn<Xt;)Ei[yn]=An(yn);return Ei}function Pa(Xt){return Xt&&Xt.slice(0,Cc(Xt)+1).replace(nn,"")}function Do(Xt){return function(An){return Xt(An)}}function Bs(Xt,An){return ds(An,function(yn){return Xt[yn]})}function qh(Xt,An){return Xt.has(An)}function Dp(Xt,An){for(var yn=-1,Ei=Xt.length;++yn<Ei&&bc(An,Xt[yn],0)>-1;);return yn}function ll(Xt,An){for(var yn=Xt.length;yn--&&bc(An,Xt[yn],0)>-1;);return yn}function Uc(Xt,An){for(var yn=Xt.length,Ei=0;yn--;)Xt[yn]===An&&++Ei;return Ei}var po=$n({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),ya=$n({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function dh(Xt){return"\\"+Ld[Xt]}function yr(Xt){return zl.test(Xt)}function nd(Xt){var An=-1,yn=Array(Xt.size);return Xt.forEach(function(Ei,sr){yn[++An]=[sr,Ei]}),yn}function Cu(Xt,An){return function(yn){return Xt(An(yn))}}function $o(Xt,An){for(var yn=-1,Ei=Xt.length,sr=0,Dr=[];++yn<Ei;){var Js=Xt[yn];(Js===An||Js===Ge)&&(Xt[yn]=Ge,Dr[sr++]=yn)}return Dr}function wc(Xt){var An=-1,yn=Array(Xt.size);return Xt.forEach(function(Ei){yn[++An]=Ei}),yn}function va(Xt){return yr(Xt)?function(Xt){for(var An=nc.lastIndex=0;nc.test(Xt);)++An;return An}(Xt):Gh(Xt)}function ua(Xt){return yr(Xt)?function(Xt){return Xt.match(nc)||[]}(Xt):function(Xt){return Xt.split("")}(Xt)}function Cc(Xt){for(var An=Xt.length;An--&&jt.test(Xt.charAt(An)););return An}var jc=$n({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Nd=function Xt(An){var I,yn=(An=null==An?_a:Nd.defaults(_a.Object(),An,Nd.pick(_a,la))).Array,Ei=An.Date,sr=An.Error,Dr=An.Function,Js=An.Math,Xr=An.Object,ba=An.RegExp,Tc=An.String,Qo=An.TypeError,Tu=yn.prototype,Ja=Xr.prototype,lu=An["__core-js_shared__"],Xo=Dr.prototype.toString,Ar=Ja.hasOwnProperty,Su=0,Ap=(I=/[^.]+$/.exec(lu&&lu.keys&&lu.keys.IE_PROTO||""))?"Symbol(src)_1."+I:"",Sc=Ja.toString,id=Xo.call(Xr),Ip=_a._,lf=ba("^"+Xo.call(Ar).replace(Bt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Lp=Hc?An.Buffer:$,ku=An.Symbol,zd=An.Uint8Array,Pp=Lp?Lp.allocUnsafe:$,qs=Cu(Xr.getPrototypeOf,Xr),Eu=Xr.create,kc=Ja.propertyIsEnumerable,Du=Tu.splice,Ml=ku?ku.isConcatSpreadable:$,Zc=ku?ku.iterator:$,Vl=ku?ku.toStringTag:$,mh=function(){try{var I=hd(Xr,"defineProperty");return I({},"",{}),I}catch(H){}}(),Bd=An.clearTimeout!==_a.clearTimeout&&An.clearTimeout,Rf=Ei&&Ei.now!==_a.Date.now&&Ei.now,Xh=An.setTimeout!==_a.setTimeout&&An.setTimeout,Ul=Js.ceil,ac=Js.floor,rd=Xr.getOwnPropertySymbols,Ec=Lp?Lp.isBuffer:$,Gc=An.isFinite,Ci=Tu.join,wr=Cu(Xr.keys,Xr),$s=Js.max,Rr=Js.min,Ai=Ei.now,Ka=An.parseInt,Ri=Js.random,Op=Tu.reverse,Vs=hd(An,"DataView"),Ho=hd(An,"Map"),Os=hd(An,"Promise"),Tl=hd(An,"Set"),sd=hd(An,"WeakMap"),Ao=hd(Xr,"create"),el=sd&&new sd,lc={},Rp=Vu(Vs),cu=Vu(Ho),gh=Vu(Os),od=Vu(Tl),uu=Vu(sd),du=ku?ku.prototype:$,Dc=du?du.valueOf:$,Au=du?du.toString:$;function rt(I){if(za(I)&&!Gr(I)&&!(I instanceof as)){if(I instanceof tl)return I;if(Ar.call(I,"__wrapped__"))return fg(I)}return new tl(I)}var Ac=function(){function I(){}return function(H){if(!Vr(H))return{};if(Eu)return Eu(H);I.prototype=H;var ie=new I;return I.prototype=$,ie}}();function _h(){}function tl(I,H){this.__wrapped__=I,this.__actions__=[],this.__chain__=!!H,this.__index__=0,this.__values__=$}function as(I){this.__wrapped__=I,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ti,this.__views__=[]}function Jo(I){var H=-1,ie=null==I?0:I.length;for(this.clear();++H<ie;){var Se=I[H];this.set(Se[0],Se[1])}}function nl(I){var H=-1,ie=null==I?0:I.length;for(this.clear();++H<ie;){var Se=I[H];this.set(Se[0],Se[1])}}function N(I){var H=-1,ie=null==I?0:I.length;for(this.clear();++H<ie;){var Se=I[H];this.set(Se[0],Se[1])}}function ve(I){var H=-1,ie=null==I?0:I.length;for(this.__data__=new N;++H<ie;)this.add(I[H])}function Qe(I){var H=this.__data__=new nl(I);this.size=H.size}function wt(I,H){var ie=Gr(I),Se=!ie&&Na(I),Xe=!ie&&!Se&&om(I),ht=!ie&&!Se&&!Xe&&bf(I),Yt=ie||Se||Xe||ht,Kt=Yt?Fd(I.length,Tc):[],fn=Kt.length;for(var Qn in I)(H||Ar.call(I,Qn))&&(!Yt||!("length"==Qn||Xe&&("offset"==Qn||"parent"==Qn)||ht&&("buffer"==Qn||"byteLength"==Qn||"byteOffset"==Qn)||pd(Qn,fn)))&&Kt.push(Qn);return Kt}function Tt(I){var H=I.length;return H?I[Lu(0,H-1)]:$}function Vt(I,H){return Qf(Lc(I),ti(H,0,I.length))}function St(I){return Qf(Lc(I))}function Dt(I,H,ie){(ie!==$&&!gd(I[H],ie)||ie===$&&!(H in I))&&Bn(I,H,ie)}function kn(I,H,ie){var Se=I[H];(!Ar.call(I,H)||!gd(Se,ie)||ie===$&&!(H in I))&&Bn(I,H,ie)}function Dn(I,H){for(var ie=I.length;ie--;)if(gd(I[ie][0],H))return ie;return-1}function Nn(I,H,ie,Se){return ys(I,function(Xe,ht,Yt){H(Se,Xe,ie(Xe),Yt)}),Se}function It(I,H){return I&&da(H,$l(H),I)}function Bn(I,H,ie){"__proto__"==H&&mh?mh(I,H,{configurable:!0,enumerable:!0,value:ie,writable:!0}):I[H]=ie}function ui(I,H){for(var ie=-1,Se=H.length,Xe=yn(Se),ht=null==I;++ie<Se;)Xe[ie]=ht?$:Lg(I,H[ie]);return Xe}function ti(I,H,ie){return I==I&&(ie!==$&&(I=I<=ie?I:ie),H!==$&&(I=I>=H?I:H)),I}function Xn(I,H,ie,Se,Xe,ht){var Yt,Kt=1&H,fn=2&H,Qn=4&H;if(ie&&(Yt=Xe?ie(I,Se,Xe,ht):ie(I)),Yt!==$)return Yt;if(!Vr(I))return I;var Jn=Gr(I);if(Jn){if(Yt=function(I){var H=I.length,ie=new I.constructor(H);return H&&"string"==typeof I[0]&&Ar.call(I,"index")&&(ie.index=I.index,ie.input=I.input),ie}(I),!Kt)return Lc(I,Yt)}else{var Wn=Pc(I),Fi=Wn==lr||Wn==Da;if(om(I))return py(I,Kt);if(Wn==Ws||Wn==Oi||Fi&&!Xe){if(Yt=fn||Fi?{}:Mh(I),!Kt)return fn?function(I,H){return da(I,sp(I),H)}(I,function(I,H){return I&&da(H,Ll(H),I)}(Yt,I)):function(I,H){return da(I,Om(I),H)}(I,It(Yt,I))}else{if(!zs[Wn])return Xe?I:{};Yt=function(I,H,ie){var Se=I.constructor;switch(H){case Pr:return pl(I);case ss:case Gs:return new Se(+I);case jn:return function(I,H){var ie=H?pl(I.buffer):I.buffer;return new I.constructor(ie,I.byteOffset,I.byteLength)}(I,ie);case Xi:case wl:case Va:case Aa:case ws:case Bo:case Yo:case Rt:case Ot:return Yf(I,ie);case Ki:return new Se;case tr:case Co:return new Se(I);case xr:return function(I){var H=new I.constructor(I.source,D.exec(I));return H.lastIndex=I.lastIndex,H}(I);case nr:return new Se;case Yc:return function(I){return Dc?Xr(Dc.call(I)):{}}(I)}}(I,Wn,Kt)}}ht||(ht=new Qe);var dr=ht.get(I);if(dr)return dr;ht.set(I,Yt),Uv(I)?I.forEach(function(Wr){Yt.add(Xn(Wr,H,ie,Wr,I,ht))}):My(I)&&I.forEach(function(Wr,Ks){Yt.set(Ks,Xn(Wr,H,ie,Ks,I,ht))});var Rs=Jn?$:(Qn?fn?ag:og:fn?Ll:$l)(I);return os(Rs||I,function(Wr,Ks){Rs&&(Wr=I[Ks=Wr]),kn(Yt,Ks,Xn(Wr,H,ie,Ks,I,ht))}),Yt}function Pi(I,H,ie){var Se=ie.length;if(null==I)return!Se;for(I=Xr(I);Se--;){var Xe=ie[Se],Yt=I[Xe];if(Yt===$&&!(Xe in I)||!(0,H[Xe])(Yt))return!1}return!0}function Jr(I,H,ie){if("function"!=typeof I)throw new Qo(Ce);return Hu(function(){I.apply($,ie)},H)}function hs(I,H,ie,Se){var Xe=-1,ht=La,Yt=!0,Kt=I.length,fn=[],Qn=H.length;if(!Kt)return fn;ie&&(H=ds(H,Do(ie))),Se?(ht=al,Yt=!1):H.length>=200&&(ht=qh,Yt=!1,H=new ve(H));e:for(;++Xe<Kt;){var Jn=I[Xe],Wn=null==ie?Jn:ie(Jn);if(Jn=Se||0!==Jn?Jn:0,Yt&&Wn==Wn){for(var Fi=Qn;Fi--;)if(H[Fi]===Wn)continue e;fn.push(Jn)}else ht(H,Wn,Se)||fn.push(Jn)}return fn}rt.templateSettings={escape:Er,evaluate:at,interpolate:Ye,variable:"",imports:{_:rt}},(rt.prototype=_h.prototype).constructor=rt,(tl.prototype=Ac(_h.prototype)).constructor=tl,(as.prototype=Ac(_h.prototype)).constructor=as,Jo.prototype.clear=function(){this.__data__=Ao?Ao(null):{},this.size=0},Jo.prototype.delete=function(I){var H=this.has(I)&&delete this.__data__[I];return this.size-=H?1:0,H},Jo.prototype.get=function(I){var H=this.__data__;if(Ao){var ie=H[I];return ie===Me?$:ie}return Ar.call(H,I)?H[I]:$},Jo.prototype.has=function(I){var H=this.__data__;return Ao?H[I]!==$:Ar.call(H,I)},Jo.prototype.set=function(I,H){var ie=this.__data__;return this.size+=this.has(I)?0:1,ie[I]=Ao&&H===$?Me:H,this},nl.prototype.clear=function(){this.__data__=[],this.size=0},nl.prototype.delete=function(I){var H=this.__data__,ie=Dn(H,I);return!(ie<0||(ie==H.length-1?H.pop():Du.call(H,ie,1),--this.size,0))},nl.prototype.get=function(I){var H=this.__data__,ie=Dn(H,I);return ie<0?$:H[ie][1]},nl.prototype.has=function(I){return Dn(this.__data__,I)>-1},nl.prototype.set=function(I,H){var ie=this.__data__,Se=Dn(ie,I);return Se<0?(++this.size,ie.push([I,H])):ie[Se][1]=H,this},N.prototype.clear=function(){this.size=0,this.__data__={hash:new Jo,map:new(Ho||nl),string:new Jo}},N.prototype.delete=function(I){var H=zu(this,I).delete(I);return this.size-=H?1:0,H},N.prototype.get=function(I){return zu(this,I).get(I)},N.prototype.has=function(I){return zu(this,I).has(I)},N.prototype.set=function(I,H){var ie=zu(this,I),Se=ie.size;return ie.set(I,H),this.size+=ie.size==Se?0:1,this},ve.prototype.add=ve.prototype.push=function(I){return this.__data__.set(I,Me),this},ve.prototype.has=function(I){return this.__data__.has(I)},Qe.prototype.clear=function(){this.__data__=new nl,this.size=0},Qe.prototype.delete=function(I){var H=this.__data__,ie=H.delete(I);return this.size=H.size,ie},Qe.prototype.get=function(I){return this.__data__.get(I)},Qe.prototype.has=function(I){return this.__data__.has(I)},Qe.prototype.set=function(I,H){var ie=this.__data__;if(ie instanceof nl){var Se=ie.__data__;if(!Ho||Se.length<199)return Se.push([I,H]),this.size=++ie.size,this;ie=this.__data__=new N(Se)}return ie.set(I,H),this.size=ie.size,this};var ys=Up(Hi),Cr=Up(Us,!0);function ks(I,H){var ie=!0;return ys(I,function(Se,Xe,ht){return ie=!!H(Se,Xe,ht)}),ie}function to(I,H,ie){for(var Se=-1,Xe=I.length;++Se<Xe;){var ht=I[Se],Yt=H(ht);if(null!=Yt&&(Kt===$?Yt==Yt&&!pc(Yt):ie(Yt,Kt)))var Kt=Yt,fn=ht}return fn}function ja(I,H){var ie=[];return ys(I,function(Se,Xe,ht){H(Se,Xe,ht)&&ie.push(Se)}),ie}function gs(I,H,ie,Se,Xe){var ht=-1,Yt=I.length;for(ie||(ie=Wf),Xe||(Xe=[]);++ht<Yt;){var Kt=I[ht];H>0&&ie(Kt)?H>1?gs(Kt,H-1,ie,Se,Xe):ca(Xe,Kt):Se||(Xe[Xe.length]=Kt)}return Xe}var Ko=Ds(),Sl=Ds(!0);function Hi(I,H){return I&&Ko(I,H,$l)}function Us(I,H){return I&&Sl(I,H,$l)}function Kr(I,H){return sc(H,function(ie){return _d(I[ie])})}function Is(I,H){for(var ie=0,Se=(H=Gl(H,I)).length;null!=I&&ie<Se;)I=I[$c(H[ie++])];return ie&&ie==Se?I:$}function fo(I,H,ie){var Se=H(I);return Gr(I)?Se:ca(Se,ie(I))}function Zr(I){return null==I?I===$?"[object Undefined]":"[object Null]":Vl&&Vl in Xr(I)?function(I){var H=Ar.call(I,Vl),ie=I[Vl];try{I[Vl]=$;var Se=!0}catch(ht){}var Xe=Sc.call(I);return Se&&(H?I[Vl]=ie:delete I[Vl]),Xe}(I):function(I){return Sc.call(I)}(I)}function ul(I,H){return I>H}function dl(I,H){return null!=I&&Ar.call(I,H)}function kl(I,H){return null!=I&&H in Xr(I)}function Za(I,H,ie){for(var Se=ie?al:La,Xe=I[0].length,ht=I.length,Yt=ht,Kt=yn(ht),fn=1/0,Qn=[];Yt--;){var Jn=I[Yt];Yt&&H&&(Jn=ds(Jn,Do(H))),fn=Rr(Jn.length,fn),Kt[Yt]=!ie&&(H||Xe>=120&&Jn.length>=120)?new ve(Yt&&Jn):$}Jn=I[0];var Wn=-1,Fi=Kt[0];e:for(;++Wn<Xe&&Qn.length<fn;){var dr=Jn[Wn],Ur=H?H(dr):dr;if(dr=ie||0!==dr?dr:0,!(Fi?qh(Fi,Ur):Se(Qn,Ur,ie))){for(Yt=ht;--Yt;){var Rs=Kt[Yt];if(!(Rs?qh(Rs,Ur):Se(I[Yt],Ur,ie)))continue e}Fi&&Fi.push(Ur),Qn.push(dr)}}return Qn}function Oa(I,H,ie){var Se=null==(I=Th(I,H=Gl(H,I)))?I:I[$c(Qi(H))];return null==Se?$:fr(Se,I,ie)}function To(I){return za(I)&&Zr(I)==Oi}function cc(I,H,ie,Se,Xe){return I===H||(null==I||null==H||!za(I)&&!za(H)?I!=I&&H!=H:function(I,H,ie,Se,Xe,ht){var Yt=Gr(I),Kt=Gr(H),fn=Yt?kr:Pc(I),Qn=Kt?kr:Pc(H),Jn=(fn=fn==Oi?Ws:fn)==Ws,Wn=(Qn=Qn==Oi?Ws:Qn)==Ws,Fi=fn==Qn;if(Fi&&om(I)){if(!om(H))return!1;Yt=!0,Jn=!1}if(Fi&&!Jn)return ht||(ht=new Qe),Yt||bf(I)?uc(I,H,ie,Se,Xe,ht):function(I,H,ie,Se,Xe,ht,Yt){switch(ie){case jn:if(I.byteLength!=H.byteLength||I.byteOffset!=H.byteOffset)return!1;I=I.buffer,H=H.buffer;case Pr:return!(I.byteLength!=H.byteLength||!ht(new zd(I),new zd(H)));case ss:case Gs:case tr:return gd(+I,+H);case Ea:return I.name==H.name&&I.message==H.message;case xr:case Co:return I==H+"";case Ki:var Kt=nd;case nr:if(Kt||(Kt=wc),I.size!=H.size&&!(1&Se))return!1;var Qn=Yt.get(I);if(Qn)return Qn==H;Se|=2,Yt.set(I,H);var Jn=uc(Kt(I),Kt(H),Se,Xe,ht,Yt);return Yt.delete(I),Jn;case Yc:if(Dc)return Dc.call(I)==Dc.call(H)}return!1}(I,H,fn,ie,Se,Xe,ht);if(!(1&ie)){var dr=Jn&&Ar.call(I,"__wrapped__"),Ur=Wn&&Ar.call(H,"__wrapped__");if(dr||Ur){var Rs=dr?I.value():I,Wr=Ur?H.value():H;return ht||(ht=new Qe),Xe(Rs,Wr,ie,Se,ht)}}return!!Fi&&(ht||(ht=new Qe),function(I,H,ie,Se,Xe,ht){var Yt=1&ie,Kt=og(I),fn=Kt.length;if(fn!=og(H).length&&!Yt)return!1;for(var Wn=fn;Wn--;){var Fi=Kt[Wn];if(!(Yt?Fi in H:Ar.call(H,Fi)))return!1}var dr=ht.get(I),Ur=ht.get(H);if(dr&&Ur)return dr==H&&Ur==I;var Rs=!0;ht.set(I,H),ht.set(H,I);for(var Wr=Yt;++Wn<fn;){var Ks=I[Fi=Kt[Wn]],co=H[Fi];if(Se)var Oh=Yt?Se(co,Ks,Fi,H,I,ht):Se(Ks,co,Fi,I,H,ht);if(!(Oh===$?Ks===co||Xe(Ks,co,ie,Se,ht):Oh)){Rs=!1;break}Wr||(Wr="constructor"==Fi)}if(Rs&&!Wr){var Zu=I.constructor,Rh=H.constructor;Zu!=Rh&&"constructor"in I&&"constructor"in H&&!("function"==typeof Zu&&Zu instanceof Zu&&"function"==typeof Rh&&Rh instanceof Rh)&&(Rs=!1)}return ht.delete(I),ht.delete(H),Rs}(I,H,ie,Se,Xe,ht))}(I,H,ie,Se,cc,Xe))}function Es(I,H,ie,Se){var Xe=ie.length,ht=Xe,Yt=!Se;if(null==I)return!ht;for(I=Xr(I);Xe--;){var Kt=ie[Xe];if(Yt&&Kt[2]?Kt[1]!==I[Kt[0]]:!(Kt[0]in I))return!1}for(;++Xe<ht;){var fn=(Kt=ie[Xe])[0],Qn=I[fn],Jn=Kt[1];if(Yt&&Kt[2]){if(Qn===$&&!(fn in I))return!1}else{var Wn=new Qe;if(Se)var Fi=Se(Qn,Jn,fn,I,H,Wn);if(!(Fi===$?cc(Jn,Qn,3,Se,Wn):Fi))return!1}}return!0}function W(I){return!(!Vr(I)||function(I){return!!Ap&&Ap in I}(I))&&(_d(I)?lf:Z).test(Vu(I))}function nt(I){return"function"==typeof I?I:null==I?no:"object"==typeof I?Gr(I)?js(I[0],I[1]):mo(I):Ly(I)}function $t(I){if(!Bu(I))return wr(I);var H=[];for(var ie in Xr(I))Ar.call(I,ie)&&"constructor"!=ie&&H.push(ie);return H}function Gi(I,H){return I<H}function ls(I,H){var ie=-1,Se=Al(I)?yn(I.length):[];return ys(I,function(Xe,ht,Yt){Se[++ie]=H(Xe,ht,Yt)}),Se}function mo(I){var H=rp(I);return 1==H.length&&H[0][2]?Lv(H[0][0],H[0][1]):function(ie){return ie===I||Es(ie,I,H)}}function js(I,H){return Rm(I)&&Oc(H)?Lv($c(I),H):function(ie){var Se=Lg(ie,I);return Se===$&&Se===H?fc(ie,I):cc(H,Se,3)}}function ea(I,H,ie,Se,Xe){I!==H&&Ko(H,function(ht,Yt){if(Xe||(Xe=new Qe),Vr(ht))!function(I,H,ie,Se,Xe,ht,Yt){var Kt=fd(I,ie),fn=fd(H,ie),Qn=Yt.get(fn);if(Qn)Dt(I,ie,Qn);else{var Jn=ht?ht(Kt,fn,ie+"",I,H,Yt):$,Wn=Jn===$;if(Wn){var Fi=Gr(fn),dr=!Fi&&om(fn),Ur=!Fi&&!dr&&bf(fn);Jn=fn,Fi||dr||Ur?Gr(Kt)?Jn=Kt:Il(Kt)?Jn=Lc(Kt):dr?(Wn=!1,Jn=py(fn,!0)):Ur?(Wn=!1,Jn=Yf(fn,!0)):Jn=[]:Eg(fn)||Na(fn)?(Jn=Kt,Na(Kt)?Jn=Dg(Kt):(!Vr(Kt)||_d(Kt))&&(Jn=Mh(fn))):Wn=!1}Wn&&(Yt.set(fn,Jn),Xe(Jn,fn,Se,ht,Yt),Yt.delete(fn)),Dt(I,ie,Jn)}}(I,H,Yt,ie,ea,Se,Xe);else{var Kt=Se?Se(fd(I,Yt),ht,Yt+"",I,H,Xe):$;Kt===$&&(Kt=ht),Dt(I,Yt,Kt)}},Ll)}function zf(I,H){var ie=I.length;if(ie)return pd(H+=H<0?ie:0,ie)?I[H]:$}function t_(I,H,ie){H=H.length?ds(H,function(ht){return Gr(ht)?function(Yt){return Is(Yt,1===ht.length?ht[0]:ht)}:ht}):[no];var Se=-1;return H=ds(H,Do(vr())),function(Xt,An){var yn=Xt.length;for(Xt.sort(function(ht,Yt){return function(I,H,ie){for(var Se=-1,Xe=I.criteria,ht=H.criteria,Yt=Xe.length,Kt=ie.length;++Se<Yt;){var fn=Dm(Xe[Se],ht[Se]);if(fn)return Se>=Kt?fn:fn*("desc"==ie[Se]?-1:1)}return I.index-H.index}(ht,Yt,ie)});yn--;)Xt[yn]=Xt[yn].value;return Xt}(ls(I,function(ht,Yt,Kt){return{criteria:ds(H,function(Qn){return Qn(ht)}),index:++Se,value:ht}}))}function Ga(I,H,ie){for(var Se=-1,Xe=H.length,ht={};++Se<Xe;){var Yt=H[Se],Kt=Is(I,Yt);ie(Kt,Yt)&&Yp(ht,Gl(Yt,I),Kt)}return ht}function zp(I,H,ie,Se){var Xe=Se?wu:bc,ht=-1,Yt=H.length,Kt=I;for(I===H&&(H=Lc(H)),ie&&(Kt=ds(I,Do(ie)));++ht<Yt;)for(var fn=0,Qn=H[ht],Jn=ie?ie(Qn):Qn;(fn=Xe(Kt,Jn,fn,Se))>-1;)Kt!==I&&Du.call(Kt,fn,1),Du.call(I,fn,1);return I}function Bp(I,H){for(var ie=I?H.length:0,Se=ie-1;ie--;){var Xe=H[ie];if(ie==Se||Xe!==ht){var ht=Xe;pd(Xe)?Du.call(I,Xe,1):_s(I,Xe)}}return I}function Lu(I,H){return I+ac(Ri()*(H-I+1))}function qc(I,H){var ie="";if(!I||H<1||H>Bi)return ie;do{H%2&&(ie+=I),(H=ac(H/2))&&(I+=I)}while(H);return ie}function Mr(I,H){return hg(dg(I,H,no),I+"")}function vh(I){return Tt(Ht(I))}function Kh(I,H){var ie=Ht(I);return Qf(ie,ti(H,0,ie.length))}function Yp(I,H,ie,Se){if(!Vr(I))return I;for(var Xe=-1,ht=(H=Gl(H,I)).length,Yt=ht-1,Kt=I;null!=Kt&&++Xe<ht;){var fn=$c(H[Xe]),Qn=ie;if("__proto__"===fn||"constructor"===fn||"prototype"===fn)return I;if(Xe!=Yt){var Jn=Kt[fn];(Qn=Se?Se(Jn,fn,Kt):$)===$&&(Qn=Vr(Jn)?Jn:pd(H[Xe+1])?[]:{})}kn(Kt,fn,Qn),Kt=Kt[fn]}return I}var bh=el?function(I,H){return el.set(I,H),I}:no,Hp=mh?function(I,H){return mh(I,"toString",{configurable:!0,enumerable:!1,value:Ca(H),writable:!0})}:no;function dy(I){return Qf(Ht(I))}function Pu(I,H,ie){var Se=-1,Xe=I.length;H<0&&(H=-H>Xe?0:Xe+H),(ie=ie>Xe?Xe:ie)<0&&(ie+=Xe),Xe=H>ie?0:ie-H>>>0,H>>>=0;for(var ht=yn(Xe);++Se<Xe;)ht[Se]=I[Se+H];return ht}function Sm(I,H){var ie;return ys(I,function(Se,Xe,ht){return!(ie=H(Se,Xe,ht))}),!!ie}function Ic(I,H,ie){var Se=0,Xe=null==I?Se:I.length;if("number"==typeof H&&H==H&&Xe<=2147483647){for(;Se<Xe;){var ht=Se+Xe>>>1,Yt=I[ht];null!==Yt&&!pc(Yt)&&(ie?Yt<=H:Yt<H)?Se=ht+1:Xe=ht}return Xe}return i_(I,H,no,ie)}function i_(I,H,ie,Se){var Xe=0,ht=null==I?0:I.length;if(0===ht)return 0;for(var Yt=(H=ie(H))!=H,Kt=null===H,fn=pc(H),Qn=H===$;Xe<ht;){var Jn=ac((Xe+ht)/2),Wn=ie(I[Jn]),Fi=Wn!==$,dr=null===Wn,Ur=Wn==Wn,Rs=pc(Wn);if(Yt)var Wr=Se||Ur;else Wr=Qn?Ur&&(Se||Fi):Kt?Ur&&Fi&&(Se||!dr):fn?Ur&&Fi&&!dr&&(Se||!Rs):!dr&&!Rs&&(Se?Wn<=H:Wn<H);Wr?Xe=Jn+1:ht=Jn}return Rr(ht,4294967294)}function hy(I,H){for(var ie=-1,Se=I.length,Xe=0,ht=[];++ie<Se;){var Yt=I[ie],Kt=H?H(Yt):Yt;if(!ie||!gd(Kt,fn)){var fn=Kt;ht[Xe++]=0===Yt?0:Yt}}return ht}function El(I){return"number"==typeof I?I:pc(I)?NaN:+I}function Fr(I){if("string"==typeof I)return I;if(Gr(I))return ds(I,Fr)+"";if(pc(I))return Au?Au.call(I):"";var H=I+"";return"0"==H&&1/I==-ai?"-0":H}function cd(I,H,ie){var Se=-1,Xe=La,ht=I.length,Yt=!0,Kt=[],fn=Kt;if(ie)Yt=!1,Xe=al;else if(ht>=200){var Qn=H?null:Uf(I);if(Qn)return wc(Qn);Yt=!1,Xe=qh,fn=new ve}else fn=H?[]:Kt;e:for(;++Se<ht;){var Jn=I[Se],Wn=H?H(Jn):Jn;if(Jn=ie||0!==Jn?Jn:0,Yt&&Wn==Wn){for(var Fi=fn.length;Fi--;)if(fn[Fi]===Wn)continue e;H&&fn.push(Wn),Kt.push(Jn)}else Xe(fn,Wn,ie)||(fn!==Kt&&fn.push(Wn),Kt.push(Jn))}return Kt}function _s(I,H){return null==(I=Th(I,H=Gl(H,I)))||delete I[$c(Qi(H))]}function Vp(I,H,ie,Se){return Yp(I,H,ie(Is(I,H)),Se)}function pu(I,H,ie,Se){for(var Xe=I.length,ht=Se?Xe:-1;(Se?ht--:++ht<Xe)&&H(I[ht],ht,I););return ie?Pu(I,Se?0:ht,Se?ht+1:Xe):Pu(I,Se?ht+1:0,Se?Xe:ht)}function Yd(I,H){var ie=I;return ie instanceof as&&(ie=ie.value()),uh(H,function(Se,Xe){return Xe.func.apply(Xe.thisArg,ca([Se],Xe.args))},ie)}function Zl(I,H,ie){var Se=I.length;if(Se<2)return Se?cd(I[0]):[];for(var Xe=-1,ht=yn(Se);++Xe<Se;)for(var Yt=I[Xe],Kt=-1;++Kt<Se;)Kt!=Xe&&(ht[Xe]=hs(ht[Xe]||Yt,I[Kt],H,ie));return cd(gs(ht,1),H,ie)}function rg(I,H,ie){for(var Se=-1,Xe=I.length,ht=H.length,Yt={};++Se<Xe;)ie(Yt,I[Se],Se<ht?H[Se]:$);return Yt}function fu(I){return Il(I)?I:[]}function Hd(I){return"function"==typeof I?I:no}function Gl(I,H){return Gr(I)?I:Rm(I,H)?[I]:Xf(_o(I))}var xh=Mr;function wh(I,H,ie){var Se=I.length;return ie=ie===$?Se:ie,!H&&ie>=Se?I:Pu(I,H,ie)}var km=Bd||function(I){return _a.clearTimeout(I)};function py(I,H){if(H)return I.slice();var ie=I.length,Se=Pp?Pp(ie):new I.constructor(ie);return I.copy(Se),Se}function pl(I){var H=new I.constructor(I.byteLength);return new zd(H).set(new zd(I)),H}function Yf(I,H){var ie=H?pl(I.buffer):I.buffer;return new I.constructor(ie,I.byteOffset,I.length)}function Dm(I,H){if(I!==H){var ie=I!==$,Se=null===I,Xe=I==I,ht=pc(I),Yt=H!==$,Kt=null===H,fn=H==H,Qn=pc(H);if(!Kt&&!Qn&&!ht&&I>H||ht&&Yt&&fn&&!Kt&&!Qn||Se&&Yt&&fn||!ie&&fn||!Xe)return 1;if(!Se&&!ht&&!Qn&&I<H||Qn&&ie&&Xe&&!Se&&!ht||Kt&&ie&&Xe||!Yt&&Xe||!fn)return-1}return 0}function sg(I,H,ie,Se){for(var Xe=-1,ht=I.length,Yt=ie.length,Kt=-1,fn=H.length,Qn=$s(ht-Yt,0),Jn=yn(fn+Qn),Wn=!Se;++Kt<fn;)Jn[Kt]=H[Kt];for(;++Xe<Yt;)(Wn||Xe<ht)&&(Jn[ie[Xe]]=I[Xe]);for(;Qn--;)Jn[Kt++]=I[Xe++];return Jn}function r_(I,H,ie,Se){for(var Xe=-1,ht=I.length,Yt=-1,Kt=ie.length,fn=-1,Qn=H.length,Jn=$s(ht-Kt,0),Wn=yn(Jn+Qn),Fi=!Se;++Xe<Jn;)Wn[Xe]=I[Xe];for(var dr=Xe;++fn<Qn;)Wn[dr+fn]=H[fn];for(;++Yt<Kt;)(Fi||Xe<ht)&&(Wn[dr+ie[Yt]]=I[Xe++]);return Wn}function Lc(I,H){var ie=-1,Se=I.length;for(H||(H=yn(Se));++ie<Se;)H[ie]=I[ie];return H}function da(I,H,ie,Se){var Xe=!ie;ie||(ie={});for(var ht=-1,Yt=H.length;++ht<Yt;){var Kt=H[ht],fn=Se?Se(ie[Kt],I[Kt],Kt,ie,I):$;fn===$&&(fn=I[Kt]),Xe?Bn(ie,Kt,fn):kn(ie,Kt,fn)}return ie}function es(I,H){return function(ie,Se){var Xe=Gr(ie)?Ep:Nn,ht=H?H():{};return Xe(ie,I,vr(Se,2),ht)}}function Dl(I){return Mr(function(H,ie){var Se=-1,Xe=ie.length,ht=Xe>1?ie[Xe-1]:$,Yt=Xe>2?ie[2]:$;for(ht=I.length>3&&"function"==typeof ht?(Xe--,ht):$,Yt&&ml(ie[0],ie[1],Yt)&&(ht=Xe<3?$:ht,Xe=1),H=Xr(H);++Se<Xe;){var Kt=ie[Se];Kt&&I(H,Kt,Se,ht)}return H})}function Up(I,H){return function(ie,Se){if(null==ie)return ie;if(!Al(ie))return I(ie,Se);for(var Xe=ie.length,ht=H?Xe:-1,Yt=Xr(ie);(H?ht--:++ht<Xe)&&!1!==Se(Yt[ht],ht,Yt););return ie}}function Ds(I){return function(H,ie,Se){for(var Xe=-1,ht=Xr(H),Yt=Se(H),Kt=Yt.length;Kt--;){var fn=Yt[I?Kt:++Xe];if(!1===ie(ht[fn],fn,ht))break}return H}}function Vf(I){return function(H){var ie=yr(H=_o(H))?ua(H):$,Se=ie?ie[0]:H.charAt(0),Xe=ie?wh(ie,1).join(""):H.slice(1);return Se[I]()+Xe}}function Vd(I){return function(H){return uh(wa(ei(H).replace(sh,"")),I,"")}}function Ou(I){return function(){var H=arguments;switch(H.length){case 0:return new I;case 1:return new I(H[0]);case 2:return new I(H[0],H[1]);case 3:return new I(H[0],H[1],H[2]);case 4:return new I(H[0],H[1],H[2],H[3]);case 5:return new I(H[0],H[1],H[2],H[3],H[4]);case 6:return new I(H[0],H[1],H[2],H[3],H[4],H[5]);case 7:return new I(H[0],H[1],H[2],H[3],H[4],H[5],H[6])}var ie=Ac(I.prototype),Se=I.apply(ie,H);return Vr(Se)?Se:ie}}function cf(I){return function(H,ie,Se){var Xe=Xr(H);if(!Al(H)){var ht=vr(ie,3);H=$l(H),ie=function(Kt){return ht(Xe[Kt],Kt,Xe)}}var Yt=I(H,ie,Se);return Yt>-1?Xe[ht?H[Yt]:Yt]:$}}function ep(I){return Nu(function(H){var ie=H.length,Se=ie,Xe=tl.prototype.thru;for(I&&H.reverse();Se--;){var ht=H[Se];if("function"!=typeof ht)throw new Qo(Ce);if(Xe&&!Yt&&"wrapper"==dc(ht))var Yt=new tl([],!0)}for(Se=Yt?Se:ie;++Se<ie;){var Kt=dc(ht=H[Se]),fn="wrapper"==Kt?Gf(ht):$;Yt=fn&&ug(fn[0])&&424==fn[1]&&!fn[4].length&&1==fn[9]?Yt[dc(fn[0])].apply(Yt,fn[3]):1==ht.length&&ug(ht)?Yt[Kt]():Yt.thru(ht)}return function(){var Qn=arguments,Jn=Qn[0];if(Yt&&1==Qn.length&&Gr(Jn))return Yt.plant(Jn).value();for(var Wn=0,Fi=ie?H[Wn].apply(this,Qn):Jn;++Wn<ie;)Fi=H[Wn].call(this,Fi);return Fi}})}function uf(I,H,ie,Se,Xe,ht,Yt,Kt,fn,Qn){var Jn=128&H,Wn=1&H,Fi=2&H,dr=24&H,Ur=512&H,Rs=Fi?$:Ou(I);return function Wr(){for(var Ks=arguments.length,co=yn(Ks),Oh=Ks;Oh--;)co[Oh]=arguments[Oh];if(dr)var Zu=Ud(Wr),Rh=Uc(co,Zu);if(Se&&(co=sg(co,Se,Xe,dr)),ht&&(co=r_(co,ht,Yt,dr)),Ks-=Rh,dr&&Ks<Qn){var fa=$o(co,Zu);return Pm(I,H,uf,Wr.placeholder,ie,co,fa,Kt,fn,Qn-Ks)}var Fh=Wn?ie:this,Sf=Fi?Fh[I]:I;return Ks=co.length,Kt?co=Fm(co,Kt):Ur&&Ks>1&&co.reverse(),Jn&&fn<Ks&&(co.length=fn),this&&this!==_a&&this instanceof Wr&&(Sf=Rs||Ou(Sf)),Sf.apply(Fh,co)}}function fy(I,H){return function(ie,Se){return function(I,H,ie,Se){return Hi(I,function(Xe,ht,Yt){H(Se,ie(Xe),ht,Yt)}),Se}(ie,I,H(Se),{})}}function Lm(I,H){return function(ie,Se){var Xe;if(ie===$&&Se===$)return H;if(ie!==$&&(Xe=ie),Se!==$){if(Xe===$)return Se;"string"==typeof ie||"string"==typeof Se?(ie=Fr(ie),Se=Fr(Se)):(ie=El(ie),Se=El(Se)),Xe=I(ie,Se)}return Xe}}function tp(I){return Nu(function(H){return H=ds(H,Do(vr())),Mr(function(ie){var Se=this;return I(H,function(Xe){return fr(Xe,Se,ie)})})})}function ud(I,H){var ie=(H=H===$?" ":Fr(H)).length;if(ie<2)return ie?qc(H,I):H;var Se=qc(H,Ul(I/va(H)));return yr(H)?wh(ua(Se),0,I).join(""):Se.slice(0,I)}function np(I){return function(H,ie,Se){return Se&&"number"!=typeof Se&&ml(H,ie,Se)&&(ie=Se=$),H=Wp(H),ie===$?(ie=H,H=0):ie=Wp(ie),function(I,H,ie,Se){for(var Xe=-1,ht=$s(Ul((H-I)/(ie||1)),0),Yt=yn(ht);ht--;)Yt[Se?ht:++Xe]=I,I+=ie;return Yt}(H,ie,Se=Se===$?H<ie?1:-1:Wp(Se),I)}}function df(I){return function(H,ie){return"string"==typeof H&&"string"==typeof ie||(H=ju(H),ie=ju(ie)),I(H,ie)}}function Pm(I,H,ie,Se,Xe,ht,Yt,Kt,fn,Qn){var Jn=8&H;H|=Jn?32:64,4&(H&=~(Jn?64:32))||(H&=-4);var Rs=[I,H,Xe,Jn?ht:$,Jn?Yt:$,Jn?$:ht,Jn?$:Yt,Kt,fn,Qn],Wr=ie.apply($,Rs);return ug(I)&&Zd(Wr,Rs),Wr.placeholder=Se,Sh(Wr,I,H)}function Wa(I){var H=Js[I];return function(ie,Se){if(ie=ju(ie),(Se=null==Se?0:Rr(cr(Se),292))&&Gc(ie)){var Xe=(_o(ie)+"e").split("e");return+((Xe=(_o(H(Xe[0]+"e"+(+Xe[1]+Se)))+"e").split("e"))[0]+"e"+(+Xe[1]-Se))}return H(ie)}}var Uf=Tl&&1/wc(new Tl([,-0]))[1]==ai?function(I){return new Tl(I)}:sl;function jf(I){return function(H){var ie=Pc(H);return ie==Ki?nd(H):ie==nr?function(Xt){var An=-1,yn=Array(Xt.size);return Xt.forEach(function(Ei){yn[++An]=[Ei,Ei]}),yn}(H):function(Xt,An){return ds(An,function(yn){return[yn,Xt[yn]]})}(H,I(H))}}function dd(I,H,ie,Se,Xe,ht,Yt,Kt){var fn=2&H;if(!fn&&"function"!=typeof I)throw new Qo(Ce);var Qn=Se?Se.length:0;if(Qn||(H&=-97,Se=Xe=$),Yt=Yt===$?Yt:$s(cr(Yt),0),Kt=Kt===$?Kt:cr(Kt),Qn-=Xe?Xe.length:0,64&H){var Jn=Se,Wn=Xe;Se=Xe=$}var Fi=fn?$:Gf(I),dr=[I,H,ie,Se,Xe,Jn,Wn,ht,Yt,Kt];if(Fi&&function(I,H){var ie=I[1],Se=H[1],Xe=ie|Se;if(!(Xe<131||(128==Se&&8==ie||128==Se&&256==ie&&I[7].length<=H[8]||384==Se&&H[7].length<=H[8]&&8==ie)))return I;1&Se&&(I[2]=H[2],Xe|=1&ie?0:4);var Kt=H[3];if(Kt){var fn=I[3];I[3]=fn?sg(fn,Kt,H[4]):Kt,I[4]=fn?$o(I[3],Ge):H[4]}(Kt=H[5])&&(I[5]=(fn=I[5])?r_(fn,Kt,H[6]):Kt,I[6]=fn?$o(I[5],Ge):H[6]),(Kt=H[7])&&(I[7]=Kt),128&Se&&(I[8]=null==I[8]?H[8]:Rr(I[8],H[8])),null==I[9]&&(I[9]=H[9]),I[0]=H[0],I[1]=Xe}(dr,Fi),I=dr[0],H=dr[1],ie=dr[2],Se=dr[3],Xe=dr[4],!(Kt=dr[9]=dr[9]===$?fn?0:I.length:$s(dr[9]-Qn,0))&&24&H&&(H&=-25),H&&1!=H)Ur=8==H||16==H?function(I,H,ie){var Se=Ou(I);return function Xe(){for(var ht=arguments.length,Yt=yn(ht),Kt=ht,fn=Ud(Xe);Kt--;)Yt[Kt]=arguments[Kt];var Qn=ht<3&&Yt[0]!==fn&&Yt[ht-1]!==fn?[]:$o(Yt,fn);return(ht-=Qn.length)<ie?Pm(I,H,uf,Xe.placeholder,$,Yt,Qn,$,$,ie-ht):fr(this&&this!==_a&&this instanceof Xe?Se:I,this,Yt)}}(I,H,Kt):32!=H&&33!=H||Xe.length?uf.apply($,dr):function(I,H,ie,Se){var Xe=1&H,ht=Ou(I);return function Yt(){for(var Kt=-1,fn=arguments.length,Qn=-1,Jn=Se.length,Wn=yn(Jn+fn),Fi=this&&this!==_a&&this instanceof Yt?ht:I;++Qn<Jn;)Wn[Qn]=Se[Qn];for(;fn--;)Wn[Qn++]=arguments[++Kt];return fr(Fi,Xe?ie:this,Wn)}}(I,H,ie,Se);else var Ur=function(I,H,ie){var Se=1&H,Xe=Ou(I);return function ht(){return(this&&this!==_a&&this instanceof ht?Xe:I).apply(Se?ie:this,arguments)}}(I,H,ie);return Sh((Fi?bh:Zd)(Ur,dr),I,H)}function Ru(I,H,ie,Se){return I===$||gd(I,Ja[ie])&&!Ar.call(Se,ie)?H:I}function Zf(I,H,ie,Se,Xe,ht){return Vr(I)&&Vr(H)&&(ht.set(H,I),ea(I,H,$,Zf,ht),ht.delete(H)),I}function ip(I){return Eg(I)?$:I}function uc(I,H,ie,Se,Xe,ht){var Yt=1&ie,Kt=I.length,fn=H.length;if(Kt!=fn&&!(Yt&&fn>Kt))return!1;var Qn=ht.get(I),Jn=ht.get(H);if(Qn&&Jn)return Qn==H&&Jn==I;var Wn=-1,Fi=!0,dr=2&ie?new ve:$;for(ht.set(I,H),ht.set(H,I);++Wn<Kt;){var Ur=I[Wn],Rs=H[Wn];if(Se)var Wr=Yt?Se(Rs,Ur,Wn,H,I,ht):Se(Ur,Rs,Wn,I,H,ht);if(Wr!==$){if(Wr)continue;Fi=!1;break}if(dr){if(!Hl(H,function(Ks,co){if(!qh(dr,co)&&(Ur===Ks||Xe(Ur,Ks,ie,Se,ht)))return dr.push(co)})){Fi=!1;break}}else if(Ur!==Rs&&!Xe(Ur,Rs,ie,Se,ht)){Fi=!1;break}}return ht.delete(I),ht.delete(H),Fi}function Nu(I){return hg(dg(I,$,se),I+"")}function og(I){return fo(I,$l,Om)}function ag(I){return fo(I,Ll,sp)}var Gf=el?function(I){return el.get(I)}:sl;function dc(I){for(var H=I.name+"",ie=lc[H],Se=Ar.call(lc,H)?ie.length:0;Se--;){var Xe=ie[Se],ht=Xe.func;if(null==ht||ht==I)return Xe.name}return H}function Ud(I){return(Ar.call(rt,"placeholder")?rt:I).placeholder}function vr(){var I=rt.iteratee||yd;return I=I===yd?nt:I,arguments.length?I(arguments[0],arguments[1]):I}function zu(I,H){var ie=I.__data__;return function(I){var H=typeof I;return"string"==H||"number"==H||"symbol"==H||"boolean"==H?"__proto__"!==I:null===I}(H)?ie["string"==typeof H?"string":"hash"]:ie.map}function rp(I){for(var H=$l(I),ie=H.length;ie--;){var Se=H[ie],Xe=I[Se];H[ie]=[Se,Xe,Oc(Xe)]}return H}function hd(I,H){var ie=function(Xt,An){return null==Xt?$:Xt[An]}(I,H);return W(ie)?ie:$}var Om=rd?function(I){return null==I?[]:(I=Xr(I),sc(rd(I),function(H){return kc.call(I,H)}))}:yl,sp=rd?function(I){for(var H=[];I;)ca(H,Om(I)),I=qs(I);return H}:yl,Pc=Zr;function cg(I,H,ie){for(var Se=-1,Xe=(H=Gl(H,I)).length,ht=!1;++Se<Xe;){var Yt=$c(H[Se]);if(!(ht=null!=I&&ie(I,Yt)))break;I=I[Yt]}return ht||++Se!=Xe?ht:!!(Xe=null==I?0:I.length)&&kg(Xe)&&pd(Yt,Xe)&&(Gr(I)||Na(I))}function Mh(I){return"function"!=typeof I.constructor||Bu(I)?{}:Ac(qs(I))}function Wf(I){return Gr(I)||Na(I)||!!(Ml&&I&&I[Ml])}function pd(I,H){var ie=typeof I;return!!(H=null==H?Bi:H)&&("number"==ie||"symbol"!=ie&&oe.test(I))&&I>-1&&I%1==0&&I<H}function ml(I,H,ie){if(!Vr(ie))return!1;var Se=typeof H;return!!("number"==Se?Al(ie)&&pd(H,ie.length):"string"==Se&&H in ie)&&gd(ie[H],I)}function Rm(I,H){if(Gr(I))return!1;var ie=typeof I;return!("number"!=ie&&"symbol"!=ie&&"boolean"!=ie&&null!=I&&!pc(I))||dt.test(I)||!$e.test(I)||null!=H&&I in Xr(H)}function ug(I){var H=dc(I),ie=rt[H];if("function"!=typeof ie||!(H in as.prototype))return!1;if(I===ie)return!0;var Se=Gf(ie);return!!Se&&I===Se[0]}(Vs&&Pc(new Vs(new ArrayBuffer(1)))!=jn||Ho&&Pc(new Ho)!=Ki||Os&&Pc(Os.resolve())!=wi||Tl&&Pc(new Tl)!=nr||sd&&Pc(new sd)!=Ns)&&(Pc=function(I){var H=Zr(I),ie=H==Ws?I.constructor:$,Se=ie?Vu(ie):"";if(Se)switch(Se){case Rp:return jn;case cu:return Ki;case gh:return wi;case od:return nr;case uu:return Ns}return H});var qf=lu?_d:Ph;function Bu(I){var H=I&&I.constructor;return I===("function"==typeof H&&H.prototype||Ja)}function Oc(I){return I==I&&!Vr(I)}function Lv(I,H){return function(ie){return null!=ie&&ie[I]===H&&(H!==$||I in Xr(ie))}}function dg(I,H,ie){return H=$s(H===$?I.length-1:H,0),function(){for(var Se=arguments,Xe=-1,ht=$s(Se.length-H,0),Yt=yn(ht);++Xe<ht;)Yt[Xe]=Se[H+Xe];Xe=-1;for(var Kt=yn(H+1);++Xe<H;)Kt[Xe]=Se[Xe];return Kt[H]=ie(Yt),fr(I,this,Kt)}}function Th(I,H){return H.length<2?I:Is(I,Pu(H,0,-1))}function Fm(I,H){for(var ie=I.length,Se=Rr(H.length,ie),Xe=Lc(I);Se--;){var ht=H[Se];I[Se]=pd(ht,ie)?Xe[ht]:$}return I}function fd(I,H){if(("constructor"!==H||"function"!=typeof I[H])&&"__proto__"!=H)return I[H]}var Zd=pg(bh),Hu=Xh||function(I,H){return _a.setTimeout(I,H)},hg=pg(Hp);function Sh(I,H,ie){var Se=H+"";return hg(I,function(I,H){var ie=H.length;if(!ie)return I;var Se=ie-1;return H[Se]=(ie>1?"& ":"")+H[Se],H=H.join(ie>2?", ":" "),I.replace(en,"{\n/* [wrapped with "+H+"] */\n")}(Se,function(I,H){return os(Kn,function(ie){var Se="_."+ie[0];H&ie[1]&&!La(I,Se)&&I.push(Se)}),I.sort()}(function(I){var H=I.match(En);return H?H[1].split(Re):[]}(Se),ie)))}function pg(I){var H=0,ie=0;return function(){var Se=Ai(),Xe=16-(Se-ie);if(ie=Se,Xe>0){if(++H>=800)return arguments[0]}else H=0;return I.apply($,arguments)}}function Qf(I,H){var ie=-1,Se=I.length,Xe=Se-1;for(H=H===$?Se:H;++ie<H;){var ht=Lu(ie,Xe),Yt=I[ht];I[ht]=I[ie],I[ie]=Yt}return I.length=H,I}var H,ie,Xf=(H=wg(function(I){var H=[];return 46===I.charCodeAt(0)&&H.push(""),I.replace(Ct,function(ie,Se,Xe,ht){H.push(Xe?ht.replace(b,"$1"):Se||ie)}),H},function(Se){return 500===ie.size&&ie.clear(),Se}),ie=H.cache,H);function $c(I){if("string"==typeof I||pc(I))return I;var H=I+"";return"0"==H&&1/I==-ai?"-0":H}function Vu(I){if(null!=I){try{return Xo.call(I)}catch(H){}try{return I+""}catch(H){}}return""}function fg(I){if(I instanceof as)return I.clone();var H=new tl(I.__wrapped__,I.__chain__);return H.__actions__=Lc(I.__actions__),H.__index__=I.__index__,H.__values__=I.__values__,H}var a_=Mr(function(I,H){return Il(I)?hs(I,gs(H,1,Il,!0)):[]}),md=Mr(function(I,H){var ie=Qi(H);return Il(ie)&&(ie=$),Il(I)?hs(I,gs(H,1,Il,!0),vr(ie,2)):[]}),Jf=Mr(function(I,H){var ie=Qi(H);return Il(ie)&&(ie=$),Il(I)?hs(I,gs(H,1,Il,!0),$,ie):[]});function P(I,H,ie){var Se=null==I?0:I.length;if(!Se)return-1;var Xe=null==ie?0:cr(ie);return Xe<0&&(Xe=$s(Se+Xe,0)),Rd(I,vr(H,3),Xe)}function j(I,H,ie){var Se=null==I?0:I.length;if(!Se)return-1;var Xe=Se-1;return ie!==$&&(Xe=cr(ie),Xe=ie<0?$s(Se+Xe,0):Rr(Xe,Se-1)),Rd(I,vr(H,3),Xe,!0)}function se(I){return null!=I&&I.length?gs(I,1):[]}function ut(I){return I&&I.length?I[0]:$}var Sn=Mr(function(I){var H=ds(I,fu);return H.length&&H[0]===I[0]?Za(H):[]}),Hn=Mr(function(I){var H=Qi(I),ie=ds(I,fu);return H===Qi(ie)?H=$:ie.pop(),ie.length&&ie[0]===I[0]?Za(ie,vr(H,2)):[]}),ci=Mr(function(I){var H=Qi(I),ie=ds(I,fu);return(H="function"==typeof H?H:$)&&ie.pop(),ie.length&&ie[0]===I[0]?Za(ie,$,H):[]});function Qi(I){var H=null==I?0:I.length;return H?I[H-1]:$}var Fa=Mr(Qc);function Qc(I,H){return I&&I.length&&H&&H.length?zp(I,H):I}var ta=Nu(function(I,H){var ie=null==I?0:I.length,Se=ui(I,H);return Bp(I,ds(H,function(Xe){return pd(Xe,ie)?+Xe:Xe}).sort(Dm)),Se});function gf(I){return null==I?I:Op.call(I)}var Zp=Mr(function(I){return cd(gs(I,1,Il,!0))}),vg=Mr(function(I){var H=Qi(I);return Il(H)&&(H=$),cd(gs(I,1,Il,!0),vr(H,2))}),Yb=Mr(function(I){var H=Qi(I);return H="function"==typeof H?H:$,cd(gs(I,1,Il,!0),$,H)});function yy(I){if(!I||!I.length)return[];var H=0;return I=sc(I,function(ie){if(Il(ie))return H=$s(ie.length,H),!0}),Fd(H,function(ie){return ds(I,td(ie))})}function Nv(I,H){if(!I||!I.length)return[];var ie=yy(I);return null==H?ie:ds(ie,function(Se){return fr(H,$,Se)})}var Vb=Mr(function(I,H){return Il(I)?hs(I,H):[]}),ns=Mr(function(I){return Zl(sc(I,Il))}),Ub=Mr(function(I){var H=Qi(I);return Il(H)&&(H=$),Zl(sc(I,Il),vr(H,2))}),jb=Mr(function(I){var H=Qi(I);return H="function"==typeof H?H:$,Zl(sc(I,Il),$,H)}),zm=Mr(yy),Bv=Mr(function(I){var H=I.length,ie=H>1?I[H-1]:$;return ie="function"==typeof ie?(I.pop(),ie):$,Nv(I,ie)});function vy(I){var H=rt(I);return H.__chain__=!0,H}function em(I,H){return H(I)}var bg=Nu(function(I){var H=I.length,ie=H?I[0]:0,Se=this.__wrapped__,Xe=function(ht){return ui(ht,I)};return!(H>1||this.__actions__.length)&&Se instanceof as&&pd(ie)?((Se=Se.slice(ie,+ie+(H?1:0))).__actions__.push({func:em,args:[Xe],thisArg:$}),new tl(Se,this.__chain__).thru(function(ht){return H&&!ht.length&&ht.push($),ht})):this.thru(Xe)}),p_=es(function(I,H,ie){Ar.call(I,ie)?++I[ie]:Bn(I,ie,1)}),Eo=cf(P),mx=cf(j);function xg(I,H){return(Gr(I)?os:ys)(I,vr(H,3))}function Yv(I,H){return(Gr(I)?Ku:Cr)(I,vr(H,3))}var Eh=es(function(I,H,ie){Ar.call(I,ie)?I[ie].push(H):Bn(I,ie,[H])}),Zb=Mr(function(I,H,ie){var Se=-1,Xe="function"==typeof H,ht=Al(I)?yn(I.length):[];return ys(I,function(Yt){ht[++Se]=Xe?fr(H,Yt,ie):Oa(Yt,H,ie)}),ht}),_x=es(function(I,H,ie){Bn(I,ie,H)});function f_(I,H){return(Gr(I)?ds:ls)(I,vr(H,3))}var Gb=es(function(I,H,ie){I[ie?0:1].push(H)},function(){return[[],[]]}),xy=Mr(function(I,H){if(null==I)return[];var ie=H.length;return ie>1&&ml(I,H[0],H[1])?H=[]:ie>2&&ml(H[0],H[1],H[2])&&(H=[H[0]]),t_(I,gs(H,1),[])}),lp=Rf||function(){return _a.Date.now()};function Hm(I,H,ie){return H=ie?$:H,dd(I,128,$,$,$,$,H=I&&null==H?I.length:H)}function Hv(I,H){var ie;if("function"!=typeof H)throw new Qo(Ce);return I=cr(I),function(){return--I>0&&(ie=H.apply(this,arguments)),I<=1&&(H=$),ie}}var Wd=Mr(function(I,H,ie){var Se=1;if(ie.length){var Xe=$o(ie,Ud(Wd));Se|=32}return dd(I,Se,H,ie,Xe)}),nm=Mr(function(I,H,ie){var Se=3;if(ie.length){var Xe=$o(ie,Ud(nm));Se|=32}return dd(H,Se,I,ie,Xe)});function __(I,H,ie){var Se,Xe,ht,Yt,Kt,fn,Qn=0,Jn=!1,Wn=!1,Fi=!0;if("function"!=typeof I)throw new Qo(Ce);function dr(fa){var Fh=Se,Sf=Xe;return Se=Xe=$,Qn=fa,Yt=I.apply(Sf,Fh)}function Ur(fa){return Qn=fa,Kt=Hu(Ks,H),Jn?dr(fa):Yt}function Wr(fa){var Fh=fa-fn;return fn===$||Fh>=H||Fh<0||Wn&&fa-Qn>=ht}function Ks(){var fa=lp();if(Wr(fa))return co(fa);Kt=Hu(Ks,function(fa){var s0=H-(fa-fn);return Wn?Rr(s0,ht-(fa-Qn)):s0}(fa))}function co(fa){return Kt=$,Fi&&Se?dr(fa):(Se=Xe=$,Yt)}function Rh(){var fa=lp(),Fh=Wr(fa);if(Se=arguments,Xe=this,fn=fa,Fh){if(Kt===$)return Ur(fn);if(Wn)return km(Kt),Kt=Hu(Ks,H),dr(fn)}return Kt===$&&(Kt=Hu(Ks,H)),Yt}return H=ju(H)||0,Vr(ie)&&(Jn=!!ie.leading,ht=(Wn="maxWait"in ie)?$s(ju(ie.maxWait)||0,H):ht,Fi="trailing"in ie?!!ie.trailing:Fi),Rh.cancel=function(){Kt!==$&&km(Kt),Qn=0,Se=fn=Xe=Kt=$},Rh.flush=function(){return Kt===$?Yt:co(lp())},Rh}var bx=Mr(function(I,H){return Jr(I,1,H)}),xx=Mr(function(I,H,ie){return Jr(I,ju(H)||0,ie)});function wg(I,H){if("function"!=typeof I||null!=H&&"function"!=typeof H)throw new Qo(Ce);var ie=function(){var Se=arguments,Xe=H?H.apply(this,Se):Se[0],ht=ie.cache;if(ht.has(Xe))return ht.get(Xe);var Yt=I.apply(this,Se);return ie.cache=ht.set(Xe,Yt)||ht,Yt};return ie.cache=new(wg.Cache||N),ie}function im(I){if("function"!=typeof I)throw new Qo(Ce);return function(){var H=arguments;switch(H.length){case 0:return!I.call(this);case 1:return!I.call(this,H[0]);case 2:return!I.call(this,H[0],H[1]);case 3:return!I.call(this,H[0],H[1],H[2])}return!I.apply(this,H)}}wg.Cache=N;var vt=xh(function(I,H){var ie=(H=1==H.length&&Gr(H[0])?ds(H[0],Do(vr())):ds(gs(H,1),Do(vr()))).length;return Mr(function(Se){for(var Xe=-1,ht=Rr(Se.length,ie);++Xe<ht;)Se[Xe]=H[Xe].call(this,Se[Xe]);return fr(I,this,Se)})}),Ls=Mr(function(I,H){var ie=$o(H,Ud(Ls));return dd(I,32,$,H,ie)}),Ah=Mr(function(I,H){var ie=$o(H,Ud(Ah));return dd(I,64,$,H,ie)}),Uu=Nu(function(I,H){return dd(I,256,$,$,$,H)});function gd(I,H){return I===H||I!=I&&H!=H}var sm=df(ul),Xb=df(function(I,H){return I>=H}),Na=To(function(){return arguments}())?To:function(I){return za(I)&&Ar.call(I,"callee")&&!kc.call(I,"callee")},Gr=yn.isArray,go=Od?Do(Od):function(I){return za(I)&&Zr(I)==Pr};function Al(I){return null!=I&&kg(I.length)&&!_d(I)}function Il(I){return za(I)&&Al(I)}var om=Ec||Ph,b_=Vc?Do(Vc):function(I){return za(I)&&Zr(I)==Gs};function x_(I){if(!za(I))return!1;var H=Zr(I);return H==Ea||"[object DOMException]"==H||"string"==typeof I.message&&"string"==typeof I.name&&!Eg(I)}function _d(I){if(!Vr(I))return!1;var H=Zr(I);return H==lr||H==Da||"[object AsyncFunction]"==H||"[object Proxy]"==H}function il(I){return"number"==typeof I&&I==cr(I)}function kg(I){return"number"==typeof I&&I>-1&&I%1==0&&I<=Bi}function Vr(I){var H=typeof I;return null!=I&&("object"==H||"function"==H)}function za(I){return null!=I&&"object"==typeof I}var My=Hs?Do(Hs):function(I){return za(I)&&Pc(I)==Ki};function M_(I){return"number"==typeof I||za(I)&&Zr(I)==tr}function Eg(I){if(!za(I)||Zr(I)!=Ws)return!1;var H=qs(I);if(null===H)return!0;var ie=Ar.call(H,"constructor")&&H.constructor;return"function"==typeof ie&&ie instanceof ie&&Xo.call(ie)==id}var T_=Bl?Do(Bl):function(I){return za(I)&&Zr(I)==xr},Uv=or?Do(or):function(I){return za(I)&&Pc(I)==nr};function am(I){return"string"==typeof I||!Gr(I)&&za(I)&&Zr(I)==Co}function pc(I){return"symbol"==typeof I||za(I)&&Zr(I)==Yc}var bf=kp?Do(kp):function(I){return za(I)&&kg(I.length)&&!!Ss[Zr(I)]},Ey=df(Gi),Dy=df(function(I,H){return I<=H});function S_(I){if(!I)return[];if(Al(I))return am(I)?ua(I):Lc(I);if(Zc&&I[Zc])return function(Xt){for(var An,yn=[];!(An=Xt.next()).done;)yn.push(An.value);return yn}(I[Zc]());var H=Pc(I);return(H==Ki?nd:H==nr?wc:Ht)(I)}function Wp(I){return I?(I=ju(I))===ai||I===-ai?17976931348623157e292*(I<0?-1:1):I==I?I:0:0===I?I:0}function cr(I){var H=Wp(I),ie=H%1;return H==H?ie?H-ie:H:0}function jm(I){return I?ti(cr(I),0,Ti):0}function ju(I){if("number"==typeof I)return I;if(pc(I))return NaN;if(Vr(I)){var H="function"==typeof I.valueOf?I.valueOf():I;I=Vr(H)?H+"":H}if("string"!=typeof I)return 0===I?I:+I;I=Pa(I);var ie=F.test(I);return ie||q.test(I)?ch(I.slice(2),ie?2:8):B.test(I)?NaN:+I}function Dg(I){return da(I,Ll(I))}function _o(I){return null==I?"":Fr(I)}var Ag=Dl(function(I,H){if(Bu(H)||Al(H))da(H,$l(H),I);else for(var ie in H)Ar.call(H,ie)&&kn(I,ie,H[ie])}),$d=Dl(function(I,H){da(H,Ll(H),I)}),cm=Dl(function(I,H,ie,Se){da(H,Ll(H),I,Se)}),Zm=Dl(function(I,H,ie,Se){da(H,$l(H),I,Se)}),up=Nu(ui),Ay=Mr(function(I,H){I=Xr(I);var ie=-1,Se=H.length,Xe=Se>2?H[2]:$;for(Xe&&ml(H[0],H[1],Xe)&&(Se=1);++ie<Se;)for(var ht=H[ie],Yt=Ll(ht),Kt=-1,fn=Yt.length;++Kt<fn;){var Qn=Yt[Kt],Jn=I[Qn];(Jn===$||gd(Jn,Ja[Qn])&&!Ar.call(I,Qn))&&(I[Qn]=ht[Qn])}return I}),Iy=Mr(function(I){return I.push($,Zf),fr(M,$,I)});function Lg(I,H,ie){var Se=null==I?$:Is(I,H);return Se===$?ie:Se}function fc(I,H){return null!=I&&cg(I,H,kl)}var Wm=fy(function(I,H,ie){null!=H&&"function"!=typeof H.toString&&(H=Sc.call(H)),I[H]=ie},Ca(no)),jv=fy(function(I,H,ie){null!=H&&"function"!=typeof H.toString&&(H=Sc.call(H)),Ar.call(I,H)?I[H].push(ie):I[H]=[ie]},vr),Zv=Mr(Oa);function $l(I){return Al(I)?wt(I):$t(I)}function Ll(I){return Al(I)?wt(I,!0):function(I){if(!Vr(I))return function(I){var H=[];if(null!=I)for(var ie in Xr(I))H.push(ie);return H}(I);var H=Bu(I),ie=[];for(var Se in I)"constructor"==Se&&(H||!Ar.call(I,Se))||ie.push(Se);return ie}(I)}var y=Dl(function(I,H,ie){ea(I,H,ie)}),M=Dl(function(I,H,ie,Se){ea(I,H,ie,Se)}),L=Nu(function(I,H){var ie={};if(null==I)return ie;var Se=!1;H=ds(H,function(ht){return ht=Gl(ht,I),Se||(Se=ht.length>1),ht}),da(I,ag(I),ie),Se&&(ie=Xn(ie,7,ip));for(var Xe=H.length;Xe--;)_s(ie,H[Xe]);return ie}),V=Nu(function(I,H){return null==I?{}:function(I,H){return Ga(I,H,function(ie,Se){return fc(I,Se)})}(I,H)});function K(I,H){if(null==I)return{};var ie=ds(ag(I),function(Se){return[Se]});return H=vr(H),Ga(I,ie,function(Se,Xe){return H(Se,Xe[0])})}var Te=jf($l),Oe=jf(Ll);function Ht(I){return null==I?[]:Bs(I,$l(I))}var bn=Vd(function(I,H,ie){return H=H.toLowerCase(),I+(ie?Un(H):H)});function Un(I){return $a(_o(I).toLowerCase())}function ei(I){return(I=_o(I))&&I.replace(ue,po).replace(Mp,"")}var Gn=Vd(function(I,H,ie){return I+(ie?"-":"")+H.toLowerCase()}),ni=Vd(function(I,H,ie){return I+(ie?" ":"")+H.toLowerCase()}),Pn=Vf("toLowerCase"),Wi=Vd(function(I,H,ie){return I+(ie?"_":"")+H.toLowerCase()}),qa=Vd(function(I,H,ie){return I+(ie?" ":"")+$a(H)}),lo=Vd(function(I,H,ie){return I+(ie?" ":"")+H.toUpperCase()}),$a=Vf("toUpperCase");function wa(I,H,ie){return I=_o(I),(H=ie?$:H)===$?function(Xt){return ah.test(Xt)}(I)?function(Xt){return Xt.match(oh)||[]}(I):function(Xt){return Xt.match(p)||[]}(I):I.match(H)||[]}var jo=Mr(function(I,H){try{return fr(I,$,H)}catch(ie){return x_(ie)?ie:new sr(ie)}}),mc=Nu(function(I,H){return os(H,function(ie){ie=$c(ie),Bn(I,ie,Wd(I[ie],I))}),I});function Ca(I){return function(){return I}}var Ma=ep(),eu=ep(!0);function no(I){return I}function yd(I){return nt("function"==typeof I?I:Xn(I,1))}var qp=Mr(function(I,H){return function(ie){return Oa(ie,I,H)}}),rl=Mr(function(I,H){return function(ie){return Oa(I,ie,H)}});function Ql(I,H,ie){var Se=$l(H),Xe=Kr(H,Se);null==ie&&(!Vr(H)||!Xe.length&&Se.length)&&(ie=H,H=I,I=this,Xe=Kr(H,$l(H)));var ht=!(Vr(ie)&&"chain"in ie&&!ie.chain),Yt=_d(I);return os(Xe,function(Kt){var fn=H[Kt];I[Kt]=fn,Yt&&(I.prototype[Kt]=function(){var Qn=this.__chain__;if(ht||Qn){var Jn=I(this.__wrapped__),Wn=Jn.__actions__=Lc(this.__actions__);return Wn.push({func:fn,args:arguments,thisArg:I}),Jn.__chain__=Qn,Jn}return fn.apply(I,ca([this.value()],arguments))})}),I}function sl(){}var vd=tp(ds),Oo=tp(Yl),Lh=tp(Hl);function Ly(I){return Rm(I)?td($c(I)):function(I){return function(H){return Is(H,I)}}(I)}var pa=np(),_l=np(!0);function yl(){return[]}function Ph(){return!1}var D_=Lm(function(I,H){return I+H},0),A_=Wa("ceil"),I_=Lm(function(I,H){return I/H},1),Tf=Wa("floor"),t0=Lm(function(I,H){return I*H},1),n0=Wa("round"),Sx=Lm(function(I,H){return I-H},0);return rt.after=function(I,H){if("function"!=typeof H)throw new Qo(Ce);return I=cr(I),function(){if(--I<1)return H.apply(this,arguments)}},rt.ary=Hm,rt.assign=Ag,rt.assignIn=$d,rt.assignInWith=cm,rt.assignWith=Zm,rt.at=up,rt.before=Hv,rt.bind=Wd,rt.bindAll=mc,rt.bindKey=nm,rt.castArray=function(){if(!arguments.length)return[];var I=arguments[0];return Gr(I)?I:[I]},rt.chain=vy,rt.chunk=function(I,H,ie){H=(ie?ml(I,H,ie):H===$)?1:$s(cr(H),0);var Se=null==I?0:I.length;if(!Se||H<1)return[];for(var Xe=0,ht=0,Yt=yn(Ul(Se/H));Xe<Se;)Yt[ht++]=Pu(I,Xe,Xe+=H);return Yt},rt.compact=function(I){for(var H=-1,ie=null==I?0:I.length,Se=0,Xe=[];++H<ie;){var ht=I[H];ht&&(Xe[Se++]=ht)}return Xe},rt.concat=function(){var I=arguments.length;if(!I)return[];for(var H=yn(I-1),ie=arguments[0],Se=I;Se--;)H[Se-1]=arguments[Se];return ca(Gr(ie)?Lc(ie):[ie],gs(H,1))},rt.cond=function(I){var H=null==I?0:I.length,ie=vr();return I=H?ds(I,function(Se){if("function"!=typeof Se[1])throw new Qo(Ce);return[ie(Se[0]),Se[1]]}):[],Mr(function(Se){for(var Xe=-1;++Xe<H;){var ht=I[Xe];if(fr(ht[0],this,Se))return fr(ht[1],this,Se)}})},rt.conforms=function(I){return function(I){var H=$l(I);return function(ie){return Pi(ie,I,H)}}(Xn(I,1))},rt.constant=Ca,rt.countBy=p_,rt.create=function(I,H){var ie=Ac(I);return null==H?ie:It(ie,H)},rt.curry=function $b(I,H,ie){var Se=dd(I,8,$,$,$,$,$,H=ie?$:H);return Se.placeholder=$b.placeholder,Se},rt.curryRight=function vx(I,H,ie){var Se=dd(I,16,$,$,$,$,$,H=ie?$:H);return Se.placeholder=vx.placeholder,Se},rt.debounce=__,rt.defaults=Ay,rt.defaultsDeep=Iy,rt.defer=bx,rt.delay=xx,rt.difference=a_,rt.differenceBy=md,rt.differenceWith=Jf,rt.drop=function(I,H,ie){var Se=null==I?0:I.length;return Se?Pu(I,(H=ie||H===$?1:cr(H))<0?0:H,Se):[]},rt.dropRight=function(I,H,ie){var Se=null==I?0:I.length;return Se?Pu(I,0,(H=Se-(H=ie||H===$?1:cr(H)))<0?0:H):[]},rt.dropRightWhile=function(I,H){return I&&I.length?pu(I,vr(H,3),!0,!0):[]},rt.dropWhile=function(I,H){return I&&I.length?pu(I,vr(H,3),!0):[]},rt.fill=function(I,H,ie,Se){var Xe=null==I?0:I.length;return Xe?(ie&&"number"!=typeof ie&&ml(I,H,ie)&&(ie=0,Se=Xe),function(I,H,ie,Se){var Xe=I.length;for((ie=cr(ie))<0&&(ie=-ie>Xe?0:Xe+ie),(Se=Se===$||Se>Xe?Xe:cr(Se))<0&&(Se+=Xe),Se=ie>Se?0:jm(Se);ie<Se;)I[ie++]=H;return I}(I,H,ie,Se)):[]},rt.filter=function(I,H){return(Gr(I)?sc:ja)(I,vr(H,3))},rt.flatMap=function(I,H){return gs(f_(I,H),1)},rt.flatMapDeep=function(I,H){return gs(f_(I,H),ai)},rt.flatMapDepth=function(I,H,ie){return ie=ie===$?1:cr(ie),gs(f_(I,H),ie)},rt.flatten=se,rt.flattenDeep=function(I){return null!=I&&I.length?gs(I,ai):[]},rt.flattenDepth=function(I,H){return null!=I&&I.length?gs(I,H=H===$?1:cr(H)):[]},rt.flip=function(I){return dd(I,512)},rt.flow=Ma,rt.flowRight=eu,rt.fromPairs=function(I){for(var H=-1,ie=null==I?0:I.length,Se={};++H<ie;){var Xe=I[H];Se[Xe[0]]=Xe[1]}return Se},rt.functions=function(I){return null==I?[]:Kr(I,$l(I))},rt.functionsIn=function(I){return null==I?[]:Kr(I,Ll(I))},rt.groupBy=Eh,rt.initial=function(I){return null!=I&&I.length?Pu(I,0,-1):[]},rt.intersection=Sn,rt.intersectionBy=Hn,rt.intersectionWith=ci,rt.invert=Wm,rt.invertBy=jv,rt.invokeMap=Zb,rt.iteratee=yd,rt.keyBy=_x,rt.keys=$l,rt.keysIn=Ll,rt.map=f_,rt.mapKeys=function(I,H){var ie={};return H=vr(H,3),Hi(I,function(Se,Xe,ht){Bn(ie,H(Se,Xe,ht),Se)}),ie},rt.mapValues=function(I,H){var ie={};return H=vr(H,3),Hi(I,function(Se,Xe,ht){Bn(ie,Xe,H(Se,Xe,ht))}),ie},rt.matches=function(I){return mo(Xn(I,1))},rt.matchesProperty=function(I,H){return js(I,Xn(H,1))},rt.memoize=wg,rt.merge=y,rt.mergeWith=M,rt.method=qp,rt.methodOf=rl,rt.mixin=Ql,rt.negate=im,rt.nthArg=function(I){return I=cr(I),Mr(function(H){return zf(H,I)})},rt.omit=L,rt.omitBy=function(I,H){return K(I,im(vr(H)))},rt.once=function(I){return Hv(2,I)},rt.orderBy=function(I,H,ie,Se){return null==I?[]:(Gr(H)||(H=null==H?[]:[H]),Gr(ie=Se?$:ie)||(ie=null==ie?[]:[ie]),t_(I,H,ie))},rt.over=vd,rt.overArgs=vt,rt.overEvery=Oo,rt.overSome=Lh,rt.partial=Ls,rt.partialRight=Ah,rt.partition=Gb,rt.pick=V,rt.pickBy=K,rt.property=Ly,rt.propertyOf=function(I){return function(H){return null==I?$:Is(I,H)}},rt.pull=Fa,rt.pullAll=Qc,rt.pullAllBy=function(I,H,ie){return I&&I.length&&H&&H.length?zp(I,H,vr(ie,2)):I},rt.pullAllWith=function(I,H,ie){return I&&I.length&&H&&H.length?zp(I,H,$,ie):I},rt.pullAt=ta,rt.range=pa,rt.rangeRight=_l,rt.rearg=Uu,rt.reject=function(I,H){return(Gr(I)?sc:ja)(I,im(vr(H,3)))},rt.remove=function(I,H){var ie=[];if(!I||!I.length)return ie;var Se=-1,Xe=[],ht=I.length;for(H=vr(H,3);++Se<ht;){var Yt=I[Se];H(Yt,Se,I)&&(ie.push(Yt),Xe.push(Se))}return Bp(I,Xe),ie},rt.rest=function(I,H){if("function"!=typeof I)throw new Qo(Ce);return Mr(I,H=H===$?H:cr(H))},rt.reverse=gf,rt.sampleSize=function(I,H,ie){return H=(ie?ml(I,H,ie):H===$)?1:cr(H),(Gr(I)?Vt:Kh)(I,H)},rt.set=function(I,H,ie){return null==I?I:Yp(I,H,ie)},rt.setWith=function(I,H,ie,Se){return Se="function"==typeof Se?Se:$,null==I?I:Yp(I,H,ie,Se)},rt.shuffle=function(I){return(Gr(I)?St:dy)(I)},rt.slice=function(I,H,ie){var Se=null==I?0:I.length;return Se?(ie&&"number"!=typeof ie&&ml(I,H,ie)?(H=0,ie=Se):(H=null==H?0:cr(H),ie=ie===$?Se:cr(ie)),Pu(I,H,ie)):[]},rt.sortBy=xy,rt.sortedUniq=function(I){return I&&I.length?hy(I):[]},rt.sortedUniqBy=function(I,H){return I&&I.length?hy(I,vr(H,2)):[]},rt.split=function(I,H,ie){return ie&&"number"!=typeof ie&&ml(I,H,ie)&&(H=ie=$),(ie=ie===$?Ti:ie>>>0)?(I=_o(I))&&("string"==typeof H||null!=H&&!T_(H))&&!(H=Fr(H))&&yr(I)?wh(ua(I),0,ie):I.split(H,ie):[]},rt.spread=function(I,H){if("function"!=typeof I)throw new Qo(Ce);return H=null==H?0:$s(cr(H),0),Mr(function(ie){var Se=ie[H],Xe=wh(ie,0,H);return Se&&ca(Xe,Se),fr(I,this,Xe)})},rt.tail=function(I){var H=null==I?0:I.length;return H?Pu(I,1,H):[]},rt.take=function(I,H,ie){return I&&I.length?Pu(I,0,(H=ie||H===$?1:cr(H))<0?0:H):[]},rt.takeRight=function(I,H,ie){var Se=null==I?0:I.length;return Se?Pu(I,(H=Se-(H=ie||H===$?1:cr(H)))<0?0:H,Se):[]},rt.takeRightWhile=function(I,H){return I&&I.length?pu(I,vr(H,3),!1,!0):[]},rt.takeWhile=function(I,H){return I&&I.length?pu(I,vr(H,3)):[]},rt.tap=function(I,H){return H(I),I},rt.throttle=function(I,H,ie){var Se=!0,Xe=!0;if("function"!=typeof I)throw new Qo(Ce);return Vr(ie)&&(Se="leading"in ie?!!ie.leading:Se,Xe="trailing"in ie?!!ie.trailing:Xe),__(I,H,{leading:Se,maxWait:H,trailing:Xe})},rt.thru=em,rt.toArray=S_,rt.toPairs=Te,rt.toPairsIn=Oe,rt.toPath=function(I){return Gr(I)?ds(I,$c):pc(I)?[I]:Lc(Xf(_o(I)))},rt.toPlainObject=Dg,rt.transform=function(I,H,ie){var Se=Gr(I),Xe=Se||om(I)||bf(I);if(H=vr(H,4),null==ie){var ht=I&&I.constructor;ie=Xe?Se?new ht:[]:Vr(I)&&_d(ht)?Ac(qs(I)):{}}return(Xe?os:Hi)(I,function(Yt,Kt,fn){return H(ie,Yt,Kt,fn)}),ie},rt.unary=function(I){return Hm(I,1)},rt.union=Zp,rt.unionBy=vg,rt.unionWith=Yb,rt.uniq=function(I){return I&&I.length?cd(I):[]},rt.uniqBy=function(I,H){return I&&I.length?cd(I,vr(H,2)):[]},rt.uniqWith=function(I,H){return H="function"==typeof H?H:$,I&&I.length?cd(I,$,H):[]},rt.unset=function(I,H){return null==I||_s(I,H)},rt.unzip=yy,rt.unzipWith=Nv,rt.update=function(I,H,ie){return null==I?I:Vp(I,H,Hd(ie))},rt.updateWith=function(I,H,ie,Se){return Se="function"==typeof Se?Se:$,null==I?I:Vp(I,H,Hd(ie),Se)},rt.values=Ht,rt.valuesIn=function(I){return null==I?[]:Bs(I,Ll(I))},rt.without=Vb,rt.words=wa,rt.wrap=function(I,H){return Ls(Hd(H),I)},rt.xor=ns,rt.xorBy=Ub,rt.xorWith=jb,rt.zip=zm,rt.zipObject=function(I,H){return rg(I||[],H||[],kn)},rt.zipObjectDeep=function(I,H){return rg(I||[],H||[],Yp)},rt.zipWith=Bv,rt.entries=Te,rt.entriesIn=Oe,rt.extend=$d,rt.extendWith=cm,Ql(rt,rt),rt.add=D_,rt.attempt=jo,rt.camelCase=bn,rt.capitalize=Un,rt.ceil=A_,rt.clamp=function(I,H,ie){return ie===$&&(ie=H,H=$),ie!==$&&(ie=(ie=ju(ie))==ie?ie:0),H!==$&&(H=(H=ju(H))==H?H:0),ti(ju(I),H,ie)},rt.clone=function(I){return Xn(I,4)},rt.cloneDeep=function(I){return Xn(I,5)},rt.cloneDeepWith=function(I,H){return Xn(I,5,H="function"==typeof H?H:$)},rt.cloneWith=function(I,H){return Xn(I,4,H="function"==typeof H?H:$)},rt.conformsTo=function(I,H){return null==H||Pi(I,H,$l(H))},rt.deburr=ei,rt.defaultTo=function(I,H){return null==I||I!=I?H:I},rt.divide=I_,rt.endsWith=function(I,H,ie){I=_o(I),H=Fr(H);var Se=I.length,Xe=ie=ie===$?Se:ti(cr(ie),0,Se);return(ie-=H.length)>=0&&I.slice(ie,Xe)==H},rt.eq=gd,rt.escape=function(I){return(I=_o(I))&&Hr.test(I)?I.replace(Ui,ya):I},rt.escapeRegExp=function(I){return(I=_o(I))&&Pt.test(I)?I.replace(Bt,"\\$&"):I},rt.every=function(I,H,ie){var Se=Gr(I)?Yl:ks;return ie&&ml(I,H,ie)&&(H=$),Se(I,vr(H,3))},rt.find=Eo,rt.findIndex=P,rt.findKey=function(I,H){return ed(I,vr(H,3),Hi)},rt.findLast=mx,rt.findLastIndex=j,rt.findLastKey=function(I,H){return ed(I,vr(H,3),Us)},rt.floor=Tf,rt.forEach=xg,rt.forEachRight=Yv,rt.forIn=function(I,H){return null==I?I:Ko(I,vr(H,3),Ll)},rt.forInRight=function(I,H){return null==I?I:Sl(I,vr(H,3),Ll)},rt.forOwn=function(I,H){return I&&Hi(I,vr(H,3))},rt.forOwnRight=function(I,H){return I&&Us(I,vr(H,3))},rt.get=Lg,rt.gt=sm,rt.gte=Xb,rt.has=function(I,H){return null!=I&&cg(I,H,dl)},rt.hasIn=fc,rt.head=ut,rt.identity=no,rt.includes=function(I,H,ie,Se){I=Al(I)?I:Ht(I),ie=ie&&!Se?cr(ie):0;var Xe=I.length;return ie<0&&(ie=$s(Xe+ie,0)),am(I)?ie<=Xe&&I.indexOf(H,ie)>-1:!!Xe&&bc(I,H,ie)>-1},rt.indexOf=function(I,H,ie){var Se=null==I?0:I.length;if(!Se)return-1;var Xe=null==ie?0:cr(ie);return Xe<0&&(Xe=$s(Se+Xe,0)),bc(I,H,Xe)},rt.inRange=function(I,H,ie){return H=Wp(H),ie===$?(ie=H,H=0):ie=Wp(ie),function(I,H,ie){return I>=Rr(H,ie)&&I<$s(H,ie)}(I=ju(I),H,ie)},rt.invoke=Zv,rt.isArguments=Na,rt.isArray=Gr,rt.isArrayBuffer=go,rt.isArrayLike=Al,rt.isArrayLikeObject=Il,rt.isBoolean=function(I){return!0===I||!1===I||za(I)&&Zr(I)==ss},rt.isBuffer=om,rt.isDate=b_,rt.isElement=function(I){return za(I)&&1===I.nodeType&&!Eg(I)},rt.isEmpty=function(I){if(null==I)return!0;if(Al(I)&&(Gr(I)||"string"==typeof I||"function"==typeof I.splice||om(I)||bf(I)||Na(I)))return!I.length;var H=Pc(I);if(H==Ki||H==nr)return!I.size;if(Bu(I))return!$t(I).length;for(var ie in I)if(Ar.call(I,ie))return!1;return!0},rt.isEqual=function(I,H){return cc(I,H)},rt.isEqualWith=function(I,H,ie){var Se=(ie="function"==typeof ie?ie:$)?ie(I,H):$;return Se===$?cc(I,H,$,ie):!!Se},rt.isError=x_,rt.isFinite=function(I){return"number"==typeof I&&Gc(I)},rt.isFunction=_d,rt.isInteger=il,rt.isLength=kg,rt.isMap=My,rt.isMatch=function(I,H){return I===H||Es(I,H,rp(H))},rt.isMatchWith=function(I,H,ie){return ie="function"==typeof ie?ie:$,Es(I,H,rp(H),ie)},rt.isNaN=function(I){return M_(I)&&I!=+I},rt.isNative=function(I){if(qf(I))throw new sr("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return W(I)},rt.isNil=function(I){return null==I},rt.isNull=function(I){return null===I},rt.isNumber=M_,rt.isObject=Vr,rt.isObjectLike=za,rt.isPlainObject=Eg,rt.isRegExp=T_,rt.isSafeInteger=function(I){return il(I)&&I>=-Bi&&I<=Bi},rt.isSet=Uv,rt.isString=am,rt.isSymbol=pc,rt.isTypedArray=bf,rt.isUndefined=function(I){return I===$},rt.isWeakMap=function(I){return za(I)&&Pc(I)==Ns},rt.isWeakSet=function(I){return za(I)&&"[object WeakSet]"==Zr(I)},rt.join=function(I,H){return null==I?"":Ci.call(I,H)},rt.kebabCase=Gn,rt.last=Qi,rt.lastIndexOf=function(I,H,ie){var Se=null==I?0:I.length;if(!Se)return-1;var Xe=Se;return ie!==$&&(Xe=(Xe=cr(ie))<0?$s(Se+Xe,0):Rr(Xe,Se-1)),H==H?function(Xt,An,yn){for(var Ei=yn+1;Ei--;)if(Xt[Ei]===An)return Ei;return Ei}(I,H,Xe):Rd(I,sf,Xe,!0)},rt.lowerCase=ni,rt.lowerFirst=Pn,rt.lt=Ey,rt.lte=Dy,rt.max=function(I){return I&&I.length?to(I,no,ul):$},rt.maxBy=function(I,H){return I&&I.length?to(I,vr(H,2),ul):$},rt.mean=function(I){return au(I,no)},rt.meanBy=function(I,H){return au(I,vr(H,2))},rt.min=function(I){return I&&I.length?to(I,no,Gi):$},rt.minBy=function(I,H){return I&&I.length?to(I,vr(H,2),Gi):$},rt.stubArray=yl,rt.stubFalse=Ph,rt.stubObject=function(){return{}},rt.stubString=function(){return""},rt.stubTrue=function(){return!0},rt.multiply=t0,rt.nth=function(I,H){return I&&I.length?zf(I,cr(H)):$},rt.noConflict=function(){return _a._===this&&(_a._=Ip),this},rt.noop=sl,rt.now=lp,rt.pad=function(I,H,ie){I=_o(I);var Se=(H=cr(H))?va(I):0;if(!H||Se>=H)return I;var Xe=(H-Se)/2;return ud(ac(Xe),ie)+I+ud(Ul(Xe),ie)},rt.padEnd=function(I,H,ie){I=_o(I);var Se=(H=cr(H))?va(I):0;return H&&Se<H?I+ud(H-Se,ie):I},rt.padStart=function(I,H,ie){I=_o(I);var Se=(H=cr(H))?va(I):0;return H&&Se<H?ud(H-Se,ie)+I:I},rt.parseInt=function(I,H,ie){return ie||null==H?H=0:H&&(H=+H),Ka(_o(I).replace(nn,""),H||0)},rt.random=function(I,H,ie){if(ie&&"boolean"!=typeof ie&&ml(I,H,ie)&&(H=ie=$),ie===$&&("boolean"==typeof H?(ie=H,H=$):"boolean"==typeof I&&(ie=I,I=$)),I===$&&H===$?(I=0,H=1):(I=Wp(I),H===$?(H=I,I=0):H=Wp(H)),I>H){var Se=I;I=H,H=Se}if(ie||I%1||H%1){var Xe=Ri();return Rr(I+Xe*(H-I+Or("1e-"+((Xe+"").length-1))),H)}return Lu(I,H)},rt.reduce=function(I,H,ie){var Se=Gr(I)?uh:ms,Xe=arguments.length<3;return Se(I,vr(H,4),ie,Xe,ys)},rt.reduceRight=function(I,H,ie){var Se=Gr(I)?xu:ms,Xe=arguments.length<3;return Se(I,vr(H,4),ie,Xe,Cr)},rt.repeat=function(I,H,ie){return H=(ie?ml(I,H,ie):H===$)?1:cr(H),qc(_o(I),H)},rt.replace=function(){var I=arguments,H=_o(I[0]);return I.length<3?H:H.replace(I[1],I[2])},rt.result=function(I,H,ie){var Se=-1,Xe=(H=Gl(H,I)).length;for(Xe||(Xe=1,I=$);++Se<Xe;){var ht=null==I?$:I[$c(H[Se])];ht===$&&(Se=Xe,ht=ie),I=_d(ht)?ht.call(I):ht}return I},rt.round=n0,rt.runInContext=Xt,rt.sample=function(I){return(Gr(I)?Tt:vh)(I)},rt.size=function(I){if(null==I)return 0;if(Al(I))return am(I)?va(I):I.length;var H=Pc(I);return H==Ki||H==nr?I.size:$t(I).length},rt.snakeCase=Wi,rt.some=function(I,H,ie){var Se=Gr(I)?Hl:Sm;return ie&&ml(I,H,ie)&&(H=$),Se(I,vr(H,3))},rt.sortedIndex=function(I,H){return Ic(I,H)},rt.sortedIndexBy=function(I,H,ie){return i_(I,H,vr(ie,2))},rt.sortedIndexOf=function(I,H){var ie=null==I?0:I.length;if(ie){var Se=Ic(I,H);if(Se<ie&&gd(I[Se],H))return Se}return-1},rt.sortedLastIndex=function(I,H){return Ic(I,H,!0)},rt.sortedLastIndexBy=function(I,H,ie){return i_(I,H,vr(ie,2),!0)},rt.sortedLastIndexOf=function(I,H){if(null!=I&&I.length){var Se=Ic(I,H,!0)-1;if(gd(I[Se],H))return Se}return-1},rt.startCase=qa,rt.startsWith=function(I,H,ie){return I=_o(I),ie=null==ie?0:ti(cr(ie),0,I.length),H=Fr(H),I.slice(ie,ie+H.length)==H},rt.subtract=Sx,rt.sum=function(I){return I&&I.length?Mo(I,no):0},rt.sumBy=function(I,H){return I&&I.length?Mo(I,vr(H,2)):0},rt.template=function(I,H,ie){var Se=rt.templateSettings;ie&&ml(I,H,ie)&&(H=$),I=_o(I),H=cm({},H,Se,Ru);var Kt,fn,Xe=cm({},H.imports,Se.imports,Ru),ht=$l(Xe),Yt=Bs(Xe,ht),Qn=0,Jn=H.interpolate||ae,Wn="__p += '",Fi=ba((H.escape||ae).source+"|"+Jn.source+"|"+(Jn===Ye?S:ae).source+"|"+(H.evaluate||ae).source+"|$","g"),dr="//# sourceURL="+(Ar.call(H,"sourceURL")?(H.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Tp+"]")+"\n";I.replace(Fi,function(Wr,Ks,co,Oh,Zu,Rh){return co||(co=Oh),Wn+=I.slice(Qn,Rh).replace(_e,dh),Ks&&(Kt=!0,Wn+="' +\n__e("+Ks+") +\n'"),Zu&&(fn=!0,Wn+="';\n"+Zu+";\n__p += '"),co&&(Wn+="' +\n((__t = ("+co+")) == null ? '' : __t) +\n'"),Qn=Rh+Wr.length,Wr}),Wn+="';\n";var Ur=Ar.call(H,"variable")&&H.variable;if(Ur){if(f.test(Ur))throw new sr("Invalid `variable` option passed into `_.template`")}else Wn="with (obj) {\n"+Wn+"\n}\n";Wn=(fn?Wn.replace(Qt,""):Wn).replace(_n,"$1").replace(on,"$1;"),Wn="function("+(Ur||"obj")+") {\n"+(Ur?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(Kt?", __e = _.escape":"")+(fn?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+Wn+"return __p\n}";var Rs=jo(function(){return Dr(ht,dr+"return "+Wn).apply($,Yt)});if(Rs.source=Wn,x_(Rs))throw Rs;return Rs},rt.times=function(I,H){if((I=cr(I))<1||I>Bi)return[];var ie=Ti,Se=Rr(I,Ti);H=vr(H),I-=Ti;for(var Xe=Fd(Se,H);++ie<I;)H(ie);return Xe},rt.toFinite=Wp,rt.toInteger=cr,rt.toLength=jm,rt.toLower=function(I){return _o(I).toLowerCase()},rt.toNumber=ju,rt.toSafeInteger=function(I){return I?ti(cr(I),-Bi,Bi):0===I?I:0},rt.toString=_o,rt.toUpper=function(I){return _o(I).toUpperCase()},rt.trim=function(I,H,ie){if((I=_o(I))&&(ie||H===$))return Pa(I);if(!I||!(H=Fr(H)))return I;var Se=ua(I),Xe=ua(H);return wh(Se,Dp(Se,Xe),ll(Se,Xe)+1).join("")},rt.trimEnd=function(I,H,ie){if((I=_o(I))&&(ie||H===$))return I.slice(0,Cc(I)+1);if(!I||!(H=Fr(H)))return I;var Se=ua(I);return wh(Se,0,ll(Se,ua(H))+1).join("")},rt.trimStart=function(I,H,ie){if((I=_o(I))&&(ie||H===$))return I.replace(nn,"");if(!I||!(H=Fr(H)))return I;var Se=ua(I);return wh(Se,Dp(Se,ua(H))).join("")},rt.truncate=function(I,H){var ie=30,Se="...";if(Vr(H)){var Xe="separator"in H?H.separator:Xe;ie="length"in H?cr(H.length):ie,Se="omission"in H?Fr(H.omission):Se}var ht=(I=_o(I)).length;if(yr(I)){var Yt=ua(I);ht=Yt.length}if(ie>=ht)return I;var Kt=ie-va(Se);if(Kt<1)return Se;var fn=Yt?wh(Yt,0,Kt).join(""):I.slice(0,Kt);if(Xe===$)return fn+Se;if(Yt&&(Kt+=fn.length-Kt),T_(Xe)){if(I.slice(Kt).search(Xe)){var Qn,Jn=fn;for(Xe.global||(Xe=ba(Xe.source,_o(D.exec(Xe))+"g")),Xe.lastIndex=0;Qn=Xe.exec(Jn);)var Wn=Qn.index;fn=fn.slice(0,Wn===$?Kt:Wn)}}else if(I.indexOf(Fr(Xe),Kt)!=Kt){var Fi=fn.lastIndexOf(Xe);Fi>-1&&(fn=fn.slice(0,Fi))}return fn+Se},rt.unescape=function(I){return(I=_o(I))&&hr.test(I)?I.replace(gi,jc):I},rt.uniqueId=function(I){var H=++Su;return _o(I)+H},rt.upperCase=lo,rt.upperFirst=$a,rt.each=xg,rt.eachRight=Yv,rt.first=ut,Ql(rt,function(){var I={};return Hi(rt,function(H,ie){Ar.call(rt.prototype,ie)||(I[ie]=H)}),I}(),{chain:!1}),rt.VERSION="4.17.21",os(["bind","bindKey","curry","curryRight","partial","partialRight"],function(I){rt[I].placeholder=rt}),os(["drop","take"],function(I,H){as.prototype[I]=function(ie){ie=ie===$?1:$s(cr(ie),0);var Se=this.__filtered__&&!H?new as(this):this.clone();return Se.__filtered__?Se.__takeCount__=Rr(ie,Se.__takeCount__):Se.__views__.push({size:Rr(ie,Ti),type:I+(Se.__dir__<0?"Right":"")}),Se},as.prototype[I+"Right"]=function(ie){return this.reverse()[I](ie).reverse()}}),os(["filter","map","takeWhile"],function(I,H){var ie=H+1,Se=1==ie||3==ie;as.prototype[I]=function(Xe){var ht=this.clone();return ht.__iteratees__.push({iteratee:vr(Xe,3),type:ie}),ht.__filtered__=ht.__filtered__||Se,ht}}),os(["head","last"],function(I,H){var ie="take"+(H?"Right":"");as.prototype[I]=function(){return this[ie](1).value()[0]}}),os(["initial","tail"],function(I,H){var ie="drop"+(H?"":"Right");as.prototype[I]=function(){return this.__filtered__?new as(this):this[ie](1)}}),as.prototype.compact=function(){return this.filter(no)},as.prototype.find=function(I){return this.filter(I).head()},as.prototype.findLast=function(I){return this.reverse().find(I)},as.prototype.invokeMap=Mr(function(I,H){return"function"==typeof I?new as(this):this.map(function(ie){return Oa(ie,I,H)})}),as.prototype.reject=function(I){return this.filter(im(vr(I)))},as.prototype.slice=function(I,H){I=cr(I);var ie=this;return ie.__filtered__&&(I>0||H<0)?new as(ie):(I<0?ie=ie.takeRight(-I):I&&(ie=ie.drop(I)),H!==$&&(ie=(H=cr(H))<0?ie.dropRight(-H):ie.take(H-I)),ie)},as.prototype.takeRightWhile=function(I){return this.reverse().takeWhile(I).reverse()},as.prototype.toArray=function(){return this.take(Ti)},Hi(as.prototype,function(I,H){var ie=/^(?:filter|find|map|reject)|While$/.test(H),Se=/^(?:head|last)$/.test(H),Xe=rt[Se?"take"+("last"==H?"Right":""):H],ht=Se||/^find/.test(H);!Xe||(rt.prototype[H]=function(){var Yt=this.__wrapped__,Kt=Se?[1]:arguments,fn=Yt instanceof as,Qn=Kt[0],Jn=fn||Gr(Yt),Wn=function(Ks){var co=Xe.apply(rt,ca([Ks],Kt));return Se&&Fi?co[0]:co};Jn&&ie&&"function"==typeof Qn&&1!=Qn.length&&(fn=Jn=!1);var Fi=this.__chain__,dr=!!this.__actions__.length,Ur=ht&&!Fi,Rs=fn&&!dr;if(!ht&&Jn){Yt=Rs?Yt:new as(this);var Wr=I.apply(Yt,Kt);return Wr.__actions__.push({func:em,args:[Wn],thisArg:$}),new tl(Wr,Fi)}return Ur&&Rs?I.apply(this,Kt):(Wr=this.thru(Wn),Ur?Se?Wr.value()[0]:Wr.value():Wr)})}),os(["pop","push","shift","sort","splice","unshift"],function(I){var H=Tu[I],ie=/^(?:push|sort|unshift)$/.test(I)?"tap":"thru",Se=/^(?:pop|shift)$/.test(I);rt.prototype[I]=function(){var Xe=arguments;if(Se&&!this.__chain__){var ht=this.value();return H.apply(Gr(ht)?ht:[],Xe)}return this[ie](function(Yt){return H.apply(Gr(Yt)?Yt:[],Xe)})}}),Hi(as.prototype,function(I,H){var ie=rt[H];if(ie){var Se=ie.name+"";Ar.call(lc,Se)||(lc[Se]=[]),lc[Se].push({name:H,func:ie})}}),lc[uf($,2).name]=[{name:"wrapper",func:$}],as.prototype.clone=function(){var I=new as(this.__wrapped__);return I.__actions__=Lc(this.__actions__),I.__dir__=this.__dir__,I.__filtered__=this.__filtered__,I.__iteratees__=Lc(this.__iteratees__),I.__takeCount__=this.__takeCount__,I.__views__=Lc(this.__views__),I},as.prototype.reverse=function(){if(this.__filtered__){var I=new as(this);I.__dir__=-1,I.__filtered__=!0}else(I=this.clone()).__dir__*=-1;return I},as.prototype.value=function(){var I=this.__wrapped__.value(),H=this.__dir__,ie=Gr(I),Se=H<0,Xe=ie?I.length:0,ht=function(I,H,ie){for(var Se=-1,Xe=ie.length;++Se<Xe;){var ht=ie[Se],Yt=ht.size;switch(ht.type){case"drop":I+=Yt;break;case"dropRight":H-=Yt;break;case"take":H=Rr(H,I+Yt);break;case"takeRight":I=$s(I,H-Yt)}}return{start:I,end:H}}(0,Xe,this.__views__),Yt=ht.start,Kt=ht.end,fn=Kt-Yt,Qn=Se?Kt:Yt-1,Jn=this.__iteratees__,Wn=Jn.length,Fi=0,dr=Rr(fn,this.__takeCount__);if(!ie||!Se&&Xe==fn&&dr==fn)return Yd(I,this.__actions__);var Ur=[];e:for(;fn--&&Fi<dr;){for(var Rs=-1,Wr=I[Qn+=H];++Rs<Wn;){var Ks=Jn[Rs],Oh=Ks.type,Zu=(0,Ks.iteratee)(Wr);if(2==Oh)Wr=Zu;else if(!Zu){if(1==Oh)continue e;break e}}Ur[Fi++]=Wr}return Ur},rt.prototype.at=bg,rt.prototype.chain=function(){return vy(this)},rt.prototype.commit=function(){return new tl(this.value(),this.__chain__)},rt.prototype.next=function(){this.__values__===$&&(this.__values__=S_(this.value()));var I=this.__index__>=this.__values__.length;return{done:I,value:I?$:this.__values__[this.__index__++]}},rt.prototype.plant=function(I){for(var H,ie=this;ie instanceof _h;){var Se=fg(ie);Se.__index__=0,Se.__values__=$,H?Xe.__wrapped__=Se:H=Se;var Xe=Se;ie=ie.__wrapped__}return Xe.__wrapped__=I,H},rt.prototype.reverse=function(){var I=this.__wrapped__;if(I instanceof as){var H=I;return this.__actions__.length&&(H=new as(this)),(H=H.reverse()).__actions__.push({func:em,args:[gf],thisArg:$}),new tl(H,this.__chain__)}return this.thru(gf)},rt.prototype.toJSON=rt.prototype.valueOf=rt.prototype.value=function(){return Yd(this.__wrapped__,this.__actions__)},rt.prototype.first=rt.prototype.head,Zc&&(rt.prototype[Zc]=function(){return this}),rt}();_a._=Nd,(o=function(){return Nd}.call(kt,Ae,kt,Ut))!==$&&(Ut.exports=o)}.call(this)},2958:function(Ut){Ut.exports=function(){"use strict";var kt,Ae,o;function $(x,de){if(kt)if(Ae){var Ce="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/api/#transpiling-v2'); }; var sharedChunk = {}; ("+kt+")(sharedChunk); ("+Ae+")(sharedChunk); self.onerror = null;",Ee={};kt(Ee),o=de(Ee),"undefined"!=typeof window&&(o.workerUrl=window.URL.createObjectURL(new Blob([Ce],{type:"text/javascript"})))}else Ae=de;else kt=de}return $(0,function(x){var Ce=Ee;function Ee(_,c,y,M){this.cx=3*_,this.bx=3*(y-_)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*c,this.by=3*(M-c)-this.cy,this.ay=1-this.cy-this.by,this.p1x=_,this.p1y=M,this.p2x=y,this.p2y=M}Ee.prototype.sampleCurveX=function(_){return((this.ax*_+this.bx)*_+this.cx)*_},Ee.prototype.sampleCurveY=function(_){return((this.ay*_+this.by)*_+this.cy)*_},Ee.prototype.sampleCurveDerivativeX=function(_){return(3*this.ax*_+2*this.bx)*_+this.cx},Ee.prototype.solveCurveX=function(_,c){var y,M,L,z,V;for(void 0===c&&(c=1e-6),L=_,V=0;V<8;V++){if(z=this.sampleCurveX(L)-_,Math.abs(z)<c)return L;var K=this.sampleCurveDerivativeX(L);if(Math.abs(K)<1e-6)break;L-=z/K}if((L=_)<(y=0))return y;if(L>(M=1))return M;for(;y<M;){if(z=this.sampleCurveX(L),Math.abs(z-_)<c)return L;_>z?y=L:M=L,L=.5*(M-y)+y}return L},Ee.prototype.solve=function(_,c){return this.sampleCurveY(this.solveCurveX(_,c))};var Me=Be;function Be(_,c){this.x=_,this.y=c}Be.prototype={clone:function(){return new Be(this.x,this.y)},add:function(_){return this.clone()._add(_)},sub:function(_){return this.clone()._sub(_)},multByPoint:function(_){return this.clone()._multByPoint(_)},divByPoint:function(_){return this.clone()._divByPoint(_)},mult:function(_){return this.clone()._mult(_)},div:function(_){return this.clone()._div(_)},rotate:function(_){return this.clone()._rotate(_)},rotateAround:function(_,c){return this.clone()._rotateAround(_,c)},matMult:function(_){return this.clone()._matMult(_)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(_){return this.x===_.x&&this.y===_.y},dist:function(_){return Math.sqrt(this.distSqr(_))},distSqr:function(_){var c=_.x-this.x,y=_.y-this.y;return c*c+y*y},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(_){return Math.atan2(this.y-_.y,this.x-_.x)},angleWith:function(_){return this.angleWithSep(_.x,_.y)},angleWithSep:function(_,c){return Math.atan2(this.x*c-this.y*_,this.x*_+this.y*c)},_matMult:function(_){var c=_[2]*this.x+_[3]*this.y;return this.x=_[0]*this.x+_[1]*this.y,this.y=c,this},_add:function(_){return this.x+=_.x,this.y+=_.y,this},_sub:function(_){return this.x-=_.x,this.y-=_.y,this},_mult:function(_){return this.x*=_,this.y*=_,this},_div:function(_){return this.x/=_,this.y/=_,this},_multByPoint:function(_){return this.x*=_.x,this.y*=_.y,this},_divByPoint:function(_){return this.x/=_.x,this.y/=_.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var _=this.y;return this.y=this.x,this.x=-_,this},_rotate:function(_){var c=Math.cos(_),y=Math.sin(_),M=y*this.x+c*this.y;return this.x=c*this.x-y*this.y,this.y=M,this},_rotateAround:function(_,c){var y=Math.cos(_),M=Math.sin(_),L=c.y+M*(this.x-c.x)+y*(this.y-c.y);return this.x=c.x+y*(this.x-c.x)-M*(this.y-c.y),this.y=L,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},Be.convert=function(_){return _ instanceof Be?_:Array.isArray(_)?new Be(_[0],_[1]):_};var Ge="undefined"!=typeof self?self:{};const Mt=Math.pow(2,53)-1,ft=Math.PI/180,Lt=180/Math.PI;function rn(_){return _*ft}const Gt=[[0,0],[1,0],[1,1],[0,1]];function ct(_){if(_<=0)return 0;if(_>=1)return 1;const c=_*_,y=c*_;return 4*(_<.5?y:3*(_-c)+y-.75)}function ii(_,c,y,M){const L=new Ce(_,c,y,M);return function(z){return L.solve(z)}}const Fn=ii(.25,.1,.25,1);function Wt(_,c,y){return Math.min(y,Math.max(c,_))}function ar(_,c,y){const M=y-c,L=((_-c)%M+M)%M+c;return L===c?y:L}function us(_,c,y){if(!_.length)return y(null,[]);let M=_.length;const L=new Array(_.length);let z=null;_.forEach((V,K)=>{c(V,(re,me)=>{re&&(z=re),L[K]=me,0==--M&&y(z,L)})})}function hi(_){const c=[];for(const y in _)c.push(_[y]);return c}function zi(_,...c){for(const y of c)for(const M in y)_[M]=y[M];return _}let Ps=1;function er(){return Ps++}function Yr(){return function _(c){return c?(c^16*Math.random()>>c/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,_)}()}function wn(_){return _<=1?1:Math.pow(2,Math.ceil(Math.log(_)/Math.LN2))}function hn(_){return!!_&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(_)}function Mn(_,c){_.forEach(y=>{c[y]&&(c[y]=c[y].bind(c))})}function mn(_,c){return-1!==_.indexOf(c,_.length-c.length)}function Yn(_,c,y){const M={};for(const L in _)M[L]=c.call(y||this,_[L],L,_);return M}function vn(_,c,y){const M={};for(const L in _)c.call(y||this,_[L],L,_)&&(M[L]=_[L]);return M}function ai(_){return Array.isArray(_)?_.map(ai):"object"==typeof _&&_?Yn(_,ai):_}const Bi={};function Vi(_){Bi[_]||("undefined"!=typeof console&&console.warn(_),Bi[_]=!0)}function fi(_,c,y){return(y.y-_.y)*(c.x-_.x)>(c.y-_.y)*(y.x-_.x)}function Ti(_){let c=0;for(let y,M,L=0,z=_.length,V=z-1;L<z;V=L++)y=_[L],M=_[V],c+=(M.x-y.x)*(y.y+M.y);return c}function vi(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function bi(_){const c={};if(_.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(y,M,L,z)=>{const V=L||z;return c[M]=!V||V.toLowerCase(),""}),c["max-age"]){const y=parseInt(c["max-age"],10);isNaN(y)?delete c["max-age"]:c["max-age"]=y}return c}let Kn,Oi,kr,xo=null;function ss(_){if(null==xo){const c=_.navigator?_.navigator.userAgent:null;xo=!!_.safari||!(!c||!(/\b(iPad|iPhone|iPod)\b/.test(c)||c.match("Safari")&&!c.match("Chrome")))}return xo}function Gs(_){try{const c=Ge[_];return c.setItem("_mapbox_test_",1),c.removeItem("_mapbox_test_"),!0}catch(c){return!1}}const Xs={now:()=>void 0!==kr?kr:Ge.performance.now(),setNow(_){kr=_},restoreNow(){kr=void 0},frame(_){const c=Ge.requestAnimationFrame(_);return{cancel:()=>Ge.cancelAnimationFrame(c)}},getImageData(_,c=0){const y=Ge.document.createElement("canvas"),M=y.getContext("2d");if(!M)throw new Error("failed to create canvas 2d context");return y.width=_.width,y.height=_.height,M.drawImage(_,0,0,_.width,_.height),M.getImageData(-c,-c,_.width+2*c,_.height+2*c)},resolveURL:_=>(Kn||(Kn=Ge.document.createElement("a")),Kn.href=_,Kn.href),get devicePixelRatio(){return Ge.devicePixelRatio},get prefersReducedMotion(){return!!Ge.matchMedia&&(null==Oi&&(Oi=Ge.matchMedia("(prefers-reduced-motion: reduce)")),Oi.matches)}};let Ea;const lr={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){if(null==Ea){const _=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;try{Ea=null!=process.env.API_URL_REGEX?new RegExp(process.env.API_URL_REGEX):_}catch(c){Ea=_}}return Ea},get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},Da={supported:!1,testSupport:function(_){!wo&&tr&&(Ws?wi(_):Ki=_)}};let Ki,tr,wo=!1,Ws=!1;function wi(_){const c=_.createTexture();_.bindTexture(_.TEXTURE_2D,c);try{if(_.texImage2D(_.TEXTURE_2D,0,_.RGBA,_.RGBA,_.UNSIGNED_BYTE,tr),_.isContextLost())return;Da.supported=!0}catch(y){}_.deleteTexture(c),wo=!0}Ge.document&&(tr=Ge.document.createElement("img"),tr.onload=function(){Ki&&wi(Ki),Ki=null,Ws=!0},tr.onerror=function(){wo=!0,Ki=null},tr.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const fs="01",xr="NO_ACCESS_TOKEN";function nr(_){return 0===_.indexOf("mapbox:")}function Co(_){return lr.API_URL_REGEX.test(_)}const Yc=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function Qr(_){const c=_.match(Yc);if(!c)throw new Error("Unable to parse URL object");return{protocol:c[1],authority:c[2],path:c[3]||"/",params:c[4]?c[4].split("&"):[]}}function Ns(_){const c=_.params.length?`?${_.params.join("&")}`:"";return`${_.protocol}://${_.authority}${_.path}${c}`}function Wo(_){if(!_)return null;const c=_.split(".");if(!c||3!==c.length)return null;try{return JSON.parse(decodeURIComponent(Ge.atob(c[1]).split("").map(y=>"%"+("00"+y.charCodeAt(0).toString(16)).slice(-2)).join("")))}catch(y){return null}}class Pr{constructor(c){this.type=c,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}getStorageKey(c){const y=Wo(lr.ACCESS_TOKEN);let M="";return M=y&&y.u?Ge.btoa(encodeURIComponent(y.u).replace(/%([0-9A-F]{2})/g,(L,z)=>String.fromCharCode(Number("0x"+z)))):lr.ACCESS_TOKEN||"",c?`mapbox.eventData.${c}:${M}`:`mapbox.eventData:${M}`}fetchEventData(){const c=Gs("localStorage"),y=this.getStorageKey(),M=this.getStorageKey("uuid");if(c)try{const L=Ge.localStorage.getItem(y);L&&(this.eventData=JSON.parse(L));const z=Ge.localStorage.getItem(M);z&&(this.anonId=z)}catch(L){Vi("Unable to read from LocalStorage")}}saveEventData(){const c=Gs("localStorage"),y=this.getStorageKey(),M=this.getStorageKey("uuid");if(c)try{Ge.localStorage.setItem(M,this.anonId),Object.keys(this.eventData).length>=1&&Ge.localStorage.setItem(y,JSON.stringify(this.eventData))}catch(L){Vi("Unable to write to LocalStorage")}}processRequests(c){}postEvent(c,y,M,L){if(!lr.EVENTS_URL)return;const z=Qr(lr.EVENTS_URL);z.params.push(`access_token=${L||lr.ACCESS_TOKEN||""}`);const V={event:this.type,created:new Date(c).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"2.4.1",skuId:fs,userId:this.anonId},K=y?zi(V,y):V,re={url:Ns(z),headers:{"Content-Type":"text/plain"},body:JSON.stringify([K])};this.pendingRequest=$e(re,me=>{this.pendingRequest=null,M(me),this.saveEventData(),this.processRequests(L)})}queueRequest(c,y){this.queue.push(c),this.processRequests(y)}}const jn=new class extends Pr{constructor(_){super("appUserTurnstile"),this._customAccessToken=_}postTurnstileEvent(_,c){lr.EVENTS_URL&&lr.ACCESS_TOKEN&&Array.isArray(_)&&_.some(y=>nr(y)||Co(y))&&this.queueRequest(Date.now(),c)}processRequests(_){if(this.pendingRequest||0===this.queue.length)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const c=Wo(lr.ACCESS_TOKEN),y=c?c.u:lr.ACCESS_TOKEN;let M=y!==this.eventData.tokenU;hn(this.anonId)||(this.anonId=Yr(),M=!0);const L=this.queue.shift();if(this.eventData.lastSuccess){const z=new Date(this.eventData.lastSuccess),V=new Date(L),K=(L-this.eventData.lastSuccess)/864e5;M=M||K>=1||K<-1||z.getDate()!==V.getDate()}else M=!0;if(!M)return this.processRequests();this.postEvent(L,{"enabled.telemetry":!1},z=>{z||(this.eventData.lastSuccess=L,this.eventData.tokenU=y)},_)}},Xi=jn.postTurnstileEvent.bind(jn),wl=new class extends Pr{constructor(){super("map.load"),this.success={},this.skuToken=""}postMapLoadEvent(_,c,y,M){this.skuToken=c,this.errorCb=M,lr.EVENTS_URL&&(y||lr.ACCESS_TOKEN?this.queueRequest({id:_,timestamp:Date.now()},y):this.errorCb(new Error(xr)))}processRequests(_){if(this.pendingRequest||0===this.queue.length)return;const{id:c,timestamp:y}=this.queue.shift();c&&this.success[c]||(this.anonId||this.fetchEventData(),hn(this.anonId)||(this.anonId=Yr()),this.postEvent(y,{skuToken:this.skuToken},M=>{M?this.errorCb(M):c&&(this.success[c]=!0)},_))}},Va=wl.postMapLoadEvent.bind(wl),Aa=new class extends Pr{constructor(){super("map.auth"),this.success={},this.skuToken=""}getSession(_,c,y,M){if(!lr.API_URL||!lr.SESSION_PATH)return;const L=Qr(lr.API_URL+lr.SESSION_PATH);L.params.push(`sku=${c||""}`),L.params.push(`access_token=${M||lr.ACCESS_TOKEN||""}`);const z={url:Ns(L),headers:{"Content-Type":"text/plain"}};this.pendingRequest=dt(z,V=>{this.pendingRequest=null,y(V),this.saveEventData(),this.processRequests(M)})}getSessionAPI(_,c,y,M){this.skuToken=c,this.errorCb=M,lr.SESSION_PATH&&lr.API_URL&&(y||lr.ACCESS_TOKEN?this.queueRequest({id:_,timestamp:Date.now()},y):this.errorCb(new Error(xr)))}processRequests(_){if(this.pendingRequest||0===this.queue.length)return;const{id:c,timestamp:y}=this.queue.shift();c&&this.success[c]||this.getSession(y,this.skuToken,M=>{M?this.errorCb(M):c&&(this.success[c]=!0)},_)}},ws=Aa.getSessionAPI.bind(Aa),Bo=new Set,Yo="mapbox-tiles";let Rt,Ot,Qt=500,_n=50;function on(){Ge.caches&&!Rt&&(Rt=Ge.caches.open(Yo))}function gi(_){const c=_.indexOf("?");return c<0?_:_.slice(0,c)}let Ui=1/0;const hr={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(hr);class Hr extends Error{constructor(c,y,M){401===y&&Co(M)&&(c+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),super(c),this.status=y,this.url=M}toString(){return`${this.name}: ${this.message} (${this.status}): ${this.url}`}}const Er=vi()?()=>self.worker&&self.worker.referrer:()=>("blob:"===Ge.location.protocol?Ge.parent:Ge).location.href,at=function(_,c){if(!(/^file:/.test(y=_.url)||/^file:/.test(Er())&&!/^\w+:/.test(y))){if(Ge.fetch&&Ge.Request&&Ge.AbortController&&Ge.Request.prototype.hasOwnProperty("signal"))return function(M,L){const z=new Ge.AbortController,V=new Ge.Request(M.url,{method:M.method||"GET",body:M.body,credentials:M.credentials,headers:M.headers,referrer:Er(),signal:z.signal});let K=!1,re=!1;const me=(be=V.url).indexOf("sku=")>0&&Co(be);var be;"json"===M.type&&V.headers.set("Accept","application/json");const Te=(Ve,et,_t)=>{if(re)return;if(Ve&&"SecurityError"!==Ve.message&&Vi(Ve),et&&_t)return Oe(et);const At=Date.now();Ge.fetch(V).then(Ht=>{if(Ht.ok){const sn=me?Ht.clone():null;return Oe(Ht,sn,At)}return L(new Hr(Ht.statusText,Ht.status,M.url))}).catch(Ht=>{20!==Ht.code&&L(new Error(Ht.message))})},Oe=(Ve,et,_t)=>{("arrayBuffer"===M.type?Ve.arrayBuffer():"json"===M.type?Ve.json():Ve.text()).then(At=>{re||(et&&_t&&function(Ht,sn,an){if(on(),!Rt)return;const dn={status:sn.status,statusText:sn.statusText,headers:new Ge.Headers};sn.headers.forEach((bn,Un)=>dn.headers.set(Un,bn));const xn=bi(sn.headers.get("Cache-Control")||"");xn["no-store"]||(xn["max-age"]&&dn.headers.set("Expires",new Date(an+1e3*xn["max-age"]).toUTCString()),new Date(dn.headers.get("Expires")).getTime()-an<42e4||function(bn,Un){if(void 0===Ot)try{new Response(new ReadableStream),Ot=!0}catch(ei){Ot=!1}Ot?Un(bn.body):bn.blob().then(Un)}(sn,bn=>{const Un=new Ge.Response(bn,dn);on(),Rt&&Rt.then(ei=>ei.put(gi(Ht.url),Un)).catch(ei=>Vi(ei.message))}))}(V,et,_t),K=!0,L(null,At,Ve.headers.get("Cache-Control"),Ve.headers.get("Expires")))}).catch(At=>{re||L(new Error(At.message))})};return me?function(Ve,et){if(on(),!Rt)return et(null);const _t=gi(Ve.url);Rt.then(At=>{At.match(_t).then(Ht=>{const sn=function(an){if(!an)return!1;const dn=new Date(an.headers.get("Expires")||0),xn=bi(an.headers.get("Cache-Control")||"");return dn>Date.now()&&!xn["no-cache"]}(Ht);At.delete(_t),sn&&At.put(_t,Ht.clone()),et(null,Ht,sn)}).catch(et)}).catch(et)}(V,Te):Te(null,null),{cancel:()=>{re=!0,K||z.abort()}}}(_,c);if(vi()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",_,c,void 0,!0)}var y;return function(M,L){const z=new Ge.XMLHttpRequest;z.open(M.method||"GET",M.url,!0),"arrayBuffer"===M.type&&(z.responseType="arraybuffer");for(const V in M.headers)z.setRequestHeader(V,M.headers[V]);return"json"===M.type&&(z.responseType="text",z.setRequestHeader("Accept","application/json")),z.withCredentials="include"===M.credentials,z.onerror=()=>{L(new Error(z.statusText))},z.onload=()=>{if((z.status>=200&&z.status<300||0===z.status)&&null!==z.response){let V=z.response;if("json"===M.type)try{V=JSON.parse(z.response)}catch(K){return L(K)}L(null,V,z.getResponseHeader("Cache-Control"),z.getResponseHeader("Expires"))}else L(new Hr(z.statusText,z.status,M.url))},z.send(M.body),{cancel:()=>z.abort()}}(_,c)},Ye=function(_,c){return at(zi(_,{type:"arrayBuffer"}),c)},$e=function(_,c){return at(zi(_,{method:"POST"}),c)},dt=function(_,c){return at(zi(_,{method:"GET"}),c)};function Ct(_){const c=Ge.document.createElement("a");return c.href=_,c.protocol===Ge.document.location.protocol&&c.host===Ge.document.location.host}const Bt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let Pt,nn;Pt=[],nn=0;const jt=function(_,c){if(Da.supported&&(_.headers||(_.headers={}),_.headers.accept="image/webp,*/*"),nn>=lr.MAX_PARALLEL_IMAGE_REQUESTS){const z={requestParameters:_,callback:c,cancelled:!1,cancel(){this.cancelled=!0}};return Pt.push(z),z}nn++;let y=!1;const M=()=>{if(!y)for(y=!0,nn--;Pt.length&&nn<lr.MAX_PARALLEL_IMAGE_REQUESTS;){const z=Pt.shift(),{requestParameters:V,callback:K,cancelled:re}=z;re||(z.cancel=jt(V,K).cancel)}},L=Ye(_,(z,V,K,re)=>{M(),z?c(z):V&&(Ge.createImageBitmap?function(me,be){const Te=new Ge.Blob([new Uint8Array(me)],{type:"image/png"});Ge.createImageBitmap(Te).then(Oe=>{be(null,Oe)}).catch(Oe=>{be(new Error(`Could not load image because of ${Oe.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(V,(me,be)=>c(me,be,K,re)):function(me,be){const Te=new Ge.Image,Oe=Ge.URL;Te.onload=()=>{be(null,Te),Oe.revokeObjectURL(Te.src),Te.onload=null,Ge.requestAnimationFrame(()=>{Te.src=Bt})},Te.onerror=()=>be(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const Ve=new Ge.Blob([new Uint8Array(me)],{type:"image/png"});Te.src=me.byteLength?Oe.createObjectURL(Ve):Bt}(V,(me,be)=>c(me,be,K,re)))});return{cancel:()=>{L.cancel(),M()}}};function en(_,c,y){y[_]&&-1!==y[_].indexOf(c)||(y[_]=y[_]||[],y[_].push(c))}function En(_,c,y){if(y&&y[_]){const M=y[_].indexOf(c);-1!==M&&y[_].splice(M,1)}}class Re{constructor(c,y={}){zi(this,y),this.type=c}}class p extends Re{constructor(c,y={}){super("error",zi({error:c},y))}}class f{on(c,y){return this._listeners=this._listeners||{},en(c,y,this._listeners),this}off(c,y){return En(c,y,this._listeners),En(c,y,this._oneTimeListeners),this}once(c,y){return y?(this._oneTimeListeners=this._oneTimeListeners||{},en(c,y,this._oneTimeListeners),this):new Promise(M=>this.once(c,M))}fire(c,y){"string"==typeof c&&(c=new Re(c,y||{}));const M=c.type;if(this.listens(M)){c.target=this;const L=this._listeners&&this._listeners[M]?this._listeners[M].slice():[];for(const K of L)K.call(this,c);const z=this._oneTimeListeners&&this._oneTimeListeners[M]?this._oneTimeListeners[M].slice():[];for(const K of z)En(M,K,this._oneTimeListeners),K.call(this,c);const V=this._eventedParent;V&&(zi(c,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),V.fire(c))}else c instanceof p&&console.error(c.error);return this}listens(c){return!!(this._listeners&&this._listeners[c]&&this._listeners[c].length>0||this._oneTimeListeners&&this._oneTimeListeners[c]&&this._oneTimeListeners[c].length>0||this._eventedParent&&this._eventedParent.listens(c))}setEventedParent(c,y){return this._eventedParent=c,this._eventedParentData=y,this}}var b={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},fog:{type:"fog"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{},sky:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_sky:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},fog:{range:{type:"array",default:[.5,10],minimum:-20,maximum:20,length:2,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-blend":{type:"number","property-type":"data-constant",default:.1,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number","property-type":"data-constant",default:1,minimum:0,maximum:1e3,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_sky:{"sky-type":{type:"enum",values:{gradient:{},atmosphere:{}},default:"atmosphere",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{type:"array",value:"number",length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,requires:[{"sky-type":"atmosphere"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{type:"number",requires:[{"sky-type":"atmosphere"}],default:10,minimum:0,maximum:100,transition:!1,"property-type":"data-constant"},"sky-gradient-center":{type:"array",requires:[{"sky-type":"gradient"}],value:"number",default:[0,0],length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{type:"number",requires:[{"sky-type":"gradient"}],default:90,minimum:0,maximum:180,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient":{type:"color",default:["interpolate",["linear"],["sky-radial-progress"],.8,"#87ceeb",1,"white"],transition:!1,requires:[{"sky-type":"gradient"}],expression:{interpolated:!0,parameters:["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{type:"color",default:"white",transition:!1,requires:[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{type:"color",default:"white",transition:!1,requires:[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};class S{constructor(c,y,M,L){this.message=(c?`${c}: `:"")+M,L&&(this.identifier=L),null!=y&&y.__line__&&(this.line=y.__line__)}}function D(_){const c=_.value;return c?[new S(_.key,c,"constants have been deprecated as of v8")]:[]}function B(_,...c){for(const y of c)for(const M in y)_[M]=y[M];return _}function F(_){return _ instanceof Number||_ instanceof String||_ instanceof Boolean?_.valueOf():_}function Z(_){if(Array.isArray(_))return _.map(Z);if(_ instanceof Object&&!(_ instanceof Number||_ instanceof String||_ instanceof Boolean)){const c={};for(const y in _)c[y]=Z(_[y]);return c}return F(_)}class q extends Error{constructor(c,y){super(y),this.message=y,this.key=c}}class oe{constructor(c,y=[]){this.parent=c,this.bindings={};for(const[M,L]of y)this.bindings[M]=L}concat(c){return new oe(this,c)}get(c){if(this.bindings[c])return this.bindings[c];if(this.parent)return this.parent.get(c);throw new Error(`${c} not found in scope.`)}has(c){return!!this.bindings[c]||!!this.parent&&this.parent.has(c)}}const ue={kind:"null"},ae={kind:"number"},_e={kind:"string"},Ie={kind:"boolean"},Pe={kind:"color"},ze={kind:"object"},We={kind:"value"},st={kind:"collator"},bt={kind:"formatted"},X={kind:"resolvedImage"};function he(_,c){return{kind:"array",itemType:_,N:c}}function Ne(_){if("array"===_.kind){const c=Ne(_.itemType);return"number"==typeof _.N?`array<${c}, ${_.N}>`:"value"===_.itemType.kind?"array":`array<${c}>`}return _.kind}const Je=[ue,ae,_e,Ie,Pe,bt,ze,he(We),X];function mt(_,c){if("error"===c.kind)return null;if("array"===_.kind){if("array"===c.kind&&(0===c.N&&"value"===c.itemType.kind||!mt(_.itemType,c.itemType))&&("number"!=typeof _.N||_.N===c.N))return null}else{if(_.kind===c.kind)return null;if("value"===_.kind)for(const y of Je)if(!mt(y,c))return null}return`Expected ${Ne(_)} but found ${Ne(c)} instead.`}function ln(_,c){return c.some(y=>y.kind===_.kind)}function qt(_,c){return c.some(y=>"null"===y?null===_:"array"===y?Array.isArray(_):"object"===y?_&&!Array.isArray(_)&&"object"==typeof _:y===typeof _)}function un(_){var c={exports:{}};return _(c,c.exports),c.exports}var Vn=un(function(_,c){var y={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function M(K){return(K=Math.round(K))<0?0:K>255?255:K}function L(K){return M("%"===K[K.length-1]?parseFloat(K)/100*255:parseInt(K))}function z(K){return(re="%"===K[K.length-1]?parseFloat(K)/100:parseFloat(K))<0?0:re>1?1:re;var re}function V(K,re,me){return me<0?me+=1:me>1&&(me-=1),6*me<1?K+(re-K)*me*6:2*me<1?re:3*me<2?K+(re-K)*(2/3-me)*6:K}try{c.parseCSSColor=function(K){var re,me=K.replace(/ /g,"").toLowerCase();if(me in y)return y[me].slice();if("#"===me[0])return 4===me.length?(re=parseInt(me.substr(1),16))>=0&&re<=4095?[(3840&re)>>4|(3840&re)>>8,240&re|(240&re)>>4,15&re|(15&re)<<4,1]:null:7===me.length&&(re=parseInt(me.substr(1),16))>=0&&re<=16777215?[(16711680&re)>>16,(65280&re)>>8,255&re,1]:null;var be=me.indexOf("("),Te=me.indexOf(")");if(-1!==be&&Te+1===me.length){var Oe=me.substr(0,be),Ve=me.substr(be+1,Te-(be+1)).split(","),et=1;switch(Oe){case"rgba":if(4!==Ve.length)return null;et=z(Ve.pop());case"rgb":return 3!==Ve.length?null:[L(Ve[0]),L(Ve[1]),L(Ve[2]),et];case"hsla":if(4!==Ve.length)return null;et=z(Ve.pop());case"hsl":if(3!==Ve.length)return null;var _t=(parseFloat(Ve[0])%360+360)%360/360,At=z(Ve[1]),Ht=z(Ve[2]),sn=Ht<=.5?Ht*(At+1):Ht+At-Ht*At,an=2*Ht-sn;return[M(255*V(an,sn,_t+1/3)),M(255*V(an,sn,_t)),M(255*V(an,sn,_t-1/3)),et];default:return null}}return null}}catch(K){}});class zn{constructor(c,y,M,L=1){this.r=c,this.g=y,this.b=M,this.a=L}static parse(c){if(!c)return;if(c instanceof zn)return c;if("string"!=typeof c)return;const y=Vn.parseCSSColor(c);return y?new zn(y[0]/255*y[3],y[1]/255*y[3],y[2]/255*y[3],y[3]):void 0}toString(){const[c,y,M,L]=this.toArray();return`rgba(${Math.round(c)},${Math.round(y)},${Math.round(M)},${L})`}toArray(){const{r:c,g:y,b:M,a:L}=this;return 0===L?[0,0,0,0]:[255*c/L,255*y/L,255*M/L,L]}}zn.black=new zn(0,0,0,1),zn.white=new zn(1,1,1,1),zn.transparent=new zn(0,0,0,0),zn.red=new zn(1,0,0,1),zn.blue=new zn(0,0,1,1);class ki{constructor(c,y,M){this.sensitivity=c?y?"variant":"case":y?"accent":"base",this.locale=M,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(c,y){return this.collator.compare(c,y)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class pr{constructor(c,y,M,L,z){this.text=c,this.image=y,this.scale=M,this.fontStack=L,this.textColor=z}}class _i{constructor(c){this.sections=c}static fromString(c){return new _i([new pr(c,null,null,null,null)])}isEmpty(){return 0===this.sections.length||!this.sections.some(c=>0!==c.text.length||c.image&&0!==c.image.name.length)}static factory(c){return c instanceof _i?c:_i.fromString(c)}toString(){return 0===this.sections.length?"":this.sections.map(c=>c.text).join("")}serialize(){const c=["format"];for(const y of this.sections){if(y.image){c.push(["image",y.image.name]);continue}c.push(y.text);const M={};y.fontStack&&(M["text-font"]=["literal",y.fontStack.split(",")]),y.scale&&(M["font-scale"]=y.scale),y.textColor&&(M["text-color"]=["rgba"].concat(y.textColor.toArray())),c.push(M)}return c}}class Yi{constructor(c){this.name=c.name,this.available=c.available}toString(){return this.name}static fromString(c){return c?new Yi({name:c,available:!1}):null}serialize(){return["image",this.name]}}function Lr(_,c,y,M){return"number"==typeof _&&_>=0&&_<=255&&"number"==typeof c&&c>=0&&c<=255&&"number"==typeof y&&y>=0&&y<=255?void 0===M||"number"==typeof M&&M>=0&&M<=1?null:`Invalid rgba value [${[_,c,y,M].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${("number"==typeof M?[_,c,y,M]:[_,c,y]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function eo(_){if(null===_||"string"==typeof _||"boolean"==typeof _||"number"==typeof _||_ instanceof zn||_ instanceof ki||_ instanceof _i||_ instanceof Yi)return!0;if(Array.isArray(_)){for(const c of _)if(!eo(c))return!1;return!0}if("object"==typeof _){for(const c in _)if(!eo(_[c]))return!1;return!0}return!1}function Cs(_){if(null===_)return ue;if("string"==typeof _)return _e;if("boolean"==typeof _)return Ie;if("number"==typeof _)return ae;if(_ instanceof zn)return Pe;if(_ instanceof ki)return st;if(_ instanceof _i)return bt;if(_ instanceof Yi)return X;if(Array.isArray(_)){const c=_.length;let y;for(const M of _){const L=Cs(M);if(y){if(y===L)continue;y=We;break}y=L}return he(y||We,c)}return ze}function qi(_){const c=typeof _;return null===_?"":"string"===c||"number"===c||"boolean"===c?String(_):_ instanceof zn||_ instanceof _i||_ instanceof Yi?_.toString():JSON.stringify(_)}class jr{constructor(c,y){this.type=c,this.value=y}static parse(c,y){if(2!==c.length)return y.error(`'literal' expression requires exactly one argument, but found ${c.length-1} instead.`);if(!eo(c[1]))return y.error("invalid value");const M=c[1];let L=Cs(M);const z=y.expectedType;return"array"!==L.kind||0!==L.N||!z||"array"!==z.kind||"number"==typeof z.N&&0!==z.N||(L=z),new jr(L,M)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof zn?["rgba"].concat(this.value.toArray()):this.value instanceof _i?this.value.serialize():this.value}}class Ms{constructor(c){this.name="ExpressionEvaluationError",this.message=c}toJSON(){return this.message}}const Ia={string:_e,number:ae,boolean:Ie,object:ze};class ga{constructor(c,y){this.type=c,this.args=y}static parse(c,y){if(c.length<2)return y.error("Expected at least one argument.");let M,L=1;const z=c[0];if("array"===z){let K,re;if(c.length>2){const me=c[1];if("string"!=typeof me||!(me in Ia)||"object"===me)return y.error('The item type argument of "array" must be one of string, number, boolean',1);K=Ia[me],L++}else K=We;if(c.length>3){if(null!==c[2]&&("number"!=typeof c[2]||c[2]<0||c[2]!==Math.floor(c[2])))return y.error('The length argument to "array" must be a positive integer literal',2);re=c[2],L++}M=he(K,re)}else M=Ia[z];const V=[];for(;L<c.length;L++){const K=y.parse(c[L],L,We);if(!K)return null;V.push(K)}return new ga(M,V)}evaluate(c){for(let y=0;y<this.args.length;y++){const M=this.args[y].evaluate(c);if(!mt(this.type,Cs(M)))return M;if(y===this.args.length-1)throw new Ms(`Expected value to be of type ${Ne(this.type)}, but found ${Ne(Cs(M))} instead.`)}return null}eachChild(c){this.args.forEach(c)}outputDefined(){return this.args.every(c=>c.outputDefined())}serialize(){const c=this.type,y=[c.kind];if("array"===c.kind){const M=c.itemType;if("string"===M.kind||"number"===M.kind||"boolean"===M.kind){y.push(M.kind);const L=c.N;("number"==typeof L||this.args.length>1)&&y.push(L)}}return y.concat(this.args.map(M=>M.serialize()))}}class ao{constructor(c){this.type=bt,this.sections=c}static parse(c,y){if(c.length<2)return y.error("Expected at least one argument.");const M=c[1];if(!Array.isArray(M)&&"object"==typeof M)return y.error("First argument must be an image or text section.");const L=[];let z=!1;for(let V=1;V<=c.length-1;++V){const K=c[V];if(z&&"object"==typeof K&&!Array.isArray(K)){z=!1;let re=null;if(K["font-scale"]&&(re=y.parse(K["font-scale"],1,ae),!re))return null;let me=null;if(K["text-font"]&&(me=y.parse(K["text-font"],1,he(_e)),!me))return null;let be=null;if(K["text-color"]&&(be=y.parse(K["text-color"],1,Pe),!be))return null;const Te=L[L.length-1];Te.scale=re,Te.font=me,Te.textColor=be}else{const re=y.parse(c[V],1,We);if(!re)return null;const me=re.type.kind;if("string"!==me&&"value"!==me&&"null"!==me&&"resolvedImage"!==me)return y.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");z=!0,L.push({content:re,scale:null,font:null,textColor:null})}}return new ao(L)}evaluate(c){return new _i(this.sections.map(y=>{const M=y.content.evaluate(c);return Cs(M)===X?new pr("",M,null,null,null):new pr(qi(M),null,y.scale?y.scale.evaluate(c):null,y.font?y.font.evaluate(c).join(","):null,y.textColor?y.textColor.evaluate(c):null)}))}eachChild(c){for(const y of this.sections)c(y.content),y.scale&&c(y.scale),y.font&&c(y.font),y.textColor&&c(y.textColor)}outputDefined(){return!1}serialize(){const c=["format"];for(const y of this.sections){c.push(y.content.serialize());const M={};y.scale&&(M["font-scale"]=y.scale.serialize()),y.font&&(M["text-font"]=y.font.serialize()),y.textColor&&(M["text-color"]=y.textColor.serialize()),c.push(M)}return c}}class qo{constructor(c){this.type=X,this.input=c}static parse(c,y){if(2!==c.length)return y.error("Expected two arguments.");const M=y.parse(c[1],1,_e);return M?new qo(M):y.error("No image name provided.")}evaluate(c){const y=this.input.evaluate(c),M=Yi.fromString(y);return M&&c.availableImages&&(M.available=c.availableImages.indexOf(y)>-1),M}eachChild(c){c(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const Ad={"to-boolean":Ie,"to-color":Pe,"to-number":ae,"to-string":_e};class Nl{constructor(c,y){this.type=c,this.args=y}static parse(c,y){if(c.length<2)return y.error("Expected at least one argument.");const M=c[0];if(("to-boolean"===M||"to-string"===M)&&2!==c.length)return y.error("Expected one argument.");const L=Ad[M],z=[];for(let V=1;V<c.length;V++){const K=y.parse(c[V],V,We);if(!K)return null;z.push(K)}return new Nl(L,z)}evaluate(c){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(c));if("color"===this.type.kind){let y,M;for(const L of this.args){if(y=L.evaluate(c),M=null,y instanceof zn)return y;if("string"==typeof y){const z=c.parseColor(y);if(z)return z}else if(Array.isArray(y)&&(M=y.length<3||y.length>4?`Invalid rbga value ${JSON.stringify(y)}: expected an array containing either three or four numeric values.`:Lr(y[0],y[1],y[2],y[3]),!M))return new zn(y[0]/255,y[1]/255,y[2]/255,y[3])}throw new Ms(M||`Could not parse color from value '${"string"==typeof y?y:String(JSON.stringify(y))}'`)}if("number"===this.type.kind){let y=null;for(const M of this.args){if(y=M.evaluate(c),null===y)return 0;const L=Number(y);if(!isNaN(L))return L}throw new Ms(`Could not convert ${JSON.stringify(y)} to number.`)}return"formatted"===this.type.kind?_i.fromString(qi(this.args[0].evaluate(c))):"resolvedImage"===this.type.kind?Yi.fromString(qi(this.args[0].evaluate(c))):qi(this.args[0].evaluate(c))}eachChild(c){this.args.forEach(c)}outputDefined(){return this.args.every(c=>c.outputDefined())}serialize(){if("formatted"===this.type.kind)return new ao([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new qo(this.args[0]).serialize();const c=[`to-${this.type.kind}`];return this.eachChild(y=>{c.push(y.serialize())}),c}}const Tm=["Unknown","Point","LineString","Polygon"];class rh{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?"number"==typeof this.feature.type?Tm[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(c){let y=this._parseColorCache[c];return y||(y=this._parseColorCache[c]=zn.parse(c)),y}}class Cl{constructor(c,y,M,L){this.name=c,this.type=y,this._evaluate=M,this.args=L}evaluate(c){return this._evaluate(c,this.args)}eachChild(c){this.args.forEach(c)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(c=>c.serialize()))}static parse(c,y){const M=c[0],L=Cl.definitions[M];if(!L)return y.error(`Unknown expression "${M}". If you wanted a literal array, use ["literal", [...]].`,0);const z=Array.isArray(L)?L[0]:L.type,V=Array.isArray(L)?[[L[1],L[2]]]:L.overloads,K=V.filter(([me])=>!Array.isArray(me)||me.length===c.length-1);let re=null;for(const[me,be]of K){re=new Pd(y.registry,y.path,null,y.scope);const Te=[];let Oe=!1;for(let Ve=1;Ve<c.length;Ve++){const et=c[Ve],_t=Array.isArray(me)?me[Ve-1]:me.type,At=re.parse(et,1+Te.length,_t);if(!At){Oe=!0;break}Te.push(At)}if(!Oe)if(Array.isArray(me)&&me.length!==Te.length)re.error(`Expected ${me.length} arguments, but found ${Te.length} instead.`);else{for(let Ve=0;Ve<Te.length;Ve++){const et=Array.isArray(me)?me[Ve]:me.type,_t=Te[Ve];re.concat(Ve+1).checkSubtype(et,_t.type)}if(0===re.errors.length)return new Cl(M,z,be,Te)}}if(1===K.length)y.errors.push(...re.errors);else{const me=(K.length?K:V).map(([Te])=>{return Oe=Te,Array.isArray(Oe)?`(${Oe.map(Ne).join(", ")})`:`(${Ne(Oe.type)}...)`;var Oe}).join(" | "),be=[];for(let Te=1;Te<c.length;Te++){const Oe=y.parse(c[Te],1+be.length);if(!Oe)return null;be.push(Ne(Oe.type))}y.error(`Expected arguments of type ${me}, but found (${be.join(", ")}) instead.`)}return null}static register(c,y){Cl.definitions=y;for(const M in y)c[M]=Cl}}class Cp{constructor(c,y,M){this.type=st,this.locale=M,this.caseSensitive=c,this.diacriticSensitive=y}static parse(c,y){if(2!==c.length)return y.error("Expected one argument.");const M=c[1];if("object"!=typeof M||Array.isArray(M))return y.error("Collator options argument must be an object.");const L=y.parse(void 0!==M["case-sensitive"]&&M["case-sensitive"],1,Ie);if(!L)return null;const z=y.parse(void 0!==M["diacritic-sensitive"]&&M["diacritic-sensitive"],1,Ie);if(!z)return null;let V=null;return M.locale&&(V=y.parse(M.locale,1,_e),!V)?null:new Cp(L,z,V)}evaluate(c){return new ki(this.caseSensitive.evaluate(c),this.diacriticSensitive.evaluate(c),this.locale?this.locale.evaluate(c):null)}eachChild(c){c(this.caseSensitive),c(this.diacriticSensitive),this.locale&&c(this.locale)}outputDefined(){return!1}serialize(){const c={};return c["case-sensitive"]=this.caseSensitive.serialize(),c["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(c.locale=this.locale.serialize()),["collator",c]}}const Id=8192;function rf(_,c){_[0]=Math.min(_[0],c[0]),_[1]=Math.min(_[1],c[1]),_[2]=Math.max(_[2],c[0]),_[3]=Math.max(_[3],c[1])}function ou(_,c){return!(_[0]<=c[0]||_[2]>=c[2]||_[1]<=c[1]||_[3]>=c[3])}function Ts(_,c){const y=(180+_[0])/360,M=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+_[1]*Math.PI/360)))/360,L=Math.pow(2,c.z);return[Math.round(y*L*Id),Math.round(M*L*Id)]}function Zh(_,c,y){const M=_[0]-c[0],L=_[1]-c[1],z=_[0]-y[0],V=_[1]-y[1];return M*V-z*L==0&&M*z<=0&&L*V<=0}function sh(_,c){let y=!1;for(let V=0,K=c.length;V<K;V++){const re=c[V];for(let me=0,be=re.length;me<be-1;me++){if(Zh(_,re[me],re[me+1]))return!1;(L=re[me])[1]>(M=_)[1]!=(z=re[me+1])[1]>M[1]&&M[0]<(z[0]-L[0])*(M[1]-L[1])/(z[1]-L[1])+L[0]&&(y=!y)}}var M,L,z;return y}function Mp(_,c){for(let y=0;y<c.length;y++)if(sh(_,c[y]))return!0;return!1}function nc(_,c,y,M){const L=M[0]-y[0],z=M[1]-y[1],V=(_[0]-y[0])*z-L*(_[1]-y[1]),K=(c[0]-y[0])*z-L*(c[1]-y[1]);return V>0&&K<0||V<0&&K>0}function oh(_,c,y){for(const me of y)for(let be=0;be<me.length-1;++be)if((K=[(V=me[be+1])[0]-(z=me[be])[0],V[1]-z[1]])[0]*(re=[(L=c)[0]-(M=_)[0],L[1]-M[1]])[1]-K[1]*re[0]!=0&&nc(M,L,z,V)&&nc(z,V,M,L))return!0;var M,L,z,V,K,re;return!1}function zl(_,c){for(let y=0;y<_.length;++y)if(!sh(_[y],c))return!1;for(let y=0;y<_.length-1;++y)if(oh(_[y],_[y+1],c))return!1;return!0}function ah(_,c){for(let y=0;y<c.length;y++)if(zl(_,c[y]))return!0;return!1}function la(_,c,y){const M=[];for(let L=0;L<_.length;L++){const z=[];for(let V=0;V<_[L].length;V++){const K=Ts(_[L][V],y);rf(c,K),z.push(K)}M.push(z)}return M}function Tp(_,c,y){const M=[];for(let L=0;L<_.length;L++){const z=la(_[L],c,y);M.push(z)}return M}function Ss(_,c,y,M){if(_[0]<y[0]||_[0]>y[2]){const L=.5*M;let z=_[0]-y[0]>L?-M:y[0]-_[0]>L?M:0;0===z&&(z=_[0]-y[2]>L?-M:y[2]-_[0]>L?M:0),_[0]+=z}rf(c,_)}function zs(_,c,y,M){const L=Math.pow(2,M.z)*Id,z=[M.x*Id,M.y*Id],V=[];for(const K of _)for(const re of K){const me=[re.x+z[0],re.y+z[1]];Ss(me,c,y,L),V.push(me)}return V}function Ji(_,c,y,M){const L=Math.pow(2,M.z)*Id,z=[M.x*Id,M.y*Id],V=[];for(const re of _){const me=[];for(const be of re){const Te=[be.x+z[0],be.y+z[1]];rf(c,Te),me.push(Te)}V.push(me)}if(c[2]-c[0]<=L/2){(K=c)[0]=K[1]=1/0,K[2]=K[3]=-1/0;for(const re of V)for(const me of re)Ss(me,c,y,L)}var K;return V}class ic{constructor(c,y){this.type=Ie,this.geojson=c,this.geometries=y}static parse(c,y){if(2!==c.length)return y.error(`'within' expression requires exactly one argument, but found ${c.length-1} instead.`);if(eo(c[1])){const M=c[1];if("FeatureCollection"===M.type)for(let L=0;L<M.features.length;++L){const z=M.features[L].geometry.type;if("Polygon"===z||"MultiPolygon"===z)return new ic(M,M.features[L].geometry)}else if("Feature"===M.type){const L=M.geometry.type;if("Polygon"===L||"MultiPolygon"===L)return new ic(M,M.geometry)}else if("Polygon"===M.type||"MultiPolygon"===M.type)return new ic(M,M)}return y.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(c){if(null!=c.geometry()&&null!=c.canonicalID()){if("Point"===c.geometryType())return function(y,M){const L=[1/0,1/0,-1/0,-1/0],z=[1/0,1/0,-1/0,-1/0],V=y.canonicalID();if("Polygon"===M.type){const K=la(M.coordinates,z,V),re=zs(y.geometry(),L,z,V);if(!ou(L,z))return!1;for(const me of re)if(!sh(me,K))return!1}if("MultiPolygon"===M.type){const K=Tp(M.coordinates,z,V),re=zs(y.geometry(),L,z,V);if(!ou(L,z))return!1;for(const me of re)if(!Mp(me,K))return!1}return!0}(c,this.geometries);if("LineString"===c.geometryType())return function(y,M){const L=[1/0,1/0,-1/0,-1/0],z=[1/0,1/0,-1/0,-1/0],V=y.canonicalID();if("Polygon"===M.type){const K=la(M.coordinates,z,V),re=Ji(y.geometry(),L,z,V);if(!ou(L,z))return!1;for(const me of re)if(!zl(me,K))return!1}if("MultiPolygon"===M.type){const K=Tp(M.coordinates,z,V),re=Ji(y.geometry(),L,z,V);if(!ou(L,z))return!1;for(const me of re)if(!ah(me,K))return!1}return!0}(c,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}function lh(_){if(_ instanceof Cl&&("get"===_.name&&1===_.args.length||"feature-state"===_.name||"has"===_.name&&1===_.args.length||"properties"===_.name||"geometry-type"===_.name||"id"===_.name||/^filter-/.test(_.name))||_ instanceof ic)return!1;let c=!0;return _.eachChild(y=>{c&&!lh(y)&&(c=!1)}),c}function Ld(_){if(_ instanceof Cl&&"feature-state"===_.name)return!1;let c=!0;return _.eachChild(y=>{c&&!Ld(y)&&(c=!1)}),c}function Or(_,c){if(_ instanceof Cl&&c.indexOf(_.name)>=0)return!1;let y=!0;return _.eachChild(M=>{y&&!Or(M,c)&&(y=!1)}),y}class ch{constructor(c,y){this.type=y.type,this.name=c,this.boundExpression=y}static parse(c,y){if(2!==c.length||"string"!=typeof c[1])return y.error("'var' expression requires exactly one string literal argument.");const M=c[1];return y.scope.has(M)?new ch(M,y.scope.get(M)):y.error(`Unknown variable "${M}". Make sure "${M}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(c){return this.boundExpression.evaluate(c)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}class Pd{constructor(c,y=[],M,L=new oe,z=[]){this.registry=c,this.path=y,this.key=y.map(V=>`[${V}]`).join(""),this.scope=L,this.errors=z,this.expectedType=M}parse(c,y,M,L,z={}){return y?this.concat(y,M,L)._parse(c,z):this._parse(c,z)}_parse(c,y){function M(L,z,V){return"assert"===V?new ga(z,[L]):"coerce"===V?new Nl(z,[L]):L}if(null!==c&&"string"!=typeof c&&"boolean"!=typeof c&&"number"!=typeof c||(c=["literal",c]),Array.isArray(c)){if(0===c.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const L=c[0];if("string"!=typeof L)return this.error(`Expression name must be a string, but found ${typeof L} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const z=this.registry[L];if(z){let V=z.parse(c,this);if(!V)return null;if(this.expectedType){const K=this.expectedType,re=V.type;if("string"!==K.kind&&"number"!==K.kind&&"boolean"!==K.kind&&"object"!==K.kind&&"array"!==K.kind||"value"!==re.kind)if("color"!==K.kind&&"formatted"!==K.kind&&"resolvedImage"!==K.kind||"value"!==re.kind&&"string"!==re.kind){if(this.checkSubtype(K,re))return null}else V=M(V,K,y.typeAnnotation||"coerce");else V=M(V,K,y.typeAnnotation||"assert")}if(!(V instanceof jr)&&"resolvedImage"!==V.type.kind&&Sp(V)){const K=new rh;try{V=new jr(V.type,V.evaluate(K))}catch(re){return this.error(re.message),null}}return V}return this.error(`Unknown expression "${L}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(void 0===c?"'undefined' value invalid. Use null instead.":"object"==typeof c?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof c} instead.`)}concat(c,y,M){const L="number"==typeof c?this.path.concat(c):this.path,z=M?this.scope.concat(M):this.scope;return new Pd(this.registry,L,y||null,z,this.errors)}error(c,...y){const M=`${this.key}${y.map(L=>`[${L}]`).join("")}`;this.errors.push(new q(M,c))}checkSubtype(c,y){const M=mt(c,y);return M&&this.error(M),M}}function Sp(_){if(_ instanceof ch)return Sp(_.boundExpression);if(_ instanceof Cl&&"error"===_.name||_ instanceof Cp||_ instanceof ic)return!1;const c=_ instanceof Nl||_ instanceof ga;let y=!0;return _.eachChild(M=>{y=c?y&&Sp(M):y&&M instanceof jr}),!!y&&lh(_)&&Or(_,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script"])}function _a(_,c){const y=_.length-1;let M,L,z=0,V=y,K=0;for(;z<=V;)if(K=Math.floor((z+V)/2),M=_[K],L=_[K+1],M<=c){if(K===y||c<L)return K;z=K+1}else{if(!(M>c))throw new Ms("Input is not a number.");V=K-1}return 0}class Qa{constructor(c,y,M){this.type=c,this.input=y,this.labels=[],this.outputs=[];for(const[L,z]of M)this.labels.push(L),this.outputs.push(z)}static parse(c,y){if(c.length-1<4)return y.error(`Expected at least 4 arguments, but found only ${c.length-1}.`);if((c.length-1)%2!=0)return y.error("Expected an even number of arguments.");const M=y.parse(c[1],1,ae);if(!M)return null;const L=[];let z=null;y.expectedType&&"value"!==y.expectedType.kind&&(z=y.expectedType);for(let V=1;V<c.length;V+=2){const K=1===V?-1/0:c[V],re=c[V+1],me=V,be=V+1;if("number"!=typeof K)return y.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',me);if(L.length&&L[L.length-1][0]>=K)return y.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',me);const Te=y.parse(re,be,z);if(!Te)return null;z=z||Te.type,L.push([K,Te])}return new Qa(z,M,L)}evaluate(c){const y=this.labels,M=this.outputs;if(1===y.length)return M[0].evaluate(c);const L=this.input.evaluate(c);if(L<=y[0])return M[0].evaluate(c);const z=y.length;return L>=y[z-1]?M[z-1].evaluate(c):M[_a(y,L)].evaluate(c)}eachChild(c){c(this.input);for(const y of this.outputs)c(y)}outputDefined(){return this.outputs.every(c=>c.outputDefined())}serialize(){const c=["step",this.input.serialize()];for(let y=0;y<this.labels.length;y++)y>0&&c.push(this.labels[y]),c.push(this.outputs[y].serialize());return c}}function mi(_,c,y){return _*(1-y)+c*y}var Hc=Object.freeze({__proto__:null,number:mi,color:function(_,c,y){return new zn(mi(_.r,c.r,y),mi(_.g,c.g,y),mi(_.b,c.b,y),mi(_.a,c.a,y))},array:function(_,c,y){return _.map((M,L)=>mi(M,c[L],y))}});const Od=4/29,Vc=6/29,Hs=3*Vc*Vc,Bl=Math.PI/180,or=180/Math.PI;function kp(_){return _>.008856451679035631?Math.pow(_,1/3):_/Hs+Od}function fr(_){return _>Vc?_*_*_:Hs*(_-Od)}function Ep(_){return 255*(_<=.0031308?12.92*_:1.055*Math.pow(_,1/2.4)-.055)}function os(_){return(_/=255)<=.04045?_/12.92:Math.pow((_+.055)/1.055,2.4)}function Ku(_){const c=os(_.r),y=os(_.g),M=os(_.b),L=kp((.4124564*c+.3575761*y+.1804375*M)/.95047),z=kp((.2126729*c+.7151522*y+.072175*M)/1);return{l:116*z-16,a:500*(L-z),b:200*(z-kp((.0193339*c+.119192*y+.9503041*M)/1.08883)),alpha:_.a}}function Yl(_){let c=(_.l+16)/116,y=isNaN(_.a)?c:c+_.a/500,M=isNaN(_.b)?c:c-_.b/200;return c=1*fr(c),y=.95047*fr(y),M=1.08883*fr(M),new zn(Ep(3.2404542*y-1.5371385*c-.4985314*M),Ep(-.969266*y+1.8760108*c+.041556*M),Ep(.0556434*y-.2040259*c+1.0572252*M),_.alpha)}function sc(_,c,y){const M=c-_;return _+y*(M>180||M<-180?M-360*Math.round(M/360):M)}const La={forward:Ku,reverse:Yl,interpolate:function(_,c,y){return{l:mi(_.l,c.l,y),a:mi(_.a,c.a,y),b:mi(_.b,c.b,y),alpha:mi(_.alpha,c.alpha,y)}}},al={forward:function(_){const{l:c,a:y,b:M}=Ku(_),L=Math.atan2(M,y)*or;return{h:L<0?L+360:L,c:Math.sqrt(y*y+M*M),l:c,alpha:_.a}},reverse:function(_){const c=_.h*Bl,y=_.c;return Yl({l:_.l,a:Math.cos(c)*y,b:Math.sin(c)*y,alpha:_.alpha})},interpolate:function(_,c,y){return{h:sc(_.h,c.h,y),c:mi(_.c,c.c,y),l:mi(_.l,c.l,y),alpha:mi(_.alpha,c.alpha,y)}}};var ds=Object.freeze({__proto__:null,lab:La,hcl:al});class ca{constructor(c,y,M,L,z){this.type=c,this.operator=y,this.interpolation=M,this.input=L,this.labels=[],this.outputs=[];for(const[V,K]of z)this.labels.push(V),this.outputs.push(K)}static interpolationFactor(c,y,M,L){let z=0;if("exponential"===c.name)z=uh(y,c.base,M,L);else if("linear"===c.name)z=uh(y,1,M,L);else if("cubic-bezier"===c.name){const V=c.controlPoints;z=new Ce(V[0],V[1],V[2],V[3]).solve(uh(y,1,M,L))}return z}static parse(c,y){let[M,L,z,...V]=c;if(!Array.isArray(L)||0===L.length)return y.error("Expected an interpolation type expression.",1);if("linear"===L[0])L={name:"linear"};else if("exponential"===L[0]){const me=L[1];if("number"!=typeof me)return y.error("Exponential interpolation requires a numeric base.",1,1);L={name:"exponential",base:me}}else{if("cubic-bezier"!==L[0])return y.error(`Unknown interpolation type ${String(L[0])}`,1,0);{const me=L.slice(1);if(4!==me.length||me.some(be=>"number"!=typeof be||be<0||be>1))return y.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);L={name:"cubic-bezier",controlPoints:me}}}if(c.length-1<4)return y.error(`Expected at least 4 arguments, but found only ${c.length-1}.`);if((c.length-1)%2!=0)return y.error("Expected an even number of arguments.");if(z=y.parse(z,2,ae),!z)return null;const K=[];let re=null;"interpolate-hcl"===M||"interpolate-lab"===M?re=Pe:y.expectedType&&"value"!==y.expectedType.kind&&(re=y.expectedType);for(let me=0;me<V.length;me+=2){const be=V[me],Te=V[me+1],Oe=me+3,Ve=me+4;if("number"!=typeof be)return y.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Oe);if(K.length&&K[K.length-1][0]>=be)return y.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Oe);const et=y.parse(Te,Ve,re);if(!et)return null;re=re||et.type,K.push([be,et])}return"number"===re.kind||"color"===re.kind||"array"===re.kind&&"number"===re.itemType.kind&&"number"==typeof re.N?new ca(re,M,L,z,K):y.error(`Type ${Ne(re)} is not interpolatable.`)}evaluate(c){const y=this.labels,M=this.outputs;if(1===y.length)return M[0].evaluate(c);const L=this.input.evaluate(c);if(L<=y[0])return M[0].evaluate(c);const z=y.length;if(L>=y[z-1])return M[z-1].evaluate(c);const V=_a(y,L),K=ca.interpolationFactor(this.interpolation,L,y[V],y[V+1]),re=M[V].evaluate(c),me=M[V+1].evaluate(c);return"interpolate"===this.operator?Hc[this.type.kind.toLowerCase()](re,me,K):"interpolate-hcl"===this.operator?al.reverse(al.interpolate(al.forward(re),al.forward(me),K)):La.reverse(La.interpolate(La.forward(re),La.forward(me),K))}eachChild(c){c(this.input);for(const y of this.outputs)c(y)}outputDefined(){return this.outputs.every(c=>c.outputDefined())}serialize(){let c;c="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const y=[this.operator,c,this.input.serialize()];for(let M=0;M<this.labels.length;M++)y.push(this.labels[M],this.outputs[M].serialize());return y}}function uh(_,c,y,M){const L=M-y,z=_-y;return 0===L?0:1===c?z/L:(Math.pow(c,z)-1)/(Math.pow(c,L)-1)}class xu{constructor(c,y){this.type=c,this.args=y}static parse(c,y){if(c.length<2)return y.error("Expectected at least one argument.");let M=null;const L=y.expectedType;L&&"value"!==L.kind&&(M=L);const z=[];for(const K of c.slice(1)){const re=y.parse(K,1+z.length,M,void 0,{typeAnnotation:"omit"});if(!re)return null;M=M||re.type,z.push(re)}const V=L&&z.some(K=>mt(L,K.type));return new xu(V?We:M,z)}evaluate(c){let y,M=null,L=0;for(const z of this.args)if(L++,M=z.evaluate(c),M&&M instanceof Yi&&!M.available&&(y||(y=M.name),M=null,L===this.args.length&&(M=y)),null!==M)break;return M}eachChild(c){this.args.forEach(c)}outputDefined(){return this.args.every(c=>c.outputDefined())}serialize(){const c=["coalesce"];return this.eachChild(y=>{c.push(y.serialize())}),c}}class Hl{constructor(c,y){this.type=y.type,this.bindings=[].concat(c),this.result=y}evaluate(c){return this.result.evaluate(c)}eachChild(c){for(const y of this.bindings)c(y[1]);c(this.result)}static parse(c,y){if(c.length<4)return y.error(`Expected at least 3 arguments, but found ${c.length-1} instead.`);const M=[];for(let z=1;z<c.length-1;z+=2){const V=c[z];if("string"!=typeof V)return y.error(`Expected string, but found ${typeof V} instead.`,z);if(/[^a-zA-Z0-9_]/.test(V))return y.error("Variable names must contain only alphanumeric characters or '_'.",z);const K=y.parse(c[z+1],z+1);if(!K)return null;M.push([V,K])}const L=y.parse(c[c.length-1],c.length-1,y.expectedType,M);return L?new Hl(M,L):null}outputDefined(){return this.result.outputDefined()}serialize(){const c=["let"];for(const[y,M]of this.bindings)c.push(y,M.serialize());return c.push(this.result.serialize()),c}}class Gh{constructor(c,y,M){this.type=c,this.index=y,this.input=M}static parse(c,y){if(3!==c.length)return y.error(`Expected 2 arguments, but found ${c.length-1} instead.`);const M=y.parse(c[1],1,ae),L=y.parse(c[2],2,he(y.expectedType||We));return M&&L?new Gh(L.type.itemType,M,L):null}evaluate(c){const y=this.index.evaluate(c),M=this.input.evaluate(c);if(y<0)throw new Ms(`Array index out of bounds: ${y} < 0.`);if(y>=M.length)throw new Ms(`Array index out of bounds: ${y} > ${M.length-1}.`);if(y!==Math.floor(y))throw new Ms(`Array index must be an integer, but found ${y} instead.`);return M[y]}eachChild(c){c(this.index),c(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}class vc{constructor(c,y){this.type=Ie,this.needle=c,this.haystack=y}static parse(c,y){if(3!==c.length)return y.error(`Expected 2 arguments, but found ${c.length-1} instead.`);const M=y.parse(c[1],1,We),L=y.parse(c[2],2,We);return M&&L?ln(M.type,[Ie,_e,ae,ue,We])?new vc(M,L):y.error(`Expected first argument to be of type boolean, string, number or null, but found ${Ne(M.type)} instead`):null}evaluate(c){const y=this.needle.evaluate(c),M=this.haystack.evaluate(c);if(!M)return!1;if(!qt(y,["boolean","string","number","null"]))throw new Ms(`Expected first argument to be of type boolean, string, number or null, but found ${Ne(Cs(y))} instead.`);if(!qt(M,["string","array"]))throw new Ms(`Expected second argument to be of type array or string, but found ${Ne(Cs(M))} instead.`);return M.indexOf(y)>=0}eachChild(c){c(this.needle),c(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}class rr{constructor(c,y,M){this.type=ae,this.needle=c,this.haystack=y,this.fromIndex=M}static parse(c,y){if(c.length<=2||c.length>=5)return y.error(`Expected 3 or 4 arguments, but found ${c.length-1} instead.`);const M=y.parse(c[1],1,We),L=y.parse(c[2],2,We);if(!M||!L)return null;if(!ln(M.type,[Ie,_e,ae,ue,We]))return y.error(`Expected first argument to be of type boolean, string, number or null, but found ${Ne(M.type)} instead`);if(4===c.length){const z=y.parse(c[3],3,ae);return z?new rr(M,L,z):null}return new rr(M,L)}evaluate(c){const y=this.needle.evaluate(c),M=this.haystack.evaluate(c);if(!qt(y,["boolean","string","number","null"]))throw new Ms(`Expected first argument to be of type boolean, string, number or null, but found ${Ne(Cs(y))} instead.`);if(!qt(M,["string","array"]))throw new Ms(`Expected second argument to be of type array or string, but found ${Ne(Cs(M))} instead.`);if(this.fromIndex){const L=this.fromIndex.evaluate(c);return M.indexOf(y,L)}return M.indexOf(y)}eachChild(c){c(this.needle),c(this.haystack),this.fromIndex&&c(this.fromIndex)}outputDefined(){return!1}serialize(){if(null!=this.fromIndex&&void 0!==this.fromIndex){const c=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),c]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}class ed{constructor(c,y,M,L,z,V){this.inputType=c,this.type=y,this.input=M,this.cases=L,this.outputs=z,this.otherwise=V}static parse(c,y){if(c.length<5)return y.error(`Expected at least 4 arguments, but found only ${c.length-1}.`);if(c.length%2!=1)return y.error("Expected an even number of arguments.");let M,L;y.expectedType&&"value"!==y.expectedType.kind&&(L=y.expectedType);const z={},V=[];for(let me=2;me<c.length-1;me+=2){let be=c[me];const Te=c[me+1];Array.isArray(be)||(be=[be]);const Oe=y.concat(me);if(0===be.length)return Oe.error("Expected at least one branch label.");for(const et of be){if("number"!=typeof et&&"string"!=typeof et)return Oe.error("Branch labels must be numbers or strings.");if("number"==typeof et&&Math.abs(et)>Number.MAX_SAFE_INTEGER)return Oe.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if("number"==typeof et&&Math.floor(et)!==et)return Oe.error("Numeric branch labels must be integer values.");if(M){if(Oe.checkSubtype(M,Cs(et)))return null}else M=Cs(et);if(void 0!==z[String(et)])return Oe.error("Branch labels must be unique.");z[String(et)]=V.length}const Ve=y.parse(Te,me,L);if(!Ve)return null;L=L||Ve.type,V.push(Ve)}const K=y.parse(c[1],1,We);if(!K)return null;const re=y.parse(c[c.length-1],c.length-1,L);return re?"value"!==K.type.kind&&y.concat(1).checkSubtype(M,K.type)?null:new ed(M,L,K,z,V,re):null}evaluate(c){const y=this.input.evaluate(c);return(Cs(y)===this.inputType&&this.outputs[this.cases[y]]||this.otherwise).evaluate(c)}eachChild(c){c(this.input),this.outputs.forEach(c),c(this.otherwise)}outputDefined(){return this.outputs.every(c=>c.outputDefined())&&this.otherwise.outputDefined()}serialize(){const c=["match",this.input.serialize()],y=Object.keys(this.cases).sort(),M=[],L={};for(const V of y){const K=L[this.cases[V]];void 0===K?(L[this.cases[V]]=M.length,M.push([this.cases[V],[V]])):M[K][1].push(V)}const z=V=>"number"===this.inputType.kind?Number(V):V;for(const[V,K]of M)c.push(1===K.length?z(K[0]):K.map(z)),c.push(this.outputs[V].serialize());return c.push(this.otherwise.serialize()),c}}class Rd{constructor(c,y,M){this.type=c,this.branches=y,this.otherwise=M}static parse(c,y){if(c.length<4)return y.error(`Expected at least 3 arguments, but found only ${c.length-1}.`);if(c.length%2!=0)return y.error("Expected an odd number of arguments.");let M;y.expectedType&&"value"!==y.expectedType.kind&&(M=y.expectedType);const L=[];for(let V=1;V<c.length-1;V+=2){const K=y.parse(c[V],V,Ie);if(!K)return null;const re=y.parse(c[V+1],V+1,M);if(!re)return null;L.push([K,re]),M=M||re.type}const z=y.parse(c[c.length-1],c.length-1,M);return z?new Rd(M,L,z):null}evaluate(c){for(const[y,M]of this.branches)if(y.evaluate(c))return M.evaluate(c);return this.otherwise.evaluate(c)}eachChild(c){for(const[y,M]of this.branches)c(y),c(M);c(this.otherwise)}outputDefined(){return this.branches.every(([c,y])=>y.outputDefined())&&this.otherwise.outputDefined()}serialize(){const c=["case"];return this.eachChild(y=>{c.push(y.serialize())}),c}}class bc{constructor(c,y,M,L){this.type=c,this.input=y,this.beginIndex=M,this.endIndex=L}static parse(c,y){if(c.length<=2||c.length>=5)return y.error(`Expected 3 or 4 arguments, but found ${c.length-1} instead.`);const M=y.parse(c[1],1,We),L=y.parse(c[2],2,ae);if(!M||!L)return null;if(!ln(M.type,[he(We),_e,We]))return y.error(`Expected first argument to be of type array or string, but found ${Ne(M.type)} instead`);if(4===c.length){const z=y.parse(c[3],3,ae);return z?new bc(M.type,M,L,z):null}return new bc(M.type,M,L)}evaluate(c){const y=this.input.evaluate(c),M=this.beginIndex.evaluate(c);if(!qt(y,["string","array"]))throw new Ms(`Expected first argument to be of type array or string, but found ${Ne(Cs(y))} instead.`);if(this.endIndex){const L=this.endIndex.evaluate(c);return y.slice(M,L)}return y.slice(M)}eachChild(c){c(this.input),c(this.beginIndex),this.endIndex&&c(this.endIndex)}outputDefined(){return!1}serialize(){if(null!=this.endIndex&&void 0!==this.endIndex){const c=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),c]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}function wu(_,c){return"=="===_||"!="===_?"boolean"===c.kind||"string"===c.kind||"number"===c.kind||"null"===c.kind||"value"===c.kind:"string"===c.kind||"number"===c.kind||"value"===c.kind}function sf(_,c,y,M){return 0===M.compare(c,y)}function au(_,c,y){const M="=="!==_&&"!="!==_;return class AV{constructor(z,V,K){this.type=Ie,this.lhs=z,this.rhs=V,this.collator=K,this.hasUntypedArgument="value"===z.type.kind||"value"===V.type.kind}static parse(z,V){if(3!==z.length&&4!==z.length)return V.error("Expected two or three arguments.");const K=z[0];let re=V.parse(z[1],1,We);if(!re)return null;if(!wu(K,re.type))return V.concat(1).error(`"${K}" comparisons are not supported for type '${Ne(re.type)}'.`);let me=V.parse(z[2],2,We);if(!me)return null;if(!wu(K,me.type))return V.concat(2).error(`"${K}" comparisons are not supported for type '${Ne(me.type)}'.`);if(re.type.kind!==me.type.kind&&"value"!==re.type.kind&&"value"!==me.type.kind)return V.error(`Cannot compare types '${Ne(re.type)}' and '${Ne(me.type)}'.`);M&&("value"===re.type.kind&&"value"!==me.type.kind?re=new ga(me.type,[re]):"value"!==re.type.kind&&"value"===me.type.kind&&(me=new ga(re.type,[me])));let be=null;if(4===z.length){if("string"!==re.type.kind&&"string"!==me.type.kind&&"value"!==re.type.kind&&"value"!==me.type.kind)return V.error("Cannot use collator to compare non-string types.");if(be=V.parse(z[3],3,st),!be)return null}return new AV(re,me,be)}evaluate(z){const V=this.lhs.evaluate(z),K=this.rhs.evaluate(z);if(M&&this.hasUntypedArgument){const re=Cs(V),me=Cs(K);if(re.kind!==me.kind||"string"!==re.kind&&"number"!==re.kind)throw new Ms(`Expected arguments for "${_}" to be (string, string) or (number, number), but found (${re.kind}, ${me.kind}) instead.`)}if(this.collator&&!M&&this.hasUntypedArgument){const re=Cs(V),me=Cs(K);if("string"!==re.kind||"string"!==me.kind)return c(z,V,K)}return this.collator?y(z,V,K,this.collator.evaluate(z)):c(z,V,K)}eachChild(z){z(this.lhs),z(this.rhs),this.collator&&z(this.collator)}outputDefined(){return!0}serialize(){const z=[_];return this.eachChild(V=>{z.push(V.serialize())}),z}}}const td=au("==",function(_,c,y){return c===y},sf),$n=au("!=",function(_,c,y){return c!==y},function(_,c,y,M){return!sf(0,c,y,M)}),ms=au("<",function(_,c,y){return c<y},function(_,c,y,M){return M.compare(c,y)<0}),Wh=au(">",function(_,c,y){return c>y},function(_,c,y,M){return M.compare(c,y)>0}),Mo=au("<=",function(_,c,y){return c<=y},function(_,c,y,M){return M.compare(c,y)<=0}),Fd=au(">=",function(_,c,y){return c>=y},function(_,c,y,M){return M.compare(c,y)>=0});class oc{constructor(c,y,M,L,z){this.type=_e,this.number=c,this.locale=y,this.currency=M,this.minFractionDigits=L,this.maxFractionDigits=z}static parse(c,y){if(3!==c.length)return y.error("Expected two arguments.");const M=y.parse(c[1],1,ae);if(!M)return null;const L=c[2];if("object"!=typeof L||Array.isArray(L))return y.error("NumberFormat options argument must be an object.");let z=null;if(L.locale&&(z=y.parse(L.locale,1,_e),!z))return null;let V=null;if(L.currency&&(V=y.parse(L.currency,1,_e),!V))return null;let K=null;if(L["min-fraction-digits"]&&(K=y.parse(L["min-fraction-digits"],1,ae),!K))return null;let re=null;return L["max-fraction-digits"]&&(re=y.parse(L["max-fraction-digits"],1,ae),!re)?null:new oc(M,z,V,K,re)}evaluate(c){return new Intl.NumberFormat(this.locale?this.locale.evaluate(c):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(c):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(c):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(c):void 0}).format(this.number.evaluate(c))}eachChild(c){c(this.number),this.locale&&c(this.locale),this.currency&&c(this.currency),this.minFractionDigits&&c(this.minFractionDigits),this.maxFractionDigits&&c(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const c={};return this.locale&&(c.locale=this.locale.serialize()),this.currency&&(c.currency=this.currency.serialize()),this.minFractionDigits&&(c["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(c["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),c]}}class Pa{constructor(c){this.type=ae,this.input=c}static parse(c,y){if(2!==c.length)return y.error(`Expected 1 argument, but found ${c.length-1} instead.`);const M=y.parse(c[1],1);return M?"array"!==M.type.kind&&"string"!==M.type.kind&&"value"!==M.type.kind?y.error(`Expected argument of type string or array, but found ${Ne(M.type)} instead.`):new Pa(M):null}evaluate(c){const y=this.input.evaluate(c);if("string"==typeof y||Array.isArray(y))return y.length;throw new Ms(`Expected value to be of type string or array, but found ${Ne(Cs(y))} instead.`)}eachChild(c){c(this.input)}outputDefined(){return!1}serialize(){const c=["length"];return this.eachChild(y=>{c.push(y.serialize())}),c}}const Do={"==":td,"!=":$n,">":Wh,"<":ms,">=":Fd,"<=":Mo,array:ga,at:Gh,boolean:ga,case:Rd,coalesce:xu,collator:Cp,format:ao,image:qo,in:vc,"index-of":rr,interpolate:ca,"interpolate-hcl":ca,"interpolate-lab":ca,length:Pa,let:Hl,literal:jr,match:ed,number:ga,"number-format":oc,object:ga,slice:bc,step:Qa,string:ga,"to-boolean":Nl,"to-color":Nl,"to-number":Nl,"to-string":Nl,var:ch,within:ic};function Bs(_,[c,y,M,L]){c=c.evaluate(_),y=y.evaluate(_),M=M.evaluate(_);const z=L?L.evaluate(_):1,V=Lr(c,y,M,z);if(V)throw new Ms(V);return new zn(c/255*z,y/255*z,M/255*z,z)}function qh(_,c){return _ in c}function Dp(_,c){const y=c[_];return void 0===y?null:y}function ll(_){return{type:_}}function Uc(_){return{result:"success",value:_}}function po(_){return{result:"error",value:_}}function ya(_){return"data-driven"===_["property-type"]||"cross-faded-data-driven"===_["property-type"]}function dh(_){return!!_.expression&&_.expression.parameters.indexOf("zoom")>-1}function xc(_){return!!_.expression&&_.expression.interpolated}function yr(_){return _ instanceof Number?"number":_ instanceof String?"string":_ instanceof Boolean?"boolean":Array.isArray(_)?"array":null===_?"null":typeof _}function of(_){return"object"==typeof _&&null!==_&&!Array.isArray(_)}function $h(_){return _}function nd(_,c){const y="color"===c.type,M=_.stops&&"object"==typeof _.stops[0][0],L=M||!(M||void 0!==_.property),z=_.type||(xc(c)?"exponential":"interval");if(y&&((_=B({},_)).stops&&(_.stops=_.stops.map(me=>[me[0],zn.parse(me[1])])),_.default=zn.parse(_.default?_.default:c.default)),_.colorSpace&&"rgb"!==_.colorSpace&&!ds[_.colorSpace])throw new Error(`Unknown color space: ${_.colorSpace}`);let V,K,re;if("exponential"===z)V=Qh;else if("interval"===z)V=wc;else if("categorical"===z){V=$o,K=Object.create(null);for(const me of _.stops)K[me[0]]=me[1];re=typeof _.stops[0][0]}else{if("identity"!==z)throw new Error(`Unknown function type "${z}"`);V=Mu}if(M){const me={},be=[];for(let Ve=0;Ve<_.stops.length;Ve++){const et=_.stops[Ve],_t=et[0].zoom;void 0===me[_t]&&(me[_t]={zoom:_t,type:_.type,property:_.property,default:_.default,stops:[]},be.push(_t)),me[_t].stops.push([et[0].value,et[1]])}const Te=[];for(const Ve of be)Te.push([me[Ve].zoom,nd(me[Ve],c)]);const Oe={name:"linear"};return{kind:"composite",interpolationType:Oe,interpolationFactor:ca.interpolationFactor.bind(void 0,Oe),zoomStops:Te.map(Ve=>Ve[0]),evaluate:({zoom:Ve},et)=>Qh({stops:Te,base:_.base},c,Ve).evaluate(Ve,et)}}if(L){const me="exponential"===z?{name:"exponential",base:void 0!==_.base?_.base:1}:null;return{kind:"camera",interpolationType:me,interpolationFactor:ca.interpolationFactor.bind(void 0,me),zoomStops:_.stops.map(be=>be[0]),evaluate:({zoom:be})=>V(_,c,be,K,re)}}return{kind:"source",evaluate(me,be){const Te=be&&be.properties?be.properties[_.property]:void 0;return void 0===Te?Cu(_.default,c.default):V(_,c,Te,K,re)}}}function Cu(_,c,y){return void 0!==_?_:void 0!==c?c:void 0!==y?y:void 0}function $o(_,c,y,M,L){return Cu(typeof y===L?M[y]:void 0,_.default,c.default)}function wc(_,c,y){if("number"!==yr(y))return Cu(_.default,c.default);const M=_.stops.length;if(1===M||y<=_.stops[0][0])return _.stops[0][1];if(y>=_.stops[M-1][0])return _.stops[M-1][1];const L=_a(_.stops.map(z=>z[0]),y);return _.stops[L][1]}function Qh(_,c,y){const M=void 0!==_.base?_.base:1;if("number"!==yr(y))return Cu(_.default,c.default);const L=_.stops.length;if(1===L||y<=_.stops[0][0])return _.stops[0][1];if(y>=_.stops[L-1][0])return _.stops[L-1][1];const z=_a(_.stops.map(be=>be[0]),y),V=function(be,Te,Oe,Ve){const et=Ve-Oe,_t=be-Oe;return 0===et?0:1===Te?_t/et:(Math.pow(Te,_t)-1)/(Math.pow(Te,et)-1)}(y,M,_.stops[z][0],_.stops[z+1][0]),K=_.stops[z][1],re=_.stops[z+1][1];let me=Hc[c.type]||$h;if(_.colorSpace&&"rgb"!==_.colorSpace){const be=ds[_.colorSpace];me=(Te,Oe)=>be.reverse(be.interpolate(be.forward(Te),be.forward(Oe),V))}return"function"==typeof K.evaluate?{evaluate(...be){const Te=K.evaluate.apply(void 0,be),Oe=re.evaluate.apply(void 0,be);if(void 0!==Te&&void 0!==Oe)return me(Te,Oe,V)}}:me(K,re,V)}function Mu(_,c,y){return"color"===c.type?y=zn.parse(y):"formatted"===c.type?y=_i.fromString(y.toString()):"resolvedImage"===c.type?y=Yi.fromString(y.toString()):yr(y)===c.type||"enum"===c.type&&c.values[y]||(y=void 0),Cu(y,_.default,c.default)}Cl.register(Do,{error:[{kind:"error"},[_e],(_,[c])=>{throw new Ms(c.evaluate(_))}],typeof:[_e,[We],(_,[c])=>Ne(Cs(c.evaluate(_)))],"to-rgba":[he(ae,4),[Pe],(_,[c])=>c.evaluate(_).toArray()],rgb:[Pe,[ae,ae,ae],Bs],rgba:[Pe,[ae,ae,ae,ae],Bs],has:{type:Ie,overloads:[[[_e],(_,[c])=>qh(c.evaluate(_),_.properties())],[[_e,ze],(_,[c,y])=>qh(c.evaluate(_),y.evaluate(_))]]},get:{type:We,overloads:[[[_e],(_,[c])=>Dp(c.evaluate(_),_.properties())],[[_e,ze],(_,[c,y])=>Dp(c.evaluate(_),y.evaluate(_))]]},"feature-state":[We,[_e],(_,[c])=>Dp(c.evaluate(_),_.featureState||{})],properties:[ze,[],_=>_.properties()],"geometry-type":[_e,[],_=>_.geometryType()],id:[We,[],_=>_.id()],zoom:[ae,[],_=>_.globals.zoom],"heatmap-density":[ae,[],_=>_.globals.heatmapDensity||0],"line-progress":[ae,[],_=>_.globals.lineProgress||0],"sky-radial-progress":[ae,[],_=>_.globals.skyRadialProgress||0],accumulated:[We,[],_=>void 0===_.globals.accumulated?null:_.globals.accumulated],"+":[ae,ll(ae),(_,c)=>{let y=0;for(const M of c)y+=M.evaluate(_);return y}],"*":[ae,ll(ae),(_,c)=>{let y=1;for(const M of c)y*=M.evaluate(_);return y}],"-":{type:ae,overloads:[[[ae,ae],(_,[c,y])=>c.evaluate(_)-y.evaluate(_)],[[ae],(_,[c])=>-c.evaluate(_)]]},"/":[ae,[ae,ae],(_,[c,y])=>c.evaluate(_)/y.evaluate(_)],"%":[ae,[ae,ae],(_,[c,y])=>c.evaluate(_)%y.evaluate(_)],ln2:[ae,[],()=>Math.LN2],pi:[ae,[],()=>Math.PI],e:[ae,[],()=>Math.E],"^":[ae,[ae,ae],(_,[c,y])=>Math.pow(c.evaluate(_),y.evaluate(_))],sqrt:[ae,[ae],(_,[c])=>Math.sqrt(c.evaluate(_))],log10:[ae,[ae],(_,[c])=>Math.log(c.evaluate(_))/Math.LN10],ln:[ae,[ae],(_,[c])=>Math.log(c.evaluate(_))],log2:[ae,[ae],(_,[c])=>Math.log(c.evaluate(_))/Math.LN2],sin:[ae,[ae],(_,[c])=>Math.sin(c.evaluate(_))],cos:[ae,[ae],(_,[c])=>Math.cos(c.evaluate(_))],tan:[ae,[ae],(_,[c])=>Math.tan(c.evaluate(_))],asin:[ae,[ae],(_,[c])=>Math.asin(c.evaluate(_))],acos:[ae,[ae],(_,[c])=>Math.acos(c.evaluate(_))],atan:[ae,[ae],(_,[c])=>Math.atan(c.evaluate(_))],min:[ae,ll(ae),(_,c)=>Math.min(...c.map(y=>y.evaluate(_)))],max:[ae,ll(ae),(_,c)=>Math.max(...c.map(y=>y.evaluate(_)))],abs:[ae,[ae],(_,[c])=>Math.abs(c.evaluate(_))],round:[ae,[ae],(_,[c])=>{const y=c.evaluate(_);return y<0?-Math.round(-y):Math.round(y)}],floor:[ae,[ae],(_,[c])=>Math.floor(c.evaluate(_))],ceil:[ae,[ae],(_,[c])=>Math.ceil(c.evaluate(_))],"filter-==":[Ie,[_e,We],(_,[c,y])=>_.properties()[c.value]===y.value],"filter-id-==":[Ie,[We],(_,[c])=>_.id()===c.value],"filter-type-==":[Ie,[_e],(_,[c])=>_.geometryType()===c.value],"filter-<":[Ie,[_e,We],(_,[c,y])=>{const M=_.properties()[c.value],L=y.value;return typeof M==typeof L&&M<L}],"filter-id-<":[Ie,[We],(_,[c])=>{const y=_.id(),M=c.value;return typeof y==typeof M&&y<M}],"filter->":[Ie,[_e,We],(_,[c,y])=>{const M=_.properties()[c.value],L=y.value;return typeof M==typeof L&&M>L}],"filter-id->":[Ie,[We],(_,[c])=>{const y=_.id(),M=c.value;return typeof y==typeof M&&y>M}],"filter-<=":[Ie,[_e,We],(_,[c,y])=>{const M=_.properties()[c.value],L=y.value;return typeof M==typeof L&&M<=L}],"filter-id-<=":[Ie,[We],(_,[c])=>{const y=_.id(),M=c.value;return typeof y==typeof M&&y<=M}],"filter->=":[Ie,[_e,We],(_,[c,y])=>{const M=_.properties()[c.value],L=y.value;return typeof M==typeof L&&M>=L}],"filter-id->=":[Ie,[We],(_,[c])=>{const y=_.id(),M=c.value;return typeof y==typeof M&&y>=M}],"filter-has":[Ie,[We],(_,[c])=>c.value in _.properties()],"filter-has-id":[Ie,[],_=>null!==_.id()&&void 0!==_.id()],"filter-type-in":[Ie,[he(_e)],(_,[c])=>c.value.indexOf(_.geometryType())>=0],"filter-id-in":[Ie,[he(We)],(_,[c])=>c.value.indexOf(_.id())>=0],"filter-in-small":[Ie,[_e,he(We)],(_,[c,y])=>y.value.indexOf(_.properties()[c.value])>=0],"filter-in-large":[Ie,[_e,he(We)],(_,[c,y])=>function(M,L,z,V){for(;z<=V;){const K=z+V>>1;if(L[K]===M)return!0;L[K]>M?V=K-1:z=K+1}return!1}(_.properties()[c.value],y.value,0,y.value.length-1)],all:{type:Ie,overloads:[[[Ie,Ie],(_,[c,y])=>c.evaluate(_)&&y.evaluate(_)],[ll(Ie),(_,c)=>{for(const y of c)if(!y.evaluate(_))return!1;return!0}]]},any:{type:Ie,overloads:[[[Ie,Ie],(_,[c,y])=>c.evaluate(_)||y.evaluate(_)],[ll(Ie),(_,c)=>{for(const y of c)if(y.evaluate(_))return!0;return!1}]]},"!":[Ie,[Ie],(_,[c])=>!c.evaluate(_)],"is-supported-script":[Ie,[_e],(_,[c])=>{const y=_.globals&&_.globals.isSupportedScript;return!y||y(c.evaluate(_))}],upcase:[_e,[_e],(_,[c])=>c.evaluate(_).toUpperCase()],downcase:[_e,[_e],(_,[c])=>c.evaluate(_).toLowerCase()],concat:[_e,ll(We),(_,c)=>c.map(y=>qi(y.evaluate(_))).join("")],"resolved-locale":[_e,[st],(_,[c])=>c.evaluate(_).resolvedLocale()]});class hh{constructor(c,y){var M;this.expression=c,this._warningHistory={},this._evaluator=new rh,this._defaultValue=y?"color"===(M=y).type&&of(M.default)?new zn(0,0,0,0):"color"===M.type?zn.parse(M.default)||null:void 0===M.default?null:M.default:null,this._enumValues=y&&"enum"===y.type?y.values:null}evaluateWithoutErrorHandling(c,y,M,L,z,V){return this._evaluator.globals=c,this._evaluator.feature=y,this._evaluator.featureState=M,this._evaluator.canonical=L,this._evaluator.availableImages=z||null,this._evaluator.formattedSection=V,this.expression.evaluate(this._evaluator)}evaluate(c,y,M,L,z,V){this._evaluator.globals=c,this._evaluator.feature=y||null,this._evaluator.featureState=M||null,this._evaluator.canonical=L,this._evaluator.availableImages=z||null,this._evaluator.formattedSection=V||null;try{const K=this.expression.evaluate(this._evaluator);if(null==K||"number"==typeof K&&K!=K)return this._defaultValue;if(this._enumValues&&!(K in this._enumValues))throw new Ms(`Expected value to be one of ${Object.keys(this._enumValues).map(re=>JSON.stringify(re)).join(", ")}, but found ${JSON.stringify(K)} instead.`);return K}catch(K){return this._warningHistory[K.message]||(this._warningHistory[K.message]=!0,"undefined"!=typeof console&&console.warn(K.message)),this._defaultValue}}}function va(_){return Array.isArray(_)&&_.length>0&&"string"==typeof _[0]&&_[0]in Do}function ua(_,c){const y=new Pd(Do,[],c?function(L){const z={color:Pe,string:_e,number:ae,enum:_e,boolean:Ie,formatted:bt,resolvedImage:X};return"array"===L.type?he(z[L.value]||We,L.length):z[L.type]}(c):void 0),M=y.parse(_,void 0,void 0,void 0,c&&"string"===c.type?{typeAnnotation:"coerce"}:void 0);return M?Uc(new hh(M,c)):po(y.errors)}class Cc{constructor(c,y){this.kind=c,this._styleExpression=y,this.isStateDependent="constant"!==c&&!Ld(y.expression)}evaluateWithoutErrorHandling(c,y,M,L,z,V){return this._styleExpression.evaluateWithoutErrorHandling(c,y,M,L,z,V)}evaluate(c,y,M,L,z,V){return this._styleExpression.evaluate(c,y,M,L,z,V)}}class jc{constructor(c,y,M,L){this.kind=c,this.zoomStops=M,this._styleExpression=y,this.isStateDependent="camera"!==c&&!Ld(y.expression),this.interpolationType=L}evaluateWithoutErrorHandling(c,y,M,L,z,V){return this._styleExpression.evaluateWithoutErrorHandling(c,y,M,L,z,V)}evaluate(c,y,M,L,z,V){return this._styleExpression.evaluate(c,y,M,L,z,V)}interpolationFactor(c,y,M){return this.interpolationType?ca.interpolationFactor(this.interpolationType,c,y,M):0}}function af(_,c){if("error"===(_=ua(_,c)).result)return _;const y=_.value.expression,M=lh(y);if(!M&&!ya(c))return po([new q("","data expressions not supported")]);const L=Or(y,["zoom"]);if(!L&&!dh(c))return po([new q("","zoom expressions not supported")]);const z=cl(y);return z||L?z instanceof q?po([z]):z instanceof ca&&!xc(c)?po([new q("",'"interpolate" expressions cannot be used with this property')]):Uc(z?new jc(M?"camera":"composite",_.value,z.labels,z instanceof ca?z.interpolation:void 0):new Cc(M?"constant":"source",_.value)):po([new q("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class ph{constructor(c,y){this._parameters=c,this._specification=y,B(this,nd(this._parameters,this._specification))}static deserialize(c){return new ph(c._parameters,c._specification)}static serialize(c){return{_parameters:c._parameters,_specification:c._specification}}}function cl(_){let c=null;if(_ instanceof Hl)c=cl(_.result);else if(_ instanceof xu){for(const y of _.args)if(c=cl(y),c)break}else(_ instanceof Qa||_ instanceof ca)&&_.input instanceof Cl&&"zoom"===_.input.name&&(c=_);return c instanceof q||_.eachChild(y=>{const M=cl(y);M instanceof q?c=M:!c&&M?c=new q("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):c&&M&&c!==M&&(c=new q("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),c}function Mc(_){const c=_.key,y=_.value,M=_.valueSpec||{},L=_.objectElementValidators||{},z=_.style,V=_.styleSpec;let K=[];const re=yr(y);if("object"!==re)return[new S(c,y,`object expected, ${re} found`)];for(const me in y){const be=me.split(".")[0],Te=M[be]||M["*"];let Oe;if(L[be])Oe=L[be];else if(M[be])Oe=qs;else if(L["*"])Oe=L["*"];else{if(!M["*"]){K.push(new S(c,y[me],`unknown property "${me}"`));continue}Oe=qs}K=K.concat(Oe({key:(c&&`${c}.`)+me,value:y[me],valueSpec:Te,style:z,styleSpec:V,object:y,objectKey:me},y))}for(const me in M)L[me]||M[me].required&&void 0===M[me].default&&void 0===y[me]&&K.push(new S(c,y,`missing required property "${me}"`));return K}function Nd(_){const c=_.value,y=_.valueSpec,M=_.style,L=_.styleSpec,z=_.key,V=_.arrayElementValidator||qs;if("array"!==yr(c))return[new S(z,c,`array expected, ${yr(c)} found`)];if(y.length&&c.length!==y.length)return[new S(z,c,`array length ${y.length} expected, length ${c.length} found`)];if(y["min-length"]&&c.length<y["min-length"])return[new S(z,c,`array length at least ${y["min-length"]} expected, length ${c.length} found`)];let K={type:y.value,values:y.values,minimum:y.minimum,maximum:y.maximum};L.$version<7&&(K.function=y.function),"object"===yr(y.value)&&(K=y.value);let re=[];for(let me=0;me<c.length;me++)re=re.concat(V({array:c,arrayIndex:me,value:c[me],valueSpec:K,style:M,styleSpec:L,key:`${z}[${me}]`}));return re}function Xt(_){const c=_.key,y=_.value,M=_.valueSpec;let L=yr(y);if("number"===L&&y!=y&&(L="NaN"),"number"!==L)return[new S(c,y,`number expected, ${L} found`)];if("minimum"in M){let z=M.minimum;if("array"===yr(M.minimum)&&(z=M.minimum[_.arrayIndex]),y<z)return[new S(c,y,`${y} is less than the minimum value ${z}`)]}if("maximum"in M){let z=M.maximum;if("array"===yr(M.maximum)&&(z=M.maximum[_.arrayIndex]),y>z)return[new S(c,y,`${y} is greater than the maximum value ${z}`)]}return[]}function An(_){const c=_.valueSpec,y=F(_.value.type);let M,L,z,V={};const K="categorical"!==y&&void 0===_.value.property,re=!K,me="array"===yr(_.value.stops)&&"array"===yr(_.value.stops[0])&&"object"===yr(_.value.stops[0][0]),be=Mc({key:_.key,value:_.value,valueSpec:_.styleSpec.function,style:_.style,styleSpec:_.styleSpec,objectElementValidators:{stops:function(Ve){if("identity"===y)return[new S(Ve.key,Ve.value,'identity function may not have a "stops" property')];let et=[];const _t=Ve.value;return et=et.concat(Nd({key:Ve.key,value:_t,valueSpec:Ve.valueSpec,style:Ve.style,styleSpec:Ve.styleSpec,arrayElementValidator:Te})),"array"===yr(_t)&&0===_t.length&&et.push(new S(Ve.key,_t,"array must have at least one stop")),et},default:function(Ve){return qs({key:Ve.key,value:Ve.value,valueSpec:c,style:Ve.style,styleSpec:Ve.styleSpec})}}});return"identity"===y&&K&&be.push(new S(_.key,_.value,'missing required property "property"')),"identity"===y||_.value.stops||be.push(new S(_.key,_.value,'missing required property "stops"')),"exponential"===y&&_.valueSpec.expression&&!xc(_.valueSpec)&&be.push(new S(_.key,_.value,"exponential functions not supported")),_.styleSpec.$version>=8&&(re&&!ya(_.valueSpec)?be.push(new S(_.key,_.value,"property functions not supported")):K&&!dh(_.valueSpec)&&be.push(new S(_.key,_.value,"zoom functions not supported"))),"categorical"!==y&&!me||void 0!==_.value.property||be.push(new S(_.key,_.value,'"property" property is required')),be;function Te(Ve){let et=[];const _t=Ve.value,At=Ve.key;if("array"!==yr(_t))return[new S(At,_t,`array expected, ${yr(_t)} found`)];if(2!==_t.length)return[new S(At,_t,`array length 2 expected, length ${_t.length} found`)];if(me){if("object"!==yr(_t[0]))return[new S(At,_t,`object expected, ${yr(_t[0])} found`)];if(void 0===_t[0].zoom)return[new S(At,_t,"object stop key must have zoom")];if(void 0===_t[0].value)return[new S(At,_t,"object stop key must have value")];if(z&&z>F(_t[0].zoom))return[new S(At,_t[0].zoom,"stop zoom values must appear in ascending order")];F(_t[0].zoom)!==z&&(z=F(_t[0].zoom),L=void 0,V={}),et=et.concat(Mc({key:`${At}[0]`,value:_t[0],valueSpec:{zoom:{}},style:Ve.style,styleSpec:Ve.styleSpec,objectElementValidators:{zoom:Xt,value:Oe}}))}else et=et.concat(Oe({key:`${At}[0]`,value:_t[0],valueSpec:{},style:Ve.style,styleSpec:Ve.styleSpec},_t));return va(Z(_t[1]))?et.concat([new S(`${At}[1]`,_t[1],"expressions are not allowed in function stops.")]):et.concat(qs({key:`${At}[1]`,value:_t[1],valueSpec:c,style:Ve.style,styleSpec:Ve.styleSpec}))}function Oe(Ve,et){const _t=yr(Ve.value),At=F(Ve.value),Ht=null!==Ve.value?Ve.value:et;if(M){if(_t!==M)return[new S(Ve.key,Ht,`${_t} stop domain type must match previous stop domain type ${M}`)]}else M=_t;if("number"!==_t&&"string"!==_t&&"boolean"!==_t)return[new S(Ve.key,Ht,"stop domain value must be a number, string, or boolean")];if("number"!==_t&&"categorical"!==y){let sn=`number expected, ${_t} found`;return ya(c)&&void 0===y&&(sn+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new S(Ve.key,Ht,sn)]}return"categorical"!==y||"number"!==_t||isFinite(At)&&Math.floor(At)===At?"categorical"!==y&&"number"===_t&&void 0!==L&&At<L?[new S(Ve.key,Ht,"stop domain values must appear in ascending order")]:(L=At,"categorical"===y&&At in V?[new S(Ve.key,Ht,"stop domain values must be unique")]:(V[At]=!0,[])):[new S(Ve.key,Ht,`integer expected, found ${At}`)]}}function yn(_){const c=("property"===_.expressionContext?af:ua)(Z(_.value),_.valueSpec);if("error"===c.result)return c.value.map(M=>new S(`${_.key}${M.key}`,_.value,M.message));const y=c.value.expression||c.value._styleExpression.expression;if("property"===_.expressionContext&&"text-font"===_.propertyKey&&!y.outputDefined())return[new S(_.key,_.value,`Invalid data expression for "${_.propertyKey}". Output values must be contained as literals within the expression.`)];if("property"===_.expressionContext&&"layout"===_.propertyType&&!Ld(y))return[new S(_.key,_.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===_.expressionContext&&!Ld(y))return[new S(_.key,_.value,'"feature-state" data expressions are not supported with filters.')];if(_.expressionContext&&0===_.expressionContext.indexOf("cluster")){if(!Or(y,["zoom","feature-state"]))return[new S(_.key,_.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===_.expressionContext&&!lh(y))return[new S(_.key,_.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Ei(_){const c=_.key,y=_.value,M=_.valueSpec,L=[];return Array.isArray(M.values)?-1===M.values.indexOf(F(y))&&L.push(new S(c,y,`expected one of [${M.values.join(", ")}], ${JSON.stringify(y)} found`)):-1===Object.keys(M.values).indexOf(F(y))&&L.push(new S(c,y,`expected one of [${Object.keys(M.values).join(", ")}], ${JSON.stringify(y)} found`)),L}function sr(_){if(!0===_||!1===_)return!0;if(!Array.isArray(_)||0===_.length)return!1;switch(_[0]){case"has":return _.length>=2&&"$id"!==_[1]&&"$type"!==_[1];case"in":return _.length>=3&&("string"!=typeof _[1]||Array.isArray(_[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==_.length||Array.isArray(_[1])||Array.isArray(_[2]);case"any":case"all":for(const c of _.slice(1))if(!sr(c)&&"boolean"!=typeof c)return!1;return!0;default:return!0}}const Dr={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Js(_){if(null==_)return{filter:()=>!0,needGeometry:!1};sr(_)||(_=Tc(_));const c=ua(_,Dr);if("error"===c.result)throw new Error(c.value.map(y=>`${y.key}: ${y.message}`).join(", "));return{filter:(y,M,L)=>c.value.evaluate(y,M,{},L),needGeometry:ba(_)}}function Xr(_,c){return _<c?-1:_>c?1:0}function ba(_){if(!Array.isArray(_))return!1;if("within"===_[0])return!0;for(let c=1;c<_.length;c++)if(ba(_[c]))return!0;return!1}function Tc(_){if(!_)return!0;const c=_[0];return _.length<=1?"any"!==c:"=="===c?Qo(_[1],_[2],"=="):"!="===c?Ja(Qo(_[1],_[2],"==")):"<"===c||">"===c||"<="===c||">="===c?Qo(_[1],_[2],c):"any"===c?(y=_.slice(1),["any"].concat(y.map(Tc))):"all"===c?["all"].concat(_.slice(1).map(Tc)):"none"===c?["all"].concat(_.slice(1).map(Tc).map(Ja)):"in"===c?Tu(_[1],_.slice(2)):"!in"===c?Ja(Tu(_[1],_.slice(2))):"has"===c?fh(_[1]):"!has"===c?Ja(fh(_[1])):"within"!==c||_;var y}function Qo(_,c,y){switch(_){case"$type":return[`filter-type-${y}`,c];case"$id":return[`filter-id-${y}`,c];default:return[`filter-${y}`,_,c]}}function Tu(_,c){if(0===c.length)return!1;switch(_){case"$type":return["filter-type-in",["literal",c]];case"$id":return["filter-id-in",["literal",c]];default:return c.length>200&&!c.some(y=>typeof y!=typeof c[0])?["filter-in-large",_,["literal",c.sort(Xr)]]:["filter-in-small",_,["literal",c]]}}function fh(_){switch(_){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",_]}}function Ja(_){return["!",_]}function lu(_){return sr(Z(_.value))?yn(B({},_,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Xo(_)}function Xo(_){const c=_.value,y=_.key;if("array"!==yr(c))return[new S(y,c,`array expected, ${yr(c)} found`)];const M=_.styleSpec;let L,z=[];if(c.length<1)return[new S(y,c,"filter array must have at least 1 element")];switch(z=z.concat(Ei({key:`${y}[0]`,value:c[0],valueSpec:M.filter_operator,style:_.style,styleSpec:_.styleSpec})),F(c[0])){case"<":case"<=":case">":case">=":c.length>=2&&"$type"===F(c[1])&&z.push(new S(y,c,`"$type" cannot be use with operator "${c[0]}"`));case"==":case"!=":3!==c.length&&z.push(new S(y,c,`filter array for operator "${c[0]}" must have 3 elements`));case"in":case"!in":c.length>=2&&(L=yr(c[1]),"string"!==L&&z.push(new S(`${y}[1]`,c[1],`string expected, ${L} found`)));for(let V=2;V<c.length;V++)L=yr(c[V]),"$type"===F(c[1])?z=z.concat(Ei({key:`${y}[${V}]`,value:c[V],valueSpec:M.geometry_type,style:_.style,styleSpec:_.styleSpec})):"string"!==L&&"number"!==L&&"boolean"!==L&&z.push(new S(`${y}[${V}]`,c[V],`string, number, or boolean expected, ${L} found`));break;case"any":case"all":case"none":for(let V=1;V<c.length;V++)z=z.concat(Xo({key:`${y}[${V}]`,value:c[V],style:_.style,styleSpec:_.styleSpec}));break;case"has":case"!has":L=yr(c[1]),2!==c.length?z.push(new S(y,c,`filter array for "${c[0]}" operator must have 2 elements`)):"string"!==L&&z.push(new S(`${y}[1]`,c[1],`string expected, ${L} found`));break;case"within":L=yr(c[1]),2!==c.length?z.push(new S(y,c,`filter array for "${c[0]}" operator must have 2 elements`)):"object"!==L&&z.push(new S(`${y}[1]`,c[1],`object expected, ${L} found`))}return z}function Ar(_,c){const y=_.key,M=_.style,L=_.styleSpec,z=_.value,V=_.objectKey,K=L[`${c}_${_.layerType}`];if(!K)return[];const re=V.match(/^(.*)-transition$/);if("paint"===c&&re&&K[re[1]]&&K[re[1]].transition)return qs({key:y,value:z,valueSpec:L.transition,style:M,styleSpec:L});const me=_.valueSpec||K[V];if(!me)return[new S(y,z,`unknown property "${V}"`)];let be;if("string"===yr(z)&&ya(me)&&!me.tokens&&(be=/^{([^}]+)}$/.exec(z)))return[new S(y,z,`"${V}" does not support interpolation syntax\nUse an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(be[1])} }\`.`)];const Te=[];return"symbol"===_.layerType&&("text-field"===V&&M&&!M.glyphs&&Te.push(new S(y,z,'use of "text-field" requires a style "glyphs" property')),"text-font"===V&&of(Z(z))&&"identity"===F(z.type)&&Te.push(new S(y,z,'"text-font" does not support identity functions'))),Te.concat(qs({key:_.key,value:z,valueSpec:me,style:M,styleSpec:L,expressionContext:"property",propertyType:c,propertyKey:V}))}function Su(_){return Ar(_,"paint")}function Ap(_){return Ar(_,"layout")}function Sc(_){let c=[];const y=_.value,M=_.key,L=_.style,z=_.styleSpec;y.type||y.ref||c.push(new S(M,y,'either "type" or "ref" is required'));let V=F(y.type);const K=F(y.ref);if(y.id){const re=F(y.id);for(let me=0;me<_.arrayIndex;me++){const be=L.layers[me];F(be.id)===re&&c.push(new S(M,y.id,`duplicate layer id "${y.id}", previously used at line ${be.id.__line__}`))}}if("ref"in y){let re;["type","source","source-layer","filter","layout"].forEach(me=>{me in y&&c.push(new S(M,y[me],`"${me}" is prohibited for ref layers`))}),L.layers.forEach(me=>{F(me.id)===K&&(re=me)}),re?re.ref?c.push(new S(M,y.ref,"ref cannot reference another ref layer")):V=F(re.type):c.push(new S(M,y.ref,`ref layer "${K}" not found`))}else if("background"!==V&&"sky"!==V)if(y.source){const re=L.sources&&L.sources[y.source],me=re&&F(re.type);re?"vector"===me&&"raster"===V?c.push(new S(M,y.source,`layer "${y.id}" requires a raster source`)):"raster"===me&&"raster"!==V?c.push(new S(M,y.source,`layer "${y.id}" requires a vector source`)):"vector"!==me||y["source-layer"]?"raster-dem"===me&&"hillshade"!==V?c.push(new S(M,y.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==V||!y.paint||!y.paint["line-gradient"]||"geojson"===me&&re.lineMetrics||c.push(new S(M,y,`layer "${y.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):c.push(new S(M,y,`layer "${y.id}" must specify a "source-layer"`)):c.push(new S(M,y.source,`source "${y.source}" not found`))}else c.push(new S(M,y,'missing required property "source"'));return c=c.concat(Mc({key:M,value:y,valueSpec:z.layer,style:_.style,styleSpec:_.styleSpec,objectElementValidators:{"*":()=>[],type:()=>qs({key:`${M}.type`,value:y.type,valueSpec:z.layer.type,style:_.style,styleSpec:_.styleSpec,object:y,objectKey:"type"}),filter:lu,layout:re=>Mc({layer:y,key:re.key,value:re.value,style:re.style,styleSpec:re.styleSpec,objectElementValidators:{"*":me=>Ap(B({layerType:V},me))}}),paint:re=>Mc({layer:y,key:re.key,value:re.value,style:re.style,styleSpec:re.styleSpec,objectElementValidators:{"*":me=>Su(B({layerType:V},me))}})}})),c}function id(_){const c=_.value,y=_.key,M=yr(c);return"string"!==M?[new S(y,c,`string expected, ${M} found`)]:[]}const Ip={promoteId:function({key:_,value:c}){if("string"===yr(c))return id({key:_,value:c});{const y=[];for(const M in c)y.push(...id({key:`${_}.${M}`,value:c[M]}));return y}}};function lf(_){const c=_.value,y=_.key,M=_.styleSpec,L=_.style;if(!c.type)return[new S(y,c,'"type" is required')];const z=F(c.type);let V;switch(z){case"vector":case"raster":case"raster-dem":return V=Mc({key:y,value:c,valueSpec:M[`source_${z.replace("-","_")}`],style:_.style,styleSpec:M,objectElementValidators:Ip}),V;case"geojson":if(V=Mc({key:y,value:c,valueSpec:M.source_geojson,style:L,styleSpec:M,objectElementValidators:Ip}),c.cluster)for(const K in c.clusterProperties){const[re,me]=c.clusterProperties[K],be="string"==typeof re?[re,["accumulated"],["get",K]]:re;V.push(...yn({key:`${y}.${K}.map`,value:me,expressionContext:"cluster-map"})),V.push(...yn({key:`${y}.${K}.reduce`,value:be,expressionContext:"cluster-reduce"}))}return V;case"video":return Mc({key:y,value:c,valueSpec:M.source_video,style:L,styleSpec:M});case"image":return Mc({key:y,value:c,valueSpec:M.source_image,style:L,styleSpec:M});case"canvas":return[new S(y,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Ei({key:`${y}.type`,value:c.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:L,styleSpec:M})}}function Lp(_){const c=_.value,y=_.styleSpec,M=y.light,L=_.style;let z=[];const V=yr(c);if(void 0===c)return z;if("object"!==V)return z=z.concat([new S("light",c,`object expected, ${V} found`)]),z;for(const K in c){const re=K.match(/^(.*)-transition$/);z=z.concat(re&&M[re[1]]&&M[re[1]].transition?qs({key:K,value:c[K],valueSpec:y.transition,style:L,styleSpec:y}):M[K]?qs({key:K,value:c[K],valueSpec:M[K],style:L,styleSpec:y}):[new S(K,c[K],`unknown property "${K}"`)])}return z}function ku(_){const c=_.value,y=_.key,M=_.style,L=_.styleSpec,z=L.terrain;let V=[];const K=yr(c);if(void 0===c)return V;if("object"!==K)return V=V.concat([new S("terrain",c,`object expected, ${K} found`)]),V;for(const re in c){const me=re.match(/^(.*)-transition$/);V=V.concat(me&&z[me[1]]&&z[me[1]].transition?qs({key:re,value:c[re],valueSpec:L.transition,style:M,styleSpec:L}):z[re]?qs({key:re,value:c[re],valueSpec:z[re],style:M,styleSpec:L}):[new S(re,c[re],`unknown property "${re}"`)])}if(c.source){const re=M.sources&&M.sources[c.source],me=re&&F(re.type);re?"raster-dem"!==me&&V.push(new S(y,c.source,`terrain cannot be used with a source of type ${me}, it only be used with a "raster-dem" source type`)):V.push(new S(y,c.source,`source "${c.source}" not found`))}else V.push(new S(y,c,'terrain is missing required property "source"'));return V}function zd(_){const c=_.value,y=_.style,M=_.styleSpec,L=M.fog;let z=[];const V=yr(c);if(void 0===c)return z;if("object"!==V)return z=z.concat([new S("fog",c,`object expected, ${V} found`)]),z;for(const K in c){const re=K.match(/^(.*)-transition$/);z=z.concat(re&&L[re[1]]&&L[re[1]].transition?qs({key:K,value:c[K],valueSpec:M.transition,style:y,styleSpec:M}):L[K]?qs({key:K,value:c[K],valueSpec:L[K],style:y,styleSpec:M}):[new S(K,c[K],`unknown property "${K}"`)])}return z}const Pp={"*":()=>[],array:Nd,boolean:function(_){const c=_.value,y=_.key,M=yr(c);return"boolean"!==M?[new S(y,c,`boolean expected, ${M} found`)]:[]},number:Xt,color:function(_){const c=_.key,y=_.value,M=yr(y);return"string"!==M?[new S(c,y,`color expected, ${M} found`)]:null===Vn.parseCSSColor(y)?[new S(c,y,`color expected, "${y}" found`)]:[]},constants:D,enum:Ei,filter:lu,function:An,layer:Sc,object:Mc,source:lf,light:Lp,terrain:ku,fog:zd,string:id,formatted:function(_){return 0===id(_).length?[]:yn(_)},resolvedImage:function(_){return 0===id(_).length?[]:yn(_)}};function qs(_){const c=_.value,y=_.valueSpec,M=_.styleSpec;return y.expression&&of(F(c))?An(_):y.expression&&va(Z(c))?yn(_):y.type&&Pp[y.type]?Pp[y.type](_):Mc(B({},_,{valueSpec:y.type?M[y.type]:y}))}function Eu(_){const c=_.value,y=_.key,M=id(_);return M.length||(-1===c.indexOf("{fontstack}")&&M.push(new S(y,c,'"glyphs" url must include a "{fontstack}" token')),-1===c.indexOf("{range}")&&M.push(new S(y,c,'"glyphs" url must include a "{range}" token'))),M}function kc(_,c=b){let y=[];return y=y.concat(qs({key:"",value:_,valueSpec:c.$root,styleSpec:c,style:_,objectElementValidators:{glyphs:Eu,"*":()=>[]}})),_.constants&&(y=y.concat(D({key:"constants",value:_.constants,style:_,styleSpec:c}))),Du(y)}function Du(_){return[].concat(_).sort((c,y)=>c.line-y.line)}function Ml(_){return function(...c){return Du(_.apply(this,c))}}kc.source=Ml(lf),kc.light=Ml(Lp),kc.terrain=Ml(ku),kc.fog=Ml(zd),kc.layer=Ml(Sc),kc.filter=Ml(lu),kc.paintProperty=Ml(Su),kc.layoutProperty=Ml(Ap);const Zc=kc,Vl=Zc.light,mh=Zc.fog,Bd=Zc.paintProperty,Rf=Zc.layoutProperty;function Xh(_,c){let y=!1;if(c&&c.length)for(const M of c)_.fire(new p(new Error(M.message))),y=!0;return y}var Ul=ac;function ac(_,c,y){var M=this.cells=[];if(_ instanceof ArrayBuffer){this.arrayBuffer=_;var L=new Int32Array(this.arrayBuffer);_=L[0],this.d=(c=L[1])+2*(y=L[2]);for(var z=0;z<this.d*this.d;z++){var V=L[3+z],K=L[3+z+1];M.push(V===K?null:L.subarray(V,K))}var re=L[3+M.length+1];this.keys=L.subarray(L[3+M.length],re),this.bboxes=L.subarray(re),this.insert=this._insertReadonly}else{this.d=c+2*y;for(var me=0;me<this.d*this.d;me++)M.push([]);this.keys=[],this.bboxes=[]}this.n=c,this.extent=_,this.padding=y,this.scale=c/_,this.uid=0;var be=y/c*_;this.min=-be,this.max=_+be}ac.prototype.insert=function(_,c,y,M,L){this._forEachCell(c,y,M,L,this._insertCell,this.uid++),this.keys.push(_),this.bboxes.push(c),this.bboxes.push(y),this.bboxes.push(M),this.bboxes.push(L)},ac.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},ac.prototype._insertCell=function(_,c,y,M,L,z){this.cells[L].push(z)},ac.prototype.query=function(_,c,y,M,L){var z=this.min,V=this.max;if(_<=z&&c<=z&&V<=y&&V<=M&&!L)return Array.prototype.slice.call(this.keys);var K=[];return this._forEachCell(_,c,y,M,this._queryCell,K,{},L),K},ac.prototype._queryCell=function(_,c,y,M,L,z,V,K){var re=this.cells[L];if(null!==re)for(var me=this.keys,be=this.bboxes,Te=0;Te<re.length;Te++){var Oe=re[Te];if(void 0===V[Oe]){var Ve=4*Oe;(K?K(be[Ve+0],be[Ve+1],be[Ve+2],be[Ve+3]):_<=be[Ve+2]&&c<=be[Ve+3]&&y>=be[Ve+0]&&M>=be[Ve+1])?(V[Oe]=!0,z.push(me[Oe])):V[Oe]=!1}}},ac.prototype._forEachCell=function(_,c,y,M,L,z,V,K){for(var re=this._convertToCellCoord(_),me=this._convertToCellCoord(c),be=this._convertToCellCoord(y),Te=this._convertToCellCoord(M),Oe=re;Oe<=be;Oe++)for(var Ve=me;Ve<=Te;Ve++){var et=this.d*Ve+Oe;if((!K||K(this._convertFromCellCoord(Oe),this._convertFromCellCoord(Ve),this._convertFromCellCoord(Oe+1),this._convertFromCellCoord(Ve+1)))&&L.call(this,_,c,y,M,et,z,V,K))return}},ac.prototype._convertFromCellCoord=function(_){return(_-this.padding)/this.scale},ac.prototype._convertToCellCoord=function(_){return Math.max(0,Math.min(this.d-1,Math.floor(_*this.scale)+this.padding))},ac.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var _=this.cells,c=3+this.cells.length+1+1,y=0,M=0;M<this.cells.length;M++)y+=this.cells[M].length;var L=new Int32Array(c+y+this.keys.length+this.bboxes.length);L[0]=this.extent,L[1]=this.n,L[2]=this.padding;for(var z=c,V=0;V<_.length;V++){var K=_[V];L[3+V]=z,L.set(K,z),z+=K.length}return L[3+_.length]=z,L.set(this.keys,z),L[3+_.length+1]=z+=this.keys.length,L.set(this.bboxes,z),z+=this.bboxes.length,L.buffer};const{ImageData:rd,ImageBitmap:Ec}=Ge,Gc={};function Ci(_,c,y={}){Object.defineProperty(c,"_classRegistryKey",{value:_,writeable:!1}),Gc[_]={klass:c,omit:y.omit||[],shallow:y.shallow||[]}}Ci("Object",Object),Ul.serialize=function(_,c){const y=_.toArrayBuffer();return c&&c.push(y),{buffer:y}},Ul.deserialize=function(_){return new Ul(_.buffer)},Ci("Grid",Ul),Ci("Color",zn),Ci("Error",Error),Ci("ResolvedImage",Yi),Ci("StylePropertyFunction",ph),Ci("StyleExpression",hh,{omit:["_evaluator"]}),Ci("ZoomDependentExpression",jc),Ci("ZoomConstantExpression",Cc),Ci("CompoundExpression",Cl,{omit:["_evaluate"]});for(const _ in Do)Do[_]._classRegistryKey||Ci(`Expression_${_}`,Do[_]);function wr(_){return _&&"undefined"!=typeof ArrayBuffer&&(_ instanceof ArrayBuffer||_.constructor&&"ArrayBuffer"===_.constructor.name)}function $s(_){return Ec&&_ instanceof Ec}function Rr(_,c){if(null==_||"boolean"==typeof _||"number"==typeof _||"string"==typeof _||_ instanceof Boolean||_ instanceof Number||_ instanceof String||_ instanceof Date||_ instanceof RegExp)return _;if(wr(_)||$s(_))return c&&c.push(_),_;if(ArrayBuffer.isView(_)){const y=_;return c&&c.push(y.buffer),y}if(_ instanceof rd)return c&&c.push(_.data.buffer),_;if(Array.isArray(_)){const y=[];for(const M of _)y.push(Rr(M,c));return y}if("object"==typeof _){const y=_.constructor,M=y._classRegistryKey;if(!M)throw new Error("can't serialize object of unregistered class");const L=y.serialize?y.serialize(_,c):{};if(!y.serialize){for(const z in _){if(!_.hasOwnProperty(z)||Gc[M].omit.indexOf(z)>=0)continue;const V=_[z];L[z]=Gc[M].shallow.indexOf(z)>=0?V:Rr(V,c)}_ instanceof Error&&(L.message=_.message)}if(L.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==M&&(L.$name=M),L}throw new Error("can't serialize object of type "+typeof _)}function Ai(_){if(null==_||"boolean"==typeof _||"number"==typeof _||"string"==typeof _||_ instanceof Boolean||_ instanceof Number||_ instanceof String||_ instanceof Date||_ instanceof RegExp||wr(_)||$s(_)||ArrayBuffer.isView(_)||_ instanceof rd)return _;if(Array.isArray(_))return _.map(Ai);if("object"==typeof _){const c=_.$name||"Object",{klass:y}=Gc[c];if(!y)throw new Error(`can't deserialize unregistered class ${c}`);if(y.deserialize)return y.deserialize(_);const M=Object.create(y.prototype);for(const L of Object.keys(_)){if("$name"===L)continue;const z=_[L];M[L]=Gc[c].shallow.indexOf(L)>=0?z:Ai(z)}return M}throw new Error("can't deserialize object of type "+typeof _)}class Ka{constructor(){this.first=!0}update(c,y){const M=Math.floor(c);return this.first?(this.first=!1,this.lastIntegerZoom=M,this.lastIntegerZoomTime=0,this.lastZoom=c,this.lastFloorZoom=M,!0):(this.lastFloorZoom>M?(this.lastIntegerZoom=M+1,this.lastIntegerZoomTime=y):this.lastFloorZoom<M&&(this.lastIntegerZoom=M,this.lastIntegerZoomTime=y),c!==this.lastZoom&&(this.lastZoom=c,this.lastFloorZoom=M,!0))}}const Ri=_=>_>=1536&&_<=1791,Op=_=>_>=1872&&_<=1919,Vs=_=>_>=2208&&_<=2303,Ho=_=>_>=11904&&_<=12031,Os=_=>_>=12032&&_<=12255,Tl=_=>_>=12272&&_<=12287,sd=_=>_>=12288&&_<=12351,Ao=_=>_>=12352&&_<=12447,el=_=>_>=12448&&_<=12543,lc=_=>_>=12544&&_<=12591,Rp=_=>_>=12704&&_<=12735,cu=_=>_>=12736&&_<=12783,gh=_=>_>=12784&&_<=12799,od=_=>_>=12800&&_<=13055,uu=_=>_>=13056&&_<=13311,du=_=>_>=13312&&_<=19903,Dc=_=>_>=19968&&_<=40959,Au=_=>_>=40960&&_<=42127,rt=_=>_>=42128&&_<=42191,Ac=_=>_>=44032&&_<=55215,_h=_=>_>=63744&&_<=64255,tl=_=>_>=64336&&_<=65023,as=_=>_>=65040&&_<=65055,Fp=_=>_>=65072&&_<=65103,Io=_=>_>=65104&&_<=65135,li=_=>_>=65136&&_<=65279,Jo=_=>_>=65280&&_<=65519;function ad(_){for(const c of _)if(yh(c.charCodeAt(0)))return!0;return!1}function Ua(_){for(const c of _)if(!Ff(c.charCodeAt(0)))return!1;return!0}function Ff(_){return!(Ri(_)||Op(_)||Vs(_)||tl(_)||li(_))}function yh(_){return!(746!==_&&747!==_&&(_<4352||!(Rp(_)||lc(_)||Fp(_)&&!(_>=65097&&_<=65103)||_h(_)||uu(_)||Ho(_)||cu(_)||!(!sd(_)||_>=12296&&_<=12305||_>=12308&&_<=12319||12336===_)||du(_)||Dc(_)||od(_)||(c=_,c>=12592&&c<=12687)||(c=>c>=43360&&c<=43391)(_)||(c=>c>=55216&&c<=55295)(_)||(c=>c>=4352&&c<=4607)(_)||Ac(_)||Ao(_)||Tl(_)||(c=>c>=12688&&c<=12703)(_)||Os(_)||gh(_)||el(_)&&12540!==_||!(!Jo(_)||65288===_||65289===_||65293===_||_>=65306&&_<=65310||65339===_||65341===_||65343===_||_>=65371&&_<=65503||65507===_||_>=65512&&_<=65519)||!(!Io(_)||_>=65112&&_<=65118||_>=65123&&_<=65126)||(c=>c>=5120&&c<=5759)(_)||(c=>c>=6320&&c<=6399)(_)||as(_)||(c=>c>=19904&&c<=19967)(_)||Au(_)||rt(_))));var c}function Nf(_){return!(yh(_)||(c=_,(y=c)>=128&&y<=255&&(167===c||169===c||174===c||177===c||188===c||189===c||190===c||215===c||247===c)||(y=>y>=8192&&y<=8303)(c)&&(8214===c||8224===c||8225===c||8240===c||8241===c||8251===c||8252===c||8258===c||8263===c||8264===c||8265===c||8273===c)||(y=>y>=8448&&y<=8527)(c)||(y=>y>=8528&&y<=8591)(c)||(y=>y>=8960&&y<=9215)(c)&&(c>=8960&&c<=8967||c>=8972&&c<=8991||c>=8996&&c<=9e3||9003===c||c>=9085&&c<=9114||c>=9150&&c<=9165||9167===c||c>=9169&&c<=9179||c>=9186&&c<=9215)||(y=>y>=9216&&y<=9279)(c)&&9251!==c||(y=>y>=9280&&y<=9311)(c)||(y=>y>=9312&&y<=9471)(c)||(y=>y>=9632&&y<=9727)(c)||(y=>y>=9728&&y<=9983)(c)&&!(c>=9754&&c<=9759)||(y=>y>=11008&&y<=11263)(c)&&(c>=11026&&c<=11055||c>=11088&&c<=11097||c>=11192&&c<=11243)||sd(c)||el(c)||(y=>y>=57344&&y<=63743)(c)||Fp(c)||Io(c)||Jo(c)||8734===c||8756===c||8757===c||c>=9984&&c<=10087||c>=10102&&c<=10131||65532===c||65533===c));var c,y}function nl(_){return _>=1424&&_<=2303||tl(_)||li(_)}function Jh(_,c){return!(!c&&nl(_)||_>=2304&&_<=3583||_>=3840&&_<=4255||(y=_,y>=6016&&y<=6143));var y}function Np(_){for(const c of _)if(nl(c.charCodeAt(0)))return!0;return!1}const R="deferred",m="loading",T="loaded";let N=null,U="unavailable",J=null;const ce=function(_){_&&"string"==typeof _&&_.indexOf("NetworkError")>-1&&(U="error"),N&&N(_)};function ge(){xe.fire(new Re("pluginStateChange",{pluginStatus:U,pluginURL:J}))}const xe=new f,ve=function(){return U},He=function(){if(U!==R||!J)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");U=m,ge(),J&&Ye({url:J},_=>{_?ce(_):(U=T,ge())})},qe={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>U===T||null!=qe.applyArabicShaping,isLoading:()=>U===m,setState(_){U=_.pluginStatus,J=_.pluginURL},isParsed:()=>null!=qe.applyArabicShaping&&null!=qe.processBidirectionalText&&null!=qe.processStyledBidirectionalText,getPluginURL:()=>J};class Qe{constructor(c,y){this.zoom=c,y?(this.now=y.now,this.fadeDuration=y.fadeDuration,this.zoomHistory=y.zoomHistory,this.transition=y.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Ka,this.transition={})}isSupportedScript(c){return function(y,M){for(const L of y)if(!Jh(L.charCodeAt(0),M))return!1;return!0}(c,qe.isLoaded())}crossFadingFactor(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const c=this.zoom,y=c-Math.floor(c),M=this.crossFadingFactor();return c>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:y+(1-y)*M}:{fromScale:.5,toScale:1,t:1-(1-M)*y}}}class Ke{constructor(c,y){this.property=c,this.value=y,this.expression=function(M,L){if(of(M))return new ph(M,L);if(va(M)){const z=af(M,L);if("error"===z.result)throw new Error(z.value.map(V=>`${V.key}: ${V.message}`).join(", "));return z.value}{let z=M;return"string"==typeof M&&"color"===L.type&&(z=zn.parse(M)),{kind:"constant",evaluate:()=>z}}}(void 0===y?c.specification.default:y,c.specification)}isDataDriven(){return"source"===this.expression.kind||"composite"===this.expression.kind}possiblyEvaluate(c,y,M){return this.property.possiblyEvaluate(this,c,y,M)}}class pt{constructor(c){this.property=c,this.value=new Ke(c,void 0)}transitioned(c,y){return new Nt(this.property,this.value,y,zi({},c.transition,this.transition),c.now)}untransitioned(){return new Nt(this.property,this.value,null,{},0)}}class xt{constructor(c){this._properties=c,this._values=Object.create(c.defaultTransitionablePropertyValues)}getValue(c){return ai(this._values[c].value.value)}setValue(c,y){this._values.hasOwnProperty(c)||(this._values[c]=new pt(this._values[c].property)),this._values[c].value=new Ke(this._values[c].property,null===y?void 0:ai(y))}getTransition(c){return ai(this._values[c].transition)}setTransition(c,y){this._values.hasOwnProperty(c)||(this._values[c]=new pt(this._values[c].property)),this._values[c].transition=ai(y)||void 0}serialize(){const c={};for(const y of Object.keys(this._values)){const M=this.getValue(y);void 0!==M&&(c[y]=M);const L=this.getTransition(y);void 0!==L&&(c[`${y}-transition`]=L)}return c}transitioned(c,y){const M=new lt(this._properties);for(const L of Object.keys(this._values))M._values[L]=this._values[L].transitioned(c,y._values[L]);return M}untransitioned(){const c=new lt(this._properties);for(const y of Object.keys(this._values))c._values[y]=this._values[y].untransitioned();return c}}class Nt{constructor(c,y,M,L,z){const V=L.delay||0,K=L.duration||0;z=z||0,this.property=c,this.value=y,this.begin=z+V,this.end=this.begin+K,c.specification.transition&&(L.delay||L.duration)&&(this.prior=M)}possiblyEvaluate(c,y,M){const L=c.now||0,z=this.value.possiblyEvaluate(c,y,M),V=this.prior;if(V){if(L>this.end)return this.prior=null,z;if(this.value.isDataDriven())return this.prior=null,z;if(L<this.begin)return V.possiblyEvaluate(c,y,M);{const K=(L-this.begin)/(this.end-this.begin);return this.property.interpolate(V.possiblyEvaluate(c,y,M),z,ct(K))}}return z}}class lt{constructor(c){this._properties=c,this._values=Object.create(c.defaultTransitioningPropertyValues)}possiblyEvaluate(c,y,M){const L=new Vt(this._properties);for(const z of Object.keys(this._values))L._values[z]=this._values[z].possiblyEvaluate(c,y,M);return L}hasTransition(){for(const c of Object.keys(this._values))if(this._values[c].prior)return!0;return!1}}class wt{constructor(c){this._properties=c,this._values=Object.create(c.defaultPropertyValues)}getValue(c){return ai(this._values[c].value)}setValue(c,y){this._values[c]=new Ke(this._values[c].property,null===y?void 0:ai(y))}serialize(){const c={};for(const y of Object.keys(this._values)){const M=this.getValue(y);void 0!==M&&(c[y]=M)}return c}possiblyEvaluate(c,y,M){const L=new Vt(this._properties);for(const z of Object.keys(this._values))L._values[z]=this._values[z].possiblyEvaluate(c,y,M);return L}}class Tt{constructor(c,y,M){this.property=c,this.value=y,this.parameters=M}isConstant(){return"constant"===this.value.kind}constantOr(c){return"constant"===this.value.kind?this.value.value:c}evaluate(c,y,M,L){return this.property.evaluate(this.value,this.parameters,c,y,M,L)}}class Vt{constructor(c){this._properties=c,this._values=Object.create(c.defaultPossiblyEvaluatedValues)}get(c){return this._values[c]}}class St{constructor(c){this.specification=c}possiblyEvaluate(c,y){return c.expression.evaluate(y)}interpolate(c,y,M){const L=Hc[this.specification.type];return L?L(c,y,M):c}}class Dt{constructor(c,y){this.specification=c,this.overrides=y}possiblyEvaluate(c,y,M,L){return new Tt(this,"constant"===c.expression.kind||"camera"===c.expression.kind?{kind:"constant",value:c.expression.evaluate(y,null,{},M,L)}:c.expression,y)}interpolate(c,y,M){if("constant"!==c.value.kind||"constant"!==y.value.kind)return c;if(void 0===c.value.value||void 0===y.value.value)return new Tt(this,{kind:"constant",value:void 0},c.parameters);const L=Hc[this.specification.type];return L?new Tt(this,{kind:"constant",value:L(c.value.value,y.value.value,M)},c.parameters):c}evaluate(c,y,M,L,z,V){return"constant"===c.kind?c.value:c.evaluate(y,M,L,z,V)}}class kn extends Dt{possiblyEvaluate(c,y,M,L){if(void 0===c.value)return new Tt(this,{kind:"constant",value:void 0},y);if("constant"===c.expression.kind){const z=c.expression.evaluate(y,null,{},M,L),V="resolvedImage"===c.property.specification.type&&"string"!=typeof z?z.name:z,K=this._calculate(V,V,V,y);return new Tt(this,{kind:"constant",value:K},y)}if("camera"===c.expression.kind){const z=this._calculate(c.expression.evaluate({zoom:y.zoom-1}),c.expression.evaluate({zoom:y.zoom}),c.expression.evaluate({zoom:y.zoom+1}),y);return new Tt(this,{kind:"constant",value:z},y)}return new Tt(this,c.expression,y)}evaluate(c,y,M,L,z,V){if("source"===c.kind){const K=c.evaluate(y,M,L,z,V);return this._calculate(K,K,K,y)}return"composite"===c.kind?this._calculate(c.evaluate({zoom:Math.floor(y.zoom)-1},M,L),c.evaluate({zoom:Math.floor(y.zoom)},M,L),c.evaluate({zoom:Math.floor(y.zoom)+1},M,L),y):c.value}_calculate(c,y,M,L){return L.zoom>L.zoomHistory.lastIntegerZoom?{from:c,to:y,other:M}:{from:M,to:y,other:c}}interpolate(c){return c}}class Dn{constructor(c){this.specification=c}possiblyEvaluate(c,y,M,L){if(void 0!==c.value){if("constant"===c.expression.kind){const z=c.expression.evaluate(y,null,{},M,L);return this._calculate(z,z,z,y)}return this._calculate(c.expression.evaluate(new Qe(Math.floor(y.zoom-1),y)),c.expression.evaluate(new Qe(Math.floor(y.zoom),y)),c.expression.evaluate(new Qe(Math.floor(y.zoom+1),y)),y)}}_calculate(c,y,M,L){return L.zoom>L.zoomHistory.lastIntegerZoom?{from:c,to:y}:{from:M,to:y}}interpolate(c){return c}}class Nn{constructor(c){this.specification=c}possiblyEvaluate(c,y,M,L){return!!c.expression.evaluate(y,null,{},M,L)}interpolate(){return!1}}class It{constructor(c){this.properties=c,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const y in c){const M=c[y];M.specification.overridable&&this.overridableProperties.push(y);const L=this.defaultPropertyValues[y]=new Ke(M,void 0),z=this.defaultTransitionablePropertyValues[y]=new pt(M);this.defaultTransitioningPropertyValues[y]=z.untransitioned(),this.defaultPossiblyEvaluatedValues[y]=L.possiblyEvaluate({})}}}function ri(_,c){return 256*(_=Wt(Math.floor(_),0,255))+Wt(Math.floor(c),0,255)}Ci("DataDrivenProperty",Dt),Ci("DataConstantProperty",St),Ci("CrossFadedDataDrivenProperty",kn),Ci("CrossFadedProperty",Dn),Ci("ColorRampProperty",Nn);const Bn={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class ui{constructor(c,y){this._structArray=c,this._pos1=y*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class ti{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(c,y){return c._trim(),y&&(c.isTransferred=!0,y.push(c.arrayBuffer)),{length:c.length,arrayBuffer:c.arrayBuffer}}static deserialize(c){const y=Object.create(this.prototype);return y.arrayBuffer=c.arrayBuffer,y.length=c.length,y.capacity=c.arrayBuffer.byteLength/y.bytesPerElement,y._refreshViews(),y}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(c){this.reserve(c),this.length=c}reserve(c){if(c>this.capacity){this.capacity=Math.max(c,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const y=this.uint8;this._refreshViews(),y&&this.uint8.set(y)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function Xn(_,c=1){let y=0,M=0;return{members:_.map(L=>{const z=Bn[L.type].BYTES_PER_ELEMENT,V=y=mr(y,Math.max(c,z)),K=L.components||1;return M=Math.max(M,z),y+=z*K,{name:L.name,type:L.type,components:K,offset:V}}),size:mr(y,Math.max(M,c)),alignment:c}}function mr(_,c){return Math.ceil(_/c)*c}class Pi extends ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(c,y){const M=this.length;return this.resize(M+1),this.emplace(M,c,y)}emplace(c,y,M){const L=2*c;return this.int16[L+0]=y,this.int16[L+1]=M,c}}Pi.prototype.bytesPerElement=4,Ci("StructArrayLayout2i4",Pi);class Jr extends ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(c,y,M,L){const z=this.length;return this.resize(z+1),this.emplace(z,c,y,M,L)}emplace(c,y,M,L,z){const V=4*c;return this.int16[V+0]=y,this.int16[V+1]=M,this.int16[V+2]=L,this.int16[V+3]=z,c}}Jr.prototype.bytesPerElement=8,Ci("StructArrayLayout4i8",Jr);class hs extends ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(c,y,M,L,z,V,K){const re=this.length;return this.resize(re+1),this.emplace(re,c,y,M,L,z,V,K)}emplace(c,y,M,L,z,V,K,re){const me=6*c,be=12*c,Te=3*c;return this.int16[me+0]=y,this.int16[me+1]=M,this.uint8[be+4]=L,this.uint8[be+5]=z,this.uint8[be+6]=V,this.uint8[be+7]=K,this.float32[Te+2]=re,c}}hs.prototype.bytesPerElement=12,Ci("StructArrayLayout2i4ub1f12",hs);class ys extends ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(c,y){const M=this.length;return this.resize(M+1),this.emplace(M,c,y)}emplace(c,y,M){const L=2*c;return this.float32[L+0]=y,this.float32[L+1]=M,c}}ys.prototype.bytesPerElement=8,Ci("StructArrayLayout2f8",ys);class Cr extends ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(c,y,M,L,z,V,K,re,me,be){const Te=this.length;return this.resize(Te+1),this.emplace(Te,c,y,M,L,z,V,K,re,me,be)}emplace(c,y,M,L,z,V,K,re,me,be,Te){const Oe=10*c;return this.uint16[Oe+0]=y,this.uint16[Oe+1]=M,this.uint16[Oe+2]=L,this.uint16[Oe+3]=z,this.uint16[Oe+4]=V,this.uint16[Oe+5]=K,this.uint16[Oe+6]=re,this.uint16[Oe+7]=me,this.uint16[Oe+8]=be,this.uint16[Oe+9]=Te,c}}Cr.prototype.bytesPerElement=20,Ci("StructArrayLayout10ui20",Cr);class ks extends ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(c,y,M,L,z,V,K,re){const me=this.length;return this.resize(me+1),this.emplace(me,c,y,M,L,z,V,K,re)}emplace(c,y,M,L,z,V,K,re,me){const be=8*c;return this.uint16[be+0]=y,this.uint16[be+1]=M,this.uint16[be+2]=L,this.uint16[be+3]=z,this.uint16[be+4]=V,this.uint16[be+5]=K,this.uint16[be+6]=re,this.uint16[be+7]=me,c}}ks.prototype.bytesPerElement=16,Ci("StructArrayLayout8ui16",ks);class to extends ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(c,y,M,L,z,V,K,re,me,be,Te,Oe){const Ve=this.length;return this.resize(Ve+1),this.emplace(Ve,c,y,M,L,z,V,K,re,me,be,Te,Oe)}emplace(c,y,M,L,z,V,K,re,me,be,Te,Oe,Ve){const et=12*c;return this.int16[et+0]=y,this.int16[et+1]=M,this.int16[et+2]=L,this.int16[et+3]=z,this.uint16[et+4]=V,this.uint16[et+5]=K,this.uint16[et+6]=re,this.uint16[et+7]=me,this.int16[et+8]=be,this.int16[et+9]=Te,this.int16[et+10]=Oe,this.int16[et+11]=Ve,c}}to.prototype.bytesPerElement=24,Ci("StructArrayLayout4i4ui4i24",to);class jl extends ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(c,y,M){const L=this.length;return this.resize(L+1),this.emplace(L,c,y,M)}emplace(c,y,M,L){const z=3*c;return this.float32[z+0]=y,this.float32[z+1]=M,this.float32[z+2]=L,c}}jl.prototype.bytesPerElement=12,Ci("StructArrayLayout3f12",jl);class ja extends ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(c){const y=this.length;return this.resize(y+1),this.emplace(y,c)}emplace(c,y){return this.uint32[1*c+0]=y,c}}ja.prototype.bytesPerElement=4,Ci("StructArrayLayout1ul4",ja);class gs extends ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(c,y,M,L,z,V,K,re,me,be){const Te=this.length;return this.resize(Te+1),this.emplace(Te,c,y,M,L,z,V,K,re,me,be)}emplace(c,y,M,L,z,V,K,re,me,be,Te){const Oe=16*c,Ve=8*c;return this.int16[Oe+0]=y,this.int16[Oe+1]=M,this.float32[Ve+1]=L,this.float32[Ve+2]=z,this.float32[Ve+3]=V,this.float32[Ve+4]=K,this.int16[Oe+10]=re,this.uint32[Ve+6]=me,this.uint16[Oe+14]=be,this.uint16[Oe+15]=Te,c}}gs.prototype.bytesPerElement=32,Ci("StructArrayLayout2i4f1i1ul2ui32",gs);class Ko extends ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(c,y,M,L,z,V){const K=this.length;return this.resize(K+1),this.emplace(K,c,y,M,L,z,V)}emplace(c,y,M,L,z,V,K){const re=6*c;return this.int16[re+0]=y,this.int16[re+1]=M,this.int16[re+2]=L,this.int16[re+3]=z,this.int16[re+4]=V,this.int16[re+5]=K,c}}Ko.prototype.bytesPerElement=12,Ci("StructArrayLayout2i2i2i12",Ko);class Sl extends ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(c,y,M,L,z){const V=this.length;return this.resize(V+1),this.emplace(V,c,y,M,L,z)}emplace(c,y,M,L,z,V){const K=4*c,re=8*c;return this.float32[K+0]=y,this.float32[K+1]=M,this.float32[K+2]=L,this.int16[re+6]=z,this.int16[re+7]=V,c}}Sl.prototype.bytesPerElement=16,Ci("StructArrayLayout2f1f2i16",Sl);class Hi extends ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(c,y,M,L){const z=this.length;return this.resize(z+1),this.emplace(z,c,y,M,L)}emplace(c,y,M,L,z){const V=12*c,K=3*c;return this.uint8[V+0]=y,this.uint8[V+1]=M,this.float32[K+1]=L,this.float32[K+2]=z,c}}Hi.prototype.bytesPerElement=12,Ci("StructArrayLayout2ub2f12",Hi);class Us extends ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(c,y,M){const L=this.length;return this.resize(L+1),this.emplace(L,c,y,M)}emplace(c,y,M,L){const z=3*c;return this.uint16[z+0]=y,this.uint16[z+1]=M,this.uint16[z+2]=L,c}}Us.prototype.bytesPerElement=6,Ci("StructArrayLayout3ui6",Us);class Kr extends ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(c,y,M,L,z,V,K,re,me,be,Te,Oe,Ve,et,_t,At,Ht,sn){const an=this.length;return this.resize(an+1),this.emplace(an,c,y,M,L,z,V,K,re,me,be,Te,Oe,Ve,et,_t,At,Ht,sn)}emplace(c,y,M,L,z,V,K,re,me,be,Te,Oe,Ve,et,_t,At,Ht,sn,an){const dn=13*c,xn=26*c,bn=52*c;return this.float32[dn+0]=y,this.float32[dn+1]=M,this.uint16[xn+4]=L,this.uint16[xn+5]=z,this.uint32[dn+3]=V,this.uint32[dn+4]=K,this.uint32[dn+5]=re,this.uint16[xn+12]=me,this.uint16[xn+13]=be,this.uint16[xn+14]=Te,this.float32[dn+8]=Oe,this.float32[dn+9]=Ve,this.uint8[bn+40]=et,this.uint8[bn+41]=_t,this.uint8[bn+42]=At,this.uint32[dn+11]=Ht,this.int16[xn+24]=sn,this.uint8[bn+50]=an,c}}Kr.prototype.bytesPerElement=52,Ci("StructArrayLayout2f2ui3ul3ui2f3ub1ul1i1ub52",Kr);class Is extends ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(c,y,M,L,z,V,K,re,me,be,Te,Oe,Ve,et,_t,At,Ht,sn,an,dn,xn,bn,Un,ei,Zn,di,Rn){const Gn=this.length;return this.resize(Gn+1),this.emplace(Gn,c,y,M,L,z,V,K,re,me,be,Te,Oe,Ve,et,_t,At,Ht,sn,an,dn,xn,bn,Un,ei,Zn,di,Rn)}emplace(c,y,M,L,z,V,K,re,me,be,Te,Oe,Ve,et,_t,At,Ht,sn,an,dn,xn,bn,Un,ei,Zn,di,Rn,Gn){const ni=17*c,Pn=34*c;return this.float32[ni+0]=y,this.float32[ni+1]=M,this.int16[Pn+4]=L,this.int16[Pn+5]=z,this.int16[Pn+6]=V,this.int16[Pn+7]=K,this.int16[Pn+8]=re,this.int16[Pn+9]=me,this.uint16[Pn+10]=be,this.uint16[Pn+11]=Te,this.uint16[Pn+12]=Oe,this.uint16[Pn+13]=Ve,this.uint16[Pn+14]=et,this.uint16[Pn+15]=_t,this.uint16[Pn+16]=At,this.uint16[Pn+17]=Ht,this.uint16[Pn+18]=sn,this.uint16[Pn+19]=an,this.uint16[Pn+20]=dn,this.uint16[Pn+21]=xn,this.uint16[Pn+22]=bn,this.uint16[Pn+23]=Un,this.uint16[Pn+24]=ei,this.uint32[ni+13]=Zn,this.float32[ni+14]=di,this.float32[ni+15]=Rn,this.float32[ni+16]=Gn,c}}Is.prototype.bytesPerElement=68,Ci("StructArrayLayout2f6i15ui1ul3f68",Is);class fo extends ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(c){const y=this.length;return this.resize(y+1),this.emplace(y,c)}emplace(c,y){return this.float32[1*c+0]=y,c}}fo.prototype.bytesPerElement=4,Ci("StructArrayLayout1f4",fo);class Zr extends ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(c,y,M){const L=this.length;return this.resize(L+1),this.emplace(L,c,y,M)}emplace(c,y,M,L){const z=3*c;return this.int16[z+0]=y,this.int16[z+1]=M,this.int16[z+2]=L,c}}Zr.prototype.bytesPerElement=6,Ci("StructArrayLayout3i6",Zr);class ul extends ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(c,y,M,L){const z=this.length;return this.resize(z+1),this.emplace(z,c,y,M,L)}emplace(c,y,M,L,z){const V=6*c;return this.uint32[3*c+0]=y,this.uint16[V+2]=M,this.uint16[V+3]=L,this.uint16[V+4]=z,c}}ul.prototype.bytesPerElement=12,Ci("StructArrayLayout1ul3ui12",ul);class dl extends ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(c,y){const M=this.length;return this.resize(M+1),this.emplace(M,c,y)}emplace(c,y,M){const L=2*c;return this.uint16[L+0]=y,this.uint16[L+1]=M,c}}dl.prototype.bytesPerElement=4,Ci("StructArrayLayout2ui4",dl);class kl extends ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(c){const y=this.length;return this.resize(y+1),this.emplace(y,c)}emplace(c,y){return this.uint16[1*c+0]=y,c}}kl.prototype.bytesPerElement=2,Ci("StructArrayLayout1ui2",kl);class Vo extends ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(c,y,M,L){const z=this.length;return this.resize(z+1),this.emplace(z,c,y,M,L)}emplace(c,y,M,L,z){const V=4*c;return this.float32[V+0]=y,this.float32[V+1]=M,this.float32[V+2]=L,this.float32[V+3]=z,c}}Vo.prototype.bytesPerElement=16,Ci("StructArrayLayout4f16",Vo);class Za extends ui{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.float32[this._pos4+1]}get y1(){return this._structArray.float32[this._pos4+2]}get x2(){return this._structArray.float32[this._pos4+3]}get y2(){return this._structArray.float32[this._pos4+4]}get padding(){return this._structArray.int16[this._pos2+10]}get featureIndex(){return this._structArray.uint32[this._pos4+6]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+14]}get bucketIndex(){return this._structArray.uint16[this._pos2+15]}get anchorPoint(){return new Me(this.anchorPointX,this.anchorPointY)}}Za.prototype.size=32;class ld extends gs{get(c){return new Za(this,c)}}Ci("CollisionBoxArray",ld);class Oa extends ui{get anchorX(){return this._structArray.float32[this._pos4+0]}get anchorY(){return this._structArray.float32[this._pos4+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+4]}get numGlyphs(){return this._structArray.uint16[this._pos2+5]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineStartIndex(){return this._structArray.uint32[this._pos4+4]}get lineLength(){return this._structArray.uint32[this._pos4+5]}get segment(){return this._structArray.uint16[this._pos2+12]}get lowerSize(){return this._structArray.uint16[this._pos2+13]}get upperSize(){return this._structArray.uint16[this._pos2+14]}get lineOffsetX(){return this._structArray.float32[this._pos4+8]}get lineOffsetY(){return this._structArray.float32[this._pos4+9]}get writingMode(){return this._structArray.uint8[this._pos1+40]}get placedOrientation(){return this._structArray.uint8[this._pos1+41]}set placedOrientation(c){this._structArray.uint8[this._pos1+41]=c}get hidden(){return this._structArray.uint8[this._pos1+42]}set hidden(c){this._structArray.uint8[this._pos1+42]=c}get crossTileID(){return this._structArray.uint32[this._pos4+11]}set crossTileID(c){this._structArray.uint32[this._pos4+11]=c}get associatedIconIndex(){return this._structArray.int16[this._pos2+24]}get flipState(){return this._structArray.uint8[this._pos1+50]}set flipState(c){this._structArray.uint8[this._pos1+50]=c}}Oa.prototype.size=52;class To extends Kr{get(c){return new Oa(this,c)}}Ci("PlacedSymbolArray",To);class hu extends ui{get anchorX(){return this._structArray.float32[this._pos4+0]}get anchorY(){return this._structArray.float32[this._pos4+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+7]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+8]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+9]}get key(){return this._structArray.uint16[this._pos2+10]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+17]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+18]}get featureIndex(){return this._structArray.uint16[this._pos2+19]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+21]}get numIconVertices(){return this._structArray.uint16[this._pos2+22]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+23]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+24]}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(c){this._structArray.uint32[this._pos4+13]=c}get textOffset0(){return this._structArray.float32[this._pos4+14]}get textOffset1(){return this._structArray.float32[this._pos4+15]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+16]}}hu.prototype.size=68;class Iu extends Is{get(c){return new hu(this,c)}}Ci("SymbolInstanceArray",Iu);class cc extends fo{getoffsetX(c){return this.float32[1*c+0]}}Ci("GlyphOffsetArray",cc);class hl extends Zr{getx(c){return this.int16[3*c+0]}gety(c){return this.int16[3*c+1]}gettileUnitDistanceFromAnchor(c){return this.int16[3*c+2]}}Ci("SymbolLineVertexArray",hl);class Wc extends ui{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}Wc.prototype.size=12;class Es extends ul{get(c){return new Wc(this,c)}}Ci("FeatureIndexArray",Es);class W extends ui{get a_centroid_pos0(){return this._structArray.uint16[this._pos2+0]}get a_centroid_pos1(){return this._structArray.uint16[this._pos2+1]}}W.prototype.size=4;class le extends dl{get(c){return new W(this,c)}}Ci("FillExtrusionCentroidArray",le);const De=Xn([{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"}]),Ue=Xn([{name:"a_dash_to",components:4,type:"Uint16"},{name:"a_dash_from",components:4,type:"Uint16"}]);var nt=un(function(_){_.exports=function(c,y){var M,L,z,V,K,re,me,be;for(L=c.length-(M=3&c.length),z=y,K=3432918353,re=461845907,be=0;be<L;)me=255&c.charCodeAt(be)|(255&c.charCodeAt(++be))<<8|(255&c.charCodeAt(++be))<<16|(255&c.charCodeAt(++be))<<24,++be,z=27492+(65535&(V=5*(65535&(z=(z^=me=(65535&(me=(me=(65535&me)*K+(((me>>>16)*K&65535)<<16)&4294967295)<<15|me>>>17))*re+(((me>>>16)*re&65535)<<16)&4294967295)<<13|z>>>19))+((5*(z>>>16)&65535)<<16)&4294967295))+((58964+(V>>>16)&65535)<<16);switch(me=0,M){case 3:me^=(255&c.charCodeAt(be+2))<<16;case 2:me^=(255&c.charCodeAt(be+1))<<8;case 1:z^=me=(65535&(me=(me=(65535&(me^=255&c.charCodeAt(be)))*K+(((me>>>16)*K&65535)<<16)&4294967295)<<15|me>>>17))*re+(((me>>>16)*re&65535)<<16)&4294967295}return z^=c.length,z=2246822507*(65535&(z^=z>>>16))+((2246822507*(z>>>16)&65535)<<16)&4294967295,z=3266489909*(65535&(z^=z>>>13))+((3266489909*(z>>>16)&65535)<<16)&4294967295,(z^=z>>>16)>>>0}}),$t=un(function(_){_.exports=function(c,y){for(var M,L=c.length,z=y^L,V=0;L>=4;)M=1540483477*(65535&(M=255&c.charCodeAt(V)|(255&c.charCodeAt(++V))<<8|(255&c.charCodeAt(++V))<<16|(255&c.charCodeAt(++V))<<24))+((1540483477*(M>>>16)&65535)<<16),z=1540483477*(65535&z)+((1540483477*(z>>>16)&65535)<<16)^(M=1540483477*(65535&(M^=M>>>24))+((1540483477*(M>>>16)&65535)<<16)),L-=4,++V;switch(L){case 3:z^=(255&c.charCodeAt(V+2))<<16;case 2:z^=(255&c.charCodeAt(V+1))<<8;case 1:z=1540483477*(65535&(z^=255&c.charCodeAt(V)))+((1540483477*(z>>>16)&65535)<<16)}return z=1540483477*(65535&(z^=z>>>13))+((1540483477*(z>>>16)&65535)<<16),(z^=z>>>15)>>>0}}),Tn=nt,Gi=$t;Tn.murmur3=nt,Tn.murmur2=Gi;class ls{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(c,y,M,L){this.ids.push(mo(c)),this.positions.push(y,M,L)}getPositions(c){const y=mo(c);let M=0,L=this.ids.length-1;for(;M<L;){const V=M+L>>1;this.ids[V]>=y?L=V:M=V+1}const z=[];for(;this.ids[M]===y;)z.push({index:this.positions[3*M],start:this.positions[3*M+1],end:this.positions[3*M+2]}),M++;return z}static serialize(c,y){const M=new Float64Array(c.ids),L=new Uint32Array(c.positions);return js(M,L,0,M.length-1),y&&y.push(M.buffer,L.buffer),{ids:M,positions:L}}static deserialize(c){const y=new ls;return y.ids=c.ids,y.positions=c.positions,y.indexed=!0,y}}function mo(_){const c=+_;return!isNaN(c)&&c<=Mt?c:Tn(String(_))}function js(_,c,y,M){for(;y<M;){const L=_[y+M>>1];let z=y-1,V=M+1;for(;;){do{z++}while(_[z]<L);do{V--}while(_[V]>L);if(z>=V)break;ea(_,z,V),ea(c,3*z,3*V),ea(c,3*z+1,3*V+1),ea(c,3*z+2,3*V+2)}V-y<M-V?(js(_,c,y,V),y=V+1):(js(_,c,V+1,M),M=V)}}function ea(_,c,y){const M=_[c];_[c]=_[y],_[y]=M}Ci("FeaturePositionMap",ls);class Zs{constructor(c,y){this.gl=c.gl,this.location=y}}class zf extends Zs{constructor(c,y){super(c,y),this.current=0}set(c){this.current!==c&&(this.current=c,this.gl.uniform1f(this.location,c))}}class t_ extends Zs{constructor(c,y){super(c,y),this.current=[0,0,0,0]}set(c){c[0]===this.current[0]&&c[1]===this.current[1]&&c[2]===this.current[2]&&c[3]===this.current[3]||(this.current=c,this.gl.uniform4f(this.location,c[0],c[1],c[2],c[3]))}}class uy extends Zs{constructor(c,y){super(c,y),this.current=zn.transparent}set(c){c.r===this.current.r&&c.g===this.current.g&&c.b===this.current.b&&c.a===this.current.a||(this.current=c,this.gl.uniform4f(this.location,c.r,c.g,c.b,c.a))}}const Ga=new Float32Array(16),n_=new Float32Array(9);function zp(_){return[ri(255*_.r,255*_.g),ri(255*_.b,255*_.a)]}class Bp{constructor(c,y,M){this.value=c,this.uniformNames=y.map(L=>`u_${L}`),this.type=M}setUniform(c,y,M){c.set(M.constantOr(this.value))}getBinding(c,y,M){return"color"===this.type?new uy(c,y):new zf(c,y)}}class Lu{constructor(c,y){this.uniformNames=y.map(M=>`u_${M}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(c,y){this.pixelRatioFrom=y.pixelRatio,this.pixelRatioTo=c.pixelRatio,this.patternFrom=y.tl.concat(y.br),this.patternTo=c.tl.concat(c.br)}setUniform(c,y,M,L){const z="u_pattern_to"===L||"u_dash_to"===L?this.patternTo:"u_pattern_from"===L||"u_dash_from"===L?this.patternFrom:"u_pixel_ratio_to"===L?this.pixelRatioTo:"u_pixel_ratio_from"===L?this.pixelRatioFrom:null;z&&c.set(z)}getBinding(c,y,M){return"u_pattern_from"===M||"u_pattern_to"===M||"u_dash_from"===M||"u_dash_to"===M?new t_(c,y):new zf(c,y)}}class xa{constructor(c,y,M,L){this.expression=c,this.type=M,this.maxValue=0,this.paintVertexAttributes=y.map(z=>({name:`a_${z}`,type:"Float32",components:"color"===M?2:1,offset:0})),this.paintVertexArray=new L}populatePaintArray(c,y,M,L,z){const V=this.paintVertexArray.length,K=this.expression.evaluate(new Qe(0),y,{},L,[],z);this.paintVertexArray.resize(c),this._setPaintValue(V,c,K)}updatePaintArray(c,y,M,L){const z=this.expression.evaluate({zoom:0},M,L);this._setPaintValue(c,y,z)}_setPaintValue(c,y,M){if("color"===this.type){const L=zp(M);for(let z=c;z<y;z++)this.paintVertexArray.emplace(z,L[0],L[1])}else{for(let L=c;L<y;L++)this.paintVertexArray.emplace(L,M);this.maxValue=Math.max(this.maxValue,Math.abs(M))}}upload(c){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=c.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class qc{constructor(c,y,M,L,z,V){this.expression=c,this.uniformNames=y.map(K=>`u_${K}_t`),this.type=M,this.useIntegerZoom=L,this.zoom=z,this.maxValue=0,this.paintVertexAttributes=y.map(K=>({name:`a_${K}`,type:"Float32",components:"color"===M?4:2,offset:0})),this.paintVertexArray=new V}populatePaintArray(c,y,M,L,z){const V=this.expression.evaluate(new Qe(this.zoom),y,{},L,[],z),K=this.expression.evaluate(new Qe(this.zoom+1),y,{},L,[],z),re=this.paintVertexArray.length;this.paintVertexArray.resize(c),this._setPaintValue(re,c,V,K)}updatePaintArray(c,y,M,L){const z=this.expression.evaluate({zoom:this.zoom},M,L),V=this.expression.evaluate({zoom:this.zoom+1},M,L);this._setPaintValue(c,y,z,V)}_setPaintValue(c,y,M,L){if("color"===this.type){const z=zp(M),V=zp(L);for(let K=c;K<y;K++)this.paintVertexArray.emplace(K,z[0],z[1],V[0],V[1])}else{for(let z=c;z<y;z++)this.paintVertexArray.emplace(z,M,L);this.maxValue=Math.max(this.maxValue,Math.abs(M),Math.abs(L))}}upload(c){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=c.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(c,y){const M=this.useIntegerZoom?Math.floor(y.zoom):y.zoom,L=Wt(this.expression.interpolationFactor(M,this.zoom,this.zoom+1),0,1);c.set(L)}getBinding(c,y,M){return new zf(c,y)}}class Mr{constructor(c,y,M,L,z,V,K){this.expression=c,this.type=M,this.useIntegerZoom=L,this.zoom=z,this.layerId=K,this.paintVertexAttributes=("array"===M?Ue:De).members;for(let re=0;re<y.length;++re);this.zoomInPaintVertexArray=new V,this.zoomOutPaintVertexArray=new V}populatePaintArray(c,y,M){const L=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(c),this.zoomOutPaintVertexArray.resize(c),this._setPaintValues(L,c,y.patterns&&y.patterns[this.layerId],M)}updatePaintArray(c,y,M,L,z){this._setPaintValues(c,y,M.patterns&&M.patterns[this.layerId],z)}_setPaintValues(c,y,M,L){if(!L||!M)return;const{min:z,mid:V,max:K}=M,re=L[z],me=L[V],be=L[K];if(re&&me&&be)for(let Te=c;Te<y;Te++)this._setPaintValue(this.zoomInPaintVertexArray,Te,me,re),this._setPaintValue(this.zoomOutPaintVertexArray,Te,me,be)}_setPaintValue(c,y,M,L){c.emplace(y,M.tl[0],M.tl[1],M.br[0],M.br[1],L.tl[0],L.tl[1],L.br[0],L.br[1],M.pixelRatio,L.pixelRatio)}upload(c){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=c.createVertexBuffer(this.zoomInPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=c.createVertexBuffer(this.zoomOutPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class vh{constructor(c,y,M=(()=>!0)){this.binders={},this._buffers=[];const L=[];for(const z in c.paint._values){if(!M(z))continue;const V=c.paint.get(z);if(!(V instanceof Tt&&ya(V.property.specification)))continue;const K=bh(z,c.type),re=V.value,me=V.property.specification.type,be=V.property.useIntegerZoom,Te=V.property.specification["property-type"],Oe="cross-faded"===Te||"cross-faded-data-driven"===Te,Ve="line-dasharray"===String(z)&&"constant"!==c.layout.get("line-cap").value.kind;if("constant"!==re.kind||Ve)if("source"===re.kind||Ve||Oe){const et=Pu(z,me,"source");this.binders[z]=Oe?new Mr(re,K,me,be,y,et,c.id):new xa(re,K,me,et),L.push(`/a_${z}`)}else{const et=Pu(z,me,"composite");this.binders[z]=new qc(re,K,me,be,y,et),L.push(`/z_${z}`)}else this.binders[z]=Oe?new Lu(re.value,K):new Bp(re.value,K,me),L.push(`/u_${z}`)}this.cacheKey=L.sort().join("")}getMaxValue(c){const y=this.binders[c];return y instanceof xa||y instanceof qc?y.maxValue:0}populatePaintArrays(c,y,M,L,z){for(const V in this.binders){const K=this.binders[V];(K instanceof xa||K instanceof qc||K instanceof Mr)&&K.populatePaintArray(c,y,M,L,z)}}setConstantPatternPositions(c,y){for(const M in this.binders){const L=this.binders[M];L instanceof Lu&&L.setConstantPatternPositions(c,y)}}updatePaintArrays(c,y,M,L,z){let V=!1;for(const K in c){const re=y.getPositions(K);for(const me of re){const be=M.feature(me.index);for(const Te in this.binders){const Oe=this.binders[Te];if((Oe instanceof xa||Oe instanceof qc||Oe instanceof Mr)&&!0===Oe.expression.isStateDependent){const Ve=L.paint.get(Te);Oe.expression=Ve.value,Oe.updatePaintArray(me.start,me.end,be,c[K],z),V=!0}}}}return V}defines(){const c=[];for(const y in this.binders){const M=this.binders[y];(M instanceof Bp||M instanceof Lu)&&c.push(...M.uniformNames.map(L=>`#define HAS_UNIFORM_${L}`))}return c}getBinderAttributes(){const c=[];for(const y in this.binders){const M=this.binders[y];if(M instanceof xa||M instanceof qc||M instanceof Mr)for(let L=0;L<M.paintVertexAttributes.length;L++)c.push(M.paintVertexAttributes[L].name)}return c}getBinderUniforms(){const c=[];for(const y in this.binders){const M=this.binders[y];if(M instanceof Bp||M instanceof Lu||M instanceof qc)for(const L of M.uniformNames)c.push(L)}return c}getPaintVertexBuffers(){return this._buffers}getUniforms(c,y){const M=[];for(const L in this.binders){const z=this.binders[L];if(z instanceof Bp||z instanceof Lu||z instanceof qc)for(const V of z.uniformNames)if(y[V]){const K=z.getBinding(c,y[V],V);M.push({name:V,property:L,binding:K})}}return M}setUniforms(c,y,M,L){for(const{name:z,property:V,binding:K}of y)this.binders[V].setUniform(K,L,M.get(V),z)}updatePaintBuffers(c){this._buffers=[];for(const y in this.binders){const M=this.binders[y];if(c&&M instanceof Mr){const L=2===c.fromScale?M.zoomInPaintVertexBuffer:M.zoomOutPaintVertexBuffer;L&&this._buffers.push(L)}else(M instanceof xa||M instanceof qc)&&M.paintVertexBuffer&&this._buffers.push(M.paintVertexBuffer)}}upload(c){for(const y in this.binders){const M=this.binders[y];(M instanceof xa||M instanceof qc||M instanceof Mr)&&M.upload(c)}this.updatePaintBuffers()}destroy(){for(const c in this.binders){const y=this.binders[c];(y instanceof xa||y instanceof qc||y instanceof Mr)&&y.destroy()}}}class Kh{constructor(c,y,M=(()=>!0)){this.programConfigurations={};for(const L of c)this.programConfigurations[L.id]=new vh(L,y,M);this.needsUpload=!1,this._featureMap=new ls,this._bufferOffset=0}populatePaintArrays(c,y,M,L,z,V){for(const K in this.programConfigurations)this.programConfigurations[K].populatePaintArrays(c,y,L,z,V);void 0!==y.id&&this._featureMap.add(y.id,M,this._bufferOffset,c),this._bufferOffset=c,this.needsUpload=!0}updatePaintArrays(c,y,M,L){for(const z of M)this.needsUpload=this.programConfigurations[z.id].updatePaintArrays(c,this._featureMap,y,z,L)||this.needsUpload}get(c){return this.programConfigurations[c]}upload(c){if(this.needsUpload){for(const y in this.programConfigurations)this.programConfigurations[y].upload(c);this.needsUpload=!1}}destroy(){for(const c in this.programConfigurations)this.programConfigurations[c].destroy()}}const Yp={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"line-dasharray":["dash_to","dash_from"]};function bh(_,c){return Yp[_]||[_.replace(`${c}-`,"").replace(/-/g,"_")]}const Hp={"line-pattern":{source:Cr,composite:Cr},"fill-pattern":{source:Cr,composite:Cr},"fill-extrusion-pattern":{source:Cr,composite:Cr},"line-dasharray":{source:ks,composite:ks}},dy={color:{source:ys,composite:Vo},number:{source:fo,composite:ys}};function Pu(_,c,y){const M=Hp[_];return M&&M[y]||dy[c][y]}Ci("ConstantBinder",Bp),Ci("CrossFadedConstantBinder",Lu),Ci("SourceExpressionBinder",xa),Ci("CrossFadedCompositeBinder",Mr),Ci("CompositeExpressionBinder",qc),Ci("ProgramConfiguration",vh,{omit:["_buffers"]}),Ci("ProgramConfigurationSet",Kh);const Sm="-transition";class Ic extends f{constructor(c,y){if(super(),this.id=c.id,this.type=c.type,this._featureFilter={filter:()=>!0,needGeometry:!1},"custom"!==c.type&&(this.metadata=(c=c).metadata,this.minzoom=c.minzoom,this.maxzoom=c.maxzoom,"background"!==c.type&&"sky"!==c.type&&(this.source=c.source,this.sourceLayer=c["source-layer"],this.filter=c.filter),y.layout&&(this._unevaluatedLayout=new wt(y.layout)),y.paint)){this._transitionablePaint=new xt(y.paint);for(const M in c.paint)this.setPaintProperty(M,c.paint[M],{validate:!1});for(const M in c.layout)this.setLayoutProperty(M,c.layout[M],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Vt(y.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(c){return"visibility"===c?this.visibility:this._unevaluatedLayout.getValue(c)}setLayoutProperty(c,y,M={}){null!=y&&this._validate(Rf,`layers.${this.id}.layout.${c}`,c,y,M)||("visibility"!==c?this._unevaluatedLayout.setValue(c,y):this.visibility=y)}getPaintProperty(c){return mn(c,Sm)?this._transitionablePaint.getTransition(c.slice(0,-Sm.length)):this._transitionablePaint.getValue(c)}setPaintProperty(c,y,M={}){if(null!=y&&this._validate(Bd,`layers.${this.id}.paint.${c}`,c,y,M))return!1;if(mn(c,Sm))return this._transitionablePaint.setTransition(c.slice(0,-Sm.length),y||void 0),!1;{const L=this._transitionablePaint._values[c],z="cross-faded-data-driven"===L.property.specification["property-type"],V=L.value.isDataDriven(),K=L.value;this._transitionablePaint.setValue(c,y),this._handleSpecialPaintPropertyUpdate(c);const re=this._transitionablePaint._values[c].value;return re.isDataDriven()||V||z||this._handleOverridablePaintPropertyUpdate(c,K,re)}}_handleSpecialPaintPropertyUpdate(c){}getProgramIds(){return null}getProgramConfiguration(c){return null}_handleOverridablePaintPropertyUpdate(c,y,M){return!1}isHidden(c){return!!(this.minzoom&&c<this.minzoom)||!!(this.maxzoom&&c>=this.maxzoom)||"none"===this.visibility}updateTransitions(c){this._transitioningPaint=this._transitionablePaint.transitioned(c,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(c,y){c.getCrossfadeParameters&&(this._crossfadeParameters=c.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(c,void 0,y)),this.paint=this._transitioningPaint.possiblyEvaluate(c,void 0,y)}serialize(){const c={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(c.layout=c.layout||{},c.layout.visibility=this.visibility),vn(c,(y,M)=>!(void 0===y||"layout"===M&&!Object.keys(y).length||"paint"===M&&!Object.keys(y).length))}_validate(c,y,M,L,z={}){return(!z||!1!==z.validate)&&Xh(this,c.call(Zc,{key:y,layerType:this.type,objectKey:M,value:L,styleSpec:b,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isSky(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const c in this.paint._values){const y=this.paint.get(c);if(y instanceof Tt&&ya(y.property.specification)&&("source"===y.value.kind||"composite"===y.value.kind)&&y.value.isStateDependent)return!0}return!1}}const i_=Xn([{name:"a_pos",components:2,type:"Int16"}],4),{members:hy}=i_;class El{constructor(c=[]){this.segments=c}prepareSegment(c,y,M,L){let z=this.segments[this.segments.length-1];return c>El.MAX_VERTEX_ARRAY_LENGTH&&Vi(`Max vertices per segment is ${El.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${c}`),(!z||z.vertexLength+c>El.MAX_VERTEX_ARRAY_LENGTH||z.sortKey!==L)&&(z={vertexOffset:y.length,primitiveOffset:M.length,vertexLength:0,primitiveLength:0},void 0!==L&&(z.sortKey=L),this.segments.push(z)),z}get(){return this.segments}destroy(){for(const c of this.segments)for(const y in c.vaos)c.vaos[y].destroy()}static simpleSegment(c,y,M,L){return new El([{vertexOffset:c,primitiveOffset:y,vertexLength:M,primitiveLength:L,vaos:{},sortKey:0}])}}El.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Ci("SegmentVector",El);var Fr=8192;const cd=Math.pow(2,14)-1,_s=-cd-1;function Vp(_){const c=Fr/_.extent,y=_.loadGeometry();for(let M=0;M<y.length;M++){const L=y[M];for(let z=0;z<L.length;z++){const V=L[z],K=Math.round(V.x*c),re=Math.round(V.y*c);V.x=Wt(K,_s,cd),V.y=Wt(re,_s,cd),(K<V.x||K>V.x+1||re<V.y||re>V.y+1)&&Vi("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return y}function pu(_,c){return{type:_.type,id:_.id,properties:_.properties,geometry:c?Vp(_):[]}}function Yd(_,c,y,M,L){_.emplaceBack(2*c+(M+1)/2,2*y+(L+1)/2)}class Zl{constructor(c){this.zoom=c.zoom,this.overscaling=c.overscaling,this.layers=c.layers,this.layerIds=this.layers.map(y=>y.id),this.index=c.index,this.hasPattern=!1,this.layoutVertexArray=new Pi,this.indexArray=new Us,this.segments=new El,this.programConfigurations=new Kh(c.layers,c.zoom),this.stateDependentLayerIds=this.layers.filter(y=>y.isStateDependent()).map(y=>y.id)}populate(c,y,M){const L=this.layers[0],z=[];let V=null;"circle"===L.type&&(V=L.layout.get("circle-sort-key"));for(const{feature:K,id:re,index:me,sourceLayerIndex:be}of c){const Te=this.layers[0]._featureFilter.needGeometry,Oe=pu(K,Te);if(!this.layers[0]._featureFilter.filter(new Qe(this.zoom),Oe,M))continue;const Ve=V?V.evaluate(Oe,{},M):void 0,et={id:re,properties:K.properties,type:K.type,sourceLayerIndex:be,index:me,geometry:Te?Oe.geometry:Vp(K),patterns:{},sortKey:Ve};z.push(et)}V&&z.sort((K,re)=>K.sortKey-re.sortKey);for(const K of z){const{geometry:re,index:me,sourceLayerIndex:be}=K,Te=c[me].feature;this.addFeature(K,re,me,M),y.featureIndex.insert(Te,re,me,be,this.index)}}update(c,y,M){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(c,y,this.stateDependentLayers,M)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(c){this.uploaded||(this.layoutVertexBuffer=c.createVertexBuffer(this.layoutVertexArray,hy),this.indexBuffer=c.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(c),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(c,y,M,L){for(const z of y)for(const V of z){const K=V.x,re=V.y;if(K<0||K>=Fr||re<0||re>=Fr)continue;const me=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,c.sortKey),be=me.vertexLength;Yd(this.layoutVertexArray,K,re,-1,-1),Yd(this.layoutVertexArray,K,re,1,-1),Yd(this.layoutVertexArray,K,re,1,1),Yd(this.layoutVertexArray,K,re,-1,1),this.indexArray.emplaceBack(be,be+1,be+2),this.indexArray.emplaceBack(be,be+3,be+2),me.vertexLength+=4,me.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,c,M,{},L)}}function rg(_,c){for(let y=0;y<_.length;y++)if(fl(c,_[y]))return!0;for(let y=0;y<c.length;y++)if(fl(_,c[y]))return!0;return!!xh(_,c)}function fu(_,c,y){return!!fl(_,c)||!!km(c,_,y)}function Hd(_,c){if(1===_.length)return pl(c,_[0]);for(let y=0;y<c.length;y++){const M=c[y];for(let L=0;L<M.length;L++)if(fl(_,M[L]))return!0}for(let y=0;y<_.length;y++)if(pl(c,_[y]))return!0;for(let y=0;y<c.length;y++)if(xh(_,c[y]))return!0;return!1}function Gl(_,c,y){if(_.length>1){if(xh(_,c))return!0;for(let M=0;M<c.length;M++)if(km(c[M],_,y))return!0}for(let M=0;M<_.length;M++)if(km(_[M],c,y))return!0;return!1}function xh(_,c){if(0===_.length||0===c.length)return!1;for(let y=0;y<_.length-1;y++){const M=_[y],L=_[y+1];for(let z=0;z<c.length-1;z++)if(wh(M,L,c[z],c[z+1]))return!0}return!1}function wh(_,c,y,M){return fi(_,y,M)!==fi(c,y,M)&&fi(_,c,y)!==fi(_,c,M)}function km(_,c,y){const M=y*y;if(1===c.length)return _.distSqr(c[0])<M;for(let L=1;L<c.length;L++)if(py(_,c[L-1],c[L])<M)return!0;return!1}function py(_,c,y){const M=c.distSqr(y);if(0===M)return _.distSqr(c);const L=((_.x-c.x)*(y.x-c.x)+(_.y-c.y)*(y.y-c.y))/M;return _.distSqr(L<0?c:L>1?y:y.sub(c)._mult(L)._add(c))}function pl(_,c){let y,M,L,z=!1;for(let V=0;V<_.length;V++){y=_[V];for(let K=0,re=y.length-1;K<y.length;re=K++)M=y[K],L=y[re],M.y>c.y!=L.y>c.y&&c.x<(L.x-M.x)*(c.y-M.y)/(L.y-M.y)+M.x&&(z=!z)}return z}function fl(_,c){let y=!1;for(let M=0,L=_.length-1;M<_.length;L=M++){const z=_[M],V=_[L];z.y>c.y!=V.y>c.y&&c.x<(V.x-z.x)*(c.y-z.y)/(V.y-z.y)+z.x&&(y=!y)}return y}function Bf(_,c,y,M,L){for(const V of _)if(c<=V.x&&y<=V.y&&M>=V.x&&L>=V.y)return!0;const z=[new Me(c,y),new Me(c,L),new Me(M,L),new Me(M,y)];if(_.length>2)for(const V of z)if(fl(_,V))return!0;for(let V=0;V<_.length-1;V++)if(Em(_[V],_[V+1],z))return!0;return!1}function Em(_,c,y){const M=y[0],L=y[2];if(_.x<M.x&&c.x<M.x||_.x>L.x&&c.x>L.x||_.y<M.y&&c.y<M.y||_.y>L.y&&c.y>L.y)return!1;const z=fi(_,c,y[0]);return z!==fi(_,c,y[1])||z!==fi(_,c,y[2])||z!==fi(_,c,y[3])}function Yf(_,c,y){const M=c.paint.get(_).value;return"constant"===M.kind?M.value:y.programConfigurations.get(c.id).getMaxValue(_)}function Dm(_){return Math.sqrt(_[0]*_[0]+_[1]*_[1])}function Am(_,c,y,M,L){if(!c[0]&&!c[1])return _;const z=Me.convert(c)._mult(L);"viewport"===y&&z._rotate(-M);const V=[];for(let K=0;K<_.length;K++)V.push(_[K].sub(z));return V}function sg(_,c,y,M){const L=Me.convert(_)._mult(M);return"viewport"===c&&L._rotate(-y),L}Ci("CircleBucket",Zl,{omit:["layers"]});const r_=new It({"circle-sort-key":new Dt(b.layout_circle["circle-sort-key"])});var Lc={paint:new It({"circle-radius":new Dt(b.paint_circle["circle-radius"]),"circle-color":new Dt(b.paint_circle["circle-color"]),"circle-blur":new Dt(b.paint_circle["circle-blur"]),"circle-opacity":new Dt(b.paint_circle["circle-opacity"]),"circle-translate":new St(b.paint_circle["circle-translate"]),"circle-translate-anchor":new St(b.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new St(b.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new St(b.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Dt(b.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Dt(b.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Dt(b.paint_circle["circle-stroke-opacity"])}),layout:r_},da="undefined"!=typeof Float32Array?Float32Array:Array;function Hf(){var _=new da(9);return da!=Float32Array&&(_[1]=0,_[2]=0,_[3]=0,_[5]=0,_[6]=0,_[7]=0),_[0]=1,_[4]=1,_[8]=1,_}function Ra(_){return _[0]=1,_[1]=0,_[2]=0,_[3]=0,_[4]=0,_[5]=1,_[6]=0,_[7]=0,_[8]=0,_[9]=0,_[10]=1,_[11]=0,_[12]=0,_[13]=0,_[14]=0,_[15]=1,_}function es(_,c,y){var M=c[0],L=c[1],z=c[2],V=c[3],K=c[4],re=c[5],me=c[6],be=c[7],Te=c[8],Oe=c[9],Ve=c[10],et=c[11],_t=c[12],At=c[13],Ht=c[14],sn=c[15],an=y[0],dn=y[1],xn=y[2],bn=y[3];return _[0]=an*M+dn*K+xn*Te+bn*_t,_[1]=an*L+dn*re+xn*Oe+bn*At,_[2]=an*z+dn*me+xn*Ve+bn*Ht,_[3]=an*V+dn*be+xn*et+bn*sn,_[4]=(an=y[4])*M+(dn=y[5])*K+(xn=y[6])*Te+(bn=y[7])*_t,_[5]=an*L+dn*re+xn*Oe+bn*At,_[6]=an*z+dn*me+xn*Ve+bn*Ht,_[7]=an*V+dn*be+xn*et+bn*sn,_[8]=(an=y[8])*M+(dn=y[9])*K+(xn=y[10])*Te+(bn=y[11])*_t,_[9]=an*L+dn*re+xn*Oe+bn*At,_[10]=an*z+dn*me+xn*Ve+bn*Ht,_[11]=an*V+dn*be+xn*et+bn*sn,_[12]=(an=y[12])*M+(dn=y[13])*K+(xn=y[14])*Te+(bn=y[15])*_t,_[13]=an*L+dn*re+xn*Oe+bn*At,_[14]=an*z+dn*me+xn*Ve+bn*Ht,_[15]=an*V+dn*be+xn*et+bn*sn,_}Math.hypot||(Math.hypot=function(){for(var _=0,c=arguments.length;c--;)_+=arguments[c]*arguments[c];return Math.sqrt(_)});var Dl=es;function Up(){var _=new da(3);return da!=Float32Array&&(_[0]=0,_[1]=0,_[2]=0),_}function Ds(_){return Math.hypot(_[0],_[1],_[2])}function Ch(_,c,y){var M=new da(3);return M[0]=_,M[1]=c,M[2]=y,M}function Vf(_,c,y){return _[0]=c[0]-y[0],_[1]=c[1]-y[1],_[2]=c[2]-y[2],_}function Vd(_,c,y){return _[0]=c[0]*y[0],_[1]=c[1]*y[1],_[2]=c[2]*y[2],_}function Ou(_,c,y,M){return _[0]=c[0]+y[0]*M,_[1]=c[1]+y[1]*M,_[2]=c[2]+y[2]*M,_}function Im(_,c){var y=c[0],M=c[1],L=c[2],z=y*y+M*M+L*L;return z>0&&(z=1/Math.sqrt(z)),_[0]=c[0]*z,_[1]=c[1]*z,_[2]=c[2]*z,_}function cf(_,c,y){var M=y[0],L=y[1],z=y[2],V=c[0],K=c[1],re=c[2],me=L*re-z*K,be=z*V-M*re,Te=M*K-L*V,Oe=L*Te-z*be,Ve=z*me-M*Te,et=M*be-L*me,_t=2*y[3];return be*=_t,Te*=_t,Ve*=2,et*=2,_[0]=V+(me*=_t)+(Oe*=2),_[1]=K+be+Ve,_[2]=re+Te+et,_}var ep,uf=Vf,fy=Vd,Lm=Ds;function tp(_,c,y){var M=c[0],L=c[1],z=c[2],V=c[3];return _[0]=y[0]*M+y[4]*L+y[8]*z+y[12]*V,_[1]=y[1]*M+y[5]*L+y[9]*z+y[13]*V,_[2]=y[2]*M+y[6]*L+y[10]*z+y[14]*V,_[3]=y[3]*M+y[7]*L+y[11]*z+y[15]*V,_}function ud(){var _=new da(4);return da!=Float32Array&&(_[0]=0,_[1]=0,_[2]=0),_[3]=1,_}function Wl(_){return _[0]=0,_[1]=0,_[2]=0,_[3]=1,_}function np(_,c,y){y*=.5;var M=c[0],L=c[1],z=c[2],V=c[3],K=Math.sin(y),re=Math.cos(y);return _[0]=M*re+V*K,_[1]=L*re+z*K,_[2]=z*re-L*K,_[3]=V*re-M*K,_}function df(_,c,y){const M=tp([],[_.x,_.y,c,1],y);return new Me(M[0]/M[3],M[1]/M[3])}Up(),ep=new da(4),da!=Float32Array&&(ep[0]=0,ep[1]=0,ep[2]=0,ep[3]=0),Up(),Ch(1,0,0),Ch(0,1,0),ud(),ud(),Hf();const Pm=Ch(0,0,0),Wa=Ch(0,0,1);function Uf(_,c){const y=Up();return Pm[2]=c,_.intersectsPlane(Pm,Wa,y),new Me(y[0],y[1])}class jf extends Zl{}function dd(_,{width:c,height:y},M,L){if(L){if(L instanceof Uint8ClampedArray)L=new Uint8Array(L.buffer);else if(L.length!==c*y*M)throw new RangeError("mismatched image size")}else L=new Uint8Array(c*y*M);return _.width=c,_.height=y,_.data=L,_}function Ru(_,{width:c,height:y},M){if(c===_.width&&y===_.height)return;const L=dd({},{width:c,height:y},M);Zf(_,L,{x:0,y:0},{x:0,y:0},{width:Math.min(_.width,c),height:Math.min(_.height,y)},M),_.width=c,_.height=y,_.data=L.data}function Zf(_,c,y,M,L,z){if(0===L.width||0===L.height)return c;if(L.width>_.width||L.height>_.height||y.x>_.width-L.width||y.y>_.height-L.height)throw new RangeError("out of range source coordinates for image copy");if(L.width>c.width||L.height>c.height||M.x>c.width-L.width||M.y>c.height-L.height)throw new RangeError("out of range destination coordinates for image copy");const V=_.data,K=c.data;for(let re=0;re<L.height;re++){const me=((y.y+re)*_.width+y.x)*z,be=((M.y+re)*c.width+M.x)*z;for(let Te=0;Te<L.width*z;Te++)K[be+Te]=V[me+Te]}return c}Ci("HeatmapBucket",jf,{omit:["layers"]});class ip{constructor(c,y){dd(this,c,1,y)}resize(c){Ru(this,c,1)}clone(){return new ip({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(c,y,M,L,z){Zf(c,y,M,L,z,1)}}class uc{constructor(c,y){dd(this,c,4,y)}resize(c){Ru(this,c,4)}replace(c,y){y?this.data.set(c):this.data=c instanceof Uint8ClampedArray?new Uint8Array(c.buffer):c}clone(){return new uc({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(c,y,M,L,z){Zf(c,y,M,L,z,4)}}Ci("AlphaImage",ip),Ci("RGBAImage",uc);var s_={paint:new It({"heatmap-radius":new Dt(b.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Dt(b.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new St(b.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Nn(b.paint_heatmap["heatmap-color"]),"heatmap-opacity":new St(b.paint_heatmap["heatmap-opacity"])})};function Fu(_){const c={},y=_.resolution||256,M=_.clips?_.clips.length:1,L=_.image||new uc({width:y,height:M}),z=(V,K,re)=>{c[_.evaluationKey]=re;const me=_.expression.evaluate(c);L.data[V+K+0]=Math.floor(255*me.r/me.a),L.data[V+K+1]=Math.floor(255*me.g/me.a),L.data[V+K+2]=Math.floor(255*me.b/me.a),L.data[V+K+3]=Math.floor(255*me.a)};if(_.clips)for(let V=0,K=0;V<M;++V,K+=4*y)for(let re=0,me=0;re<y;re++,me+=4){const be=re/(y-1),{start:Te,end:Oe}=_.clips[V];z(K,me,Te*(1-be)+Oe*be)}else for(let V=0,K=0;V<y;V++,K+=4)z(0,K,V/(y-1));return L}var Nu={paint:new It({"hillshade-illumination-direction":new St(b.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new St(b.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new St(b.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new St(b.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new St(b.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new St(b.paint_hillshade["hillshade-accent-color"])})};const og=Xn([{name:"a_pos",components:2,type:"Int16"}],4),{members:ag}=og;var Gf=Ud,dc=Ud;function Ud(_,c,y){y=y||2;var M,L,z,V,K,re,me,be=c&&c.length,Te=be?c[0]*y:_.length,Oe=vr(_,0,Te,y,!0),Ve=[];if(!Oe||Oe.next===Oe.prev)return Ve;if(be&&(Oe=function(_t,At,Ht,sn){var an,dn,xn,bn=[];for(an=0,dn=At.length;an<dn;an++)(xn=vr(_t,At[an]*sn,an<dn-1?At[an+1]*sn:_t.length,sn,!1))===xn.next&&(xn.steiner=!0),bn.push(jd(xn));for(bn.sort(Pc),an=0;an<bn.length;an++)lg(bn[an],Ht),Ht=zu(Ht,Ht.next);return Ht}(_,c,Oe,y)),_.length>80*y){M=z=_[0],L=V=_[1];for(var et=y;et<Te;et+=y)(K=_[et])<M&&(M=K),(re=_[et+1])<L&&(L=re),K>z&&(z=K),re>V&&(V=re);me=0!==(me=Math.max(z-M,V-L))?1/me:0}return rp(Oe,Ve,y,M,L,me),Ve}function vr(_,c,y,M,L){var z,V;if(L===Oc(_,c,y,M)>0)for(z=c;z<y;z+=M)V=_y(z,_[z],_[z+1],V);else for(z=y-M;z>=c;z-=M)V=_y(z,_[z],_[z+1],V);return V&&Wf(V,V.next)&&(qf(V),V=V.next),V}function zu(_,c){if(!_)return _;c||(c=_);var y,M=_;do{if(y=!1,M.steiner||!Wf(M,M.next)&&0!==So(M.prev,M,M.next))M=M.next;else{if(qf(M),(M=c=M.prev)===M.next)break;y=!0}}while(y||M!==c);return c}function rp(_,c,y,M,L,z,V){if(_){!V&&z&&function(be,Te,Oe,Ve){var et=be;do{null===et.z&&(et.z=cg(et.x,et.y,Te,Oe,Ve)),et.prevZ=et.prev,et.nextZ=et.next,et=et.next}while(et!==be);et.prevZ.nextZ=null,et.prevZ=null,function(_t){var At,Ht,sn,an,dn,xn,bn,Un,ei=1;do{for(Ht=_t,_t=null,dn=null,xn=0;Ht;){for(xn++,sn=Ht,bn=0,At=0;At<ei&&(bn++,sn=sn.nextZ);At++);for(Un=ei;bn>0||Un>0&&sn;)0!==bn&&(0===Un||!sn||Ht.z<=sn.z)?(an=Ht,Ht=Ht.nextZ,bn--):(an=sn,sn=sn.nextZ,Un--),dn?dn.nextZ=an:_t=an,an.prevZ=dn,dn=an;Ht=sn}dn.nextZ=null,ei*=2}while(xn>1)}(et)}(_,M,L,z);for(var K,re,me=_;_.prev!==_.next;)if(K=_.prev,re=_.next,z?my(_,M,L,z):hd(_))c.push(K.i/y),c.push(_.i/y),c.push(re.i/y),qf(_),_=re.next,me=re.next;else if((_=re)===me){V?1===V?rp(_=Om(zu(_),c,y),c,y,M,L,z,2):2===V&&sp(_,c,y,M,L,z):rp(zu(_),c,y,M,L,z,1);break}}}function hd(_){var c=_.prev,y=_,M=_.next;if(So(c,y,M)>=0)return!1;for(var L=_.next.next;L!==_.prev;){if(Mh(c.x,c.y,y.x,y.y,M.x,M.y,L.x,L.y)&&So(L.prev,L,L.next)>=0)return!1;L=L.next}return!0}function my(_,c,y,M){var L=_.prev,z=_,V=_.next;if(So(L,z,V)>=0)return!1;for(var K=L.x>z.x?L.x>V.x?L.x:V.x:z.x>V.x?z.x:V.x,re=L.y>z.y?L.y>V.y?L.y:V.y:z.y>V.y?z.y:V.y,me=cg(L.x<z.x?L.x<V.x?L.x:V.x:z.x<V.x?z.x:V.x,L.y<z.y?L.y<V.y?L.y:V.y:z.y<V.y?z.y:V.y,c,y,M),be=cg(K,re,c,y,M),Te=_.prevZ,Oe=_.nextZ;Te&&Te.z>=me&&Oe&&Oe.z<=be;){if(Te!==_.prev&&Te!==_.next&&Mh(L.x,L.y,z.x,z.y,V.x,V.y,Te.x,Te.y)&&So(Te.prev,Te,Te.next)>=0||(Te=Te.prevZ,Oe!==_.prev&&Oe!==_.next&&Mh(L.x,L.y,z.x,z.y,V.x,V.y,Oe.x,Oe.y)&&So(Oe.prev,Oe,Oe.next)>=0))return!1;Oe=Oe.nextZ}for(;Te&&Te.z>=me;){if(Te!==_.prev&&Te!==_.next&&Mh(L.x,L.y,z.x,z.y,V.x,V.y,Te.x,Te.y)&&So(Te.prev,Te,Te.next)>=0)return!1;Te=Te.prevZ}for(;Oe&&Oe.z<=be;){if(Oe!==_.prev&&Oe!==_.next&&Mh(L.x,L.y,z.x,z.y,V.x,V.y,Oe.x,Oe.y)&&So(Oe.prev,Oe,Oe.next)>=0)return!1;Oe=Oe.nextZ}return!0}function Om(_,c,y){var M=_;do{var L=M.prev,z=M.next.next;!Wf(L,z)&&pd(L,M,M.next,z)&&jp(L,z)&&jp(z,L)&&(c.push(L.i/y),c.push(M.i/y),c.push(z.i/y),qf(M),qf(M.next),M=_=z),M=M.next}while(M!==_);return zu(M)}function sp(_,c,y,M,L,z){var V=_;do{for(var K=V.next.next;K!==V.prev;){if(V.i!==K.i&&hc(V,K)){var re=ug(V,K);return V=zu(V,V.next),re=zu(re,re.next),rp(V,c,y,M,L,z),void rp(re,c,y,M,L,z)}K=K.next}V=V.next}while(V!==_)}function Pc(_,c){return _.x-c.x}function lg(_,c){if(c=function(M,L){var z,V=L,K=M.x,re=M.y,me=-1/0;do{if(re<=V.y&&re>=V.next.y&&V.next.y!==V.y){var be=V.x+(re-V.y)*(V.next.x-V.x)/(V.next.y-V.y);if(be<=K&&be>me){if(me=be,be===K){if(re===V.y)return V;if(re===V.next.y)return V.next}z=V.x<V.next.x?V:V.next}}V=V.next}while(V!==L);if(!z)return null;if(K===me)return z;var Te,Oe=z,Ve=z.x,et=z.y,_t=1/0;V=z;do{K>=V.x&&V.x>=Ve&&K!==V.x&&Mh(re<et?K:me,re,Ve,et,re<et?me:K,re,V.x,V.y)&&(Te=Math.abs(re-V.y)/(K-V.x),jp(V,M)&&(Te<_t||Te===_t&&(V.x>z.x||V.x===z.x&&gy(z,V)))&&(z=V,_t=Te)),V=V.next}while(V!==Oe);return z}(_,c)){var y=ug(c,_);zu(c,c.next),zu(y,y.next)}}function gy(_,c){return So(_.prev,_,c.prev)<0&&So(c.next,_,_.next)<0}function cg(_,c,y,M,L){return(_=1431655765&((_=858993459&((_=252645135&((_=16711935&((_=32767*(_-y)*L)|_<<8))|_<<4))|_<<2))|_<<1))|(c=1431655765&((c=858993459&((c=252645135&((c=16711935&((c=32767*(c-M)*L)|c<<8))|c<<4))|c<<2))|c<<1))<<1}function jd(_){var c=_,y=_;do{(c.x<y.x||c.x===y.x&&c.y<y.y)&&(y=c),c=c.next}while(c!==_);return y}function Mh(_,c,y,M,L,z,V,K){return(L-V)*(c-K)-(_-V)*(z-K)>=0&&(_-V)*(M-K)-(y-V)*(c-K)>=0&&(y-V)*(z-K)-(L-V)*(M-K)>=0}function hc(_,c){return _.next.i!==c.i&&_.prev.i!==c.i&&!function(y,M){var L=y;do{if(L.i!==y.i&&L.next.i!==y.i&&L.i!==M.i&&L.next.i!==M.i&&pd(L,L.next,y,M))return!0;L=L.next}while(L!==y);return!1}(_,c)&&(jp(_,c)&&jp(c,_)&&function(y,M){var L=y,z=!1,V=(y.x+M.x)/2,K=(y.y+M.y)/2;do{L.y>K!=L.next.y>K&&L.next.y!==L.y&&V<(L.next.x-L.x)*(K-L.y)/(L.next.y-L.y)+L.x&&(z=!z),L=L.next}while(L!==y);return z}(_,c)&&(So(_.prev,_,c.prev)||So(_,c.prev,c))||Wf(_,c)&&So(_.prev,_,_.next)>0&&So(c.prev,c,c.next)>0)}function So(_,c,y){return(c.y-_.y)*(y.x-c.x)-(c.x-_.x)*(y.y-c.y)}function Wf(_,c){return _.x===c.x&&_.y===c.y}function pd(_,c,y,M){var L=Rm(So(_,c,y)),z=Rm(So(_,c,M)),V=Rm(So(y,M,_)),K=Rm(So(y,M,c));return L!==z&&V!==K||!(0!==L||!ml(_,y,c))||!(0!==z||!ml(_,M,c))||!(0!==V||!ml(y,_,M))||!(0!==K||!ml(y,c,M))}function ml(_,c,y){return c.x<=Math.max(_.x,y.x)&&c.x>=Math.min(_.x,y.x)&&c.y<=Math.max(_.y,y.y)&&c.y>=Math.min(_.y,y.y)}function Rm(_){return _>0?1:_<0?-1:0}function jp(_,c){return So(_.prev,_,_.next)<0?So(_,c,_.next)>=0&&So(_,_.prev,c)>=0:So(_,c,_.prev)<0||So(_,_.next,c)<0}function ug(_,c){var y=new Bu(_.i,_.x,_.y),M=new Bu(c.i,c.x,c.y),L=_.next,z=c.prev;return _.next=c,c.prev=_,y.next=L,L.prev=y,M.next=y,y.prev=M,z.next=M,M.prev=z,M}function _y(_,c,y,M){var L=new Bu(_,c,y);return M?(L.next=M.next,L.prev=M,M.next.prev=L,M.next=L):(L.prev=L,L.next=L),L}function qf(_){_.next.prev=_.prev,_.prev.next=_.next,_.prevZ&&(_.prevZ.nextZ=_.nextZ),_.nextZ&&(_.nextZ.prevZ=_.prevZ)}function Bu(_,c,y){this.i=_,this.x=c,this.y=y,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Oc(_,c,y,M){for(var L=0,z=c,V=y-M;z<y;z+=M)L+=(_[V]-_[z])*(_[z+1]+_[V+1]),V=z;return L}function Lv(_,c,y,M,L){o_(_,c,y||0,M||_.length-1,L||Pv)}function o_(_,c,y,M,L){for(;M>y;){if(M-y>600){var z=M-y+1,V=c-y+1,K=Math.log(z),re=.5*Math.exp(2*K/3),me=.5*Math.sqrt(K*re*(z-re)/z)*(V-z/2<0?-1:1);o_(_,c,Math.max(y,Math.floor(c-V*re/z+me)),Math.min(M,Math.floor(c+(z-V)*re/z+me)),L)}var be=_[c],Te=y,Oe=M;for($f(_,y,c),L(_[M],be)>0&&$f(_,y,M);Te<Oe;){for($f(_,Te,Oe),Te++,Oe--;L(_[Te],be)<0;)Te++;for(;L(_[Oe],be)>0;)Oe--}0===L(_[y],be)?$f(_,y,Oe):$f(_,++Oe,M),Oe<=c&&(y=Oe+1),c<=Oe&&(M=Oe-1)}}function $f(_,c,y){var M=_[c];_[c]=_[y],_[y]=M}function Pv(_,c){return _<c?-1:_>c?1:0}function Yu(_,c){const y=_.length;if(y<=1)return[_];const M=[];let L,z;for(let V=0;V<y;V++){const K=Ti(_[V]);0!==K&&(_[V].area=Math.abs(K),void 0===z&&(z=K<0),z===K<0?(L&&M.push(L),L=[_[V]]):L.push(_[V]))}if(L&&M.push(L),c>1)for(let V=0;V<M.length;V++)M[V].length<=c||(Lv(M[V],c,1,M[V].length-1,dg),M[V]=M[V].slice(0,c));return M}function dg(_,c){return c.area-_.area}function Th(_,c,y){const M=y.patternDependencies;let L=!1;for(const z of c){const V=z.paint.get(`${_}-pattern`);V.isConstant()||(L=!0);const K=V.constantOr(null);K&&(L=!0,M[K.to]=!0,M[K.from]=!0)}return L}function Fm(_,c,y,M,L){const z=L.patternDependencies;for(const V of c){const K=V.paint.get(`${_}-pattern`).value;if("constant"!==K.kind){let re=K.evaluate({zoom:M-1},y,{},L.availableImages),me=K.evaluate({zoom:M},y,{},L.availableImages),be=K.evaluate({zoom:M+1},y,{},L.availableImages);re=re&&re.name?re.name:re,me=me&&me.name?me.name:me,be=be&&be.name?be.name:be,z[re]=!0,z[me]=!0,z[be]=!0,y.patterns[V.id]={min:re,mid:me,max:be}}}return y}Ud.deviation=function(_,c,y,M){var L=c&&c.length,z=Math.abs(Oc(_,0,L?c[0]*y:_.length,y));if(L)for(var V=0,K=c.length;V<K;V++)z-=Math.abs(Oc(_,c[V]*y,V<K-1?c[V+1]*y:_.length,y));var re=0;for(V=0;V<M.length;V+=3){var me=M[V]*y,be=M[V+1]*y,Te=M[V+2]*y;re+=Math.abs((_[me]-_[Te])*(_[be+1]-_[me+1])-(_[me]-_[be])*(_[Te+1]-_[me+1]))}return 0===z&&0===re?0:Math.abs((re-z)/z)},Ud.flatten=function(_){for(var c=_[0][0].length,y={vertices:[],holes:[],dimensions:c},M=0,L=0;L<_.length;L++){for(var z=0;z<_[L].length;z++)for(var V=0;V<c;V++)y.vertices.push(_[L][z][V]);L>0&&y.holes.push(M+=_[L-1].length)}return y},Gf.default=dc;class fd{constructor(c){this.zoom=c.zoom,this.overscaling=c.overscaling,this.layers=c.layers,this.layerIds=this.layers.map(y=>y.id),this.index=c.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Pi,this.indexArray=new Us,this.indexArray2=new dl,this.programConfigurations=new Kh(c.layers,c.zoom),this.segments=new El,this.segments2=new El,this.stateDependentLayerIds=this.layers.filter(y=>y.isStateDependent()).map(y=>y.id)}populate(c,y,M){this.hasPattern=Th("fill",this.layers,y);const L=this.layers[0].layout.get("fill-sort-key"),z=[];for(const{feature:V,id:K,index:re,sourceLayerIndex:me}of c){const be=this.layers[0]._featureFilter.needGeometry,Te=pu(V,be);if(!this.layers[0]._featureFilter.filter(new Qe(this.zoom),Te,M))continue;const Oe=L?L.evaluate(Te,{},M,y.availableImages):void 0,Ve={id:K,properties:V.properties,type:V.type,sourceLayerIndex:me,index:re,geometry:be?Te.geometry:Vp(V),patterns:{},sortKey:Oe};z.push(Ve)}L&&z.sort((V,K)=>V.sortKey-K.sortKey);for(const V of z){const{geometry:K,index:re,sourceLayerIndex:me}=V;if(this.hasPattern){const be=Fm("fill",this.layers,V,this.zoom,y);this.patternFeatures.push(be)}else this.addFeature(V,K,re,M,{});y.featureIndex.insert(c[re].feature,K,re,me,this.index)}}update(c,y,M){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(c,y,this.stateDependentLayers,M)}addFeatures(c,y,M){for(const L of this.patternFeatures)this.addFeature(L,L.geometry,L.index,y,M)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(c){this.uploaded||(this.layoutVertexBuffer=c.createVertexBuffer(this.layoutVertexArray,ag),this.indexBuffer=c.createIndexBuffer(this.indexArray),this.indexBuffer2=c.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(c),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(c,y,M,L,z){for(const V of Yu(y,500)){let K=0;for(const Ve of V)K+=Ve.length;const re=this.segments.prepareSegment(K,this.layoutVertexArray,this.indexArray),me=re.vertexLength,be=[],Te=[];for(const Ve of V){if(0===Ve.length)continue;Ve!==V[0]&&Te.push(be.length/2);const et=this.segments2.prepareSegment(Ve.length,this.layoutVertexArray,this.indexArray2),_t=et.vertexLength;this.layoutVertexArray.emplaceBack(Ve[0].x,Ve[0].y),this.indexArray2.emplaceBack(_t+Ve.length-1,_t),be.push(Ve[0].x),be.push(Ve[0].y);for(let At=1;At<Ve.length;At++)this.layoutVertexArray.emplaceBack(Ve[At].x,Ve[At].y),this.indexArray2.emplaceBack(_t+At-1,_t+At),be.push(Ve[At].x),be.push(Ve[At].y);et.vertexLength+=Ve.length,et.primitiveLength+=Ve.length}const Oe=Gf(be,Te);for(let Ve=0;Ve<Oe.length;Ve+=3)this.indexArray.emplaceBack(me+Oe[Ve],me+Oe[Ve+1],me+Oe[Ve+2]);re.vertexLength+=K,re.primitiveLength+=Oe.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,c,M,z,L)}}Ci("FillBucket",fd,{omit:["layers","patternFeatures"]});const Zd=new It({"fill-sort-key":new Dt(b.layout_fill["fill-sort-key"])});var Hu={paint:new It({"fill-antialias":new St(b.paint_fill["fill-antialias"]),"fill-opacity":new Dt(b.paint_fill["fill-opacity"]),"fill-color":new Dt(b.paint_fill["fill-color"]),"fill-outline-color":new Dt(b.paint_fill["fill-outline-color"]),"fill-translate":new St(b.paint_fill["fill-translate"]),"fill-translate-anchor":new St(b.paint_fill["fill-translate-anchor"]),"fill-pattern":new kn(b.paint_fill["fill-pattern"])}),layout:Zd};const hg=Xn([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),Sh=Xn([{name:"a_centroid_pos",components:2,type:"Uint16"}]),{members:pg}=hg;var Qf=Xf;function Xf(_,c,y,M,L){this.properties={},this.extent=y,this.type=0,this._pbf=_,this._geometry=-1,this._keys=M,this._values=L,_.readFields($c,this,c)}function $c(_,c,y){1==_?c.id=y.readVarint():2==_?function(M,L){for(var z=M.readVarint()+M.pos;M.pos<z;){var V=L._keys[M.readVarint()],K=L._values[M.readVarint()];L.properties[V]=K}}(y,c):3==_?c.type=y.readVarint():4==_&&(c._geometry=y.pos)}function Vu(_){for(var c,y,M=0,L=0,z=_.length,V=z-1;L<z;V=L++)M+=((y=_[V]).x-(c=_[L]).x)*(c.y+y.y);return M}Xf.types=["Unknown","Point","LineString","Polygon"],Xf.prototype.loadGeometry=function(){var _=this._pbf;_.pos=this._geometry;for(var c,y=_.readVarint()+_.pos,M=1,L=0,z=0,V=0,K=[];_.pos<y;){if(L<=0){var re=_.readVarint();M=7&re,L=re>>3}if(L--,1===M||2===M)z+=_.readSVarint(),V+=_.readSVarint(),1===M&&(c&&K.push(c),c=[]),c.push(new Me(z,V));else{if(7!==M)throw new Error("unknown command "+M);c&&c.push(c[0].clone())}}return c&&K.push(c),K},Xf.prototype.bbox=function(){var _=this._pbf;_.pos=this._geometry;for(var c=_.readVarint()+_.pos,y=1,M=0,L=0,z=0,V=1/0,K=-1/0,re=1/0,me=-1/0;_.pos<c;){if(M<=0){var be=_.readVarint();y=7&be,M=be>>3}if(M--,1===y||2===y)(L+=_.readSVarint())<V&&(V=L),L>K&&(K=L),(z+=_.readSVarint())<re&&(re=z),z>me&&(me=z);else if(7!==y)throw new Error("unknown command "+y)}return[V,re,K,me]},Xf.prototype.toGeoJSON=function(_,c,y){var M,L,z=this.extent*Math.pow(2,y),V=this.extent*_,K=this.extent*c,re=this.loadGeometry(),me=Xf.types[this.type];function be(Ve){for(var et=0;et<Ve.length;et++){var _t=Ve[et];Ve[et]=[360*(_t.x+V)/z-180,360/Math.PI*Math.atan(Math.exp((180-360*(_t.y+K)/z)*Math.PI/180))-90]}}switch(this.type){case 1:var Te=[];for(M=0;M<re.length;M++)Te[M]=re[M][0];be(re=Te);break;case 2:for(M=0;M<re.length;M++)be(re[M]);break;case 3:for(re=function(Ve){var et=Ve.length;if(et<=1)return[Ve];for(var _t,At,Ht=[],sn=0;sn<et;sn++){var an=Vu(Ve[sn]);0!==an&&(void 0===At&&(At=an<0),At===an<0?(_t&&Ht.push(_t),_t=[Ve[sn]]):_t.push(Ve[sn]))}return _t&&Ht.push(_t),Ht}(re),M=0;M<re.length;M++)for(L=0;L<re[M].length;L++)be(re[M][L])}1===re.length?re=re[0]:me="Multi"+me;var Oe={type:"Feature",geometry:{type:me,coordinates:re},properties:this.properties};return"id"in this&&(Oe.id=this.id),Oe};var hf=fg;function fg(_,c){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=_,this._keys=[],this._values=[],this._features=[],_.readFields(mg,this,c),this.length=this._features.length}function mg(_,c,y){15===_?c.version=y.readVarint():1===_?c.name=y.readString():5===_?c.extent=y.readVarint():2===_?c._features.push(y.pos):3===_?c._keys.push(y.readString()):4===_&&c._values.push(function(M){for(var L=null,z=M.readVarint()+M.pos;M.pos<z;){var V=M.readVarint()>>3;L=1===V?M.readString():2===V?M.readFloat():3===V?M.readDouble():4===V?M.readVarint64():5===V?M.readVarint():6===V?M.readSVarint():7===V?M.readBoolean():null}return L}(y))}function Ov(_,c,y){if(3===_){var M=new hf(y,y.readVarint()+y.pos);M.length&&(c[M.name]=M)}}fg.prototype.feature=function(_){if(_<0||_>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[_];var c=this._pbf.readVarint()+this._pbf.pos;return new Qf(this._pbf,c,this.extent,this._keys,this._values)};var pf={VectorTile:function(_,c){this.layers=_.readFields(Ov,{},c)},VectorTileFeature:Qf,VectorTileLayer:hf};const a_=pf.VectorTileFeature.types,md=Math.pow(2,13);function Jf(_,c,y,M,L,z,V,K){_.emplaceBack((c<<1)+V,(y<<1)+z,(Math.floor(M*md)<<1)+L,Math.round(K))}class l_{constructor(){this.acc=new Me(0,0),this.polyCount=[]}startRing(c){this.currentPolyCount={edges:0,top:0},this.polyCount.push(this.currentPolyCount),this.min||(this.min=new Me(c.x,c.y),this.max=new Me(c.x,c.y))}append(c,y){this.currentPolyCount.edges++,this.acc._add(c);let M=!!this.borders;const L=this.min,z=this.max;c.x<L.x?(L.x=c.x,M=!0):c.x>z.x&&(z.x=c.x,M=!0),c.y<L.y?(L.y=c.y,M=!0):c.y>z.y&&(z.y=c.y,M=!0),((0===c.x||c.x===Fr)&&c.x===y.x)!=((0===c.y||c.y===Fr)&&c.y===y.y)&&this.processBorderOverlap(c,y),M&&this.checkBorderIntersection(c,y)}checkBorderIntersection(c,y){y.x<0!=c.x<0&&this.addBorderIntersection(0,mi(y.y,c.y,(0-y.x)/(c.x-y.x))),y.x>Fr!=c.x>Fr&&this.addBorderIntersection(1,mi(y.y,c.y,(Fr-y.x)/(c.x-y.x))),y.y<0!=c.y<0&&this.addBorderIntersection(2,mi(y.x,c.x,(0-y.y)/(c.y-y.y))),y.y>Fr!=c.y>Fr&&this.addBorderIntersection(3,mi(y.x,c.x,(Fr-y.y)/(c.y-y.y)))}addBorderIntersection(c,y){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const M=this.borders[c];y<M[0]&&(M[0]=y),y>M[1]&&(M[1]=y)}processBorderOverlap(c,y){if(c.x===y.x){if(c.y===y.y)return;const M=0===c.x?0:1;this.addBorderIntersection(M,y.y),this.addBorderIntersection(M,c.y)}else{const M=0===c.y?2:3;this.addBorderIntersection(M,y.x),this.addBorderIntersection(M,c.x)}}centroid(){const c=this.polyCount.reduce((y,M)=>y+M.edges,0);return 0!==c?this.acc.div(c)._round():new Me(0,0)}span(){return new Me(this.max.x-this.min.x,this.max.y-this.min.y)}intersectsCount(){return this.borders.reduce((c,y)=>c+ +(y[0]!==Number.MAX_VALUE),0)}}class ff{constructor(c){this.zoom=c.zoom,this.overscaling=c.overscaling,this.layers=c.layers,this.layerIds=this.layers.map(y=>y.id),this.index=c.index,this.hasPattern=!1,this.layoutVertexArray=new Jr,this.centroidVertexArray=new le,this.indexArray=new Us,this.programConfigurations=new Kh(c.layers,c.zoom),this.segments=new El,this.stateDependentLayerIds=this.layers.filter(y=>y.isStateDependent()).map(y=>y.id),this.enableTerrain=c.enableTerrain}populate(c,y,M){this.features=[],this.hasPattern=Th("fill-extrusion",this.layers,y),this.featuresOnBorder=[],this.borders=[[],[],[],[]],this.borderDone=[!1,!1,!1,!1],this.tileToMeter=function(L){const z=Math.exp(Math.PI*(1-L.y/(1<<L.z)*2));return 80150034*z/(z*z+1)/Fr/(1<<L.z)}(M);for(const{feature:L,id:z,index:V,sourceLayerIndex:K}of c){const re=this.layers[0]._featureFilter.needGeometry,me=pu(L,re);if(!this.layers[0]._featureFilter.filter(new Qe(this.zoom),me,M))continue;const be={id:z,sourceLayerIndex:K,index:V,geometry:re?me.geometry:Vp(L),properties:L.properties,type:L.type,patterns:{}},Te=this.layoutVertexArray.length;this.hasPattern?this.features.push(Fm("fill-extrusion",this.layers,be,this.zoom,y)):this.addFeature(be,be.geometry,V,M,{}),y.featureIndex.insert(L,be.geometry,V,K,this.index,Te)}this.sortBorders()}addFeatures(c,y,M){for(const L of this.features){const{geometry:z}=L;this.addFeature(L,z,L.index,y,M)}this.sortBorders()}update(c,y,M){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(c,y,this.stateDependentLayers,M)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(c){this.uploaded||(this.layoutVertexBuffer=c.createVertexBuffer(this.layoutVertexArray,pg),this.indexBuffer=c.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(c),this.uploaded=!0}uploadCentroid(c){0!==this.centroidVertexArray.length&&(this.centroidVertexBuffer?this.needsCentroidUpdate&&this.centroidVertexBuffer.updateData(this.centroidVertexArray):this.centroidVertexBuffer=c.createVertexBuffer(this.centroidVertexArray,Sh.members,!0),this.needsCentroidUpdate=!1)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(c,y,M,L,z){const V=this.enableTerrain?new l_:null;for(const re of Yu(y,500)){let me=0,be=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);if(0===re.length||(K=re[0]).every(_t=>_t.x<=0)||K.every(_t=>_t.x>=Fr)||K.every(_t=>_t.y<=0)||K.every(_t=>_t.y>=Fr))continue;for(let _t=0;_t<re.length;_t++){const At=re[_t];if(0===At.length)continue;me+=At.length;let Ht=0;V&&V.startRing(At[0]);for(let sn=0;sn<At.length;sn++){const an=At[sn];if(sn>=1){const dn=At[sn-1];if(!Kf(an,dn)){V&&V.append(an,dn),be.vertexLength+4>El.MAX_VERTEX_ARRAY_LENGTH&&(be=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const xn=an.sub(dn)._perp(),bn=xn.x/(Math.abs(xn.x)+Math.abs(xn.y)),Un=xn.y>0?1:0,ei=dn.dist(an);Ht+ei>32768&&(Ht=0),Jf(this.layoutVertexArray,an.x,an.y,bn,Un,0,0,Ht),Jf(this.layoutVertexArray,an.x,an.y,bn,Un,0,1,Ht),Ht+=ei,Jf(this.layoutVertexArray,dn.x,dn.y,bn,Un,0,0,Ht),Jf(this.layoutVertexArray,dn.x,dn.y,bn,Un,0,1,Ht);const Zn=be.vertexLength;this.indexArray.emplaceBack(Zn,Zn+2,Zn+1),this.indexArray.emplaceBack(Zn+1,Zn+2,Zn+3),be.vertexLength+=4,be.primitiveLength+=2}}}}if(be.vertexLength+me>El.MAX_VERTEX_ARRAY_LENGTH&&(be=this.segments.prepareSegment(me,this.layoutVertexArray,this.indexArray)),"Polygon"!==a_[c.type])continue;const Te=[],Oe=[],Ve=be.vertexLength;for(let _t=0;_t<re.length;_t++){const At=re[_t];if(0!==At.length){At!==re[0]&&Oe.push(Te.length/2);for(let Ht=0;Ht<At.length;Ht++){const sn=At[Ht];Jf(this.layoutVertexArray,sn.x,sn.y,0,0,1,1,0),Te.push(sn.x),Te.push(sn.y),V&&V.currentPolyCount.top++}}}const et=Gf(Te,Oe);for(let _t=0;_t<et.length;_t+=3)this.indexArray.emplaceBack(Ve+et[_t],Ve+et[_t+2],Ve+et[_t+1]);be.primitiveLength+=et.length/3,be.vertexLength+=me}var K;if(V&&V.polyCount.length>0){if(V.borders){V.vertexArrayOffset=this.centroidVertexArray.length;const re=V.borders,me=this.featuresOnBorder.push(V)-1;for(let be=0;be<4;be++)re[be][0]!==Number.MAX_VALUE&&this.borders[be].push(me)}this.encodeCentroid(V.borders?void 0:V.centroid(),V)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,c,M,z,L)}sortBorders(){for(let c=0;c<4;c++)this.borders[c].sort((y,M)=>this.featuresOnBorder[y].borders[c][0]-this.featuresOnBorder[M].borders[c][0])}encodeCentroid(c,y,M=!0){let L,z;if(c)if(0!==c.y){const K=y.span()._mult(this.tileToMeter);L=(Math.max(c.x,1)<<3)+Math.min(7,Math.round(K.x/10)),z=(Math.max(c.y,1)<<3)+Math.min(7,Math.round(K.y/10))}else L=Math.ceil(7*(c.x+450)),z=0;else L=0,z=+M;let V=M?this.centroidVertexArray.length:y.vertexArrayOffset;for(const K of y.polyCount){M&&this.centroidVertexArray.resize(this.centroidVertexArray.length+4*K.edges+K.top);for(let re=0;re<2*K.edges;re++)this.centroidVertexArray.emplace(V++,0,z),this.centroidVertexArray.emplace(V++,L,z);for(let re=0;re<K.top;re++)this.centroidVertexArray.emplace(V++,L,z)}}}function Kf(_,c){return _.x===c.x&&(_.x<0||_.x>Fr)||_.y===c.y&&(_.y<0||_.y>Fr)}Ci("FillExtrusionBucket",ff,{omit:["layers","features"]}),Ci("PartMetadata",l_);var E={paint:new It({"fill-extrusion-opacity":new St(b["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Dt(b["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new St(b["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new St(b["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new kn(b["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Dt(b["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Dt(b["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new St(b["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})};function k(_,c){return _.x*c.x+_.y*c.y}function P(_,c){if(1===_.length){let y=0;const M=c[y++];let L;for(;!L||M.equals(L);)if(L=c[y++],!L)return 1/0;for(;y<c.length;y++){const z=c[y],V=_[0],K=L.sub(M),re=z.sub(M),me=V.sub(M),be=k(K,K),Te=k(K,re),Oe=k(re,re),Ve=k(me,K),et=k(me,re),_t=be*Oe-Te*Te,At=(Oe*Ve-Te*et)/_t,Ht=(be*et-Te*Ve)/_t,sn=M.z*(1-At-Ht)+L.z*At+z.z*Ht;if(isFinite(sn))return sn}return 1/0}{let y=1/0;for(const M of c)y=Math.min(y,M.z);return y}}function j(_){const c=new Me(_[0],_[1]);return c.z=_[2],c}function se(_,c,y,M,L,z,V,K){const re=V*L.getElevationAt(_,c,!0,!0),me=0!==z[0],be=me?0===z[1]?V*(z[0]/7-450):V*function(Te,Oe,Ve){const et=Math.floor(Oe[0]/8),_t=Math.floor(Oe[1]/8),At=10*(Oe[0]-8*et),Ht=10*(Oe[1]-8*_t),sn=Te.getElevationAt(et,_t,!0,!0),an=Te.getMeterToDEM(Ve),dn=Math.floor(.5*(At*an-1)),xn=Math.floor(.5*(Ht*an-1)),bn=Te.tileCoordToPixel(et,_t),Un=2*dn+1,ei=2*xn+1,Zn=(zr=Un,Zi=ei,[(ur=Te).getElevationAtPixel(Nr=bn.x-dn,rs=bn.y-xn,!0),ur.getElevationAtPixel(Nr+Zi,rs,!0),ur.getElevationAtPixel(Nr,rs+Zi,!0),ur.getElevationAtPixel(Nr+zr,rs+Zi,!0)]),di=Math.abs(Zn[0]-Zn[1]),Rn=Math.abs(Zn[2]-Zn[3]),Gn=Math.abs(Zn[0]-Zn[2])+Math.abs(Zn[1]-Zn[3]),ni=Math.min(.25,.5*an*(di+Rn)/Un),Pn=Math.min(.25,.5*an*Gn/ei);var ur,Nr,rs,zr,Zi;return sn+Math.max(ni*At,Pn*Ht)}(L,z,K):re;return{base:re+(0===y)?-1:y,top:me?Math.max(be+M,re+y+2):re+M}}const ye=Xn([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4),{members:Fe}=ye,it=Xn([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:ut}=it,Et=pf.VectorTileFeature.types,zt=Math.cos(Math.PI/180*37.5);class Sn{constructor(c){this.zoom=c.zoom,this.overscaling=c.overscaling,this.layers=c.layers,this.layerIds=this.layers.map(y=>y.id),this.index=c.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(y=>{this.gradients[y.id]={}}),this.layoutVertexArray=new hs,this.layoutVertexArray2=new ys,this.indexArray=new Us,this.programConfigurations=new Kh(c.layers,c.zoom),this.segments=new El,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(y=>y.isStateDependent()).map(y=>y.id)}populate(c,y,M){this.hasPattern=Th("line",this.layers,y);const L=this.layers[0].layout.get("line-sort-key"),z=[];for(const{feature:me,id:be,index:Te,sourceLayerIndex:Oe}of c){const Ve=this.layers[0]._featureFilter.needGeometry,et=pu(me,Ve);if(!this.layers[0]._featureFilter.filter(new Qe(this.zoom),et,M))continue;const _t=L?L.evaluate(et,{},M):void 0,At={id:be,properties:me.properties,type:me.type,sourceLayerIndex:Oe,index:Te,geometry:Ve?et.geometry:Vp(me),patterns:{},sortKey:_t};z.push(At)}L&&z.sort((me,be)=>me.sortKey-be.sortKey);const{lineAtlas:V,featureIndex:K}=y,re=this.addConstantDashes(V);for(const me of z){const{geometry:be,index:Te,sourceLayerIndex:Oe}=me;if(re&&this.addFeatureDashes(me,V),this.hasPattern){const Ve=Fm("line",this.layers,me,this.zoom,y);this.patternFeatures.push(Ve)}else this.addFeature(me,be,Te,M,V.positions);K.insert(c[Te].feature,be,Te,Oe,this.index)}}addConstantDashes(c){let y=!1;for(const M of this.layers){const L=M.paint.get("line-dasharray").value,z=M.layout.get("line-cap").value;if("constant"!==L.kind||"constant"!==z.kind)y=!0;else{const V=z.value,K=L.value;if(!K)continue;c.addDash(K.from,V),c.addDash(K.to,V),K.other&&c.addDash(K.other,V)}}return y}addFeatureDashes(c,y){const M=this.zoom;for(const L of this.layers){const z=L.paint.get("line-dasharray").value,V=L.layout.get("line-cap").value;if("constant"===z.kind&&"constant"===V.kind)continue;let K,re,me,be,Te,Oe;if("constant"===z.kind){const At=z.value;if(!At)continue;K=At.other||At.to,re=At.to,me=At.from}else K=z.evaluate({zoom:M-1},c),re=z.evaluate({zoom:M},c),me=z.evaluate({zoom:M+1},c);"constant"===V.kind?be=Te=Oe=V.value:(be=V.evaluate({zoom:M-1},c),Te=V.evaluate({zoom:M},c),Oe=V.evaluate({zoom:M+1},c)),y.addDash(K,be),y.addDash(re,Te),y.addDash(me,Oe);const Ve=y.getKey(K,be),et=y.getKey(re,Te),_t=y.getKey(me,Oe);c.patterns[L.id]={min:Ve,mid:et,max:_t}}}update(c,y,M){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(c,y,this.stateDependentLayers,M)}addFeatures(c,y,M){for(const L of this.patternFeatures)this.addFeature(L,L.geometry,L.index,y,M)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(c){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=c.createVertexBuffer(this.layoutVertexArray2,ut)),this.layoutVertexBuffer=c.createVertexBuffer(this.layoutVertexArray,Fe),this.indexBuffer=c.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(c),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(c){if(c.properties&&c.properties.hasOwnProperty("mapbox_clip_start")&&c.properties.hasOwnProperty("mapbox_clip_end"))return{start:+c.properties.mapbox_clip_start,end:+c.properties.mapbox_clip_end}}addFeature(c,y,M,L,z){const V=this.layers[0].layout,K=V.get("line-join").evaluate(c,{}),re=V.get("line-cap").evaluate(c,{}),me=V.get("line-miter-limit"),be=V.get("line-round-limit");this.lineClips=this.lineFeatureClips(c);for(const Te of y)this.addLine(Te,c,K,re,me,be);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,c,M,z,L)}addLine(c,y,M,L,z,V){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let Ht=0;Ht<c.length-1;Ht++)this.totalDistance+=c[Ht].dist(c[Ht+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const K="Polygon"===Et[y.type];let re=c.length;for(;re>=2&&c[re-1].equals(c[re-2]);)re--;let me=0;for(;me<re-1&&c[me].equals(c[me+1]);)me++;if(re<(K?3:2))return;"bevel"===M&&(z=1.05);const be=this.overscaling<=16?122880/(512*this.overscaling):0,Te=this.segments.prepareSegment(10*re,this.layoutVertexArray,this.indexArray);let Oe,Ve,et,_t,At;this.e1=this.e2=-1,K&&(Oe=c[re-2],At=c[me].sub(Oe)._unit()._perp());for(let Ht=me;Ht<re;Ht++){if(et=Ht===re-1?K?c[me+1]:void 0:c[Ht+1],et&&c[Ht].equals(et))continue;At&&(_t=At),Oe&&(Ve=Oe),Oe=c[Ht],At=et?et.sub(Oe)._unit()._perp():_t,_t=_t||At;let sn=_t.add(At);0===sn.x&&0===sn.y||sn._unit();const an=_t.x*At.x+_t.y*At.y,dn=sn.x*At.x+sn.y*At.y,xn=0!==dn?1/dn:1/0,bn=2*Math.sqrt(2-2*dn),Un=dn<zt&&Ve&&et,ei=_t.x*At.y-_t.y*At.x>0;if(Un&&Ht>me){const Rn=Oe.dist(Ve);if(Rn>2*be){const Gn=Oe.sub(Oe.sub(Ve)._mult(be/Rn)._round());this.updateDistance(Ve,Gn),this.addCurrentVertex(Gn,_t,0,0,Te),Ve=Gn}}const Zn=Ve&&et;let di=Zn?M:K?"butt":L;if(Zn&&"round"===di&&(xn<V?di="miter":xn<=2&&(di="fakeround")),"miter"===di&&xn>z&&(di="bevel"),"bevel"===di&&(xn>2&&(di="flipbevel"),xn<z&&(di="miter")),Ve&&this.updateDistance(Ve,Oe),"miter"===di)sn._mult(xn),this.addCurrentVertex(Oe,sn,0,0,Te);else if("flipbevel"===di){if(xn>100)sn=At.mult(-1);else{const Rn=xn*_t.add(At).mag()/_t.sub(At).mag();sn._perp()._mult(Rn*(ei?-1:1))}this.addCurrentVertex(Oe,sn,0,0,Te),this.addCurrentVertex(Oe,sn.mult(-1),0,0,Te)}else if("bevel"===di||"fakeround"===di){const Rn=-Math.sqrt(xn*xn-1),Gn=ei?Rn:0,ni=ei?0:Rn;if(Ve&&this.addCurrentVertex(Oe,_t,Gn,ni,Te),"fakeround"===di){const Pn=Math.round(180*bn/Math.PI/20);for(let ur=1;ur<Pn;ur++){let Nr=ur/Pn;if(.5!==Nr){const zr=Nr-.5;Nr+=Nr*zr*(Nr-1)*((1.0904+an*(an*(3.55645-1.43519*an)-3.2452))*zr*zr+(.848013+an*(.215638*an-1.06021)))}const rs=At.sub(_t)._mult(Nr)._add(_t)._unit()._mult(ei?-1:1);this.addHalfVertex(Oe,rs.x,rs.y,!1,ei,0,Te)}}et&&this.addCurrentVertex(Oe,At,-Gn,-ni,Te)}else if("butt"===di)this.addCurrentVertex(Oe,sn,0,0,Te);else if("square"===di){const Rn=Ve?1:-1;Ve||this.addCurrentVertex(Oe,sn,Rn,Rn,Te),this.addCurrentVertex(Oe,sn,0,0,Te),Ve&&this.addCurrentVertex(Oe,sn,Rn,Rn,Te)}else"round"===di&&(Ve&&(this.addCurrentVertex(Oe,_t,0,0,Te),this.addCurrentVertex(Oe,_t,1,1,Te,!0)),et&&(this.addCurrentVertex(Oe,At,-1,-1,Te,!0),this.addCurrentVertex(Oe,At,0,0,Te)));if(Un&&Ht<re-1){const Rn=Oe.dist(et);if(Rn>2*be){const Gn=Oe.add(et.sub(Oe)._mult(be/Rn)._round());this.updateDistance(Oe,Gn),this.addCurrentVertex(Gn,At,0,0,Te),Oe=Gn}}}}addCurrentVertex(c,y,M,L,z,V=!1){const K=y.y*L-y.x,re=-y.y-y.x*L;this.addHalfVertex(c,y.x+y.y*M,y.y-y.x*M,V,!1,M,z),this.addHalfVertex(c,K,re,V,!0,-L,z)}addHalfVertex({x:c,y},M,L,z,V,K,re){this.layoutVertexArray.emplaceBack((c<<1)+(z?1:0),(y<<1)+(V?1:0),Math.round(63*M)+128,Math.round(63*L)+128,1+(0===K?0:K<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length);const me=re.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,me),re.primitiveLength++),V?this.e2=me:this.e1=me}updateScaledDistance(){if(this.lineClips){const c=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=c*this.lineClips.start+this.distance}else this.lineSoFar=this.distance}updateDistance(c,y){this.distance+=c.dist(y),this.updateScaledDistance()}}Ci("LineBucket",Sn,{omit:["layers","patternFeatures"]});const Hn=new It({"line-cap":new Dt(b.layout_line["line-cap"]),"line-join":new Dt(b.layout_line["line-join"]),"line-miter-limit":new St(b.layout_line["line-miter-limit"]),"line-round-limit":new St(b.layout_line["line-round-limit"]),"line-sort-key":new Dt(b.layout_line["line-sort-key"])});var ci={paint:new It({"line-opacity":new Dt(b.paint_line["line-opacity"]),"line-color":new Dt(b.paint_line["line-color"]),"line-translate":new St(b.paint_line["line-translate"]),"line-translate-anchor":new St(b.paint_line["line-translate-anchor"]),"line-width":new Dt(b.paint_line["line-width"]),"line-gap-width":new Dt(b.paint_line["line-gap-width"]),"line-offset":new Dt(b.paint_line["line-offset"]),"line-blur":new Dt(b.paint_line["line-blur"]),"line-dasharray":new kn(b.paint_line["line-dasharray"]),"line-pattern":new kn(b.paint_line["line-pattern"]),"line-gradient":new Nn(b.paint_line["line-gradient"])}),layout:Hn};const Di=new class extends Dt{possiblyEvaluate(_,c){return c=new Qe(Math.floor(c.zoom),{now:c.now,fadeDuration:c.fadeDuration,zoomHistory:c.zoomHistory,transition:c.transition}),super.possiblyEvaluate(_,c)}evaluate(_,c,y,M){return c=zi({},c,{zoom:Math.floor(c.zoom)}),super.evaluate(_,c,y,M)}}(ci.paint.properties["line-width"].specification);function Qi(_,c){return c>0?c+2*_:_}Di.useIntegerZoom=!0;const ir=Xn([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),ts=Xn([{name:"a_projected_pos",components:3,type:"Float32"}],4);Xn([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const Fa=Xn([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]),Qc=Xn([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"}]);Xn([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const mf=Xn([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),gg=Xn([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);Xn([{name:"triangle",components:3,type:"Uint16"}]),Xn([{type:"Float32",name:"anchorX"},{type:"Float32",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),Xn([{type:"Float32",name:"anchorX"},{type:"Float32",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Xn([{type:"Float32",name:"offsetX"}]),Xn([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);const mu=128;function gf(_,c){const{expression:y}=c;if("constant"===y.kind)return{kind:"constant",layoutSize:y.evaluate(new Qe(_+1))};if("source"===y.kind)return{kind:"source"};{const{zoomStops:M,interpolationType:L}=y;let z=0;for(;z<M.length&&M[z]<=_;)z++;z=Math.max(0,z-1);let V=z;for(;V<M.length&&M[V]<_+1;)V++;V=Math.min(M.length-1,V);const K=M[z],re=M[V];return"composite"===y.kind?{kind:"composite",minZoom:K,maxZoom:re,interpolationType:L}:{kind:"camera",minZoom:K,maxZoom:re,minSize:y.evaluate(new Qe(K)),maxSize:y.evaluate(new Qe(re)),interpolationType:L}}}function c_(_,{uSize:c,uSizeT:y},{lowerSize:M,upperSize:L}){return"source"===_.kind?M/mu:"composite"===_.kind?mi(M/mu,L/mu,y):c}function _g(_,c){let y=0,M=0;if("constant"===_.kind)M=_.layoutSize;else if("source"!==_.kind){const{interpolationType:L,minZoom:z,maxZoom:V}=_,K=L?Wt(ca.interpolationFactor(L,c,z,V),0,1):0;"camera"===_.kind?M=mi(_.minSize,_.maxSize,K):y=K}return{uSizeT:y,uSize:M}}var u_=Object.freeze({__proto__:null,getSizeData:gf,evaluateSizeForFeature:c_,evaluateSizeForZoom:_g,SIZE_PACK_FACTOR:mu});function Fb(_,c,y){return _.sections.forEach(M=>{M.text=function(L,z,V){const K=z.layout.get("text-transform").evaluate(V,{});return"uppercase"===K?L=L.toLocaleUpperCase():"lowercase"===K&&(L=L.toLocaleLowerCase()),qe.applyArabicShaping&&(L=qe.applyArabicShaping(L)),L}(M.text,c,y)}),_}const Nm={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"};function Nb(_){return"\ufe36"===_||"\ufe48"===_||"\ufe38"===_||"\ufe44"===_||"\ufe42"===_||"\ufe3e"===_||"\ufe3c"===_||"\ufe3a"===_||"\ufe18"===_||"\ufe40"===_||"\ufe10"===_||"\ufe13"===_||"\ufe14"===_||"\uff40"===_||"\uffe3"===_||"\ufe11"===_||"\ufe12"===_}function d1(_){return"\ufe35"===_||"\ufe47"===_||"\ufe37"===_||"\ufe43"===_||"\ufe41"===_||"\ufe3d"===_||"\ufe3b"===_||"\ufe39"===_||"\ufe17"===_||"\ufe3f"===_}var Rv=function(_,c,y,M,L){var z,V,K=8*L-M-1,re=(1<<K)-1,me=re>>1,be=-7,Te=y?L-1:0,Oe=y?-1:1,Ve=_[c+Te];for(Te+=Oe,z=Ve&(1<<-be)-1,Ve>>=-be,be+=K;be>0;z=256*z+_[c+Te],Te+=Oe,be-=8);for(V=z&(1<<-be)-1,z>>=-be,be+=M;be>0;V=256*V+_[c+Te],Te+=Oe,be-=8);if(0===z)z=1-me;else{if(z===re)return V?NaN:1/0*(Ve?-1:1);V+=Math.pow(2,M),z-=me}return(Ve?-1:1)*V*Math.pow(2,z-M)},zb=function(_,c,y,M,L,z){var V,K,re,me=8*z-L-1,be=(1<<me)-1,Te=be>>1,Oe=23===L?Math.pow(2,-24)-Math.pow(2,-77):0,Ve=M?0:z-1,et=M?1:-1,_t=c<0||0===c&&1/c<0?1:0;for(c=Math.abs(c),isNaN(c)||c===1/0?(K=isNaN(c)?1:0,V=be):(V=Math.floor(Math.log(c)/Math.LN2),c*(re=Math.pow(2,-V))<1&&(V--,re*=2),(c+=V+Te>=1?Oe/re:Oe*Math.pow(2,1-Te))*re>=2&&(V++,re/=2),V+Te>=be?(K=0,V=be):V+Te>=1?(K=(c*re-1)*Math.pow(2,L),V+=Te):(K=c*Math.pow(2,Te-1)*Math.pow(2,L),V=0));L>=8;_[y+Ve]=255&K,Ve+=et,K/=256,L-=8);for(V=V<<L|K,me+=L;me>0;_[y+Ve]=255&V,Ve+=et,V/=256,me-=8);_[y+Ve-et]|=128*_t},yg=ko;function ko(_){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(_)?_:new Uint8Array(_||0),this.pos=0,this.type=0,this.length=this.buf.length}ko.Varint=0,ko.Fixed64=1,ko.Bytes=2,ko.Fixed32=5;var Fv=4294967296,Gd=1/Fv,Bb="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function Zp(_){return _.type===ko.Bytes?_.readVarint()+_.pos:_.pos+1}function Yb(_,c,y){var M=c<=16383?1:c<=2097151?2:c<=268435455?3:Math.floor(Math.log(c)/(7*Math.LN2));y.realloc(M);for(var L=y.pos-1;L>=_;L--)y.buf[L+M]=y.buf[L]}function dx(_,c){for(var y=0;y<_.length;y++)c.writeVarint(_[y])}function Hb(_,c){for(var y=0;y<_.length;y++)c.writeSVarint(_[y])}function hx(_,c){for(var y=0;y<_.length;y++)c.writeFloat(_[y])}function yy(_,c){for(var y=0;y<_.length;y++)c.writeDouble(_[y])}function Nv(_,c){for(var y=0;y<_.length;y++)c.writeBoolean(_[y])}function Vb(_,c){for(var y=0;y<_.length;y++)c.writeFixed32(_[y])}function ns(_,c){for(var y=0;y<_.length;y++)c.writeSFixed32(_[y])}function Ub(_,c){for(var y=0;y<_.length;y++)c.writeFixed64(_[y])}function jb(_,c){for(var y=0;y<_.length;y++)c.writeSFixed64(_[y])}function zm(_,c){return(_[c]|_[c+1]<<8|_[c+2]<<16)+16777216*_[c+3]}function gu(_,c,y){_[y]=c,_[y+1]=c>>>8,_[y+2]=c>>>16,_[y+3]=c>>>24}function zv(_,c){return(_[c]|_[c+1]<<8|_[c+2]<<16)+(_[c+3]<<24)}function Bv(_,c,y){c.glyphs=[],1===_&&y.readMessage(vy,c)}function vy(_,c,y){if(3===_){const{id:M,bitmap:L,width:z,height:V,left:K,top:re,advance:me}=y.readMessage(_f,{});c.glyphs.push({id:M,bitmap:new ip({width:z+6,height:V+6},L),metrics:{width:z,height:V,left:K,top:re,advance:me}})}else 4===_?c.ascender=y.readSVarint():5===_&&(c.descender=y.readSVarint())}function _f(_,c,y){1===_?c.id=y.readVarint():2===_?c.bitmap=y.readBytes():3===_?c.width=y.readVarint():4===_?c.height=y.readVarint():5===_?c.left=y.readSVarint():6===_?c.top=y.readSVarint():7===_&&(c.advance=y.readVarint())}function em(_){let c=0,y=0;for(const V of _)c+=V.w*V.h,y=Math.max(y,V.w);_.sort((V,K)=>K.h-V.h);const M=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(c/.95)),y),h:1/0}];let L=0,z=0;for(const V of _)for(let K=M.length-1;K>=0;K--){const re=M[K];if(!(V.w>re.w||V.h>re.h)){if(V.x=re.x,V.y=re.y,z=Math.max(z,V.y+V.h),L=Math.max(L,V.x+V.w),V.w===re.w&&V.h===re.h){const me=M.pop();K<M.length&&(M[K]=me)}else V.h===re.h?(re.x+=V.w,re.w-=V.w):V.w===re.w?(re.y+=V.h,re.h-=V.h):(M.push({x:re.x+V.w,y:re.y,w:re.w-V.w,h:V.h}),re.y+=V.h,re.h-=V.h);break}}return{w:L,h:z,fill:c/(L*z)||0}}ko.prototype={destroy:function(){this.buf=null},readFields:function(_,c,y){for(y=y||this.length;this.pos<y;){var M=this.readVarint(),L=M>>3,z=this.pos;this.type=7&M,_(L,c,this),this.pos===z&&this.skip(M)}return c},readMessage:function(_,c){return this.readFields(_,c,this.readVarint()+this.pos)},readFixed32:function(){var _=zm(this.buf,this.pos);return this.pos+=4,_},readSFixed32:function(){var _=zv(this.buf,this.pos);return this.pos+=4,_},readFixed64:function(){var _=zm(this.buf,this.pos)+zm(this.buf,this.pos+4)*Fv;return this.pos+=8,_},readSFixed64:function(){var _=zm(this.buf,this.pos)+zv(this.buf,this.pos+4)*Fv;return this.pos+=8,_},readFloat:function(){var _=Rv(this.buf,this.pos,!0,23,4);return this.pos+=4,_},readDouble:function(){var _=Rv(this.buf,this.pos,!0,52,8);return this.pos+=8,_},readVarint:function(_){var c,y,M=this.buf;return c=127&(y=M[this.pos++]),y<128?c:(c|=(127&(y=M[this.pos++]))<<7,y<128?c:(c|=(127&(y=M[this.pos++]))<<14,y<128?c:(c|=(127&(y=M[this.pos++]))<<21,y<128?c:function(L,z,V){var K,re,me=V.buf;if(K=(112&(re=me[V.pos++]))>>4,re<128||(K|=(127&(re=me[V.pos++]))<<3,re<128)||(K|=(127&(re=me[V.pos++]))<<10,re<128)||(K|=(127&(re=me[V.pos++]))<<17,re<128)||(K|=(127&(re=me[V.pos++]))<<24,re<128)||(K|=(1&(re=me[V.pos++]))<<31,re<128))return function(_,c,y){return y?4294967296*c+(_>>>0):4294967296*(c>>>0)+(_>>>0)}(L,K,z);throw new Error("Expected varint not more than 10 bytes")}(c|=(15&(y=M[this.pos]))<<28,_,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var _=this.readVarint();return _%2==1?(_+1)/-2:_/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var _=this.readVarint()+this.pos,c=this.pos;return this.pos=_,_-c>=12&&Bb?Bb.decode(this.buf.subarray(c,_)):function(y,M,L){for(var z="",V=M;V<L;){var K,re,me,be=y[V],Te=null,Oe=be>239?4:be>223?3:be>191?2:1;if(V+Oe>L)break;1===Oe?be<128&&(Te=be):2===Oe?128==(192&(K=y[V+1]))&&(Te=(31&be)<<6|63&K)<=127&&(Te=null):3===Oe?(re=y[V+2],128==(192&(K=y[V+1]))&&128==(192&re)&&((Te=(15&be)<<12|(63&K)<<6|63&re)<=2047||Te>=55296&&Te<=57343)&&(Te=null)):4===Oe&&(re=y[V+2],me=y[V+3],128==(192&(K=y[V+1]))&&128==(192&re)&&128==(192&me)&&((Te=(15&be)<<18|(63&K)<<12|(63&re)<<6|63&me)<=65535||Te>=1114112)&&(Te=null)),null===Te?(Te=65533,Oe=1):Te>65535&&(Te-=65536,z+=String.fromCharCode(Te>>>10&1023|55296),Te=56320|1023&Te),z+=String.fromCharCode(Te),V+=Oe}return z}(this.buf,c,_)},readBytes:function(){var _=this.readVarint()+this.pos,c=this.buf.subarray(this.pos,_);return this.pos=_,c},readPackedVarint:function(_,c){if(this.type!==ko.Bytes)return _.push(this.readVarint(c));var y=Zp(this);for(_=_||[];this.pos<y;)_.push(this.readVarint(c));return _},readPackedSVarint:function(_){if(this.type!==ko.Bytes)return _.push(this.readSVarint());var c=Zp(this);for(_=_||[];this.pos<c;)_.push(this.readSVarint());return _},readPackedBoolean:function(_){if(this.type!==ko.Bytes)return _.push(this.readBoolean());var c=Zp(this);for(_=_||[];this.pos<c;)_.push(this.readBoolean());return _},readPackedFloat:function(_){if(this.type!==ko.Bytes)return _.push(this.readFloat());var c=Zp(this);for(_=_||[];this.pos<c;)_.push(this.readFloat());return _},readPackedDouble:function(_){if(this.type!==ko.Bytes)return _.push(this.readDouble());var c=Zp(this);for(_=_||[];this.pos<c;)_.push(this.readDouble());return _},readPackedFixed32:function(_){if(this.type!==ko.Bytes)return _.push(this.readFixed32());var c=Zp(this);for(_=_||[];this.pos<c;)_.push(this.readFixed32());return _},readPackedSFixed32:function(_){if(this.type!==ko.Bytes)return _.push(this.readSFixed32());var c=Zp(this);for(_=_||[];this.pos<c;)_.push(this.readSFixed32());return _},readPackedFixed64:function(_){if(this.type!==ko.Bytes)return _.push(this.readFixed64());var c=Zp(this);for(_=_||[];this.pos<c;)_.push(this.readFixed64());return _},readPackedSFixed64:function(_){if(this.type!==ko.Bytes)return _.push(this.readSFixed64());var c=Zp(this);for(_=_||[];this.pos<c;)_.push(this.readSFixed64());return _},skip:function(_){var c=7&_;if(c===ko.Varint)for(;this.buf[this.pos++]>127;);else if(c===ko.Bytes)this.pos=this.readVarint()+this.pos;else if(c===ko.Fixed32)this.pos+=4;else{if(c!==ko.Fixed64)throw new Error("Unimplemented type: "+c);this.pos+=8}},writeTag:function(_,c){this.writeVarint(_<<3|c)},realloc:function(_){for(var c=this.length||16;c<this.pos+_;)c*=2;if(c!==this.length){var y=new Uint8Array(c);y.set(this.buf),this.buf=y,this.length=c}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(_){this.realloc(4),gu(this.buf,_,this.pos),this.pos+=4},writeSFixed32:function(_){this.realloc(4),gu(this.buf,_,this.pos),this.pos+=4},writeFixed64:function(_){this.realloc(8),gu(this.buf,-1&_,this.pos),gu(this.buf,Math.floor(_*Gd),this.pos+4),this.pos+=8},writeSFixed64:function(_){this.realloc(8),gu(this.buf,-1&_,this.pos),gu(this.buf,Math.floor(_*Gd),this.pos+4),this.pos+=8},writeVarint:function(_){(_=+_||0)>268435455||_<0?function(c,y){var M,L,z,K;if(c>=0?(M=c%4294967296|0,L=c/4294967296|0):(L=~(-c/4294967296),4294967295^(M=~(-c%4294967296))?M=M+1|0:(M=0,L=L+1|0)),c>=0x10000000000000000||c<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");y.realloc(10),z=M,(K=y).buf[K.pos++]=127&z|128,z>>>=7,K.buf[K.pos++]=127&z|128,z>>>=7,K.buf[K.pos++]=127&z|128,z>>>=7,K.buf[K.pos++]=127&z|128,K.buf[K.pos]=127&(z>>>=7),function(z,V){var K=(7&z)<<4;V.buf[V.pos++]|=K|((z>>>=3)?128:0),z&&(V.buf[V.pos++]=127&z|((z>>>=7)?128:0),z&&(V.buf[V.pos++]=127&z|((z>>>=7)?128:0),z&&(V.buf[V.pos++]=127&z|((z>>>=7)?128:0),z&&(V.buf[V.pos++]=127&z|((z>>>=7)?128:0),z&&(V.buf[V.pos++]=127&z)))))}(L,y)}(_,this):(this.realloc(4),this.buf[this.pos++]=127&_|(_>127?128:0),_<=127||(this.buf[this.pos++]=127&(_>>>=7)|(_>127?128:0),_<=127||(this.buf[this.pos++]=127&(_>>>=7)|(_>127?128:0),_<=127||(this.buf[this.pos++]=_>>>7&127))))},writeSVarint:function(_){this.writeVarint(_<0?2*-_-1:2*_)},writeBoolean:function(_){this.writeVarint(Boolean(_))},writeString:function(_){_=String(_),this.realloc(4*_.length),this.pos++;var c=this.pos;this.pos=function(M,L,z){for(var V,K,re=0;re<L.length;re++){if((V=L.charCodeAt(re))>55295&&V<57344){if(!K){V>56319||re+1===L.length?(M[z++]=239,M[z++]=191,M[z++]=189):K=V;continue}if(V<56320){M[z++]=239,M[z++]=191,M[z++]=189,K=V;continue}V=K-55296<<10|V-56320|65536,K=null}else K&&(M[z++]=239,M[z++]=191,M[z++]=189,K=null);V<128?M[z++]=V:(V<2048?M[z++]=V>>6|192:(V<65536?M[z++]=V>>12|224:(M[z++]=V>>18|240,M[z++]=V>>12&63|128),M[z++]=V>>6&63|128),M[z++]=63&V|128)}return z}(this.buf,_,this.pos);var y=this.pos-c;y>=128&&Yb(c,y,this),this.pos=c-1,this.writeVarint(y),this.pos+=y},writeFloat:function(_){this.realloc(4),zb(this.buf,_,this.pos,!0,23,4),this.pos+=4},writeDouble:function(_){this.realloc(8),zb(this.buf,_,this.pos,!0,52,8),this.pos+=8},writeBytes:function(_){var c=_.length;this.writeVarint(c),this.realloc(c);for(var y=0;y<c;y++)this.buf[this.pos++]=_[y]},writeRawMessage:function(_,c){this.pos++;var y=this.pos;_(c,this);var M=this.pos-y;M>=128&&Yb(y,M,this),this.pos=y-1,this.writeVarint(M),this.pos+=M},writeMessage:function(_,c,y){this.writeTag(_,ko.Bytes),this.writeRawMessage(c,y)},writePackedVarint:function(_,c){c.length&&this.writeMessage(_,dx,c)},writePackedSVarint:function(_,c){c.length&&this.writeMessage(_,Hb,c)},writePackedBoolean:function(_,c){c.length&&this.writeMessage(_,Nv,c)},writePackedFloat:function(_,c){c.length&&this.writeMessage(_,hx,c)},writePackedDouble:function(_,c){c.length&&this.writeMessage(_,yy,c)},writePackedFixed32:function(_,c){c.length&&this.writeMessage(_,Vb,c)},writePackedSFixed32:function(_,c){c.length&&this.writeMessage(_,ns,c)},writePackedFixed64:function(_,c){c.length&&this.writeMessage(_,Ub,c)},writePackedSFixed64:function(_,c){c.length&&this.writeMessage(_,jb,c)},writeBytesField:function(_,c){this.writeTag(_,ko.Bytes),this.writeBytes(c)},writeFixed32Field:function(_,c){this.writeTag(_,ko.Fixed32),this.writeFixed32(c)},writeSFixed32Field:function(_,c){this.writeTag(_,ko.Fixed32),this.writeSFixed32(c)},writeFixed64Field:function(_,c){this.writeTag(_,ko.Fixed64),this.writeFixed64(c)},writeSFixed64Field:function(_,c){this.writeTag(_,ko.Fixed64),this.writeSFixed64(c)},writeVarintField:function(_,c){this.writeTag(_,ko.Varint),this.writeVarint(c)},writeSVarintField:function(_,c){this.writeTag(_,ko.Varint),this.writeSVarint(c)},writeStringField:function(_,c){this.writeTag(_,ko.Bytes),this.writeString(c)},writeFloatField:function(_,c){this.writeTag(_,ko.Fixed32),this.writeFloat(c)},writeDoubleField:function(_,c){this.writeTag(_,ko.Fixed64),this.writeDouble(c)},writeBooleanField:function(_,c){this.writeVarintField(_,Boolean(c))}};class bg{constructor(c,{pixelRatio:y,version:M,stretchX:L,stretchY:z,content:V}){this.paddedRect=c,this.pixelRatio=y,this.stretchX=L,this.stretchY=z,this.content=V,this.version=M}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class d_{constructor(c,y){const M={},L={};this.haveRenderCallbacks=[];const z=[];this.addImages(c,M,z),this.addImages(y,L,z);const{w:V,h:K}=em(z),re=new uc({width:V||1,height:K||1});for(const me in c){const be=c[me],Te=M[me].paddedRect;uc.copy(be.data,re,{x:0,y:0},{x:Te.x+1,y:Te.y+1},be.data)}for(const me in y){const be=y[me],Te=L[me].paddedRect,Oe=Te.x+1,Ve=Te.y+1,et=be.data.width,_t=be.data.height;uc.copy(be.data,re,{x:0,y:0},{x:Oe,y:Ve},be.data),uc.copy(be.data,re,{x:0,y:_t-1},{x:Oe,y:Ve-1},{width:et,height:1}),uc.copy(be.data,re,{x:0,y:0},{x:Oe,y:Ve+_t},{width:et,height:1}),uc.copy(be.data,re,{x:et-1,y:0},{x:Oe-1,y:Ve},{width:1,height:_t}),uc.copy(be.data,re,{x:0,y:0},{x:Oe+et,y:Ve},{width:1,height:_t})}this.image=re,this.iconPositions=M,this.patternPositions=L}addImages(c,y,M){for(const L in c){const z=c[L],V={x:0,y:0,w:z.data.width+2,h:z.data.height+2};M.push(V),y[L]=new bg(V,z),z.hasRenderCallback&&this.haveRenderCallbacks.push(L)}}patchUpdatedImages(c,y){c.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const M in c.updatedImages)this.patchUpdatedImage(this.iconPositions[M],c.getImage(M),y),this.patchUpdatedImage(this.patternPositions[M],c.getImage(M),y)}patchUpdatedImage(c,y,M){if(!c||!y||c.version===y.version)return;c.version=y.version;const[L,z]=c.tl;M.update(y.data,void 0,{x:L,y:z})}}Ci("ImagePosition",bg),Ci("ImageAtlas",d_);const kh={horizontal:1,vertical:2,horizontalOnly:3};class op{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(c,y){const M=new op;return M.scale=c||1,M.fontStack=y,M}static forImage(c){const y=new op;return y.imageName=c,y}}class h_{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(c,y){const M=new h_;for(let L=0;L<c.sections.length;L++){const z=c.sections[L];z.image?M.addImageSection(z):M.addTextSection(z,y)}return M}length(){return this.text.length}getSection(c){return this.sections[this.sectionIndex[c]]}getSections(){return this.sections}getSectionIndex(c){return this.sectionIndex[c]}getCharCode(c){return this.text.charCodeAt(c)}verticalizePunctuation(c){this.text=function(y,M){let L="";for(let z=0;z<y.length;z++){const V=y.charCodeAt(z+1)||null,K=y.charCodeAt(z-1)||null;L+=!M&&(V&&Nf(V)&&!Nm[y[z+1]]||K&&Nf(K)&&!Nm[y[z-1]])||!Nm[y[z]]?y[z]:Nm[y[z]]}return L}(this.text,c)}trim(){let c=0;for(let M=0;M<this.text.length&&Bm[this.text.charCodeAt(M)];M++)c++;let y=this.text.length;for(let M=this.text.length-1;M>=0&&M>=c&&Bm[this.text.charCodeAt(M)];M--)y--;this.text=this.text.substring(c,y),this.sectionIndex=this.sectionIndex.slice(c,y)}substring(c,y){const M=new h_;return M.text=this.text.substring(c,y),M.sectionIndex=this.sectionIndex.slice(c,y),M.sections=this.sections,M}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((c,y)=>Math.max(c,this.sections[y].scale),0)}addTextSection(c,y){this.text+=c.text,this.sections.push(op.forText(c.scale,c.fontStack||y));const M=this.sections.length-1;for(let L=0;L<c.text.length;++L)this.sectionIndex.push(M)}addImageSection(c){const y=c.image?c.image.name:"";if(0===y.length)return void Vi("Can't add FormattedSection with an empty image.");const M=this.getNextImageSectionCharCode();M?(this.text+=String.fromCharCode(M),this.sections.push(op.forImage(y)),this.sectionIndex.push(this.sections.length-1)):Vi("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function ap(_,c,y,M,L,z,V,K,re,me,be,Te,Oe,Ve,et,_t){const At=h_.fromFeature(_,L);let Ht;Te===kh.vertical&&At.verticalizePunctuation(Oe);const{processBidirectionalText:sn,processStyledBidirectionalText:an}=qe;if(sn&&1===At.sections.length){Ht=[];const bn=sn(At.toString(),yf(At,me,z,c,M,Ve,et));for(const Un of bn){const ei=new h_;ei.text=Un,ei.sections=At.sections;for(let Zn=0;Zn<Un.length;Zn++)ei.sectionIndex.push(0);Ht.push(ei)}}else if(an){Ht=[];const bn=an(At.text,At.sectionIndex,yf(At,me,z,c,M,Ve,et));for(const Un of bn){const ei=new h_;ei.text=Un[0],ei.sectionIndex=Un[1],ei.sections=At.sections,Ht.push(ei)}}else Ht=function(bn,Un){const ei=[],Zn=bn.text;let di=0;for(const Rn of Un)ei.push(bn.substring(di,Rn)),di=Rn;return di<Zn.length&&ei.push(bn.substring(di,Zn.length)),ei}(At,yf(At,me,z,c,M,Ve,et));const dn=[],xn={positionedLines:dn,text:At.toString(),top:be[1],bottom:be[1],left:be[0],right:be[0],writingMode:Te,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(bn,Un,ei,Zn,di,Rn,Gn,ni,Pn,ur,Nr,rs){let zr=0,Zi=0,yo=0;const Wi="right"===ni?1:"left"===ni?0:.5;let na=!1;for(const Lo of di){const ha=Lo.getSections();for(const Uo of ha){if(Uo.imageName)continue;const gl=Un[Uo.fontStack];if(gl&&(na=void 0!==gl.ascender&&void 0!==gl.descender,!na))break}if(!na)break}let qa=0;for(const Lo of di){Lo.trim();const ha=Lo.getMaxScale(),Uo=24*(ha-1),gl={positionedGlyphs:[],lineOffset:0};bn.positionedLines[qa]=gl;const Po=gl.positionedGlyphs;let lo=0;if(!Lo.length()){Zi+=Rn,++qa;continue}let $a=0,wa=0;for(let mc=0;mc<Lo.length();mc++){const sa=Lo.getSection(mc),Kc=Lo.getSectionIndex(mc),Ca=Lo.getCharCode(mc);let As=sa.scale,Ma=null,eu=null,no=null,yd=24,tu=0;const Cf=!(Pn===kh.horizontal||!Nr&&!yh(Ca)||Nr&&(Bm[Ca]||(Ba=Ca,Ri(Ba)||Op(Ba)||Vs(Ba)||tl(Ba)||li(Ba))));if(sa.imageName){const qp=Zn[sa.imageName];if(!qp)continue;no=sa.imageName,bn.iconsInText=bn.iconsInText||!0,eu=qp.paddedRect;const rl=qp.displaySize;As=24*As/rs,Ma={width:rl[0],height:rl[1],left:1,top:-3,advance:Cf?rl[1]:rl[0],localGlyph:!1},tu=na?-Ma.height*As:24*ha-17-rl[1]*As,yd=Ma.advance;const Ql=(Cf?rl[0]:rl[1])*As-24*ha;Ql>0&&Ql>lo&&(lo=Ql)}else{const qp=ei[sa.fontStack];if(!qp)continue;qp[Ca]&&(eu=qp[Ca]);const rl=Un[sa.fontStack];if(!rl)continue;const Ql=rl.glyphs[Ca];if(!Ql)continue;if(Ma=Ql.metrics,yd=8203!==Ca?24:0,na){const Qd=void 0!==rl.ascender?Math.abs(rl.ascender):0,sl=void 0!==rl.descender?Math.abs(rl.descender):0,Mf=(Qd+sl)*As;$a<Mf&&($a=Mf,wa=(Qd-sl)/2*As),tu=-Qd*As}else tu=24*(ha-As)-17}Cf?(bn.verticalizable=!0,Po.push({glyph:Ca,imageName:no,x:zr,y:Zi+tu,vertical:Cf,scale:As,localGlyph:Ma.localGlyph,fontStack:sa.fontStack,sectionIndex:Kc,metrics:Ma,rect:eu}),zr+=yd*As+ur):(Po.push({glyph:Ca,imageName:no,x:zr,y:Zi+tu,vertical:Cf,scale:As,localGlyph:Ma.localGlyph,fontStack:sa.fontStack,sectionIndex:Kc,metrics:Ma,rect:eu}),zr+=Ma.advance*As+ur)}0!==Po.length&&(yo=Math.max(zr-ur,yo),na?tm(Po,Wi,lo,wa,Rn*ha/2):tm(Po,Wi,lo,0,Rn/2)),zr=0;const jo=Rn*ha+lo;gl.lineOffset=Math.max(lo,Uo),Zi+=jo,++qa}var Ba;const Pl=Zi,{horizontalAlign:ia,verticalAlign:ra}=Gp(Gn);(function(Lo,ha,Uo,gl,Po,lo){const $a=(ha-Uo)*Po,wa=-lo*gl;for(const jo of Lo)for(const mc of jo.positionedGlyphs)mc.x+=$a,mc.y+=wa})(bn.positionedLines,Wi,ia,ra,yo,Pl),bn.top+=-ra*Pl,bn.bottom=bn.top+Pl,bn.left+=-ia*yo,bn.right=bn.left+yo,bn.hasBaseline=na}(xn,c,y,M,Ht,V,K,re,Te,me,Oe,_t),!function(bn){for(const Un of bn)if(0!==Un.positionedGlyphs.length)return!1;return!0}(dn)&&xn}const Bm={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},by={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function p_(_,c,y,M,L,z){if(c.imageName){const V=M[c.imageName];return V?V.displaySize[0]*c.scale*24/z+L:0}{const V=y[c.fontStack],K=V&&V.glyphs[_];return K?K.metrics.advance*c.scale+L:0}}function px(_,c,y,M){const L=Math.pow(_-c,2);return M?_<c?L/2:2*L:L+Math.abs(y)*y}function fx(_,c,y){let M=0;return 10===_&&(M-=1e4),y&&(M+=150),40!==_&&65288!==_||(M+=50),41!==c&&65289!==c||(M+=50),M}function Eo(_,c,y,M,L,z){let V=null,K=px(c,y,L,z);for(const re of M){const me=px(c-re.x,y,L,z)+re.badness;me<=K&&(V=re,K=me)}return{index:_,x:c,priorBreak:V,badness:K}}function mx(_){return _?mx(_.priorBreak).concat(_.index):[]}function yf(_,c,y,M,L,z,V){if("point"!==z)return[];if(!_)return[];const K=[],re=function(Oe,Ve,et,_t,At,Ht){let sn=0;for(let an=0;an<Oe.length();an++){const dn=Oe.getSection(an);sn+=p_(Oe.getCharCode(an),dn,_t,At,Ve,Ht)}return sn/Math.max(1,Math.ceil(sn/et))}(_,c,y,M,L,V),me=_.text.indexOf("\u200b")>=0;let be=0;for(let Oe=0;Oe<_.length();Oe++){const Ve=_.getSection(Oe),et=_.getCharCode(Oe);if(Bm[et]||(be+=p_(et,Ve,M,L,c,V)),Oe<_.length()-1){const _t=!((Te=et)<11904||!(Rp(Te)||lc(Te)||Fp(Te)||_h(Te)||uu(Te)||Ho(Te)||cu(Te)||sd(Te)||du(Te)||Dc(Te)||od(Te)||Jo(Te)||Ao(Te)||Tl(Te)||Os(Te)||gh(Te)||el(Te)||as(Te)||rt(Te)||Au(Te)));(by[et]||_t||Ve.imageName)&&K.push(Eo(Oe+1,be,re,K,fx(et,_.getCharCode(Oe+1),_t&&me),!1))}}var Te;return mx(Eo(_.length(),be,re,K,0,!0))}function Gp(_){let c=.5,y=.5;switch(_){case"right":case"top-right":case"bottom-right":c=1;break;case"left":case"top-left":case"bottom-left":c=0}switch(_){case"bottom":case"bottom-right":case"bottom-left":y=1;break;case"top":case"top-right":case"top-left":y=0}return{horizontalAlign:c,verticalAlign:y}}function tm(_,c,y,M,L){if(!(c||y||M||L))return;const z=_.length-1,V=_[z],K=(V.x+V.metrics.advance*V.scale)*c;for(let re=0;re<=z;re++)_[re].x-=K,_[re].y+=y+M+L}function xg(_,c,y){const{horizontalAlign:M,verticalAlign:L}=Gp(y),z=c[0]-_.displaySize[0]*M,V=c[1]-_.displaySize[1]*L;return{image:_,top:V,bottom:V+_.displaySize[1],left:z,right:z+_.displaySize[0]}}function Yv(_,c,y,M,L,z){const V=_.image;let K;if(V.content){const At=V.content,Ht=V.pixelRatio||1;K=[At[0]/Ht,At[1]/Ht,V.displaySize[0]-At[2]/Ht,V.displaySize[1]-At[3]/Ht]}const re=c.left*z,me=c.right*z;let be,Te,Oe,Ve;"width"===y||"both"===y?(Ve=L[0]+re-M[3],Te=L[0]+me+M[1]):(Ve=L[0]+(re+me-V.displaySize[0])/2,Te=Ve+V.displaySize[0]);const et=c.top*z,_t=c.bottom*z;return"height"===y||"both"===y?(be=L[1]+et-M[0],Oe=L[1]+_t+M[2]):(be=L[1]+(et+_t-V.displaySize[1])/2,Oe=be+V.displaySize[1]),{image:V,top:be,right:Te,bottom:Oe,left:Ve,collisionPadding:K}}class Eh extends Me{constructor(c,y,M,L){super(c,y),this.angle=M,void 0!==L&&(this.segment=L)}clone(){return new Eh(this.x,this.y,this.angle,this.segment)}}function gx(_,c,y,M,L){if(void 0===c.segment)return!0;let z=c,V=c.segment+1,K=0;for(;K>-y/2;){if(V--,V<0)return!1;K-=_[V].dist(z),z=_[V]}K+=_[V].dist(_[V+1]),V++;const re=[];let me=0;for(;K<y/2;){const be=_[V],Te=_[V+1];if(!Te)return!1;let Oe=_[V-1].angleTo(be)-be.angleTo(Te);for(Oe=Math.abs((Oe+3*Math.PI)%(2*Math.PI)-Math.PI),re.push({distance:K,angleDelta:Oe}),me+=Oe;K-re[0].distance>M;)me-=re.shift().angleDelta;if(me>L)return!1;V++,K+=be.dist(Te)}return!0}function Zb(_){let c=0;for(let y=0;y<_.length-1;y++)c+=_[y].dist(_[y+1]);return c}function _x(_,c,y){return _?.6*c*y:0}function f_(_,c){return Math.max(_?_.right-_.left:0,c?c.right-c.left:0)}function yx(_,c,y,M,L,z){const V=_x(y,L,z),K=f_(y,M)*z;let re=0;const me=Zb(_)/2;for(let be=0;be<_.length-1;be++){const Te=_[be],Oe=_[be+1],Ve=Te.dist(Oe);if(re+Ve>me){const et=(me-re)/Ve,_t=mi(Te.x,Oe.x,et),At=mi(Te.y,Oe.y,et),Ht=new Eh(_t,At,Oe.angleTo(Te),be);return!V||gx(_,Ht,K,V,c)?Ht:void 0}re+=Ve}}function Gb(_,c,y,M,L,z,V,K,re){const me=_x(M,z,V),be=f_(M,L),Te=be*V,Oe=0===_[0].x||_[0].x===re||0===_[0].y||_[0].y===re;return c-Te<c/4&&(c=Te+c/4),h1(_,Oe?c/2*K%c:(be/2+2*z)*V*K%c,c,me,y,Te,Oe,!1,re)}function h1(_,c,y,M,L,z,V,K,re){const me=z/2,be=Zb(_);let Te=0,Oe=c-y,Ve=[];for(let et=0;et<_.length-1;et++){const _t=_[et],At=_[et+1],Ht=_t.dist(At),sn=At.angleTo(_t);for(;Oe+y<Te+Ht;){Oe+=y;const an=(Oe-Te)/Ht,dn=mi(_t.x,At.x,an),xn=mi(_t.y,At.y,an);if(dn>=0&&dn<re&&xn>=0&&xn<re&&Oe-me>=0&&Oe+me<=be){const bn=new Eh(dn,xn,sn,et);bn._round(),M&&!gx(_,bn,z,M,L)||Ve.push(bn)}}Te+=Ht}return K||Ve.length||V||(Ve=h1(_,Te/2,y,M,L,z,V,!0,re)),Ve}function Ym(_,c,y,M,L){const z=[];for(let V=0;V<_.length;V++){const K=_[V];let re;for(let me=0;me<K.length-1;me++){let be=K[me],Te=K[me+1];be.x<c&&Te.x<c||(be.x<c?be=new Me(c,be.y+(c-be.x)/(Te.x-be.x)*(Te.y-be.y))._round():Te.x<c&&(Te=new Me(c,be.y+(c-be.x)/(Te.x-be.x)*(Te.y-be.y))._round()),be.y<y&&Te.y<y||(be.y<y?be=new Me(be.x+(y-be.y)/(Te.y-be.y)*(Te.x-be.x),y)._round():Te.y<y&&(Te=new Me(be.x+(y-be.y)/(Te.y-be.y)*(Te.x-be.x),y)._round()),be.x>=M&&Te.x>=M||(be.x>=M?be=new Me(M,be.y+(M-be.x)/(Te.x-be.x)*(Te.y-be.y))._round():Te.x>=M&&(Te=new Me(M,be.y+(M-be.x)/(Te.x-be.x)*(Te.y-be.y))._round()),be.y>=L&&Te.y>=L||(be.y>=L?be=new Me(be.x+(L-be.y)/(Te.y-be.y)*(Te.x-be.x),L)._round():Te.y>=L&&(Te=new Me(be.x+(L-be.y)/(Te.y-be.y)*(Te.x-be.x),L)._round()),re&&be.equals(re[re.length-1])||(re=[be],z.push(re)),re.push(Te)))))}}return z}Ci("Anchor",Eh);var Wb=Dh,p1=Dh,m_=1e20;function Dh(_,c,y,M,L,z){this.fontSize=_||24,this.buffer=void 0===c?3:c,this.cutoff=M||.25,this.fontFamily=L||"sans-serif",this.fontWeight=z||"normal",this.radius=y||8;var V=this.size=this.fontSize+2*this.buffer,K=V+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=V,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textAlign="left",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(K*K),this.gridInner=new Float64Array(K*K),this.f=new Float64Array(K),this.z=new Float64Array(K+1),this.v=new Uint16Array(K),this.useMetrics=void 0!==this.ctx.measureText("A").actualBoundingBoxLeft,this.middle=Math.round(V/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function g_(_,c,y,M,L,z){for(var V=0;V<c;V++)qb(_,V,c,y,M,L,z);for(var K=0;K<y;K++)qb(_,K*c,1,c,M,L,z)}function qb(_,c,y,M,L,z,V){var K,re,me,be;for(z[0]=0,V[0]=-m_,V[1]=m_,K=0;K<M;K++)L[K]=_[c+K*y];for(K=1,re=0,me=0;K<M;K++){do{me=(L[K]-L[be=z[re]]+K*K-be*be)/(K-be)/2}while(me<=V[re]&&--re>-1);z[++re]=K,V[re]=me,V[re+1]=m_}for(K=0,re=0;K<M;K++){for(;V[re+1]<K;)re++;_[c+K*y]=L[be=z[re]]+(K-be)*(K-be)}}Dh.prototype._draw=function(_,c){var y,M,L,z,V,K,re,me,be,Te=this.ctx.measureText(_),Oe=Te.width,Ve=2*this.buffer;c&&this.useMetrics?(V=Math.floor(Te.actualBoundingBoxAscent),me=this.buffer+Math.ceil(Te.actualBoundingBoxAscent),K=this.buffer,re=this.buffer,y=(M=Math.min(this.size,Math.ceil(Te.actualBoundingBoxRight-Te.actualBoundingBoxLeft)))+Ve,L=(z=Math.min(this.size-K,Math.ceil(Te.actualBoundingBoxAscent+Te.actualBoundingBoxDescent)))+Ve,this.ctx.textBaseline="alphabetic"):(y=M=this.size,L=z=this.size,V=19*this.fontSize/24,K=re=0,me=this.middle,this.ctx.textBaseline="middle"),M&&z&&(this.ctx.clearRect(re,K,M,z),this.ctx.fillText(_,this.buffer,me),be=this.ctx.getImageData(re,K,M,z));var et=new Uint8ClampedArray(y*L);return function(_t,At,Ht,sn,an,dn,xn){dn.fill(m_,0,At*Ht),xn.fill(0,0,At*Ht);for(var bn=(At-sn)/2,Un=0;Un<an;Un++)for(var ei=0;ei<sn;ei++){var Zn=(Un+bn)*At+ei+bn,di=_t.data[4*(Un*sn+ei)+3]/255;if(1===di)dn[Zn]=0,xn[Zn]=m_;else if(0===di)dn[Zn]=m_,xn[Zn]=0;else{var Rn=Math.max(0,.5-di),Gn=Math.max(0,di-.5);dn[Zn]=Rn*Rn,xn[Zn]=Gn*Gn}}}(be,y,L,M,z,this.gridOuter,this.gridInner),g_(this.gridOuter,y,L,this.f,this.v,this.z),g_(this.gridInner,y,L,this.f,this.v,this.z),function(_t,At,Ht,sn,an,dn,xn){for(var bn=0;bn<At*Ht;bn++){var Un=Math.sqrt(sn[bn])-Math.sqrt(an[bn]);_t[bn]=Math.round(255-255*(Un/dn+xn))}}(et,y,L,this.gridOuter,this.gridInner,this.radius,this.cutoff),{data:et,metrics:{width:M,height:z,sdfWidth:y,sdfHeight:L,top:V,left:0,advance:Oe}}},Dh.prototype.draw=function(_){return this._draw(_,!1).data},Dh.prototype.drawWithMetrics=function(_){return this._draw(_,!0)},Wb.default=p1;const xy={none:0,ideographs:1,all:2};class lp{constructor(c,y,M){this.requestManager=c,this.localGlyphMode=y,this.localFontFamily=M,this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}setURL(c){this.url=c}getGlyphs(c,y){const M=[];for(const L in c)for(const z of c[L])M.push({stack:L,id:z});us(M,({stack:L,id:z},V)=>{let K=this.entries[L];K||(K=this.entries[L]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let re=K.glyphs[z];if(void 0!==re)return void V(null,{stack:L,id:z,glyph:re});if(re=this._tinySDF(K,L,z),re)return K.glyphs[z]=re,void V(null,{stack:L,id:z,glyph:re});const me=Math.floor(z/256);if(256*me>65535)return void V(new Error("glyphs > 65535 not supported"));if(K.ranges[me])return void V(null,{stack:L,id:z,glyph:re});let be=K.requests[me];be||(be=K.requests[me]=[],lp.loadGlyphRange(L,me,this.url,this.requestManager,(Te,Oe)=>{if(Oe){K.ascender=Oe.ascender,K.descender=Oe.descender;for(const Ve in Oe.glyphs)this._doesCharSupportLocalGlyph(+Ve)||(K.glyphs[+Ve]=Oe.glyphs[+Ve]);K.ranges[me]=!0}for(const Ve of be)Ve(Te,Oe);delete K.requests[me]})),be.push((Te,Oe)=>{Te?V(Te):Oe&&V(null,{stack:L,id:z,glyph:Oe.glyphs[z]||null})})},(L,z)=>{if(L)y(L);else if(z){const V={};for(const{stack:K,id:re,glyph:me}of z)void 0===V[K]&&(V[K]={}),void 0===V[K].glyphs&&(V[K].glyphs={}),V[K].glyphs[re]=me&&{id:me.id,bitmap:me.bitmap.clone(),metrics:me.metrics},V[K].ascender=this.entries[K].ascender,V[K].descender=this.entries[K].descender;y(null,V)}})}_doesCharSupportLocalGlyph(c){return this.localGlyphMode!==xy.none&&(this.localGlyphMode===xy.all?!!this.localFontFamily:!!this.localFontFamily&&(Dc(c)||Ac(c)||Ao(c)||el(c))||sd(c))}_tinySDF(c,y,M){const L=this.localFontFamily;if(!L||!this._doesCharSupportLocalGlyph(M))return;let z=c.tinySDF;if(!z){let _t="400";/bold/i.test(y)?_t="900":/medium/i.test(y)?_t="500":/light/i.test(y)&&(_t="200"),z=c.tinySDF=new lp.TinySDF(48,6,16,.25,L,_t)}if(this.localGlyphs[z.fontWeight][M])return this.localGlyphs[z.fontWeight][M];const{data:V,metrics:K}=z.drawWithMetrics(String.fromCharCode(M)),{sdfWidth:re,sdfHeight:me,width:be,height:Te,left:Oe,top:Ve,advance:et}=K;return this.localGlyphs[z.fontWeight][M]={id:M,bitmap:new ip({width:re,height:me},V),metrics:{width:be/2,height:Te/2,left:Oe/2,top:Ve/2-27,advance:et/2,localGlyph:!0}}}}function wy(_,c,y,M){const L=[],z=_.image,V=z.pixelRatio,K=z.paddedRect.w-2,re=z.paddedRect.h-2,me=_.right-_.left,be=_.bottom-_.top,Te=z.stretchX||[[0,K]],Oe=z.stretchY||[[0,re]],Ve=(Rn,Gn)=>Rn+Gn[1]-Gn[0],et=Te.reduce(Ve,0),_t=Oe.reduce(Ve,0),At=K-et,Ht=re-_t;let sn=0,an=et,dn=0,xn=_t,bn=0,Un=At,ei=0,Zn=Ht;if(z.content&&M){const Rn=z.content;sn=Hm(Te,0,Rn[0]),dn=Hm(Oe,0,Rn[1]),an=Hm(Te,Rn[0],Rn[2]),xn=Hm(Oe,Rn[1],Rn[3]),bn=Rn[0]-sn,ei=Rn[1]-dn,Un=Rn[2]-Rn[0]-an,Zn=Rn[3]-Rn[1]-xn}const di=(Rn,Gn,ni,Pn)=>{const ur=Wd(Rn.stretch-sn,an,me,_.left),Nr=nm(Rn.fixed-bn,Un,Rn.stretch,et),rs=Wd(Gn.stretch-dn,xn,be,_.top),zr=nm(Gn.fixed-ei,Zn,Gn.stretch,_t),Zi=Wd(ni.stretch-sn,an,me,_.left),yo=nm(ni.fixed-bn,Un,ni.stretch,et),Wi=Wd(Pn.stretch-dn,xn,be,_.top),na=nm(Pn.fixed-ei,Zn,Pn.stretch,_t),qa=new Me(ur,rs),Ba=new Me(Zi,rs),Pl=new Me(Zi,Wi),ia=new Me(ur,Wi),ra=new Me(Nr/V,zr/V),Lo=new Me(yo/V,na/V),ha=c*Math.PI/180;if(ha){const Po=Math.sin(ha),lo=Math.cos(ha),$a=[lo,-Po,Po,lo];qa._matMult($a),Ba._matMult($a),ia._matMult($a),Pl._matMult($a)}const Uo=Rn.stretch+Rn.fixed,gl=Gn.stretch+Gn.fixed;return{tl:qa,tr:Ba,bl:ia,br:Pl,tex:{x:z.paddedRect.x+1+Uo,y:z.paddedRect.y+1+gl,w:ni.stretch+ni.fixed-Uo,h:Pn.stretch+Pn.fixed-gl},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:ra,pixelOffsetBR:Lo,minFontScaleX:Un/V/me,minFontScaleY:Zn/V/be,isSDF:y}};if(M&&(z.stretchX||z.stretchY)){const Rn=Hv(Te,At,et),Gn=Hv(Oe,Ht,_t);for(let ni=0;ni<Rn.length-1;ni++){const Pn=Rn[ni],ur=Rn[ni+1];for(let Nr=0;Nr<Gn.length-1;Nr++)L.push(di(Pn,Gn[Nr],ur,Gn[Nr+1]))}}else L.push(di({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:K+1},{fixed:0,stretch:re+1}));return L}function Hm(_,c,y){let M=0;for(const L of _)M+=Math.max(c,Math.min(y,L[1]))-Math.max(c,Math.min(y,L[0]));return M}function Hv(_,c,y){const M=[{fixed:-1,stretch:0}];for(const[L,z]of _){const V=M[M.length-1];M.push({fixed:L-V.stretch,stretch:V.stretch}),M.push({fixed:L-V.stretch,stretch:V.stretch+(z-L)})}return M.push({fixed:c+1,stretch:y}),M}function Wd(_,c,y,M){return _/c*y+M}function nm(_,c,y,M){return _-c*y/M}function $b(_,c,y,M){const L=c+_.positionedLines[M].lineOffset;return 0===M?y+L/2:y+(L+(c+_.positionedLines[M-1].lineOffset))/2}lp.loadGlyphRange=function(_,c,y,M,L){const z=256*c,V=z+255,K=M.transformRequest(M.normalizeGlyphsURL(y).replace("{fontstack}",_).replace("{range}",`${z}-${V}`),hr.Glyphs);Ye(K,(re,me)=>{if(re)L(re);else if(me){const be={},Te=new yg(me).readFields(Bv,{});for(const Oe of Te.glyphs)be[Oe.id]=Oe;L(null,{glyphs:be,ascender:Te.ascender,descender:Te.descender})}})},lp.TinySDF=Wb;class vx{constructor(c=[],y=__){if(this.data=c,this.length=this.data.length,this.compare=y,this.length>0)for(let M=(this.length>>1)-1;M>=0;M--)this._down(M)}push(c){this.data.push(c),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const c=this.data[0],y=this.data.pop();return this.length--,this.length>0&&(this.data[0]=y,this._down(0)),c}peek(){return this.data[0]}_up(c){const{data:y,compare:M}=this,L=y[c];for(;c>0;){const z=c-1>>1,V=y[z];if(M(L,V)>=0)break;y[c]=V,c=z}y[c]=L}_down(c){const{data:y,compare:M}=this,L=this.length>>1,z=y[c];for(;c<L;){let V=1+(c<<1),K=y[V];const re=V+1;if(re<this.length&&M(y[re],K)<0&&(V=re,K=y[re]),M(K,z)>=0)break;y[c]=K,c=V}y[c]=z}}function __(_,c){return _<c?-1:_>c?1:0}function bx(_,c=1,y=!1){let M=1/0,L=1/0,z=-1/0,V=-1/0;const K=_[0];for(let Ve=0;Ve<K.length;Ve++){const et=K[Ve];(!Ve||et.x<M)&&(M=et.x),(!Ve||et.y<L)&&(L=et.y),(!Ve||et.x>z)&&(z=et.x),(!Ve||et.y>V)&&(V=et.y)}const re=Math.min(z-M,V-L);let me=re/2;const be=new vx([],xx);if(0===re)return new Me(M,L);for(let Ve=M;Ve<z;Ve+=re)for(let et=L;et<V;et+=re)be.push(new vf(Ve+me,et+me,me,_));let Te=function(Ve){let et=0,_t=0,At=0;const Ht=Ve[0];for(let sn=0,an=Ht.length,dn=an-1;sn<an;dn=sn++){const xn=Ht[sn],bn=Ht[dn],Un=xn.x*bn.y-bn.x*xn.y;_t+=(xn.x+bn.x)*Un,At+=(xn.y+bn.y)*Un,et+=3*Un}return new vf(_t/et,At/et,0,Ve)}(_),Oe=be.length;for(;be.length;){const Ve=be.pop();(Ve.d>Te.d||!Te.d)&&(Te=Ve,y&&console.log("found best %d after %d probes",Math.round(1e4*Ve.d)/1e4,Oe)),Ve.max-Te.d<=c||(me=Ve.h/2,be.push(new vf(Ve.p.x-me,Ve.p.y-me,me,_)),be.push(new vf(Ve.p.x+me,Ve.p.y-me,me,_)),be.push(new vf(Ve.p.x-me,Ve.p.y+me,me,_)),be.push(new vf(Ve.p.x+me,Ve.p.y+me,me,_)),Oe+=4)}return y&&(console.log(`num probes: ${Oe}`),console.log(`best distance: ${Te.d}`)),Te.p}function xx(_,c){return c.max-_.max}function vf(_,c,y,M){this.p=new Me(_,c),this.h=y,this.d=function(L,z){let V=!1,K=1/0;for(let re=0;re<z.length;re++){const me=z[re];for(let be=0,Te=me.length,Oe=Te-1;be<Te;Oe=be++){const Ve=me[be],et=me[Oe];Ve.y>L.y!=et.y>L.y&&L.x<(et.x-Ve.x)*(L.y-Ve.y)/(et.y-Ve.y)+Ve.x&&(V=!V),K=Math.min(K,py(L,Ve,et))}}return(V?1:-1)*Math.sqrt(K)}(this.p,M),this.max=this.d+this.h*Math.SQRT2}const wg=Number.POSITIVE_INFINITY,im=Math.sqrt(2);function Vm(_,c){return c[1]!==wg?function(y,M,L){let z=0,V=0;switch(M=Math.abs(M),L=Math.abs(L),y){case"top-right":case"top-left":case"top":V=L-7;break;case"bottom-right":case"bottom-left":case"bottom":V=7-L}switch(y){case"top-right":case"bottom-right":case"right":z=-M;break;case"top-left":case"bottom-left":case"left":z=M}return[z,V]}(_,c[0],c[1]):function(y,M){let L=0,z=0;M<0&&(M=0);const V=M/im;switch(y){case"top-right":case"top-left":z=V-7;break;case"bottom-right":case"bottom-left":z=7-V;break;case"bottom":z=7-M;break;case"top":z=M-7}switch(y){case"top-right":case"bottom-right":L=-V;break;case"top-left":case"bottom-left":L=V;break;case"left":L=M;break;case"right":L=-M}return[L,z]}(_,c[0])}function vt(_,c,y,M,L,z,V,K){_.createArrays(),_.tilePixelRatio=Fr/(512*_.overscaling),_.compareText={},_.iconsNeedLinear=!1;const re=_.layers[0].layout,me=_.layers[0]._unevaluatedLayout._values,be={};if("composite"===_.textSizeData.kind){const{minZoom:Ve,maxZoom:et}=_.textSizeData;be.compositeTextSizes=[me["text-size"].possiblyEvaluate(new Qe(Ve),V),me["text-size"].possiblyEvaluate(new Qe(et),V)]}if("composite"===_.iconSizeData.kind){const{minZoom:Ve,maxZoom:et}=_.iconSizeData;be.compositeIconSizes=[me["icon-size"].possiblyEvaluate(new Qe(Ve),V),me["icon-size"].possiblyEvaluate(new Qe(et),V)]}be.layoutTextSize=me["text-size"].possiblyEvaluate(new Qe(K+1),V),be.layoutIconSize=me["icon-size"].possiblyEvaluate(new Qe(K+1),V),be.textMaxSize=me["text-size"].possiblyEvaluate(new Qe(18),V);const Te="map"===re.get("text-rotation-alignment")&&"point"!==re.get("symbol-placement"),Oe=re.get("text-size");for(const Ve of _.features){const et=re.get("text-font").evaluate(Ve,{},V).join(","),_t=Oe.evaluate(Ve,{},V),At=be.layoutTextSize.evaluate(Ve,{},V),Ht=(be.layoutIconSize.evaluate(Ve,{},V),{horizontal:{},vertical:void 0}),sn=Ve.text;let an,dn=[0,0];if(sn){const Un=sn.toString(),ei=24*re.get("text-letter-spacing").evaluate(Ve,{},V),Zn=24*re.get("text-line-height").evaluate(Ve,{},V),di=Ua(Un)?ei:0,Rn=re.get("text-anchor").evaluate(Ve,{},V),Gn=re.get("text-variable-anchor");if(!Gn){const zr=re.get("text-radial-offset").evaluate(Ve,{},V);dn=zr?Vm(Rn,[24*zr,wg]):re.get("text-offset").evaluate(Ve,{},V).map(Zi=>24*Zi)}let ni=Te?"center":re.get("text-justify").evaluate(Ve,{},V);const Pn=re.get("symbol-placement"),ur="point"===Pn,Nr="point"===Pn?24*re.get("text-max-width").evaluate(Ve,{},V):0,rs=zr=>{_.allowVerticalPlacement&&ad(Un)&&(Ht.vertical=ap(sn,c,y,L,et,Nr,Zn,Rn,zr,di,dn,kh.vertical,!0,Pn,At,_t))};if(!Te&&Gn){const zr="auto"===ni?Gn.map(yo=>Ls(yo)):[ni];let Zi=!1;for(let yo=0;yo<zr.length;yo++){const Wi=zr[yo];if(!Ht.horizontal[Wi])if(Zi)Ht.horizontal[Wi]=Ht.horizontal[0];else{const na=ap(sn,c,y,L,et,Nr,Zn,"center",Wi,di,dn,kh.horizontal,!1,Pn,At,_t);na&&(Ht.horizontal[Wi]=na,Zi=1===na.positionedLines.length)}}rs("left")}else{if("auto"===ni&&(ni=Ls(Rn)),ur||re.get("text-writing-mode").indexOf("horizontal")>=0||!ad(Un)){const zr=ap(sn,c,y,L,et,Nr,Zn,Rn,ni,di,dn,kh.horizontal,!1,Pn,At,_t);zr&&(Ht.horizontal[ni]=zr)}rs("point"===Pn?"left":ni)}}let xn=!1;if(Ve.icon&&Ve.icon.name){const Un=M[Ve.icon.name];Un&&(an=xg(L[Ve.icon.name],re.get("icon-offset").evaluate(Ve,{},V),re.get("icon-anchor").evaluate(Ve,{},V)),xn=Un.sdf,void 0===_.sdfIcons?_.sdfIcons=Un.sdf:_.sdfIcons!==Un.sdf&&Vi("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Un.pixelRatio!==_.pixelRatio||0!==re.get("icon-rotate").constantOr(1))&&(_.iconsNeedLinear=!0))}const bn=Cy(Ht.horizontal)||Ht.vertical;_.iconsInText||(_.iconsInText=!!bn&&bn.iconsInText),(bn||an)&&Ah(_,Ve,Ht,an,M,be,At,0,dn,xn,V)}z&&_.generateCollisionDebugBuffers(K,_.collisionBoxArray)}function Ls(_){switch(_){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function Ah(_,c,y,M,L,z,V,K,re,me,be){let Te=z.textMaxSize.evaluate(c,{},be);void 0===Te&&(Te=V);const Oe=_.layers[0].layout,Ve=Oe.get("icon-offset").evaluate(c,{},be),et=Cy(y.horizontal)||y.vertical,_t=V/24,At=_.tilePixelRatio*Te/24,Ht=_.tilePixelRatio*Oe.get("symbol-spacing"),sn=Oe.get("text-padding")*_.tilePixelRatio,an=Oe.get("icon-padding")*_.tilePixelRatio,dn=rn(Oe.get("text-max-angle")),xn="map"===Oe.get("text-rotation-alignment")&&"point"!==Oe.get("symbol-placement"),bn="map"===Oe.get("icon-rotation-alignment")&&"point"!==Oe.get("symbol-placement"),Un=Oe.get("symbol-placement"),ei=Ht/2,Zn=Oe.get("icon-text-fit");let di;M&&"none"!==Zn&&(_.allowVerticalPlacement&&y.vertical&&(di=Yv(M,y.vertical,Zn,Oe.get("icon-text-fit-padding"),Ve,_t)),et&&(M=Yv(M,et,Zn,Oe.get("icon-text-fit-padding"),Ve,_t)));const Rn=(Gn,ni)=>{ni.x<0||ni.x>=Fr||ni.y<0||ni.y>=Fr||function(Pn,ur,Nr,rs,zr,Zi,yo,Wi,na,qa,Ba,Pl,ia,ra,Lo,ha,Uo,gl,Po,lo,$a,wa,jo,mc){const sa=Pn.addToLineVertexArray(ur,Nr);let Kc,Ca,As,Ma,eu,no,yd,tu=0,Cf=0,qp=0,rl=0,Ql=-1,Qd=-1;const sl={};let Mf=Tn(""),vd=0,Oo=0;if(void 0===Wi._unevaluatedLayout.getValue("text-radial-offset")?[vd,Oo]=Wi.layout.get("text-offset").evaluate(lo,{},jo).map(pa=>24*pa):(vd=24*Wi.layout.get("text-radial-offset").evaluate(lo,{},jo),Oo=wg),Pn.allowVerticalPlacement&&rs.vertical){const pa=rs.vertical;if(ra)no=ji(pa),yo&&(yd=ji(yo));else{const _l=Wi.layout.get("text-rotate").evaluate(lo,{},jo)+90;As=y_(na,ur,qa,Ba,Pl,pa,ia,_l,Lo),yo&&(Ma=y_(na,ur,qa,Ba,Pl,yo,Uo,_l))}}if(zr){const pa=Wi.layout.get("icon-rotate").evaluate(lo,{},jo),_l="none"!==Wi.layout.get("icon-text-fit"),yl=wy(zr,pa,wa,_l),Ph=yo?wy(yo,pa,wa,_l):void 0;Ca=y_(na,ur,qa,Ba,Pl,zr,Uo,pa),tu=4*yl.length;const E_=Pn.iconSizeData;let Fc=null;"source"===E_.kind?(Fc=[mu*Wi.layout.get("icon-size").evaluate(lo,{},jo)],Fc[0]>Uu&&Vi(`${Pn.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)):"composite"===E_.kind&&(Fc=[mu*$a.compositeIconSizes[0].evaluate(lo,{},jo),mu*$a.compositeIconSizes[1].evaluate(lo,{},jo)],(Fc[0]>Uu||Fc[1]>Uu)&&Vi(`${Pn.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)),Pn.addSymbols(Pn.icon,yl,Fc,Po,gl,lo,!1,ur,sa.lineStartIndex,sa.lineLength,-1,jo),Ql=Pn.icon.placedSymbolArray.length-1,Ph&&(Cf=4*Ph.length,Pn.addSymbols(Pn.icon,Ph,Fc,Po,gl,lo,kh.vertical,ur,sa.lineStartIndex,sa.lineLength,-1,jo),Qd=Pn.icon.placedSymbolArray.length-1)}for(const pa in rs.horizontal){const _l=rs.horizontal[pa];Kc||(Mf=Tn(_l.text),ra?eu=ji(_l):Kc=y_(na,ur,qa,Ba,Pl,_l,ia,Wi.layout.get("text-rotate").evaluate(lo,{},jo),Lo));const yl=1===_l.positionedLines.length;if(qp+=Qb(Pn,ur,_l,Zi,Wi,ra,lo,Lo,sa,rs.vertical?kh.horizontal:kh.horizontalOnly,yl?Object.keys(rs.horizontal):[pa],sl,Ql,$a,jo),yl)break}rs.vertical&&(rl+=Qb(Pn,ur,rs.vertical,Zi,Wi,ra,lo,Lo,sa,kh.vertical,["vertical"],sl,Qd,$a,jo));let Lh=-1;const Ly=(pa,_l)=>pa?Math.max(pa,_l):_l;Lh=Ly(eu,Lh),Lh=Ly(no,Lh),Lh=Ly(yd,Lh);const Py=Lh>-1?1:0;Py&&(Lh*=mc/24),Pn.glyphOffsetArray.length>=sm.MAX_GLYPHS&&Vi("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==lo.sortKey&&Pn.addToSortKeyRanges(Pn.symbolInstances.length,lo.sortKey),Pn.symbolInstances.emplaceBack(ur.x,ur.y,sl.right>=0?sl.right:-1,sl.center>=0?sl.center:-1,sl.left>=0?sl.left:-1,sl.vertical>=0?sl.vertical:-1,Ql,Qd,Mf,void 0!==Kc?Kc:Pn.collisionBoxArray.length,void 0!==Kc?Kc+1:Pn.collisionBoxArray.length,void 0!==As?As:Pn.collisionBoxArray.length,void 0!==As?As+1:Pn.collisionBoxArray.length,void 0!==Ca?Ca:Pn.collisionBoxArray.length,void 0!==Ca?Ca+1:Pn.collisionBoxArray.length,Ma||Pn.collisionBoxArray.length,Ma?Ma+1:Pn.collisionBoxArray.length,qa,qp,rl,tu,Cf,Py,0,vd,Oo,Lh)}(_,ni,Gn,y,M,L,di,_.layers[0],_.collisionBoxArray,c.index,c.sourceLayerIndex,_.index,sn,xn,re,0,an,bn,Ve,c,z,me,be,V)};if("line"===Un)for(const Gn of Ym(c.geometry,0,0,Fr,Fr)){const ni=Gb(Gn,Ht,dn,y.vertical||et,M,24,At,_.overscaling,Fr);for(const Pn of ni){const ur=et;ur&&v_(_,ur.text,ei,Pn)||Rn(Gn,Pn)}}else if("line-center"===Un){for(const Gn of c.geometry)if(Gn.length>1){const ni=yx(Gn,dn,y.vertical||et,M,24,At);ni&&Rn(Gn,ni)}}else if("Polygon"===c.type)for(const Gn of Yu(c.geometry,0)){const ni=bx(Gn,16);Rn(Gn[0],new Eh(ni.x,ni.y,0))}else if("LineString"===c.type)for(const Gn of c.geometry)Rn(Gn,new Eh(Gn[0].x,Gn[0].y,0));else if("Point"===c.type)for(const Gn of c.geometry)for(const ni of Gn)Rn([ni],new Eh(ni.x,ni.y,0))}const Uu=32640;function Qb(_,c,y,M,L,z,V,K,re,me,be,Te,Oe,Ve,et){const _t=function(sn,an,dn,xn,bn,Un,ei,Zn){const di=[];if(0===an.positionedLines.length)return di;const Rn=xn.layout.get("text-rotate").evaluate(Un,{})*Math.PI/180,Gn=function(rs){const zr=rs[0],Zi=rs[1],yo=zr*Zi;return yo>0?[zr,-Zi]:yo<0?[-zr,Zi]:0===zr?[Zi,zr]:[Zi,-zr]}(dn);let ni=Math.abs(an.top-an.bottom);for(const rs of an.positionedLines)ni-=rs.lineOffset;const Pn=an.positionedLines.length,ur=ni/Pn;let Nr=an.top-dn[1];for(let rs=0;rs<Pn;++rs){const zr=an.positionedLines[rs];Nr=$b(an,ur,Nr,rs);for(const Zi of zr.positionedGlyphs){if(!Zi.rect)continue;const yo=Zi.rect||{};let Wi=4,na=!0,qa=1,Ba=0;const Pl=(bn||Zn)&&Zi.vertical,ia=Zi.metrics.advance*Zi.scale/2,ra=Zi.metrics,Lo=Zi.rect;if(null===Lo)continue;if(Zn&&an.verticalizable&&(Ba=Zi.imageName?ia-Zi.metrics.width*Zi.scale/2:0),Zi.imageName){const As=ei[Zi.imageName];if(!As)continue;na=As.sdf,qa=As.pixelRatio,Wi=1/qa}const ha=bn?[Zi.x+ia,Zi.y]:[0,0];let Uo=[0,0],gl=[0,0],Po=!1;bn||(Pl?(gl=[Zi.x+ia+Gn[0],Zi.y+Gn[1]-Ba],Po=!0):Uo=[Zi.x+ia+dn[0],Zi.y+dn[1]-Ba]);const lo=Lo.w*Zi.scale/(qa*(Zi.localGlyph?2:1)),$a=Lo.h*Zi.scale/(qa*(Zi.localGlyph?2:1));let wa,jo,mc,sa;if(Pl){const As=Zi.y-Nr,Ma=new Me(-ia,ia-As),eu=-Math.PI/2,no=new Me(...gl);wa=new Me(-ia+Uo[0],Uo[1]),wa._rotateAround(eu,Ma)._add(no),wa.x+=-As+ia,wa.y-=(ra.left-Wi)*Zi.scale;const yd=Zi.imageName?ra.advance*Zi.scale:24*Zi.scale,tu=String.fromCharCode(Zi.glyph);Nb(tu)?wa.x+=(1-Wi)*Zi.scale:d1(tu)?wa.x+=yd-ra.height*Zi.scale+(-Wi-1)*Zi.scale:wa.x+=Zi.imageName||ra.width+2*Wi===Lo.w&&ra.height+2*Wi===Lo.h?(yd-$a)/2:(yd-(ra.height+2*Wi)*Zi.scale)/2,jo=new Me(wa.x,wa.y-lo),mc=new Me(wa.x+$a,wa.y),sa=new Me(wa.x+$a,wa.y-lo)}else{const As=(ra.left-Wi)*Zi.scale-ia+Uo[0],Ma=(-ra.top-Wi)*Zi.scale+Uo[1],eu=As+lo,no=Ma+$a;wa=new Me(As,Ma),jo=new Me(eu,Ma),mc=new Me(As,no),sa=new Me(eu,no)}if(Rn){let As;As=bn?new Me(0,0):Po?new Me(Gn[0],Gn[1]):new Me(dn[0],dn[1]),wa._rotateAround(Rn,As),jo._rotateAround(Rn,As),mc._rotateAround(Rn,As),sa._rotateAround(Rn,As)}const Kc=new Me(0,0),Ca=new Me(0,0);di.push({tl:wa,tr:jo,bl:mc,br:sa,tex:yo,writingMode:an.writingMode,glyphOffset:ha,sectionIndex:Zi.sectionIndex,isSDF:na,pixelOffsetTL:Kc,pixelOffsetBR:Ca,minFontScaleX:0,minFontScaleY:0})}}return di}(0,y,K,L,z,V,M,_.allowVerticalPlacement),At=_.textSizeData;let Ht=null;"source"===At.kind?(Ht=[mu*L.layout.get("text-size").evaluate(V,{},et)],Ht[0]>Uu&&Vi(`${_.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)):"composite"===At.kind&&(Ht=[mu*Ve.compositeTextSizes[0].evaluate(V,{},et),mu*Ve.compositeTextSizes[1].evaluate(V,{},et)],(Ht[0]>Uu||Ht[1]>Uu)&&Vi(`${_.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)),_.addSymbols(_.text,_t,Ht,K,z,V,me,c,re.lineStartIndex,re.lineLength,Oe,et);for(const sn of be)Te[sn]=_.text.placedSymbolArray.length-1;return 4*_t.length}function Cy(_){for(const c in _)return _[c];return null}function y_(_,c,y,M,L,z,V,K,re){let me=z.top,be=z.bottom,Te=z.left,Oe=z.right;const Ve=z.collisionPadding;if(Ve&&(Te-=Ve[0],me-=Ve[1],Oe+=Ve[2],be+=Ve[3]),K){const et=new Me(Te,me),_t=new Me(Oe,me),At=new Me(Te,be),Ht=new Me(Oe,be),sn=rn(K);let an=new Me(0,0);re&&(an=new Me(re[0],re[1])),et._rotateAround(sn,an),_t._rotateAround(sn,an),At._rotateAround(sn,an),Ht._rotateAround(sn,an),Te=Math.min(et.x,_t.x,At.x,Ht.x),Oe=Math.max(et.x,_t.x,At.x,Ht.x),me=Math.min(et.y,_t.y,At.y,Ht.y),be=Math.max(et.y,_t.y,At.y,Ht.y)}return _.emplaceBack(c.x,c.y,Te,me,Oe,be,V,y,M,L),_.length-1}function ji(_){_.collisionPadding&&(_.top-=_.collisionPadding[1],_.bottom+=_.collisionPadding[3]);const c=_.bottom-_.top;return c>0?Math.max(10,c):null}function v_(_,c,y,M){const L=_.compareText;if(c in L){const z=L[c];for(let V=z.length-1;V>=0;V--)if(M.dist(z[V])<y)return!0}else L[c]=[];return L[c].push(M),!1}const is=pf.VectorTileFeature.types,Um=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Cg(_,c,y,M,L,z,V,K,re,me,be,Te,Oe){const Ve=K?Math.min(Uu,Math.round(K[0])):0,et=K?Math.min(Uu,Math.round(K[1])):0;_.emplaceBack(c,y,Math.round(32*M),Math.round(32*L),z,V,(Ve<<1)+(re?1:0),et,16*me,16*be,256*Te,256*Oe)}function rm(_,c,y){_.emplaceBack(c.x,c.y,y),_.emplaceBack(c.x,c.y,y),_.emplaceBack(c.x,c.y,y),_.emplaceBack(c.x,c.y,y)}function f1(_){for(const c of _.sections)if(Np(c.text))return!0;return!1}class Mg{constructor(c){this.layoutVertexArray=new to,this.indexArray=new Us,this.programConfigurations=c,this.segments=new El,this.dynamicLayoutVertexArray=new jl,this.opacityVertexArray=new ja,this.placedSymbolArray=new To}isEmpty(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length}upload(c,y,M,L){this.isEmpty()||(M&&(this.layoutVertexBuffer=c.createVertexBuffer(this.layoutVertexArray,ir.members),this.indexBuffer=c.createIndexBuffer(this.indexArray,y),this.dynamicLayoutVertexBuffer=c.createVertexBuffer(this.dynamicLayoutVertexArray,ts.members,!0),this.opacityVertexBuffer=c.createVertexBuffer(this.opacityVertexArray,Um,!0),this.opacityVertexBuffer.itemSize=1),(M||L)&&this.programConfigurations.upload(c))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}Ci("SymbolBuffers",Mg);class gd{constructor(c,y,M){this.layoutVertexArray=new c,this.layoutAttributes=y,this.indexArray=new M,this.segments=new El,this.collisionVertexArray=new Hi,this.collisionVertexArrayExt=new jl}upload(c){this.layoutVertexBuffer=c.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=c.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=c.createVertexBuffer(this.collisionVertexArray,Fa.members,!0),this.collisionVertexBufferExt=c.createVertexBuffer(this.collisionVertexArrayExt,Qc.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}Ci("CollisionBuffers",gd);class sm{constructor(c){this.collisionBoxArray=c.collisionBoxArray,this.zoom=c.zoom,this.overscaling=c.overscaling,this.layers=c.layers,this.layerIds=this.layers.map(V=>V.id),this.index=c.index,this.pixelRatio=c.pixelRatio,this.sourceLayerIndex=c.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Ra([]),this.placementViewportMatrix=Ra([]);const y=this.layers[0]._unevaluatedLayout._values;this.textSizeData=gf(this.zoom,y["text-size"]),this.iconSizeData=gf(this.zoom,y["icon-size"]);const M=this.layers[0].layout,L=M.get("symbol-sort-key"),z=M.get("symbol-z-order");this.canOverlap=M.get("text-allow-overlap")||M.get("icon-allow-overlap")||M.get("text-ignore-placement")||M.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==z&&void 0!==L.constantOr(1),this.sortFeaturesByY=("viewport-y"===z||"auto"===z&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=M.get("text-writing-mode").map(V=>kh[V]),this.stateDependentLayerIds=this.layers.filter(V=>V.isStateDependent()).map(V=>V.id),this.sourceID=c.sourceID}createArrays(){this.text=new Mg(new Kh(this.layers,this.zoom,c=>/^text/.test(c))),this.icon=new Mg(new Kh(this.layers,this.zoom,c=>/^icon/.test(c))),this.glyphOffsetArray=new cc,this.lineVertexArray=new hl,this.symbolInstances=new Iu}calculateGlyphDependencies(c,y,M,L,z){for(let V=0;V<c.length;V++)if(y[c.charCodeAt(V)]=!0,L&&z){const K=Nm[c.charAt(V)];K&&(y[K.charCodeAt(0)]=!0)}}populate(c,y,M){const L=this.layers[0],z=L.layout,V=z.get("text-font"),K=z.get("text-field"),re=z.get("icon-image"),me=("constant"!==K.value.kind||K.value.value instanceof _i&&!K.value.value.isEmpty()||K.value.value.toString().length>0)&&("constant"!==V.value.kind||V.value.value.length>0),be="constant"!==re.value.kind||!!re.value.value||Object.keys(re.parameters).length>0,Te=z.get("symbol-sort-key");if(this.features=[],!me&&!be)return;const Oe=y.iconDependencies,Ve=y.glyphDependencies,et=y.availableImages,_t=new Qe(this.zoom);for(const{feature:At,id:Ht,index:sn,sourceLayerIndex:an}of c){const dn=L._featureFilter.needGeometry,xn=pu(At,dn);if(!L._featureFilter.filter(_t,xn,M))continue;let bn,Un;if(dn||(xn.geometry=Vp(At)),me){const Zn=L.getValueAndResolveTokens("text-field",xn,M,et),di=_i.factory(Zn);f1(di)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===ve()||this.hasRTLText&&qe.isParsed())&&(bn=Fb(di,L,xn))}if(be){const Zn=L.getValueAndResolveTokens("icon-image",xn,M,et);Un=Zn instanceof Yi?Zn:Yi.fromString(Zn)}if(!bn&&!Un)continue;const ei=this.sortFeaturesByKey?Te.evaluate(xn,{},M):void 0;if(this.features.push({id:Ht,text:bn,icon:Un,index:sn,sourceLayerIndex:an,geometry:xn.geometry,properties:At.properties,type:is[At.type],sortKey:ei}),Un&&(Oe[Un.name]=!0),bn){const Zn=V.evaluate(xn,{},M).join(","),di="map"===z.get("text-rotation-alignment")&&"point"!==z.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(kh.vertical)>=0;for(const Rn of bn.sections)if(Rn.image)Oe[Rn.image.name]=!0;else{const Gn=ad(bn.toString()),ni=Rn.fontStack||Zn,Pn=Ve[ni]=Ve[ni]||{};this.calculateGlyphDependencies(Rn.text,Pn,di,this.allowVerticalPlacement,Gn)}}}"line"===z.get("symbol-placement")&&(this.features=function(At){const Ht={},sn={},an=[];let dn=0;function xn(Zn){an.push(At[Zn]),dn++}function bn(Zn,di,Rn){const Gn=sn[Zn];return delete sn[Zn],sn[di]=Gn,an[Gn].geometry[0].pop(),an[Gn].geometry[0]=an[Gn].geometry[0].concat(Rn[0]),Gn}function Un(Zn,di,Rn){const Gn=Ht[di];return delete Ht[di],Ht[Zn]=Gn,an[Gn].geometry[0].shift(),an[Gn].geometry[0]=Rn[0].concat(an[Gn].geometry[0]),Gn}function ei(Zn,di,Rn){const Gn=Rn?di[0][di[0].length-1]:di[0][0];return`${Zn}:${Gn.x}:${Gn.y}`}for(let Zn=0;Zn<At.length;Zn++){const di=At[Zn],Rn=di.geometry,Gn=di.text?di.text.toString():null;if(!Gn){xn(Zn);continue}const ni=ei(Gn,Rn),Pn=ei(Gn,Rn,!0);if(ni in sn&&Pn in Ht&&sn[ni]!==Ht[Pn]){const ur=Un(ni,Pn,Rn),Nr=bn(ni,Pn,an[ur].geometry);delete Ht[ni],delete sn[Pn],sn[ei(Gn,an[Nr].geometry,!0)]=Nr,an[ur].geometry=null}else ni in sn?bn(ni,Pn,Rn):Pn in Ht?Un(ni,Pn,Rn):(xn(Zn),Ht[ni]=dn-1,sn[Pn]=dn-1)}return an.filter(Zn=>Zn.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((At,Ht)=>At.sortKey-Ht.sortKey)}update(c,y,M){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(c,y,this.layers,M),this.icon.programConfigurations.updatePaintArrays(c,y,this.layers,M))}isEmpty(){return 0===this.symbolInstances.length&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(c){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(c),this.iconCollisionBox.upload(c)),this.text.upload(c,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(c,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(c,y){const M=this.lineVertexArray.length;if(void 0!==c.segment){let L=c.dist(y[c.segment+1]),z=c.dist(y[c.segment]);const V={};for(let K=c.segment+1;K<y.length;K++)V[K]={x:y[K].x,y:y[K].y,tileUnitDistanceFromAnchor:L},K<y.length-1&&(L+=y[K+1].dist(y[K]));for(let K=c.segment||0;K>=0;K--)V[K]={x:y[K].x,y:y[K].y,tileUnitDistanceFromAnchor:z},K>0&&(z+=y[K-1].dist(y[K]));for(let K=0;K<y.length;K++){const re=V[K];this.lineVertexArray.emplaceBack(re.x,re.y,re.tileUnitDistanceFromAnchor)}}return{lineStartIndex:M,lineLength:this.lineVertexArray.length-M}}addSymbols(c,y,M,L,z,V,K,re,me,be,Te,Oe){const Ve=c.indexArray,et=c.layoutVertexArray,_t=c.segments.prepareSegment(4*y.length,et,Ve,this.canOverlap?V.sortKey:void 0),At=this.glyphOffsetArray.length,Ht=_t.vertexLength,sn=this.allowVerticalPlacement&&K===kh.vertical?Math.PI/2:0,an=V.text&&V.text.sections;for(let dn=0;dn<y.length;dn++){const{tl:xn,tr:bn,bl:Un,br:ei,tex:Zn,pixelOffsetTL:di,pixelOffsetBR:Rn,minFontScaleX:Gn,minFontScaleY:ni,glyphOffset:Pn,isSDF:ur,sectionIndex:Nr}=y[dn],rs=_t.vertexLength,zr=Pn[1];Cg(et,re.x,re.y,xn.x,zr+xn.y,Zn.x,Zn.y,M,ur,di.x,di.y,Gn,ni),Cg(et,re.x,re.y,bn.x,zr+bn.y,Zn.x+Zn.w,Zn.y,M,ur,Rn.x,di.y,Gn,ni),Cg(et,re.x,re.y,Un.x,zr+Un.y,Zn.x,Zn.y+Zn.h,M,ur,di.x,Rn.y,Gn,ni),Cg(et,re.x,re.y,ei.x,zr+ei.y,Zn.x+Zn.w,Zn.y+Zn.h,M,ur,Rn.x,Rn.y,Gn,ni),rm(c.dynamicLayoutVertexArray,re,sn),Ve.emplaceBack(rs,rs+1,rs+2),Ve.emplaceBack(rs+1,rs+2,rs+3),_t.vertexLength+=4,_t.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Pn[0]),dn!==y.length-1&&Nr===y[dn+1].sectionIndex||c.programConfigurations.populatePaintArrays(et.length,V,V.index,{},Oe,an&&an[Nr])}c.placedSymbolArray.emplaceBack(re.x,re.y,At,this.glyphOffsetArray.length-At,Ht,me,be,re.segment,M?M[0]:0,M?M[1]:0,L[0],L[1],K,0,!1,0,Te,0)}_commitLayoutVertex(c,y,M,L,z){c.emplaceBack(y.x,y.y,M,L,Math.round(z.x),Math.round(z.y))}_addCollisionDebugVertices(c,y,M,L,z){const V=M.segments.prepareSegment(4,M.layoutVertexArray,M.indexArray),K=V.vertexLength,re=z.anchorX,me=z.anchorY;for(let Te=0;Te<4;Te++)M.collisionVertexArray.emplaceBack(0,0,0,0);M.collisionVertexArrayExt.emplaceBack(y,-c.padding,-c.padding),M.collisionVertexArrayExt.emplaceBack(y,c.padding,-c.padding),M.collisionVertexArrayExt.emplaceBack(y,c.padding,c.padding),M.collisionVertexArrayExt.emplaceBack(y,-c.padding,c.padding),this._commitLayoutVertex(M.layoutVertexArray,L,re,me,new Me(c.x1,c.y1)),this._commitLayoutVertex(M.layoutVertexArray,L,re,me,new Me(c.x2,c.y1)),this._commitLayoutVertex(M.layoutVertexArray,L,re,me,new Me(c.x2,c.y2)),this._commitLayoutVertex(M.layoutVertexArray,L,re,me,new Me(c.x1,c.y2)),V.vertexLength+=4;const be=M.indexArray;be.emplaceBack(K,K+1),be.emplaceBack(K+1,K+2),be.emplaceBack(K+2,K+3),be.emplaceBack(K+3,K),V.primitiveLength+=4}_addTextDebugCollisionBoxes(c,y,M,L,z,V){for(let K=L;K<z;K++){const re=M.get(K),me=this.getSymbolInstanceTextSize(c,V,y,K);this._addCollisionDebugVertices(re,me,this.textCollisionBox,re.anchorPoint,V)}}_addIconDebugCollisionBoxes(c,y,M,L,z,V){for(let K=L;K<z;K++){const re=M.get(K),me=this.getSymbolInstanceIconSize(c,y,K);this._addCollisionDebugVertices(re,me,this.iconCollisionBox,re.anchorPoint,V)}}generateCollisionDebugBuffers(c,y){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new gd(Ko,mf.members,dl),this.iconCollisionBox=new gd(Ko,mf.members,dl);const M=_g(this.iconSizeData,c),L=_g(this.textSizeData,c);for(let z=0;z<this.symbolInstances.length;z++){const V=this.symbolInstances.get(z);this._addTextDebugCollisionBoxes(L,c,y,V.textBoxStartIndex,V.textBoxEndIndex,V),this._addTextDebugCollisionBoxes(L,c,y,V.verticalTextBoxStartIndex,V.verticalTextBoxEndIndex,V),this._addIconDebugCollisionBoxes(M,c,y,V.iconBoxStartIndex,V.iconBoxEndIndex,V),this._addIconDebugCollisionBoxes(M,c,y,V.verticalIconBoxStartIndex,V.verticalIconBoxEndIndex,V)}}getSymbolInstanceTextSize(c,y,M,L){const z=this.text.placedSymbolArray.get(y.rightJustifiedTextSymbolIndex>=0?y.rightJustifiedTextSymbolIndex:y.centerJustifiedTextSymbolIndex>=0?y.centerJustifiedTextSymbolIndex:y.leftJustifiedTextSymbolIndex>=0?y.leftJustifiedTextSymbolIndex:y.verticalPlacedTextSymbolIndex>=0?y.verticalPlacedTextSymbolIndex:L),V=c_(this.textSizeData,c,z)/24;return this.tilePixelRatio*V}getSymbolInstanceIconSize(c,y,M){const L=this.icon.placedSymbolArray.get(M),z=c_(this.iconSizeData,c,L);return this.tilePixelRatio*z}_commitDebugCollisionVertexUpdate(c,y,M){c.emplaceBack(y,-M,-M),c.emplaceBack(y,M,-M),c.emplaceBack(y,M,M),c.emplaceBack(y,-M,M)}_updateTextDebugCollisionBoxes(c,y,M,L,z,V){for(let K=L;K<z;K++){const re=M.get(K),me=this.getSymbolInstanceTextSize(c,V,y,K);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,me,re.padding)}}_updateIconDebugCollisionBoxes(c,y,M,L,z){for(let V=L;V<z;V++){const K=M.get(V),re=this.getSymbolInstanceIconSize(c,y,V);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,re,K.padding)}}updateCollisionDebugBuffers(c,y){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const M=_g(this.iconSizeData,c),L=_g(this.textSizeData,c);for(let z=0;z<this.symbolInstances.length;z++){const V=this.symbolInstances.get(z);this._updateTextDebugCollisionBoxes(L,c,y,V.textBoxStartIndex,V.textBoxEndIndex,V),this._updateTextDebugCollisionBoxes(L,c,y,V.verticalTextBoxStartIndex,V.verticalTextBoxEndIndex,V),this._updateIconDebugCollisionBoxes(M,c,y,V.iconBoxStartIndex,V.iconBoxEndIndex),this._updateIconDebugCollisionBoxes(M,c,y,V.verticalIconBoxStartIndex,V.verticalIconBoxEndIndex)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}_deserializeCollisionBoxesForSymbol(c,y,M,L,z,V,K,re,me){const be={};for(let Te=y;Te<M;Te++){const Oe=c.get(Te);be.textBox={x1:Oe.x1,y1:Oe.y1,x2:Oe.x2,y2:Oe.y2,padding:Oe.padding,anchorPointX:Oe.anchorPointX,anchorPointY:Oe.anchorPointY},be.textFeatureIndex=Oe.featureIndex;break}for(let Te=L;Te<z;Te++){const Oe=c.get(Te);be.verticalTextBox={x1:Oe.x1,y1:Oe.y1,x2:Oe.x2,y2:Oe.y2,padding:Oe.padding,anchorPointX:Oe.anchorPointX,anchorPointY:Oe.anchorPointY},be.verticalTextFeatureIndex=Oe.featureIndex;break}for(let Te=V;Te<K;Te++){const Oe=c.get(Te);be.iconBox={x1:Oe.x1,y1:Oe.y1,x2:Oe.x2,y2:Oe.y2,padding:Oe.padding,anchorPointX:Oe.anchorPointX,anchorPointY:Oe.anchorPointY},be.iconFeatureIndex=Oe.featureIndex;break}for(let Te=re;Te<me;Te++){const Oe=c.get(Te);be.verticalIconBox={x1:Oe.x1,y1:Oe.y1,x2:Oe.x2,y2:Oe.y2,padding:Oe.padding,anchorPointX:Oe.anchorPointX,anchorPointY:Oe.anchorPointY},be.verticalIconFeatureIndex=Oe.featureIndex;break}return be}deserializeCollisionBoxes(c){this.collisionArrays=[];for(let y=0;y<this.symbolInstances.length;y++){const M=this.symbolInstances.get(y);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(c,M.textBoxStartIndex,M.textBoxEndIndex,M.verticalTextBoxStartIndex,M.verticalTextBoxEndIndex,M.iconBoxStartIndex,M.iconBoxEndIndex,M.verticalIconBoxStartIndex,M.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(c,y){const M=c.placedSymbolArray.get(y),L=M.vertexStartIndex+4*M.numGlyphs;for(let z=M.vertexStartIndex;z<L;z+=4)c.indexArray.emplaceBack(z,z+1,z+2),c.indexArray.emplaceBack(z+1,z+2,z+3)}getSortedSymbolIndexes(c){if(this.sortedAngle===c&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;const y=Math.sin(c),M=Math.cos(c),L=[],z=[],V=[];for(let K=0;K<this.symbolInstances.length;++K){V.push(K);const re=this.symbolInstances.get(K);L.push(0|Math.round(y*re.anchorX+M*re.anchorY)),z.push(re.featureIndex)}return V.sort((K,re)=>L[K]-L[re]||z[re]-z[K]),V}addToSortKeyRanges(c,y){const M=this.sortKeyRanges[this.sortKeyRanges.length-1];M&&M.sortKey===y?M.symbolInstanceEnd=c+1:this.sortKeyRanges.push({sortKey:y,symbolInstanceStart:c,symbolInstanceEnd:c+1})}sortFeatures(c){if(this.sortFeaturesByY&&this.sortedAngle!==c&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(c),this.sortedAngle=c,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const y of this.symbolInstanceIndexes){const M=this.symbolInstances.get(y);this.featureSortOrder.push(M.featureIndex),[M.rightJustifiedTextSymbolIndex,M.centerJustifiedTextSymbolIndex,M.leftJustifiedTextSymbolIndex].forEach((L,z,V)=>{L>=0&&V.indexOf(L)===z&&this.addIndicesForPlacedSymbol(this.text,L)}),M.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,M.verticalPlacedTextSymbolIndex),M.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,M.placedIconSymbolIndex),M.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,M.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}Ci("SymbolBucket",sm,{omit:["layers","collisionBoxArray","features","compareText"]}),sm.MAX_GLYPHS=65535,sm.addDynamicAttributes=rm;const Xb=new It({"symbol-placement":new St(b.layout_symbol["symbol-placement"]),"symbol-spacing":new St(b.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new St(b.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Dt(b.layout_symbol["symbol-sort-key"]),"symbol-z-order":new St(b.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new St(b.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new St(b.layout_symbol["icon-ignore-placement"]),"icon-optional":new St(b.layout_symbol["icon-optional"]),"icon-rotation-alignment":new St(b.layout_symbol["icon-rotation-alignment"]),"icon-size":new Dt(b.layout_symbol["icon-size"]),"icon-text-fit":new St(b.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new St(b.layout_symbol["icon-text-fit-padding"]),"icon-image":new Dt(b.layout_symbol["icon-image"]),"icon-rotate":new Dt(b.layout_symbol["icon-rotate"]),"icon-padding":new St(b.layout_symbol["icon-padding"]),"icon-keep-upright":new St(b.layout_symbol["icon-keep-upright"]),"icon-offset":new Dt(b.layout_symbol["icon-offset"]),"icon-anchor":new Dt(b.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new St(b.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new St(b.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new St(b.layout_symbol["text-rotation-alignment"]),"text-field":new Dt(b.layout_symbol["text-field"]),"text-font":new Dt(b.layout_symbol["text-font"]),"text-size":new Dt(b.layout_symbol["text-size"]),"text-max-width":new Dt(b.layout_symbol["text-max-width"]),"text-line-height":new Dt(b.layout_symbol["text-line-height"]),"text-letter-spacing":new Dt(b.layout_symbol["text-letter-spacing"]),"text-justify":new Dt(b.layout_symbol["text-justify"]),"text-radial-offset":new Dt(b.layout_symbol["text-radial-offset"]),"text-variable-anchor":new St(b.layout_symbol["text-variable-anchor"]),"text-anchor":new Dt(b.layout_symbol["text-anchor"]),"text-max-angle":new St(b.layout_symbol["text-max-angle"]),"text-writing-mode":new St(b.layout_symbol["text-writing-mode"]),"text-rotate":new Dt(b.layout_symbol["text-rotate"]),"text-padding":new St(b.layout_symbol["text-padding"]),"text-keep-upright":new St(b.layout_symbol["text-keep-upright"]),"text-transform":new Dt(b.layout_symbol["text-transform"]),"text-offset":new Dt(b.layout_symbol["text-offset"]),"text-allow-overlap":new St(b.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new St(b.layout_symbol["text-ignore-placement"]),"text-optional":new St(b.layout_symbol["text-optional"])});var Na={paint:new It({"icon-opacity":new Dt(b.paint_symbol["icon-opacity"]),"icon-color":new Dt(b.paint_symbol["icon-color"]),"icon-halo-color":new Dt(b.paint_symbol["icon-halo-color"]),"icon-halo-width":new Dt(b.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Dt(b.paint_symbol["icon-halo-blur"]),"icon-translate":new St(b.paint_symbol["icon-translate"]),"icon-translate-anchor":new St(b.paint_symbol["icon-translate-anchor"]),"text-opacity":new Dt(b.paint_symbol["text-opacity"]),"text-color":new Dt(b.paint_symbol["text-color"],{runtimeType:Pe,getOverride:_=>_.textColor,hasOverride:_=>!!_.textColor}),"text-halo-color":new Dt(b.paint_symbol["text-halo-color"]),"text-halo-width":new Dt(b.paint_symbol["text-halo-width"]),"text-halo-blur":new Dt(b.paint_symbol["text-halo-blur"]),"text-translate":new St(b.paint_symbol["text-translate"]),"text-translate-anchor":new St(b.paint_symbol["text-translate-anchor"])}),layout:Xb};class Gr{constructor(c){this.type=c.property.overrides?c.property.overrides.runtimeType:ue,this.defaultValue=c}evaluate(c){if(c.formattedSection){const y=this.defaultValue.property.overrides;if(y&&y.hasOverride(c.formattedSection))return y.getOverride(c.formattedSection)}return c.feature&&c.featureState?this.defaultValue.evaluate(c.feature,c.featureState):this.defaultValue.property.specification.default}eachChild(c){this.defaultValue.isConstant()||c(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Ci("FormatSectionOverride",Gr,{omit:["defaultValue"]});class go extends Ic{constructor(c){super(c,Na)}recalculate(c,y){super.recalculate(c,y),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));const M=this.layout.get("text-writing-mode");if(M){const L=[];for(const z of M)L.indexOf(z)<0&&L.push(z);this.layout._values["text-writing-mode"]=L}else this.layout._values["text-writing-mode"]="point"===this.layout.get("symbol-placement")?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}getValueAndResolveTokens(c,y,M,L){const z=this.layout.get(c).evaluate(y,{},M,L),V=this._unevaluatedLayout._values[c];return V.isDataDriven()||va(V.value)||!z?z:(K=y.properties,z.replace(/{([^{}]+)}/g,(me,be)=>be in K?String(K[be]):""));var K}createBucket(c){return new sm(c)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const c of Na.paint.overridableProperties){if(!go.hasPaintOverride(this.layout,c))continue;const y=this.paint.get(c),M=new Gr(y),L=new hh(M,y.property.specification);let z=null;z="constant"===y.value.kind||"source"===y.value.kind?new Cc("source",L):new jc("composite",L,y.value.zoomStops,y.value._interpolationType),this.paint._values[c]=new Tt(y.property,z,y.parameters)}}_handleOverridablePaintPropertyUpdate(c,y,M){return!(!this.layout||y.isDataDriven()||M.isDataDriven())&&go.hasPaintOverride(this.layout,c)}static hasPaintOverride(c,y){const M=c.get("text-field"),L=Na.paint.properties[y];let z=!1;const V=K=>{for(const re of K)if(L.overrides&&L.overrides.hasOverride(re))return void(z=!0)};if("constant"===M.value.kind&&M.value.value instanceof _i)V(M.value.value.sections);else if("source"===M.value.kind){const K=me=>{z||(me instanceof jr&&Cs(me.value)===bt?V(me.value.sections):me instanceof ao?V(me.sections):me.eachChild(K))},re=M.value;re._styleExpression&&K(re._styleExpression.expression)}return z}getProgramConfiguration(c){return new vh(this,c)}}var Al={paint:new It({"background-color":new St(b.paint_background["background-color"]),"background-pattern":new Dn(b.paint_background["background-pattern"]),"background-opacity":new St(b.paint_background["background-opacity"])})},Il={paint:new It({"raster-opacity":new St(b.paint_raster["raster-opacity"]),"raster-hue-rotate":new St(b.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new St(b.paint_raster["raster-brightness-min"]),"raster-brightness-max":new St(b.paint_raster["raster-brightness-max"]),"raster-saturation":new St(b.paint_raster["raster-saturation"]),"raster-contrast":new St(b.paint_raster["raster-contrast"]),"raster-resampling":new St(b.paint_raster["raster-resampling"]),"raster-fade-duration":new St(b.paint_raster["raster-fade-duration"])})};class m1 extends Ic{constructor(c){super(c,{}),this.implementation=c}is3D(){return"3d"===this.implementation.renderingMode}hasOffscreenPass(){return void 0!==this.implementation.prerender}recalculate(){}updateTransitions(){}hasTransition(){}serialize(){}onAdd(c){this.implementation.onAdd&&this.implementation.onAdd(c,c.painter.context.gl)}onRemove(c){this.implementation.onRemove&&this.implementation.onRemove(c,c.painter.context.gl)}}var om={paint:new It({"sky-type":new St(b.paint_sky["sky-type"]),"sky-atmosphere-sun":new St(b.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new St(b.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new St(b.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new St(b.paint_sky["sky-gradient-radius"]),"sky-gradient":new Nn(b.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new St(b.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new St(b.paint_sky["sky-atmosphere-color"]),"sky-opacity":new St(b.paint_sky["sky-opacity"])})};function b_(_,c,y){const M=Ch(0,0,1),L=Wl(ud());return function(z,V,K){K*=.5;var re=V[0],me=V[1],be=V[2],Te=V[3],Oe=Math.sin(K),Ve=Math.cos(K);z[0]=re*Ve-be*Oe,z[1]=me*Ve+Te*Oe,z[2]=be*Ve+re*Oe,z[3]=Te*Ve-me*Oe}(L,L,y?-rn(_)+Math.PI:rn(_)),np(L,L,-rn(c)),cf(M,M,L),Im(M,M)}const g1={circle:class extends Ic{constructor(_){super(_,Lc)}createBucket(_){return new Zl(_)}queryRadius(_){const c=_;return Yf("circle-radius",this,c)+Yf("circle-stroke-width",this,c)+Dm(this.paint.get("circle-translate"))}queryIntersectsFeature(_,c,y,M,L,z,V,K){const re="map"===this.paint.get("circle-pitch-alignment");if(re&&_.queryGeometry.isAboveHorizon)return!1;const me=sg(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),z.angle,_.pixelToTileUnitsFactor),be=this.paint.get("circle-radius").evaluate(c,y)+this.paint.get("circle-stroke-width").evaluate(c,y),Te=re?be*_.pixelToTileUnitsFactor:be;for(const Oe of M)for(const Ve of Oe){const et=Ve.add(me),_t=K&&z.elevation?z.elevation.exaggeration()*K.getElevationAt(et.x,et.y,!0):0,At=re?et:df(et,_t,V),Ht=re?_.tilespaceRays.map(dn=>Uf(dn,_t)):_.queryGeometry.screenGeometry;let sn=Te;const an=tp([],[Ve.x,Ve.y,_t,1],V);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?sn*=an[3]/z.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(sn*=z.cameraToCenterDistance/an[3]),fu(Ht,At,sn))return!0}return!1}getProgramIds(){return["circle"]}getProgramConfiguration(_){return new vh(this,_)}},heatmap:class extends Ic{createBucket(_){return new jf(_)}constructor(_){super(_,s_),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(_){"heatmap-color"===_&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=Fu({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility}getProgramIds(){return["heatmap","heatmapTexture"]}getProgramConfiguration(_){return new vh(this,_)}},hillshade:class extends Ic{constructor(_){super(_,Nu)}hasOffscreenPass(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility}getProgramIds(){return["hillshade","hillshadePrepare"]}getProgramConfiguration(_){return new vh(this,_)}},fill:class extends Ic{constructor(_){super(_,Hu)}getProgramIds(){const _=this.paint.get("fill-pattern"),c=_&&_.constantOr(1),y=[c?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&y.push(c&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),y}getProgramConfiguration(_){return new vh(this,_)}recalculate(_,c){super.recalculate(_,c);const y=this.paint._values["fill-outline-color"];"constant"===y.value.kind&&void 0===y.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(_){return new fd(_)}queryRadius(){return Dm(this.paint.get("fill-translate"))}queryIntersectsFeature(_,c,y,M,L,z){return!_.queryGeometry.isAboveHorizon&&Hd(Am(_.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),z.angle,_.pixelToTileUnitsFactor),M)}isTileClipped(){return!0}},"fill-extrusion":class extends Ic{constructor(_){super(_,E)}createBucket(_){return new ff(_)}queryRadius(){return Dm(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}getProgramIds(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}getProgramConfiguration(_){return new vh(this,_)}queryIntersectsFeature(_,c,y,M,L,z,V,K,re){const me=sg(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),z.angle,_.pixelToTileUnitsFactor),be=this.paint.get("fill-extrusion-height").evaluate(c,y),Te=this.paint.get("fill-extrusion-base").evaluate(c,y),Oe=[0,0],Ve=K&&z.elevation,et=z.elevation?z.elevation.exaggeration():1;if(Ve){const Ht=_.tile.getBucket(this).centroidVertexArray,sn=re+1;if(sn<Ht.length){const an=Ht.get(sn);Oe[0]=an.a_centroid_pos0,Oe[1]=an.a_centroid_pos1}}if(0===Oe[0]&&1===Oe[1])return!1;const _t=(Ht=M,sn=Te,an=be,dn=me,xn=V,(bn=Ve?K:null)?function(di,Rn,Gn,ni,Pn,ur,Nr,rs,zr){const Zi=[],yo=[],Wi=[0,0,0,1];for(const na of di){const qa=[],Ba=[];for(const Pl of na){const ia=Pl.x+ni.x,ra=Pl.y+ni.y,Lo=se(ia,ra,Rn,Gn,ur,Nr,rs,zr);Wi[0]=ia,Wi[1]=ra,Wi[2]=Lo.base,Wi[3]=1,tp(Wi,Wi,Pn),Wi[3]=Math.max(Wi[3],1e-5);const ha=j([Wi[0]/Wi[3],Wi[1]/Wi[3],Wi[2]/Wi[3]]);Wi[0]=ia,Wi[1]=ra,Wi[2]=Lo.top,Wi[3]=1,tp(Wi,Wi,Pn),Wi[3]=Math.max(Wi[3],1e-5);const Uo=j([Wi[0]/Wi[3],Wi[1]/Wi[3],Wi[2]/Wi[3]]);qa.push(ha),Ba.push(Uo)}Zi.push(qa),yo.push(Ba)}return[Zi,yo]}(Ht,sn,an,dn,xn,bn,Oe,et,z.center.lat):function(di,Rn,Gn,ni,Pn){const ur=[],Nr=[],rs=Pn[8]*Rn,zr=Pn[9]*Rn,Zi=Pn[10]*Rn,yo=Pn[11]*Rn,Wi=Pn[8]*Gn,na=Pn[9]*Gn,qa=Pn[10]*Gn,Ba=Pn[11]*Gn;for(const Pl of di){const ia=[],ra=[];for(const Lo of Pl){const ha=Lo.x+ni.x,Uo=Lo.y+ni.y,gl=Pn[0]*ha+Pn[4]*Uo+Pn[12],Po=Pn[1]*ha+Pn[5]*Uo+Pn[13],lo=Pn[2]*ha+Pn[6]*Uo+Pn[14],$a=Pn[3]*ha+Pn[7]*Uo+Pn[15],wa=gl+rs,jo=Po+zr,mc=lo+Zi,sa=Math.max($a+yo,1e-5),Kc=gl+Wi,Ca=Po+na,As=lo+qa,Ma=Math.max($a+Ba,1e-5),eu=new Me(wa/sa,jo/sa);eu.z=mc/sa,ia.push(eu);const no=new Me(Kc/Ma,Ca/Ma);no.z=As/Ma,ra.push(no)}ur.push(ia),Nr.push(ra)}return[ur,Nr]}(Ht,sn,an,dn,xn)),At=_.queryGeometry;var Ht,sn,an,dn,xn,bn;return function(Ht,sn,an){let dn=1/0;Hd(an,sn)&&(dn=P(an,sn[0]));for(let xn=0;xn<sn.length;xn++){const bn=sn[xn],Un=Ht[xn];for(let ei=0;ei<bn.length-1;ei++){const Zn=bn[ei],di=[Zn,bn[ei+1],Un[ei+1],Un[ei],Zn];rg(an,di)&&(dn=Math.min(dn,P(an,di)))}}return dn!==1/0&&dn}(_t[0],_t[1],At.isPointQuery()?At.screenBounds:At.screenGeometry)}},line:class extends Ic{constructor(_){super(_,ci),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(_){if("line-gradient"===_){const c=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=c._styleExpression&&c._styleExpression.expression instanceof Qa,this.gradientVersion=(this.gradientVersion+1)%Mt}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(_,c){super.recalculate(_,c),this.paint._values["line-floorwidth"]=Di.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,_)}createBucket(_){return new Sn(_)}getProgramIds(){const _=this.paint.get("line-dasharray"),c=this.paint.get("line-pattern").constantOr(1),y=this.paint.get("line-gradient");return[c?"linePattern":_?"lineSDF":y?"lineGradient":"line"]}getProgramConfiguration(_){return new vh(this,_)}queryRadius(_){const c=_,y=Qi(Yf("line-width",this,c),Yf("line-gap-width",this,c)),M=Yf("line-offset",this,c);return y/2+Math.abs(M)+Dm(this.paint.get("line-translate"))}queryIntersectsFeature(_,c,y,M,L,z){if(_.queryGeometry.isAboveHorizon)return!1;const V=Am(_.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),z.angle,_.pixelToTileUnitsFactor),K=_.pixelToTileUnitsFactor/2*Qi(this.paint.get("line-width").evaluate(c,y),this.paint.get("line-gap-width").evaluate(c,y)),re=this.paint.get("line-offset").evaluate(c,y);return re&&(M=function(me,be){const Te=[],Oe=new Me(0,0);for(let Ve=0;Ve<me.length;Ve++){const et=me[Ve],_t=[];for(let At=0;At<et.length;At++){const Ht=et[At-1],sn=et[At],an=et[At+1],dn=0===At?Oe:sn.sub(Ht)._unit()._perp(),xn=At===et.length-1?Oe:an.sub(sn)._unit()._perp(),bn=dn._add(xn)._unit();bn._mult(1/(bn.x*xn.x+bn.y*xn.y)),_t.push(bn._mult(be)._add(sn))}Te.push(_t)}return Te}(M,re*_.pixelToTileUnitsFactor)),function(me,be,Te){for(let Oe=0;Oe<be.length;Oe++){const Ve=be[Oe];if(me.length>=3)for(let et=0;et<Ve.length;et++)if(fl(me,Ve[et]))return!0;if(Gl(me,Ve,Te))return!0}return!1}(V,M,K)}isTileClipped(){return!0}},symbol:go,background:class extends Ic{constructor(_){super(_,Al)}getProgramIds(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}},raster:class extends Ic{constructor(_){super(_,Il)}getProgramIds(){return["raster"]}},sky:class extends Ic{constructor(_){super(_,om),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(_){"sky-gradient"===_?this._updateColorRamp():"sky-atmosphere-sun"!==_&&"sky-atmosphere-halo-color"!==_&&"sky-atmosphere-color"!==_&&"sky-atmosphere-sun-intensity"!==_||(this._skyboxInvalidated=!0)}_updateColorRamp(){this.colorRamp=Fu({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}needsSkyboxCapture(_){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){const c=_.style.light.properties.get("position");return this._lightPosition.azimuthal!==c.azimuthal||this._lightPosition.polar!==c.polar}}getCenter(_,c){const y=this.paint.get("sky-type");if("atmosphere"===y){const M=this.paint.get("sky-atmosphere-sun"),L=!M,z=_.style.light,V=z.properties.get("position");return L&&"viewport"===z.properties.get("anchor")&&Vi("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),L?b_(V.azimuthal,90-V.polar,c):b_(M[0],90-M[1],c)}if("gradient"===y){const M=this.paint.get("sky-gradient-center");return b_(M[0],90-M[1],c)}}is3D(){return!1}isSky(){return!0}markSkyboxValid(_){this._skyboxInvalidated=!1,this._lightPosition=_.style.light.properties.get("position")}hasOffscreenPass(){return!0}getProgramIds(){const _=this.paint.get("sky-type");return"atmosphere"===_?["skyboxCapture","skybox"]:"gradient"===_?["skyboxGradient"]:null}}},{HTMLImageElement:Vv,HTMLCanvasElement:Tg,HTMLVideoElement:Sg,ImageData:x_,ImageBitmap:Rc}=Ge;class _d{constructor(c,y,M,L){this.context=c,this.format=M,this.texture=c.gl.createTexture(),this.update(y,L)}update(c,y,M){const{width:L,height:z}=c,V=!(this.size&&this.size[0]===L&&this.size[1]===z||M),{context:K}=this,{gl:re}=K;if(this.useMipmap=Boolean(y&&y.useMipmap),re.bindTexture(re.TEXTURE_2D,this.texture),K.pixelStoreUnpackFlipY.set(!1),K.pixelStoreUnpack.set(1),K.pixelStoreUnpackPremultiplyAlpha.set(this.format===re.RGBA&&(!y||!1!==y.premultiply)),V)this.size=[L,z],c instanceof Vv||c instanceof Tg||c instanceof Sg||c instanceof x_||Rc&&c instanceof Rc?re.texImage2D(re.TEXTURE_2D,0,this.format,this.format,re.UNSIGNED_BYTE,c):re.texImage2D(re.TEXTURE_2D,0,this.format,L,z,0,this.format,re.UNSIGNED_BYTE,c.data);else{const{x:me,y:be}=M||{x:0,y:0};c instanceof Vv||c instanceof Tg||c instanceof Sg||c instanceof x_||Rc&&c instanceof Rc?re.texSubImage2D(re.TEXTURE_2D,0,me,be,re.RGBA,re.UNSIGNED_BYTE,c):re.texSubImage2D(re.TEXTURE_2D,0,me,be,L,z,re.RGBA,re.UNSIGNED_BYTE,c.data)}this.useMipmap&&this.isSizePowerOfTwo()&&re.generateMipmap(re.TEXTURE_2D)}bind(c,y,M){const{context:L}=this,{gl:z}=L;z.bindTexture(z.TEXTURE_2D,this.texture),M!==z.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(M=z.LINEAR),c!==this.filter&&(z.texParameteri(z.TEXTURE_2D,z.TEXTURE_MAG_FILTER,c),z.texParameteri(z.TEXTURE_2D,z.TEXTURE_MIN_FILTER,M||c),this.filter=c),y!==this.wrap&&(z.texParameteri(z.TEXTURE_2D,z.TEXTURE_WRAP_S,y),z.texParameteri(z.TEXTURE_2D,z.TEXTURE_WRAP_T,y),this.wrap=y)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:c}=this.context;c.deleteTexture(this.texture),this.texture=null}}class il{constructor(c,y){c&&(y?this.setSouthWest(c).setNorthEast(y):4===c.length?this.setSouthWest([c[0],c[1]]).setNorthEast([c[2],c[3]]):this.setSouthWest(c[0]).setNorthEast(c[1]))}setNorthEast(c){return this._ne=c instanceof Vr?new Vr(c.lng,c.lat):Vr.convert(c),this}setSouthWest(c){return this._sw=c instanceof Vr?new Vr(c.lng,c.lat):Vr.convert(c),this}extend(c){const y=this._sw,M=this._ne;let L,z;if(c instanceof Vr)L=c,z=c;else{if(!(c instanceof il))return Array.isArray(c)?4===c.length||c.every(Array.isArray)?this.extend(il.convert(c)):this.extend(Vr.convert(c)):this;if(L=c._sw,z=c._ne,!L||!z)return this}return y||M?(y.lng=Math.min(L.lng,y.lng),y.lat=Math.min(L.lat,y.lat),M.lng=Math.max(z.lng,M.lng),M.lat=Math.max(z.lat,M.lat)):(this._sw=new Vr(L.lng,L.lat),this._ne=new Vr(z.lng,z.lat)),this}getCenter(){return new Vr((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new Vr(this.getWest(),this.getNorth())}getSouthEast(){return new Vr(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(c){const{lng:y,lat:M}=Vr.convert(c);let L=this._sw.lng<=y&&y<=this._ne.lng;return this._sw.lng>this._ne.lng&&(L=this._sw.lng>=y&&y>=this._ne.lng),this._sw.lat<=M&&M<=this._ne.lat&&L}static convert(c){return!c||c instanceof il?c:new il(c)}}const kg=6371008.8;class Vr{constructor(c,y){if(isNaN(c)||isNaN(y))throw new Error(`Invalid LngLat object: (${c}, ${y})`);if(this.lng=+c,this.lat=+y,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Vr(ar(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(c){const y=Math.PI/180,M=this.lat*y,L=c.lat*y,z=Math.sin(M)*Math.sin(L)+Math.cos(M)*Math.cos(L)*Math.cos((c.lng-this.lng)*y);return kg*Math.acos(Math.min(z,1))}toBounds(c=0){const y=360*c/40075017,M=y/Math.cos(Math.PI/180*this.lat);return new il(new Vr(this.lng-M,this.lat-y),new Vr(this.lng+M,this.lat+y))}static convert(c){if(c instanceof Vr)return c;if(Array.isArray(c)&&(2===c.length||3===c.length))return new Vr(Number(c[0]),Number(c[1]));if(!Array.isArray(c)&&"object"==typeof c&&null!==c)return new Vr(Number("lng"in c?c.lng:c.lon),Number(c.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const za=2*Math.PI*kg;function My(_){return za*Math.cos(_*Math.PI/180)}function Ty(_){return(180+_)/360}function Sy(_){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+_*Math.PI/360)))/360}function w_(_,c){return _/My(c)}function qd(_){return 360/Math.PI*Math.atan(Math.exp((180-360*_)*Math.PI/180))-90}function C_(_,c){return _*My(qd(c))}class cp{constructor(c,y,M=0){this.x=+c,this.y=+y,this.z=+M}static fromLngLat(c,y=0){const M=Vr.convert(c);return new cp(Ty(M.lng),Sy(M.lat),w_(y,M.lat))}toLngLat(){return new Vr(360*this.x-180,qd(this.y))}toAltitude(){return C_(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/za*(c=qd(this.y),1/Math.cos(c*Math.PI/180));var c}}class M_{constructor(c,y){this.width=c,this.height=y,this.nextRow=0,this.image=new ip({width:c,height:y}),this.positions={},this.uploaded=!1}getDash(c,y){const M=this.getKey(c,y);return this.positions[M]}trim(){const c=this.width,y=this.height=wn(this.nextRow);this.image.resize({width:c,height:y})}getKey(c,y){return c.join(",")+y}getDashRanges(c,y,M){const L=[];let z=c.length%2==1?-c[c.length-1]*M:0,V=c[0]*M,K=!0;L.push({left:z,right:V,isDash:K,zeroLength:0===c[0]});let re=c[0];for(let me=1;me<c.length;me++){K=!K;const be=c[me];z=re*M,re+=be,V=re*M,L.push({left:z,right:V,isDash:K,zeroLength:0===be})}return L}addRoundDash(c,y,M){const L=y/2;for(let z=-M;z<=M;z++){const V=this.width*(this.nextRow+M+z);let K=0,re=c[K];for(let me=0;me<this.width;me++){me/re.right>1&&(re=c[++K]);const be=Math.abs(me-re.left),Te=Math.abs(me-re.right),Oe=Math.min(be,Te);let Ve;const et=z/M*(L+1);if(re.isDash){const _t=L-Math.abs(et);Ve=Math.sqrt(Oe*Oe+_t*_t)}else Ve=L-Math.sqrt(Oe*Oe+et*et);this.image.data[V+me]=Math.max(0,Math.min(255,Ve+128))}}}addRegularDash(c,y){for(let re=c.length-1;re>=0;--re){const me=c[re],be=c[re+1];me.zeroLength?c.splice(re,1):be&&be.isDash===me.isDash&&(be.left=me.left,c.splice(re,1))}const M=c[0],L=c[c.length-1];M.isDash===L.isDash&&(M.left=L.left-this.width,L.right=M.right+this.width);const z=this.width*this.nextRow;let V=0,K=c[V];for(let re=0;re<this.width;re++){re/K.right>1&&(K=c[++V]);const me=Math.abs(re-K.left),be=Math.abs(re-K.right),Te=Math.min(me,be);this.image.data[z+re]=Math.max(0,Math.min(255,(K.isDash?Te:-Te)+y+128))}}addDash(c,y){const M=this.getKey(c,y);if(this.positions[M])return this.positions[M];const L="round"===y,z=L?7:0,V=2*z+1;if(this.nextRow+V>this.height)return Vi("LineAtlas out of space"),null;0===c.length&&c.push(1);let K=0;for(let be=0;be<c.length;be++)c[be]<0&&(Vi("Negative value is found in line dasharray, replacing values with 0"),c[be]=0),K+=c[be];if(0!==K){const be=this.width/K,Te=this.getDashRanges(c,this.width,be);L?this.addRoundDash(Te,be,z):this.addRegularDash(Te,"square"===y?.5*be:0)}const re=this.nextRow+z;this.nextRow+=V;const me={tl:[re,z],br:[K,0]};return this.positions[M]=me,me}}Ci("LineAtlas",M_);class Eg{constructor(c){this._callback=c,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){delete this._channel,this._callback=()=>{}}}const T_=Ge.performance;function Jb(_){const c=_?_.url.toString():void 0;return T_.getEntriesByName(c)}class Uv{constructor(){this.tasks={},this.taskQueue=[],Mn(["process"],this),this.invoker=new Eg(this.process),this.nextId=0}add(c,y){const M=this.nextId++,L=function({type:z,isSymbolTile:V,zoom:K}){return K=K||0,"message"===z?0:"maybePrepare"!==z||V?"parseTile"!==z||V?"parseTile"===z&&V?300-K:"maybePrepare"===z&&V?400-K:500:200-K:100-K}(y);if(0===L){vi();try{c()}finally{}return{cancel:()=>{}}}return this.tasks[M]={fn:c,metadata:y,priority:L,id:M},this.taskQueue.push(M),this.invoker.trigger(),{cancel:()=>{delete this.tasks[M]}}}process(){vi();try{if(this.taskQueue=this.taskQueue.filter(M=>!!this.tasks[M]),!this.taskQueue.length)return;const c=this.pick();if(null===c)return;const y=this.tasks[c];if(delete this.tasks[c],this.taskQueue.length&&this.invoker.trigger(),!y)return;y.fn()}finally{}}pick(){let c=null,y=1/0;for(let L=0;L<this.taskQueue.length;L++){const z=this.tasks[this.taskQueue[L]];z.priority<y&&(y=z.priority,c=L)}if(null===c)return null;const M=this.taskQueue[c];return this.taskQueue.splice(c,1),M}remove(){this.invoker.remove()}}function am(_,c,y){var M=2*Math.PI*6378137/256/Math.pow(2,y);return[_*M-2*Math.PI*6378137/2,c*M-2*Math.PI*6378137/2]}class pc{constructor(c,y,M){this.z=c,this.x=y,this.y=M,this.key=lm(0,c,c,y,M)}equals(c){return this.z===c.z&&this.x===c.x&&this.y===c.y}url(c,y){const M=(z=this.y,V=this.z,K=am(256*(L=this.x),256*(z=Math.pow(2,V)-z-1),V),re=am(256*(L+1),256*(z+1),V),K[0]+","+K[1]+","+re[0]+","+re[1]);var L,z,V,K,re;const me=function(be,Te,Oe){let Ve,et="";for(let _t=be;_t>0;_t--)Ve=1<<_t-1,et+=(Te&Ve?1:0)+(Oe&Ve?2:0);return et}(this.z,this.x,this.y);return c[(this.x+this.y)%c.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===y?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",me).replace("{bbox-epsg-3857}",M)}getTilePoint(c){const y=Math.pow(2,this.z);return new Me((c.x*y-this.x)*Fr,(c.y*y-this.y)*Fr)}getTileVec3(c){const y=Math.pow(2,this.z);return Ch((c.x*y-this.x)*Fr,(c.y*y-this.y)*Fr,C_(c.z,c.y))}toString(){return`${this.z}/${this.x}/${this.y}`}}class bf{constructor(c,y){this.wrap=c,this.canonical=y,this.key=lm(c,y.z,y.z,y.x,y.y)}}class Xc{constructor(c,y,M,L,z){this.overscaledZ=c,this.wrap=y,this.canonical=new pc(M,+L,+z),this.key=0===y&&c===M?this.canonical.key:lm(y,c,M,L,z)}equals(c){return this.overscaledZ===c.overscaledZ&&this.wrap===c.wrap&&this.canonical.equals(c.canonical)}scaledTo(c){const y=this.canonical.z-c;return c>this.canonical.z?new Xc(c,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Xc(c,this.wrap,c,this.canonical.x>>y,this.canonical.y>>y)}calculateScaledKey(c,y=!0){if(this.overscaledZ===c&&y)return this.key;if(c>this.canonical.z)return lm(this.wrap*+y,c,this.canonical.z,this.canonical.x,this.canonical.y);{const M=this.canonical.z-c;return lm(this.wrap*+y,c,c,this.canonical.x>>M,this.canonical.y>>M)}}isChildOf(c){if(c.wrap!==this.wrap)return!1;const y=this.canonical.z-c.canonical.z;return 0===c.overscaledZ||c.overscaledZ<this.overscaledZ&&c.canonical.x===this.canonical.x>>y&&c.canonical.y===this.canonical.y>>y}children(c){if(this.overscaledZ>=c)return[new Xc(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const y=this.canonical.z+1,M=2*this.canonical.x,L=2*this.canonical.y;return[new Xc(y,this.wrap,y,M,L),new Xc(y,this.wrap,y,M+1,L),new Xc(y,this.wrap,y,M,L+1),new Xc(y,this.wrap,y,M+1,L+1)]}isLessThan(c){return this.wrap<c.wrap||!(this.wrap>c.wrap)&&(this.overscaledZ<c.overscaledZ||!(this.overscaledZ>c.overscaledZ)&&(this.canonical.x<c.canonical.x||!(this.canonical.x>c.canonical.x)&&this.canonical.y<c.canonical.y))}wrapped(){return new Xc(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(c){return new Xc(this.overscaledZ,c,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new bf(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(c){return this.canonical.getTilePoint(new cp(c.x-this.wrap,c.y))}getTileVec3(c){return this.canonical.getTileVec3(new cp(c.x-this.wrap,c.y,c.z))}}function lm(_,c,y,M,L){const z=1<<Math.min(y,22);let V=z*(L%z)+M%z;return _&&y<22&&(V+=z*z*((_<0?-2*_-1:2*_)%(1<<2*(22-y)))),16*(32*V+y)+(c-y)}Ci("CanonicalTileID",pc),Ci("OverscaledTileID",Xc,{omit:["projMatrix"]});class ky{constructor(c){this._stringToNumber={},this._numberToString=[];for(let y=0;y<c.length;y++){const M=c[y];this._stringToNumber[M]=y,this._numberToString[y]=M}}encode(c){return this._stringToNumber[c]}decode(c){return this._numberToString[c]}}class Ey{constructor(c,y,M,L,z){this.type="Feature",this._vectorTileFeature=c,c._z=y,c._x=M,c._y=L,this.properties=c.properties,this.id=z}get geometry(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(c){this._geometry=c}toJSON(){const c={geometry:this.geometry};for(const y in this)"_geometry"!==y&&"_vectorTileFeature"!==y&&(c[y]=this[y]);return c}}var Dy=Xn([{name:"a_pos",type:"Int16",components:2}]);class S_{constructor(c,y,M){this.tileID=c,this.uid=er(),this.uses=0,this.tileSize=y,this.tileZoom=M,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(c){const y=c+this.timeAdded;y<Xs.now()||this.fadeEndTime&&y<this.fadeEndTime||(this.fadeEndTime=y)}wasRequested(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state}loadVectorData(c,y,M){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",c){c.featureIndex&&(this.latestFeatureIndex=c.featureIndex,c.rawTileData?(this.latestRawTileData=c.rawTileData,this.latestFeatureIndex.rawTileData=c.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=c.collisionBoxArray,this.buckets=function(L,z){const V={};if(!z)return V;for(const K of L){const re=K.layerIds.map(me=>z.getLayer(me)).filter(Boolean);if(0!==re.length){K.layers=re,K.stateDependentLayerIds&&(K.stateDependentLayers=K.stateDependentLayerIds.map(me=>re.filter(be=>be.id===me)[0]));for(const me of re)V[me.id]=K}}return V}(c.buckets,y.style),this.hasSymbolBuckets=!1;for(const L in this.buckets){const z=this.buckets[L];if(z instanceof sm){if(this.hasSymbolBuckets=!0,!M)break;z.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const L in this.buckets){const z=this.buckets[L];if(z instanceof sm&&z.hasRTLText){this.hasRTLText=!0,qe.isLoading()||qe.isLoaded()||"deferred"!==ve()||He();break}}this.queryPadding=0;for(const L in this.buckets){const z=this.buckets[L];this.queryPadding=Math.max(this.queryPadding,y.style.getLayer(L).queryRadius(z))}c.imageAtlas&&(this.imageAtlas=c.imageAtlas),c.glyphAtlasImage&&(this.glyphAtlasImage=c.glyphAtlasImage),c.lineAtlas&&(this.lineAtlas=c.lineAtlas)}else this.collisionBoxArray=new ld}unloadVectorData(){for(const c in this.buckets)this.buckets[c].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(c){return this.buckets[c.id]}upload(c){for(const M in this.buckets){const L=this.buckets[M];L.uploadPending()&&L.upload(c)}const y=c.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new _d(c,this.imageAtlas.image,y.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new _d(c,this.glyphAtlasImage,y.ALPHA),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new _d(c,this.lineAtlas.image,y.ALPHA),this.lineAtlas.uploaded=!0)}prepare(c){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(c,this.imageAtlasTexture)}queryRenderedFeatures(c,y,M,L,z,V,K,re){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({tileResult:L,pixelPosMatrix:K,transform:V,params:z},c,y,M):{}}querySourceFeatures(c,y){const M=this.latestFeatureIndex;if(!M||!M.rawTileData)return;const L=M.loadVTLayers(),z=y?y.sourceLayer:"",V=L._geojsonTileLayer||L[z];if(!V)return;const K=Js(y&&y.filter),{z:re,x:me,y:be}=this.tileID.canonical,Te={z:re,x:me,y:be};for(let Oe=0;Oe<V.length;Oe++){const Ve=V.feature(Oe);if(K.needGeometry){const At=pu(Ve,!0);if(!K.filter(new Qe(this.tileID.overscaledZ),At,this.tileID.canonical))continue}else if(!K.filter(new Qe(this.tileID.overscaledZ),Ve))continue;const et=M.getId(Ve,z),_t=new Ey(Ve,re,me,be,et);_t.tile=Te,c.push(_t)}}hasData(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(c){const y=this.expirationTime;if(c.cacheControl){const M=bi(c.cacheControl);M["max-age"]&&(this.expirationTime=Date.now()+1e3*M["max-age"])}else c.expires&&(this.expirationTime=new Date(c.expires).getTime());if(this.expirationTime){const M=Date.now();let L=!1;if(this.expirationTime>M)L=!1;else if(y)if(this.expirationTime<y)L=!0;else{const z=this.expirationTime-y;z?this.expirationTime=M+Math.max(z,3e4):L=!0}else L=!0;L?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)}setFeatureState(c,y){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||0===Object.keys(c).length)return;const M=this.latestFeatureIndex.loadVTLayers();for(const L in this.buckets){if(!y.style.hasLayer(L))continue;const z=this.buckets[L],V=z.layers[0].sourceLayer||"_geojsonTileLayer",K=M[V],re=c[V];if(!K||!re||0===Object.keys(re).length)continue;z.update(re,K,this.imageAtlas&&this.imageAtlas.patternPositions||{});const me=y&&y.style&&y.style.getLayer(L);me&&(this.queryPadding=Math.max(this.queryPadding,me.queryRadius(z)))}}holdingForFade(){return void 0!==this.symbolFadeHoldUntil}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<Xs.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(c){this.symbolFadeHoldUntil=Xs.now()+c}setDependencies(c,y){const M={};for(const L of y)M[L]=!0;this.dependencies[c]=M}hasDependency(c,y){for(const M of c){const L=this.dependencies[M];if(L)for(const z of y)if(L[z])return!0}return!1}clearQueryDebugViz(){}}class Wp{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(c,y,M){const L=String(y);if(this.stateChanges[c]=this.stateChanges[c]||{},this.stateChanges[c][L]=this.stateChanges[c][L]||{},zi(this.stateChanges[c][L],M),null===this.deletedStates[c]){this.deletedStates[c]={};for(const z in this.state[c])z!==L&&(this.deletedStates[c][z]=null)}else if(this.deletedStates[c]&&null===this.deletedStates[c][L]){this.deletedStates[c][L]={};for(const z in this.state[c][L])M[z]||(this.deletedStates[c][L][z]=null)}else for(const z in M)this.deletedStates[c]&&this.deletedStates[c][L]&&null===this.deletedStates[c][L][z]&&delete this.deletedStates[c][L][z]}removeFeatureState(c,y,M){if(null===this.deletedStates[c])return;const L=String(y);if(this.deletedStates[c]=this.deletedStates[c]||{},M&&void 0!==y)null!==this.deletedStates[c][L]&&(this.deletedStates[c][L]=this.deletedStates[c][L]||{},this.deletedStates[c][L][M]=null);else if(void 0!==y)if(this.stateChanges[c]&&this.stateChanges[c][L])for(M in this.deletedStates[c][L]={},this.stateChanges[c][L])this.deletedStates[c][L][M]=null;else this.deletedStates[c][L]=null;else this.deletedStates[c]=null}getState(c,y){const M=String(y),L=zi({},(this.state[c]||{})[M],(this.stateChanges[c]||{})[M]);if(null===this.deletedStates[c])return{};if(this.deletedStates[c]){const z=this.deletedStates[c][y];if(null===z)return{};for(const V in z)delete L[V]}return L}initializeTileState(c,y){c.setFeatureState(this.state,y)}coalesceChanges(c,y){const M={};for(const L in this.stateChanges){this.state[L]=this.state[L]||{};const z={};for(const V in this.stateChanges[L])this.state[L][V]||(this.state[L][V]={}),zi(this.state[L][V],this.stateChanges[L][V]),z[V]=this.state[L][V];M[L]=z}for(const L in this.deletedStates){this.state[L]=this.state[L]||{};const z={};if(null===this.deletedStates[L])for(const V in this.state[L])z[V]={},this.state[L][V]={};else for(const V in this.deletedStates[L]){if(null===this.deletedStates[L][V])this.state[L][V]={};else for(const K of Object.keys(this.deletedStates[L][V]))delete this.state[L][V][K];z[V]=this.state[L][V]}M[L]=M[L]||{},zi(M[L],z)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(M).length)for(const L in c)c[L].setFeatureState(M,y)}}class cr{constructor(c){this.size=c,this.minimums=[],this.maximums=[],this.leaves=[]}getElevation(c,y){const M=this.toIdx(c,y);return{min:this.minimums[M],max:this.maximums[M]}}isLeaf(c,y){return this.leaves[this.toIdx(c,y)]}toIdx(c,y){return y*this.size+c}}function jm(_,c,y,M){let L=0,z=Number.MAX_VALUE;for(let V=0;V<3;V++)if(Math.abs(M[V])<1e-15){if(y[V]<_[V]||y[V]>c[V])return null}else{const K=1/M[V];let re=(_[V]-y[V])*K,me=(c[V]-y[V])*K;if(re>me){const be=re;re=me,me=be}if(re>L&&(L=re),me<z&&(z=me),L>z)return null}return L}function ju(_,c,y,M,L,z,V,K,re,me,be){const Te=M-_,Oe=L-c,Ve=z-y,et=V-_,_t=K-c,At=re-y,Ht=be[1]*At-be[2]*_t,sn=be[2]*et-be[0]*At,an=be[0]*_t-be[1]*et,dn=Te*Ht+Oe*sn+Ve*an;if(Math.abs(dn)<1e-15)return null;const xn=1/dn,bn=me[0]-_,Un=me[1]-c,ei=me[2]-y,Zn=(bn*Ht+Un*sn+ei*an)*xn;if(Zn<0||Zn>1)return null;const di=Un*Ve-ei*Oe,Rn=ei*Te-bn*Ve,Gn=bn*Oe-Un*Te,ni=(be[0]*di+be[1]*Rn+be[2]*Gn)*xn;return ni<0||Zn+ni>1?null:(et*di+_t*Rn+At*Gn)*xn}function Dg(_,c,y){return(_-c)/(y-c)}function Kb(_,c,y,M,L,z,V,K,re){const me=1<<y,be=z-M,Te=V-L,Oe=(_+1)/me*be+M,Ve=(c+0)/me*Te+L,et=(c+1)/me*Te+L;K[0]=(_+0)/me*be+M,K[1]=Ve,re[0]=Oe,re[1]=et}class _o{constructor(c){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=c,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const y=function(z){const V=Math.ceil(Math.log2(z.dim/8)),K=[];let re=Math.ceil(Math.pow(2,V));const me=1/re,be=(Ve,et,_t,At,Ht)=>{const sn=At?1:0,an=(Ve+1)*_t-sn,dn=et*_t,xn=(et+1)*_t-sn;Ht[0]=Ve*_t,Ht[1]=dn,Ht[2]=an,Ht[3]=xn};let Te=new cr(re);const Oe=[];for(let Ve=0;Ve<re*re;Ve++){be(Ve%re,Math.floor(Ve/re),me,!1,Oe);const et=$d(Oe[0],Oe[1],z),_t=$d(Oe[2],Oe[1],z),At=$d(Oe[2],Oe[3],z),Ht=$d(Oe[0],Oe[3],z);Te.minimums.push(Math.min(et,_t,At,Ht)),Te.maximums.push(Math.max(et,_t,At,Ht)),Te.leaves.push(1)}for(K.push(Te),re/=2;re>=1;re/=2){const Ve=K[K.length-1];Te=new cr(re);for(let et=0;et<re*re;et++){be(et%re,Math.floor(et/re),2,!0,Oe);const _t=Ve.getElevation(Oe[0],Oe[1]),At=Ve.getElevation(Oe[2],Oe[1]),Ht=Ve.getElevation(Oe[2],Oe[3]),sn=Ve.getElevation(Oe[0],Oe[3]),an=Ve.isLeaf(Oe[0],Oe[1]),dn=Ve.isLeaf(Oe[2],Oe[1]),xn=Ve.isLeaf(Oe[2],Oe[3]),bn=Ve.isLeaf(Oe[0],Oe[3]),Un=Math.min(_t.min,At.min,Ht.min,sn.min),ei=Math.max(_t.max,At.max,Ht.max,sn.max),Zn=an&&dn&&xn&&bn;Te.maximums.push(ei),Te.minimums.push(Un),Te.leaves.push(ei-Un<=5&&Zn?1:0)}K.push(Te)}return K}(this.dem),M=y.length-1,L=y[M];this._addNode(L.minimums[0],L.maximums[0],L.leaves[0]),this._construct(y,0,0,M,0)}raycastRoot(c,y,M,L,z,V,K=1){return jm([c,y,-100],[M,L,this.maximums[0]*K],z,V)}raycast(c,y,M,L,z,V,K=1){if(!this.nodeCount)return null;const re=this.raycastRoot(c,y,M,L,z,V,K);if(null==re)return null;const me=[],be=[],Te=[],Oe=[],Ve=[{idx:0,t:re,nodex:0,nodey:0,depth:0}];for(;Ve.length>0;){const{idx:et,t:_t,nodex:At,nodey:Ht,depth:sn}=Ve.pop();if(this.leaves[et]){Kb(At,Ht,sn,c,y,M,L,Te,Oe);const dn=1<<sn,xn=(At+0)/dn,bn=(At+1)/dn,Un=(Ht+0)/dn,ei=(Ht+1)/dn,Zn=$d(xn,Un,this.dem)*K,di=$d(bn,Un,this.dem)*K,Rn=$d(bn,ei,this.dem)*K,Gn=$d(xn,ei,this.dem)*K,ni=ju(Te[0],Te[1],Zn,Oe[0],Te[1],di,Oe[0],Oe[1],Rn,z,V),Pn=ju(Oe[0],Oe[1],Rn,Te[0],Oe[1],Gn,Te[0],Te[1],Zn,z,V),ur=Math.min(null!==ni?ni:Number.MAX_VALUE,null!==Pn?Pn:Number.MAX_VALUE);if(ur!==Number.MAX_VALUE)return ur;{const Nr=Ou([],z,V,_t);if(Ag(Zn,di,Gn,Rn,Dg(Nr[0],Te[0],Oe[0]),Dg(Nr[1],Te[1],Oe[1]))>=Nr[2])return _t}continue}let an=0;for(let dn=0;dn<this._siblingOffset.length;dn++){Kb((At<<1)+this._siblingOffset[dn][0],(Ht<<1)+this._siblingOffset[dn][1],sn+1,c,y,M,L,Te,Oe),Te[2]=-100,Oe[2]=this.maximums[this.childOffsets[et]+dn]*K;const xn=jm(Te,Oe,z,V);if(null!=xn){const bn=xn;me[dn]=bn;let Un=!1;for(let ei=0;ei<an&&!Un;ei++)bn>=me[be[ei]]&&(be.splice(ei,0,dn),Un=!0);Un||(be[an]=dn),an++}}for(let dn=0;dn<an;dn++){const xn=be[dn];Ve.push({idx:this.childOffsets[et]+xn,t:me[xn],nodex:(At<<1)+this._siblingOffset[xn][0],nodey:(Ht<<1)+this._siblingOffset[xn][1],depth:sn+1})}}return null}_addNode(c,y,M){return this.minimums.push(c),this.maximums.push(y),this.leaves.push(M),this.childOffsets.push(0),this.nodeCount++}_construct(c,y,M,L,z){if(1===c[L].isLeaf(y,M))return;this.childOffsets[z]||(this.childOffsets[z]=this.nodeCount);const V=L-1,K=c[V];let re,me=0;for(let be=0;be<this._siblingOffset.length;be++){const Te=2*y+this._siblingOffset[be][0],Oe=2*M+this._siblingOffset[be][1],Ve=K.getElevation(Te,Oe),et=K.isLeaf(Te,Oe),_t=this._addNode(Ve.min,Ve.max,et);et&&(me|=1<<be),re||(re=_t)}for(let be=0;be<this._siblingOffset.length;be++)me&1<<be||this._construct(c,2*y+this._siblingOffset[be][0],2*M+this._siblingOffset[be][1],V,re+be)}}function Ag(_,c,y,M,L,z){return mi(mi(_,y,z),mi(c,M,z),L)}function $d(_,c,y){const M=y.dim,L=Wt(_*M-.5,0,M-1),z=Wt(c*M-.5,0,M-1),V=Math.floor(L),K=Math.floor(z),re=Math.min(V+1,M-1),me=Math.min(K+1,M-1);return Ag(y.get(V,K),y.get(re,K),y.get(V,me),y.get(re,me),L-V,z-K)}const cm={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};class Zm{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(c,y,M,L=!1,z=!1){if(this.uid=c,y.height!==y.width)throw new RangeError("DEM tiles must be square");if(M&&"mapbox"!==M&&"terrarium"!==M)return Vi(`"${M}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=y.height;const V=this.dim=y.height-2;if(this.data=new Uint32Array(y.data.buffer),this.encoding=M||"mapbox",this.borderReady=L,!L){for(let K=0;K<V;K++)this.data[this._idx(-1,K)]=this.data[this._idx(0,K)],this.data[this._idx(V,K)]=this.data[this._idx(V-1,K)],this.data[this._idx(K,-1)]=this.data[this._idx(K,0)],this.data[this._idx(K,V)]=this.data[this._idx(K,V-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(V,-1)]=this.data[this._idx(V-1,0)],this.data[this._idx(-1,V)]=this.data[this._idx(0,V-1)],this.data[this._idx(V,V)]=this.data[this._idx(V-1,V-1)],z&&this._buildQuadTree()}}_buildQuadTree(){this._tree=new _o(this)}get(c,y,M=!1){const L=new Uint8Array(this.data.buffer);M&&(c=Wt(c,-1,this.dim),y=Wt(y,-1,this.dim));const z=4*this._idx(c,y);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(L[z],L[z+1],L[z+2])}static getUnpackVector(c){return cm[c]}get unpackVector(){return cm[this.encoding]}_idx(c,y){if(c<-1||c>=this.dim+1||y<-1||y>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(y+1)*this.stride+(c+1)}_unpackMapbox(c,y,M){return(256*c*256+256*y+M)/10-1e4}_unpackTerrarium(c,y,M){return 256*c+y+M/256-32768}static pack(c,y){const M=[0,0,0,0],L=Zm.getUnpackVector(y);let z=Math.floor((c+L[3])/L[2]);return M[2]=z%256,z=Math.floor(z/256),M[1]=z%256,z=Math.floor(z/256),M[0]=z,M}getPixels(){return new uc({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(c,y,M){if(this.dim!==c.dim)throw new Error("dem dimension mismatch");let L=y*this.dim,z=y*this.dim+this.dim,V=M*this.dim,K=M*this.dim+this.dim;switch(y){case-1:L=z-1;break;case 1:z=L+1}switch(M){case-1:V=K-1;break;case 1:K=V+1}const re=-y*this.dim,me=-M*this.dim;for(let be=V;be<K;be++)for(let Te=L;Te<z;Te++)this.data[this._idx(Te,be)]=c.data[this._idx(Te+re,be+me)]}onDeserialize(){this._tree&&(this._tree.dem=this)}}Ci("DEMData",Zm),Ci("DemMinMaxQuadTree",_o,{omit:["dem"]});class up{constructor(c,y){this.max=c,this.onRemove=y,this.reset()}reset(){for(const c in this.data)for(const y of this.data[c])y.timeout&&clearTimeout(y.timeout),this.onRemove(y.value);return this.data={},this.order=[],this}add(c,y,M){const L=c.wrapped().key;void 0===this.data[L]&&(this.data[L]=[]);const z={value:y,timeout:void 0};if(void 0!==M&&(z.timeout=setTimeout(()=>{this.remove(c,z)},M)),this.data[L].push(z),this.order.push(L),this.order.length>this.max){const V=this._getAndRemoveByKey(this.order[0]);V&&this.onRemove(V)}return this}has(c){return c.wrapped().key in this.data}getAndRemove(c){return this.has(c)?this._getAndRemoveByKey(c.wrapped().key):null}_getAndRemoveByKey(c){const y=this.data[c].shift();return y.timeout&&clearTimeout(y.timeout),0===this.data[c].length&&delete this.data[c],this.order.splice(this.order.indexOf(c),1),y.value}getByKey(c){const y=this.data[c];return y?y[0].value:null}get(c){return this.has(c)?this.data[c.wrapped().key][0].value:null}remove(c,y){if(!this.has(c))return this;const M=c.wrapped().key,L=void 0===y?0:this.data[M].indexOf(y),z=this.data[M][L];return this.data[M].splice(L,1),z.timeout&&clearTimeout(z.timeout),0===this.data[M].length&&delete this.data[M],this.onRemove(z.value),this.order.splice(this.order.indexOf(M),1),this}setMaxSize(c){for(this.max=c;this.order.length>this.max;){const y=this._getAndRemoveByKey(this.order[0]);y&&this.onRemove(y)}return this}filter(c){const y=[];for(const M in this.data)for(const L of this.data[M])c(L.value)||y.push(L);for(const M of y)this.remove(M.value.tileID,M)}}class dp{constructor(c,y,M){this.func=c,this.mask=y,this.range=M}}dp.ReadOnly=!1,dp.ReadWrite=!0,dp.disabled=new dp(519,dp.ReadOnly,[0,1]);class Iy{constructor(c,y,M,L,z,V){this.test=c,this.ref=y,this.mask=M,this.fail=L,this.depthFail=z,this.pass=V}}Iy.disabled=new Iy({func:519,mask:0},0,0,7680,7680,7680);class xf{constructor(c,y,M){this.blendFunction=c,this.blendColor=y,this.mask=M}}xf.Replace=[1,0],xf.disabled=new xf(xf.Replace,zn.transparent,[!1,!1,!1,!1]),xf.unblended=new xf(xf.Replace,zn.transparent,[!0,!0,!0,!0]),xf.alphaBlended=new xf([1,771],zn.transparent,[!0,!0,!0,!0]);class Jc{constructor(c,y,M){this.enable=c,this.mode=y,this.frontFace=M}}Jc.disabled=new Jc(!1,1029,2305),Jc.backCCW=new Jc(!0,1029,2305),Jc.backCW=new Jc(!0,1029,2304),Jc.frontCW=new Jc(!0,1028,2304),Jc.frontCCW=new Jc(!0,1028,2305);class Ih extends f{constructor(c,y,M){super(),this.id=c,this._onlySymbols=M,y.on("data",L=>{"source"===L.dataType&&"metadata"===L.sourceDataType&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&"source"===L.dataType&&"content"===L.sourceDataType&&(this.reload(),this.transform&&this.update(this.transform))}),y.on("error",()=>{this._sourceErrored=!0}),this._source=y,this._tiles={},this._cache=new up(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new Wp}onAdd(c){this.map=c,this._maxTileCacheSize=c?c._maxTileCacheSize:null}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(const c in this._tiles){const y=this._tiles[c];if("loaded"!==y.state&&"errored"!==y.state)return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const c=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,c&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(c,y){return c.isSymbolTile=this._onlySymbols,this._source.loadTile(c,y)}_unloadTile(c){if(this._source.unloadTile)return this._source.unloadTile(c,()=>{})}_abortTile(c){if(this._source.abortTile)return this._source.abortTile(c,()=>{})}serialize(){return this._source.serialize()}prepare(c){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const y in this._tiles){const M=this._tiles[y];M.upload(c),M.prepare(this.map.style.imageManager)}}getIds(){return hi(this._tiles).map(c=>c.tileID).sort(e0).map(c=>c.key)}getRenderableIds(c){const y=[];for(const M in this._tiles)this._isIdRenderable(+M,c)&&y.push(this._tiles[M]);return c?y.sort((M,L)=>{const z=M.tileID,V=L.tileID,K=new Me(z.canonical.x,z.canonical.y)._rotate(this.transform.angle),re=new Me(V.canonical.x,V.canonical.y)._rotate(this.transform.angle);return z.overscaledZ-V.overscaledZ||re.y-K.y||re.x-K.x}).map(M=>M.tileID.key):y.map(M=>M.tileID).sort(e0).map(M=>M.key)}hasRenderableParent(c){const y=this.findLoadedParent(c,0);return!!y&&this._isIdRenderable(y.tileID.key)}_isIdRenderable(c,y){return this._tiles[c]&&this._tiles[c].hasData()&&!this._coveredTiles[c]&&(y||!this._tiles[c].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const c in this._tiles)"errored"!==this._tiles[c].state&&this._reloadTile(+c,"reloading")}}_reloadTile(c,y){const M=this._tiles[c];M&&("loading"!==M.state&&(M.state=y),this._loadTile(M,this._tileLoaded.bind(this,M,c,y)))}_tileLoaded(c,y,M,L){if(L)return c.state="errored",void(404!==L.status?this._source.fire(new p(L,{tile:c})):this.update(this.transform));c.timeAdded=Xs.now(),"expired"===M&&(c.refreshedUponExpiration=!0),this._setTileReloadTimer(y,c),"raster-dem"===this.getSource().type&&c.dem&&this._backfillDEM(c),this._state.initializeTileState(c,this.map?this.map.painter:null),this._source.fire(new Re("data",{dataType:"source",tile:c,coord:c.tileID,sourceCacheId:this.id}))}_backfillDEM(c){const y=this.getRenderableIds();for(let L=0;L<y.length;L++){const z=y[L];if(c.neighboringTiles&&c.neighboringTiles[z]){const V=this.getTileByID(z);M(c,V),M(V,c)}}function M(L,z){if(!L.dem||L.dem.borderReady)return;L.needsHillshadePrepare=!0,L.needsDEMTextureUpload=!0;let V=z.tileID.canonical.x-L.tileID.canonical.x;const K=z.tileID.canonical.y-L.tileID.canonical.y,re=Math.pow(2,L.tileID.canonical.z),me=z.tileID.key;0===V&&0===K||Math.abs(K)>1||(Math.abs(V)>1&&(1===Math.abs(V+re)?V+=re:1===Math.abs(V-re)&&(V-=re)),z.dem&&L.dem&&(L.dem.backfillBorder(z.dem,V,K),L.neighboringTiles&&L.neighboringTiles[me]&&(L.neighboringTiles[me].backfilled=!0)))}}getTile(c){return this.getTileByID(c.key)}getTileByID(c){return this._tiles[c]}_retainLoadedChildren(c,y,M,L){for(const z in this._tiles){let V=this._tiles[z];if(L[z]||!V.hasData()||V.tileID.overscaledZ<=y||V.tileID.overscaledZ>M)continue;let K=V.tileID;for(;V&&V.tileID.overscaledZ>y+1;){const me=V.tileID.scaledTo(V.tileID.overscaledZ-1);V=this._tiles[me.key],V&&V.hasData()&&(K=me)}let re=K;for(;re.overscaledZ>y;)if(re=re.scaledTo(re.overscaledZ-1),c[re.key]){L[K.key]=K;break}}}findLoadedParent(c,y){if(c.key in this._loadedParentTiles){const M=this._loadedParentTiles[c.key];return M&&M.tileID.overscaledZ>=y?M:null}for(let M=c.overscaledZ-1;M>=y;M--){const L=c.scaledTo(M),z=this._getLoadedTile(L);if(z)return z}}_getLoadedTile(c){const y=this._tiles[c.key];return y&&y.hasData()?y:this._cache.getByKey(this._source.reparseOverscaled?c.wrapped().key:c.canonical.key)}updateCacheSize(c,y){y=y||this._source.tileSize;const M=Math.ceil(c.width/y)+1,L=Math.ceil(c.height/y)+1,z=Math.floor(M*L*5),V="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,z):z;this._cache.setMaxSize(V)}handleWrapJump(c){const y=Math.round((c-(void 0===this._prevLng?c:this._prevLng))/360);if(this._prevLng=c,y){const M={};for(const L in this._tiles){const z=this._tiles[L];z.tileID=z.tileID.unwrapTo(z.tileID.wrap+y),M[z.tileID.key]=z}this._tiles=M;for(const L in this._timers)clearTimeout(this._timers[L]),delete this._timers[L];for(const L in this._tiles)this._setTileReloadTimer(+L,this._tiles[L])}}update(c,y,M){if(this.transform=c,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage||this.usedForTerrain&&!M)return;let L;this.updateCacheSize(c,y),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?L=c.getVisibleUnwrappedCoordinates(this._source.tileID).map(K=>new Xc(K.canonical.z,K.wrap,K.canonical.z,K.canonical.x,K.canonical.y)):(L=c.coveringTiles({tileSize:y||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!M,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.hasTile&&(L=L.filter(K=>this._source.hasTile(K)))):L=[];const z=this._updateRetainedTiles(L);if(Ig(this._source.type)&&0!==L.length){const K={},re={},me=Object.keys(z);for(const Te of me){const Oe=z[Te],Ve=this._tiles[Te];if(!Ve||Ve.fadeEndTime&&Ve.fadeEndTime<=Xs.now())continue;const et=this.findLoadedParent(Oe,Math.max(Oe.overscaledZ-Ih.maxOverzooming,this._source.minzoom));et&&(this._addTile(et.tileID),K[et.tileID.key]=et.tileID),re[Te]=Oe}const be=L[L.length-1].overscaledZ;for(const Te in this._tiles){const Oe=this._tiles[Te];if(z[Te]||!Oe.hasData())continue;let Ve=Oe.tileID;for(;Ve.overscaledZ>be;){Ve=Ve.scaledTo(Ve.overscaledZ-1);const et=this._tiles[Ve.key];if(et&&et.hasData()&&re[Ve.key]){z[Te]=Oe.tileID;break}}}for(const Te in K)z[Te]||(this._coveredTiles[Te]=!0,z[Te]=K[Te])}for(const K in z)this._tiles[K].clearFadeHold();const V=function(K,re){const me=[];for(const be in K)be in re||me.push(be);return me}(this._tiles,z);for(const K of V){const re=this._tiles[K];re.hasSymbolBuckets&&!re.holdingForFade()?re.setHoldDuration(this.map._fadeDuration):re.hasSymbolBuckets&&!re.symbolFadeFinished()||this._removeTile(+K)}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}releaseSymbolFadeTiles(){for(const c in this._tiles)this._tiles[c].holdingForFade()&&this._removeTile(+c)}_updateRetainedTiles(c){const y={};if(0===c.length)return y;const M={},L=c[c.length-1].overscaledZ,z=c[0].overscaledZ,V=Math.max(z-Ih.maxOverzooming,this._source.minzoom),K=Math.max(z+Ih.maxUnderzooming,this._source.minzoom),re={};for(const me of c){const be=this._addTile(me);y[me.key]=me,be.hasData()||L<this._source.maxzoom&&(re[me.key]=me)}this._retainLoadedChildren(re,L,K,y);for(const me of c){let be=this._tiles[me.key];if(be.hasData())continue;if(me.canonical.z>=this._source.maxzoom){const Oe=me.children(this._source.maxzoom)[0],Ve=this.getTile(Oe);if(Ve&&Ve.hasData()){y[Oe.key]=Oe;continue}}else{const Oe=me.children(this._source.maxzoom);if(y[Oe[0].key]&&y[Oe[1].key]&&y[Oe[2].key]&&y[Oe[3].key])continue}let Te=be.wasRequested();for(let Oe=me.overscaledZ-1;Oe>=V;--Oe){const Ve=me.scaledTo(Oe);if(M[Ve.key]||(M[Ve.key]=!0,be=this.getTile(Ve),!be&&Te&&(be=this._addTile(Ve)),be&&(y[Ve.key]=Ve,Te=be.wasRequested(),be.hasData())))break}}return y}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const c in this._tiles){const y=[];let M,L=this._tiles[c].tileID;for(;L.overscaledZ>0;){if(L.key in this._loadedParentTiles){M=this._loadedParentTiles[L.key];break}y.push(L.key);const z=L.scaledTo(L.overscaledZ-1);if(M=this._getLoadedTile(z),M)break;L=z}for(const z of y)this._loadedParentTiles[z]=M}}_addTile(c){let y=this._tiles[c.key];if(y)return y;y=this._cache.getAndRemove(c),y&&(this._setTileReloadTimer(c.key,y),y.tileID=c,this._state.initializeTileState(y,this.map?this.map.painter:null),this._cacheTimers[c.key]&&(clearTimeout(this._cacheTimers[c.key]),delete this._cacheTimers[c.key],this._setTileReloadTimer(c.key,y)));const M=Boolean(y);return M||(y=new S_(c,this._source.tileSize*c.overscaleFactor(),this.transform.tileZoom),this._loadTile(y,this._tileLoaded.bind(this,y,c.key,y.state))),y?(y.uses++,this._tiles[c.key]=y,M||this._source.fire(new Re("dataloading",{tile:y,coord:y.tileID,dataType:"source"})),y):null}_setTileReloadTimer(c,y){c in this._timers&&(clearTimeout(this._timers[c]),delete this._timers[c]);const M=y.getExpiryTimeout();M&&(this._timers[c]=setTimeout(()=>{this._reloadTile(c,"expired"),delete this._timers[c]},M))}_removeTile(c){const y=this._tiles[c];y&&(y.uses--,delete this._tiles[c],this._timers[c]&&(clearTimeout(this._timers[c]),delete this._timers[c]),y.uses>0||(y.hasData()&&"reloading"!==y.state?this._cache.add(y.tileID,y,y.getExpiryTimeout()):(y.aborted=!0,this._abortTile(y),this._unloadTile(y))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const c in this._tiles)this._removeTile(+c);this._cache.reset()}tilesIn(c,y,M){const L=[],z=this.transform;if(!z)return L;for(const V in this._tiles){const K=this._tiles[V];if(M&&K.clearQueryDebugViz(),K.holdingForFade())continue;const re=c.containsTile(K,z,y);re&&L.push(re)}return L}getVisibleCoordinates(c){const y=this.getRenderableIds(c).map(M=>this._tiles[M].tileID);for(const M of y)M.projMatrix=this.transform.calculateProjMatrix(M.toUnwrapped());return y}hasTransition(){if(this._source.hasTransition())return!0;if(Ig(this._source.type))for(const c in this._tiles){const y=this._tiles[c];if(void 0!==y.fadeEndTime&&y.fadeEndTime>=Xs.now())return!0}return!1}setFeatureState(c,y,M){this._state.updateState(c=c||"_geojsonTileLayer",y,M)}removeFeatureState(c,y,M){this._state.removeFeatureState(c=c||"_geojsonTileLayer",y,M)}getFeatureState(c,y){return this._state.getState(c=c||"_geojsonTileLayer",y)}setDependencies(c,y,M){const L=this._tiles[c];L&&L.setDependencies(y,M)}reloadTilesForDependencies(c,y){for(const M in this._tiles)this._tiles[M].hasDependency(c,y)&&this._reloadTile(+M,"reloading");this._cache.filter(M=>!M.hasDependency(c,y))}}function e0(_,c){const y=Math.abs(2*_.wrap)-+(_.wrap<0),M=Math.abs(2*c.wrap)-+(c.wrap<0);return _.overscaledZ-c.overscaledZ||M-y||c.canonical.y-_.canonical.y||c.canonical.x-_.canonical.x}function Ig(_){return"raster"===_||"image"===_||"video"===_}Ih.maxOverzooming=10,Ih.maxUnderzooming=3;class Gm{constructor(c,y,M){this._demTile=c,this._dem=this._demTile.dem,this._scale=y,this._offset=M}static create(c,y,M){const L=M||c.findDEMTileFor(y);if(!L||!L.dem)return;const z=L.dem,V=L.tileID,K=1<<y.canonical.z-V.canonical.z;return new Gm(L,L.tileSize/Fr/K,[(y.canonical.x/K-V.canonical.x)*z.dim,(y.canonical.y/K-V.canonical.y)*z.dim])}tileCoordToPixel(c,y){const M=y*this._scale+this._offset[1],L=Math.floor(c*this._scale+this._offset[0]),z=Math.floor(M);return new Me(L,z)}getElevationAt(c,y,M,L){const z=c*this._scale+this._offset[0],V=y*this._scale+this._offset[1],K=Math.floor(z),re=Math.floor(V),me=this._dem;return L=!!L,M?mi(mi(me.get(K,re,L),me.get(K,re+1,L),V-re),mi(me.get(K+1,re,L),me.get(K+1,re+1,L),V-re),z-K):me.get(K,re,L)}getElevationAtPixel(c,y,M){return this._dem.get(c,y,!!M)}getMeterToDEM(c){return(1<<this._demTile.tileID.canonical.z)*w_(1,c)*this._dem.stride}}class Lg{constructor(c,y){this.tileID=c,this.x=c.canonical.x,this.y=c.canonical.y,this.z=c.canonical.z,this.grid=new Ul(Fr,16,0),this.featureIndexArray=new Es,this.promoteId=y}insert(c,y,M,L,z,V=0){const K=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(M,L,z,V);const re=this.grid;for(let me=0;me<y.length;me++){const be=y[me],Te=[1/0,1/0,-1/0,-1/0];for(let Oe=0;Oe<be.length;Oe++){const Ve=be[Oe];Te[0]=Math.min(Te[0],Ve.x),Te[1]=Math.min(Te[1],Ve.y),Te[2]=Math.max(Te[2],Ve.x),Te[3]=Math.max(Te[3],Ve.y)}Te[0]<Fr&&Te[1]<Fr&&Te[2]>=0&&Te[3]>=0&&re.insert(K,Te[0],Te[1],Te[2],Te[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new pf.VectorTile(new yg(this.rawTileData)).layers,this.sourceLayerCoder=new ky(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(c,y,M,L){this.loadVTLayers();const z=c.params||{},V=Js(z.filter),K=c.tileResult,re=c.transform,me=K.bufferedTilespaceBounds,be=this.grid.query(me.min.x,me.min.y,me.max.x,me.max.y,(et,_t,At,Ht)=>Bf(K.bufferedTilespaceGeometry,et,_t,At,Ht));be.sort(fc);let Te=null;re.elevation&&be.length>0&&(Te=Gm.create(re.elevation,this.tileID));const Oe={};let Ve;for(let et=0;et<be.length;et++){const _t=be[et];if(_t===Ve)continue;Ve=_t;const At=this.featureIndexArray.get(_t);let Ht=null;this.loadMatchingFeature(Oe,At,V,z.layers,z.availableImages,y,M,L,(sn,an,dn,xn=0)=>(Ht||(Ht=Vp(sn)),an.queryIntersectsFeature(K,sn,dn,Ht,this.z,c.transform,c.pixelPosMatrix,Te,xn)))}return Oe}loadMatchingFeature(c,y,M,L,z,V,K,re,me){const{featureIndex:be,bucketIndex:Te,sourceLayerIndex:Oe,layoutVertexArrayOffset:Ve}=y,et=this.bucketLayerIDs[Te];if(L&&!function(sn,an){for(let dn=0;dn<sn.length;dn++)if(an.indexOf(sn[dn])>=0)return!0;return!1}(L,et))return;const _t=this.sourceLayerCoder.decode(Oe),At=this.vtLayers[_t].feature(be);if(M.needGeometry){const sn=pu(At,!0);if(!M.filter(new Qe(this.tileID.overscaledZ),sn,this.tileID.canonical))return}else if(!M.filter(new Qe(this.tileID.overscaledZ),At))return;const Ht=this.getId(At,_t);for(let sn=0;sn<et.length;sn++){const an=et[sn];if(L&&L.indexOf(an)<0)continue;const dn=V[an];if(!dn)continue;let xn={};void 0!==Ht&&re&&(xn=re.getState(dn.sourceLayer||"_geojsonTileLayer",Ht));const bn=zi({},K[an]);bn.paint=ql(bn.paint,dn.paint,At,xn,z),bn.layout=ql(bn.layout,dn.layout,At,xn,z);const Un=!me||me(At,dn,xn,Ve);if(!Un)continue;const ei=new Ey(At,this.z,this.x,this.y,Ht);ei.layer=bn;let Zn=c[an];void 0===Zn&&(Zn=c[an]=[]),Zn.push({featureIndex:be,feature:ei,intersectionZ:Un})}}lookupSymbolFeatures(c,y,M,L,z,V,K,re){const me={};this.loadVTLayers();const be=Js(z);for(const Te of c)this.loadMatchingFeature(me,{bucketIndex:M,sourceLayerIndex:L,featureIndex:Te,layoutVertexArrayOffset:0},be,V,K,re,y);return me}hasLayer(c){for(const y of this.bucketLayerIDs)for(const M of y)if(c===M)return!0;return!1}getId(c,y){let M=c.id;return this.promoteId&&(M=c.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[y]],"boolean"==typeof M&&(M=Number(M))),M}}function ql(_,c,y,M,L){return Yn(_,(z,V)=>{const K=c instanceof Vt?c.get(V):null;return K&&K.evaluate?K.evaluate(y,M,L):K})}function fc(_,c){return c-_}Ci("FeatureIndex",Lg,{omit:["rawTileData","sourceLayerCoder"]});class Wm{constructor(c){const y={},M=[];for(const K in c){const re=c[K],me=y[K]={};for(const be in re.glyphs){const Te=re.glyphs[+be];if(!Te||0===Te.bitmap.width||0===Te.bitmap.height)continue;const Oe=Te.metrics.localGlyph?2:1,Ve={x:0,y:0,w:Te.bitmap.width+2*Oe,h:Te.bitmap.height+2*Oe};M.push(Ve),me[be]=Ve}}const{w:L,h:z}=em(M),V=new ip({width:L||1,height:z||1});for(const K in c){const re=c[K];for(const me in re.glyphs){const be=re.glyphs[+me];if(!be||0===be.bitmap.width||0===be.bitmap.height)continue;const Te=y[K][me],Oe=be.metrics.localGlyph?2:1;ip.copy(be.bitmap,V,{x:0,y:0},{x:Te.x+Oe,y:Te.y+Oe},be.bitmap)}}this.image=V,this.positions=y}}Ci("GlyphAtlas",Wm);class jv{constructor(c){this.tileID=new Xc(c.tileID.overscaledZ,c.tileID.wrap,c.tileID.canonical.z,c.tileID.canonical.x,c.tileID.canonical.y),this.tileZoom=c.tileZoom,this.uid=c.uid,this.zoom=c.zoom,this.pixelRatio=c.pixelRatio,this.tileSize=c.tileSize,this.source=c.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=c.showCollisionBoxes,this.collectResourceTiming=!!c.collectResourceTiming,this.returnDependencies=!!c.returnDependencies,this.promoteId=c.promoteId,this.enableTerrain=!!c.enableTerrain,this.isSymbolTile=c.isSymbolTile}parse(c,y,M,L,z){this.status="parsing",this.data=c,this.collisionBoxArray=new ld;const V=new ky(Object.keys(c.layers).sort()),K=new Lg(this.tileID,this.promoteId);K.bucketLayerIDs=[];const re={},me=new M_(256,256),be={featureIndex:K,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:me,availableImages:M},Te=y.familiesBySource[this.source];for(const xn in Te){const bn=c.layers[xn];if(!bn)continue;let Un=!1,ei=!1;for(const Rn of Te[xn])"symbol"===Rn[0].type?Un=!0:ei=!0;if(!0===this.isSymbolTile&&!Un||!1===this.isSymbolTile&&!ei)continue;1===bn.version&&Vi(`Vector tile source "${this.source}" layer "${xn}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const Zn=V.encode(xn),di=[];for(let Rn=0;Rn<bn.length;Rn++){const Gn=bn.feature(Rn),ni=K.getId(Gn,xn);di.push({feature:Gn,id:ni,index:Rn,sourceLayerIndex:Zn})}for(const Rn of Te[xn]){const Gn=Rn[0];void 0!==this.isSymbolTile&&"symbol"===Gn.type!==this.isSymbolTile||Gn.minzoom&&this.zoom<Math.floor(Gn.minzoom)||Gn.maxzoom&&this.zoom>=Gn.maxzoom||"none"!==Gn.visibility&&(Zv(Rn,this.zoom,M),(re[Gn.id]=Gn.createBucket({index:K.bucketLayerIDs.length,layers:Rn,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Zn,sourceID:this.source,enableTerrain:this.enableTerrain})).populate(di,be,this.tileID.canonical),K.bucketLayerIDs.push(Rn.map(ni=>ni.id)))}}let Oe,Ve,et,_t;me.trim();const At={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},Ht=Yn(be.glyphDependencies,xn=>Object.keys(xn).map(Number));Object.keys(Ht).length?L.send("getGlyphs",{uid:this.uid,stacks:Ht},(xn,bn)=>{Oe||(Oe=xn,Ve=bn,dn.call(this))},void 0,!1,At):Ve={};const sn=Object.keys(be.iconDependencies);sn.length?L.send("getImages",{icons:sn,source:this.source,tileID:this.tileID,type:"icons"},(xn,bn)=>{Oe||(Oe=xn,et=bn,dn.call(this))},void 0,!1,At):et={};const an=Object.keys(be.patternDependencies);function dn(){if(Oe)return z(Oe);if(Ve&&et&&_t){const xn=new Wm(Ve),bn=new d_(et,_t);for(const Un in re){const ei=re[Un];ei instanceof sm?(Zv(ei.layers,this.zoom,M),vt(ei,Ve,xn.positions,et,bn.iconPositions,this.showCollisionBoxes,this.tileID.canonical,this.tileZoom)):ei.hasPattern&&(ei instanceof Sn||ei instanceof fd||ei instanceof ff)&&(Zv(ei.layers,this.zoom,M),ei.addFeatures(be,this.tileID.canonical,bn.patternPositions))}this.status="done",z(null,{buckets:hi(re).filter(Un=>!Un.isEmpty()),featureIndex:K,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:xn.image,lineAtlas:me,imageAtlas:bn,glyphMap:this.returnDependencies?Ve:null,iconMap:this.returnDependencies?et:null,glyphPositions:this.returnDependencies?xn.positions:null})}}an.length?L.send("getImages",{icons:an,source:this.source,tileID:this.tileID,type:"patterns"},(xn,bn)=>{Oe||(Oe=xn,_t=bn,dn.call(this))},void 0,!1,At):_t={},dn.call(this)}}function Zv(_,c,y){const M=new Qe(c);for(const L of _)L.recalculate(M,y)}class $l{constructor(c){this.entries={},this.scheduler=c}request(c,y,M,L){const z=this.entries[c]=this.entries[c]||{callbacks:[]};if(z.result){const[V,K]=z.result;return this.scheduler?this.scheduler.add(()=>{L(V,K)},y):L(V,K),()=>{}}return z.callbacks.push(L),z.cancel||(z.cancel=M((V,K)=>{z.result=[V,K];for(const re of z.callbacks)this.scheduler?this.scheduler.add(()=>{re(V,K)},y):re(V,K);setTimeout(()=>delete this.entries[c],3e3)})),()=>{z.result||(z.callbacks=z.callbacks.filter(V=>V!==L),z.callbacks.length||(z.cancel(),delete this.entries[c]))}}}function Ll(_,c,y){const M=JSON.stringify(_.request);return _.data&&(this.deduped.entries[M]={result:[null,_.data]}),this.deduped.request(M,{type:"parseTile",isSymbolTile:_.isSymbolTile,zoom:_.tileZoom},L=>{const z=Ye(_.request,(V,K,re,me)=>{V?L(V):K&&L(null,{vectorTile:y?void 0:new pf.VectorTile(new yg(K)),rawData:K,cacheControl:re,expires:me})});return()=>{z.cancel(),L()}},c)}x.ARRAY_TYPE=da,x.AUTH_ERR_MSG=xr,x.Actor=class{constructor(_,c,y){this.target=_,this.parent=c,this.mapId=y,this.callbacks={},this.cancelCallbacks={},Mn(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.globalScope=vi()?_:Ge,this.scheduler=new Uv}send(_,c,y,M,L=!1,z){const V=Math.round(1e18*Math.random()).toString(36).substring(0,10);y&&(y.metadata=z,this.callbacks[V]=y);const K=ss(this.globalScope)?void 0:[];return this.target.postMessage({id:V,type:_,hasCallback:!!y,targetMapId:M,mustQueue:L,sourceMapId:this.mapId,data:Rr(c,K)},K),{cancel:()=>{y&&delete this.callbacks[V],this.target.postMessage({id:V,type:"<cancel>",targetMapId:M,sourceMapId:this.mapId})}}}receive(_){const c=_.data,y=c.id;if(y&&(!c.targetMapId||this.mapId===c.targetMapId))if("<cancel>"===c.type){const M=this.cancelCallbacks[y];delete this.cancelCallbacks[y],M&&M.cancel()}else if(c.mustQueue||vi()){const M=this.callbacks[y];this.cancelCallbacks[y]=this.scheduler.add(()=>this.processTask(y,c),M&&M.metadata||{type:"message"})}else this.processTask(y,c)}processTask(_,c){if("<response>"===c.type){const y=this.callbacks[_];delete this.callbacks[_],y&&(c.error?y(Ai(c.error)):y(null,Ai(c.data)))}else{const y=ss(this.globalScope)?void 0:[],M=c.hasCallback?(z,V)=>{delete this.cancelCallbacks[_],this.target.postMessage({id:_,type:"<response>",sourceMapId:this.mapId,error:z?Rr(z):null,data:Rr(V,y)},y)}:z=>{},L=Ai(c.data);if(this.parent[c.type])this.parent[c.type](c.sourceMapId,L,M);else if(this.parent.getWorkerSource){const z=c.type.split(".");this.parent.getWorkerSource(c.sourceMapId,z[0],L.source)[z[1]](L,M)}else M(new Error(`Could not find function ${c.type}`))}}remove(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}},x.CanonicalTileID=pc,x.Color=zn,x.ColorMode=xf,x.CullFaceMode=Jc,x.DEMData=Zm,x.DataConstantProperty=St,x.DedupedRequest=$l,x.DepthMode=dp,x.EXTENT=Fr,x.Elevation=class{getAtPointOrZero(_,c=0){return this.getAtPoint(_,c)||0}getAtPoint(_,c,y=!0){null==c&&(c=null);const M=this._source();if(!M||_.y<0||_.y>1)return c;const L=M.getSource().maxzoom,z=1<<L,V=Math.floor(_.x),K=_.x-V,re=new Xc(L,V,L,Math.floor(K*z),Math.floor(_.y*z)),me=this.findDEMTileFor(re);if(!me||!me.dem)return c;const be=me.dem,Te=1<<me.tileID.canonical.z,Oe=(K*Te-me.tileID.canonical.x)*be.dim,Ve=(_.y*Te-me.tileID.canonical.y)*be.dim,et=Math.floor(Oe),_t=Math.floor(Ve);return(y?this.exaggeration():1)*mi(mi(be.get(et,_t),be.get(et,_t+1),Ve-_t),mi(be.get(et+1,_t),be.get(et+1,_t+1),Ve-_t),Oe-et)}getAtTileOffset(_,c,y){const M=1<<_.canonical.z;return this.getAtPointOrZero(new cp(_.wrap+(_.canonical.x+c/Fr)/M,(_.canonical.y+y/Fr)/M))}getForTilePoints(_,c,y,M){const L=Gm.create(this,_,M);return!!L&&(c.forEach(z=>{z[2]=this.exaggeration()*L.getElevationAt(z[0],z[1],y)}),!0)}getMinMaxForTile(_){const c=this.findDEMTileFor(_);if(!c||!c.dem)return null;const y=c.dem.tree,M=c.tileID,L=1<<_.canonical.z-M.canonical.z;let z=_.canonical.x/L-M.canonical.x,V=_.canonical.y/L-M.canonical.y,K=0;for(let re=0;re<_.canonical.z-M.canonical.z&&!y.leaves[K];re++){z*=2,V*=2;const me=2*Math.floor(V)+Math.floor(z);K=y.childOffsets[K]+me,z%=1,V%=1}return{min:this.exaggeration()*y.minimums[K],max:this.exaggeration()*y.maximums[K]}}getMinElevationBelowMSL(){throw new Error("Pure virtual method called.")}raycast(_,c,y){throw new Error("Pure virtual method called.")}pointCoordinate(_){throw new Error("Pure virtual method called.")}_source(){throw new Error("Pure virtual method called.")}exaggeration(){throw new Error("Pure virtual method called.")}findDEMTileFor(_){throw new Error("Pure virtual method called.")}get visibleDemTiles(){throw new Error("Getter must be implemented in subclass.")}},x.ErrorEvent=p,x.EvaluationParameters=Qe,x.Event=Re,x.Evented=f,x.GlyphManager=lp,x.ImagePosition=bg,x.LineAtlas=M_,x.LngLat=Vr,x.LngLatBounds=il,x.LocalGlyphMode=xy,x.MAX_SAFE_INTEGER=Mt,x.MercatorCoordinate=cp,x.ONE_EM=24,x.OverscaledTileID=Xc,x.Properties=It,x.RGBAImage=uc,x.RequestManager=class{constructor(_,c,y){this._transformRequestFn=_,this._customAccessToken=c,this._silenceAuthErrors=!!y,this._createSkuToken()}_createSkuToken(){const _=function(){let c="";for(let y=0;y<10;y++)c+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",fs,c].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=_.token,this._skuTokenExpiresAt=_.tokenExpiresAt}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(_,c){return this._transformRequestFn&&this._transformRequestFn(_,c)||{url:_}}normalizeStyleURL(_,c){if(!nr(_))return _;const y=Qr(_);return y.path=`/styles/v1${y.path}`,this._makeAPIURL(y,this._customAccessToken||c)}normalizeGlyphsURL(_,c){if(!nr(_))return _;const y=Qr(_);return y.path=`/fonts/v1${y.path}`,this._makeAPIURL(y,this._customAccessToken||c)}normalizeSourceURL(_,c){if(!nr(_))return _;const y=Qr(_);return y.path=`/v4/${y.authority}.json`,y.params.push("secure"),this._makeAPIURL(y,this._customAccessToken||c)}normalizeSpriteURL(_,c,y,M){const L=Qr(_);return nr(_)?(L.path=`/styles/v1${L.path}/sprite${c}${y}`,this._makeAPIURL(L,this._customAccessToken||M)):(L.path+=`${c}${y}`,Ns(L))}normalizeTileURL(_,c,y){if(this._isSkuTokenExpired()&&this._createSkuToken(),_&&!nr(_))return _;const M=Qr(_);M.path=M.path.replace(/(\.(png|jpg)\d*)(?=$)/,`${c||y&&"raster"!==M.authority&&512===y?"@2x":""}${Da.supported?".webp":"$1"}`),"raster"===M.authority?M.path=`/${lr.RASTER_URL_PREFIX}${M.path}`:(M.path=M.path.replace(/^.+\/v4\//,"/"),M.path=`/${lr.TILE_URL_VERSION}${M.path}`);const L=this._customAccessToken||function(z){for(const V of z){const K=V.match(/^access_token=(.*)$/);if(K)return K[1]}return null}(M.params)||lr.ACCESS_TOKEN;return lr.REQUIRE_ACCESS_TOKEN&&L&&this._skuToken&&M.params.push(`sku=${this._skuToken}`),this._makeAPIURL(M,L)}canonicalizeTileURL(_,c){const y=Qr(_);if(!y.path.match(/^(\/v4\/|\/raster\/v1\/)/)||!y.path.match(/\.[\w]+$/))return _;let M="mapbox://";y.path.match(/^\/raster\/v1\//)?M+=`raster/${y.path.replace(`/${lr.RASTER_URL_PREFIX}/`,"")}`:M+=`tiles/${y.path.replace(`/${lr.TILE_URL_VERSION}/`,"")}`;let L=y.params;return c&&(L=L.filter(z=>!z.match(/^access_token=/))),L.length&&(M+=`?${L.join("&")}`),M}canonicalizeTileset(_,c){const y=!!c&&nr(c),M=[];for(const L of _.tiles||[])Co(L)?M.push(this.canonicalizeTileURL(L,y)):M.push(L);return M}_makeAPIURL(_,c){const y="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",M=Qr(lr.API_URL);if(_.protocol=M.protocol,_.authority=M.authority,"http"===_.protocol){const L=_.params.indexOf("secure");L>=0&&_.params.splice(L,1)}if("/"!==M.path&&(_.path=`${M.path}${_.path}`),!lr.REQUIRE_ACCESS_TOKEN)return Ns(_);if(c=c||lr.ACCESS_TOKEN,!this._silenceAuthErrors){if(!c)throw new Error(`An API access token is required to use Mapbox GL. ${y}`);if("s"===c[0])throw new Error(`Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ${y}`)}return _.params=_.params.filter(L=>-1===L.indexOf("access_token")),_.params.push(`access_token=${c||""}`),Ns(_)}},x.ResourceType=hr,x.SegmentVector=El,x.SourceCache=Ih,x.StencilMode=Iy,x.StructArrayLayout1ui2=kl,x.StructArrayLayout2f1f2i16=Sl,x.StructArrayLayout2i4=Pi,x.StructArrayLayout2ui4=dl,x.StructArrayLayout3f12=jl,x.StructArrayLayout3ui6=Us,x.StructArrayLayout4i8=Jr,x.Texture=_d,x.Tile=S_,x.Transitionable=xt,x.Uniform1f=zf,x.Uniform1i=class extends Zs{constructor(_,c){super(_,c),this.current=0}set(_){this.current!==_&&(this.current=_,this.gl.uniform1i(this.location,_))}},x.Uniform2f=class extends Zs{constructor(_,c){super(_,c),this.current=[0,0]}set(_){_[0]===this.current[0]&&_[1]===this.current[1]||(this.current=_,this.gl.uniform2f(this.location,_[0],_[1]))}},x.Uniform3f=class extends Zs{constructor(_,c){super(_,c),this.current=[0,0,0]}set(_){_[0]===this.current[0]&&_[1]===this.current[1]&&_[2]===this.current[2]||(this.current=_,this.gl.uniform3f(this.location,_[0],_[1],_[2]))}},x.Uniform4f=t_,x.UniformColor=uy,x.UniformMatrix3f=class extends Zs{constructor(_,c){super(_,c),this.current=n_}set(_){for(let c=0;c<9;c++)if(_[c]!==this.current[c]){this.current=_,this.gl.uniformMatrix3fv(this.location,!1,_);break}}},x.UniformMatrix4f=class extends Zs{constructor(_,c){super(_,c),this.current=Ga}set(_){if(_[12]!==this.current[12]||_[0]!==this.current[0])return this.current=_,void this.gl.uniformMatrix4fv(this.location,!1,_);for(let c=1;c<16;c++)if(_[c]!==this.current[c]){this.current=_,this.gl.uniformMatrix4fv(this.location,!1,_);break}}},x.UnwrappedTileID=bf,x.ValidationError=S,x.VectorTileWorkerSource=class extends f{constructor(_,c,y,M,L){super(),this.actor=_,this.layerIndex=c,this.availableImages=y,this.loadVectorData=L||Ll,this.loading={},this.loaded={},this.deduped=new $l(_.scheduler),this.isSpriteLoaded=M,this.scheduler=_.scheduler}loadTile(_,c){const y=_.uid,M=_&&_.request,L=M&&M.collectResourceTiming,z=this.loading[y]=new jv(_);z.abort=this.loadVectorData(_,(V,K)=>{const re=!this.loading[y];if(delete this.loading[y],re||V||!K)return z.status="done",re||(this.loaded[y]=z),c(V);const me=K.rawData,be={};K.expires&&(be.expires=K.expires),K.cacheControl&&(be.cacheControl=K.cacheControl),z.vectorTile=K.vectorTile||new pf.VectorTile(new yg(me));const Te=()=>{z.parse(z.vectorTile,this.layerIndex,this.availableImages,this.actor,(Oe,Ve)=>{if(Oe||!Ve)return c(Oe);const et={};if(L){const _t=Jb(M);_t.length>0&&(et.resourceTiming=JSON.parse(JSON.stringify(_t)))}c(null,zi({rawTileData:me.slice(0)},Ve,be,et))})};this.isSpriteLoaded?Te():this.once("isSpriteLoaded",()=>{this.scheduler?this.scheduler.add(Te,{type:"parseTile",isSymbolTile:_.isSymbolTile,zoom:_.tileZoom}):Te()}),this.loaded=this.loaded||{},this.loaded[y]=z})}reloadTile(_,c){const y=this.loaded,M=_.uid,L=this;if(y&&y[M]){const z=y[M];z.showCollisionBoxes=_.showCollisionBoxes,z.enableTerrain=!!_.enableTerrain;const V=(K,re)=>{const me=z.reloadCallback;me&&(delete z.reloadCallback,z.parse(z.vectorTile,L.layerIndex,this.availableImages,L.actor,me)),c(K,re)};"parsing"===z.status?z.reloadCallback=V:"done"===z.status&&(z.vectorTile?z.parse(z.vectorTile,this.layerIndex,this.availableImages,this.actor,V):V())}}abortTile(_,c){const y=_.uid,M=this.loading[y];M&&(M.abort&&M.abort(),delete this.loading[y]),c()}removeTile(_,c){const y=this.loaded,M=_.uid;y&&y[M]&&delete y[M],c()}},x.WritingMode=kh,x.ZoomHistory=Ka,x.add=function(_,c,y){return _[0]=c[0]+y[0],_[1]=c[1]+y[1],_[2]=c[2]+y[2],_},x.addDynamicAttributes=rm,x.altitudeFromMercatorZ=C_,x.asyncAll=us,x.bezier=ii,x.bindAll=Mn,x.bufferConvexPolygon=function(_,c){const y=[];for(let M=0;M<_.length;M++){const L=ar(M-1,-1,_.length-1),z=ar(M+1,-1,_.length-1),V=_[M],K=_[z],re=_[L].sub(V).unit(),me=K.sub(V).unit(),be=me.angleWithSep(re.x,re.y),Te=re.add(me).unit().mult(-1*c/Math.sin(be/2));y.push(V.add(Te))}return y},x.cacheEntryPossiblyAdded=function(_){Ui++,Ui>_n&&(_.getActor().send("enforceCacheSizeLimit",Qt),Ui=0)},x.clamp=Wt,x.clearTileCache=function(_){const c=Ge.caches.delete(Yo);_&&c.catch(_).then(()=>_())},x.clipLine=Ym,x.clone=function(_){var c=new da(3);return c[0]=_[0],c[1]=_[1],c[2]=_[2],c},x.clone$1=function(_){var c=new da(16);return c[0]=_[0],c[1]=_[1],c[2]=_[2],c[3]=_[3],c[4]=_[4],c[5]=_[5],c[6]=_[6],c[7]=_[7],c[8]=_[8],c[9]=_[9],c[10]=_[10],c[11]=_[11],c[12]=_[12],c[13]=_[13],c[14]=_[14],c[15]=_[15],c},x.clone$2=ai,x.collisionCircleLayout=gg,x.config=lr,x.conjugate=function(_,c){return _[0]=-c[0],_[1]=-c[1],_[2]=-c[2],_[3]=c[3],_},x.copy=function(_,c){return _[0]=c[0],_[1]=c[1],_[2]=c[2],_},x.create=Up,x.create$1=function(){var _=new da(16);return da!=Float32Array&&(_[1]=0,_[2]=0,_[3]=0,_[4]=0,_[6]=0,_[7]=0,_[8]=0,_[9]=0,_[11]=0,_[12]=0,_[13]=0,_[14]=0),_[0]=1,_[5]=1,_[10]=1,_[15]=1,_},x.create$2=Hf,x.createExpression=ua,x.createFilter=Js,x.createLayout=Xn,x.createStyleLayer=function(_){return"custom"===_.type?new m1(_):new g1[_.type](_)},x.cross=function(_,c,y){var M=c[0],L=c[1],z=c[2],V=y[0],K=y[1],re=y[2];return _[0]=L*re-z*K,_[1]=z*V-M*re,_[2]=M*K-L*V,_},x.degToRad=rn,x.div=function(_,c,y){return _[0]=c[0]/y[0],_[1]=c[1]/y[1],_[2]=c[2]/y[2],_},x.dot=function(_,c){return _[0]*c[0]+_[1]*c[1]+_[2]*c[2]},x.dot$1=function(_,c){return _[0]*c[0]+_[1]*c[1]+_[2]*c[2]+_[3]*c[3]},x.ease=Fn,x.easeCubicInOut=ct,x.emitValidationErrors=Xh,x.endsWith=mn,x.enforceCacheSizeLimit=function(_){on(),Rt&&Rt.then(c=>{c.keys().then(y=>{for(let M=0;M<y.length-_;M++)c.delete(y[M])})})},x.evaluateSizeForFeature=c_,x.evaluateSizeForZoom=_g,x.evaluateVariableOffset=Vm,x.evented=xe,x.exactEquals=function(_,c){return _[0]===c[0]&&_[1]===c[1]&&_[2]===c[2]&&_[3]===c[3]},x.exactEquals$1=function(_,c){return _[0]===c[0]&&_[1]===c[1]&&_[2]===c[2]},x.exported=Xs,x.exported$1=Da,x.extend=zi,x.filterObject=vn,x.fromMat4=function(_,c){return _[0]=c[0],_[1]=c[1],_[2]=c[2],_[3]=c[4],_[4]=c[5],_[5]=c[6],_[6]=c[8],_[7]=c[9],_[8]=c[10],_},x.fromQuat=function(_,c){var y=c[0],M=c[1],L=c[2],z=c[3],V=y+y,K=M+M,re=L+L,me=y*V,be=M*V,Te=M*K,Oe=L*V,Ve=L*K,et=L*re,_t=z*V,At=z*K,Ht=z*re;return _[0]=1-Te-et,_[1]=be+Ht,_[2]=Oe-At,_[3]=0,_[4]=be-Ht,_[5]=1-me-et,_[6]=Ve+_t,_[7]=0,_[8]=Oe+At,_[9]=Ve-_t,_[10]=1-me-Te,_[11]=0,_[12]=0,_[13]=0,_[14]=0,_[15]=1,_},x.fromRotation=function(_,c){var y=Math.sin(c),M=Math.cos(c);return _[0]=M,_[1]=y,_[2]=0,_[3]=-y,_[4]=M,_[5]=0,_[6]=0,_[7]=0,_[8]=1,_},x.fromScaling=function(_,c){return _[0]=c[0],_[1]=0,_[2]=0,_[3]=0,_[4]=0,_[5]=c[1],_[6]=0,_[7]=0,_[8]=0,_[9]=0,_[10]=c[2],_[11]=0,_[12]=0,_[13]=0,_[14]=0,_[15]=1,_},x.furthestTileCorner=function(_){const c=Math.round((_+45+360)%360/90)%4;return Gt[c]},x.getAABBPointSquareDist=function(_,c,y){let M=0;for(let L=0;L<2;++L){const z=y?y[L]:0;_[L]>z&&(M+=(_[L]-z)*(_[L]-z)),c[L]<z&&(M+=(z-c[L])*(z-c[L]))}return M},x.getAnchorAlignment=Gp,x.getAnchorJustification=Ls,x.getBounds=function(_){let c=1/0,y=1/0,M=-1/0,L=-1/0;for(const z of _)c=Math.min(c,z.x),y=Math.min(y,z.y),M=Math.max(M,z.x),L=Math.max(L,z.y);return{min:new Me(c,y),max:new Me(M,L)}},x.getImage=jt,x.getJSON=function(_,c){return at(zi(_,{type:"json"}),c)},x.getMapSessionAPI=ws,x.getPerformanceMeasurement=Jb,x.getRTLTextPluginStatus=ve,x.getReferrer=Er,x.getVideo=function(_,c){const y=Ge.document.createElement("video");y.muted=!0,y.onloadstart=function(){c(null,y)};for(let M=0;M<_.length;M++){const L=Ge.document.createElement("source");Ct(_[M])||(y.crossOrigin="Anonymous"),L.src=_[M],y.appendChild(L)}return{cancel:()=>{}}},x.identity=Ra,x.identity$1=Wl,x.invert=function(_,c){var y=c[0],M=c[1],L=c[2],z=c[3],V=c[4],K=c[5],re=c[6],me=c[7],be=c[8],Te=c[9],Oe=c[10],Ve=c[11],et=c[12],_t=c[13],At=c[14],Ht=c[15],sn=y*K-M*V,an=y*re-L*V,dn=y*me-z*V,xn=M*re-L*K,bn=M*me-z*K,Un=L*me-z*re,ei=be*_t-Te*et,Zn=be*At-Oe*et,di=be*Ht-Ve*et,Rn=Te*At-Oe*_t,Gn=Te*Ht-Ve*_t,ni=Oe*Ht-Ve*At,Pn=sn*ni-an*Gn+dn*Rn+xn*di-bn*Zn+Un*ei;return Pn?(_[0]=(K*ni-re*Gn+me*Rn)*(Pn=1/Pn),_[1]=(L*Gn-M*ni-z*Rn)*Pn,_[2]=(_t*Un-At*bn+Ht*xn)*Pn,_[3]=(Oe*bn-Te*Un-Ve*xn)*Pn,_[4]=(re*di-V*ni-me*Zn)*Pn,_[5]=(y*ni-L*di+z*Zn)*Pn,_[6]=(At*dn-et*Un-Ht*an)*Pn,_[7]=(be*Un-Oe*dn+Ve*an)*Pn,_[8]=(V*Gn-K*di+me*ei)*Pn,_[9]=(M*di-y*Gn-z*ei)*Pn,_[10]=(et*bn-_t*dn+Ht*sn)*Pn,_[11]=(Te*dn-be*bn-Ve*sn)*Pn,_[12]=(K*Zn-V*Rn-re*ei)*Pn,_[13]=(y*Rn-M*Zn+L*ei)*Pn,_[14]=(_t*an-et*xn-At*sn)*Pn,_[15]=(be*xn-Te*an+Oe*sn)*Pn,_):null},x.isMapAuthenticated=function(_){return Bo.has(_)},x.isMapboxURL=nr,x.latFromMercatorY=qd,x.len=Lm,x.length=Ds,x.length$1=function(_){return Math.hypot(_[0],_[1],_[2],_[3])},x.loadVectorTile=Ll,x.makeRequest=at,x.mercatorXfromLng=Ty,x.mercatorYfromLat=Sy,x.mercatorZfromAltitude=w_,x.mul=function(_,c,y){return _[0]=c[0]*y[0],_[1]=c[1]*y[1],_[2]=c[2]*y[2],_[3]=c[3]*y[3],_},x.mul$1=Dl,x.mul$2=fy,x.multiply=es,x.multiply$1=Vd,x.nextPowerOfTwo=wn,x.normalize=Im,x.normalize$1=function(_,c){var y=c[0],M=c[1],L=c[2],z=c[3],V=y*y+M*M+L*L+z*z;return V>0&&(V=1/Math.sqrt(V)),_[0]=y*V,_[1]=M*V,_[2]=L*V,_[3]=z*V,_},x.number=mi,x.ortho=function(_,c,y,M,L,z,V){var K=1/(c-y),re=1/(M-L),me=1/(z-V);return _[0]=-2*K,_[1]=0,_[2]=0,_[3]=0,_[4]=0,_[5]=-2*re,_[6]=0,_[7]=0,_[8]=0,_[9]=0,_[10]=2*me,_[11]=0,_[12]=(c+y)*K,_[13]=(L+M)*re,_[14]=(V+z)*me,_[15]=1,_},x.pbf=yg,x.perspective=function(_,c,y,M,L){var z,V=1/Math.tan(c/2);return _[0]=V/y,_[1]=0,_[2]=0,_[3]=0,_[4]=0,_[5]=V,_[6]=0,_[7]=0,_[8]=0,_[9]=0,_[11]=-1,_[12]=0,_[13]=0,_[15]=0,null!=L&&L!==1/0?(_[10]=(L+M)*(z=1/(M-L)),_[14]=2*L*M*z):(_[10]=-1,_[14]=-2*M),_},x.pick=function(_,c){const y={};for(let M=0;M<c.length;M++){const L=c[M];L in _&&(y[L]=_[L])}return y},x.plugin=qe,x.pointGeometry=Me,x.polygonIntersectsBox=Bf,x.polygonIntersectsPolygon=rg,x.polygonizeBounds=function(_,c,y=0,M=!0){const L=new Me(y,y),z=_.sub(L),V=c.add(L),K=[z,new Me(V.x,z.y),V,new Me(z.x,V.y)];return M&&K.push(z),K},x.posAttributes=Dy,x.postMapLoadEvent=Va,x.postTurnstileEvent=Xi,x.potpack=em,x.prevPowerOfTwo=function(_){return _<=1?1:Math.pow(2,Math.floor(Math.log(_)/Math.LN2))},x.radToDeg=function(_){return _*Lt},x.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],x.registerForPluginStateChange=function(_){return _({pluginStatus:U,pluginURL:J}),xe.on("pluginStateChange",_),_},x.removeAuthState=function(_){Bo.delete(_)},x.renderColorRamp=Fu,x.rotateX=function(_,c,y){var M=Math.sin(y),L=Math.cos(y),z=c[4],V=c[5],K=c[6],re=c[7],me=c[8],be=c[9],Te=c[10],Oe=c[11];return c!==_&&(_[0]=c[0],_[1]=c[1],_[2]=c[2],_[3]=c[3],_[12]=c[12],_[13]=c[13],_[14]=c[14],_[15]=c[15]),_[4]=z*L+me*M,_[5]=V*L+be*M,_[6]=K*L+Te*M,_[7]=re*L+Oe*M,_[8]=me*L-z*M,_[9]=be*L-V*M,_[10]=Te*L-K*M,_[11]=Oe*L-re*M,_},x.rotateX$1=np,x.rotateY=function(_,c,y){var M=Math.sin(y),L=Math.cos(y),z=c[0],V=c[1],K=c[2],re=c[3],me=c[8],be=c[9],Te=c[10],Oe=c[11];return c!==_&&(_[4]=c[4],_[5]=c[5],_[6]=c[6],_[7]=c[7],_[12]=c[12],_[13]=c[13],_[14]=c[14],_[15]=c[15]),_[0]=z*L-me*M,_[1]=V*L-be*M,_[2]=K*L-Te*M,_[3]=re*L-Oe*M,_[8]=z*M+me*L,_[9]=V*M+be*L,_[10]=K*M+Te*L,_[11]=re*M+Oe*L,_},x.rotateZ=function(_,c,y){var M=Math.sin(y),L=Math.cos(y),z=c[0],V=c[1],K=c[2],re=c[3],me=c[4],be=c[5],Te=c[6],Oe=c[7];return c!==_&&(_[8]=c[8],_[9]=c[9],_[10]=c[10],_[11]=c[11],_[12]=c[12],_[13]=c[13],_[14]=c[14],_[15]=c[15]),_[0]=z*L+me*M,_[1]=V*L+be*M,_[2]=K*L+Te*M,_[3]=re*L+Oe*M,_[4]=me*L-z*M,_[5]=be*L-V*M,_[6]=Te*L-K*M,_[7]=Oe*L-re*M,_},x.rotateZ$1=function(_,c,y){y*=.5;var M=c[0],L=c[1],z=c[2],V=c[3],K=Math.sin(y),re=Math.cos(y);return _[0]=M*re+L*K,_[1]=L*re-M*K,_[2]=z*re+V*K,_[3]=V*re-z*K,_},x.scale=function(_,c,y){return _[0]=c[0]*y,_[1]=c[1]*y,_[2]=c[2]*y,_},x.scale$1=function(_,c,y){var M=y[0],L=y[1],z=y[2];return _[0]=c[0]*M,_[1]=c[1]*M,_[2]=c[2]*M,_[3]=c[3]*M,_[4]=c[4]*L,_[5]=c[5]*L,_[6]=c[6]*L,_[7]=c[7]*L,_[8]=c[8]*z,_[9]=c[9]*z,_[10]=c[10]*z,_[11]=c[11]*z,_[12]=c[12],_[13]=c[13],_[14]=c[14],_[15]=c[15],_},x.scale$2=function(_,c,y){return _[0]=c[0]*y,_[1]=c[1]*y,_[2]=c[2]*y,_[3]=c[3]*y,_},x.scaleAndAdd=Ou,x.setCacheLimits=function(_,c){Qt=_,_n=c},x.setRTLTextPlugin=function(_,c,y=!1){if(U===R||U===m||U===T)throw new Error("setRTLTextPlugin cannot be called multiple times.");J=Xs.resolveURL(_),U=R,N=c,ge(),y||He()},x.smoothstep=function(_,c,y){return(y=Wt((y-_)/(c-_),0,1))*y*(3-2*y)},x.spec=b,x.storeAuthState=function(_,c){c?Bo.add(_):Bo.delete(_)},x.sub=uf,x.subtract=Vf,x.symbolSize=u_,x.transformMat3=function(_,c,y){var M=c[0],L=c[1],z=c[2];return _[0]=M*y[0]+L*y[3]+z*y[6],_[1]=M*y[1]+L*y[4]+z*y[7],_[2]=M*y[2]+L*y[5]+z*y[8],_},x.transformMat4=tp,x.transformMat4$1=function(_,c,y){var M=c[0],L=c[1],z=c[2],V=y[3]*M+y[7]*L+y[11]*z+y[15];return _[0]=(y[0]*M+y[4]*L+y[8]*z+y[12])/(V=V||1),_[1]=(y[1]*M+y[5]*L+y[9]*z+y[13])/V,_[2]=(y[2]*M+y[6]*L+y[10]*z+y[14])/V,_},x.transformQuat=cf,x.translate=function(_,c,y){var M,L,z,V,K,re,me,be,Te,Oe,Ve,et,_t=y[0],At=y[1],Ht=y[2];return c===_?(_[12]=c[0]*_t+c[4]*At+c[8]*Ht+c[12],_[13]=c[1]*_t+c[5]*At+c[9]*Ht+c[13],_[14]=c[2]*_t+c[6]*At+c[10]*Ht+c[14],_[15]=c[3]*_t+c[7]*At+c[11]*Ht+c[15]):(L=c[1],z=c[2],V=c[3],K=c[4],re=c[5],me=c[6],be=c[7],Te=c[8],Oe=c[9],Ve=c[10],et=c[11],_[0]=M=c[0],_[1]=L,_[2]=z,_[3]=V,_[4]=K,_[5]=re,_[6]=me,_[7]=be,_[8]=Te,_[9]=Oe,_[10]=Ve,_[11]=et,_[12]=M*_t+K*At+Te*Ht+c[12],_[13]=L*_t+re*At+Oe*Ht+c[13],_[14]=z*_t+me*At+Ve*Ht+c[14],_[15]=V*_t+be*At+et*Ht+c[15]),_},x.triggerPluginCompletionEvent=ce,x.uniqueId=er,x.validateCustomStyleLayer=function(_){const c=[],y=_.id;return void 0===y&&c.push({message:`layers.${y}: missing required property "id"`}),void 0===_.render&&c.push({message:`layers.${y}: missing required method "render"`}),_.renderingMode&&"2d"!==_.renderingMode&&"3d"!==_.renderingMode&&c.push({message:`layers.${y}: property "renderingMode" must be either "2d" or "3d"`}),c},x.validateFog=mh,x.validateLight=Vl,x.validateStyle=Zc,x.values=hi,x.vectorTile=pf,x.version="2.4.1",x.warnOnce=Vi,x.window=Ge,x.wrap=ar}),$(0,function(x){function de(at){const Ye=typeof at;if("number"===Ye||"boolean"===Ye||"string"===Ye||null==at)return JSON.stringify(at);if(Array.isArray(at)){let Ct="[";for(const Bt of at)Ct+=`${de(Bt)},`;return`${Ct}]`}const $e=Object.keys(at).sort();let dt="{";for(let Ct=0;Ct<$e.length;Ct++)dt+=`${JSON.stringify($e[Ct])}:${de(at[$e[Ct]])},`;return`${dt}}`}function Ce(at){let Ye="";for(const $e of x.refProperties)Ye+=`/${de(at[$e])}`;return Ye}class Ee{constructor(Ye){this.keyCache={},Ye&&this.replace(Ye)}replace(Ye){this._layerConfigs={},this._layers={},this.update(Ye,[])}update(Ye,$e){for(const Ct of Ye){this._layerConfigs[Ct.id]=Ct;const Bt=this._layers[Ct.id]=x.createStyleLayer(Ct);Bt._featureFilter=x.createFilter(Bt.filter),this.keyCache[Ct.id]&&delete this.keyCache[Ct.id]}for(const Ct of $e)delete this.keyCache[Ct],delete this._layerConfigs[Ct],delete this._layers[Ct];this.familiesBySource={};const dt=function(Ct,Bt){const Pt={};for(let jt=0;jt<Ct.length;jt++){const en=Bt&&Bt[Ct[jt].id]||Ce(Ct[jt]);Bt&&(Bt[Ct[jt].id]=en);let En=Pt[en];En||(En=Pt[en]=[]),En.push(Ct[jt])}const nn=[];for(const jt in Pt)nn.push(Pt[jt]);return nn}(x.values(this._layerConfigs),this.keyCache);for(const Ct of dt){const Bt=Ct.map(Re=>this._layers[Re.id]),Pt=Bt[0];if("none"===Pt.visibility)continue;const nn=Pt.source||"";let jt=this.familiesBySource[nn];jt||(jt=this.familiesBySource[nn]={});const en=Pt.sourceLayer||"_geojsonTileLayer";let En=jt[en];En||(En=jt[en]=[]),En.push(Bt)}}}const{ImageBitmap:Me}=x.window;class Be{loadTile(Ye,$e){const{uid:dt,encoding:Ct,rawImageData:Bt,padding:Pt,buildQuadTree:nn}=Ye,jt=Me&&Bt instanceof Me?this.getImageData(Bt,Pt):Bt;$e(null,new x.DEMData(dt,jt,Ct,Pt<1,nn))}getImageData(Ye,$e){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(Ye.width,Ye.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=Ye.width,this.offscreenCanvas.height=Ye.height,this.offscreenCanvasContext.drawImage(Ye,0,0,Ye.width,Ye.height);const dt=this.offscreenCanvasContext.getImageData(-$e,-$e,Ye.width+2*$e,Ye.height+2*$e);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new x.RGBAImage({width:dt.width,height:dt.height},dt.data)}}var Ge=function at(Ye,$e){var dt,Ct=Ye&&Ye.type;if("FeatureCollection"===Ct)for(dt=0;dt<Ye.features.length;dt++)at(Ye.features[dt],$e);else if("GeometryCollection"===Ct)for(dt=0;dt<Ye.geometries.length;dt++)at(Ye.geometries[dt],$e);else if("Feature"===Ct)at(Ye.geometry,$e);else if("Polygon"===Ct)Mt(Ye.coordinates,$e);else if("MultiPolygon"===Ct)for(dt=0;dt<Ye.coordinates.length;dt++)Mt(Ye.coordinates[dt],$e);return Ye};function Mt(at,Ye){if(0!==at.length){ft(at[0],Ye);for(var $e=1;$e<at.length;$e++)ft(at[$e],!Ye)}}function ft(at,Ye){for(var $e=0,dt=0,Ct=at.length,Bt=Ct-1;dt<Ct;Bt=dt++)$e+=(at[dt][0]-at[Bt][0])*(at[Bt][1]+at[dt][1]);$e>=0!=!!Ye&&at.reverse()}const Lt=x.vectorTile.VectorTileFeature.prototype.toGeoJSON;class rn{constructor(Ye){this._feature=Ye,this.extent=x.EXTENT,this.type=Ye.type,this.properties=Ye.tags,"id"in Ye&&!isNaN(Ye.id)&&(this.id=parseInt(Ye.id,10))}loadGeometry(){if(1===this._feature.type){const Ye=[];for(const $e of this._feature.geometry)Ye.push([new x.pointGeometry($e[0],$e[1])]);return Ye}{const Ye=[];for(const $e of this._feature.geometry){const dt=[];for(const Ct of $e)dt.push(new x.pointGeometry(Ct[0],Ct[1]));Ye.push(dt)}return Ye}}toGeoJSON(Ye,$e,dt){return Lt.call(this,Ye,$e,dt)}}class Gt{constructor(Ye){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=x.EXTENT,this.length=Ye.length,this._features=Ye}feature(Ye){return new rn(this._features[Ye])}}var ct=x.vectorTile.VectorTileFeature,ii=Fn;function Fn(at,Ye){this.options=Ye||{},this.features=at,this.length=at.length}function Wt(at,Ye){this.id="number"==typeof at.id?at.id:void 0,this.type=at.type,this.rawGeometry=1===at.type?[at.geometry]:at.geometry,this.properties=at.tags,this.extent=Ye||4096}Fn.prototype.feature=function(at){return new Wt(this.features[at],this.options.extent)},Wt.prototype.loadGeometry=function(){var at=this.rawGeometry;this.geometry=[];for(var Ye=0;Ye<at.length;Ye++){for(var $e=at[Ye],dt=[],Ct=0;Ct<$e.length;Ct++)dt.push(new x.pointGeometry($e[Ct][0],$e[Ct][1]));this.geometry.push(dt)}return this.geometry},Wt.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var at=this.geometry,Ye=1/0,$e=-1/0,dt=1/0,Ct=-1/0,Bt=0;Bt<at.length;Bt++)for(var Pt=at[Bt],nn=0;nn<Pt.length;nn++){var jt=Pt[nn];Ye=Math.min(Ye,jt.x),$e=Math.max($e,jt.x),dt=Math.min(dt,jt.y),Ct=Math.max(Ct,jt.y)}return[Ye,dt,$e,Ct]},Wt.prototype.toGeoJSON=ct.prototype.toGeoJSON;var ar=hi,us=ii;function hi(at){var Ye=new x.pbf;return function($e,dt){for(var Ct in $e.layers)dt.writeMessage(3,zi,$e.layers[Ct])}(at,Ye),Ye.finish()}function zi(at,Ye){var $e;Ye.writeVarintField(15,at.version||1),Ye.writeStringField(1,at.name||""),Ye.writeVarintField(5,at.extent||4096);var dt={keys:[],values:[],keycache:{},valuecache:{}};for($e=0;$e<at.length;$e++)dt.feature=at.feature($e),Ye.writeMessage(2,Ps,dt);var Ct=dt.keys;for($e=0;$e<Ct.length;$e++)Ye.writeStringField(3,Ct[$e]);var Bt=dt.values;for($e=0;$e<Bt.length;$e++)Ye.writeMessage(4,Mn,Bt[$e])}function Ps(at,Ye){var $e=at.feature;void 0!==$e.id&&Ye.writeVarintField(1,$e.id),Ye.writeMessage(2,er,at),Ye.writeVarintField(3,$e.type),Ye.writeMessage(4,hn,$e)}function er(at,Ye){var $e=at.feature,dt=at.keys,Ct=at.values,Bt=at.keycache,Pt=at.valuecache;for(var nn in $e.properties){var jt=Bt[nn];void 0===jt&&(dt.push(nn),Bt[nn]=jt=dt.length-1),Ye.writeVarint(jt);var en=$e.properties[nn],En=typeof en;"string"!==En&&"boolean"!==En&&"number"!==En&&(en=JSON.stringify(en));var Re=En+":"+en,p=Pt[Re];void 0===p&&(Ct.push(en),Pt[Re]=p=Ct.length-1),Ye.writeVarint(p)}}function Yr(at,Ye){return(Ye<<3)+(7&at)}function wn(at){return at<<1^at>>31}function hn(at,Ye){for(var $e=at.loadGeometry(),dt=at.type,Ct=0,Bt=0,Pt=$e.length,nn=0;nn<Pt;nn++){var jt=$e[nn],en=1;1===dt&&(en=jt.length),Ye.writeVarint(Yr(1,en));for(var En=3===dt?jt.length-1:jt.length,Re=0;Re<En;Re++){1===Re&&1!==dt&&Ye.writeVarint(Yr(2,En-1));var p=jt[Re].x-Ct,f=jt[Re].y-Bt;Ye.writeVarint(wn(p)),Ye.writeVarint(wn(f)),Ct+=p,Bt+=f}3===dt&&Ye.writeVarint(Yr(7,1))}}function Mn(at,Ye){var $e=typeof at;"string"===$e?Ye.writeStringField(1,at):"boolean"===$e?Ye.writeBooleanField(7,at):"number"===$e&&(at%1!=0?Ye.writeDoubleField(3,at):at<0?Ye.writeSVarintField(6,at):Ye.writeVarintField(5,at))}function mn(at,Ye,$e,dt,Ct,Bt){if(Ct-dt<=$e)return;const Pt=dt+Ct>>1;Yn(at,Ye,Pt,dt,Ct,Bt%2),mn(at,Ye,$e,dt,Pt-1,Bt+1),mn(at,Ye,$e,Pt+1,Ct,Bt+1)}function Yn(at,Ye,$e,dt,Ct,Bt){for(;Ct>dt;){if(Ct-dt>600){const en=Ct-dt+1,En=$e-dt+1,Re=Math.log(en),p=.5*Math.exp(2*Re/3),f=.5*Math.sqrt(Re*p*(en-p)/en)*(En-en/2<0?-1:1);Yn(at,Ye,$e,Math.max(dt,Math.floor($e-En*p/en+f)),Math.min(Ct,Math.floor($e+(en-En)*p/en+f)),Bt)}const Pt=Ye[2*$e+Bt];let nn=dt,jt=Ct;for(vn(at,Ye,dt,$e),Ye[2*Ct+Bt]>Pt&&vn(at,Ye,dt,Ct);nn<jt;){for(vn(at,Ye,nn,jt),nn++,jt--;Ye[2*nn+Bt]<Pt;)nn++;for(;Ye[2*jt+Bt]>Pt;)jt--}Ye[2*dt+Bt]===Pt?vn(at,Ye,dt,jt):(jt++,vn(at,Ye,jt,Ct)),jt<=$e&&(dt=jt+1),$e<=jt&&(Ct=jt-1)}}function vn(at,Ye,$e,dt){ai(at,$e,dt),ai(Ye,2*$e,2*dt),ai(Ye,2*$e+1,2*dt+1)}function ai(at,Ye,$e){const dt=at[Ye];at[Ye]=at[$e],at[$e]=dt}function Bi(at,Ye,$e,dt){const Ct=at-$e,Bt=Ye-dt;return Ct*Ct+Bt*Bt}ar.fromVectorTileJs=hi,ar.fromGeojsonVt=function(at,Ye){Ye=Ye||{};var $e={};for(var dt in at)$e[dt]=new ii(at[dt].features,Ye),$e[dt].name=dt,$e[dt].version=Ye.version,$e[dt].extent=Ye.extent;return hi({layers:$e})},ar.GeoJSONWrapper=us;const Vi=at=>at[0],fi=at=>at[1];class Ti{constructor(Ye,$e=Vi,dt=fi,Ct=64,Bt=Float64Array){this.nodeSize=Ct,this.points=Ye;const Pt=Ye.length<65536?Uint16Array:Uint32Array,nn=this.ids=new Pt(Ye.length),jt=this.coords=new Bt(2*Ye.length);for(let en=0;en<Ye.length;en++)nn[en]=en,jt[2*en]=$e(Ye[en]),jt[2*en+1]=dt(Ye[en]);mn(nn,jt,Ct,0,nn.length-1,0)}range(Ye,$e,dt,Ct){return function(Bt,Pt,nn,jt,en,En,Re){const p=[0,Bt.length-1,0],f=[];let b,S;for(;p.length;){const D=p.pop(),B=p.pop(),F=p.pop();if(B-F<=Re){for(let oe=F;oe<=B;oe++)b=Pt[2*oe],S=Pt[2*oe+1],b>=nn&&b<=en&&S>=jt&&S<=En&&f.push(Bt[oe]);continue}const Z=Math.floor((F+B)/2);b=Pt[2*Z],S=Pt[2*Z+1],b>=nn&&b<=en&&S>=jt&&S<=En&&f.push(Bt[Z]);const q=(D+1)%2;(0===D?nn<=b:jt<=S)&&(p.push(F),p.push(Z-1),p.push(q)),(0===D?en>=b:En>=S)&&(p.push(Z+1),p.push(B),p.push(q))}return f}(this.ids,this.coords,Ye,$e,dt,Ct,this.nodeSize)}within(Ye,$e,dt){return function(Ct,Bt,Pt,nn,jt,en){const En=[0,Ct.length-1,0],Re=[],p=jt*jt;for(;En.length;){const f=En.pop(),b=En.pop(),S=En.pop();if(b-S<=en){for(let q=S;q<=b;q++)Bi(Bt[2*q],Bt[2*q+1],Pt,nn)<=p&&Re.push(Ct[q]);continue}const D=Math.floor((S+b)/2),B=Bt[2*D],F=Bt[2*D+1];Bi(B,F,Pt,nn)<=p&&Re.push(Ct[D]);const Z=(f+1)%2;(0===f?Pt-jt<=B:nn-jt<=F)&&(En.push(S),En.push(D-1),En.push(Z)),(0===f?Pt+jt>=B:nn+jt>=F)&&(En.push(D+1),En.push(b),En.push(Z))}return Re}(this.ids,this.coords,Ye,$e,dt,this.nodeSize)}}const vi={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:at=>at},bi=Math.fround||(Kn=new Float32Array(1),at=>(Kn[0]=+at,Kn[0]));var Kn;class Oi{constructor(Ye){this.options=Da(Object.create(vi),Ye),this.trees=new Array(this.options.maxZoom+1)}load(Ye){const{log:$e,minZoom:dt,maxZoom:Ct,nodeSize:Bt}=this.options;$e&&console.time("total time");const Pt=`prepare ${Ye.length} points`;$e&&console.time(Pt),this.points=Ye;let nn=[];for(let jt=0;jt<Ye.length;jt++)Ye[jt].geometry&&nn.push(xo(Ye[jt],jt));this.trees[Ct+1]=new Ti(nn,Ki,tr,Bt,Float32Array),$e&&console.timeEnd(Pt);for(let jt=Ct;jt>=dt;jt--){const en=+Date.now();nn=this._cluster(nn,jt),this.trees[jt]=new Ti(nn,Ki,tr,Bt,Float32Array),$e&&console.log("z%d: %d clusters in %dms",jt,nn.length,+Date.now()-en)}return $e&&console.timeEnd("total time"),this}getClusters(Ye,$e){let dt=((Ye[0]+180)%360+360)%360-180;const Ct=Math.max(-90,Math.min(90,Ye[1]));let Bt=180===Ye[2]?180:((Ye[2]+180)%360+360)%360-180;const Pt=Math.max(-90,Math.min(90,Ye[3]));if(Ye[2]-Ye[0]>=360)dt=-180,Bt=180;else if(dt>Bt){const En=this.getClusters([dt,Ct,180,Pt],$e),Re=this.getClusters([-180,Ct,Bt,Pt],$e);return En.concat(Re)}const nn=this.trees[this._limitZoom($e)],jt=nn.range(Xs(dt),Ea(Pt),Xs(Bt),Ea(Ct)),en=[];for(const En of jt){const Re=nn.points[En];en.push(Re.numPoints?ss(Re):this.points[Re.index])}return en}getChildren(Ye){const $e=this._getOriginId(Ye),dt=this._getOriginZoom(Ye),Ct="No cluster with the specified id.",Bt=this.trees[dt];if(!Bt)throw new Error(Ct);const Pt=Bt.points[$e];if(!Pt)throw new Error(Ct);const nn=this.options.radius/(this.options.extent*Math.pow(2,dt-1)),jt=Bt.within(Pt.x,Pt.y,nn),en=[];for(const En of jt){const Re=Bt.points[En];Re.parentId===Ye&&en.push(Re.numPoints?ss(Re):this.points[Re.index])}if(0===en.length)throw new Error(Ct);return en}getLeaves(Ye,$e,dt){const Ct=[];return this._appendLeaves(Ct,Ye,$e=$e||10,dt=dt||0,0),Ct}getTile(Ye,$e,dt){const Ct=this.trees[this._limitZoom(Ye)],Bt=Math.pow(2,Ye),{extent:Pt,radius:nn}=this.options,jt=nn/Pt,en=(dt-jt)/Bt,En=(dt+1+jt)/Bt,Re={features:[]};return this._addTileFeatures(Ct.range(($e-jt)/Bt,en,($e+1+jt)/Bt,En),Ct.points,$e,dt,Bt,Re),0===$e&&this._addTileFeatures(Ct.range(1-jt/Bt,en,1,En),Ct.points,Bt,dt,Bt,Re),$e===Bt-1&&this._addTileFeatures(Ct.range(0,en,jt/Bt,En),Ct.points,-1,dt,Bt,Re),Re.features.length?Re:null}getClusterExpansionZoom(Ye){let $e=this._getOriginZoom(Ye)-1;for(;$e<=this.options.maxZoom;){const dt=this.getChildren(Ye);if($e++,1!==dt.length)break;Ye=dt[0].properties.cluster_id}return $e}_appendLeaves(Ye,$e,dt,Ct,Bt){const Pt=this.getChildren($e);for(const nn of Pt){const jt=nn.properties;if(jt&&jt.cluster?Bt+jt.point_count<=Ct?Bt+=jt.point_count:Bt=this._appendLeaves(Ye,jt.cluster_id,dt,Ct,Bt):Bt<Ct?Bt++:Ye.push(nn),Ye.length===dt)break}return Bt}_addTileFeatures(Ye,$e,dt,Ct,Bt,Pt){for(const nn of Ye){const jt=$e[nn],en=jt.numPoints;let En,Re,p;if(en)En=Gs(jt),Re=jt.x,p=jt.y;else{const S=this.points[jt.index];En=S.properties,Re=Xs(S.geometry.coordinates[0]),p=Ea(S.geometry.coordinates[1])}const f={type:1,geometry:[[Math.round(this.options.extent*(Re*Bt-dt)),Math.round(this.options.extent*(p*Bt-Ct))]],tags:En};let b;en?b=jt.id:this.options.generateId?b=jt.index:this.points[jt.index].id&&(b=this.points[jt.index].id),void 0!==b&&(f.id=b),Pt.features.push(f)}}_limitZoom(Ye){return Math.max(this.options.minZoom,Math.min(+Ye,this.options.maxZoom+1))}_cluster(Ye,$e){const dt=[],{radius:Ct,extent:Bt,reduce:Pt,minPoints:nn}=this.options,jt=Ct/(Bt*Math.pow(2,$e));for(let en=0;en<Ye.length;en++){const En=Ye[en];if(En.zoom<=$e)continue;En.zoom=$e;const Re=this.trees[$e+1],p=Re.within(En.x,En.y,jt),f=En.numPoints||1;let b=f;for(const S of p){const D=Re.points[S];D.zoom>$e&&(b+=D.numPoints||1)}if(b>=nn){let S=En.x*f,D=En.y*f,B=Pt&&f>1?this._map(En,!0):null;const F=(en<<5)+($e+1)+this.points.length;for(const Z of p){const q=Re.points[Z];if(q.zoom<=$e)continue;q.zoom=$e;const oe=q.numPoints||1;S+=q.x*oe,D+=q.y*oe,q.parentId=F,Pt&&(B||(B=this._map(En,!0)),Pt(B,this._map(q)))}En.parentId=F,dt.push(kr(S/b,D/b,F,b,B))}else if(dt.push(En),b>1)for(const S of p){const D=Re.points[S];D.zoom<=$e||(D.zoom=$e,dt.push(D))}}return dt}_getOriginId(Ye){return Ye-this.points.length>>5}_getOriginZoom(Ye){return(Ye-this.points.length)%32}_map(Ye,$e){if(Ye.numPoints)return $e?Da({},Ye.properties):Ye.properties;const dt=this.points[Ye.index].properties,Ct=this.options.map(dt);return $e&&Ct===dt?Da({},Ct):Ct}}function kr(at,Ye,$e,dt,Ct){return{x:bi(at),y:bi(Ye),zoom:1/0,id:$e,parentId:-1,numPoints:dt,properties:Ct}}function xo(at,Ye){const[$e,dt]=at.geometry.coordinates;return{x:bi(Xs($e)),y:bi(Ea(dt)),zoom:1/0,index:Ye,parentId:-1}}function ss(at){return{type:"Feature",id:at.id,properties:Gs(at),geometry:{type:"Point",coordinates:[(Ye=at.x,360*(Ye-.5)),lr(at.y)]}};var Ye}function Gs(at){const Ye=at.numPoints,$e=Ye>=1e4?`${Math.round(Ye/1e3)}k`:Ye>=1e3?Math.round(Ye/100)/10+"k":Ye;return Da(Da({},at.properties),{cluster:!0,cluster_id:at.id,point_count:Ye,point_count_abbreviated:$e})}function Xs(at){return at/360+.5}function Ea(at){const Ye=Math.sin(at*Math.PI/180),$e=.5-.25*Math.log((1+Ye)/(1-Ye))/Math.PI;return $e<0?0:$e>1?1:$e}function lr(at){const Ye=(180-360*at)*Math.PI/180;return 360*Math.atan(Math.exp(Ye))/Math.PI-90}function Da(at,Ye){for(const $e in Ye)at[$e]=Ye[$e];return at}function Ki(at){return at.x}function tr(at){return at.y}function wo(at,Ye,$e,dt){for(var Ct,Bt=dt,Pt=$e-Ye>>1,nn=$e-Ye,jt=at[Ye],en=at[Ye+1],En=at[$e],Re=at[$e+1],p=Ye+3;p<$e;p+=3){var f=Ws(at[p],at[p+1],jt,en,En,Re);if(f>Bt)Ct=p,Bt=f;else if(f===Bt){var b=Math.abs(p-Pt);b<nn&&(Ct=p,nn=b)}}Bt>dt&&(Ct-Ye>3&&wo(at,Ye,Ct,dt),at[Ct+2]=Bt,$e-Ct>3&&wo(at,Ct,$e,dt))}function Ws(at,Ye,$e,dt,Ct,Bt){var Pt=Ct-$e,nn=Bt-dt;if(0!==Pt||0!==nn){var jt=((at-$e)*Pt+(Ye-dt)*nn)/(Pt*Pt+nn*nn);jt>1?($e=Ct,dt=Bt):jt>0&&($e+=Pt*jt,dt+=nn*jt)}return(Pt=at-$e)*Pt+(nn=Ye-dt)*nn}function wi(at,Ye,$e,dt){var Ct={id:void 0===at?null:at,type:Ye,geometry:$e,tags:dt,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(Bt){var Pt=Bt.geometry,nn=Bt.type;if("Point"===nn||"MultiPoint"===nn||"LineString"===nn)fs(Bt,Pt);else if("Polygon"===nn||"MultiLineString"===nn)for(var jt=0;jt<Pt.length;jt++)fs(Bt,Pt[jt]);else if("MultiPolygon"===nn)for(jt=0;jt<Pt.length;jt++)for(var en=0;en<Pt[jt].length;en++)fs(Bt,Pt[jt][en])}(Ct),Ct}function fs(at,Ye){for(var $e=0;$e<Ye.length;$e+=3)at.minX=Math.min(at.minX,Ye[$e]),at.minY=Math.min(at.minY,Ye[$e+1]),at.maxX=Math.max(at.maxX,Ye[$e]),at.maxY=Math.max(at.maxY,Ye[$e+1])}function xr(at,Ye,$e,dt){if(Ye.geometry){var Ct=Ye.geometry.coordinates,Bt=Ye.geometry.type,Pt=Math.pow($e.tolerance/((1<<$e.maxZoom)*$e.extent),2),nn=[],jt=Ye.id;if($e.promoteId?jt=Ye.properties[$e.promoteId]:$e.generateId&&(jt=dt||0),"Point"===Bt)nr(Ct,nn);else if("MultiPoint"===Bt)for(var en=0;en<Ct.length;en++)nr(Ct[en],nn);else if("LineString"===Bt)Co(Ct,nn,Pt,!1);else if("MultiLineString"===Bt){if($e.lineMetrics){for(en=0;en<Ct.length;en++)Co(Ct[en],nn=[],Pt,!1),at.push(wi(jt,"LineString",nn,Ye.properties));return}Yc(Ct,nn,Pt,!1)}else if("Polygon"===Bt)Yc(Ct,nn,Pt,!0);else{if("MultiPolygon"!==Bt){if("GeometryCollection"===Bt){for(en=0;en<Ye.geometry.geometries.length;en++)xr(at,{id:jt,geometry:Ye.geometry.geometries[en],properties:Ye.properties},$e,dt);return}throw new Error("Input data is not a valid GeoJSON object.")}for(en=0;en<Ct.length;en++){var En=[];Yc(Ct[en],En,Pt,!0),nn.push(En)}}at.push(wi(jt,Bt,nn,Ye.properties))}}function nr(at,Ye){Ye.push(Qr(at[0])),Ye.push(Ns(at[1])),Ye.push(0)}function Co(at,Ye,$e,dt){for(var Ct,Bt,Pt=0,nn=0;nn<at.length;nn++){var jt=Qr(at[nn][0]),en=Ns(at[nn][1]);Ye.push(jt),Ye.push(en),Ye.push(0),nn>0&&(Pt+=dt?(Ct*en-jt*Bt)/2:Math.sqrt(Math.pow(jt-Ct,2)+Math.pow(en-Bt,2))),Ct=jt,Bt=en}var En=Ye.length-3;Ye[2]=1,wo(Ye,0,En,$e),Ye[En+2]=1,Ye.size=Math.abs(Pt),Ye.start=0,Ye.end=Ye.size}function Yc(at,Ye,$e,dt){for(var Ct=0;Ct<at.length;Ct++){var Bt=[];Co(at[Ct],Bt,$e,dt),Ye.push(Bt)}}function Qr(at){return at/360+.5}function Ns(at){var Ye=Math.sin(at*Math.PI/180),$e=.5-.25*Math.log((1+Ye)/(1-Ye))/Math.PI;return $e<0?0:$e>1?1:$e}function Wo(at,Ye,$e,dt,Ct,Bt,Pt,nn){if(dt/=Ye,Bt>=($e/=Ye)&&Pt<dt)return at;if(Pt<$e||Bt>=dt)return null;for(var jt=[],en=0;en<at.length;en++){var En=at[en],Re=En.geometry,p=En.type,f=0===Ct?En.minX:En.minY,b=0===Ct?En.maxX:En.maxY;if(f>=$e&&b<dt)jt.push(En);else if(!(b<$e||f>=dt)){var S=[];if("Point"===p||"MultiPoint"===p)Pr(Re,S,$e,dt,Ct);else if("LineString"===p)jn(Re,S,$e,dt,Ct,!1,nn.lineMetrics);else if("MultiLineString"===p)wl(Re,S,$e,dt,Ct,!1);else if("Polygon"===p)wl(Re,S,$e,dt,Ct,!0);else if("MultiPolygon"===p)for(var D=0;D<Re.length;D++){var B=[];wl(Re[D],B,$e,dt,Ct,!0),B.length&&S.push(B)}if(S.length){if(nn.lineMetrics&&"LineString"===p){for(D=0;D<S.length;D++)jt.push(wi(En.id,p,S[D],En.tags));continue}"LineString"!==p&&"MultiLineString"!==p||(1===S.length?(p="LineString",S=S[0]):p="MultiLineString"),"Point"!==p&&"MultiPoint"!==p||(p=3===S.length?"Point":"MultiPoint"),jt.push(wi(En.id,p,S,En.tags))}}}return jt.length?jt:null}function Pr(at,Ye,$e,dt,Ct){for(var Bt=0;Bt<at.length;Bt+=3){var Pt=at[Bt+Ct];Pt>=$e&&Pt<=dt&&(Ye.push(at[Bt]),Ye.push(at[Bt+1]),Ye.push(at[Bt+2]))}}function jn(at,Ye,$e,dt,Ct,Bt,Pt){for(var nn,jt,en=Xi(at),En=0===Ct?Aa:ws,Re=at.start,p=0;p<at.length-3;p+=3){var f=at[p],b=at[p+1],S=at[p+2],D=at[p+3],B=at[p+4],F=0===Ct?f:b,Z=0===Ct?D:B,q=!1;Pt&&(nn=Math.sqrt(Math.pow(f-D,2)+Math.pow(b-B,2))),F<$e?Z>$e&&(jt=En(en,f,b,D,B,$e),Pt&&(en.start=Re+nn*jt)):F>dt?Z<dt&&(jt=En(en,f,b,D,B,dt),Pt&&(en.start=Re+nn*jt)):Va(en,f,b,S),Z<$e&&F>=$e&&(jt=En(en,f,b,D,B,$e),q=!0),Z>dt&&F<=dt&&(jt=En(en,f,b,D,B,dt),q=!0),!Bt&&q&&(Pt&&(en.end=Re+nn*jt),Ye.push(en),en=Xi(at)),Pt&&(Re+=nn)}var oe=at.length-3;f=at[oe],b=at[oe+1],S=at[oe+2],(F=0===Ct?f:b)>=$e&&F<=dt&&Va(en,f,b,S),oe=en.length-3,Bt&&oe>=3&&(en[oe]!==en[0]||en[oe+1]!==en[1])&&Va(en,en[0],en[1],en[2]),en.length&&Ye.push(en)}function Xi(at){var Ye=[];return Ye.size=at.size,Ye.start=at.start,Ye.end=at.end,Ye}function wl(at,Ye,$e,dt,Ct,Bt){for(var Pt=0;Pt<at.length;Pt++)jn(at[Pt],Ye,$e,dt,Ct,Bt,!1)}function Va(at,Ye,$e,dt){at.push(Ye),at.push($e),at.push(dt)}function Aa(at,Ye,$e,dt,Ct,Bt){var Pt=(Bt-Ye)/(dt-Ye);return at.push(Bt),at.push($e+(Ct-$e)*Pt),at.push(1),Pt}function ws(at,Ye,$e,dt,Ct,Bt){var Pt=(Bt-$e)/(Ct-$e);return at.push(Ye+(dt-Ye)*Pt),at.push(Bt),at.push(1),Pt}function Bo(at,Ye){for(var $e=[],dt=0;dt<at.length;dt++){var Ct,Bt=at[dt],Pt=Bt.type;if("Point"===Pt||"MultiPoint"===Pt||"LineString"===Pt)Ct=Yo(Bt.geometry,Ye);else if("MultiLineString"===Pt||"Polygon"===Pt){Ct=[];for(var nn=0;nn<Bt.geometry.length;nn++)Ct.push(Yo(Bt.geometry[nn],Ye))}else if("MultiPolygon"===Pt)for(Ct=[],nn=0;nn<Bt.geometry.length;nn++){for(var jt=[],en=0;en<Bt.geometry[nn].length;en++)jt.push(Yo(Bt.geometry[nn][en],Ye));Ct.push(jt)}$e.push(wi(Bt.id,Pt,Ct,Bt.tags))}return $e}function Yo(at,Ye){var $e=[];$e.size=at.size,void 0!==at.start&&($e.start=at.start,$e.end=at.end);for(var dt=0;dt<at.length;dt+=3)$e.push(at[dt]+Ye,at[dt+1],at[dt+2]);return $e}function Rt(at,Ye){if(at.transformed)return at;var $e,dt,Ct,Bt=1<<at.z,Pt=at.x,nn=at.y;for($e=0;$e<at.features.length;$e++){var jt=at.features[$e],en=jt.geometry,En=jt.type;if(jt.geometry=[],1===En)for(dt=0;dt<en.length;dt+=2)jt.geometry.push(Ot(en[dt],en[dt+1],Ye,Bt,Pt,nn));else for(dt=0;dt<en.length;dt++){var Re=[];for(Ct=0;Ct<en[dt].length;Ct+=2)Re.push(Ot(en[dt][Ct],en[dt][Ct+1],Ye,Bt,Pt,nn));jt.geometry.push(Re)}}return at.transformed=!0,at}function Ot(at,Ye,$e,dt,Ct,Bt){return[Math.round($e*(at*dt-Ct)),Math.round($e*(Ye*dt-Bt))]}function Qt(at,Ye,$e,dt,Ct){for(var Bt=Ye===Ct.maxZoom?0:Ct.tolerance/((1<<Ye)*Ct.extent),Pt={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:$e,y:dt,z:Ye,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},nn=0;nn<at.length;nn++){Pt.numFeatures++,_n(Pt,at[nn],Bt,Ct);var jt=at[nn].minX,en=at[nn].minY,En=at[nn].maxX,Re=at[nn].maxY;jt<Pt.minX&&(Pt.minX=jt),en<Pt.minY&&(Pt.minY=en),En>Pt.maxX&&(Pt.maxX=En),Re>Pt.maxY&&(Pt.maxY=Re)}return Pt}function _n(at,Ye,$e,dt){var Ct=Ye.geometry,Bt=Ye.type,Pt=[];if("Point"===Bt||"MultiPoint"===Bt)for(var nn=0;nn<Ct.length;nn+=3)Pt.push(Ct[nn]),Pt.push(Ct[nn+1]),at.numPoints++,at.numSimplified++;else if("LineString"===Bt)on(Pt,Ct,at,$e,!1,!1);else if("MultiLineString"===Bt||"Polygon"===Bt)for(nn=0;nn<Ct.length;nn++)on(Pt,Ct[nn],at,$e,"Polygon"===Bt,0===nn);else if("MultiPolygon"===Bt)for(var jt=0;jt<Ct.length;jt++){var en=Ct[jt];for(nn=0;nn<en.length;nn++)on(Pt,en[nn],at,$e,!0,0===nn)}if(Pt.length){var En=Ye.tags||null;if("LineString"===Bt&&dt.lineMetrics){for(var Re in En={},Ye.tags)En[Re]=Ye.tags[Re];En.mapbox_clip_start=Ct.start/Ct.size,En.mapbox_clip_end=Ct.end/Ct.size}var p={geometry:Pt,type:"Polygon"===Bt||"MultiPolygon"===Bt?3:"LineString"===Bt||"MultiLineString"===Bt?2:1,tags:En};null!==Ye.id&&(p.id=Ye.id),at.features.push(p)}}function on(at,Ye,$e,dt,Ct,Bt){var Pt=dt*dt;if(dt>0&&Ye.size<(Ct?Pt:dt))$e.numPoints+=Ye.length/3;else{for(var nn=[],jt=0;jt<Ye.length;jt+=3)(0===dt||Ye[jt+2]>Pt)&&($e.numSimplified++,nn.push(Ye[jt]),nn.push(Ye[jt+1])),$e.numPoints++;Ct&&function(en,En){for(var Re=0,p=0,f=en.length,b=f-2;p<f;b=p,p+=2)Re+=(en[p]-en[b])*(en[p+1]+en[b+1]);if(Re>0===En)for(p=0,f=en.length;p<f/2;p+=2){var S=en[p],D=en[p+1];en[p]=en[f-2-p],en[p+1]=en[f-1-p],en[f-2-p]=S,en[f-1-p]=D}}(nn,Bt),at.push(nn)}}function gi(at,Ye){var $e=(Ye=this.options=function(Ct,Bt){for(var Pt in Bt)Ct[Pt]=Bt[Pt];return Ct}(Object.create(this.options),Ye)).debug;if($e&&console.time("preprocess data"),Ye.maxZoom<0||Ye.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(Ye.promoteId&&Ye.generateId)throw new Error("promoteId and generateId cannot be used together.");var Ct,Bt,Pt,nn,jt,en,dt=function(Ct,Bt){var Pt=[];if("FeatureCollection"===Ct.type)for(var nn=0;nn<Ct.features.length;nn++)xr(Pt,Ct.features[nn],Bt,nn);else xr(Pt,"Feature"===Ct.type?Ct:{geometry:Ct},Bt);return Pt}(at,Ye);this.tiles={},this.tileCoords=[],$e&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",Ye.indexMaxZoom,Ye.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(Ct=dt,Bt=Ye,Pt=Bt.buffer/Bt.extent,nn=Ct,jt=Wo(Ct,1,-1-Pt,Pt,0,-1,2,Bt),en=Wo(Ct,1,1-Pt,2+Pt,0,-1,2,Bt),(jt||en)&&(nn=Wo(Ct,1,-Pt,1+Pt,0,-1,2,Bt)||[],jt&&(nn=Bo(jt,1).concat(nn)),en&&(nn=nn.concat(Bo(en,-1)))),dt=nn).length&&this.splitTile(dt,0,0,0),$e&&(dt.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Ui(at,Ye,$e){return 32*((1<<at)*$e+Ye)+at}function hr(at,Ye){const $e=at.tileID.canonical;if(!this._geoJSONIndex)return Ye(null,null);const dt=this._geoJSONIndex.getTile($e.z,$e.x,$e.y);if(!dt)return Ye(null,null);const Ct=new Gt(dt.features);let Bt=ar(Ct);0===Bt.byteOffset&&Bt.byteLength===Bt.buffer.byteLength||(Bt=new Uint8Array(Bt)),Ye(null,{vectorTile:Ct,rawData:Bt.buffer})}gi.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},gi.prototype.splitTile=function(at,Ye,$e,dt,Ct,Bt,Pt){for(var nn=[at,Ye,$e,dt],jt=this.options,en=jt.debug;nn.length;){dt=nn.pop(),$e=nn.pop(),Ye=nn.pop(),at=nn.pop();var En=1<<Ye,Re=Ui(Ye,$e,dt),p=this.tiles[Re];if(!p&&(en>1&&console.time("creation"),p=this.tiles[Re]=Qt(at,Ye,$e,dt,jt),this.tileCoords.push({z:Ye,x:$e,y:dt}),en)){en>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",Ye,$e,dt,p.numFeatures,p.numPoints,p.numSimplified),console.timeEnd("creation"));var f="z"+Ye;this.stats[f]=(this.stats[f]||0)+1,this.total++}if(p.source=at,Ct){if(Ye===jt.maxZoom||Ye===Ct)continue;var b=1<<Ct-Ye;if($e!==Math.floor(Bt/b)||dt!==Math.floor(Pt/b))continue}else if(Ye===jt.indexMaxZoom||p.numPoints<=jt.indexMaxPoints)continue;if(p.source=null,0!==at.length){en>1&&console.time("clipping");var S,D,B,F,Z,q,oe=.5*jt.buffer/jt.extent,ue=.5-oe,ae=.5+oe,_e=1+oe;S=D=B=F=null,Z=Wo(at,En,$e-oe,$e+ae,0,p.minX,p.maxX,jt),q=Wo(at,En,$e+ue,$e+_e,0,p.minX,p.maxX,jt),at=null,Z&&(S=Wo(Z,En,dt-oe,dt+ae,1,p.minY,p.maxY,jt),D=Wo(Z,En,dt+ue,dt+_e,1,p.minY,p.maxY,jt),Z=null),q&&(B=Wo(q,En,dt-oe,dt+ae,1,p.minY,p.maxY,jt),F=Wo(q,En,dt+ue,dt+_e,1,p.minY,p.maxY,jt),q=null),en>1&&console.timeEnd("clipping"),nn.push(S||[],Ye+1,2*$e,2*dt),nn.push(D||[],Ye+1,2*$e,2*dt+1),nn.push(B||[],Ye+1,2*$e+1,2*dt),nn.push(F||[],Ye+1,2*$e+1,2*dt+1)}}},gi.prototype.getTile=function(at,Ye,$e){var dt=this.options,Ct=dt.extent,Bt=dt.debug;if(at<0||at>24)return null;var Pt=1<<at,nn=Ui(at,Ye=(Ye%Pt+Pt)%Pt,$e);if(this.tiles[nn])return Rt(this.tiles[nn],Ct);Bt>1&&console.log("drilling down to z%d-%d-%d",at,Ye,$e);for(var jt,en=at,En=Ye,Re=$e;!jt&&en>0;)en--,En=Math.floor(En/2),Re=Math.floor(Re/2),jt=this.tiles[Ui(en,En,Re)];return jt&&jt.source?(Bt>1&&console.log("found parent tile z%d-%d-%d",en,En,Re),Bt>1&&console.time("drilling down"),this.splitTile(jt.source,en,En,Re,at,Ye,$e),Bt>1&&console.timeEnd("drilling down"),this.tiles[nn]?Rt(this.tiles[nn],Ct):null):null};class Hr extends x.VectorTileWorkerSource{constructor(Ye,$e,dt,Ct,Bt){super(Ye,$e,dt,Ct,hr),Bt&&(this.loadGeoJSON=Bt)}loadData(Ye,$e){const dt=Ye&&Ye.request,Ct=dt&&dt.collectResourceTiming;this.loadGeoJSON(Ye,(Bt,Pt)=>{if(Bt||!Pt)return $e(Bt);if("object"!=typeof Pt)return $e(new Error(`Input data given to '${Ye.source}' is not a valid GeoJSON object.`));{Ge(Pt,!0);try{if(Ye.filter){const jt=x.createExpression(Ye.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===jt.result)throw new Error(jt.value.map(En=>`${En.key}: ${En.message}`).join(", "));const en=Pt.features.filter(En=>jt.value.evaluate({zoom:0},En));Pt={type:"FeatureCollection",features:en}}this._geoJSONIndex=Ye.cluster?new Oi(function({superclusterOptions:jt,clusterProperties:en}){if(!en||!jt)return jt;const En={},Re={},p={accumulated:null,zoom:0},f={properties:null},b=Object.keys(en);for(const S of b){const[D,B]=en[S],F=x.createExpression(B),Z=x.createExpression("string"==typeof D?[D,["accumulated"],["get",S]]:D);En[S]=F.value,Re[S]=Z.value}return jt.map=S=>{f.properties=S;const D={};for(const B of b)D[B]=En[B].evaluate(p,f);return D},jt.reduce=(S,D)=>{f.properties=D;for(const B of b)p.accumulated=S[B],S[B]=Re[B].evaluate(p,f)},jt}(Ye)).load(Pt.features):new gi(jt=Pt,Ye.geojsonVtOptions)}catch(jt){return $e(jt)}this.loaded={};const nn={};if(Ct){const jt=x.getPerformanceMeasurement(dt);jt&&(nn.resourceTiming={},nn.resourceTiming[Ye.source]=JSON.parse(JSON.stringify(jt)))}$e(null,nn)}var jt})}reloadTile(Ye,$e){const dt=this.loaded;return dt&&dt[Ye.uid]?super.reloadTile(Ye,$e):this.loadTile(Ye,$e)}loadGeoJSON(Ye,$e){if(Ye.request)x.getJSON(Ye.request,$e);else{if("string"!=typeof Ye.data)return $e(new Error(`Input data given to '${Ye.source}' is not a valid GeoJSON object.`));try{return $e(null,JSON.parse(Ye.data))}catch(dt){return $e(new Error(`Input data given to '${Ye.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(Ye,$e){try{$e(null,this._geoJSONIndex.getClusterExpansionZoom(Ye.clusterId))}catch(dt){$e(dt)}}getClusterChildren(Ye,$e){try{$e(null,this._geoJSONIndex.getChildren(Ye.clusterId))}catch(dt){$e(dt)}}getClusterLeaves(Ye,$e){try{$e(null,this._geoJSONIndex.getLeaves(Ye.clusterId,Ye.limit,Ye.offset))}catch(dt){$e(dt)}}}class Er{constructor(Ye){this.self=Ye,this.actor=new x.Actor(Ye,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded=!1,this.workerSourceTypes={vector:x.VectorTileWorkerSource,geojson:Hr},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=($e,dt)=>{if(this.workerSourceTypes[$e])throw new Error(`Worker source with name "${$e}" already registered.`);this.workerSourceTypes[$e]=dt},this.self.registerRTLTextPlugin=$e=>{if(x.plugin.isParsed())throw new Error("RTL text plugin already registered.");x.plugin.applyArabicShaping=$e.applyArabicShaping,x.plugin.processBidirectionalText=$e.processBidirectionalText,x.plugin.processStyledBidirectionalText=$e.processStyledBidirectionalText}}checkIfReady(Ye,$e,dt){dt()}setReferrer(Ye,$e){this.referrer=$e}spriteLoaded(Ye,$e){this.isSpriteLoaded=$e;for(const dt in this.workerSources[Ye]){const Ct=this.workerSources[Ye][dt];for(const Bt in Ct)Ct[Bt]instanceof x.VectorTileWorkerSource&&(Ct[Bt].isSpriteLoaded=$e,Ct[Bt].fire(new x.Event("isSpriteLoaded")))}}setImages(Ye,$e,dt){this.availableImages[Ye]=$e;for(const Ct in this.workerSources[Ye]){const Bt=this.workerSources[Ye][Ct];for(const Pt in Bt)Bt[Pt].availableImages=$e}dt()}enableTerrain(Ye,$e,dt){this.terrain=$e,dt()}setLayers(Ye,$e,dt){this.getLayerIndex(Ye).replace($e),dt()}updateLayers(Ye,$e,dt){this.getLayerIndex(Ye).update($e.layers,$e.removedIds),dt()}loadTile(Ye,$e,dt){const Ct=this.enableTerrain?x.extend({enableTerrain:this.terrain},$e):$e;this.getWorkerSource(Ye,$e.type,$e.source).loadTile(Ct,dt)}loadDEMTile(Ye,$e,dt){const Ct=this.enableTerrain?x.extend({buildQuadTree:this.terrain},$e):$e;this.getDEMWorkerSource(Ye,$e.source).loadTile(Ct,dt)}reloadTile(Ye,$e,dt){const Ct=this.enableTerrain?x.extend({enableTerrain:this.terrain},$e):$e;this.getWorkerSource(Ye,$e.type,$e.source).reloadTile(Ct,dt)}abortTile(Ye,$e,dt){this.getWorkerSource(Ye,$e.type,$e.source).abortTile($e,dt)}removeTile(Ye,$e,dt){this.getWorkerSource(Ye,$e.type,$e.source).removeTile($e,dt)}removeSource(Ye,$e,dt){if(!this.workerSources[Ye]||!this.workerSources[Ye][$e.type]||!this.workerSources[Ye][$e.type][$e.source])return;const Ct=this.workerSources[Ye][$e.type][$e.source];delete this.workerSources[Ye][$e.type][$e.source],void 0!==Ct.removeSource?Ct.removeSource($e,dt):dt()}loadWorkerSource(Ye,$e,dt){try{this.self.importScripts($e.url),dt()}catch(Ct){dt(Ct.toString())}}syncRTLPluginState(Ye,$e,dt){try{x.plugin.setState($e);const Ct=x.plugin.getPluginURL();if(x.plugin.isLoaded()&&!x.plugin.isParsed()&&null!=Ct){this.self.importScripts(Ct);const Bt=x.plugin.isParsed();dt(Bt?void 0:new Error(`RTL Text Plugin failed to import scripts from ${Ct}`),Bt)}}catch(Ct){dt(Ct.toString())}}getAvailableImages(Ye){let $e=this.availableImages[Ye];return $e||($e=[]),$e}getLayerIndex(Ye){let $e=this.layerIndexes[Ye];return $e||($e=this.layerIndexes[Ye]=new Ee),$e}getWorkerSource(Ye,$e,dt){return this.workerSources[Ye]||(this.workerSources[Ye]={}),this.workerSources[Ye][$e]||(this.workerSources[Ye][$e]={}),this.workerSources[Ye][$e][dt]||(this.workerSources[Ye][$e][dt]=new this.workerSourceTypes[$e]({send:(Ct,Bt,Pt,nn,jt,en)=>{this.actor.send(Ct,Bt,Pt,Ye,jt,en)},scheduler:this.actor.scheduler},this.getLayerIndex(Ye),this.getAvailableImages(Ye),this.isSpriteLoaded)),this.workerSources[Ye][$e][dt]}getDEMWorkerSource(Ye,$e){return this.demWorkerSources[Ye]||(this.demWorkerSources[Ye]={}),this.demWorkerSources[Ye][$e]||(this.demWorkerSources[Ye][$e]=new Be),this.demWorkerSources[Ye][$e]}enforceCacheSizeLimit(Ye,$e){x.enforceCacheSizeLimit($e)}getWorkerPerformanceMetrics(Ye,$e,dt){dt(void 0,void 0)}}return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope&&(self.worker=new Er(self)),Er}),$(0,function(x){var de=Ce;function Ce(R){return m=R,!("undefined"==typeof window||"undefined"==typeof document||!(Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray)||!Function.prototype||!Function.prototype.bind||!(Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions)||!("JSON"in window&&"parse"in JSON&&"stringify"in JSON)||!function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var N,U,J=new Blob([""],{type:"text/javascript"}),ce=URL.createObjectURL(J);try{U=new Worker(ce),N=!0}catch(ge){N=!1}return U&&U.terminate(),URL.revokeObjectURL(ce),N}()||!("Uint8ClampedArray"in window)||!ArrayBuffer.isView||!function(){var N=document.createElement("canvas");N.width=N.height=1;var U=N.getContext("2d");if(!U)return!1;var J=U.getImageData(0,0,1,1);return J&&J.width===N.width}()||(void 0===Ee[T=m&&m.failIfMajorPerformanceCaveat]&&(Ee[T]=function(N){var U,ce,ge,xe,J=(ce=N,ge=document.createElement("canvas"),(xe=Object.create(Ce.webGLContextAttributes)).failIfMajorPerformanceCaveat=ce,ge.getContext("webgl",xe)||ge.getContext("experimental-webgl",xe));if(!J)return!1;try{U=J.createShader(J.VERTEX_SHADER)}catch(ce){return!1}return!(!U||J.isContextLost())&&(J.shaderSource(U,"void main() {}"),J.compileShader(U),!0===J.getShaderParameter(U,J.COMPILE_STATUS))}(T)),!Ee[T]||document.documentMode));var m,T}var Ee={};function Me(R,m){if(Array.isArray(R)){if(!Array.isArray(m)||R.length!==m.length)return!1;for(let T=0;T<R.length;T++)if(!Me(R[T],m[T]))return!1;return!0}if("object"==typeof R&&null!==R&&null!==m){if("object"!=typeof m||Object.keys(R).length!==Object.keys(m).length)return!1;for(const T in R)if(!Me(R[T],m[T]))return!1;return!0}return R===m}Ce.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};const Be={create:function(R,m,T){const N=x.window.document.createElement(R);return void 0!==m&&(N.className=m),T&&T.appendChild(N),N},createNS:function(R,m){return x.window.document.createElementNS(R,m)}},Ge=x.window.document&&x.window.document.documentElement.style,Mt=Ge&&void 0!==Ge.userSelect?"userSelect":"WebkitUserSelect";let ft;Be.disableDrag=function(){Ge&&Mt&&(ft=Ge[Mt],Ge[Mt]="none")},Be.enableDrag=function(){Ge&&Mt&&(Ge[Mt]=ft)},Be.setTransform=function(R,m){R.style.transform=m};let Lt=!1;try{const R=Object.defineProperty({},"passive",{get(){Lt=!0}});x.window.addEventListener("test",R,R),x.window.removeEventListener("test",R,R)}catch(R){Lt=!1}Be.addEventListener=function(R,m,T,N={}){R.addEventListener(m,T,"passive"in N&&Lt?N:N.capture)},Be.removeEventListener=function(R,m,T,N={}){R.removeEventListener(m,T,"passive"in N&&Lt?N:N.capture)};const rn=function(R){R.preventDefault(),R.stopPropagation(),x.window.removeEventListener("click",rn,!0)};function Gt(R,m,T){const N=R.offsetWidth===m.width?1:R.offsetWidth/m.width;return new x.pointGeometry((T.clientX-m.left)*N,(T.clientY-m.top)*N)}Be.suppressClick=function(){x.window.addEventListener("click",rn,!0),x.window.setTimeout(()=>{x.window.removeEventListener("click",rn,!0)},0)},Be.mousePos=function(R,m){const T=R.getBoundingClientRect();return Gt(R,T,m)},Be.touchPos=function(R,m){const T=R.getBoundingClientRect(),N=[];for(let U=0;U<m.length;U++)N.push(Gt(R,T,m[U]));return N},Be.mouseButton=function(R){return void 0!==x.window.InstallTrigger&&2===R.button&&R.ctrlKey&&x.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:R.button},Be.remove=function(R){R.parentNode&&R.parentNode.removeChild(R)};class ct{constructor(m,T){this.pos=m,this.dir=T}intersectsPlane(m,T,N){const U=x.dot(T,this.dir);if(Math.abs(U)<1e-6)return!1;const J=x.dot(x.sub(x.create(),m,this.pos),T)/U,ce=x.scaleAndAdd(x.create(),this.pos,this.dir,J);return x.copy(N,ce),!0}}class ii{constructor(m,T){this.points=m,this.planes=T}static fromInvProjectionMatrix(m,T,N){const U=Math.pow(2,N),J=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(ge=>{const xe=x.transformMat4([],ge,m),ve=1/xe[3]/T*U;return x.mul(xe,xe,[ve,ve,1/xe[3],ve])}),ce=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(ge=>{const xe=x.sub([],J[ge[0]],J[ge[1]]),ve=x.sub([],J[ge[2]],J[ge[1]]),He=x.normalize([],x.cross([],xe,ve)),qe=-x.dot(He,J[ge[1]]);return He.concat(qe)});return new ii(J,ce)}}class Fn{constructor(m,T){this.min=m,this.max=T,this.center=x.scale([],x.add([],this.min,this.max),.5)}quadrant(m){const T=[m%2==0,m<2],N=x.clone(this.min),U=x.clone(this.max);for(let J=0;J<T.length;J++)N[J]=T[J]?this.min[J]:this.center[J],U[J]=T[J]?this.center[J]:this.max[J];return U[2]=this.max[2],new Fn(N,U)}distanceX(m){return Math.max(Math.min(this.max[0],m[0]),this.min[0])-m[0]}distanceY(m){return Math.max(Math.min(this.max[1],m[1]),this.min[1])-m[1]}distanceZ(m){return Math.max(Math.min(this.max[2],m[2]),this.min[2])-m[2]}intersects(m){const T=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let N=!0;for(let U=0;U<m.planes.length;U++){const J=m.planes[U];let ce=0;for(let ge=0;ge<T.length;ge++)ce+=x.dot$1(J,T[ge])>=0;if(0===ce)return 0;ce!==T.length&&(N=!1)}if(N)return 2;for(let U=0;U<3;U++){let J=Number.MAX_VALUE,ce=-Number.MAX_VALUE;for(let ge=0;ge<m.points.length;ge++){const xe=m.points[ge][U]-this.min[U];J=Math.min(J,xe),ce=Math.max(ce,xe)}if(ce<0||J>this.max[U]-this.min[U])return 0}return 1}}function Wt(R){const{userImage:m}=R;return!!(m&&m.render&&m.render())&&(R.data.replace(new Uint8Array(m.data.buffer)),!0)}class ar extends x.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new x.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(m){if(this.loaded!==m&&(this.loaded=m,m)){for(const{ids:T,callback:N}of this.requestors)this._notify(T,N);this.requestors=[]}}getImage(m){return this.images[m]}addImage(m,T){this._validate(m,T)&&(this.images[m]=T)}_validate(m,T){let N=!0;return this._validateStretch(T.stretchX,T.data&&T.data.width)||(this.fire(new x.ErrorEvent(new Error(`Image "${m}" has invalid "stretchX" value`))),N=!1),this._validateStretch(T.stretchY,T.data&&T.data.height)||(this.fire(new x.ErrorEvent(new Error(`Image "${m}" has invalid "stretchY" value`))),N=!1),this._validateContent(T.content,T)||(this.fire(new x.ErrorEvent(new Error(`Image "${m}" has invalid "content" value`))),N=!1),N}_validateStretch(m,T){if(!m)return!0;let N=0;for(const U of m){if(U[0]<N||U[1]<U[0]||T<U[1])return!1;N=U[1]}return!0}_validateContent(m,T){return!(m&&(4!==m.length||m[0]<0||T.data.width<m[0]||m[1]<0||T.data.height<m[1]||m[2]<0||T.data.width<m[2]||m[3]<0||T.data.height<m[3]||m[2]<m[0]||m[3]<m[1]))}updateImage(m,T){T.version=this.images[m].version+1,this.images[m]=T,this.updatedImages[m]=!0}removeImage(m){const T=this.images[m];delete this.images[m],delete this.patterns[m],T.userImage&&T.userImage.onRemove&&T.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(m,T){let N=!0;if(!this.isLoaded())for(const U of m)this.images[U]||(N=!1);this.isLoaded()||N?this._notify(m,T):this.requestors.push({ids:m,callback:T})}_notify(m,T){const N={};for(const U of m){this.images[U]||this.fire(new x.Event("styleimagemissing",{id:U}));const J=this.images[U];J?N[U]={data:J.data.clone(),pixelRatio:J.pixelRatio,sdf:J.sdf,version:J.version,stretchX:J.stretchX,stretchY:J.stretchY,content:J.content,hasRenderCallback:Boolean(J.userImage&&J.userImage.render)}:x.warnOnce(`Image "${U}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}T(null,N)}getPixelSize(){const{width:m,height:T}=this.atlasImage;return{width:m,height:T}}getPattern(m){const T=this.patterns[m],N=this.getImage(m);if(!N)return null;if(T&&T.position.version===N.version)return T.position;if(T)T.position.version=N.version;else{const U={w:N.data.width+2,h:N.data.height+2,x:0,y:0},J=new x.ImagePosition(U,N);this.patterns[m]={bin:U,position:J}}return this._updatePatternAtlas(),this.patterns[m].position}bind(m){const T=m.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new x.Texture(m,this.atlasImage,T.RGBA),this.atlasTexture.bind(T.LINEAR,T.CLAMP_TO_EDGE)}_updatePatternAtlas(){const m=[];for(const J in this.patterns)m.push(this.patterns[J].bin);const{w:T,h:N}=x.potpack(m),U=this.atlasImage;U.resize({width:T||1,height:N||1});for(const J in this.patterns){const{bin:ce}=this.patterns[J],ge=ce.x+1,xe=ce.y+1,ve=this.images[J].data,He=ve.width,qe=ve.height;x.RGBAImage.copy(ve,U,{x:0,y:0},{x:ge,y:xe},{width:He,height:qe}),x.RGBAImage.copy(ve,U,{x:0,y:qe-1},{x:ge,y:xe-1},{width:He,height:1}),x.RGBAImage.copy(ve,U,{x:0,y:0},{x:ge,y:xe+qe},{width:He,height:1}),x.RGBAImage.copy(ve,U,{x:He-1,y:0},{x:ge-1,y:xe},{width:1,height:qe}),x.RGBAImage.copy(ve,U,{x:0,y:0},{x:ge+He,y:xe},{width:1,height:qe})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(m){for(const T of m){if(this.callbackDispatchedThisFrame[T])continue;this.callbackDispatchedThisFrame[T]=!0;const N=this.images[T];Wt(N)&&this.updateImage(T,N)}}}const us=new x.Properties({anchor:new x.DataConstantProperty(x.spec.light.anchor),position:new class{constructor(){this.specification=x.spec.light.position}possiblyEvaluate(R,m){return function([T,N,U]){const J=x.degToRad(N+90),ce=x.degToRad(U);return{x:T*Math.cos(J)*Math.sin(ce),y:T*Math.sin(J)*Math.sin(ce),z:T*Math.cos(ce),azimuthal:N,polar:U}}(R.expression.evaluate(m))}interpolate(R,m,T){return{x:x.number(R.x,m.x,T),y:x.number(R.y,m.y,T),z:x.number(R.z,m.z,T),azimuthal:x.number(R.azimuthal,m.azimuthal,T),polar:x.number(R.polar,m.polar,T)}}},color:new x.DataConstantProperty(x.spec.light.color),intensity:new x.DataConstantProperty(x.spec.light.intensity)}),hi="-transition";class zi extends x.Evented{constructor(m){super(),this._transitionable=new x.Transitionable(us),this.setLight(m),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(m,T={}){if(!this._validate(x.validateLight,m,T))for(const N in m){const U=m[N];x.endsWith(N,hi)?this._transitionable.setTransition(N.slice(0,-hi.length),U):this._transitionable.setValue(N,U)}}updateTransitions(m){this._transitioning=this._transitionable.transitioned(m,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(m){this.properties=this._transitioning.possiblyEvaluate(m)}_validate(m,T,N){return(!N||!1!==N.validate)&&x.emitValidationErrors(this,m.call(x.validateStyle,x.extend({value:T,style:{glyphs:!0,sprite:!0},styleSpec:x.spec})))}}const Ps=new x.Properties({source:new x.DataConstantProperty(x.spec.terrain.source),exaggeration:new x.DataConstantProperty(x.spec.terrain.exaggeration)}),er="-transition";class Yr extends x.Evented{constructor(m){super(),this._transitionable=new x.Transitionable(Ps),this.set(m),this._transitioning=this._transitionable.untransitioned()}get(){return this._transitionable.serialize()}set(m){for(const T in m){const N=m[T];x.endsWith(T,er)?this._transitionable.setTransition(T.slice(0,-er.length),N):this._transitionable.setValue(T,N)}}updateTransitions(m){this._transitioning=this._transitionable.transitioned(m,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(m){this.properties=this._transitioning.possiblyEvaluate(m)}}function wn(R,m,T,N){const U=x.smoothstep(45,65,T),[J,ce]=hn(R,N),ge=x.length(m);let xe=1-Math.min(1,Math.exp((ge-J)/(ce-J)*-6));return xe*=xe*xe,xe=Math.min(1,1.00747*xe),xe*U*R.alpha}function hn(R,m){const T=.5/Math.tan(.5*m);return[R.range[0]+T,R.range[1]+T]}const Mn=new x.Properties({range:new x.DataConstantProperty(x.spec.fog.range),color:new x.DataConstantProperty(x.spec.fog.color),"horizon-blend":new x.DataConstantProperty(x.spec.fog["horizon-blend"])}),mn="-transition";class Yn extends x.Evented{constructor(m){super(),this._transitionable=new x.Transitionable(Mn),this.set(m),this._transitioning=this._transitionable.untransitioned()}get state(){return{range:this.properties.get("range"),horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}get(){return this._transitionable.serialize()}set(m,T={}){if(!this._validate(x.validateFog,m,T))for(const N in m){const U=m[N];x.endsWith(N,mn)?this._transitionable.setTransition(N.slice(0,-mn.length),U):this._transitionable.setValue(N,U)}}getOpacity(m){const T=this.properties&&this.properties.get("color")||1;return x.smoothstep(45,65,m)*T.a}getOpacityAtLatLng(m,T){return function(N,U,J){const ce=x.MercatorCoordinate.fromLngLat(U),ge=J.elevation?J.elevation.getAtPointOrZero(ce):0,xe=[ce.x,ce.y,ge];return x.transformMat4$1(xe,xe,J.mercatorFogMatrix),wn(N,xe,J.pitch,J._fov)}(this.state,m,T)}getFovAdjustedRange(m){return hn(this.state,m)}updateTransitions(m){this._transitioning=this._transitionable.transitioned(m,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(m){this.properties=this._transitioning.possiblyEvaluate(m)}_validate(m,T,N){return(!N||!1!==N.validate)&&x.emitValidationErrors(this,m.call(x.validateStyle,x.extend({value:T,style:{glyphs:!0,sprite:!0},styleSpec:x.spec})))}}class vn{constructor(m,T){this.workerPool=m,this.actors=[],this.currentActor=0,this.id=x.uniqueId();const N=this.workerPool.acquire(this.id);for(let U=0;U<N.length;U++){const J=new vn.Actor(N[U],T,this.id);J.name=`Worker ${U}`,this.actors.push(J)}this.ready=!1,this.broadcast("checkIfReady",null,()=>{this.ready=!0})}broadcast(m,T,N){x.asyncAll(this.actors,(U,J)=>{U.send(m,T,J)},N=N||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(m=>{m.remove()}),this.actors=[],this.workerPool.release(this.id)}}function ai(R,m,T){return m*(x.EXTENT/(R.tileSize*Math.pow(2,T-R.tileID.overscaledZ)))}vn.Actor=x.Actor;class Bi{constructor(m,T,N,U){this.screenBounds=m,this.cameraPoint=T,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=N,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this.screenGeometry.map(J=>U.pointCoordinate3D(J)),this.cameraGeometry=this.bufferedCameraGeometry(0)}static createFromScreenPoints(m,T){let N,U;if(m instanceof x.pointGeometry||"number"==typeof m[0]){const J=x.pointGeometry.convert(m);N=[x.pointGeometry.convert(m)],U=T.isPointAboveHorizon(J)}else{const J=x.pointGeometry.convert(m[0]),ce=x.pointGeometry.convert(m[1]);N=[J,ce],U=x.polygonizeBounds(J,ce).every(ge=>T.isPointAboveHorizon(ge))}return new Bi(N,T.getCameraPoint(),U,T)}isPointQuery(){return 1===this.screenBounds.length}bufferedScreenGeometry(m){return x.polygonizeBounds(this.screenBounds[0],1===this.screenBounds.length?this.screenBounds[0]:this.screenBounds[1],m)}bufferedCameraGeometry(m){const T=this.screenBounds[0],N=1===this.screenBounds.length?this.screenBounds[0].add(new x.pointGeometry(1,1)):this.screenBounds[1],U=x.polygonizeBounds(T,N,0,!1);return this.cameraPoint.y>N.y&&(this.cameraPoint.x>T.x&&this.cameraPoint.x<N.x?U.splice(3,0,this.cameraPoint):this.cameraPoint.x>=N.x?U[2]=this.cameraPoint:this.cameraPoint.x<=T.x&&(U[3]=this.cameraPoint)),x.bufferConvexPolygon(U,m)}containsTile(m,T,N){const U=m.queryPadding+1,J=N?this._bufferedCameraMercator(U,T).map(Ke=>m.tileID.getTilePoint(Ke)):this._bufferedScreenMercator(U,T).map(Ke=>m.tileID.getTilePoint(Ke)),ce=this.screenGeometryMercator.map(Ke=>m.tileID.getTileVec3(Ke)),ge=ce.map(Ke=>new x.pointGeometry(Ke[0],Ke[1])),xe=T.getFreeCameraOptions().position||new x.MercatorCoordinate(0,0,0),ve=m.tileID.getTileVec3(xe),He=ce.map(Ke=>{const pt=x.sub(Ke,Ke,ve);return x.normalize(pt,pt),new ct(ve,pt)}),qe=ai(m,1,T.zoom);if(x.polygonIntersectsBox(J,0,0,x.EXTENT,x.EXTENT))return{queryGeometry:this,tilespaceGeometry:ge,tilespaceRays:He,bufferedTilespaceGeometry:J,bufferedTilespaceBounds:(Qe=x.getBounds(J),Qe.min.x=x.clamp(Qe.min.x,0,x.EXTENT),Qe.min.y=x.clamp(Qe.min.y,0,x.EXTENT),Qe.max.x=x.clamp(Qe.max.x,0,x.EXTENT),Qe.max.y=x.clamp(Qe.max.y,0,x.EXTENT),Qe),tile:m,tileID:m.tileID,pixelToTileUnitsFactor:qe};var Qe}_bufferedScreenMercator(m,T){const N=Vi(m);if(this._screenRaycastCache[N])return this._screenRaycastCache[N];{const U=this.bufferedScreenGeometry(m).map(J=>T.pointCoordinate3D(J));return this._screenRaycastCache[N]=U,U}}_bufferedCameraMercator(m,T){const N=Vi(m);if(this._cameraRaycastCache[N])return this._cameraRaycastCache[N];{const U=this.bufferedCameraGeometry(m).map(J=>T.pointCoordinate3D(J));return this._cameraRaycastCache[N]=U,U}}}function Vi(R){return 100*R|0}function fi(R,m,T){const N=function(U,J){if(U)return T(U);if(J){const ce=x.pick(x.extend(J,R),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);J.vector_layers&&(ce.vectorLayers=J.vector_layers,ce.vectorLayerIds=ce.vectorLayers.map(ge=>ge.id)),ce.tiles=m.canonicalizeTileset(ce,R.url),T(null,ce)}};return R.url?x.getJSON(m.transformRequest(m.normalizeSourceURL(R.url),x.ResourceType.Source),N):x.exported.frame(()=>N(null,R))}class Ti{constructor(m,T,N){this.bounds=x.LngLatBounds.convert(this.validateBounds(m)),this.minzoom=T||0,this.maxzoom=N||24}validateBounds(m){return Array.isArray(m)&&4===m.length?[Math.max(-180,m[0]),Math.max(-90,m[1]),Math.min(180,m[2]),Math.min(90,m[3])]:[-180,-90,180,90]}contains(m){const T=Math.pow(2,m.z),N=Math.floor(x.mercatorXfromLng(this.bounds.getWest())*T),U=Math.floor(x.mercatorYfromLat(this.bounds.getNorth())*T),J=Math.ceil(x.mercatorXfromLng(this.bounds.getEast())*T),ce=Math.ceil(x.mercatorYfromLat(this.bounds.getSouth())*T);return m.x>=N&&m.x<J&&m.y>=U&&m.y<ce}}class vi{constructor(m,T,N){this.context=m;const U=m.gl;this.buffer=U.createBuffer(),this.dynamicDraw=Boolean(N),this.context.unbindVAO(),m.bindElementBuffer.set(this.buffer),U.bufferData(U.ELEMENT_ARRAY_BUFFER,T.arrayBuffer,this.dynamicDraw?U.DYNAMIC_DRAW:U.STATIC_DRAW),this.dynamicDraw||delete T.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(m){const T=this.context.gl;this.context.unbindVAO(),this.bind(),T.bufferSubData(T.ELEMENT_ARRAY_BUFFER,0,m.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const bi={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class Kn{constructor(m,T,N,U){this.length=T.length,this.attributes=N,this.itemSize=T.bytesPerElement,this.dynamicDraw=U,this.context=m;const J=m.gl;this.buffer=J.createBuffer(),m.bindVertexBuffer.set(this.buffer),J.bufferData(J.ARRAY_BUFFER,T.arrayBuffer,this.dynamicDraw?J.DYNAMIC_DRAW:J.STATIC_DRAW),this.dynamicDraw||delete T.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(m){const T=this.context.gl;this.bind(),T.bufferSubData(T.ARRAY_BUFFER,0,m.arrayBuffer)}enableAttributes(m,T){for(let N=0;N<this.attributes.length;N++){const U=T.attributes[this.attributes[N].name];void 0!==U&&m.enableVertexAttribArray(U)}}setVertexAttribPointers(m,T,N){for(let U=0;U<this.attributes.length;U++){const J=this.attributes[U],ce=T.attributes[J.name];void 0!==ce&&m.vertexAttribPointer(ce,J.components,m[bi[J.type]],!1,this.itemSize,J.offset+this.itemSize*(N||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class Oi{constructor(m){this.gl=m.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(m){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class kr extends Oi{getDefault(){return x.Color.transparent}set(m){const T=this.current;(m.r!==T.r||m.g!==T.g||m.b!==T.b||m.a!==T.a||this.dirty)&&(this.gl.clearColor(m.r,m.g,m.b,m.a),this.current=m,this.dirty=!1)}}class xo extends Oi{getDefault(){return 1}set(m){(m!==this.current||this.dirty)&&(this.gl.clearDepth(m),this.current=m,this.dirty=!1)}}class ss extends Oi{getDefault(){return 0}set(m){(m!==this.current||this.dirty)&&(this.gl.clearStencil(m),this.current=m,this.dirty=!1)}}class Gs extends Oi{getDefault(){return[!0,!0,!0,!0]}set(m){const T=this.current;(m[0]!==T[0]||m[1]!==T[1]||m[2]!==T[2]||m[3]!==T[3]||this.dirty)&&(this.gl.colorMask(m[0],m[1],m[2],m[3]),this.current=m,this.dirty=!1)}}class Xs extends Oi{getDefault(){return!0}set(m){(m!==this.current||this.dirty)&&(this.gl.depthMask(m),this.current=m,this.dirty=!1)}}class Ea extends Oi{getDefault(){return 255}set(m){(m!==this.current||this.dirty)&&(this.gl.stencilMask(m),this.current=m,this.dirty=!1)}}class lr extends Oi{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(m){const T=this.current;(m.func!==T.func||m.ref!==T.ref||m.mask!==T.mask||this.dirty)&&(this.gl.stencilFunc(m.func,m.ref,m.mask),this.current=m,this.dirty=!1)}}class Da extends Oi{getDefault(){const m=this.gl;return[m.KEEP,m.KEEP,m.KEEP]}set(m){const T=this.current;(m[0]!==T[0]||m[1]!==T[1]||m[2]!==T[2]||this.dirty)&&(this.gl.stencilOp(m[0],m[1],m[2]),this.current=m,this.dirty=!1)}}class Ki extends Oi{getDefault(){return!1}set(m){if(m===this.current&&!this.dirty)return;const T=this.gl;m?T.enable(T.STENCIL_TEST):T.disable(T.STENCIL_TEST),this.current=m,this.dirty=!1}}class tr extends Oi{getDefault(){return[0,1]}set(m){const T=this.current;(m[0]!==T[0]||m[1]!==T[1]||this.dirty)&&(this.gl.depthRange(m[0],m[1]),this.current=m,this.dirty=!1)}}class wo extends Oi{getDefault(){return!1}set(m){if(m===this.current&&!this.dirty)return;const T=this.gl;m?T.enable(T.DEPTH_TEST):T.disable(T.DEPTH_TEST),this.current=m,this.dirty=!1}}class Ws extends Oi{getDefault(){return this.gl.LESS}set(m){(m!==this.current||this.dirty)&&(this.gl.depthFunc(m),this.current=m,this.dirty=!1)}}class wi extends Oi{getDefault(){return!1}set(m){if(m===this.current&&!this.dirty)return;const T=this.gl;m?T.enable(T.BLEND):T.disable(T.BLEND),this.current=m,this.dirty=!1}}class fs extends Oi{getDefault(){const m=this.gl;return[m.ONE,m.ZERO]}set(m){const T=this.current;(m[0]!==T[0]||m[1]!==T[1]||this.dirty)&&(this.gl.blendFunc(m[0],m[1]),this.current=m,this.dirty=!1)}}class xr extends Oi{getDefault(){return x.Color.transparent}set(m){const T=this.current;(m.r!==T.r||m.g!==T.g||m.b!==T.b||m.a!==T.a||this.dirty)&&(this.gl.blendColor(m.r,m.g,m.b,m.a),this.current=m,this.dirty=!1)}}class nr extends Oi{getDefault(){return this.gl.FUNC_ADD}set(m){(m!==this.current||this.dirty)&&(this.gl.blendEquation(m),this.current=m,this.dirty=!1)}}class Co extends Oi{getDefault(){return!1}set(m){if(m===this.current&&!this.dirty)return;const T=this.gl;m?T.enable(T.CULL_FACE):T.disable(T.CULL_FACE),this.current=m,this.dirty=!1}}class Yc extends Oi{getDefault(){return this.gl.BACK}set(m){(m!==this.current||this.dirty)&&(this.gl.cullFace(m),this.current=m,this.dirty=!1)}}class Qr extends Oi{getDefault(){return this.gl.CCW}set(m){(m!==this.current||this.dirty)&&(this.gl.frontFace(m),this.current=m,this.dirty=!1)}}class Ns extends Oi{getDefault(){return null}set(m){(m!==this.current||this.dirty)&&(this.gl.useProgram(m),this.current=m,this.dirty=!1)}}class Wo extends Oi{getDefault(){return this.gl.TEXTURE0}set(m){(m!==this.current||this.dirty)&&(this.gl.activeTexture(m),this.current=m,this.dirty=!1)}}class Pr extends Oi{getDefault(){const m=this.gl;return[0,0,m.drawingBufferWidth,m.drawingBufferHeight]}set(m){const T=this.current;(m[0]!==T[0]||m[1]!==T[1]||m[2]!==T[2]||m[3]!==T[3]||this.dirty)&&(this.gl.viewport(m[0],m[1],m[2],m[3]),this.current=m,this.dirty=!1)}}class jn extends Oi{getDefault(){return null}set(m){if(m===this.current&&!this.dirty)return;const T=this.gl;T.bindFramebuffer(T.FRAMEBUFFER,m),this.current=m,this.dirty=!1}}class Xi extends Oi{getDefault(){return null}set(m){if(m===this.current&&!this.dirty)return;const T=this.gl;T.bindRenderbuffer(T.RENDERBUFFER,m),this.current=m,this.dirty=!1}}class wl extends Oi{getDefault(){return null}set(m){if(m===this.current&&!this.dirty)return;const T=this.gl;T.bindTexture(T.TEXTURE_2D,m),this.current=m,this.dirty=!1}}class Va extends Oi{getDefault(){return null}set(m){if(m===this.current&&!this.dirty)return;const T=this.gl;T.bindBuffer(T.ARRAY_BUFFER,m),this.current=m,this.dirty=!1}}class Aa extends Oi{getDefault(){return null}set(m){const T=this.gl;T.bindBuffer(T.ELEMENT_ARRAY_BUFFER,m),this.current=m,this.dirty=!1}}class ws extends Oi{constructor(m){super(m),this.vao=m.extVertexArrayObject}getDefault(){return null}set(m){this.vao&&(m!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(m),this.current=m,this.dirty=!1)}}class Bo extends Oi{getDefault(){return 4}set(m){if(m===this.current&&!this.dirty)return;const T=this.gl;T.pixelStorei(T.UNPACK_ALIGNMENT,m),this.current=m,this.dirty=!1}}class Yo extends Oi{getDefault(){return!1}set(m){if(m===this.current&&!this.dirty)return;const T=this.gl;T.pixelStorei(T.UNPACK_PREMULTIPLY_ALPHA_WEBGL,m),this.current=m,this.dirty=!1}}class Rt extends Oi{getDefault(){return!1}set(m){if(m===this.current&&!this.dirty)return;const T=this.gl;T.pixelStorei(T.UNPACK_FLIP_Y_WEBGL,m),this.current=m,this.dirty=!1}}class Ot extends Oi{constructor(m,T){super(m),this.context=m,this.parent=T}getDefault(){return null}}class Qt extends Ot{setDirty(){this.dirty=!0}set(m){if(m===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const T=this.gl;T.framebufferTexture2D(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0,T.TEXTURE_2D,m,0),this.current=m,this.dirty=!1}}class _n extends Ot{attachment(){return this.gl.DEPTH_ATTACHMENT}set(m){if(m===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const T=this.gl;T.framebufferRenderbuffer(T.FRAMEBUFFER,this.attachment(),T.RENDERBUFFER,m),this.current=m,this.dirty=!1}}class on extends _n{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}class gi{constructor(m,T,N,U){this.context=m,this.width=T,this.height=N;const J=this.framebuffer=m.gl.createFramebuffer();this.colorAttachment=new Qt(m,J),U&&(this.depthAttachment=new _n(m,J))}destroy(){const m=this.context.gl,T=this.colorAttachment.get();if(T&&m.deleteTexture(T),this.depthAttachment){const N=this.depthAttachment.get();N&&m.deleteRenderbuffer(N)}m.deleteFramebuffer(this.framebuffer)}}class Ui{constructor(m){this.gl=m,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new kr(this),this.clearDepth=new xo(this),this.clearStencil=new ss(this),this.colorMask=new Gs(this),this.depthMask=new Xs(this),this.stencilMask=new Ea(this),this.stencilFunc=new lr(this),this.stencilOp=new Da(this),this.stencilTest=new Ki(this),this.depthRange=new tr(this),this.depthTest=new wo(this),this.depthFunc=new Ws(this),this.blend=new wi(this),this.blendFunc=new fs(this),this.blendColor=new xr(this),this.blendEquation=new nr(this),this.cullFace=new Co(this),this.cullFaceSide=new Yc(this),this.frontFace=new Qr(this),this.program=new Ns(this),this.activeTexture=new Wo(this),this.viewport=new Pr(this),this.bindFramebuffer=new jn(this),this.bindRenderbuffer=new Xi(this),this.bindTexture=new wl(this),this.bindVertexBuffer=new Va(this),this.bindElementBuffer=new Aa(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new ws(this),this.pixelStoreUnpack=new Bo(this),this.pixelStoreUnpackPremultiplyAlpha=new Yo(this),this.pixelStoreUnpackFlipY=new Rt(this),this.extTextureFilterAnisotropic=m.getExtension("EXT_texture_filter_anisotropic")||m.getExtension("MOZ_EXT_texture_filter_anisotropic")||m.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=m.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureFilterAnisotropicForceOff=!1,this.extTextureHalfFloat=m.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(m.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=m.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=m.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=m.getParameter(m.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(m,T){return new vi(this,m,T)}createVertexBuffer(m,T,N){return new Kn(this,m,T,N)}createRenderbuffer(m,T,N){const U=this.gl,J=U.createRenderbuffer();return this.bindRenderbuffer.set(J),U.renderbufferStorage(U.RENDERBUFFER,m,T,N),this.bindRenderbuffer.set(null),J}createFramebuffer(m,T,N){return new gi(this,m,T,N)}clear({color:m,depth:T,stencil:N}){const U=this.gl;let J=0;m&&(J|=U.COLOR_BUFFER_BIT,this.clearColor.set(m),this.colorMask.set([!0,!0,!0,!0])),void 0!==T&&(J|=U.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(T),this.depthMask.set(!0)),void 0!==N&&(J|=U.STENCIL_BUFFER_BIT,this.clearStencil.set(N),this.stencilMask.set(255)),U.clear(J)}setCullFace(m){!1===m.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(m.mode),this.frontFace.set(m.frontFace))}setDepthMode(m){m.func!==this.gl.ALWAYS||m.mask?(this.depthTest.set(!0),this.depthFunc.set(m.func),this.depthMask.set(m.mask),this.depthRange.set(m.range)):this.depthTest.set(!1)}setStencilMode(m){m.test.func!==this.gl.ALWAYS||m.mask?(this.stencilTest.set(!0),this.stencilMask.set(m.mask),this.stencilOp.set([m.fail,m.depthFail,m.pass]),this.stencilFunc.set({func:m.test.func,ref:m.ref,mask:m.test.mask})):this.stencilTest.set(!1)}setColorMode(m){Me(m.blendFunction,x.ColorMode.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(m.blendFunction),this.blendColor.set(m.blendColor)),this.colorMask.set(m.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class hr extends x.Evented{constructor(m,T,N,U){super(),this.id=m,this.dispatcher=N,this.setEventedParent(U),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=x.extend({type:"raster"},T),x.extend(this,x.pick(T,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new x.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=fi(this._options,this.map._requestManager,(m,T)=>{this._tileJSONRequest=null,this._loaded=!0,m?this.fire(new x.ErrorEvent(m)):T&&(x.extend(this,T),T.bounds&&(this.tileBounds=new Ti(T.bounds,this.minzoom,this.maxzoom)),x.postTurnstileEvent(T.tiles),this.fire(new x.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new x.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(m){this.map=m,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return x.extend({},this._options)}hasTile(m){return!this.tileBounds||this.tileBounds.contains(m.canonical)}loadTile(m,T){const N=x.exported.devicePixelRatio>=2,U=this.map._requestManager.normalizeTileURL(m.tileID.canonical.url(this.tiles,this.scheme),N,this.tileSize);m.request=x.getImage(this.map._requestManager.transformRequest(U,x.ResourceType.Tile),(J,ce,ge,xe)=>{if(delete m.request,m.aborted)m.state="unloaded",T(null);else if(J)m.state="errored",T(J);else if(ce){this.map._refreshExpiredTiles&&m.setExpiryData({cacheControl:ge,expires:xe});const ve=this.map.painter.context,He=ve.gl;m.texture=this.map.painter.getTileTexture(ce.width),m.texture?m.texture.update(ce,{useMipmap:!0}):(m.texture=new x.Texture(ve,ce,He.RGBA,{useMipmap:!0}),m.texture.bind(He.LINEAR,He.CLAMP_TO_EDGE,He.LINEAR_MIPMAP_NEAREST),ve.extTextureFilterAnisotropic&&He.texParameterf(He.TEXTURE_2D,ve.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,ve.extTextureFilterAnisotropicMax)),m.state="loaded",x.cacheEntryPossiblyAdded(this.dispatcher),T(null)}})}abortTile(m,T){m.request&&(m.request.cancel(),delete m.request),T()}unloadTile(m,T){m.texture&&this.map.painter.saveTileTexture(m.texture),T()}hasTransition(){return!1}}let Hr;var Er=x.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class at extends x.Evented{constructor(m,T,N,U){super(),this.id=m,this.dispatcher=N,this.coordinates=T.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(U),this.options=T}load(m,T){this._loaded=!1,this.fire(new x.Event("dataloading",{dataType:"source"})),this.url=this.options.url,x.getImage(this.map._requestManager.transformRequest(this.url,x.ResourceType.Image),(N,U)=>{this._loaded=!0,N?this.fire(new x.ErrorEvent(N)):U&&(this.image=x.exported.getImageData(U),m&&(this.coordinates=m),T&&T(),this._finishLoading())})}loaded(){return this._loaded}updateImage(m){return this.image&&m.url?(this.options.url=m.url,this.load(m.coordinates,()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new x.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(m){this.map=m,this.load()}setCoordinates(m){this.coordinates=m;const T=m.map(x.MercatorCoordinate.fromLngLat);this.tileID=function(U){let J=1/0,ce=1/0,ge=-1/0,xe=-1/0;for(const Qe of U)J=Math.min(J,Qe.x),ce=Math.min(ce,Qe.y),ge=Math.max(ge,Qe.x),xe=Math.max(xe,Qe.y);const ve=Math.max(ge-J,xe-ce),He=Math.max(0,Math.floor(-Math.log(ve)/Math.LN2)),qe=Math.pow(2,He);return new x.CanonicalTileID(He,Math.floor((J+ge)/2*qe),Math.floor((ce+xe)/2*qe))}(T),this.minzoom=this.maxzoom=this.tileID.z;const N=T.map(U=>this.tileID.getTilePoint(U)._round());return this._boundsArray=new x.StructArrayLayout4i8,this._boundsArray.emplaceBack(N[0].x,N[0].y,0,0),this._boundsArray.emplaceBack(N[1].x,N[1].y,x.EXTENT,0),this._boundsArray.emplaceBack(N[3].x,N[3].y,0,x.EXTENT),this._boundsArray.emplaceBack(N[2].x,N[2].y,x.EXTENT,x.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new x.Event("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(0===Object.keys(this.tiles).length||!this.image)return;const m=this.map.painter.context,T=m.gl;this.boundsBuffer||(this.boundsBuffer=m.createVertexBuffer(this._boundsArray,Er.members)),this.boundsSegments||(this.boundsSegments=x.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new x.Texture(m,this.image,T.RGBA),this.texture.bind(T.LINEAR,T.CLAMP_TO_EDGE));for(const N in this.tiles){const U=this.tiles[N];"loaded"!==U.state&&(U.state="loaded",U.texture=this.texture)}}loadTile(m,T){this.tileID&&this.tileID.equals(m.tileID.canonical)?(this.tiles[String(m.tileID.wrap)]=m,m.buckets={},T(null)):(m.state="errored",T(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}const Ye={vector:class extends x.Evented{constructor(R,m,T,N){if(super(),this.id=R,this.dispatcher=T,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,x.extend(this,x.pick(m,["url","scheme","tileSize","promoteId"])),this._options=x.extend({type:"vector"},m),this._collectResourceTiming=m.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(N),this._tileWorkers={},this._deduped=new x.DedupedRequest}load(){this._loaded=!1,this.fire(new x.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=fi(this._options,this.map._requestManager,(R,m)=>{this._tileJSONRequest=null,this._loaded=!0,R?this.fire(new x.ErrorEvent(R)):m&&(x.extend(this,m),m.bounds&&(this.tileBounds=new Ti(m.bounds,this.minzoom,this.maxzoom)),x.postTurnstileEvent(m.tiles,this.map._requestManager._customAccessToken),this.fire(new x.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new x.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}hasTile(R){return!this.tileBounds||this.tileBounds.contains(R.canonical)}onAdd(R){this.map=R,this.load()}setSourceProperty(R){this._tileJSONRequest&&this._tileJSONRequest.cancel(),R();const m=this.map.style._getSourceCaches(this.id);for(const T of m)T.clearTiles();this.load()}setTiles(R){return this.setSourceProperty(()=>{this._options.tiles=R}),this}setUrl(R){return this.setSourceProperty(()=>{this.url=R,this._options.url=R}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return x.extend({},this._options)}loadTile(R,m){const T=this.map._requestManager.normalizeTileURL(R.tileID.canonical.url(this.tiles,this.scheme)),N={request:this.map._requestManager.transformRequest(T,x.ResourceType.Tile),data:void 0,uid:R.uid,tileID:R.tileID,tileZoom:R.tileZoom,zoom:R.tileID.overscaledZ,tileSize:this.tileSize*R.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:x.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:R.isSymbolTile};if(N.request.collectResourceTiming=this._collectResourceTiming,R.actor&&"expired"!==R.state)"loading"===R.state?R.reloadCallback=m:R.request=R.actor.send("reloadTile",N,U.bind(this));else if(R.actor=this._tileWorkers[T]=this._tileWorkers[T]||this.dispatcher.getActor(),this.dispatcher.ready)R.request=R.actor.send("loadTile",N,U.bind(this),void 0,!0);else{const J=x.loadVectorTile.call({deduped:this._deduped},N,(ce,ge)=>{ce||!ge?U.call(this,ce):(N.data={cacheControl:ge.cacheControl,expires:ge.expires,rawData:ge.rawData.slice(0)},R.actor&&R.actor.send("loadTile",N,U.bind(this),void 0,!0))},!0);R.request={cancel:J}}function U(J,ce){return delete R.request,R.aborted?m(null):J&&404!==J.status?m(J):(ce&&ce.resourceTiming&&(R.resourceTiming=ce.resourceTiming),this.map._refreshExpiredTiles&&ce&&R.setExpiryData(ce),R.loadVectorData(ce,this.map.painter),x.cacheEntryPossiblyAdded(this.dispatcher),m(null),void(R.reloadCallback&&(this.loadTile(R,R.reloadCallback),R.reloadCallback=null)))}}abortTile(R){R.request&&(R.request.cancel(),delete R.request),R.actor&&R.actor.send("abortTile",{uid:R.uid,type:this.type,source:this.id})}unloadTile(R){R.unloadVectorData(),R.actor&&R.actor.send("removeTile",{uid:R.uid,type:this.type,source:this.id})}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}},raster:hr,"raster-dem":class extends hr{constructor(R,m,T,N){super(R,m,T,N),this.type="raster-dem",this.maxzoom=22,this._options=x.extend({type:"raster-dem"},m),this.encoding=m.encoding||"mapbox"}loadTile(R,m){const T=this.map._requestManager.normalizeTileURL(R.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function N(U,J){U&&(R.state="errored",m(U)),J&&(R.dem=J,R.dem.onDeserialize(),R.needsHillshadePrepare=!0,R.needsDEMTextureUpload=!0,R.state="loaded",m(null))}R.request=x.getImage(this.map._requestManager.transformRequest(T,x.ResourceType.Tile),function(U,J,ce,ge){if(delete R.request,R.aborted)R.state="unloaded",m(null);else if(U)R.state="errored",m(U);else if(J){this.map._refreshExpiredTiles&&R.setExpiryData({cacheControl:ce,expires:ge});const xe=x.window.ImageBitmap&&J instanceof x.window.ImageBitmap&&(null==Hr&&(Hr=x.window.OffscreenCanvas&&new x.window.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof x.window.createImageBitmap),Hr),ve=1-(J.width-x.prevPowerOfTwo(J.width))/2;ve<1||R.neighboringTiles||(R.neighboringTiles=this._getNeighboringTiles(R.tileID));const He=xe?J:x.exported.getImageData(J,ve),qe={uid:R.uid,coord:R.tileID,source:this.id,rawImageData:He,encoding:this.encoding,padding:ve};R.actor&&"expired"!==R.state||(R.actor=this.dispatcher.getActor(),R.actor.send("loadDEMTile",qe,N.bind(this),void 0,!0))}}.bind(this))}_getNeighboringTiles(R){const m=R.canonical,T=Math.pow(2,m.z),N=(m.x-1+T)%T,U=0===m.x?R.wrap-1:R.wrap,J=(m.x+1+T)%T,ce=m.x+1===T?R.wrap+1:R.wrap,ge={};return ge[new x.OverscaledTileID(R.overscaledZ,U,m.z,N,m.y).key]={backfilled:!1},ge[new x.OverscaledTileID(R.overscaledZ,ce,m.z,J,m.y).key]={backfilled:!1},m.y>0&&(ge[new x.OverscaledTileID(R.overscaledZ,U,m.z,N,m.y-1).key]={backfilled:!1},ge[new x.OverscaledTileID(R.overscaledZ,R.wrap,m.z,m.x,m.y-1).key]={backfilled:!1},ge[new x.OverscaledTileID(R.overscaledZ,ce,m.z,J,m.y-1).key]={backfilled:!1}),m.y+1<T&&(ge[new x.OverscaledTileID(R.overscaledZ,U,m.z,N,m.y+1).key]={backfilled:!1},ge[new x.OverscaledTileID(R.overscaledZ,R.wrap,m.z,m.x,m.y+1).key]={backfilled:!1},ge[new x.OverscaledTileID(R.overscaledZ,ce,m.z,J,m.y+1).key]={backfilled:!1}),ge}unloadTile(R){R.demTexture&&this.map.painter.saveTileTexture(R.demTexture),R.fbo&&(R.fbo.destroy(),delete R.fbo),R.dem&&delete R.dem,delete R.neighboringTiles,R.state="unloaded"}},geojson:class extends x.Evented{constructor(R,m,T,N){super(),this.id=R,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=T.getActor(),this.setEventedParent(N),this._data=m.data,this._options=x.extend({},m),this._collectResourceTiming=m.collectResourceTiming,void 0!==m.maxzoom&&(this.maxzoom=m.maxzoom),m.type&&(this.type=m.type),m.attribution&&(this.attribution=m.attribution),this.promoteId=m.promoteId;const U=x.EXTENT/this.tileSize;this.workerOptions=x.extend({source:this.id,cluster:m.cluster||!1,geojsonVtOptions:{buffer:(void 0!==m.buffer?m.buffer:128)*U,tolerance:(void 0!==m.tolerance?m.tolerance:.375)*U,extent:x.EXTENT,maxZoom:this.maxzoom,lineMetrics:m.lineMetrics||!1,generateId:m.generateId||!1},superclusterOptions:{maxZoom:void 0!==m.clusterMaxZoom?m.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,m.clusterMinPoints||2),extent:x.EXTENT,radius:(void 0!==m.clusterRadius?m.clusterRadius:50)*U,log:!1,generateId:m.generateId||!1},clusterProperties:m.clusterProperties,filter:m.filter},m.workerOptions)}onAdd(R){this.map=R,this.setData(this._data)}setData(R){return this._data=R,this._updateWorkerData(),this}getClusterExpansionZoom(R,m){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:R,source:this.id},m),this}getClusterChildren(R,m){return this.actor.send("geojson.getClusterChildren",{clusterId:R,source:this.id},m),this}getClusterLeaves(R,m,T,N){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:R,limit:m,offset:T},N),this}_updateWorkerData(){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new x.Event("dataloading",{dataType:"source"})),this._loaded=!1;const R=x.extend({},this.workerOptions),m=this._data;"string"==typeof m?(R.request=this.map._requestManager.transformRequest(x.exported.resolveURL(m),x.ResourceType.Source),R.request.collectResourceTiming=this._collectResourceTiming):R.data=JSON.stringify(m),this._pendingLoad=this.actor.send(`${this.type}.loadData`,R,(T,N)=>{if(this._loaded=!0,this._pendingLoad=null,T)this.fire(new x.ErrorEvent(T));else{const U={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&N&&N.resourceTiming&&N.resourceTiming[this.id]&&(U.resourceTiming=N.resourceTiming[this.id]),this.fire(new x.Event("data",U)),this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(),this._coalesce=!1)})}loaded(){return this._loaded}loadTile(R,m){const T=R.actor?"reloadTile":"loadTile";R.actor=this.actor,R.request=this.actor.send(T,{type:this.type,uid:R.uid,tileID:R.tileID,tileZoom:R.tileZoom,zoom:R.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:x.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(N,U)=>(delete R.request,R.unloadVectorData(),R.aborted?m(null):N?m(N):(R.loadVectorData(U,this.map.painter,"reloadTile"===T),m(null))),void 0,"loadTile"===T)}abortTile(R){R.request&&(R.request.cancel(),delete R.request),R.aborted=!0}unloadTile(R){R.unloadVectorData(),this.actor.send("removeTile",{uid:R.uid,type:this.type,source:this.id})}onRemove(){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return x.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends at{constructor(R,m,T,N){super(R,m,T,N),this.roundZoom=!0,this.type="video",this.options=m}load(){this._loaded=!1;const R=this.options;this.urls=[];for(const m of R.urls)this.urls.push(this.map._requestManager.transformRequest(m,x.ResourceType.Source).url);x.getVideo(this.urls,(m,T)=>{this._loaded=!0,m?this.fire(new x.ErrorEvent(m)):T&&(this.video=T,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(R){if(this.video){const m=this.video.seekable;R<m.start(0)||R>m.end(0)?this.fire(new x.ErrorEvent(new x.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${m.start(0)} and ${m.end(0)}-second mark.`))):this.video.currentTime=R}}getVideo(){return this.video}onAdd(R){this.map||(this.map=R,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(0===Object.keys(this.tiles).length||this.video.readyState<2)return;const R=this.map.painter.context,m=R.gl;this.boundsBuffer||(this.boundsBuffer=R.createVertexBuffer(this._boundsArray,Er.members)),this.boundsSegments||(this.boundsSegments=x.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(m.LINEAR,m.CLAMP_TO_EDGE),m.texSubImage2D(m.TEXTURE_2D,0,0,0,m.RGBA,m.UNSIGNED_BYTE,this.video)):(this.texture=new x.Texture(R,this.video,m.RGBA),this.texture.bind(m.LINEAR,m.CLAMP_TO_EDGE));for(const T in this.tiles){const N=this.tiles[T];"loaded"!==N.state&&(N.state="loaded",N.texture=this.texture)}}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:at,canvas:class extends at{constructor(R,m,T,N){super(R,m,T,N),m.coordinates?Array.isArray(m.coordinates)&&4===m.coordinates.length&&!m.coordinates.some(U=>!Array.isArray(U)||2!==U.length||U.some(J=>"number"!=typeof J))||this.fire(new x.ErrorEvent(new x.ValidationError(`sources.${R}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new x.ErrorEvent(new x.ValidationError(`sources.${R}`,null,'missing required property "coordinates"'))),m.animate&&"boolean"!=typeof m.animate&&this.fire(new x.ErrorEvent(new x.ValidationError(`sources.${R}`,null,'optional "animate" property must be a boolean value'))),m.canvas?"string"==typeof m.canvas||m.canvas instanceof x.window.HTMLCanvasElement||this.fire(new x.ErrorEvent(new x.ValidationError(`sources.${R}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new x.ErrorEvent(new x.ValidationError(`sources.${R}`,null,'missing required property "canvas"'))),this.options=m,this.animate=void 0===m.animate||m.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof x.window.HTMLCanvasElement?this.options.canvas:x.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new x.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(R){this.map=R,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let R=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,R=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,R=!0),this._hasInvalidDimensions()||0===Object.keys(this.tiles).length)return;const m=this.map.painter.context,T=m.gl;this.boundsBuffer||(this.boundsBuffer=m.createVertexBuffer(this._boundsArray,Er.members)),this.boundsSegments||(this.boundsSegments=x.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(R||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new x.Texture(m,this.canvas,T.RGBA,{premultiply:!0});for(const N in this.tiles){const U=this.tiles[N];"loaded"!==U.state&&(U.state="loaded",U.texture=this.texture)}}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const R of[this.canvas.width,this.canvas.height])if(isNaN(R)||R<=0)return!0;return!1}}},$e=function(R,m,T,N){const U=new Ye[m.type](R,m,T,N);if(U.id!==R)throw new Error(`Expected Source id to be ${R} instead of ${U.id}`);return x.bindAll(["load","abort","unload","serialize","prepare"],U),U};function dt(R,m){const T=x.identity([]);return x.scale$1(T,T,[.5*R.width,.5*-R.height,1]),x.translate(T,T,[1,-1,0]),x.multiply(T,T,R.calculateProjMatrix(m.toUnwrapped()))}function Ct(R,m,T,N,U,J,ce,ge=!1){const xe=R.tilesIn(N,ce,ge);xe.sort(Pt);const ve=[];for(const qe of xe)ve.push({wrappedTileID:qe.tile.tileID.wrapped().key,queryResults:qe.tile.queryRenderedFeatures(m,T,R._state,qe,U,J,dt(R.transform,qe.tile.tileID),ge)});const He=function(qe){const Qe={},Ke={};for(const pt of qe){const xt=pt.queryResults,Nt=pt.wrappedTileID,lt=Ke[Nt]=Ke[Nt]||{};for(const wt in xt){const Tt=xt[wt],Vt=lt[wt]=lt[wt]||{},St=Qe[wt]=Qe[wt]||[];for(const Dt of Tt)Vt[Dt.featureIndex]||(Vt[Dt.featureIndex]=!0,St.push(Dt))}}return Qe}(ve);for(const qe in He)He[qe].forEach(Qe=>{const Ke=Qe.feature,pt=R.getFeatureState(Ke.layer["source-layer"],Ke.id);Ke.source=Ke.layer.source,Ke.layer["source-layer"]&&(Ke.sourceLayer=Ke.layer["source-layer"]),Ke.state=pt});return He}function Bt(R,m){const T=R.getRenderableIds().map(J=>R.getTileByID(J)),N=[],U={};for(let J=0;J<T.length;J++){const ce=T[J],ge=ce.tileID.canonical.key;U[ge]||(U[ge]=!0,ce.querySourceFeatures(N,m))}return N}function Pt(R,m){const T=R.tileID,N=m.tileID;return T.overscaledZ-N.overscaledZ||T.canonical.y-N.canonical.y||T.wrap-N.wrap||T.canonical.x-N.canonical.x}function nn(){return null!=Np.workerClass?new Np.workerClass:new x.window.Worker(Np.workerUrl)}const jt="mapboxgl_preloaded_worker_pool";class en{constructor(){this.active={}}acquire(m){if(!this.workers)for(this.workers=[];this.workers.length<en.workerCount;)this.workers.push(new nn);return this.active[m]=!0,this.workers.slice()}release(m){delete this.active[m],0===this.numActive()&&(this.workers.forEach(T=>{T.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[jt]}numActive(){return Object.keys(this.active).length}}let En;function Re(){return En||(En=new en),En}function p(R,m){const T={};for(const N in R)"ref"!==N&&(T[N]=R[N]);return x.refProperties.forEach(N=>{N in m&&(T[N]=m[N])}),T}function f(R){R=R.slice();const m=Object.create(null);for(let T=0;T<R.length;T++)m[R[T].id]=R[T];for(let T=0;T<R.length;T++)"ref"in R[T]&&(R[T]=p(R[T],m[R[T].ref]));return R}en.workerCount=2;const b={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog"};function S(R,m,T){T.push({command:b.addSource,args:[R,m[R]]})}function D(R,m,T){m.push({command:b.removeSource,args:[R]}),T[R]=!0}function B(R,m,T,N){D(R,T,N),S(R,m,T)}function F(R,m,T){let N;for(N in R[T])if(R[T].hasOwnProperty(N)&&"data"!==N&&!Me(R[T][N],m[T][N]))return!1;for(N in m[T])if(m[T].hasOwnProperty(N)&&"data"!==N&&!Me(R[T][N],m[T][N]))return!1;return!0}function Z(R,m,T,N,U,J){let ce;for(ce in m=m||{},R=R||{})R.hasOwnProperty(ce)&&(Me(R[ce],m[ce])||T.push({command:J,args:[N,ce,m[ce],U]}));for(ce in m)m.hasOwnProperty(ce)&&!R.hasOwnProperty(ce)&&(Me(R[ce],m[ce])||T.push({command:J,args:[N,ce,m[ce],U]}))}function q(R){return R.id}function oe(R,m){return R[m.id]=m,R}class ue{constructor(m,T){this.reset(m,T)}reset(m,T){this.points=m||[],this._distances=[0];for(let N=1;N<this.points.length;N++)this._distances[N]=this._distances[N-1]+this.points[N].dist(this.points[N-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(T||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(m){if(1===this.points.length)return this.points[0];m=x.clamp(m,0,1);let T=1,N=this._distances[T];const U=m*this.paddedLength+this.padding;for(;N<U&&T<this._distances.length;)N=this._distances[++T];const J=T-1,ce=this._distances[J],ge=N-ce,xe=ge>0?(U-ce)/ge:0;return this.points[J].mult(1-xe).add(this.points[T].mult(xe))}}class ae{constructor(m,T,N){const U=this.boxCells=[],J=this.circleCells=[];this.xCellCount=Math.ceil(m/N),this.yCellCount=Math.ceil(T/N);for(let ce=0;ce<this.xCellCount*this.yCellCount;ce++)U.push([]),J.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=m,this.height=T,this.xScale=this.xCellCount/m,this.yScale=this.yCellCount/T,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(m,T,N,U,J){this._forEachCell(T,N,U,J,this._insertBoxCell,this.boxUid++),this.boxKeys.push(m),this.bboxes.push(T),this.bboxes.push(N),this.bboxes.push(U),this.bboxes.push(J)}insertCircle(m,T,N,U){this._forEachCell(T-U,N-U,T+U,N+U,this._insertCircleCell,this.circleUid++),this.circleKeys.push(m),this.circles.push(T),this.circles.push(N),this.circles.push(U)}_insertBoxCell(m,T,N,U,J,ce){this.boxCells[J].push(ce)}_insertCircleCell(m,T,N,U,J,ce){this.circleCells[J].push(ce)}_query(m,T,N,U,J,ce){if(N<0||m>this.width||U<0||T>this.height)return!J&&[];const ge=[];if(m<=0&&T<=0&&this.width<=N&&this.height<=U){if(J)return!0;for(let xe=0;xe<this.boxKeys.length;xe++)ge.push({key:this.boxKeys[xe],x1:this.bboxes[4*xe],y1:this.bboxes[4*xe+1],x2:this.bboxes[4*xe+2],y2:this.bboxes[4*xe+3]});for(let xe=0;xe<this.circleKeys.length;xe++){const ve=this.circles[3*xe],He=this.circles[3*xe+1],qe=this.circles[3*xe+2];ge.push({key:this.circleKeys[xe],x1:ve-qe,y1:He-qe,x2:ve+qe,y2:He+qe})}return ce?ge.filter(ce):ge}return this._forEachCell(m,T,N,U,this._queryCell,ge,{hitTest:J,seenUids:{box:{},circle:{}}},ce),J?ge.length>0:ge}_queryCircle(m,T,N,U,J){const ce=m-N,ge=m+N,xe=T-N,ve=T+N;if(ge<0||ce>this.width||ve<0||xe>this.height)return!U&&[];const He=[];return this._forEachCell(ce,xe,ge,ve,this._queryCellCircle,He,{hitTest:U,circle:{x:m,y:T,radius:N},seenUids:{box:{},circle:{}}},J),U?He.length>0:He}query(m,T,N,U,J){return this._query(m,T,N,U,!1,J)}hitTest(m,T,N,U,J){return this._query(m,T,N,U,!0,J)}hitTestCircle(m,T,N,U){return this._queryCircle(m,T,N,!0,U)}_queryCell(m,T,N,U,J,ce,ge,xe){const ve=ge.seenUids,He=this.boxCells[J];if(null!==He){const Qe=this.bboxes;for(const Ke of He)if(!ve.box[Ke]){ve.box[Ke]=!0;const pt=4*Ke;if(m<=Qe[pt+2]&&T<=Qe[pt+3]&&N>=Qe[pt+0]&&U>=Qe[pt+1]&&(!xe||xe(this.boxKeys[Ke]))){if(ge.hitTest)return ce.push(!0),!0;ce.push({key:this.boxKeys[Ke],x1:Qe[pt],y1:Qe[pt+1],x2:Qe[pt+2],y2:Qe[pt+3]})}}}const qe=this.circleCells[J];if(null!==qe){const Qe=this.circles;for(const Ke of qe)if(!ve.circle[Ke]){ve.circle[Ke]=!0;const pt=3*Ke;if(this._circleAndRectCollide(Qe[pt],Qe[pt+1],Qe[pt+2],m,T,N,U)&&(!xe||xe(this.circleKeys[Ke]))){if(ge.hitTest)return ce.push(!0),!0;{const xt=Qe[pt],Nt=Qe[pt+1],lt=Qe[pt+2];ce.push({key:this.circleKeys[Ke],x1:xt-lt,y1:Nt-lt,x2:xt+lt,y2:Nt+lt})}}}}}_queryCellCircle(m,T,N,U,J,ce,ge,xe){const ve=ge.circle,He=ge.seenUids,qe=this.boxCells[J];if(null!==qe){const Ke=this.bboxes;for(const pt of qe)if(!He.box[pt]){He.box[pt]=!0;const xt=4*pt;if(this._circleAndRectCollide(ve.x,ve.y,ve.radius,Ke[xt+0],Ke[xt+1],Ke[xt+2],Ke[xt+3])&&(!xe||xe(this.boxKeys[pt])))return ce.push(!0),!0}}const Qe=this.circleCells[J];if(null!==Qe){const Ke=this.circles;for(const pt of Qe)if(!He.circle[pt]){He.circle[pt]=!0;const xt=3*pt;if(this._circlesCollide(Ke[xt],Ke[xt+1],Ke[xt+2],ve.x,ve.y,ve.radius)&&(!xe||xe(this.circleKeys[pt])))return ce.push(!0),!0}}}_forEachCell(m,T,N,U,J,ce,ge,xe){const ve=this._convertToXCellCoord(m),He=this._convertToYCellCoord(T),qe=this._convertToXCellCoord(N),Qe=this._convertToYCellCoord(U);for(let Ke=ve;Ke<=qe;Ke++)for(let pt=He;pt<=Qe;pt++)if(J.call(this,m,T,N,U,this.xCellCount*pt+Ke,ce,ge,xe))return}_convertToXCellCoord(m){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(m*this.xScale)))}_convertToYCellCoord(m){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(m*this.yScale)))}_circlesCollide(m,T,N,U,J,ce){const ge=U-m,xe=J-T,ve=N+ce;return ve*ve>ge*ge+xe*xe}_circleAndRectCollide(m,T,N,U,J,ce,ge){const xe=(ce-U)/2,ve=Math.abs(m-(U+xe));if(ve>xe+N)return!1;const He=(ge-J)/2,qe=Math.abs(T-(J+He));if(qe>He+N)return!1;if(ve<=xe||qe<=He)return!0;const Qe=ve-xe,Ke=qe-He;return Qe*Qe+Ke*Ke<=N*N}}const _e=Math.tan(85*Math.PI/180);function Ie(R,m,T,N,U){const J=x.create$1();return m?(x.scale$1(J,J,[1/U,1/U,1]),T||x.rotateZ(J,J,N.angle)):x.multiply(J,N.labelPlaneMatrix,R),J}function Pe(R,m,T,N,U){if(m){const J=x.clone$1(R);return x.scale$1(J,J,[U,U,1]),T||x.rotateZ(J,J,-N.angle),J}return N.glCoordMatrix}function ze(R,m,T=0){const N=[R.x,R.y,T,1];T?x.transformMat4(N,N,m):un(N,N,m);const U=N[3];return{point:new x.pointGeometry(N[0]/U,N[1]/U),signedDistanceFromCamera:U}}function We(R,m){return Math.min(.5+R/m*.5,1.5)}function st(R,m){const T=R[0]/R[3],N=R[1]/R[3];return T>=-m[0]&&T<=m[0]&&N>=-m[1]&&N<=m[1]}function bt(R,m,T,N,U,J,ce,ge,xe){const ve=N?R.textSizeData:R.iconSizeData,He=x.evaluateSizeForZoom(ve,T.transform.zoom),qe=[256/T.width*2+1,256/T.height*2+1],Qe=N?R.text.dynamicLayoutVertexArray:R.icon.dynamicLayoutVertexArray;Qe.clear();const Ke=R.lineVertexArray,pt=N?R.text.placedSymbolArray:R.icon.placedSymbolArray,xt=T.transform.width/T.transform.height;let Nt=!1;for(let lt=0;lt<pt.length;lt++){const wt=pt.get(lt);if(wt.writingMode!==x.WritingMode.vertical||Nt||0!==lt&&pt.get(lt-1).writingMode===x.WritingMode.horizontal||(Nt=!0),wt.hidden||wt.writingMode===x.WritingMode.vertical&&!Nt){qt(wt.numGlyphs,Qe);continue}Nt=!1;const Tt=xe?xe({x:wt.anchorX,y:wt.anchorY}):0,Vt=[wt.anchorX,wt.anchorY,Tt,1];if(x.transformMat4(Vt,Vt,m),!st(Vt,qe)){qt(wt.numGlyphs,Qe);continue}const St=We(T.transform.cameraToCenterDistance,Vt[3]),Dt=x.evaluateSizeForFeature(ve,He,wt),kn=ce?Dt/St:Dt*St,Dn=new x.pointGeometry(wt.anchorX,wt.anchorY),Nn=ze(Dn,U,Tt);if(Nn.signedDistanceFromCamera<=0){qt(wt.numGlyphs,Qe);continue}const It=Nn.point;let ri={};const Bn=ce?null:xe,ui=Ne(wt,kn,!1,ge,m,U,J,R.glyphOffsetArray,Ke,Qe,It,Dn,ri,xt,Bn);Nt=ui.useVertical,Bn&&ui.needsFlipping&&(ri={}),(ui.notEnoughRoom||Nt||ui.needsFlipping&&Ne(wt,kn,!0,ge,m,U,J,R.glyphOffsetArray,Ke,Qe,It,Dn,ri,xt,Bn).notEnoughRoom)&&qt(wt.numGlyphs,Qe)}N?R.text.dynamicLayoutVertexBuffer.updateData(Qe):R.icon.dynamicLayoutVertexBuffer.updateData(Qe)}function X(R,m,T,N,U,J,ce,ge,xe,ve,He,qe,Qe){const Ke=ge.glyphStartIndex+ge.numGlyphs,pt=ge.lineStartIndex,xt=ge.lineStartIndex+ge.lineLength,Nt=m.getoffsetX(ge.glyphStartIndex),lt=m.getoffsetX(Ke-1),wt=mt(R*Nt,T,N,U,J,ce,ge.segment,pt,xt,xe,ve,He,qe,Qe,!0);if(!wt)return null;const Tt=mt(R*lt,T,N,U,J,ce,ge.segment,pt,xt,xe,ve,He,qe,Qe,!0);return Tt?{first:wt,last:Tt}:null}function he(R,m,T,N){return R.writingMode===x.WritingMode.horizontal&&Math.abs(T.y-m.y)>Math.abs(T.x-m.x)*N?{useVertical:!0}:R.writingMode===x.WritingMode.vertical?m.y<T.y?{needsFlipping:!0}:null:0!==R.flipState&&function(U,J,ce){const ge=(J.x-U.x)*ce;return 0===ge||Math.abs((J.y-U.y)/ge)>_e}(m,T,N)?1===R.flipState?{needsFlipping:!0}:null:m.x>T.x?{needsFlipping:!0}:null}function Ne(R,m,T,N,U,J,ce,ge,xe,ve,He,qe,Qe,Ke,pt){const xt=m/24,Nt=R.lineOffsetX*xt,lt=R.lineOffsetY*xt;let wt;if(R.numGlyphs>1){const Tt=R.glyphStartIndex+R.numGlyphs,Vt=R.lineStartIndex,St=R.lineStartIndex+R.lineLength,Dt=X(xt,ge,Nt,lt,T,He,qe,R,xe,J,Qe,pt);if(!Dt)return{notEnoughRoom:!0};const kn=ze(Dt.first.point,ce).point,Dn=ze(Dt.last.point,ce).point;if(N&&!T){const Nn=he(R,kn,Dn,Ke);if(R.flipState=Nn&&Nn.needsFlipping?1:2,Nn)return Nn}wt=[Dt.first];for(let Nn=R.glyphStartIndex+1;Nn<Tt-1;Nn++)wt.push(mt(xt*ge.getoffsetX(Nn),Nt,lt,T,He,qe,R.segment,Vt,St,xe,J,Qe,pt));wt.push(Dt.last)}else{if(N&&!T){const Vt=ze(qe,U).point,St=R.lineStartIndex+R.segment+1,Dt=new x.pointGeometry(xe.getx(St),xe.gety(St)),kn=ze(Dt,U),Dn=he(R,Vt,kn.signedDistanceFromCamera>0?kn.point:Je(qe,Dt,Vt,1,U),Ke);if(R.flipState=Dn&&Dn.needsFlipping?1:2,Dn)return Dn}const Tt=mt(xt*ge.getoffsetX(R.glyphStartIndex),Nt,lt,T,He,qe,R.segment,R.lineStartIndex,R.lineStartIndex+R.lineLength,xe,J,Qe,pt);if(!Tt)return{notEnoughRoom:!0};wt=[Tt]}for(const Tt of wt)x.addDynamicAttributes(ve,Tt.point,Tt.angle);return{}}function Je(R,m,T,N,U,J){const ce=R.add(R.sub(m)._unit()),ge=ze(ce,U,J?J(ce):0).point,xe=T.sub(ge);return T.add(xe._mult(N/xe.mag()))}function mt(R,m,T,N,U,J,ce,ge,xe,ve,He,qe,Qe,Ke,pt){const xt=N?R-m:R+m;let Nt=xt>0?1:-1,lt=0;N&&(Nt*=-1,lt=Math.PI),Nt<0&&(lt+=Math.PI);let wt=Nt>0?ge+ce:ge+ce+1,Tt=U,Vt=U,St=0,Dt=0;const kn=Math.abs(xt),Dn=[],Nn=[];let It=J;const ri=()=>{const Pi=wt-Nt;return 0===St?J:new x.pointGeometry(ve.getx(Pi),ve.gety(Pi))},Bn=()=>Je(ri(),It,Vt,kn-St+1,He,Qe);for(;St+Dt<=kn;){if(wt+=Nt,wt<ge||wt>=xe)return null;if(Vt=Tt,Dn.push(Tt),Ke&&Nn.push(It||ri()),Tt=qe[wt],void 0===Tt){It=new x.pointGeometry(ve.getx(wt),ve.gety(wt));const Pi=ze(It,He,Qe?Qe(It):0);Tt=Pi.signedDistanceFromCamera>0?qe[wt]=Pi.point:Bn()}else It=null;St+=Dt,Dt=Vt.dist(Tt)}pt&&Qe&&(It=It||new x.pointGeometry(ve.getx(wt),ve.gety(wt)),qe[wt]=Tt=void 0===qe[wt]?Tt:Bn(),Dt=Vt.dist(Tt));const ui=(kn-St)/Dt,ti=Tt.sub(Vt),Xn=ti.mult(ui)._add(Vt);T&&Xn._add(ti._unit()._perp()._mult(T*Nt));const mr=lt+Math.atan2(Tt.y-Vt.y,Tt.x-Vt.x);return Dn.push(Xn),Ke&&(It=It||new x.pointGeometry(ve.getx(wt),ve.gety(wt)),Nn.push(function(Pi,Jr,hs){const ys=1-hs;return new x.pointGeometry(Pi.x*ys+Jr.x*hs,Pi.y*ys+Jr.y*hs)}(Nn.length>0?Nn[Nn.length-1]:It,It,ui))),{point:Xn,angle:mr,path:Dn,tilePath:Nn}}const ln=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function qt(R,m){for(let T=0;T<R;T++){const N=m.length;m.resize(N+4),m.float32.set(ln,3*N)}}function un(R,m,T){const N=m[0],U=m[1];return R[0]=T[0]*N+T[4]*U+T[12],R[1]=T[1]*N+T[5]*U+T[13],R[3]=T[3]*N+T[7]*U+T[15],R}const Vn=100;class zn{constructor(m,T,N=new ae(m.width+200,m.height+200,25),U=new ae(m.width+200,m.height+200,25)){this.transform=m,this.grid=N,this.ignoredGrid=U,this.pitchfactor=Math.cos(m._pitch)*m.cameraToCenterDistance,this.screenRightBoundary=m.width+Vn,this.screenBottomBoundary=m.height+Vn,this.gridRightBoundary=m.width+200,this.gridBottomBoundary=m.height+200,this.fogState=T}placeCollisionBox(m,T,N,U,J,ce,ge){const xe=this.projectAndGetPerspectiveRatio(ce,T.anchorPointX,T.anchorPointY,T.elevation,T.tileID),ve=J*xe.perspectiveRatio,He=(T.x1*m+N.x-T.padding)*ve+xe.point.x,qe=(T.y1*m+N.y-T.padding)*ve+xe.point.y,Qe=(T.x2*m+N.x+T.padding)*ve+xe.point.x,Ke=(T.y2*m+N.y+T.padding)*ve+xe.point.y,pt=xe.perspectiveRatio<=.55||xe.aboveHorizon;return!this.isInsideGrid(He,qe,Qe,Ke)||!U&&this.grid.hitTest(He,qe,Qe,Ke,ge)||pt?{box:[],offscreen:!1}:{box:[He,qe,Qe,Ke],offscreen:this.isOffscreen(He,qe,Qe,Ke)}}placeCollisionCircles(m,T,N,U,J,ce,ge,xe,ve,He,qe,Qe,Ke,pt){const xt=[],Nt=this.transform.elevation,lt=Nt?Bn=>Nt.getAtTileOffset(pt,Bn.x,Bn.y):Bn=>0,wt=new x.pointGeometry(T.anchorX,T.anchorY),Tt=lt(wt),Vt=this.projectAndGetPerspectiveRatio(ce,wt.x,wt.y,Tt,pt),{perspectiveRatio:St}=Vt,Dt=(He?J/St:J*St)/x.ONE_EM,kn=ze(wt,ge,Tt).point,Dn=Vt.signedDistanceFromCamera>0?X(Dt,U,T.lineOffsetX*Dt,T.lineOffsetY*Dt,!1,kn,wt,T,N,ge,{},Nt&&!He?lt:null,He&&!!Nt):null;let Nn=!1,It=!1,ri=!0;if(Dn&&!Vt.aboveHorizon){const Bn=.5*Qe*St+Ke,ui=new x.pointGeometry(-100,-100),ti=new x.pointGeometry(this.screenRightBoundary,this.screenBottomBoundary),Xn=new ue,mr=Dn.first,Pi=Dn.last;let Jr=[];for(let Cr=mr.path.length-1;Cr>=1;Cr--)Jr.push(mr.path[Cr]);for(let Cr=1;Cr<Pi.path.length;Cr++)Jr.push(Pi.path[Cr]);const hs=2.5*Bn;if(xe){const Cr=Jr.map(Nt?(ks,to)=>{const jl=lt(to<mr.path.length-1?mr.tilePath[mr.path.length-1-to]:Pi.tilePath[to-mr.path.length+2]);return ze(ks,xe,jl)}:ks=>ze(ks,xe));Jr=Cr.some(ks=>ks.signedDistanceFromCamera<=0)?[]:Cr.map(ks=>ks.point)}let ys=[];if(Jr.length>0){const Cr=Jr[0].clone(),ks=Jr[0].clone();for(let to=1;to<Jr.length;to++)Cr.x=Math.min(Cr.x,Jr[to].x),Cr.y=Math.min(Cr.y,Jr[to].y),ks.x=Math.max(ks.x,Jr[to].x),ks.y=Math.max(ks.y,Jr[to].y);ys=Cr.x>=ui.x&&ks.x<=ti.x&&Cr.y>=ui.y&&ks.y<=ti.y?[Jr]:ks.x<ui.x||Cr.x>ti.x||ks.y<ui.y||Cr.y>ti.y?[]:x.clipLine([Jr],ui.x,ui.y,ti.x,ti.y)}for(const Cr of ys){Xn.reset(Cr,.25*Bn);let ks=0;ks=Xn.length<=.5*Bn?1:Math.ceil(Xn.paddedLength/hs)+1;for(let to=0;to<ks;to++){const jl=to/Math.max(ks-1,1),ja=Xn.lerp(jl),gs=ja.x+Vn,Ko=ja.y+Vn;xt.push(gs,Ko,Bn,0);const Sl=gs-Bn,Hi=Ko-Bn,Us=gs+Bn,Kr=Ko+Bn;if(ri=ri&&this.isOffscreen(Sl,Hi,Us,Kr),It=It||this.isInsideGrid(Sl,Hi,Us,Kr),!m&&this.grid.hitTestCircle(gs,Ko,Bn,qe)&&(Nn=!0,!ve))return{circles:[],offscreen:!1,collisionDetected:Nn}}}}return{circles:!ve&&Nn||!It?[]:xt,offscreen:ri,collisionDetected:Nn}}queryRenderedSymbols(m){if(0===m.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};const T=[];let N=1/0,U=1/0,J=-1/0,ce=-1/0;for(const He of m){const qe=new x.pointGeometry(He.x+Vn,He.y+Vn);N=Math.min(N,qe.x),U=Math.min(U,qe.y),J=Math.max(J,qe.x),ce=Math.max(ce,qe.y),T.push(qe)}const ge=this.grid.query(N,U,J,ce).concat(this.ignoredGrid.query(N,U,J,ce)),xe={},ve={};for(const He of ge){const qe=He.key;if(void 0===xe[qe.bucketInstanceId]&&(xe[qe.bucketInstanceId]={}),xe[qe.bucketInstanceId][qe.featureIndex])continue;const Qe=[new x.pointGeometry(He.x1,He.y1),new x.pointGeometry(He.x2,He.y1),new x.pointGeometry(He.x2,He.y2),new x.pointGeometry(He.x1,He.y2)];x.polygonIntersectsPolygon(T,Qe)&&(xe[qe.bucketInstanceId][qe.featureIndex]=!0,void 0===ve[qe.bucketInstanceId]&&(ve[qe.bucketInstanceId]=[]),ve[qe.bucketInstanceId].push(qe.featureIndex))}return ve}insertCollisionBox(m,T,N,U,J){(T?this.ignoredGrid:this.grid).insert({bucketInstanceId:N,featureIndex:U,collisionGroupID:J},m[0],m[1],m[2],m[3])}insertCollisionCircles(m,T,N,U,J){const ce=T?this.ignoredGrid:this.grid,ge={bucketInstanceId:N,featureIndex:U,collisionGroupID:J};for(let xe=0;xe<m.length;xe+=4)ce.insertCircle(ge,m[xe],m[xe+1],m[xe+2])}projectAndGetPerspectiveRatio(m,T,N,U,J){const ce=[T,N,U||0,1];let ge=!1;if(U||this.transform.pitch>0){x.transformMat4(ce,ce,m);let xe=!1;this.fogState&&J&&(xe=function(ve,He,qe,Qe,Ke,pt){const xt=pt.calculateFogTileMatrix(Ke),Nt=[He,qe,Qe];return x.transformMat4$1(Nt,Nt,xt),wn(ve,Nt,pt.pitch,pt._fov)}(this.fogState,T,N,U||0,J.toUnwrapped(),this.transform)>.9),ge=ce[2]>ce[3]||xe}else un(ce,ce,m);return{point:new x.pointGeometry((ce[0]/ce[3]+1)/2*this.transform.width+Vn,(-ce[1]/ce[3]+1)/2*this.transform.height+Vn),perspectiveRatio:Math.min(.5+this.transform.cameraToCenterDistance/ce[3]*.5,1.5),signedDistanceFromCamera:ce[3],aboveHorizon:ge}}isOffscreen(m,T,N,U){return N<Vn||m>=this.screenRightBoundary||U<Vn||T>this.screenBottomBoundary}isInsideGrid(m,T,N,U){return N>=0&&m<this.gridRightBoundary&&U>=0&&T<this.gridBottomBoundary}getViewportMatrix(){const m=x.identity([]);return x.translate(m,m,[-100,-100,0]),m}}class ki{constructor(m,T,N,U){this.opacity=m?Math.max(0,Math.min(1,m.opacity+(m.placed?T:-T))):U&&N?1:0,this.placed=N}isHidden(){return 0===this.opacity&&!this.placed}}class pr{constructor(m,T,N,U,J){this.text=new ki(m?m.text:null,T,N,J),this.icon=new ki(m?m.icon:null,T,U,J)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class _i{constructor(m,T,N){this.text=m,this.icon=T,this.skipFade=N}}class Yi{constructor(){this.invProjMatrix=x.create$1(),this.viewportMatrix=x.create$1(),this.circles=[]}}class Lr{constructor(m,T,N,U,J){this.bucketInstanceId=m,this.featureIndex=T,this.sourceLayerIndex=N,this.bucketIndex=U,this.tileID=J}}class eo{constructor(m){this.crossSourceCollisions=m,this.maxGroupID=0,this.collisionGroups={}}get(m){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[m]){const T=++this.maxGroupID;this.collisionGroups[m]={ID:T,predicate:N=>N.collisionGroupID===T}}return this.collisionGroups[m]}}function Cs(R,m,T,N,U){const{horizontalAlign:J,verticalAlign:ce}=x.getAnchorAlignment(R),ge=-(J-.5)*m,xe=-(ce-.5)*T,ve=x.evaluateVariableOffset(R,N);return new x.pointGeometry(ge+ve[0]*U,xe+ve[1]*U)}function qi(R,m,T,N,U){const J=new x.pointGeometry(R,m);return T&&J._rotate(N?U:-U),J}class jr{constructor(m,T,N,U,J){this.transform=m.clone(),this.collisionIndex=new zn(this.transform,J),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=T,this.retainedQueryData={},this.collisionGroups=new eo(N),this.collisionCircleArrays={},this.prevPlacement=U,U&&(U.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(m,T,N,U){const J=N.getBucket(T),ce=N.latestFeatureIndex;if(!J||!ce||T.id!==J.layerIds[0])return;const ge=N.collisionBoxArray,xe=J.layers[0].layout,ve=Math.pow(2,this.transform.zoom-N.tileID.overscaledZ),He=N.tileSize/x.EXTENT,qe=this.transform.calculateProjMatrix(N.tileID.toUnwrapped()),Qe="map"===xe.get("text-pitch-alignment"),Ke="map"===xe.get("text-rotation-alignment"),pt=ai(N,1,this.transform.zoom),xt=Ie(qe,Qe,Ke,this.transform,pt);let Nt=null;if(Qe){const wt=Pe(qe,Qe,Ke,this.transform,pt);Nt=x.multiply([],this.transform.labelPlaneMatrix,wt)}this.retainedQueryData[J.bucketInstanceId]=new Lr(J.bucketInstanceId,ce,J.sourceLayerIndex,J.index,N.tileID);const lt={bucket:J,layout:xe,posMatrix:qe,textLabelPlaneMatrix:xt,labelToScreenMatrix:Nt,scale:ve,textPixelRatio:He,holdingForFade:N.holdingForFade(),collisionBoxArray:ge,partiallyEvaluatedTextSize:x.evaluateSizeForZoom(J.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:x.evaluateSizeForZoom(J.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(J.sourceID)};if(U)for(const wt of J.sortKeyRanges){const{sortKey:Tt,symbolInstanceStart:Vt,symbolInstanceEnd:St}=wt;m.push({sortKey:Tt,symbolInstanceStart:Vt,symbolInstanceEnd:St,parameters:lt})}else m.push({symbolInstanceStart:0,symbolInstanceEnd:J.symbolInstances.length,parameters:lt})}attemptAnchorPlacement(m,T,N,U,J,ce,ge,xe,ve,He,qe,Qe,Ke,pt,xt,Nt,lt,wt){const Tt=[Qe.textOffset0,Qe.textOffset1],Vt=Cs(m,N,U,Tt,J),St=this.collisionIndex.placeCollisionBox(J,T,qi(Vt.x,Vt.y,ce,ge,this.transform.angle),qe,xe,ve,He.predicate);if((!Nt||0!==this.collisionIndex.placeCollisionBox(pt.getSymbolInstanceIconSize(wt,this.transform.zoom,Ke),Nt,qi(Vt.x,Vt.y,ce,ge,this.transform.angle),qe,xe,ve,He.predicate).box.length)&&St.box.length>0){let Dt;return this.prevPlacement&&this.prevPlacement.variableOffsets[Qe.crossTileID]&&this.prevPlacement.placements[Qe.crossTileID]&&this.prevPlacement.placements[Qe.crossTileID].text&&(Dt=this.prevPlacement.variableOffsets[Qe.crossTileID].anchor),this.variableOffsets[Qe.crossTileID]={textOffset:Tt,width:N,height:U,anchor:m,textScale:J,prevAnchor:Dt},this.markUsedJustification(pt,m,Qe,xt),pt.allowVerticalPlacement&&(this.markUsedOrientation(pt,xt,Qe),this.placedOrientations[Qe.crossTileID]=xt),{shift:Vt,placedGlyphBoxes:St}}}placeLayerBucketPart(m,T,N){const{bucket:U,layout:J,posMatrix:ce,textLabelPlaneMatrix:ge,labelToScreenMatrix:xe,textPixelRatio:ve,holdingForFade:He,collisionBoxArray:qe,partiallyEvaluatedTextSize:Qe,partiallyEvaluatedIconSize:Ke,collisionGroup:pt}=m.parameters,xt=J.get("text-optional"),Nt=J.get("icon-optional"),lt=J.get("text-allow-overlap"),wt=J.get("icon-allow-overlap"),Tt="map"===J.get("text-rotation-alignment"),Vt="map"===J.get("text-pitch-alignment"),St="none"!==J.get("icon-text-fit"),Dt="viewport-y"===J.get("symbol-z-order"),kn=lt&&(wt||!U.hasIconData()||Nt),Dn=wt&&(lt||!U.hasTextData()||xt);!U.collisionArrays&&qe&&U.deserializeCollisionBoxes(qe),N&&U.updateCollisionDebugBuffers(this.transform.zoom,qe);const Nn=(It,ri,Bn)=>{if(T[It.crossTileID])return;if(He)return void(this.placements[It.crossTileID]=new _i(!1,!1,!1));let ui=!1,ti=!1,Xn=!0,mr=null,Pi={box:null,offscreen:null},Jr={box:null,offscreen:null},hs=null,ys=null,Cr=null,ks=0,to=0,jl=0;Bn.textFeatureIndex?ks=Bn.textFeatureIndex:It.useRuntimeCollisionCircles&&(ks=It.featureIndex),Bn.verticalTextFeatureIndex&&(to=Bn.verticalTextFeatureIndex);const ja=Hi=>{Hi.tileID=this.retainedQueryData[U.bucketInstanceId].tileID,(this.transform.elevation||Hi.elevation)&&(Hi.elevation=this.transform.elevation?this.transform.elevation.getAtTileOffset(this.retainedQueryData[U.bucketInstanceId].tileID,Hi.anchorPointX,Hi.anchorPointY):0)},gs=Bn.textBox;if(gs){ja(gs);const Hi=Kr=>{let Is=x.WritingMode.horizontal;if(U.allowVerticalPlacement&&!Kr&&this.prevPlacement){const fo=this.prevPlacement.placedOrientations[It.crossTileID];fo&&(this.placedOrientations[It.crossTileID]=fo,Is=fo,this.markUsedOrientation(U,Is,It))}return Is},Us=(Kr,Is)=>{if(U.allowVerticalPlacement&&It.numVerticalGlyphVertices>0&&Bn.verticalTextBox){for(const fo of U.writingModes)if(fo===x.WritingMode.vertical?(Pi=Is(),Jr=Pi):Pi=Kr(),Pi&&Pi.box&&Pi.box.length)break}else Pi=Kr()};if(J.get("text-variable-anchor")){let Kr=J.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[It.crossTileID]){const Zr=this.prevPlacement.variableOffsets[It.crossTileID];Kr.indexOf(Zr.anchor)>0&&(Kr=Kr.filter(ul=>ul!==Zr.anchor),Kr.unshift(Zr.anchor))}const Is=(Zr,ul,dl)=>{const kl=U.getSymbolInstanceTextSize(Qe,It,this.transform.zoom,ri),Vo=(Zr.x2-Zr.x1)*kl+2*Zr.padding,Za=(Zr.y2-Zr.y1)*kl+2*Zr.padding,ld=St&&!wt?ul:null;ld&&ja(ld);let Oa={box:[],offscreen:!1};const To=lt?2*Kr.length:Kr.length;for(let hu=0;hu<To;++hu){const Iu=this.attemptAnchorPlacement(Kr[hu%Kr.length],Zr,Vo,Za,kl,Tt,Vt,ve,ce,pt,hu>=Kr.length,It,ri,U,dl,ld,Qe,Ke);if(Iu&&(Oa=Iu.placedGlyphBoxes,Oa&&Oa.box&&Oa.box.length)){ui=!0,mr=Iu.shift;break}}return Oa};Us(()=>Is(gs,Bn.iconBox,x.WritingMode.horizontal),()=>{const Zr=Bn.verticalTextBox;return Zr&&ja(Zr),U.allowVerticalPlacement&&!(Pi&&Pi.box&&Pi.box.length)&&It.numVerticalGlyphVertices>0&&Zr?Is(Zr,Bn.verticalIconBox,x.WritingMode.vertical):{box:null,offscreen:null}}),Pi&&(ui=Pi.box,Xn=Pi.offscreen);const fo=Hi(Pi&&Pi.box);if(!ui&&this.prevPlacement){const Zr=this.prevPlacement.variableOffsets[It.crossTileID];Zr&&(this.variableOffsets[It.crossTileID]=Zr,this.markUsedJustification(U,Zr.anchor,It,fo))}}else{const Kr=(Is,fo)=>{const Zr=U.getSymbolInstanceTextSize(Qe,It,this.transform.zoom,ri),ul=this.collisionIndex.placeCollisionBox(Zr,Is,new x.pointGeometry(0,0),lt,ve,ce,pt.predicate);return ul&&ul.box&&ul.box.length&&(this.markUsedOrientation(U,fo,It),this.placedOrientations[It.crossTileID]=fo),ul};Us(()=>Kr(gs,x.WritingMode.horizontal),()=>{const Is=Bn.verticalTextBox;return U.allowVerticalPlacement&&It.numVerticalGlyphVertices>0&&Is?(ja(Is),Kr(Is,x.WritingMode.vertical)):{box:null,offscreen:null}}),Hi(Pi&&Pi.box&&Pi.box.length)}}if(hs=Pi,ui=hs&&hs.box&&hs.box.length>0,Xn=hs&&hs.offscreen,It.useRuntimeCollisionCircles){const Hi=U.text.placedSymbolArray.get(It.centerJustifiedTextSymbolIndex>=0?It.centerJustifiedTextSymbolIndex:It.verticalPlacedTextSymbolIndex),Us=x.evaluateSizeForFeature(U.textSizeData,Qe,Hi),Kr=J.get("text-padding");ys=this.collisionIndex.placeCollisionCircles(lt,Hi,U.lineVertexArray,U.glyphOffsetArray,Us,ce,ge,xe,N,Vt,pt.predicate,It.collisionCircleDiameter,Kr,this.retainedQueryData[U.bucketInstanceId].tileID),ui=lt||ys.circles.length>0&&!ys.collisionDetected,Xn=Xn&&ys.offscreen}if(Bn.iconFeatureIndex&&(jl=Bn.iconFeatureIndex),Bn.iconBox){const Hi=Us=>{ja(Us);const Kr=St&&mr?qi(mr.x,mr.y,Tt,Vt,this.transform.angle):new x.pointGeometry(0,0),Is=U.getSymbolInstanceIconSize(Ke,this.transform.zoom,ri);return this.collisionIndex.placeCollisionBox(Is,Us,Kr,wt,ve,ce,pt.predicate)};Jr&&Jr.box&&Jr.box.length&&Bn.verticalIconBox?(Cr=Hi(Bn.verticalIconBox),ti=Cr.box.length>0):(Cr=Hi(Bn.iconBox),ti=Cr.box.length>0),Xn=Xn&&Cr.offscreen}const Ko=xt||0===It.numHorizontalGlyphVertices&&0===It.numVerticalGlyphVertices,Sl=Nt||0===It.numIconVertices;if(Ko||Sl?Sl?Ko||(ti=ti&&ui):ui=ti&&ui:ti=ui=ti&&ui,ui&&hs&&hs.box&&this.collisionIndex.insertCollisionBox(hs.box,J.get("text-ignore-placement"),U.bucketInstanceId,Jr&&Jr.box&&to?to:ks,pt.ID),ti&&Cr&&this.collisionIndex.insertCollisionBox(Cr.box,J.get("icon-ignore-placement"),U.bucketInstanceId,jl,pt.ID),ys&&(ui&&this.collisionIndex.insertCollisionCircles(ys.circles,J.get("text-ignore-placement"),U.bucketInstanceId,ks,pt.ID),N)){const Hi=U.bucketInstanceId;let Us=this.collisionCircleArrays[Hi];void 0===Us&&(Us=this.collisionCircleArrays[Hi]=new Yi);for(let Kr=0;Kr<ys.circles.length;Kr+=4)Us.circles.push(ys.circles[Kr+0]),Us.circles.push(ys.circles[Kr+1]),Us.circles.push(ys.circles[Kr+2]),Us.circles.push(ys.collisionDetected?1:0)}this.placements[It.crossTileID]=new _i(ui||kn,ti||Dn,Xn||U.justReloaded),T[It.crossTileID]=!0};if(Dt){const It=U.getSortedSymbolIndexes(this.transform.angle);for(let ri=It.length-1;ri>=0;--ri){const Bn=It[ri];Nn(U.symbolInstances.get(Bn),Bn,U.collisionArrays[Bn])}}else for(let It=m.symbolInstanceStart;It<m.symbolInstanceEnd;It++)Nn(U.symbolInstances.get(It),It,U.collisionArrays[It]);if(N&&U.bucketInstanceId in this.collisionCircleArrays){const It=this.collisionCircleArrays[U.bucketInstanceId];x.invert(It.invProjMatrix,ce),It.viewportMatrix=this.collisionIndex.getViewportMatrix()}U.justReloaded=!1}markUsedJustification(m,T,N,U){let J;J=U===x.WritingMode.vertical?N.verticalPlacedTextSymbolIndex:{left:N.leftJustifiedTextSymbolIndex,center:N.centerJustifiedTextSymbolIndex,right:N.rightJustifiedTextSymbolIndex}[x.getAnchorJustification(T)];const ce=[N.leftJustifiedTextSymbolIndex,N.centerJustifiedTextSymbolIndex,N.rightJustifiedTextSymbolIndex,N.verticalPlacedTextSymbolIndex];for(const ge of ce)ge>=0&&(m.text.placedSymbolArray.get(ge).crossTileID=J>=0&&ge!==J?0:N.crossTileID)}markUsedOrientation(m,T,N){const U=T===x.WritingMode.horizontal||T===x.WritingMode.horizontalOnly?T:0,J=T===x.WritingMode.vertical?T:0,ce=[N.leftJustifiedTextSymbolIndex,N.centerJustifiedTextSymbolIndex,N.rightJustifiedTextSymbolIndex];for(const ge of ce)m.text.placedSymbolArray.get(ge).placedOrientation=U;N.verticalPlacedTextSymbolIndex&&(m.text.placedSymbolArray.get(N.verticalPlacedTextSymbolIndex).placedOrientation=J)}commit(m){this.commitTime=m,this.zoomAtLastRecencyCheck=this.transform.zoom;const T=this.prevPlacement;let N=!1;this.prevZoomAdjustment=T?T.zoomAdjustment(this.transform.zoom):0;const U=T?T.symbolFadeChange(m):1,J=T?T.opacities:{},ce=T?T.variableOffsets:{},ge=T?T.placedOrientations:{};for(const xe in this.placements){const ve=this.placements[xe],He=J[xe];He?(this.opacities[xe]=new pr(He,U,ve.text,ve.icon),N=N||ve.text!==He.text.placed||ve.icon!==He.icon.placed):(this.opacities[xe]=new pr(null,U,ve.text,ve.icon,ve.skipFade),N=N||ve.text||ve.icon)}for(const xe in J){const ve=J[xe];if(!this.opacities[xe]){const He=new pr(ve,U,!1,!1);He.isHidden()||(this.opacities[xe]=He,N=N||ve.text.placed||ve.icon.placed)}}for(const xe in ce)this.variableOffsets[xe]||!this.opacities[xe]||this.opacities[xe].isHidden()||(this.variableOffsets[xe]=ce[xe]);for(const xe in ge)this.placedOrientations[xe]||!this.opacities[xe]||this.opacities[xe].isHidden()||(this.placedOrientations[xe]=ge[xe]);N?this.lastPlacementChangeTime=m:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=T?T.lastPlacementChangeTime:m)}updateLayerOpacities(m,T){const N={};for(const U of T){const J=U.getBucket(m);J&&U.latestFeatureIndex&&m.id===J.layerIds[0]&&this.updateBucketOpacities(J,N,U.collisionBoxArray)}}updateBucketOpacities(m,T,N){m.hasTextData()&&m.text.opacityVertexArray.clear(),m.hasIconData()&&m.icon.opacityVertexArray.clear(),m.hasIconCollisionBoxData()&&m.iconCollisionBox.collisionVertexArray.clear(),m.hasTextCollisionBoxData()&&m.textCollisionBox.collisionVertexArray.clear();const U=m.layers[0].layout,J=new pr(null,0,!1,!1,!0),ce=U.get("text-allow-overlap"),ge=U.get("icon-allow-overlap"),xe=U.get("text-variable-anchor"),ve="map"===U.get("text-rotation-alignment"),He="map"===U.get("text-pitch-alignment"),qe="none"!==U.get("icon-text-fit"),Qe=new pr(null,0,ce&&(ge||!m.hasIconData()||U.get("icon-optional")),ge&&(ce||!m.hasTextData()||U.get("text-optional")),!0);!m.collisionArrays&&N&&(m.hasIconCollisionBoxData()||m.hasTextCollisionBoxData())&&m.deserializeCollisionBoxes(N);const Ke=(pt,xt,Nt)=>{for(let lt=0;lt<xt/4;lt++)pt.opacityVertexArray.emplaceBack(Nt)};for(let pt=0;pt<m.symbolInstances.length;pt++){const xt=m.symbolInstances.get(pt),{numHorizontalGlyphVertices:Nt,numVerticalGlyphVertices:lt,crossTileID:wt}=xt;let Tt=this.opacities[wt];T[wt]?Tt=J:Tt||(Tt=Qe,this.opacities[wt]=Tt),T[wt]=!0;const Vt=xt.numIconVertices>0,St=this.placedOrientations[xt.crossTileID],Dt=St===x.WritingMode.vertical,kn=St===x.WritingMode.horizontal||St===x.WritingMode.horizontalOnly;if(Nt>0||lt>0){const Dn=rh(Tt.text);Ke(m.text,Nt,Dt?Cl:Dn),Ke(m.text,lt,kn?Cl:Dn);const Nn=Tt.text.isHidden();[xt.rightJustifiedTextSymbolIndex,xt.centerJustifiedTextSymbolIndex,xt.leftJustifiedTextSymbolIndex].forEach(Bn=>{Bn>=0&&(m.text.placedSymbolArray.get(Bn).hidden=Nn||Dt?1:0)}),xt.verticalPlacedTextSymbolIndex>=0&&(m.text.placedSymbolArray.get(xt.verticalPlacedTextSymbolIndex).hidden=Nn||kn?1:0);const It=this.variableOffsets[xt.crossTileID];It&&this.markUsedJustification(m,It.anchor,xt,St);const ri=this.placedOrientations[xt.crossTileID];ri&&(this.markUsedJustification(m,"left",xt,ri),this.markUsedOrientation(m,ri,xt))}if(Vt){const Dn=rh(Tt.icon);xt.placedIconSymbolIndex>=0&&(Ke(m.icon,xt.numIconVertices,Dt?Cl:Dn),m.icon.placedSymbolArray.get(xt.placedIconSymbolIndex).hidden=Tt.icon.isHidden()),xt.verticalPlacedIconSymbolIndex>=0&&(Ke(m.icon,xt.numVerticalIconVertices,kn?Cl:Dn),m.icon.placedSymbolArray.get(xt.verticalPlacedIconSymbolIndex).hidden=Tt.icon.isHidden())}if(m.hasIconCollisionBoxData()||m.hasTextCollisionBoxData()){const Dn=m.collisionArrays[pt];if(Dn){let Nn=new x.pointGeometry(0,0);if(Dn.textBox||Dn.verticalTextBox){let ri=!0;if(xe){const Bn=this.variableOffsets[wt];Bn?(Nn=Cs(Bn.anchor,Bn.width,Bn.height,Bn.textOffset,Bn.textScale),ve&&Nn._rotate(He?this.transform.angle:-this.transform.angle)):ri=!1}Dn.textBox&&Ms(m.textCollisionBox.collisionVertexArray,Tt.text.placed,!ri||Dt,Nn.x,Nn.y),Dn.verticalTextBox&&Ms(m.textCollisionBox.collisionVertexArray,Tt.text.placed,!ri||kn,Nn.x,Nn.y)}const It=Boolean(!kn&&Dn.verticalIconBox);Dn.iconBox&&Ms(m.iconCollisionBox.collisionVertexArray,Tt.icon.placed,It,qe?Nn.x:0,qe?Nn.y:0),Dn.verticalIconBox&&Ms(m.iconCollisionBox.collisionVertexArray,Tt.icon.placed,!It,qe?Nn.x:0,qe?Nn.y:0)}}}if(m.sortFeatures(this.transform.angle),this.retainedQueryData[m.bucketInstanceId]&&(this.retainedQueryData[m.bucketInstanceId].featureSortOrder=m.featureSortOrder),m.hasTextData()&&m.text.opacityVertexBuffer&&m.text.opacityVertexBuffer.updateData(m.text.opacityVertexArray),m.hasIconData()&&m.icon.opacityVertexBuffer&&m.icon.opacityVertexBuffer.updateData(m.icon.opacityVertexArray),m.hasIconCollisionBoxData()&&m.iconCollisionBox.collisionVertexBuffer&&m.iconCollisionBox.collisionVertexBuffer.updateData(m.iconCollisionBox.collisionVertexArray),m.hasTextCollisionBoxData()&&m.textCollisionBox.collisionVertexBuffer&&m.textCollisionBox.collisionVertexBuffer.updateData(m.textCollisionBox.collisionVertexArray),m.bucketInstanceId in this.collisionCircleArrays){const pt=this.collisionCircleArrays[m.bucketInstanceId];m.placementInvProjMatrix=pt.invProjMatrix,m.placementViewportMatrix=pt.viewportMatrix,m.collisionCircleArray=pt.circles,delete this.collisionCircleArrays[m.bucketInstanceId]}}symbolFadeChange(m){return 0===this.fadeDuration?1:(m-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(m){return Math.max(0,(this.transform.zoom-m)/1.5)}hasTransitions(m){return this.stale||m-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(m,T){const N=this.zoomAtLastRecencyCheck===T?1-this.zoomAdjustment(T):1;return this.zoomAtLastRecencyCheck=T,this.commitTime+this.fadeDuration*N>m}setStale(){this.stale=!0}}function Ms(R,m,T,N,U){R.emplaceBack(m?1:0,T?1:0,N||0,U||0),R.emplaceBack(m?1:0,T?1:0,N||0,U||0),R.emplaceBack(m?1:0,T?1:0,N||0,U||0),R.emplaceBack(m?1:0,T?1:0,N||0,U||0)}const Ia=Math.pow(2,25),ga=Math.pow(2,24),ao=Math.pow(2,17),qo=Math.pow(2,16),Ad=Math.pow(2,9),Nl=Math.pow(2,8),Tm=Math.pow(2,1);function rh(R){if(0===R.opacity&&!R.placed)return 0;if(1===R.opacity&&R.placed)return 4294967295;const m=R.placed?1:0,T=Math.floor(127*R.opacity);return T*Ia+m*ga+T*ao+m*qo+T*Ad+m*Nl+T*Tm+m}const Cl=0;class Cp{constructor(m){this._sortAcrossTiles="viewport-y"!==m.layout.get("symbol-z-order")&&void 0!==m.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(m,T,N,U,J){const ce=this._bucketParts;for(;this._currentTileIndex<m.length;)if(T.getBucketParts(ce,U,m[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,J())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,ce.sort((ge,xe)=>ge.sortKey-xe.sortKey));this._currentPartIndex<ce.length;)if(T.placeLayerBucketPart(ce[this._currentPartIndex],this._seenCrossTileIDs,N),this._currentPartIndex++,J())return!0;return!1}}class Id{constructor(m,T,N,U,J,ce,ge,xe){this.placement=new jr(m,J,ce,ge,xe),this._currentPlacementIndex=T.length-1,this._forceFullPlacement=N,this._showCollisionBoxes=U,this._done=!1}isDone(){return this._done}continuePlacement(m,T,N){const U=x.exported.now(),J=()=>{const ce=x.exported.now()-U;return!this._forceFullPlacement&&ce>2};for(;this._currentPlacementIndex>=0;){const ce=T[m[this._currentPlacementIndex]],ge=this.placement.collisionIndex.transform.zoom;if("symbol"===ce.type&&(!ce.minzoom||ce.minzoom<=ge)&&(!ce.maxzoom||ce.maxzoom>ge)){if(this._inProgressLayer||(this._inProgressLayer=new Cp(ce)),this._inProgressLayer.continuePlacement(N[ce.source],this.placement,this._showCollisionBoxes,ce,J))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(m){return this.placement.commit(m),this.placement}}const rf=512/x.EXTENT/2;class ou{constructor(m,T,N){this.tileID=m,this.indexedSymbolInstances={},this.bucketInstanceId=N;for(let U=0;U<T.length;U++){const J=T.get(U),ce=J.key;this.indexedSymbolInstances[ce]||(this.indexedSymbolInstances[ce]=[]),this.indexedSymbolInstances[ce].push({crossTileID:J.crossTileID,coord:this.getScaledCoordinates(J,m)})}}getScaledCoordinates(m,T){const N=rf/Math.pow(2,T.canonical.z-this.tileID.canonical.z);return{x:Math.floor((T.canonical.x*x.EXTENT+m.anchorX)*N),y:Math.floor((T.canonical.y*x.EXTENT+m.anchorY)*N)}}findMatches(m,T,N){const U=this.tileID.canonical.z<T.canonical.z?1:Math.pow(2,this.tileID.canonical.z-T.canonical.z);for(let J=0;J<m.length;J++){const ce=m.get(J);if(ce.crossTileID)continue;const ge=this.indexedSymbolInstances[ce.key];if(!ge)continue;const xe=this.getScaledCoordinates(ce,T);for(const ve of ge)if(Math.abs(ve.coord.x-xe.x)<=U&&Math.abs(ve.coord.y-xe.y)<=U&&!N[ve.crossTileID]){N[ve.crossTileID]=!0,ce.crossTileID=ve.crossTileID;break}}}}class Ts{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Zh{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(m){const T=Math.round((m-this.lng)/360);if(0!==T)for(const N in this.indexes){const U=this.indexes[N],J={};for(const ce in U){const ge=U[ce];ge.tileID=ge.tileID.unwrapTo(ge.tileID.wrap+T),J[ge.tileID.key]=ge}this.indexes[N]=J}this.lng=m}addBucket(m,T,N){if(this.indexes[m.overscaledZ]&&this.indexes[m.overscaledZ][m.key]){if(this.indexes[m.overscaledZ][m.key].bucketInstanceId===T.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(m.overscaledZ,this.indexes[m.overscaledZ][m.key])}for(let J=0;J<T.symbolInstances.length;J++)T.symbolInstances.get(J).crossTileID=0;this.usedCrossTileIDs[m.overscaledZ]||(this.usedCrossTileIDs[m.overscaledZ]={});const U=this.usedCrossTileIDs[m.overscaledZ];for(const J in this.indexes){const ce=this.indexes[J];if(Number(J)>m.overscaledZ)for(const ge in ce){const xe=ce[ge];xe.tileID.isChildOf(m)&&xe.findMatches(T.symbolInstances,m,U)}else{const ge=ce[m.scaledTo(Number(J)).key];ge&&ge.findMatches(T.symbolInstances,m,U)}}for(let J=0;J<T.symbolInstances.length;J++){const ce=T.symbolInstances.get(J);ce.crossTileID||(ce.crossTileID=N.generate(),U[ce.crossTileID]=!0)}return void 0===this.indexes[m.overscaledZ]&&(this.indexes[m.overscaledZ]={}),this.indexes[m.overscaledZ][m.key]=new ou(m,T.symbolInstances,T.bucketInstanceId),!0}removeBucketCrossTileIDs(m,T){for(const N in T.indexedSymbolInstances)for(const U of T.indexedSymbolInstances[N])delete this.usedCrossTileIDs[m][U.crossTileID]}removeStaleBuckets(m){let T=!1;for(const N in this.indexes){const U=this.indexes[N];for(const J in U)m[U[J].bucketInstanceId]||(this.removeBucketCrossTileIDs(N,U[J]),delete U[J],T=!0)}return T}}class sh{constructor(){this.layerIndexes={},this.crossTileIDs=new Ts,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(m,T,N){let U=this.layerIndexes[m.id];void 0===U&&(U=this.layerIndexes[m.id]=new Zh);let J=!1;const ce={};U.handleWrapJump(N);for(const ge of T){const xe=ge.getBucket(m);xe&&m.id===xe.layerIds[0]&&(xe.bucketInstanceId||(xe.bucketInstanceId=++this.maxBucketInstanceId),U.addBucket(ge.tileID,xe,this.crossTileIDs)&&(J=!0),ce[xe.bucketInstanceId]=!0)}return U.removeStaleBuckets(ce)&&(J=!0),J}pruneUnusedLayers(m){const T={};m.forEach(N=>{T[N]=!0});for(const N in this.layerIndexes)T[N]||delete this.layerIndexes[N]}}const Mp=(R,m)=>x.emitValidationErrors(R,m&&m.filter(T=>"source.canvas"!==T.identifier)),nc=x.pick(b,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog"]),oh=x.pick(b,["setCenter","setZoom","setBearing","setPitch"]),zl=function(){const R={},m=x.spec.$version;for(const T in x.spec.$root){const N=x.spec.$root[T];if(N.required){let U=null;U="version"===T?m:"array"===N.type?[]:{},null!=U&&(R[T]=U)}}return R}(),ah={fill:!0,line:!0,background:!0,hillshade:!0,raster:!0};class la extends x.Evented{constructor(m,T={}){super(),this.map=m,this.dispatcher=new vn(Re(),this),this.imageManager=new ar,this.imageManager.setEventedParent(this),this.glyphManager=new x.GlyphManager(m._requestManager,T.localFontFamily?x.LocalGlyphMode.all:T.localIdeographFontFamily?x.LocalGlyphMode.ideographs:x.LocalGlyphMode.none,T.localFontFamily||T.localIdeographFontFamily),this.lineAtlas=new x.LineAtlas(256,512),this.crossTileSymbolIndex=new sh,this._layers={},this._num3DLayers=0,this._numSymbolLayers=0,this._numCircleLayers=0,this._serializedLayers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this.zoomHistory=new x.ZoomHistory,this._loaded=!1,this._availableImages=[],this._order=[],this._drapedFirstOrder=[],this._markersNeedUpdate=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",x.getReferrer());const N=this;this._rtlTextPluginCallback=la.registerForPluginStateChange(U=>{N.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:U.pluginStatus,pluginURL:U.pluginURL},(J,ce)=>{if(x.triggerPluginCompletionEvent(J),ce&&ce.every(ge=>ge))for(const ge in N._sourceCaches){const xe=N._sourceCaches[ge],ve=xe.getSource().type;"vector"!==ve&&"geojson"!==ve||xe.reload()}})}),this.on("data",U=>{if("source"!==U.dataType||"metadata"!==U.sourceDataType)return;const J=this.getSource(U.sourceId);if(J&&J.vectorLayerIds)for(const ce in this._layers){const ge=this._layers[ce];ge.source===J.id&&this._validateLayer(ge)}})}loadURL(m,T={}){this.fire(new x.Event("dataloading",{dataType:"style"}));const N="boolean"==typeof T.validate?T.validate:!x.isMapboxURL(m);m=this.map._requestManager.normalizeStyleURL(m,T.accessToken);const U=this.map._requestManager.transformRequest(m,x.ResourceType.Style);this._request=x.getJSON(U,(J,ce)=>{this._request=null,J?this.fire(new x.ErrorEvent(J)):ce&&this._load(ce,N)})}loadJSON(m,T={}){this.fire(new x.Event("dataloading",{dataType:"style"})),this._request=x.exported.frame(()=>{this._request=null,this._load(m,!1!==T.validate)})}loadEmpty(){this.fire(new x.Event("dataloading",{dataType:"style"})),this._load(zl,!1)}_updateLayerCount(m,T){const N=T?1:-1;m.is3D()&&(this._num3DLayers+=N),"circle"===m.type&&(this._numCircleLayers+=N),"symbol"===m.type&&(this._numSymbolLayers+=N)}_load(m,T){if(T&&Mp(this,x.validateStyle(m)))return;this._loaded=!0,this.stylesheet=m;for(const U in m.sources)this.addSource(U,m.sources[U],{validate:!1});this._changed=!1,m.sprite?this._loadSprite(m.sprite):(this.imageManager.setLoaded(!0),this.dispatcher.broadcast("spriteLoaded",!0)),this.glyphManager.setURL(m.glyphs);const N=f(this.stylesheet.layers);this._order=N.map(U=>U.id),this._layers={},this._serializedLayers={};for(let U of N)U=x.createStyleLayer(U),U.setEventedParent(this,{layer:{id:U.id}}),this._layers[U.id]=U,this._serializedLayers[U.id]=U.serialize(),this._updateLayerCount(U,!0);this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new zi(this.stylesheet.light),this.stylesheet.terrain&&this._createTerrain(this.stylesheet.terrain),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this._updateDrapeFirstLayers(),this.fire(new x.Event("data",{dataType:"style"})),this.fire(new x.Event("style.load"))}_loadSprite(m){this._spriteRequest=function(T,N,U){let J,ce,ge;const xe=x.exported.devicePixelRatio>1?"@2x":"";let ve=x.getJSON(N.transformRequest(N.normalizeSpriteURL(T,xe,".json"),x.ResourceType.SpriteJSON),(Qe,Ke)=>{ve=null,ge||(ge=Qe,J=Ke,qe())}),He=x.getImage(N.transformRequest(N.normalizeSpriteURL(T,xe,".png"),x.ResourceType.SpriteImage),(Qe,Ke)=>{He=null,ge||(ge=Qe,ce=Ke,qe())});function qe(){if(ge)U(ge);else if(J&&ce){const Qe=x.exported.getImageData(ce),Ke={};for(const pt in J){const{width:xt,height:Nt,x:lt,y:wt,sdf:Tt,pixelRatio:Vt,stretchX:St,stretchY:Dt,content:kn}=J[pt],Dn=new x.RGBAImage({width:xt,height:Nt});x.RGBAImage.copy(Qe,Dn,{x:lt,y:wt},{x:0,y:0},{width:xt,height:Nt}),Ke[pt]={data:Dn,pixelRatio:Vt,sdf:Tt,stretchX:St,stretchY:Dt,content:kn}}U(null,Ke)}}return{cancel(){ve&&(ve.cancel(),ve=null),He&&(He.cancel(),He=null)}}}(m,this.map._requestManager,(T,N)=>{if(this._spriteRequest=null,T)this.fire(new x.ErrorEvent(T));else if(N)for(const U in N)this.imageManager.addImage(U,N[U]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.dispatcher.broadcast("spriteLoaded",!0),this.fire(new x.Event("data",{dataType:"style"}))})}_validateLayer(m){const T=this.getSource(m.source);if(!T)return;const N=m.sourceLayer;N&&("geojson"===T.type||T.vectorLayerIds&&-1===T.vectorLayerIds.indexOf(N))&&this.fire(new x.ErrorEvent(new Error(`Source layer "${N}" does not exist on source "${T.id}" as specified by style layer "${m.id}"`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const m in this._sourceCaches)if(!this._sourceCaches[m].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(m){const T=[];for(const N of m){const U=this._layers[N];"custom"!==U.type&&T.push(U.serialize())}return T}hasTransitions(){if(this.light&&this.light.hasTransition()||this.fog&&this.fog.hasTransition())return!0;for(const m in this._sourceCaches)if(this._sourceCaches[m].hasTransition())return!0;for(const m in this._layers)if(this._layers[m].hasTransition())return!0;return!1}get order(){return this.map._optimizeForTerrain&&this.terrain?this._drapedFirstOrder:this._order}isLayerDraped(m){return!!this.terrain&&ah[m.type]}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}update(m){if(!this._loaded)return;const T=this._changed;if(this._changed){const U=Object.keys(this._updatedLayers),J=Object.keys(this._removedLayers);(U.length||J.length)&&this._updateWorkerLayers(U,J);for(const ce in this._updatedSources){const ge=this._updatedSources[ce];"reload"===ge?this._reloadSource(ce):"clear"===ge&&this._clearSource(ce)}this._updateTilesForChangedImages();for(const ce in this._updatedPaintProps)this._layers[ce].updateTransitions(m);this.light.updateTransitions(m),this.fog&&this.fog.updateTransitions(m),this._resetUpdates()}const N={};for(const U in this._sourceCaches){const J=this._sourceCaches[U];N[U]=J.used,J.used=!1}for(const U of this._order){const J=this._layers[U];if(J.recalculate(m,this._availableImages),!J.isHidden(m.zoom)){const ge=this._getLayerSourceCache(J);ge&&(ge.used=!0)}const ce=this.map.painter;if(ce){const ge=J.getProgramIds();if(!ge)continue;const xe=J.getProgramConfiguration(m.zoom);for(const ve of ge)ce.useProgram(ve,xe)}}for(const U in N){const J=this._sourceCaches[U];N[U]!==J.used&&J.getSource().fire(new x.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:J.getSource().id}))}this.light.recalculate(m),this.terrain&&this.terrain.recalculate(m),this.fog&&this.fog.recalculate(m),this.z=m.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),T&&this.fire(new x.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const m=Object.keys(this._changedImages);if(m.length){for(const T in this._sourceCaches)this._sourceCaches[T].reloadTilesForDependencies(["icons","patterns"],m);this._changedImages={}}}_updateWorkerLayers(m,T){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(m),removedIds:T})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setState(m){if(this._checkLoaded(),Mp(this,x.validateStyle(m)))return!1;(m=x.clone$2(m)).layers=f(m.layers);const T=function(U,J){if(!U)return[{command:b.setStyle,args:[J]}];let ce=[];try{if(!Me(U.version,J.version))return[{command:b.setStyle,args:[J]}];Me(U.center,J.center)||ce.push({command:b.setCenter,args:[J.center]}),Me(U.zoom,J.zoom)||ce.push({command:b.setZoom,args:[J.zoom]}),Me(U.bearing,J.bearing)||ce.push({command:b.setBearing,args:[J.bearing]}),Me(U.pitch,J.pitch)||ce.push({command:b.setPitch,args:[J.pitch]}),Me(U.sprite,J.sprite)||ce.push({command:b.setSprite,args:[J.sprite]}),Me(U.glyphs,J.glyphs)||ce.push({command:b.setGlyphs,args:[J.glyphs]}),Me(U.transition,J.transition)||ce.push({command:b.setTransition,args:[J.transition]}),Me(U.light,J.light)||ce.push({command:b.setLight,args:[J.light]}),Me(U.fog,J.fog)||ce.push({command:b.setFog,args:[J.fog]});const ge={},xe=[];!function(qe,Qe,Ke,pt){let xt;for(xt in Qe=Qe||{},qe=qe||{})qe.hasOwnProperty(xt)&&(Qe.hasOwnProperty(xt)||D(xt,Ke,pt));for(xt in Qe)Qe.hasOwnProperty(xt)&&(qe.hasOwnProperty(xt)?Me(qe[xt],Qe[xt])||("geojson"===qe[xt].type&&"geojson"===Qe[xt].type&&F(qe,Qe,xt)?Ke.push({command:b.setGeoJSONSourceData,args:[xt,Qe[xt].data]}):B(xt,Qe,Ke,pt)):S(xt,Qe,Ke))}(U.sources,J.sources,xe,ge);const ve=[];U.layers&&U.layers.forEach(qe=>{ge[qe.source]?ce.push({command:b.removeLayer,args:[qe.id]}):ve.push(qe)});let He=U.terrain;He&&ge[He.source]&&(ce.push({command:b.setTerrain,args:[void 0]}),He=void 0),ce=ce.concat(xe),Me(He,J.terrain)||ce.push({command:b.setTerrain,args:[J.terrain]}),function(qe,Qe,Ke){Qe=Qe||[];const pt=(qe=qe||[]).map(q),xt=Qe.map(q),Nt=qe.reduce(oe,{}),lt=Qe.reduce(oe,{}),wt=pt.slice(),Tt=Object.create(null);let Vt,St,Dt,kn,Dn,Nn,It;for(Vt=0,St=0;Vt<pt.length;Vt++)Dt=pt[Vt],lt.hasOwnProperty(Dt)?St++:(Ke.push({command:b.removeLayer,args:[Dt]}),wt.splice(wt.indexOf(Dt,St),1));for(Vt=0,St=0;Vt<xt.length;Vt++)Dt=xt[xt.length-1-Vt],wt[wt.length-1-Vt]!==Dt&&(Nt.hasOwnProperty(Dt)?(Ke.push({command:b.removeLayer,args:[Dt]}),wt.splice(wt.lastIndexOf(Dt,wt.length-St),1)):St++,Nn=wt[wt.length-Vt],Ke.push({command:b.addLayer,args:[lt[Dt],Nn]}),wt.splice(wt.length-Vt,0,Dt),Tt[Dt]=!0);for(Vt=0;Vt<xt.length;Vt++)if(Dt=xt[Vt],kn=Nt[Dt],Dn=lt[Dt],!Tt[Dt]&&!Me(kn,Dn))if(Me(kn.source,Dn.source)&&Me(kn["source-layer"],Dn["source-layer"])&&Me(kn.type,Dn.type)){for(It in Z(kn.layout,Dn.layout,Ke,Dt,null,b.setLayoutProperty),Z(kn.paint,Dn.paint,Ke,Dt,null,b.setPaintProperty),Me(kn.filter,Dn.filter)||Ke.push({command:b.setFilter,args:[Dt,Dn.filter]}),Me(kn.minzoom,Dn.minzoom)&&Me(kn.maxzoom,Dn.maxzoom)||Ke.push({command:b.setLayerZoomRange,args:[Dt,Dn.minzoom,Dn.maxzoom]}),kn)kn.hasOwnProperty(It)&&"layout"!==It&&"paint"!==It&&"filter"!==It&&"metadata"!==It&&"minzoom"!==It&&"maxzoom"!==It&&(0===It.indexOf("paint.")?Z(kn[It],Dn[It],Ke,Dt,It.slice(6),b.setPaintProperty):Me(kn[It],Dn[It])||Ke.push({command:b.setLayerProperty,args:[Dt,It,Dn[It]]}));for(It in Dn)Dn.hasOwnProperty(It)&&!kn.hasOwnProperty(It)&&"layout"!==It&&"paint"!==It&&"filter"!==It&&"metadata"!==It&&"minzoom"!==It&&"maxzoom"!==It&&(0===It.indexOf("paint.")?Z(kn[It],Dn[It],Ke,Dt,It.slice(6),b.setPaintProperty):Me(kn[It],Dn[It])||Ke.push({command:b.setLayerProperty,args:[Dt,It,Dn[It]]}))}else Ke.push({command:b.removeLayer,args:[Dt]}),Nn=wt[wt.lastIndexOf(Dt)+1],Ke.push({command:b.addLayer,args:[Dn,Nn]})}(ve,J.layers,ce)}catch(ge){console.warn("Unable to compute style diff:",ge),ce=[{command:b.setStyle,args:[J]}]}return ce}(this.serialize(),m).filter(U=>!(U.command in oh));if(0===T.length)return!1;const N=T.filter(U=>!(U.command in nc));if(N.length>0)throw new Error(`Unimplemented: ${N.map(U=>U.command).join(", ")}.`);return T.forEach(U=>{"setTransition"!==U.command&&this[U.command].apply(this,U.args)}),this.stylesheet=m,!0}addImage(m,T){if(this.getImage(m))return this.fire(new x.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(m,T),this._afterImageUpdated(m)}updateImage(m,T){this.imageManager.updateImage(m,T)}getImage(m){return this.imageManager.getImage(m)}removeImage(m){if(!this.getImage(m))return this.fire(new x.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(m),this._afterImageUpdated(m)}_afterImageUpdated(m){this._availableImages=this.imageManager.listImages(),this._changedImages[m]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new x.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(m,T,N={}){if(this._checkLoaded(),void 0!==this.getSource(m))throw new Error("There is already a source with this ID");if(!T.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(T).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(T.type)>=0&&this._validate(x.validateStyle.source,`sources.${m}`,T,null,N))return;this.map&&this.map._collectResourceTiming&&(T.collectResourceTiming=!0);const U=$e(m,T,this.dispatcher,this);U.setEventedParent(this,()=>({isSourceLoaded:this.loaded(),source:U.serialize(),sourceId:m}));const J=ce=>{const ge=(ce?"symbol:":"other:")+m,xe=this._sourceCaches[ge]=new x.SourceCache(ge,U,ce);(ce?this._symbolSourceCaches:this._otherSourceCaches)[m]=xe,xe.style=this,xe.onAdd(this.map)};J(!1),"vector"!==T.type&&"geojson"!==T.type||J(!0),U.onAdd&&U.onAdd(this.map),this._changed=!0}removeSource(m){this._checkLoaded();const T=this.getSource(m);if(void 0===T)throw new Error("There is no source with this ID");for(const U in this._layers)if(this._layers[U].source===m)return this.fire(new x.ErrorEvent(new Error(`Source "${m}" cannot be removed while layer "${U}" is using it.`)));if(this.terrain&&this.terrain.get().source===m)return this.fire(new x.ErrorEvent(new Error(`Source "${m}" cannot be removed while terrain is using it.`)));const N=this._getSourceCaches(m);for(const U of N)delete this._sourceCaches[U.id],delete this._updatedSources[U.id],U.fire(new x.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:U.getSource().id})),U.setEventedParent(null),U.clearTiles();delete this._otherSourceCaches[m],delete this._symbolSourceCaches[m],T.setEventedParent(null),T.onRemove&&T.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(m,T){this._checkLoaded(),this.getSource(m).setData(T),this._changed=!0}getSource(m){const T=this._getSourceCache(m);return T&&T.getSource()}addLayer(m,T,N={}){this._checkLoaded();const U=m.id;if(this.getLayer(U))return void this.fire(new x.ErrorEvent(new Error(`Layer with id "${U}" already exists on this map`)));let J;if("custom"===m.type){if(Mp(this,x.validateCustomStyleLayer(m)))return;J=x.createStyleLayer(m)}else{if("object"==typeof m.source&&(this.addSource(U,m.source),m=x.clone$2(m),m=x.extend(m,{source:U})),this._validate(x.validateStyle.layer,`layers.${U}`,m,{arrayIndex:-1},N))return;J=x.createStyleLayer(m),this._validateLayer(J),J.setEventedParent(this,{layer:{id:U}}),this._serializedLayers[J.id]=J.serialize(),this._updateLayerCount(J,!0)}const ce=T?this._order.indexOf(T):this._order.length;if(T&&-1===ce)return void this.fire(new x.ErrorEvent(new Error(`Layer with id "${T}" does not exist on this map.`)));this._order.splice(ce,0,U),this._layerOrderChanged=!0,this._layers[U]=J;const ge=this._getLayerSourceCache(J);if(this._removedLayers[U]&&J.source&&ge&&"custom"!==J.type){const xe=this._removedLayers[U];delete this._removedLayers[U],xe.type!==J.type?this._updatedSources[J.source]="clear":(this._updatedSources[J.source]="reload",ge.pause())}this._updateLayer(J),J.onAdd&&J.onAdd(this.map),this._updateDrapeFirstLayers()}moveLayer(m,T){if(this._checkLoaded(),this._changed=!0,!this._layers[m])return void this.fire(new x.ErrorEvent(new Error(`The layer '${m}' does not exist in the map's style and cannot be moved.`)));if(m===T)return;const N=this._order.indexOf(m);this._order.splice(N,1);const U=T?this._order.indexOf(T):this._order.length;T&&-1===U?this.fire(new x.ErrorEvent(new Error(`Layer with id "${T}" does not exist on this map.`))):(this._order.splice(U,0,m),this._layerOrderChanged=!0,this._updateDrapeFirstLayers())}removeLayer(m){this._checkLoaded();const T=this._layers[m];if(!T)return void this.fire(new x.ErrorEvent(new Error(`The layer '${m}' does not exist in the map's style and cannot be removed.`)));T.setEventedParent(null),this._updateLayerCount(T,!1);const N=this._order.indexOf(m);this._order.splice(N,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[m]=T,delete this._layers[m],delete this._serializedLayers[m],delete this._updatedLayers[m],delete this._updatedPaintProps[m],T.onRemove&&T.onRemove(this.map),this._updateDrapeFirstLayers()}getLayer(m){return this._layers[m]}hasLayer(m){return m in this._layers}hasLayerType(m){for(const T in this._layers)if(this._layers[T].type===m)return!0;return!1}setLayerZoomRange(m,T,N){this._checkLoaded();const U=this.getLayer(m);U?U.minzoom===T&&U.maxzoom===N||(null!=T&&(U.minzoom=T),null!=N&&(U.maxzoom=N),this._updateLayer(U)):this.fire(new x.ErrorEvent(new Error(`The layer '${m}' does not exist in the map's style and cannot have zoom extent.`)))}setFilter(m,T,N={}){this._checkLoaded();const U=this.getLayer(m);if(U){if(!Me(U.filter,T))return null==T?(U.filter=void 0,void this._updateLayer(U)):void(this._validate(x.validateStyle.filter,`layers.${U.id}.filter`,T,null,N)||(U.filter=x.clone$2(T),this._updateLayer(U)))}else this.fire(new x.ErrorEvent(new Error(`The layer '${m}' does not exist in the map's style and cannot be filtered.`)))}getFilter(m){return x.clone$2(this.getLayer(m).filter)}setLayoutProperty(m,T,N,U={}){this._checkLoaded();const J=this.getLayer(m);J?Me(J.getLayoutProperty(T),N)||(J.setLayoutProperty(T,N,U),this._updateLayer(J)):this.fire(new x.ErrorEvent(new Error(`The layer '${m}' does not exist in the map's style and cannot be styled.`)))}getLayoutProperty(m,T){const N=this.getLayer(m);if(N)return N.getLayoutProperty(T);this.fire(new x.ErrorEvent(new Error(`The layer '${m}' does not exist in the map's style.`)))}setPaintProperty(m,T,N,U={}){this._checkLoaded();const J=this.getLayer(m);J?Me(J.getPaintProperty(T),N)||(J.setPaintProperty(T,N,U)&&this._updateLayer(J),this._changed=!0,this._updatedPaintProps[m]=!0):this.fire(new x.ErrorEvent(new Error(`The layer '${m}' does not exist in the map's style and cannot be styled.`)))}getPaintProperty(m,T){return this.getLayer(m).getPaintProperty(T)}setFeatureState(m,T){this._checkLoaded();const N=m.source,U=m.sourceLayer,J=this.getSource(N);if(void 0===J)return void this.fire(new x.ErrorEvent(new Error(`The source '${N}' does not exist in the map's style.`)));const ce=J.type;if("geojson"===ce&&U)return void this.fire(new x.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if("vector"===ce&&!U)return void this.fire(new x.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));void 0===m.id&&this.fire(new x.ErrorEvent(new Error("The feature id parameter must be provided.")));const ge=this._getSourceCaches(N);for(const xe of ge)xe.setFeatureState(U,m.id,T)}removeFeatureState(m,T){this._checkLoaded();const N=m.source,U=this.getSource(N);if(void 0===U)return void this.fire(new x.ErrorEvent(new Error(`The source '${N}' does not exist in the map's style.`)));const J=U.type,ce="vector"===J?m.sourceLayer:void 0;if("vector"===J&&!ce)return void this.fire(new x.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));if(T&&"string"!=typeof m.id&&"number"!=typeof m.id)return void this.fire(new x.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));const ge=this._getSourceCaches(N);for(const xe of ge)xe.removeFeatureState(ce,m.id,T)}getFeatureState(m){this._checkLoaded();const T=m.source,N=m.sourceLayer,U=this.getSource(T);if(void 0!==U){if("vector"!==U.type||N)return void 0===m.id&&this.fire(new x.ErrorEvent(new Error("The feature id parameter must be provided."))),this._getSourceCaches(T)[0].getFeatureState(N,m.id);this.fire(new x.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new x.ErrorEvent(new Error(`The source '${T}' does not exist in the map's style.`)))}getTransition(){return x.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){const m={};for(const T in this._sourceCaches){const N=this._sourceCaches[T].getSource();m[N.id]||(m[N.id]=N.serialize())}return x.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,terrain:this.stylesheet.terrain,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:m,layers:this._serializeLayers(this._order)},T=>void 0!==T)}_updateLayer(m){this._updatedLayers[m.id]=!0;const T=this._getLayerSourceCache(m);m.source&&!this._updatedSources[m.source]&&T&&"raster"!==T.getSource().type&&(this._updatedSources[m.source]="reload",T.pause()),this._changed=!0}_flattenAndSortRenderedFeatures(m){const T=ce=>"fill-extrusion"===this._layers[ce].type,N={},U=[];for(let ce=this._order.length-1;ce>=0;ce--){const ge=this._order[ce];if(T(ge)){N[ge]=ce;for(const xe of m){const ve=xe[ge];if(ve)for(const He of ve)U.push(He)}}}U.sort((ce,ge)=>ge.intersectionZ-ce.intersectionZ);const J=[];for(let ce=this._order.length-1;ce>=0;ce--){const ge=this._order[ce];if(T(ge))for(let xe=U.length-1;xe>=0;xe--){const ve=U[xe].feature;if(N[ve.layer.id]<ce)break;J.push(ve),U.pop()}else for(const xe of m){const ve=xe[ge];if(ve)for(const He of ve)J.push(He.feature)}}return J}queryRenderedFeatures(m,T,N){T&&T.filter&&this._validate(x.validateStyle.filter,"queryRenderedFeatures.filter",T.filter,null,T);const U={};if(T&&T.layers){if(!Array.isArray(T.layers))return this.fire(new x.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const xe of T.layers){const ve=this._layers[xe];if(!ve)return this.fire(new x.ErrorEvent(new Error(`The layer '${xe}' does not exist in the map's style and cannot be queried for features.`))),[];U[ve.source]=!0}}const J=[];T.availableImages=this._availableImages;const ce=T&&T.layers?T.layers.some(xe=>{const ve=this.getLayer(xe);return ve&&ve.is3D()}):this.has3DLayers(),ge=Bi.createFromScreenPoints(m,N);for(const xe in this._sourceCaches){const ve=this._sourceCaches[xe].getSource().id;T.layers&&!U[ve]||J.push(Ct(this._sourceCaches[xe],this._layers,this._serializedLayers,ge,T,N,ce,!!this.map._showQueryGeometry))}return this.placement&&J.push(function(xe,ve,He,qe,Qe,Ke,pt){const xt={},Nt=Ke.queryRenderedSymbols(qe),lt=[];for(const wt of Object.keys(Nt).map(Number))lt.push(pt[wt]);lt.sort(Pt);for(const wt of lt){const Tt=wt.featureIndex.lookupSymbolFeatures(Nt[wt.bucketInstanceId],ve,wt.bucketIndex,wt.sourceLayerIndex,Qe.filter,Qe.layers,Qe.availableImages,xe);for(const Vt in Tt){const St=xt[Vt]=xt[Vt]||[],Dt=Tt[Vt];Dt.sort((kn,Dn)=>{const Nn=wt.featureSortOrder;if(Nn){const It=Nn.indexOf(kn.featureIndex);return Nn.indexOf(Dn.featureIndex)-It}return Dn.featureIndex-kn.featureIndex});for(const kn of Dt)St.push(kn)}}for(const wt in xt)xt[wt].forEach(Tt=>{const Vt=Tt.feature,St=He(xe[wt]).getFeatureState(Vt.layer["source-layer"],Vt.id);Vt.source=Vt.layer.source,Vt.layer["source-layer"]&&(Vt.sourceLayer=Vt.layer["source-layer"]),Vt.state=St});return xt}(this._layers,this._serializedLayers,this._getLayerSourceCache.bind(this),ge.screenGeometry,T,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(J)}querySourceFeatures(m,T){T&&T.filter&&this._validate(x.validateStyle.filter,"querySourceFeatures.filter",T.filter,null,T);const N=this._getSourceCaches(m);let U=[];for(const J of N)U=U.concat(Bt(J,T));return U}addSourceType(m,T,N){return la.getSourceType(m)?N(new Error(`A source type called "${m}" already exists.`)):(la.setSourceType(m,T),T.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:m,url:T.workerSourceURL},N):N(null,null))}getLight(){return this.light.getLight()}setLight(m,T={}){this._checkLoaded();const N=this.light.getLight();let U=!1;for(const ce in m)if(!Me(m[ce],N[ce])){U=!0;break}if(!U)return;const J={now:x.exported.now(),transition:x.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(m,T),this.light.updateTransitions(J)}getTerrain(){return this.terrain?this.terrain.get():null}setTerrain(m){if(this._checkLoaded(),!m)return delete this.terrain,delete this.stylesheet.terrain,this.dispatcher.broadcast("enableTerrain",!1),this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);if("object"==typeof m.source){const T="terrain-dem-src";this.addSource(T,m.source),m=x.clone$2(m),m=x.extend(m,{source:T})}if(!this._validate(x.validateStyle.terrain,"terrain",m)){if(this.terrain){const T=this.terrain,N=T.get();for(const U in m)if(!Me(m[U],N[U])){T.set(m),this.stylesheet.terrain=m;const J={now:x.exported.now(),transition:x.extend({duration:0},this.stylesheet.transition)};T.updateTransitions(J);break}}else this._createTerrain(m);this._updateDrapeFirstLayers(),this._markersNeedUpdate=!0}}_createFog(m){const T=this.fog=new Yn(m);this.stylesheet.fog=m;const N={now:x.exported.now(),transition:x.extend({duration:0},this.stylesheet.transition)};T.updateTransitions(N)}_updateMarkersOpacity(){0!==this.map._markers.length&&this.map._requestDomTask(()=>{for(const m of this.map._markers)m._evaluateOpacity()})}getFog(){return this.fog?this.fog.get():null}setFog(m){if(this._checkLoaded(),!m)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const T=this.fog,N=T.get();for(const U in m)if(!Me(m[U],N[U])){T.set(m),this.stylesheet.fog=m;const J={now:x.exported.now(),transition:x.extend({duration:0},this.stylesheet.transition)};T.updateTransitions(J);break}}else this._createFog(m);this._markersNeedUpdate=!0}_updateDrapeFirstLayers(){if(!this.map._optimizeForTerrain||!this.terrain)return;const m=this._order.filter(N=>this.isLayerDraped(this._layers[N])),T=this._order.filter(N=>!this.isLayerDraped(this._layers[N]));this._drapedFirstOrder=[],this._drapedFirstOrder.push(...m),this._drapedFirstOrder.push(...T)}_createTerrain(m){const T=this.terrain=new Yr(m);this.stylesheet.terrain=m,this.dispatcher.broadcast("enableTerrain",!0),this._force3DLayerUpdate();const N={now:x.exported.now(),transition:x.extend({duration:0},this.stylesheet.transition)};T.updateTransitions(N)}_force3DLayerUpdate(){for(const m in this._layers){const T=this._layers[m];"fill-extrusion"===T.type&&this._updateLayer(T)}}_validate(m,T,N,U,J={}){return(!J||!1!==J.validate)&&Mp(this,m.call(x.validateStyle,x.extend({key:T,style:this.serialize(),value:N,styleSpec:x.spec},U)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),x.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const m in this._layers)this._layers[m].setEventedParent(null);for(const m in this._sourceCaches)this._sourceCaches[m].clearTiles(),this._sourceCaches[m].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(m){const T=this._getSourceCaches(m);for(const N of T)N.clearTiles()}_reloadSource(m){const T=this._getSourceCaches(m);for(const N of T)N.resume(),N.reload()}_updateSources(m){for(const T in this._sourceCaches)this._sourceCaches[T].update(m)}_generateCollisionBoxes(){for(const m in this._sourceCaches){const T=this._sourceCaches[m];T.resume(),T.reload()}}_updatePlacement(m,T,N,U,J=!1){let ce=!1,ge=!1;const xe={};for(const ve of this._order){const He=this._layers[ve];if("symbol"!==He.type)continue;if(!xe[He.source]){const Qe=this._getLayerSourceCache(He);if(!Qe)continue;xe[He.source]=Qe.getRenderableIds(!0).map(Ke=>Qe.getTileByID(Ke)).sort((Ke,pt)=>pt.tileID.overscaledZ-Ke.tileID.overscaledZ||(Ke.tileID.isLessThan(pt.tileID)?-1:1))}const qe=this.crossTileSymbolIndex.addLayer(He,xe[He.source],m.center.lng);ce=ce||qe}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),J=J||this._layerOrderChanged||0===N,this._layerOrderChanged&&this.fire(new x.Event("neworder")),(J||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(x.exported.now(),m.zoom))&&(this.pauseablePlacement=new Id(m,this._order,J,T,N,U,this.placement,this.fog?this.fog.state:null),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,xe),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(x.exported.now()),ge=!0),ce&&this.pauseablePlacement.placement.setStale()),ge||ce)for(const ve of this._order){const He=this._layers[ve];"symbol"===He.type&&this.placement.updateLayerOpacities(He,xe[He.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(x.exported.now())}_releaseSymbolFadeTiles(){for(const m in this._sourceCaches)this._sourceCaches[m].releaseSymbolFadeTiles()}getImages(m,T,N){this.imageManager.getImages(T.icons,N),this._updateTilesForChangedImages();const U=J=>{J&&J.setDependencies(T.tileID.key,T.type,T.icons)};U(this._otherSourceCaches[T.source]),U(this._symbolSourceCaches[T.source])}getGlyphs(m,T,N){this.glyphManager.getGlyphs(T.stacks,N)}getResource(m,T,N){return x.makeRequest(T,N)}_getSourceCache(m){return this._otherSourceCaches[m]}_getLayerSourceCache(m){return"symbol"===m.type?this._symbolSourceCaches[m.source]:this._otherSourceCaches[m.source]}_getSourceCaches(m){const T=[];return this._otherSourceCaches[m]&&T.push(this._otherSourceCaches[m]),this._symbolSourceCaches[m]&&T.push(this._symbolSourceCaches[m]),T}has3DLayers(){return this._num3DLayers>0}hasSymbolLayers(){return this._numSymbolLayers>0}hasCircleLayers(){return this._numCircleLayers>0}}la.getSourceType=function(R){return Ye[R]},la.setSourceType=function(R,m){Ye[R]=m},la.registerForPluginStateChange=x.registerForPluginStateChange;var Tp="\n#define EPSILON 0.0000001\n#define PI 3.141592653589793\n#ifdef FOG\nuniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;varying vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}\n#endif",Ss="attribute highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;varying highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}";let zs={},Ji={};zs=Or("","\n#define ELEVATION_SCALE 7.0\n#define ELEVATION_OFFSET 450.0\n#ifdef TERRAIN\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nuniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;\n#else\nuniform sampler2D u_dem;uniform sampler2D u_dem_prev;\n#endif\nuniform vec4 u_dem_unpack;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float decodeElevation(vec4 v) {return dot(vec4(v.xyz*255.0,-1.0),u_dem_unpack);}float currentElevation(vec2 apos) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem,pos).a;\n#else\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem,pos));\n#ifdef TERRAIN_DEM_NEAREST_FILTER\nreturn u_exaggeration*tl;\n#endif\nfloat tr=decodeElevation(texture2D(u_dem,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\n#endif\n}float prevElevation(vec2 apos) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem_prev,pos).a;\n#else\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem_prev,pos));float tr=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem_prev,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\n#endif\n}\n#ifdef TERRAIN_VERTEX_MORPHING\nfloat elevation(vec2 apos) {float nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}\n#else\nfloat elevation(vec2 apos) {return currentElevation(apos);}\n#endif\nfloat unpack_depth(vec4 rgba_depth)\n{const vec4 bit_shift=vec4(1.0/(256.0*256.0*256.0),1.0/(256.0*256.0),1.0/256.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture2D(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(\nunpack_depth(texture2D(u_depth,uv-df.xz)),unpack_depth(texture2D(u_depth,uv+df.xz)),unpack_depth(texture2D(u_depth,uv-df.zy)),unpack_depth(texture2D(u_depth,uv+df.zy))\n);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nfloat tl=texture2D(u_dem,pos).a;float tr=texture2D(u_dem,pos+vec2(off.x,0.0)).a;float bl=texture2D(u_dem,pos+vec2(0.0,off.y)).a;float br=texture2D(u_dem,pos+off).a;\n#else\nvec4 demtl=vec4(texture2D(u_dem,pos).xyz*255.0,-1.0);float tl=dot(demtl,u_dem_unpack);vec4 demtr=vec4(texture2D(u_dem,pos+vec2(off.x,0.0)).xyz*255.0,-1.0);float tr=dot(demtr,u_dem_unpack);vec4 dembl=vec4(texture2D(u_dem,pos+vec2(0.0,off.y)).xyz*255.0,-1.0);float bl=dot(dembl,u_dem_unpack);vec4 dembr=vec4(texture2D(u_dem,pos+off).xyz*255.0,-1.0);float br=dot(dembr,u_dem_unpack);\n#endif\nreturn vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;vec4 bounds=vec4(d,vec2(1.0)-d);h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}\n#else\nfloat elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }\n#endif",!0),Ji=Or("#ifdef FOG\nuniform float u_fog_temporal_offset;float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);return mix(color,u_fog_color.rgb,opacity);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec3 fog_dither(vec3 color) {vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}\n#endif","#ifdef FOG\nuniform mat4 u_fog_matrix;vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}\n#endif",!0);const ic=Or("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nhighp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(\nunpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);//Normalized device coordinate that is not rendered."),lh=Tp;var Ld={background:Or("uniform vec4 u_color;uniform float u_opacity;void main() {vec4 out_color=u_color;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),backgroundPattern:Or("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_mix);\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),circle:Or("varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(\nantialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)\n);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef FOG\nout_color=fog_apply_premultiplied(out_color,v_fog_pos);\n#endif\ngl_FragColor=out_color*(v_visibility*opacity_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","#define NUM_VISIBILITY_RINGS 2\n#define INV_SQRT2 0.70710678\n#define ELEVATION_BIAS 0.0001\n#define NUM_SAMPLES_PER_RING 16\nuniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {\n#if defined(TERRAIN)\nreturn elevation(pos)+ELEVATION_BIAS;\n#else\nreturn 0.0;\n#endif\n}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);\n#ifdef PITCH_WITH_MAP\nreturn u_matrix*( world_center+vec4(sample_offset,0,0) );\n#else\nreturn projected_center+vec4(sample_offset,0,0);\n#endif\n}float get_sample_step() {\n#ifdef PITCH_WITH_MAP\nreturn 2.0*PI/float(NUM_SAMPLES_PER_RING);\n#else\nreturn PI/float(NUM_SAMPLES_PER_RING);\n#endif\n}void main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float height=circle_elevation(circle_center);vec4 world_center=vec4(circle_center,height,1);vec4 projected_center=u_matrix*world_center;float view_scale=0.0;\n#ifdef PITCH_WITH_MAP\n#ifdef SCALE_WITH_MAP\nview_scale=1.0;\n#else\nview_scale=projected_center.w/u_camera_to_center_distance;\n#endif\n#else\n#ifdef SCALE_WITH_MAP\nview_scale=u_camera_to_center_distance;\n#else\nview_scale=projected_center.w;\n#endif\n#endif\ngl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale);float visibility=0.0;\n#ifdef TERRAIN\nfloat step=get_sample_step();\n#ifdef PITCH_WITH_MAP\nfloat cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);vec4 occlusion_world_center=vec4(circle_center,cantilevered_height,1);vec4 occlusion_projected_center=u_matrix*occlusion_world_center;\n#else\nvec4 occlusion_world_center=world_center;vec4 occlusion_projected_center=projected_center;\n#endif\nfor(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);\n#else\nvisibility=1.0;\n#endif\nv_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);\n#ifdef FOG\nv_fog_pos=fog_position(world_center.xyz);\n#endif\n}"),clippingMask:Or("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:Or("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef FOG\ngl_FragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec3 pos=vec3(floor(a_pos*0.5)+extrude,elevation(floor(a_pos*0.5)));gl_Position=u_matrix*vec4(pos,1);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),heatmapTexture:Or("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:Or("varying float v_placed;varying float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);gl_FragColor =mix(red,blue,step(0.5,v_placed))*0.5;gl_FragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;attribute float a_size_scale;attribute vec2 a_padding;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,elevation(a_anchor_pos),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=u_matrix*vec4(a_pos,elevation(a_pos),1.0);gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:Or("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos_2f;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(\nmix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:Or("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);}"),fill:Or("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\nvec4 out_color=color;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillOutline:Or("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillOutlinePattern:Or("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=mix(color1,color2,u_fade);\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillPattern:Or("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_fade);\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillExtrusion:Or("varying vec4 v_color;void main() {vec4 color=v_color;\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 pos_nx=floor(a_pos_normal_ed.xyz*0.5);mediump vec3 top_up_ny=a_pos_normal_ed.xyz-2.0*pos_nx;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;\n#ifdef TERRAIN\nvec2 centroid_pos=a_centroid_pos;bool flat_roof=centroid_pos.x !=0.0;float ele=elevation(pos_nx.xy);float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);float c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;float h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);vec3 pos=vec3(pos_nx.xy,h);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);\n#else\nvec3 pos=vec3(pos_nx.xy,t > 0.0 ? height : base);gl_Position=u_matrix*vec4(pos,1);\n#endif\nfloat colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=(\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.rgb+=clamp(color.rgb*directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_color*=u_opacity;\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),fillExtrusionPattern:Or("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_fade);out_color=out_color*v_lighting;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 pos_nx=floor(a_pos_normal_ed.xyz*0.5);mediump vec3 top_up_ny=a_pos_normal_ed.xyz-2.0*pos_nx;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;\n#ifdef TERRAIN\nvec2 centroid_pos=a_centroid_pos;bool flat_roof=centroid_pos.x !=0.0;float ele=elevation(pos_nx.xy);float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);float c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;float h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);vec3 p=vec3(pos_nx.xy,h);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);\n#else\nvec3 p=vec3(pos_nx.xy,z);gl_Position=u_matrix*vec4(p,1);\n#endif\nvec2 pos=normal.z==1.0\n? pos_nx.xy\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=(\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;\n#ifdef FOG\nv_fog_pos=fog_position(p);\n#endif\n}"),hillshadePrepare:Or("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nreturn texture2D(u_image,coord).a/4.0;\n#else\nvec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;\n#endif\n}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos);float f=getElevation(v_pos+vec2(epsilon.x,0));float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float h=getElevation(v_pos+vec2(0,epsilon.y));float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(\n(c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c)\n)/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(\nderiv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Or("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef FOG\ngl_FragColor=fog_dither(fog_apply_premultiplied(gl_FragColor,v_fog_pos));\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),line:Or("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 out_color=color;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\nv_width2=vec2(outset,inset);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),lineGradient:Or("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\nv_width2=vec2(outset,inset);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),linePattern:Or("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\nv_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),lineSDF:Or("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_mix;uniform vec3 u_scale;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 dash_from\n#pragma mapbox: define lowp vec4 dash_to\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 dash_from\n#pragma mapbox: initialize mediump vec4 dash_to\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);float sdfwidth=min(dash_from.z*u_scale.y,dash_to.z*u_scale.z);float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/sdfwidth;alpha*=smoothstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);vec4 out_color=color;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define EXTRUDE_SCALE 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform vec2 u_texsize;uniform mediump vec3 u_scale;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 dash_from\n#pragma mapbox: define lowp vec4 dash_to\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 dash_from\n#pragma mapbox: initialize mediump vec4 dash_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\nfloat tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;float scaleA=dash_from.z==0.0 ? 0.0 : tileZoomRatio/(dash_from.z*fromScale);float scaleB=dash_to.z==0.0 ? 0.0 : tileZoomRatio/(dash_to.z*toScale);float heightA=dash_from.y;float heightB=dash_to.y;v_tex_a=vec2(a_linesofar*scaleA/floorwidth,(-normal.y*heightA+dash_from.x+0.5)/u_texsize.y);v_tex_b=vec2(a_linesofar*scaleB/floorwidth,(-normal.y*heightB+dash_to.x+0.5)/u_texsize.y);v_width2=vec2(outset,inset);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),raster:Or("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(\ndot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);\n#ifdef FOG\nout_color=fog_dither(fog_apply(out_color,v_fog_pos));\n#endif\ngl_FragColor=vec4(out_color*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),symbolIcon:Or("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}float h=elevation(a_pos);vec4 projectedPoint=u_matrix*vec4(a_pos,h,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),h,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h,1.0);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0);\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\nfloat occlusion_fade=occlusionFade(projectedPoint);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projectedPoint.w <=0.0 || occlusion_fade==0.0));v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));}"),symbolSDF:Or("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}float h=elevation(a_pos);vec4 projectedPoint=u_matrix*vec4(a_pos,h,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),h,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h,1.0);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\nfloat occlusion_fade=occlusionFade(projectedPoint);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projectedPoint.w <=0.0 || occlusion_fade==0.0));float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),symbolTextAndIcon:Or("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}float h=elevation(a_pos);vec4 projectedPoint=u_matrix*vec4(a_pos,h,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),h,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h,1.0);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale);\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\nfloat occlusion_fade=occlusionFade(projectedPoint);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projectedPoint.w <=0.0 || occlusion_fade==0.0));float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}"),terrainRaster:Or("uniform sampler2D u_image0;varying vec2 v_pos0;\n#ifdef FOG\nvarying float v_fog_opacity;\n#endif\nvoid main() {vec4 color=texture2D(u_image0,v_pos0);\n#ifdef FOG\ncolor=fog_dither(fog_apply_from_vert(color,v_fog_opacity));\n#endif\ngl_FragColor=color;\n#ifdef TERRAIN_WIREFRAME\ngl_FragColor=vec4(1.0,0.0,0.0,0.8);\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_skirt_height;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;\n#ifdef FOG\nvarying float v_fog_opacity;\n#endif\nconst float skirtOffset=24575.0;const float wireframeOffset=0.00015;void main() {v_pos0=a_texture_pos/8192.0;float skirt=float(a_pos.x >=skirtOffset);float elevation=elevation(a_texture_pos)-skirt*u_skirt_height;\n#ifdef TERRAIN_WIREFRAME\nelevation+=u_skirt_height*u_skirt_height*wireframeOffset;\n#endif\nvec2 decodedPos=a_pos-vec2(skirt*skirtOffset,0.0);gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);\n#ifdef FOG\nv_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));\n#endif\n}"),terrainDepth:Or("#ifdef GL_ES\nprecision highp float;\n#endif\nvec4 pack_depth(float ndc_z) {float depth=ndc_z*0.5+0.5;const vec4 bit_shift=vec4(256.0*256.0*256.0,256.0*256.0,256.0,1.0);const vec4 bit_mask =vec4(0.0,1.0/256.0,1.0/256.0,1.0/256.0);vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}varying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying float v_depth;void main() {float elevation=elevation(a_texture_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}"),skybox:Or("\nvarying lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(\ncos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=textureCube(u_cubemap,uv).rgb;\n#ifdef FOG\nsky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);\n#endif\nsky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);gl_FragColor=vec4(sky_color*u_opacity,u_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}",Ss),skyboxGradient:Or("varying highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture2D(u_color_ramp,vec2(progress,0.5));\n#ifdef FOG\ncolor.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;\n#endif\ncolor*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}",Ss),skyboxCapture:Or("\nvarying highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;\n#ifdef GL_ES\nprecision highp float;\n#endif\n#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)\n#define BETA_M                  vec3(21e-6,21e-6,21e-6)\n#define MIE_G                   0.76\n#define DENSITY_HEIGHT_SCALE_R  8000.0\n#define DENSITY_HEIGHT_SCALE_M  1200.0\n#define PLANET_RADIUS           6360e3\n#define ATMOSPHERE_RADIUS       6420e3\n#define SAMPLE_STEPS            10\n#define DENSITY_STEPS           4\nfloat ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;gl_FragColor=vec4(color,1.0);}","attribute highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;varying highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}")};function Or(R,m,T){const N=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,U=/uniform (highp |mediump |lowp )?([\w]+) ([\w]+)([\s]*)([\w]*)/g,J=m.match(/attribute (highp |mediump |lowp )?([\w]+) ([\w]+)/g),ce=R.match(U),ge=m.match(U),xe=Tp.match(U);let ve=ge?ge.concat(ce):ce;T||(zs.staticUniforms&&(ve=zs.staticUniforms.concat(ve)),Ji.staticUniforms&&(ve=Ji.staticUniforms.concat(ve))),ve&&(ve=ve.concat(xe));const He={};return{fragmentSource:R=R.replace(N,(qe,Qe,Ke,pt,xt)=>(He[xt]=!0,"define"===Qe?`\n#ifndef HAS_UNIFORM_u_${xt}\nvarying ${Ke} ${pt} ${xt};\n#else\nuniform ${Ke} ${pt} u_${xt};\n#endif\n`:`\n#ifdef HAS_UNIFORM_u_${xt}\n    ${Ke} ${pt} ${xt} = u_${xt};\n#endif\n`)),vertexSource:m=m.replace(N,(qe,Qe,Ke,pt,xt)=>{const Nt="float"===pt?"vec2":"vec4",lt=xt.match(/color/)?"color":Nt;return He[xt]?"define"===Qe?`\n#ifndef HAS_UNIFORM_u_${xt}\nuniform lowp float u_${xt}_t;\nattribute ${Ke} ${Nt} a_${xt};\nvarying ${Ke} ${pt} ${xt};\n#else\nuniform ${Ke} ${pt} u_${xt};\n#endif\n`:"vec4"===lt?`\n#ifndef HAS_UNIFORM_u_${xt}\n    ${xt} = a_${xt};\n#else\n    ${Ke} ${pt} ${xt} = u_${xt};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${xt}\n    ${xt} = unpack_mix_${lt}(a_${xt}, u_${xt}_t);\n#else\n    ${Ke} ${pt} ${xt} = u_${xt};\n#endif\n`:"define"===Qe?`\n#ifndef HAS_UNIFORM_u_${xt}\nuniform lowp float u_${xt}_t;\nattribute ${Ke} ${Nt} a_${xt};\n#else\nuniform ${Ke} ${pt} u_${xt};\n#endif\n`:"vec4"===lt?`\n#ifndef HAS_UNIFORM_u_${xt}\n    ${Ke} ${pt} ${xt} = a_${xt};\n#else\n    ${Ke} ${pt} ${xt} = u_${xt};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${xt}\n    ${Ke} ${pt} ${xt} = unpack_mix_${lt}(a_${xt}, u_${xt}_t);\n#else\n    ${Ke} ${pt} ${xt} = u_${xt};\n#endif\n`}),staticAttributes:J,staticUniforms:ve}}class ch{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(m,T,N,U,J,ce,ge,xe){this.context=m;let ve=this.boundPaintVertexBuffers.length!==U.length;for(let He=0;!ve&&He<U.length;He++)this.boundPaintVertexBuffers[He]!==U[He]&&(ve=!0);m.extVertexArrayObject&&this.vao&&this.boundProgram===T&&this.boundLayoutVertexBuffer===N&&!ve&&this.boundIndexBuffer===J&&this.boundVertexOffset===ce&&this.boundDynamicVertexBuffer===ge&&this.boundDynamicVertexBuffer2===xe?(m.bindVertexArrayOES.set(this.vao),ge&&ge.bind(),J&&J.dynamicDraw&&J.bind(),xe&&xe.bind()):this.freshBind(T,N,U,J,ce,ge,xe)}freshBind(m,T,N,U,J,ce,ge){let xe;const ve=m.numAttributes,He=this.context,qe=He.gl;if(He.extVertexArrayObject)this.vao&&this.destroy(),this.vao=He.extVertexArrayObject.createVertexArrayOES(),He.bindVertexArrayOES.set(this.vao),xe=0,this.boundProgram=m,this.boundLayoutVertexBuffer=T,this.boundPaintVertexBuffers=N,this.boundIndexBuffer=U,this.boundVertexOffset=J,this.boundDynamicVertexBuffer=ce,this.boundDynamicVertexBuffer2=ge;else{xe=He.currentNumAttributes||0;for(let Qe=ve;Qe<xe;Qe++)qe.disableVertexAttribArray(Qe)}T.enableAttributes(qe,m);for(const Qe of N)Qe.enableAttributes(qe,m);ce&&ce.enableAttributes(qe,m),ge&&ge.enableAttributes(qe,m),T.bind(),T.setVertexAttribPointers(qe,m,J);for(const Qe of N)Qe.bind(),Qe.setVertexAttribPointers(qe,m,J);ce&&(ce.bind(),ce.setVertexAttribPointers(qe,m,J)),U&&U.bind(),ge&&(ge.bind(),ge.setVertexAttribPointers(qe,m,J)),He.currentNumAttributes=ve}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function Pd(R,m){const T=Math.pow(2,m.canonical.z),N=m.canonical.y;return[new x.MercatorCoordinate(0,N/T).toLngLat().lat,new x.MercatorCoordinate(0,(N+1)/T).toLngLat().lat]}function Sp(R,m,T,N,U,J,ce){const ge=R.context,xe=ge.gl,ve=T.fbo;if(!ve)return;R.prepareDrawTile(m);const He=R.useProgram("hillshade");ge.activeTexture.set(xe.TEXTURE0),xe.bindTexture(xe.TEXTURE_2D,ve.colorAttachment.get());const qe=((Qe,Ke,pt,xt)=>{const Nt=pt.paint.get("hillshade-shadow-color"),lt=pt.paint.get("hillshade-highlight-color"),wt=pt.paint.get("hillshade-accent-color");let Tt=pt.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===pt.paint.get("hillshade-illumination-anchor")&&(Tt-=Qe.transform.angle);const Vt=!Qe.options.moving;return{u_matrix:xt||Qe.transform.calculateProjMatrix(Ke.tileID.toUnwrapped(),Vt),u_image:0,u_latrange:Pd(0,Ke.tileID),u_light:[pt.paint.get("hillshade-exaggeration"),Tt],u_shadow:Nt,u_highlight:lt,u_accent:wt}})(R,T,N,R.terrain?m.projMatrix:null);R.prepareDrawProgram(ge,He,m.toUnwrapped()),He.draw(ge,xe.TRIANGLES,U,J,ce,x.CullFaceMode.disabled,qe,N.id,R.rasterBoundsBuffer,R.quadTriangleIndexBuffer,R.rasterBoundsSegments)}function _a(R,m,T){if(!m.needsDEMTextureUpload)return;const N=R.context,U=N.gl;N.pixelStoreUnpackPremultiplyAlpha.set(!1),m.demTexture=m.demTexture||R.getTileTexture(T.stride);const J=T.getPixels();m.demTexture?m.demTexture.update(J,{premultiply:!1}):m.demTexture=new x.Texture(N,J,U.RGBA,{premultiply:!1}),m.needsDEMTextureUpload=!1}function Qa(R,m,T,N,U,J){const ce=R.context,ge=ce.gl;if(!m.dem)return;const xe=m.dem;if(ce.activeTexture.set(ge.TEXTURE1),_a(R,m,xe),!m.demTexture)return;m.demTexture.bind(ge.NEAREST,ge.CLAMP_TO_EDGE);const ve=xe.dim;ce.activeTexture.set(ge.TEXTURE0);let He=m.fbo;if(!He){const qe=new x.Texture(ce,{width:ve,height:ve,data:null},ge.RGBA);qe.bind(ge.LINEAR,ge.CLAMP_TO_EDGE),He=m.fbo=ce.createFramebuffer(ve,ve,!0),He.colorAttachment.set(qe.texture)}ce.bindFramebuffer.set(He.framebuffer),ce.viewport.set([0,0,ve,ve]),R.useProgram("hillshadePrepare").draw(ce,ge.TRIANGLES,N,U,J,x.CullFaceMode.disabled,((qe,Qe)=>{const Ke=Qe.stride,pt=x.create$1();return x.ortho(pt,0,x.EXTENT,-x.EXTENT,0,0,1),x.translate(pt,pt,[0,-x.EXTENT,0]),{u_matrix:pt,u_image:1,u_dimension:[Ke,Ke],u_zoom:qe.overscaledZ,u_unpack:Qe.unpackVector}})(m.tileID,xe),T.id,R.rasterBoundsBuffer,R.quadTriangleIndexBuffer,R.rasterBoundsSegments),m.needsHillshadePrepare=!1}const mi=(R,m)=>({u_matrix:new x.UniformMatrix4f(R,m.u_matrix),u_image0:new x.Uniform1i(R,m.u_image0),u_skirt_height:new x.Uniform1f(R,m.u_skirt_height)}),Hc=(R,m)=>({u_matrix:R,u_image0:0,u_skirt_height:m}),rc=new class{constructor(){this.operations={}}newMorphing(R,m,T,N,U){if(R in this.operations){const J=this.operations[R];J.to.tileID.key!==T.tileID.key&&(J.queued=T)}else this.operations[R]={startTime:N,phase:0,duration:U,from:m,to:T,queued:null}}getMorphValuesForProxy(R){if(!(R in this.operations))return null;const m=this.operations[R];return{from:m.from,to:m.to,phase:m.phase}}update(R){for(const m in this.operations){const T=this.operations[m];for(T.phase=(R-T.startTime)/T.duration;T.phase>=1||!this._validOp(T);)if(!this._nextOp(T,R)){delete this.operations[m];break}}}_nextOp(R,m){return!!R.queued&&(R.from=R.to,R.to=R.queued,R.queued=null,R.phase=0,R.startTime=m,!0)}_validOp(R){return R.from.hasData()&&R.to.hasData()}},Xa={0:null,1:"TERRAIN_VERTEX_MORPHING",2:"TERRAIN_WIREFRAME"};function Od(R,m){const T=1<<R.z;return!m&&(0===R.x||R.x===T-1)||0===R.y||R.y===T-1}const Vc=R=>({u_matrix:R});function Hs(R,m,T,N,U){if(U>0){const J=x.exported.now(),ce=(J-R.timeAdded)/U,ge=m?(J-m.timeAdded)/U:-1,xe=T.getSource(),ve=N.coveringZoomLevel({tileSize:xe.tileSize,roundZoom:xe.roundZoom}),He=!m||Math.abs(m.tileID.overscaledZ-ve)>Math.abs(R.tileID.overscaledZ-ve),qe=He&&R.refreshedUponExpiration?1:x.clamp(He?ce:1-ge,0,1);return R.refreshedUponExpiration&&ce>=1&&(R.refreshedUponExpiration=!1),m?{opacity:1,mix:1-qe}:{opacity:qe,mix:0}}return{opacity:1,mix:0}}class Bl extends x.SourceCache{constructor(m){const T=$e("proxy",{type:"geojson",maxzoom:m.transform.maxZoom},new vn(Re(),null),m.style);super("proxy",T,!1),T.setEventedParent(this),this.map=this.getSource().map=m,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(m,T,N){if(m.freezeTileCoverage)return;this.transform=m;const U=m.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce((J,ce)=>{if(J[ce.key]="",!this._tiles[ce.key]){const ge=new x.Tile(ce,this._source.tileSize*ce.overscaleFactor(),m.tileZoom);ge.state="loaded",this._tiles[ce.key]=ge}return J},{});for(const J in this._tiles)J in U||(this.freeFBO(J),this._tiles[J].state="unloaded",delete this._tiles[J])}freeFBO(m){const T=this.proxyCachedFBO[m];if(void 0!==T){const N=Object.values(T);this.renderCachePool.push(...N),delete this.proxyCachedFBO[m]}}deallocRenderCache(){this.renderCache.forEach(m=>m.fb.destroy()),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class or extends x.OverscaledTileID{constructor(m,T,N){super(m.overscaledZ,m.wrap,m.canonical.z,m.canonical.x,m.canonical.y),this.proxyTileKey=T,this.projMatrix=N}}class kp extends x.Elevation{constructor(m,T){super(),this.painter=m,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[N,U,J]=function(xe){const ve=new x.StructArrayLayout4i8,He=new x.StructArrayLayout3ui6;ve.reserve(17161),He.reserve(33800);const Qe=x.EXTENT/128,Ke=x.EXTENT+Qe/2,pt=Ke+Qe;for(let Nt=-Qe;Nt<pt;Nt+=Qe)for(let lt=-Qe;lt<pt;lt+=Qe){const wt=lt<0||lt>Ke||Nt<0||Nt>Ke?24575:0,Tt=x.clamp(Math.round(lt),0,x.EXTENT),Vt=x.clamp(Math.round(Nt),0,x.EXTENT);ve.emplaceBack(Tt+wt,Vt,Tt,Vt)}const xt=(Nt,lt)=>{const wt=131*lt+Nt;He.emplaceBack(wt+1,wt,wt+131),He.emplaceBack(wt+131,wt+131+1,wt+1)};for(let Nt=1;Nt<129;Nt++)for(let lt=1;lt<129;lt++)xt(lt,Nt);return[0,129].forEach(Nt=>{for(let lt=0;lt<130;lt++)xt(lt,Nt),xt(Nt,lt)}),[ve,He,32768]}(),ce=m.context;this.gridBuffer=ce.createVertexBuffer(N,Er.members),this.gridIndexBuffer=ce.createIndexBuffer(U),this.gridSegments=x.SegmentVector.simpleSegment(0,0,N.length,U.length),this.gridNoSkirtSegments=x.SegmentVector.simpleSegment(0,0,N.length,J),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new Bl(T.map),this.orthoMatrix=x.create$1(),x.ortho(this.orthoMatrix,0,x.EXTENT,0,x.EXTENT,0,1);const ge=ce.gl;this._overlapStencilMode=new x.StencilMode({func:ge.GEQUAL,mask:255},0,255,ge.KEEP,ge.KEEP,ge.REPLACE),this._previousZoom=m.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=T,this._useVertexMorphing=!0,this._exaggeration=1}set style(m){m.on("data",this._onStyleDataEvent.bind(this)),m.on("neworder",this._checkRenderCacheEfficiency.bind(this)),this._style=m,this._checkRenderCacheEfficiency()}update(m,T,N){if(m&&m.terrain){this._style!==m&&(this.style=m),this.enabled=!0;const U=m.terrain.properties;this.sourceCache=m._getSourceCache(U.get("source")),this._exaggeration=U.get("exaggeration");const J=()=>{this.sourceCache.used&&x.warnOnce(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.\nThis leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const ce=this.sourceCache.getSource().tileSize/128,ge=this.proxySourceCache.getSource().tileSize;this.sourceCache.update(T,ce*ge,!0),this._findCoveringTileCache[this.sourceCache.id]={}};this.sourceCache.usedForTerrain||(this._findCoveringTileCache[this.sourceCache.id]={},this.sourceCache.usedForTerrain=!0,J(),this._initializing=!0),J(),T.updateElevation(!N),this._findCoveringTileCache[this.proxySourceCache.id]={},this.proxySourceCache.update(T),this._emptyDEMTextureDirty=!0}else this._disable()}_checkRenderCacheEfficiency(){const m=this.renderCacheEfficiency(this._style);this._style.map._optimizeForTerrain||100!==m.efficiency&&x.warnOnce(`Terrain render cache efficiency is not optimal (${m.efficiency}%) and performance\n                may be affected negatively, consider placing all background, fill and line layers before layer\n                with id '${m.firstUndrapedLayer}' or create a map using optimizeForTerrain: true option.`)}_onStyleDataEvent(m){m.coord&&"source"===m.dataType?this._clearRenderCacheForTile(m.sourceCacheId,m.coord):"style"===m.dataType&&(this._invalidateRenderCache=!0)}_disable(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const m in this._style._sourceCaches)this._style._sourceCaches[m].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this.pool.forEach(m=>m.fb.destroy()),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),delete this._depthFBO,delete this._depthTexture)}_source(){return this.enabled?this.sourceCache:null}exaggeration(){return this._exaggeration}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const m=2*this.proxySourceCache.getSource().tileSize;return[m,m]}set useVertexMorphing(m){this._useVertexMorphing=m}updateTileBinding(m){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const T=this.proxySourceCache,N=this.painter.transform;this._initializing&&(this._initializing=0===N._centerAltitude&&-1===this.getAtPointOrZero(x.MercatorCoordinate.fromLngLat(N.center),-1),this._emptyDEMTextureDirty=!this._initializing);const U=this.proxyCoords=T.getIds().map(xe=>{const ve=T.getTileByID(xe).tileID;return ve.projMatrix=N.calculateProjMatrix(ve.toUnwrapped()),ve});(function(xe,ve){const He=ve.transform.pointCoordinate(ve.transform.getCameraPoint()),qe=new x.pointGeometry(He.x,He.y);xe.sort((Qe,Ke)=>{if(Ke.overscaledZ-Qe.overscaledZ)return Ke.overscaledZ-Qe.overscaledZ;const pt=new x.pointGeometry(Qe.canonical.x+(1<<Qe.canonical.z)*Qe.wrap,Qe.canonical.y),xt=new x.pointGeometry(Ke.canonical.x+(1<<Ke.canonical.z)*Ke.wrap,Ke.canonical.y),Nt=qe.mult(1<<Qe.canonical.z);return Nt.x-=.5,Nt.y-=.5,Nt.distSqr(pt)-Nt.distSqr(xt)})})(U,this.painter),this._previousZoom=N.zoom;const J=this.proxyToSource||{};this.proxyToSource={},U.forEach(xe=>{this.proxyToSource[xe.key]={}}),this.terrainTileForTile={};const ce=this._style._sourceCaches;for(const xe in ce){const ve=ce[xe];if(!ve.used||(ve!==this.sourceCache&&(this._findCoveringTileCache[ve.id]={}),this._setupProxiedCoordsForOrtho(ve,m[xe],J),ve.usedForTerrain))continue;const He=m[xe];ve.getSource().reparseOverscaled&&this._assignTerrainTiles(He)}this.proxiedCoords[T.id]=U.map(xe=>new or(xe,xe.key,this.orthoMatrix)),this._assignTerrainTiles(U),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(J),this.renderingToTexture=!1,this._updateTimestamp=x.exported.now();const ge={};this._visibleDemTiles=[];for(const xe of this.proxyCoords){const ve=this.terrainTileForTile[xe.key];if(!ve)continue;const He=ve.tileID.key;He in ge||(this._visibleDemTiles.push(ve),ge[He]=He)}}_assignTerrainTiles(m){this._initializing||m.forEach(T=>{if(this.terrainTileForTile[T.key])return;const N=this._findTileCoveringTileID(T,this.sourceCache);N&&(this.terrainTileForTile[T.key]=N)})}_prepareDEMTextures(){const m=this.painter.context,T=m.gl;for(const N in this.terrainTileForTile){const U=this.terrainTileForTile[N],J=U.dem;!J||U.demTexture&&!U.needsDEMTextureUpload||(m.activeTexture.set(T.TEXTURE1),_a(this.painter,U,J))}}_prepareDemTileUniforms(m,T,N,U){if(!T||null==T.demTexture)return!1;const J=m.tileID.canonical,ce=Math.pow(2,T.tileID.canonical.z-J.z),ge=U||"";return N[`u_dem_tl${ge}`]=[J.x*ce%1,J.y*ce%1],N[`u_dem_scale${ge}`]=ce,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}_getLoadedAreaMinimum(){let m=0;const T=this._visibleDemTiles.reduce((N,U)=>{if(!U.dem)return N;const J=U.dem.tree.minimums[0];return J>0&&m++,N+J},0);return m?T/m:0}_updateEmptyDEMTexture(){const m=this.painter.context,T=m.gl;m.activeTexture.set(T.TEXTURE2);const N=this._getLoadedAreaMinimum(),U={width:1,height:1,data:new Uint8Array(x.DEMData.pack(N,this.sourceCache.getSource().encoding))};this._emptyDEMTextureDirty=!1;let J=this._emptyDEMTexture;return J?J.update(U,{premultiply:!1}):J=this._emptyDEMTexture=new x.Texture(m,U,T.RGBA,{premultiply:!1}),J}setupElevationDraw(m,T,N){const U=this.painter.context,J=U.gl,ce=(ge=this.sourceCache.getSource().encoding,{u_dem:2,u_dem_prev:4,u_dem_unpack:x.DEMData.getUnpackVector(ge),u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0});var ge;ce.u_dem_size=this.sourceCache.getSource().tileSize,ce.u_exaggeration=this.exaggeration();let xe=null,ve=null,He=1;if(N&&N.morphing&&this._useVertexMorphing){const qe=N.morphing.srcDemTile,Qe=N.morphing.dstDemTile;He=N.morphing.phase,qe&&Qe&&(this._prepareDemTileUniforms(m,qe,ce,"_prev")&&(ve=qe),this._prepareDemTileUniforms(m,Qe,ce)&&(xe=Qe))}if(ve&&xe?(U.activeTexture.set(J.TEXTURE2),xe.demTexture.bind(J.NEAREST,J.CLAMP_TO_EDGE,J.NEAREST),U.activeTexture.set(J.TEXTURE4),ve.demTexture.bind(J.NEAREST,J.CLAMP_TO_EDGE,J.NEAREST),ce.u_dem_lerp=He):(xe=this.terrainTileForTile[m.tileID.key],U.activeTexture.set(J.TEXTURE2),(this._prepareDemTileUniforms(m,xe,ce)?xe.demTexture:this.emptyDEMTexture).bind(J.NEAREST,J.CLAMP_TO_EDGE,J.NEAREST)),N&&N.useDepthForOcclusion&&(U.activeTexture.set(J.TEXTURE3),this._depthTexture.bind(J.NEAREST,J.CLAMP_TO_EDGE,J.NEAREST),ce.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height]),N&&N.useMeterToDem&&xe){const qe=(1<<xe.tileID.canonical.z)*x.mercatorZfromAltitude(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;ce.u_meter_to_dem=qe}N&&N.labelPlaneMatrixInv&&(ce.u_label_plane_matrix_inv=N.labelPlaneMatrixInv),T.setTerrainUniformValues(U,ce)}renderToBackBuffer(m){const T=this.painter,N=this.painter.context;0!==m.length&&(N.bindFramebuffer.set(null),N.viewport.set([0,0,T.width,T.height]),this.renderingToTexture=!1,function(U,J,ce,ge,xe){const ve=U.context,He=ve.gl;let qe,Qe;const Ke=U.options.showTerrainWireframe?2:0,pt=(Tt,Vt)=>{if(Qe===Tt)return;const St=[Xa[Tt]];Vt&&St.push(Xa[Ke]),qe=U.useProgram("terrainRaster",null,St),Qe=Tt},xt=U.colorModeForRenderPass(),Nt=new x.DepthMode(He.LEQUAL,x.DepthMode.ReadWrite,U.depthRangeFor3D);rc.update(xe);const lt=U.transform,wt=6*Math.pow(1.5,22-lt.zoom)*J.exaggeration();(Ke?[!1,!0]:[!1]).forEach(Tt=>{Qe=-1;const Vt=Tt?He.LINES:He.TRIANGLES,[St,Dt]=Tt?J.getWirefameBuffer():[J.gridIndexBuffer,J.gridSegments];for(const Nn of ge){const It=ce.getTile(Nn),ri=x.StencilMode.disabled,Bn=J.prevTerrainTileForTile[Nn.key],ui=J.terrainTileForTile[Nn.key];Dn=ui,null!=(kn=Bn)&&null!=Dn&&kn.hasData()&&Dn.hasData()&&null!=kn.demTexture&&null!=Dn.demTexture&&kn.tileID.key!==Dn.tileID.key&&rc.newMorphing(Nn.key,Bn,ui,xe,250),ve.activeTexture.set(He.TEXTURE0),It.texture.bind(He.LINEAR,He.CLAMP_TO_EDGE,He.LINEAR_MIPMAP_NEAREST);const ti=rc.getMorphValuesForProxy(Nn.key),Xn=ti?1:0;let mr;ti&&(mr={morphing:{srcDemTile:ti.from,dstDemTile:ti.to,phase:x.easeCubicInOut(ti.phase)}});const Pi=Hc(Nn.projMatrix,Od(Nn.canonical,lt.renderWorldCopies)?wt/10:wt);pt(Xn,Tt),J.setupElevationDraw(It,qe,mr),U.prepareDrawProgram(ve,qe,Nn.toUnwrapped()),qe.draw(ve,Vt,Nt,ri,xt,x.CullFaceMode.backCCW,Pi,"terrain_raster",J.gridBuffer,St,Dt)}var kn,Dn})}(T,this,this.proxySourceCache,m,this._updateTimestamp),this.renderingToTexture=!0,m.splice(0,m.length))}renderBatch(m){if(0===this._drapedRenderBatches.length)return m+1;this.renderingToTexture=!0;const T=this.painter,N=this.painter.context,U=this.proxySourceCache,J=this.proxiedCoords[U.id],ce=this._drapedRenderBatches.shift(),ge=[],xe=T.style.order;let ve=0;for(const He of J){const qe=U.getTileByID(He.proxyTileKey),Qe=U.proxyCachedFBO[He.key]?U.proxyCachedFBO[He.key][m]:void 0,Ke=void 0!==Qe?U.renderCache[Qe]:this.pool[ve++],pt=void 0!==Qe;if(qe.texture=Ke.tex,pt&&!Ke.dirty){ge.push(qe.tileID);continue}let xt;N.bindFramebuffer.set(Ke.fb.framebuffer),this.renderedToTile=!1,Ke.dirty&&(N.clear({color:x.Color.transparent}),Ke.dirty=!1);for(let Nt=ce.start;Nt<=ce.end;++Nt){const lt=T.style._layers[xe[Nt]];if(lt.isHidden(T.transform.zoom))continue;const wt=T.style._getLayerSourceCache(lt),Tt=wt?this.proxyToSource[He.key][wt.id]:[He];if(!Tt)continue;const Vt=Tt;N.viewport.set([0,0,Ke.fb.width,Ke.fb.height]),xt!==(wt?wt.id:null)&&(this._setupStencil(Ke,Tt,lt,wt),xt=wt?wt.id:null),T.renderLayer(T,wt,lt,Vt)}this.renderedToTile?(Ke.dirty=!0,ge.push(qe.tileID)):pt||--ve,5===ve&&(ve=0,this.renderToBackBuffer(ge))}return this.renderToBackBuffer(ge),this.renderingToTexture=!1,N.bindFramebuffer.set(null),N.viewport.set([0,0,T.width,T.height]),ce.end+1}postRender(){}renderCacheEfficiency(m){const T=m.order.length;if(0===T)return{efficiency:100};let N,U=0,J=0,ce=!1;for(let ge=0;ge<T;++ge){const xe=m._layers[m.order[ge]];this._style.isLayerDraped(xe)?(ce&&++U,++J):ce||(ce=!0,N=xe.id)}return 0===J?{efficiency:100}:{efficiency:100*(1-U/J),firstUndrapedLayer:N}}getMinElevationBelowMSL(){let m=0;return this._visibleDemTiles.filter(T=>T.dem).forEach(T=>{m=Math.min(m,T.dem.tree.minimums[0])}),0===m?m:(m-30)*this._exaggeration}raycast(m,T,N){if(!this._visibleDemTiles)return null;const U=this._visibleDemTiles.filter(J=>J.dem).map(J=>{const ce=J.tileID,ge=Math.pow(2,ce.overscaledZ),{x:xe,y:ve}=ce.canonical,He=xe/ge,qe=(xe+1)/ge,Qe=ve/ge,Ke=(ve+1)/ge;return{minx:He,miny:Qe,maxx:qe,maxy:Ke,t:J.dem.tree.raycastRoot(He,Qe,qe,Ke,m,T,N),tile:J}});U.sort((J,ce)=>(null!==J.t?J.t:Number.MAX_VALUE)-(null!==ce.t?ce.t:Number.MAX_VALUE));for(const J of U){if(null==J.t)return null;const ce=J.tile.dem.tree.raycast(J.minx,J.miny,J.maxx,J.maxy,m,T,N);if(null!=ce)return ce}return null}_createFBO(){const m=this.painter.context,T=m.gl,N=this.drapeBufferSize;m.activeTexture.set(T.TEXTURE0);const U=new x.Texture(m,{width:N[0],height:N[1],data:null},T.RGBA);U.bind(T.LINEAR,T.CLAMP_TO_EDGE);const J=m.createFramebuffer(N[0],N[1],!1);return J.colorAttachment.set(U.texture),J.depthAttachment=new on(m,J.framebuffer),void 0===this._sharedDepthStencil?(this._sharedDepthStencil=m.createRenderbuffer(m.gl.DEPTH_STENCIL,N[0],N[1]),this._stencilRef=0,J.depthAttachment.set(this._sharedDepthStencil),m.clear({stencil:0})):J.depthAttachment.set(this._sharedDepthStencil),m.extTextureFilterAnisotropic&&!m.extTextureFilterAnisotropicForceOff&&T.texParameterf(T.TEXTURE_2D,m.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,m.extTextureFilterAnisotropicMax),{fb:J,tex:U,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){if(this._style.light&&this._style.light.hasTransition())return!0;for(const m in this._style._sourceCaches)if(this._style._sourceCaches[m].hasTransition())return!0;return this._style.order.some(m=>{const T=this._style._layers[m],N=T.isHidden(this.painter.transform.zoom),U=T.getCrossfadeParameters(),J=!!U&&1!==U.t,ce=T.hasTransition();return"custom"!==T.type&&!N&&(J||ce)})}_clearRasterFadeFromRenderCache(){let m=!1;for(const T in this._style._sourceCaches)if(this._style._sourceCaches[T]._source instanceof hr){m=!0;break}if(m)for(let T=0;T<this._style.order.length;++T){const N=this._style._layers[this._style.order[T]],U=N.isHidden(this.painter.transform.zoom),J=this._style._getLayerSourceCache(N);if("raster"!==N.type||U||!J)continue;const ce=N.paint.get("raster-fade-duration");for(const ge of this.proxyCoords){const xe=this.proxyToSource[ge.key][J.id];if(xe)for(const ve of xe){const He=Hs(J.getTile(ve),J.findLoadedParent(ve,0),J,this.painter.transform,ce);(1!==He.opacity||0!==He.mix)&&this._clearRenderCacheForTile(J.id,ve)}}}}_setupDrapedRenderBatches(){const m=this._style.order,T=m.length;if(0===T)return;const N=[];let U,J=0,ce=this._style._layers[m[J]];for(;!this._style.isLayerDraped(ce)&&ce.isHidden(this.painter.transform.zoom)&&++J<T;)ce=this._style._layers[m[J]];for(;J<T;++J){const ge=this._style._layers[m[J]];ge.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(ge)?void 0===U&&(U=J):void 0!==U&&(N.push({start:U,end:J-1}),U=void 0))}void 0!==U&&N.push({start:U,end:J-1}),this._drapedRenderBatches=N}_setupRenderCache(m){const T=this.proxySourceCache;if(this._shouldDisableRenderCache()||this._invalidateRenderCache){if(this._invalidateRenderCache=!1,T.renderCache.length>T.renderCachePool.length){const ce=Object.values(T.proxyCachedFBO);T.proxyCachedFBO={};for(let ge=0;ge<ce.length;++ge){const xe=Object.values(ce[ge]);T.renderCachePool.push(...xe)}}return}this._clearRasterFadeFromRenderCache();const N=this.proxyCoords,U=this._tilesDirty;for(let ce=N.length-1;ce>=0;ce--){const ge=N[ce];if(T.getTileByID(ge.key),void 0!==T.proxyCachedFBO[ge.key]){const xe=m[ge.key],ve=this.proxyToSource[ge.key];let He=0;for(const qe in ve){const Qe=ve[qe],Ke=xe[qe];if(!Ke||Ke.length!==Qe.length||Qe.some((pt,xt)=>pt!==Ke[xt]||U[qe]&&U[qe].hasOwnProperty(pt.key))){He=-1;break}++He}for(const qe in T.proxyCachedFBO[ge.key])T.renderCache[T.proxyCachedFBO[ge.key][qe]].dirty=He<0||He!==Object.values(xe).length}}const J=[...this._drapedRenderBatches];J.sort((ce,ge)=>ge.end-ge.start-(ce.end-ce.start));for(const ce of J)for(const ge of N){if(T.proxyCachedFBO[ge.key])continue;let xe=T.renderCachePool.pop();void 0===xe&&T.renderCache.length<50&&(xe=T.renderCache.length,T.renderCache.push(this._createFBO())),void 0!==xe&&(T.proxyCachedFBO[ge.key]={},T.proxyCachedFBO[ge.key][ce.start]=xe,T.renderCache[xe].dirty=!0)}this._tilesDirty={}}_setupStencil(m,T,N,U){if(!U||!this._sourceTilesOverlap[U.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const J=this.painter.context,ce=J.gl;if(T.length<=1)return void(this._overlapStencilType=!1);let ge;if(N.isTileClipped())ge=T.length,this._overlapStencilMode.test={func:ce.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(T[0].overscaledZ>T[T.length-1].overscaledZ))return void(this._overlapStencilType=!1);ge=1,this._overlapStencilMode.test={func:ce.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+ge>255&&(J.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=ge,this._overlapStencilMode.ref=this._stencilRef,N.isTileClipped()&&this._renderTileClippingMasks(T,this._overlapStencilMode.ref)}stencilModeForRTTOverlap(m){return this.renderingToTexture&&this._overlapStencilType?("Clip"===this._overlapStencilType&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[m.key]),this._overlapStencilMode):x.StencilMode.disabled}_renderTileClippingMasks(m,T){const N=this.painter,U=this.painter.context,J=U.gl;N._tileClippingMaskIDs={},U.setColorMode(x.ColorMode.disabled),U.setDepthMode(x.DepthMode.disabled);const ce=N.useProgram("clippingMask");for(const ge of m){const xe=N._tileClippingMaskIDs[ge.key]=--T;ce.draw(U,J.TRIANGLES,x.DepthMode.disabled,new x.StencilMode({func:J.ALWAYS,mask:0},xe,255,J.KEEP,J.KEEP,J.REPLACE),x.ColorMode.disabled,x.CullFaceMode.disabled,Vc(ge.projMatrix),"$clipping",N.tileExtentBuffer,N.quadTriangleIndexBuffer,N.tileExtentSegments)}}pointCoordinate(m){const T=this.painter.transform;if(m.x<0||m.x>T.width||m.y<0||m.y>T.height)return null;const N=[m.x,m.y,1,1];x.transformMat4(N,N,T.pixelMatrixInverse),x.scale$2(N,N,1/N[3]),N[0]/=T.worldSize,N[1]/=T.worldSize;const U=T._camera.position,J=x.mercatorZfromAltitude(1,T.center.lat),ce=[U[0],U[1],U[2]/J,0],ge=x.subtract([],N.slice(0,3),ce);x.normalize(ge,ge);const xe=this.raycast(ce,ge,this._exaggeration);return null!==xe&&xe?(x.scaleAndAdd(ce,ce,ge,xe),ce[3]=ce[2],ce[2]*=J,ce):null}drawDepth(){const m=this.painter,T=m.context,N=this.proxySourceCache,U=Math.ceil(m.width),J=Math.ceil(m.height);if(!this._depthFBO||this._depthFBO.width===U&&this._depthFBO.height===J||(this._depthFBO.destroy(),delete this._depthFBO,delete this._depthTexture),!this._depthFBO){const ce=T.gl,ge=T.createFramebuffer(U,J,!0);T.activeTexture.set(ce.TEXTURE0);const xe=new x.Texture(T,{width:U,height:J,data:null},ce.RGBA);xe.bind(ce.NEAREST,ce.CLAMP_TO_EDGE),ge.colorAttachment.set(xe.texture);const ve=T.createRenderbuffer(T.gl.DEPTH_COMPONENT16,U,J);ge.depthAttachment.set(ve),this._depthFBO=ge,this._depthTexture=xe}T.bindFramebuffer.set(this._depthFBO.framebuffer),T.viewport.set([0,0,U,J]),function(ce,ge,xe,ve){const He=ce.context,qe=He.gl;He.clear({depth:1});const Qe=ce.useProgram("terrainDepth"),Ke=new x.DepthMode(qe.LESS,x.DepthMode.ReadWrite,ce.depthRangeFor3D);for(const pt of ve){const xt=xe.getTile(pt),Nt=Hc(pt.projMatrix,0);ge.setupElevationDraw(xt,Qe),Qe.draw(He,qe.TRIANGLES,Ke,x.StencilMode.disabled,x.ColorMode.unblended,x.CullFaceMode.backCCW,Nt,"terrain_depth",ge.gridBuffer,ge.gridIndexBuffer,ge.gridNoSkirtSegments)}}(m,this,N,this.proxyCoords)}_setupProxiedCoordsForOrtho(m,T,N){if(m.getSource()instanceof at)return this._setupProxiedCoordsForImageSource(m,T,N);this._findCoveringTileCache[m.id]=this._findCoveringTileCache[m.id]||{};const U=this.proxiedCoords[m.id]=[],J=this.proxyCoords;for(let ge=0;ge<J.length;ge++){const xe=J[ge],ve=this._findTileCoveringTileID(xe,m);if(ve){const He=this._createProxiedId(xe,ve,N[xe.key]&&N[xe.key][m.id]);U.push(He),this.proxyToSource[xe.key][m.id]=[He]}}let ce=!1;for(let ge=0;ge<T.length;ge++){const xe=m.getTile(T[ge]);if(!xe||!xe.hasData())continue;const ve=this._findTileCoveringTileID(xe.tileID,this.proxySourceCache);if(ve&&ve.tileID.canonical.z!==xe.tileID.canonical.z){const He=this.proxyToSource[ve.tileID.key][m.id],qe=this._createProxiedId(ve.tileID,xe,N[ve.tileID.key]&&N[ve.tileID.key][m.id]);He?He.splice(He.length-1,0,qe):this.proxyToSource[ve.tileID.key][m.id]=[qe],U.push(qe),ce=!0}}this._sourceTilesOverlap[m.id]=ce}_setupProxiedCoordsForImageSource(m,T,N){if(!m.getSource().loaded())return;const U=this.proxiedCoords[m.id]=[],J=this.proxyCoords,ce=m.getSource(),ge=new x.pointGeometry(ce.tileID.x,ce.tileID.y)._div(1<<ce.tileID.z),xe=ce.coordinates.map(x.MercatorCoordinate.fromLngLat).reduce((He,qe)=>(He.min.x=Math.min(He.min.x,qe.x-ge.x),He.min.y=Math.min(He.min.y,qe.y-ge.y),He.max.x=Math.max(He.max.x,qe.x-ge.x),He.max.y=Math.max(He.max.y,qe.y-ge.y),He),{min:new x.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE),max:new x.pointGeometry(-Number.MAX_VALUE,-Number.MAX_VALUE)}),ve=(He,qe)=>{const Qe=He.wrap+He.canonical.x/(1<<He.canonical.z),Ke=He.canonical.y/(1<<He.canonical.z),pt=x.EXTENT/(1<<He.canonical.z),xt=qe.wrap+qe.canonical.x/(1<<qe.canonical.z),Nt=qe.canonical.y/(1<<qe.canonical.z);return Qe+pt<xt+xe.min.x||Qe>xt+xe.max.x||Ke+pt<Nt+xe.min.y||Ke>Nt+xe.max.y};for(let He=0;He<J.length;He++){const qe=J[He];for(let Qe=0;Qe<T.length;Qe++){const Ke=m.getTile(T[Qe]);if(!Ke||!Ke.hasData()||ve(qe,Ke.tileID))continue;const pt=this._createProxiedId(qe,Ke,N[qe.key]&&N[qe.key][m.id]),xt=this.proxyToSource[qe.key][m.id];xt?xt.push(pt):this.proxyToSource[qe.key][m.id]=[pt],U.push(pt)}}}_createProxiedId(m,T,N){let U=this.orthoMatrix;if(N){const J=N.find(ce=>ce.key===T.tileID.key);if(J)return J}if(T.tileID.key!==m.key){const J=m.canonical.z-T.tileID.canonical.z;let ce,ge,xe;U=x.create$1();const ve=T.tileID.wrap-m.wrap<<m.overscaledZ;J>0?(ce=x.EXTENT>>J,ge=ce*((T.tileID.canonical.x<<J)-m.canonical.x+ve),xe=ce*((T.tileID.canonical.y<<J)-m.canonical.y)):(ce=x.EXTENT<<-J,ge=x.EXTENT*(T.tileID.canonical.x-(m.canonical.x+ve<<-J)),xe=x.EXTENT*(T.tileID.canonical.y-(m.canonical.y<<-J))),x.ortho(U,0,ce,0,ce,0,1),x.translate(U,U,[ge,xe,0])}return new or(T.tileID,m.key,U)}_findTileCoveringTileID(m,T){let N=T.getTile(m);if(N&&N.hasData())return N;const U=this._findCoveringTileCache[T.id],J=U[m.key];if(N=J?T.getTileByID(J):null,N&&N.hasData()||null===J)return N;let ce=N?N.tileID:m,ge=ce.overscaledZ;const xe=T.getSource().minzoom,ve=[];if(!J){const qe=T.getSource().maxzoom;if(m.canonical.z>=qe){const Qe=m.canonical.z-qe;T.getSource().reparseOverscaled?(ge=Math.max(m.canonical.z+2,T.transform.tileZoom),ce=new x.OverscaledTileID(ge,m.wrap,qe,m.canonical.x>>Qe,m.canonical.y>>Qe)):0!==Qe&&(ge=qe,ce=new x.OverscaledTileID(ge,m.wrap,qe,m.canonical.x>>Qe,m.canonical.y>>Qe))}ce.key!==m.key&&(ve.push(ce.key),N=T.getTile(ce))}const He=qe=>{ve.forEach(Qe=>{U[Qe]=qe}),ve.length=0};for(ge-=1;ge>=xe&&(!N||!N.hasData());ge--){N&&He(N.tileID.key);const qe=ce.calculateScaledKey(ge);if(N=T.getTileByID(qe),N&&N.hasData())break;const Qe=U[qe];if(null===Qe)break;void 0===Qe?ve.push(qe):N=T.getTileByID(Qe)}return He(N?N.tileID.key:null),N&&N.hasData()?N:null}findDEMTileFor(m){return this.enabled?this._findTileCoveringTileID(m,this.sourceCache):null}prepareDrawTile(m){this.renderedToTile=!0}_clearRenderCacheForTile(m,T){let N=this._tilesDirty[m];N||(N=this._tilesDirty[m]={}),N[T.key]=!0}getWirefameBuffer(){if(!this.wireframeSegments){const m=function(T){let N,U,J;const ce=new x.StructArrayLayout2ui4;for(U=1;U<129;U++){for(N=1;N<129;N++)J=131*U+N,ce.emplaceBack(J,J+1),ce.emplaceBack(J,J+131),ce.emplaceBack(J+1,J+131),128===U&&ce.emplaceBack(J+131,J+131+1);ce.emplaceBack(J+1,J+1+131)}return ce}();this.wireframeIndexBuffer=this.painter.context.createIndexBuffer(m),this.wireframeSegments=x.SegmentVector.simpleSegment(0,0,this.gridBuffer.length,m.length)}return[this.wireframeIndexBuffer,this.wireframeSegments]}}function fr(R){const m=[];for(let T=0;T<R.length;T++){if(null===R[T])continue;const N=R[T].split(" ");m.push(N.pop())}return m}class Ep{static cacheKey(m,T,N){let U=`${m}${N?N.cacheKey:""}`;for(const J of T)U+=`/${J}`;return U}constructor(m,T,N,U,J,ce){const ge=m.gl;this.program=ge.createProgram();const xe=fr(N.staticAttributes),ve=U?U.getBinderAttributes():[],He=xe.concat(ve),qe=N.staticUniforms?fr(N.staticUniforms):[],Qe=U?U.getBinderUniforms():[],Ke=qe.concat(Qe),pt=[];for(const St of Ke)pt.indexOf(St)<0&&pt.push(St);let xt=U?U.defines():[];xt=xt.concat(ce.map(St=>`#define ${St}`));const Nt=xt.concat(ic.fragmentSource,lh,Ji.fragmentSource,N.fragmentSource).join("\n"),lt=xt.concat(ic.vertexSource,lh,Ji.vertexSource,zs.vertexSource,N.vertexSource).join("\n"),wt=ge.createShader(ge.FRAGMENT_SHADER);if(ge.isContextLost())return void(this.failedToCreate=!0);ge.shaderSource(wt,Nt),ge.compileShader(wt),ge.attachShader(this.program,wt);const Tt=ge.createShader(ge.VERTEX_SHADER);if(ge.isContextLost())return void(this.failedToCreate=!0);ge.shaderSource(Tt,lt),ge.compileShader(Tt),ge.attachShader(this.program,Tt),this.attributes={};const Vt={};this.numAttributes=He.length;for(let St=0;St<this.numAttributes;St++)He[St]&&(ge.bindAttribLocation(this.program,St,He[St]),this.attributes[He[St]]=St);ge.linkProgram(this.program),ge.deleteShader(Tt),ge.deleteShader(wt);for(let St=0;St<pt.length;St++){const Dt=pt[St];if(Dt&&!Vt[Dt]){const kn=ge.getUniformLocation(this.program,Dt);kn&&(Vt[Dt]=kn)}}var St,Dt;this.fixedUniforms=J(m,Vt),this.binderUniforms=U?U.getUniforms(m,Vt):[],-1!==ce.indexOf("TERRAIN")&&(this.terrainUniforms={u_dem:new x.Uniform1i(St=m,(Dt=Vt).u_dem),u_dem_prev:new x.Uniform1i(St,Dt.u_dem_prev),u_dem_unpack:new x.Uniform4f(St,Dt.u_dem_unpack),u_dem_tl:new x.Uniform2f(St,Dt.u_dem_tl),u_dem_scale:new x.Uniform1f(St,Dt.u_dem_scale),u_dem_tl_prev:new x.Uniform2f(St,Dt.u_dem_tl_prev),u_dem_scale_prev:new x.Uniform1f(St,Dt.u_dem_scale_prev),u_dem_size:new x.Uniform1f(St,Dt.u_dem_size),u_dem_lerp:new x.Uniform1f(St,Dt.u_dem_lerp),u_exaggeration:new x.Uniform1f(St,Dt.u_exaggeration),u_depth:new x.Uniform1i(St,Dt.u_depth),u_depth_size_inv:new x.Uniform2f(St,Dt.u_depth_size_inv),u_meter_to_dem:new x.Uniform1f(St,Dt.u_meter_to_dem),u_label_plane_matrix_inv:new x.UniformMatrix4f(St,Dt.u_label_plane_matrix_inv)}),-1!==ce.indexOf("FOG")&&(this.fogUniforms=((St,Dt)=>({u_fog_matrix:new x.UniformMatrix4f(St,Dt.u_fog_matrix),u_fog_range:new x.Uniform2f(St,Dt.u_fog_range),u_fog_color:new x.Uniform4f(St,Dt.u_fog_color),u_fog_horizon_blend:new x.Uniform1f(St,Dt.u_fog_horizon_blend),u_fog_temporal_offset:new x.Uniform1f(St,Dt.u_fog_temporal_offset)}))(m,Vt))}setTerrainUniformValues(m,T){if(!this.terrainUniforms)return;const N=this.terrainUniforms;if(!this.failedToCreate){m.program.set(this.program);for(const U in T)N[U].set(T[U])}}setFogUniformValues(m,T){if(!this.fogUniforms)return;const N=this.fogUniforms;if(!this.failedToCreate){m.program.set(this.program);for(const U in T)N[U].location&&N[U].set(T[U])}}draw(m,T,N,U,J,ce,ge,xe,ve,He,qe,Qe,Ke,pt,xt,Nt){const lt=m.gl;if(this.failedToCreate)return;m.program.set(this.program),m.setDepthMode(N),m.setStencilMode(U),m.setColorMode(J),m.setCullFace(ce);for(const Tt in this.fixedUniforms)this.fixedUniforms[Tt].set(ge[Tt]);pt&&pt.setUniforms(m,this.binderUniforms,Qe,{zoom:Ke});const wt={[lt.LINES]:2,[lt.TRIANGLES]:3,[lt.LINE_STRIP]:1}[T];for(const Tt of qe.get()){const Vt=Tt.vaos||(Tt.vaos={});(Vt[xe]||(Vt[xe]=new ch)).bind(m,this,ve,pt?pt.getPaintVertexBuffers():[],He,Tt.vertexOffset,xt,Nt),lt.drawElements(T,Tt.primitiveLength*wt,lt.UNSIGNED_SHORT,Tt.primitiveOffset*wt*2)}}}function os(R,m,T){const N=1/ai(T,1,m.transform.tileZoom),U=Math.pow(2,T.tileID.overscaledZ),J=T.tileSize*Math.pow(2,m.transform.tileZoom)/U,ce=J*(T.tileID.canonical.x+T.tileID.wrap*U),ge=J*T.tileID.canonical.y;return{u_image:0,u_texsize:T.imageAtlasTexture.size,u_scale:[N,R.fromScale,R.toScale],u_fade:R.t,u_pixel_coord_upper:[ce>>16,ge>>16],u_pixel_coord_lower:[65535&ce,65535&ge]}}const Ku=(R,m,T,N)=>{const U=m.style.light,J=U.properties.get("position"),ce=[J.x,J.y,J.z],ge=x.create$2();"viewport"===U.properties.get("anchor")&&(x.fromRotation(ge,-m.transform.angle),x.transformMat3(ce,ce,ge));const xe=U.properties.get("color");return{u_matrix:R,u_lightpos:ce,u_lightintensity:U.properties.get("intensity"),u_lightcolor:[xe.r,xe.g,xe.b],u_vertical_gradient:+T,u_opacity:N}},Yl=(R,m,T,N,U,J,ce)=>x.extend(Ku(R,m,T,N),os(J,m,ce),{u_height_factor:-Math.pow(2,U.overscaledZ)/ce.tileSize/8}),sc=R=>({u_matrix:R}),La=(R,m,T,N)=>x.extend(sc(R),os(T,m,N)),al=(R,m)=>({u_matrix:R,u_world:m}),ds=(R,m,T,N,U)=>x.extend(La(R,m,T,N),{u_world:U}),ca=(R,m,T,N)=>{const U=R.transform;let J;if("map"===N.paint.get("circle-pitch-alignment")){const ce=ai(T,1,U.zoom);J=[ce,ce]}else J=U.pixelsToGLUnits;return{u_camera_to_center_distance:U.cameraToCenterDistance,u_matrix:R.translatePosMatrix(m.projMatrix,T,N.paint.get("circle-translate"),N.paint.get("circle-translate-anchor")),u_device_pixel_ratio:x.exported.devicePixelRatio,u_extrude_scale:J}},uh=R=>{const m=[];return"map"===R.paint.get("circle-pitch-alignment")&&m.push("PITCH_WITH_MAP"),"map"===R.paint.get("circle-pitch-scale")&&m.push("SCALE_WITH_MAP"),m},xu=(R,m,T)=>{const N=x.EXTENT/T.tileSize;return{u_matrix:R,u_camera_to_center_distance:m.cameraToCenterDistance,u_extrude_scale:[m.pixelsToGLUnits[0]/N,m.pixelsToGLUnits[1]/N]}},Hl=(R,m,T=1)=>({u_matrix:R,u_color:m,u_overlay:0,u_overlay_scale:T}),Gh=(R,m,T,N)=>({u_matrix:R,u_extrude_scale:ai(m,1,T),u_intensity:N}),vc=(R,m,T,N)=>{const U=R.transform;return{u_matrix:wu(R,m,T,N),u_ratio:1/ai(m,1,U.zoom),u_device_pixel_ratio:x.exported.devicePixelRatio,u_units_to_pixels:[1/U.pixelsToGLUnits[0],1/U.pixelsToGLUnits[1]]}},rr=(R,m,T,N,U)=>x.extend(vc(R,m,T,N),{u_image:0,u_image_height:U}),ed=(R,m,T,N,U)=>{const J=R.transform,ce=bc(m,J);return{u_matrix:wu(R,m,T,U),u_texsize:m.imageAtlasTexture.size,u_ratio:1/ai(m,1,J.zoom),u_device_pixel_ratio:x.exported.devicePixelRatio,u_image:0,u_scale:[ce,N.fromScale,N.toScale],u_fade:N.t,u_units_to_pixels:[1/J.pixelsToGLUnits[0],1/J.pixelsToGLUnits[1]]}},Rd=(R,m,T,N,U)=>{const J=bc(m,R.transform);return x.extend(vc(R,m,T,U),{u_texsize:m.lineAtlasTexture.size,u_scale:[J,N.fromScale,N.toScale],u_image:0,u_mix:N.t})};function bc(R,m){return 1/ai(R,1,m.tileZoom)}function wu(R,m,T,N){return R.translatePosMatrix(N||m.tileID.projMatrix,m,T.paint.get("line-translate"),T.paint.get("line-translate-anchor"))}const sf=(R,m,T,N,U)=>{return{u_matrix:R,u_tl_parent:m,u_scale_parent:T,u_buffer_scale:1,u_fade_t:N.mix,u_opacity:N.opacity*U.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:U.paint.get("raster-brightness-min"),u_brightness_high:U.paint.get("raster-brightness-max"),u_saturation_factor:(ce=U.paint.get("raster-saturation"),ce>0?1-1/(1.001-ce):-ce),u_contrast_factor:(J=U.paint.get("raster-contrast"),J>0?1/(1-J):1+J),u_spin_weights:au(U.paint.get("raster-hue-rotate"))};var J,ce};function au(R){R*=Math.PI/180;const m=Math.sin(R),T=Math.cos(R);return[(2*T+1)/3,(-Math.sqrt(3)*m-T+1)/3,(Math.sqrt(3)*m-T+1)/3]}const td=(R,m,T,N,U,J,ce,ge,xe,ve)=>{const He=U.transform;return{u_is_size_zoom_constant:+("constant"===R||"source"===R),u_is_size_feature_constant:+("constant"===R||"camera"===R),u_size_t:m?m.uSizeT:0,u_size:m?m.uSize:0,u_camera_to_center_distance:He.cameraToCenterDistance,u_pitch:He.pitch/360*2*Math.PI,u_rotate_symbol:+T,u_aspect_ratio:He.width/He.height,u_fade_change:U.options.fadeDuration?U.symbolFadeChange:1,u_matrix:J,u_label_plane_matrix:ce,u_coord_matrix:ge,u_is_text:+xe,u_pitch_with_map:+N,u_texsize:ve,u_texture:0}},$n=(R,m,T,N,U,J,ce,ge,xe,ve,He)=>{const{cameraToCenterDistance:qe,_pitch:Qe}=U.transform;return x.extend(td(R,m,T,N,U,J,ce,ge,xe,ve),{u_gamma_scale:N?qe*Math.cos(U.terrain?0:Qe):1,u_device_pixel_ratio:x.exported.devicePixelRatio,u_is_halo:+He})},ms=(R,m,T,N,U,J,ce,ge,xe,ve)=>x.extend($n(R,m,T,N,U,J,ce,ge,!0,xe,!0),{u_texsize_icon:ve,u_texture_icon:1}),Wh=(R,m,T)=>({u_matrix:R,u_opacity:m,u_color:T}),Mo=(R,m,T,N,U,J)=>x.extend(function(ce,ge,xe,ve){const He=xe.imageManager.getPattern(ce.from.toString()),qe=xe.imageManager.getPattern(ce.to.toString()),{width:Qe,height:Ke}=xe.imageManager.getPixelSize(),pt=Math.pow(2,ve.tileID.overscaledZ),xt=ve.tileSize*Math.pow(2,xe.transform.tileZoom)/pt,Nt=xt*(ve.tileID.canonical.x+ve.tileID.wrap*pt),lt=xt*ve.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:He.tl,u_pattern_br_a:He.br,u_pattern_tl_b:qe.tl,u_pattern_br_b:qe.br,u_texsize:[Qe,Ke],u_mix:ge.t,u_pattern_size_a:He.displaySize,u_pattern_size_b:qe.displaySize,u_scale_a:ge.fromScale,u_scale_b:ge.toScale,u_tile_units_to_pixels:1/ai(ve,1,xe.transform.tileZoom),u_pixel_coord_upper:[Nt>>16,lt>>16],u_pixel_coord_lower:[65535&Nt,65535&lt]}}(N,J,T,U),{u_matrix:R,u_opacity:m}),Fd={fillExtrusion:(R,m)=>({u_matrix:new x.UniformMatrix4f(R,m.u_matrix),u_lightpos:new x.Uniform3f(R,m.u_lightpos),u_lightintensity:new x.Uniform1f(R,m.u_lightintensity),u_lightcolor:new x.Uniform3f(R,m.u_lightcolor),u_vertical_gradient:new x.Uniform1f(R,m.u_vertical_gradient),u_opacity:new x.Uniform1f(R,m.u_opacity)}),fillExtrusionPattern:(R,m)=>({u_matrix:new x.UniformMatrix4f(R,m.u_matrix),u_lightpos:new x.Uniform3f(R,m.u_lightpos),u_lightintensity:new x.Uniform1f(R,m.u_lightintensity),u_lightcolor:new x.Uniform3f(R,m.u_lightcolor),u_vertical_gradient:new x.Uniform1f(R,m.u_vertical_gradient),u_height_factor:new x.Uniform1f(R,m.u_height_factor),u_image:new x.Uniform1i(R,m.u_image),u_texsize:new x.Uniform2f(R,m.u_texsize),u_pixel_coord_upper:new x.Uniform2f(R,m.u_pixel_coord_upper),u_pixel_coord_lower:new x.Uniform2f(R,m.u_pixel_coord_lower),u_scale:new x.Uniform3f(R,m.u_scale),u_fade:new x.Uniform1f(R,m.u_fade),u_opacity:new x.Uniform1f(R,m.u_opacity)}),fill:(R,m)=>({u_matrix:new x.UniformMatrix4f(R,m.u_matrix)}),fillPattern:(R,m)=>({u_matrix:new x.UniformMatrix4f(R,m.u_matrix),u_image:new x.Uniform1i(R,m.u_image),u_texsize:new x.Uniform2f(R,m.u_texsize),u_pixel_coord_upper:new x.Uniform2f(R,m.u_pixel_coord_upper),u_pixel_coord_lower:new x.Uniform2f(R,m.u_pixel_coord_lower),u_scale:new x.Uniform3f(R,m.u_scale),u_fade:new x.Uniform1f(R,m.u_fade)}),fillOutline:(R,m)=>({u_matrix:new x.UniformMatrix4f(R,m.u_matrix),u_world:new x.Uniform2f(R,m.u_world)}),fillOutlinePattern:(R,m)=>({u_matrix:new x.UniformMatrix4f(R,m.u_matrix),u_world:new x.Uniform2f(R,m.u_world),u_image:new x.Uniform1i(R,m.u_image),u_texsize:new x.Uniform2f(R,m.u_texsize),u_pixel_coord_upper:new x.Uniform2f(R,m.u_pixel_coord_upper),u_pixel_coord_lower:new x.Uniform2f(R,m.u_pixel_coord_lower),u_scale:new x.Uniform3f(R,m.u_scale),u_fade:new x.Uniform1f(R,m.u_fade)}),circle:(R,m)=>({u_camera_to_center_distance:new x.Uniform1f(R,m.u_camera_to_center_distance),u_extrude_scale:new x.Uniform2f(R,m.u_extrude_scale),u_device_pixel_ratio:new x.Uniform1f(R,m.u_device_pixel_ratio),u_matrix:new x.UniformMatrix4f(R,m.u_matrix)}),collisionBox:(R,m)=>({u_matrix:new x.UniformMatrix4f(R,m.u_matrix),u_camera_to_center_distance:new x.Uniform1f(R,m.u_camera_to_center_distance),u_extrude_scale:new x.Uniform2f(R,m.u_extrude_scale)}),collisionCircle:(R,m)=>({u_matrix:new x.UniformMatrix4f(R,m.u_matrix),u_inv_matrix:new x.UniformMatrix4f(R,m.u_inv_matrix),u_camera_to_center_distance:new x.Uniform1f(R,m.u_camera_to_center_distance),u_viewport_size:new x.Uniform2f(R,m.u_viewport_size)}),debug:(R,m)=>({u_color:new x.UniformColor(R,m.u_color),u_matrix:new x.UniformMatrix4f(R,m.u_matrix),u_overlay:new x.Uniform1i(R,m.u_overlay),u_overlay_scale:new x.Uniform1f(R,m.u_overlay_scale)}),clippingMask:(R,m)=>({u_matrix:new x.UniformMatrix4f(R,m.u_matrix)}),heatmap:(R,m)=>({u_extrude_scale:new x.Uniform1f(R,m.u_extrude_scale),u_intensity:new x.Uniform1f(R,m.u_intensity),u_matrix:new x.UniformMatrix4f(R,m.u_matrix)}),heatmapTexture:(R,m)=>({u_image:new x.Uniform1i(R,m.u_image),u_color_ramp:new x.Uniform1i(R,m.u_color_ramp),u_opacity:new x.Uniform1f(R,m.u_opacity)}),hillshade:(R,m)=>({u_matrix:new x.UniformMatrix4f(R,m.u_matrix),u_image:new x.Uniform1i(R,m.u_image),u_latrange:new x.Uniform2f(R,m.u_latrange),u_light:new x.Uniform2f(R,m.u_light),u_shadow:new x.UniformColor(R,m.u_shadow),u_highlight:new x.UniformColor(R,m.u_highlight),u_accent:new x.UniformColor(R,m.u_accent)}),hillshadePrepare:(R,m)=>({u_matrix:new x.UniformMatrix4f(R,m.u_matrix),u_image:new x.Uniform1i(R,m.u_image),u_dimension:new x.Uniform2f(R,m.u_dimension),u_zoom:new x.Uniform1f(R,m.u_zoom),u_unpack:new x.Uniform4f(R,m.u_unpack)}),line:(R,m)=>({u_matrix:new x.UniformMatrix4f(R,m.u_matrix),u_ratio:new x.Uniform1f(R,m.u_ratio),u_device_pixel_ratio:new x.Uniform1f(R,m.u_device_pixel_ratio),u_units_to_pixels:new x.Uniform2f(R,m.u_units_to_pixels)}),lineGradient:(R,m)=>({u_matrix:new x.UniformMatrix4f(R,m.u_matrix),u_ratio:new x.Uniform1f(R,m.u_ratio),u_device_pixel_ratio:new x.Uniform1f(R,m.u_device_pixel_ratio),u_units_to_pixels:new x.Uniform2f(R,m.u_units_to_pixels),u_image:new x.Uniform1i(R,m.u_image),u_image_height:new x.Uniform1f(R,m.u_image_height)}),linePattern:(R,m)=>({u_matrix:new x.UniformMatrix4f(R,m.u_matrix),u_texsize:new x.Uniform2f(R,m.u_texsize),u_ratio:new x.Uniform1f(R,m.u_ratio),u_device_pixel_ratio:new x.Uniform1f(R,m.u_device_pixel_ratio),u_image:new x.Uniform1i(R,m.u_image),u_units_to_pixels:new x.Uniform2f(R,m.u_units_to_pixels),u_scale:new x.Uniform3f(R,m.u_scale),u_fade:new x.Uniform1f(R,m.u_fade)}),lineSDF:(R,m)=>({u_matrix:new x.UniformMatrix4f(R,m.u_matrix),u_texsize:new x.Uniform2f(R,m.u_texsize),u_ratio:new x.Uniform1f(R,m.u_ratio),u_device_pixel_ratio:new x.Uniform1f(R,m.u_device_pixel_ratio),u_units_to_pixels:new x.Uniform2f(R,m.u_units_to_pixels),u_image:new x.Uniform1i(R,m.u_image),u_scale:new x.Uniform3f(R,m.u_scale),u_mix:new x.Uniform1f(R,m.u_mix)}),raster:(R,m)=>({u_matrix:new x.UniformMatrix4f(R,m.u_matrix),u_tl_parent:new x.Uniform2f(R,m.u_tl_parent),u_scale_parent:new x.Uniform1f(R,m.u_scale_parent),u_buffer_scale:new x.Uniform1f(R,m.u_buffer_scale),u_fade_t:new x.Uniform1f(R,m.u_fade_t),u_opacity:new x.Uniform1f(R,m.u_opacity),u_image0:new x.Uniform1i(R,m.u_image0),u_image1:new x.Uniform1i(R,m.u_image1),u_brightness_low:new x.Uniform1f(R,m.u_brightness_low),u_brightness_high:new x.Uniform1f(R,m.u_brightness_high),u_saturation_factor:new x.Uniform1f(R,m.u_saturation_factor),u_contrast_factor:new x.Uniform1f(R,m.u_contrast_factor),u_spin_weights:new x.Uniform3f(R,m.u_spin_weights)}),symbolIcon:(R,m)=>({u_is_size_zoom_constant:new x.Uniform1i(R,m.u_is_size_zoom_constant),u_is_size_feature_constant:new x.Uniform1i(R,m.u_is_size_feature_constant),u_size_t:new x.Uniform1f(R,m.u_size_t),u_size:new x.Uniform1f(R,m.u_size),u_camera_to_center_distance:new x.Uniform1f(R,m.u_camera_to_center_distance),u_pitch:new x.Uniform1f(R,m.u_pitch),u_rotate_symbol:new x.Uniform1i(R,m.u_rotate_symbol),u_aspect_ratio:new x.Uniform1f(R,m.u_aspect_ratio),u_fade_change:new x.Uniform1f(R,m.u_fade_change),u_matrix:new x.UniformMatrix4f(R,m.u_matrix),u_label_plane_matrix:new x.UniformMatrix4f(R,m.u_label_plane_matrix),u_coord_matrix:new x.UniformMatrix4f(R,m.u_coord_matrix),u_is_text:new x.Uniform1i(R,m.u_is_text),u_pitch_with_map:new x.Uniform1i(R,m.u_pitch_with_map),u_texsize:new x.Uniform2f(R,m.u_texsize),u_texture:new x.Uniform1i(R,m.u_texture)}),symbolSDF:(R,m)=>({u_is_size_zoom_constant:new x.Uniform1i(R,m.u_is_size_zoom_constant),u_is_size_feature_constant:new x.Uniform1i(R,m.u_is_size_feature_constant),u_size_t:new x.Uniform1f(R,m.u_size_t),u_size:new x.Uniform1f(R,m.u_size),u_camera_to_center_distance:new x.Uniform1f(R,m.u_camera_to_center_distance),u_pitch:new x.Uniform1f(R,m.u_pitch),u_rotate_symbol:new x.Uniform1i(R,m.u_rotate_symbol),u_aspect_ratio:new x.Uniform1f(R,m.u_aspect_ratio),u_fade_change:new x.Uniform1f(R,m.u_fade_change),u_matrix:new x.UniformMatrix4f(R,m.u_matrix),u_label_plane_matrix:new x.UniformMatrix4f(R,m.u_label_plane_matrix),u_coord_matrix:new x.UniformMatrix4f(R,m.u_coord_matrix),u_is_text:new x.Uniform1i(R,m.u_is_text),u_pitch_with_map:new x.Uniform1i(R,m.u_pitch_with_map),u_texsize:new x.Uniform2f(R,m.u_texsize),u_texture:new x.Uniform1i(R,m.u_texture),u_gamma_scale:new x.Uniform1f(R,m.u_gamma_scale),u_device_pixel_ratio:new x.Uniform1f(R,m.u_device_pixel_ratio),u_is_halo:new x.Uniform1i(R,m.u_is_halo)}),symbolTextAndIcon:(R,m)=>({u_is_size_zoom_constant:new x.Uniform1i(R,m.u_is_size_zoom_constant),u_is_size_feature_constant:new x.Uniform1i(R,m.u_is_size_feature_constant),u_size_t:new x.Uniform1f(R,m.u_size_t),u_size:new x.Uniform1f(R,m.u_size),u_camera_to_center_distance:new x.Uniform1f(R,m.u_camera_to_center_distance),u_pitch:new x.Uniform1f(R,m.u_pitch),u_rotate_symbol:new x.Uniform1i(R,m.u_rotate_symbol),u_aspect_ratio:new x.Uniform1f(R,m.u_aspect_ratio),u_fade_change:new x.Uniform1f(R,m.u_fade_change),u_matrix:new x.UniformMatrix4f(R,m.u_matrix),u_label_plane_matrix:new x.UniformMatrix4f(R,m.u_label_plane_matrix),u_coord_matrix:new x.UniformMatrix4f(R,m.u_coord_matrix),u_is_text:new x.Uniform1i(R,m.u_is_text),u_pitch_with_map:new x.Uniform1i(R,m.u_pitch_with_map),u_texsize:new x.Uniform2f(R,m.u_texsize),u_texsize_icon:new x.Uniform2f(R,m.u_texsize_icon),u_texture:new x.Uniform1i(R,m.u_texture),u_texture_icon:new x.Uniform1i(R,m.u_texture_icon),u_gamma_scale:new x.Uniform1f(R,m.u_gamma_scale),u_device_pixel_ratio:new x.Uniform1f(R,m.u_device_pixel_ratio),u_is_halo:new x.Uniform1i(R,m.u_is_halo)}),background:(R,m)=>({u_matrix:new x.UniformMatrix4f(R,m.u_matrix),u_opacity:new x.Uniform1f(R,m.u_opacity),u_color:new x.UniformColor(R,m.u_color)}),backgroundPattern:(R,m)=>({u_matrix:new x.UniformMatrix4f(R,m.u_matrix),u_opacity:new x.Uniform1f(R,m.u_opacity),u_image:new x.Uniform1i(R,m.u_image),u_pattern_tl_a:new x.Uniform2f(R,m.u_pattern_tl_a),u_pattern_br_a:new x.Uniform2f(R,m.u_pattern_br_a),u_pattern_tl_b:new x.Uniform2f(R,m.u_pattern_tl_b),u_pattern_br_b:new x.Uniform2f(R,m.u_pattern_br_b),u_texsize:new x.Uniform2f(R,m.u_texsize),u_mix:new x.Uniform1f(R,m.u_mix),u_pattern_size_a:new x.Uniform2f(R,m.u_pattern_size_a),u_pattern_size_b:new x.Uniform2f(R,m.u_pattern_size_b),u_scale_a:new x.Uniform1f(R,m.u_scale_a),u_scale_b:new x.Uniform1f(R,m.u_scale_b),u_pixel_coord_upper:new x.Uniform2f(R,m.u_pixel_coord_upper),u_pixel_coord_lower:new x.Uniform2f(R,m.u_pixel_coord_lower),u_tile_units_to_pixels:new x.Uniform1f(R,m.u_tile_units_to_pixels)}),terrainRaster:mi,terrainDepth:mi,skybox:(R,m)=>({u_matrix:new x.UniformMatrix4f(R,m.u_matrix),u_sun_direction:new x.Uniform3f(R,m.u_sun_direction),u_cubemap:new x.Uniform1i(R,m.u_cubemap),u_opacity:new x.Uniform1f(R,m.u_opacity),u_temporal_offset:new x.Uniform1f(R,m.u_temporal_offset)}),skyboxGradient:(R,m)=>({u_matrix:new x.UniformMatrix4f(R,m.u_matrix),u_color_ramp:new x.Uniform1i(R,m.u_color_ramp),u_center_direction:new x.Uniform3f(R,m.u_center_direction),u_radius:new x.Uniform1f(R,m.u_radius),u_opacity:new x.Uniform1f(R,m.u_opacity),u_temporal_offset:new x.Uniform1f(R,m.u_temporal_offset)}),skyboxCapture:(R,m)=>({u_matrix_3f:new x.UniformMatrix3f(R,m.u_matrix_3f),u_sun_direction:new x.Uniform3f(R,m.u_sun_direction),u_sun_intensity:new x.Uniform1f(R,m.u_sun_intensity),u_color_tint_r:new x.Uniform4f(R,m.u_color_tint_r),u_color_tint_m:new x.Uniform4f(R,m.u_color_tint_m),u_luminance:new x.Uniform1f(R,m.u_luminance)})};let oc;function Pa(R,m,T,N,U,J,ce){const ge=R.context,xe=ge.gl,ve=R.useProgram("collisionBox"),He=[];let qe=0,Qe=0;for(let Tt=0;Tt<N.length;Tt++){const Vt=N[Tt],St=m.getTile(Vt),Dt=St.getBucket(T);if(!Dt)continue;let kn=Vt.projMatrix;0===U[0]&&0===U[1]||(kn=R.translatePosMatrix(Vt.projMatrix,St,U,J));const Dn=ce?Dt.textCollisionBox:Dt.iconCollisionBox,Nn=Dt.collisionCircleArray;if(Nn.length>0){const It=x.create$1(),ri=kn;x.mul$1(It,Dt.placementInvProjMatrix,R.transform.glCoordMatrix),x.mul$1(It,It,Dt.placementViewportMatrix),He.push({circleArray:Nn,circleOffset:Qe,transform:ri,invTransform:It}),qe+=Nn.length/4,Qe=qe}Dn&&(R.terrain&&R.terrain.setupElevationDraw(St,ve),ve.draw(ge,xe.LINES,x.DepthMode.disabled,x.StencilMode.disabled,R.colorModeForRenderPass(),x.CullFaceMode.disabled,xu(kn,R.transform,St),T.id,Dn.layoutVertexBuffer,Dn.indexBuffer,Dn.segments,null,R.transform.zoom,null,Dn.collisionVertexBuffer,Dn.collisionVertexBufferExt))}if(!ce||!He.length)return;const Ke=R.useProgram("collisionCircle"),pt=new x.StructArrayLayout2f1f2i16;pt.resize(4*qe),pt._trim();let xt=0;for(const Tt of He)for(let Vt=0;Vt<Tt.circleArray.length/4;Vt++){const St=4*Vt,Dt=Tt.circleArray[St+0],kn=Tt.circleArray[St+1],Dn=Tt.circleArray[St+2],Nn=Tt.circleArray[St+3];pt.emplace(xt++,Dt,kn,Dn,Nn,0),pt.emplace(xt++,Dt,kn,Dn,Nn,1),pt.emplace(xt++,Dt,kn,Dn,Nn,2),pt.emplace(xt++,Dt,kn,Dn,Nn,3)}(!oc||oc.length<2*qe)&&(oc=function(Tt){const Vt=2*Tt,St=new x.StructArrayLayout3ui6;St.resize(Vt),St._trim();for(let Dt=0;Dt<Vt;Dt++){const kn=6*Dt;St.uint16[kn+0]=4*Dt+0,St.uint16[kn+1]=4*Dt+1,St.uint16[kn+2]=4*Dt+2,St.uint16[kn+3]=4*Dt+2,St.uint16[kn+4]=4*Dt+3,St.uint16[kn+5]=4*Dt+0}return St}(qe));const Nt=ge.createIndexBuffer(oc,!0),lt=ge.createVertexBuffer(pt,x.collisionCircleLayout.members,!0);for(const Tt of He){const Vt={u_matrix:Tt.transform,u_inv_matrix:Tt.invTransform,u_camera_to_center_distance:(wt=R.transform).cameraToCenterDistance,u_viewport_size:[wt.width,wt.height]};Ke.draw(ge,xe.TRIANGLES,x.DepthMode.disabled,x.StencilMode.disabled,R.colorModeForRenderPass(),x.CullFaceMode.disabled,Vt,T.id,lt,Nt,x.SegmentVector.simpleSegment(0,2*Tt.circleOffset,Tt.circleArray.length,Tt.circleArray.length/2),null,R.transform.zoom,null,null,null)}var wt;lt.destroy(),Nt.destroy()}const Do=x.identity(new Float32Array(16));function Bs(R,m,T,N,U,J){const{horizontalAlign:ce,verticalAlign:ge}=x.getAnchorAlignment(R),xe=-(ce-.5)*m,ve=-(ge-.5)*T,He=x.evaluateVariableOffset(R,N);return new x.pointGeometry((xe/U+He[0])*J,(ve/U+He[1])*J)}function qh(R,m,T,N,U,J,ce,ge,xe,ve,He,qe){const Qe=R.text.placedSymbolArray,Ke=R.text.dynamicLayoutVertexArray,pt=R.icon.dynamicLayoutVertexArray,xt={};Ke.clear();for(let Nt=0;Nt<Qe.length;Nt++){const lt=Qe.get(Nt),wt=R.allowVerticalPlacement&&!lt.placedOrientation,Tt=lt.hidden||!lt.crossTileID||wt?null:N[lt.crossTileID];if(Tt){const Vt=new x.pointGeometry(lt.anchorX,lt.anchorY),St=qe(Vt),Dt=ze(Vt,T?ge:ce,St),kn=We(J.cameraToCenterDistance,Dt.signedDistanceFromCamera);let Dn=U.evaluateSizeForFeature(R.textSizeData,ve,lt)*kn/x.ONE_EM;T&&(Dn*=R.tilePixelRatio/xe);const{width:Nn,height:It,anchor:ri,textOffset:Bn,textScale:ui}=Tt,ti=Bs(ri,Nn,It,Bn,ui,Dn),Xn=T?ze(Vt.add(ti),ce,St).point:Dt.point.add(m?ti.rotate(-J.angle):ti),mr=R.allowVerticalPlacement&&lt.placedOrientation===x.WritingMode.vertical?Math.PI/2:0;for(let Pi=0;Pi<lt.numGlyphs;Pi++)x.addDynamicAttributes(Ke,Xn,mr);He&&lt.associatedIconIndex>=0&&(xt[lt.associatedIconIndex]={shiftedAnchor:Xn,angle:mr})}else qt(lt.numGlyphs,Ke)}if(He){pt.clear();const Nt=R.icon.placedSymbolArray;for(let lt=0;lt<Nt.length;lt++){const wt=Nt.get(lt);if(wt.hidden)qt(wt.numGlyphs,pt);else{const Tt=xt[lt];if(Tt)for(let Vt=0;Vt<wt.numGlyphs;Vt++)x.addDynamicAttributes(pt,Tt.shiftedAnchor,Tt.angle);else qt(wt.numGlyphs,pt)}}R.icon.dynamicLayoutVertexBuffer.updateData(pt)}R.text.dynamicLayoutVertexBuffer.updateData(Ke)}function Dp(R,m,T){return T.iconsInText&&m?"symbolTextAndIcon":R?"symbolSDF":"symbolIcon"}function ll(R,m,T,N,U,J,ce,ge,xe,ve,He,qe){const Qe=R.context,Ke=Qe.gl,pt=R.transform,xt="map"===ge,Nt="map"===xe,lt=xt&&"point"!==T.layout.get("symbol-placement"),wt=xt&&!Nt&&!lt,Tt=void 0!==T.layout.get("symbol-sort-key").constantOr(1);let Vt=!1;const St=R.depthModeForSublayer(0,x.DepthMode.ReadOnly),Dt=T.layout.get("text-variable-anchor"),kn=[],Dn=R.terrain&&Nt?["PITCH_WITH_MAP_TERRAIN"]:null;for(const Nn of N){const It=m.getTile(Nn),ri=It.getBucket(T);if(!ri)continue;const Bn=U?ri.text:ri.icon;if(!Bn||!Bn.segments.get().length)continue;const ui=Bn.programConfigurations.get(T.id),ti=U||ri.sdfIcons,Xn=U?ri.textSizeData:ri.iconSizeData,mr=Nt||0!==pt.pitch,Pi=R.useProgram(Dp(ti,U,ri),ui,Dn),Jr=x.evaluateSizeForZoom(Xn,pt.zoom);let hs,ys,Cr,ks,to=[0,0],jl=null;if(U){if(ys=It.glyphAtlasTexture,Cr=Ke.LINEAR,hs=It.glyphAtlasTexture.size,ri.iconsInText){to=It.imageAtlasTexture.size,jl=It.imageAtlasTexture;const kl="composite"===Xn.kind||"camera"===Xn.kind;ks=mr||R.options.rotating||R.options.zooming||kl?Ke.LINEAR:Ke.NEAREST}}else{const kl=1!==T.layout.get("icon-size").constantOr(0)||ri.iconsNeedLinear;ys=It.imageAtlasTexture,Cr=ti||R.options.rotating||R.options.zooming||kl||mr?Ke.LINEAR:Ke.NEAREST,hs=It.imageAtlasTexture.size}const ja=ai(It,1,R.transform.zoom),gs=Ie(Nn.projMatrix,Nt,xt,R.transform,ja),Ko=R.terrain&&Nt&&lt?x.invert(new Float32Array(16),gs):Do,Sl=Pe(Nn.projMatrix,Nt,xt,R.transform,ja),Hi=Dt&&ri.hasTextData(),Us="none"!==T.layout.get("icon-text-fit")&&Hi&&ri.hasIconData();if(lt){const kl=pt.elevation;bt(ri,Nn.projMatrix,R,U,gs,Sl,Nt,ve,kl?Vo=>kl.getAtTileOffset(Nn,Vo.x,Vo.y):null)}const Kr=R.translatePosMatrix(Nn.projMatrix,It,J,ce),Is=lt||U&&Dt||Us?Do:gs,fo=R.translatePosMatrix(Sl,It,J,ce,!0),Zr=ti&&0!==T.paint.get(U?"text-halo-width":"icon-halo-width").constantOr(1);let ul;ul=ti?ri.iconsInText?ms(Xn.kind,Jr,wt,Nt,R,Kr,Is,fo,hs,to):$n(Xn.kind,Jr,wt,Nt,R,Kr,Is,fo,U,hs,!0):td(Xn.kind,Jr,wt,Nt,R,Kr,Is,fo,U,hs);const dl={program:Pi,buffers:Bn,uniformValues:ul,atlasTexture:ys,atlasTextureIcon:jl,atlasInterpolation:Cr,atlasInterpolationIcon:ks,isSDF:ti,hasHalo:Zr,tile:It,labelPlaneMatrixInv:Ko};if(Tt&&ri.canOverlap){Vt=!0;const kl=Bn.segments.get();for(const Vo of kl)kn.push({segments:new x.SegmentVector([Vo]),sortKey:Vo.sortKey,state:dl})}else kn.push({segments:Bn.segments,sortKey:0,state:dl})}Vt&&kn.sort((Nn,It)=>Nn.sortKey-It.sortKey);for(const Nn of kn){const It=Nn.state;if(R.terrain&&R.terrain.setupElevationDraw(It.tile,It.program,{useDepthForOcclusion:!0,labelPlaneMatrixInv:It.labelPlaneMatrixInv}),Qe.activeTexture.set(Ke.TEXTURE0),It.atlasTexture.bind(It.atlasInterpolation,Ke.CLAMP_TO_EDGE),It.atlasTextureIcon&&(Qe.activeTexture.set(Ke.TEXTURE1),It.atlasTextureIcon&&It.atlasTextureIcon.bind(It.atlasInterpolationIcon,Ke.CLAMP_TO_EDGE)),It.isSDF){const ri=It.uniformValues;It.hasHalo&&(ri.u_is_halo=1,Uc(It.buffers,Nn.segments,T,R,It.program,St,He,qe,ri)),ri.u_is_halo=0}Uc(It.buffers,Nn.segments,T,R,It.program,St,He,qe,It.uniformValues)}}function Uc(R,m,T,N,U,J,ce,ge,xe){const ve=N.context;U.draw(ve,ve.gl.TRIANGLES,J,ce,ge,x.CullFaceMode.disabled,xe,T.id,R.layoutVertexBuffer,R.indexBuffer,m,T.paint,N.transform.zoom,R.programConfigurations.get(T.id),R.dynamicLayoutVertexBuffer,R.opacityVertexBuffer)}function po(R,m,T,N,U,J,ce){const ge=R.context.gl,xe=T.paint.get("fill-pattern"),ve=xe&&xe.constantOr(1),He=T.getCrossfadeParameters();let qe,Qe,Ke,pt,xt;ce?(Qe=ve&&!T.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",qe=ge.LINES):(Qe=ve?"fillPattern":"fill",qe=ge.TRIANGLES);for(const Nt of N){const lt=m.getTile(Nt);if(ve&&!lt.patternsLoaded())continue;const wt=lt.getBucket(T);if(!wt)continue;R.prepareDrawTile(Nt);const Tt=wt.programConfigurations.get(T.id),Vt=R.useProgram(Qe,Tt);ve&&(R.context.activeTexture.set(ge.TEXTURE0),lt.imageAtlasTexture.bind(ge.LINEAR,ge.CLAMP_TO_EDGE),Tt.updatePaintBuffers(He));const St=xe.constantOr(null);if(St&&lt.imageAtlas){const kn=lt.imageAtlas,Dn=kn.patternPositions[St.to.toString()],Nn=kn.patternPositions[St.from.toString()];Dn&&Nn&&Tt.setConstantPatternPositions(Dn,Nn)}const Dt=R.translatePosMatrix(Nt.projMatrix,lt,T.paint.get("fill-translate"),T.paint.get("fill-translate-anchor"));if(ce){pt=wt.indexBuffer2,xt=wt.segments2;const kn=R.terrain&&R.terrain.renderingToTexture?R.terrain.drapeBufferSize:[ge.drawingBufferWidth,ge.drawingBufferHeight];Ke="fillOutlinePattern"===Qe&&ve?ds(Dt,R,He,lt,kn):al(Dt,kn)}else pt=wt.indexBuffer,xt=wt.segments,Ke=ve?La(Dt,R,He,lt):sc(Dt);R.prepareDrawProgram(R.context,Vt,Nt.toUnwrapped()),Vt.draw(R.context,qe,U,R.stencilModeForClipping(Nt),J,x.CullFaceMode.disabled,Ke,T.id,wt.layoutVertexBuffer,pt,xt,T.paint,R.transform.zoom,Tt)}}function ya(R,m,T,N,U,J,ce){const ge=R.context,xe=ge.gl,ve=T.paint.get("fill-extrusion-pattern"),He=ve.constantOr(1),qe=T.getCrossfadeParameters(),Qe=T.paint.get("fill-extrusion-opacity");for(const Ke of N){const pt=m.getTile(Ke),xt=pt.getBucket(T);if(!xt)continue;const Nt=xt.programConfigurations.get(T.id),lt=R.useProgram(He?"fillExtrusionPattern":"fillExtrusion",Nt);if(R.terrain){const Dt=R.terrain;if(!xt.enableTerrain)continue;if(Dt.setupElevationDraw(pt,lt,{useMeterToDem:!0}),dh(ge,m,Ke,xt,T,Dt),!xt.centroidVertexBuffer){const kn=lt.attributes.a_centroid_pos;void 0!==kn&&xe.vertexAttrib2f(kn,0,0)}}He&&(R.context.activeTexture.set(xe.TEXTURE0),pt.imageAtlasTexture.bind(xe.LINEAR,xe.CLAMP_TO_EDGE),Nt.updatePaintBuffers(qe));const wt=ve.constantOr(null);if(wt&&pt.imageAtlas){const Dt=pt.imageAtlas,kn=Dt.patternPositions[wt.to.toString()],Dn=Dt.patternPositions[wt.from.toString()];kn&&Dn&&Nt.setConstantPatternPositions(kn,Dn)}const Tt=R.translatePosMatrix(Ke.projMatrix,pt,T.paint.get("fill-extrusion-translate"),T.paint.get("fill-extrusion-translate-anchor")),Vt=T.paint.get("fill-extrusion-vertical-gradient"),St=He?Yl(Tt,R,Vt,Qe,Ke,qe,pt):Ku(Tt,R,Vt,Qe);R.prepareDrawProgram(ge,lt,Ke.toUnwrapped()),lt.draw(ge,ge.gl.TRIANGLES,U,J,ce,x.CullFaceMode.backCCW,St,T.id,xt.layoutVertexBuffer,xt.indexBuffer,xt.segments,T.paint,R.transform.zoom,Nt,R.terrain?xt.centroidVertexBuffer:null)}}function dh(R,m,T,N,U,J){const ce=[lt=>{let wt=lt.canonical.x-1,Tt=lt.wrap;return wt<0&&(wt=(1<<lt.canonical.z)-1,Tt--),new x.OverscaledTileID(lt.overscaledZ,Tt,lt.canonical.z,wt,lt.canonical.y)},lt=>{let wt=lt.canonical.x+1,Tt=lt.wrap;return wt===1<<lt.canonical.z&&(wt=0,Tt++),new x.OverscaledTileID(lt.overscaledZ,Tt,lt.canonical.z,wt,lt.canonical.y)},lt=>new x.OverscaledTileID(lt.overscaledZ,lt.wrap,lt.canonical.z,lt.canonical.x,(0===lt.canonical.y?1<<lt.canonical.z:lt.canonical.y)-1),lt=>new x.OverscaledTileID(lt.overscaledZ,lt.wrap,lt.canonical.z,lt.canonical.x,lt.canonical.y===(1<<lt.canonical.z)-1?0:lt.canonical.y+1)],ge=lt=>{const wt=m.getSource().maxzoom,Tt=kn=>{const Dn=m.getTileByID(kn);if(Dn&&Dn.hasData())return Dn.getBucket(U)};let Vt,St,Dt;return(lt.overscaledZ===lt.canonical.z||lt.overscaledZ>=wt)&&(Vt=Tt(lt.key)),lt.overscaledZ>=wt&&(St=Tt(lt.calculateScaledKey(lt.overscaledZ+1))),lt.overscaledZ>wt&&(Dt=Tt(lt.calculateScaledKey(lt.overscaledZ-1))),Vt||St||Dt},xe=[0,0,0],ve=(lt,wt)=>(xe[0]=Math.min(lt.min.y,wt.min.y),xe[1]=Math.max(lt.max.y,wt.max.y),xe[2]=x.EXTENT-wt.min.x>lt.max.x?wt.min.x-x.EXTENT:lt.max.x,xe),He=(lt,wt)=>(xe[0]=Math.min(lt.min.x,wt.min.x),xe[1]=Math.max(lt.max.x,wt.max.x),xe[2]=x.EXTENT-wt.min.y>lt.max.y?wt.min.y-x.EXTENT:lt.max.y,xe),qe=[(lt,wt)=>ve(lt,wt),(lt,wt)=>ve(wt,lt),(lt,wt)=>He(lt,wt),(lt,wt)=>He(wt,lt)],Qe=new x.pointGeometry(0,0);let Ke,pt,xt;const Nt=(lt,wt,Tt,Vt,St)=>{const Dt=[[Vt?Tt:lt,Vt?lt:Tt,0],[Vt?Tt:wt,Vt?wt:Tt,0]],kn=St<0?x.EXTENT+St:St,Dn=[Vt?kn:(lt+wt)/2,Vt?(lt+wt)/2:kn,0];return 0===Tt&&St<0||0!==Tt&&St>0?J.getForTilePoints(xt,[Dn],!0,pt):Dt.push(Dn),J.getForTilePoints(T,Dt,!0,Ke),Math.max(Dt[0][2],Dt[1][2],Dn[2])/J.exaggeration()};for(let lt=0;lt<4;lt++){const wt=N.borders[lt];if(0===wt.length&&(N.borderDone[lt]=!0),N.borderDone[lt])continue;const Tt=xt=ce[lt](T),Vt=ge(Tt);if(!(Vt&&Vt.enableTerrain&&(pt=J.findDEMTileFor(Tt),pt&&pt.dem)))continue;if(!Ke){const Dn=J.findDEMTileFor(T);if(!Dn||!Dn.dem)return;Ke=Dn}const St=(lt<2?1:5)-lt,Dt=Vt.borders[St];let kn=0;for(let Dn=0;Dn<wt.length;Dn++){const Nn=N.featuresOnBorder[wt[Dn]],It=Nn.borders[lt];let ri;for(;kn<Dt.length&&(ri=Vt.featuresOnBorder[Dt[kn]],!(ri.borders[St][1]>It[0]+3));)Vt.borderDone[St]||Vt.encodeCentroid(void 0,ri,!1),kn++;if(ri&&kn<Dt.length){const Bn=kn;let ui=0;for(;!(ri.borders[St][0]>It[1]-3)&&(ui++,++kn!==Dt.length);)ri=Vt.featuresOnBorder[Dt[kn]];if(ri=Vt.featuresOnBorder[Dt[Bn]],Nn.intersectsCount()>1||ri.intersectsCount()>1||1!==ui){1!==ui&&(kn=Bn),N.encodeCentroid(void 0,Nn,!1),Vt.borderDone[St]||Vt.encodeCentroid(void 0,ri,!1);continue}const ti=qe[lt](Nn,ri),Xn=lt%2?x.EXTENT-1:0;Qe.x=Nt(ti[0],Math.min(x.EXTENT-1,ti[1]),Xn,lt<2,ti[2]),Qe.y=0,N.encodeCentroid(Qe,Nn,!1),Vt.borderDone[St]||Vt.encodeCentroid(Qe,ri,!1)}else N.encodeCentroid(void 0,Nn,!1)}N.borderDone[lt]=N.needsCentroidUpdate=!0,Vt.borderDone[St]||(Vt.borderDone[St]=Vt.needsCentroidUpdate=!0)}(N.needsCentroidUpdate||!N.centroidVertexBuffer&&0!==N.centroidVertexArray.length)&&N.uploadCentroid(R)}const xc=new x.Color(1,0,0,1),yr=new x.Color(0,1,0,1),of=new x.Color(0,0,1,1),$h=new x.Color(1,0,1,1),nd=new x.Color(0,1,1,1);function Cu(R,m,T,N){wc(R,0,m+T/2,R.transform.width,T,N)}function $o(R,m,T,N){wc(R,m-T/2,0,T,R.transform.height,N)}function wc(R,m,T,N,U,J){const ce=R.context,ge=ce.gl;ge.enable(ge.SCISSOR_TEST),ge.scissor(m*x.exported.devicePixelRatio,T*x.exported.devicePixelRatio,N*x.exported.devicePixelRatio,U*x.exported.devicePixelRatio),ce.clear({color:J}),ge.disable(ge.SCISSOR_TEST)}function Qh(R,m,T){const N=R.context,U=N.gl,J=T.projMatrix,ce=R.useProgram("debug"),ge=m.getTileByID(T.key);R.terrain&&R.terrain.setupElevationDraw(ge,ce);const xe=x.DepthMode.disabled,ve=x.StencilMode.disabled,He=R.colorModeForRenderPass();N.activeTexture.set(U.TEXTURE0),R.emptyTexture.bind(U.LINEAR,U.CLAMP_TO_EDGE),ce.draw(N,U.LINE_STRIP,xe,ve,He,x.CullFaceMode.disabled,Hl(J,x.Color.red),"$debug",R.debugBuffer,R.tileBorderIndexBuffer,R.debugSegments);const Qe=ge.latestRawTileData,Ke=Math.floor((Qe&&Qe.byteLength||0)/1024),pt=m.getTile(T).tileSize,xt=512/Math.min(pt,512)*(T.overscaledZ/R.transform.zoom)*.5;let Nt=T.canonical.toString();T.overscaledZ!==T.canonical.z&&(Nt+=` => ${T.overscaledZ}`),function(lt,wt){lt.initDebugOverlayCanvas();const Tt=lt.debugOverlayCanvas,Vt=lt.context.gl,St=lt.debugOverlayCanvas.getContext("2d");St.clearRect(0,0,Tt.width,Tt.height),St.shadowColor="white",St.shadowBlur=2,St.lineWidth=1.5,St.strokeStyle="white",St.textBaseline="top",St.font="bold 36px Open Sans, sans-serif",St.fillText(wt,5,5),St.strokeText(wt,5,5),lt.debugOverlayTexture.update(Tt),lt.debugOverlayTexture.bind(Vt.LINEAR,Vt.CLAMP_TO_EDGE)}(R,`${Nt} ${Ke}kb`),ce.draw(N,U.TRIANGLES,xe,ve,x.ColorMode.alphaBlended,x.CullFaceMode.disabled,Hl(J,x.Color.transparent,xt),"$debug",R.debugBuffer,R.quadTriangleIndexBuffer,R.debugSegments)}const Mu=x.createLayout([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:hh}=Mu;function va(R,m,T,N){R.emplaceBack(m,T,N)}class ua{constructor(m){this.vertexArray=new x.StructArrayLayout3f12,this.indices=new x.StructArrayLayout3ui6,va(this.vertexArray,-1,-1,1),va(this.vertexArray,1,-1,1),va(this.vertexArray,-1,1,1),va(this.vertexArray,1,1,1),va(this.vertexArray,-1,-1,-1),va(this.vertexArray,1,-1,-1),va(this.vertexArray,-1,1,-1),va(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=m.createVertexBuffer(this.vertexArray,hh),this.indexBuffer=m.createIndexBuffer(this.indices),this.segment=x.SegmentVector.simpleSegment(0,0,36,12)}}function Cc(R,m,T,N,U,J){const ce=R.gl,ge=m.paint.get("sky-atmosphere-color"),xe=m.paint.get("sky-atmosphere-halo-color"),ve=m.paint.get("sky-atmosphere-sun-intensity"),He={u_matrix_3f:x.fromMat4([],N),u_sun_direction:U,u_sun_intensity:ve,u_color_tint_r:[(pt=ge).r,pt.g,pt.b,pt.a],u_color_tint_m:[(xt=xe).r,xt.g,xt.b,xt.a],u_luminance:5e-5};var pt,xt;ce.framebufferTexture2D(ce.FRAMEBUFFER,ce.COLOR_ATTACHMENT0,ce.TEXTURE_CUBE_MAP_POSITIVE_X+J,m.skyboxTexture,0),T.draw(R,ce.TRIANGLES,x.DepthMode.disabled,x.StencilMode.disabled,x.ColorMode.unblended,x.CullFaceMode.frontCW,He,"skyboxCapture",m.skyboxGeometry.vertexBuffer,m.skyboxGeometry.indexBuffer,m.skyboxGeometry.segment)}const jc={symbol:function(R,m,T,N,U){if("translucent"!==R.renderPass)return;const J=x.StencilMode.disabled,ce=R.colorModeForRenderPass();T.layout.get("text-variable-anchor")&&function(ge,xe,ve,He,qe,Qe,Ke){const pt=xe.transform,xt="map"===qe,Nt="map"===Qe;for(const lt of ge){const wt=He.getTile(lt),Tt=wt.getBucket(ve);if(!Tt||!Tt.text||!Tt.text.segments.get().length)continue;const Vt=x.evaluateSizeForZoom(Tt.textSizeData,pt.zoom),St=ai(wt,1,xe.transform.zoom),Dt=Ie(lt.projMatrix,Nt,xt,xe.transform,St),kn="none"!==ve.layout.get("icon-text-fit")&&Tt.hasIconData();if(Vt){const Dn=Math.pow(2,pt.zoom-wt.tileID.overscaledZ),Nn=pt.elevation;qh(Tt,xt,Nt,Ke,x.symbolSize,pt,Dt,lt.projMatrix,Dn,Vt,kn,Nn?It=>Nn.getAtTileOffset(lt,It.x,It.y):It=>0)}}}(N,R,T,m,T.layout.get("text-rotation-alignment"),T.layout.get("text-pitch-alignment"),U),0!==T.paint.get("icon-opacity").constantOr(1)&&ll(R,m,T,N,!1,T.paint.get("icon-translate"),T.paint.get("icon-translate-anchor"),T.layout.get("icon-rotation-alignment"),T.layout.get("icon-pitch-alignment"),T.layout.get("icon-keep-upright"),J,ce),0!==T.paint.get("text-opacity").constantOr(1)&&ll(R,m,T,N,!0,T.paint.get("text-translate"),T.paint.get("text-translate-anchor"),T.layout.get("text-rotation-alignment"),T.layout.get("text-pitch-alignment"),T.layout.get("text-keep-upright"),J,ce),m.map.showCollisionBoxes&&(Pa(R,m,T,N,T.paint.get("text-translate"),T.paint.get("text-translate-anchor"),!0),Pa(R,m,T,N,T.paint.get("icon-translate"),T.paint.get("icon-translate-anchor"),!1))},circle:function(R,m,T,N){if("translucent"!==R.renderPass)return;const U=T.paint.get("circle-opacity"),J=T.paint.get("circle-stroke-width"),ce=T.paint.get("circle-stroke-opacity"),ge=void 0!==T.layout.get("circle-sort-key").constantOr(1);if(0===U.constantOr(1)&&(0===J.constantOr(1)||0===ce.constantOr(1)))return;const xe=R.context,ve=xe.gl,He=R.depthModeForSublayer(0,x.DepthMode.ReadOnly),qe=x.StencilMode.disabled,Qe=R.colorModeForRenderPass(),Ke=[];for(let pt=0;pt<N.length;pt++){const xt=N[pt],Nt=m.getTile(xt),lt=Nt.getBucket(T);if(!lt)continue;const wt=lt.programConfigurations.get(T.id),Tt=uh(T),Vt={programConfiguration:wt,program:R.useProgram("circle",wt,Tt),layoutVertexBuffer:lt.layoutVertexBuffer,indexBuffer:lt.indexBuffer,uniformValues:ca(R,xt,Nt,T),tile:Nt};if(ge){const St=lt.segments.get();for(const Dt of St)Ke.push({segments:new x.SegmentVector([Dt]),sortKey:Dt.sortKey,state:Vt})}else Ke.push({segments:lt.segments,sortKey:0,state:Vt})}ge&&Ke.sort((pt,xt)=>pt.sortKey-xt.sortKey);for(const pt of Ke){const{programConfiguration:xt,program:Nt,layoutVertexBuffer:lt,indexBuffer:wt,uniformValues:Tt,tile:Vt}=pt.state,St=pt.segments;R.terrain&&R.terrain.setupElevationDraw(Vt,Nt,{useDepthForOcclusion:!0}),R.prepareDrawProgram(xe,Nt,Vt.tileID.toUnwrapped()),Nt.draw(xe,ve.TRIANGLES,He,qe,Qe,x.CullFaceMode.disabled,Tt,T.id,lt,wt,St,T.paint,R.transform.zoom,xt)}},heatmap:function(R,m,T,N){if(0!==T.paint.get("heatmap-opacity"))if("offscreen"===R.renderPass){const U=R.context,J=U.gl,ce=x.StencilMode.disabled,ge=new x.ColorMode([J.ONE,J.ONE],x.Color.transparent,[!0,!0,!0,!0]);(function(xe,ve,He){const qe=xe.gl;xe.activeTexture.set(qe.TEXTURE1),xe.viewport.set([0,0,ve.width/4,ve.height/4]);let Qe=He.heatmapFbo;if(Qe)qe.bindTexture(qe.TEXTURE_2D,Qe.colorAttachment.get()),xe.bindFramebuffer.set(Qe.framebuffer);else{const Ke=qe.createTexture();qe.bindTexture(qe.TEXTURE_2D,Ke),qe.texParameteri(qe.TEXTURE_2D,qe.TEXTURE_WRAP_S,qe.CLAMP_TO_EDGE),qe.texParameteri(qe.TEXTURE_2D,qe.TEXTURE_WRAP_T,qe.CLAMP_TO_EDGE),qe.texParameteri(qe.TEXTURE_2D,qe.TEXTURE_MIN_FILTER,qe.LINEAR),qe.texParameteri(qe.TEXTURE_2D,qe.TEXTURE_MAG_FILTER,qe.LINEAR),Qe=He.heatmapFbo=xe.createFramebuffer(ve.width/4,ve.height/4,!1),function(pt,xt,Nt,lt){const wt=pt.gl;wt.texImage2D(wt.TEXTURE_2D,0,wt.RGBA,xt.width/4,xt.height/4,0,wt.RGBA,pt.extRenderToTextureHalfFloat?pt.extTextureHalfFloat.HALF_FLOAT_OES:wt.UNSIGNED_BYTE,null),lt.colorAttachment.set(Nt)}(xe,ve,Ke,Qe)}})(U,R,T),U.clear({color:x.Color.transparent});for(let xe=0;xe<N.length;xe++){const ve=N[xe];if(m.hasRenderableParent(ve))continue;const He=m.getTile(ve),qe=He.getBucket(T);if(!qe)continue;const Qe=qe.programConfigurations.get(T.id),Ke=R.useProgram("heatmap",Qe),{zoom:pt}=R.transform;R.terrain&&R.terrain.setupElevationDraw(He,Ke),R.prepareDrawProgram(U,Ke,ve.toUnwrapped()),Ke.draw(U,J.TRIANGLES,x.DepthMode.disabled,ce,ge,x.CullFaceMode.disabled,Gh(ve.projMatrix,He,pt,T.paint.get("heatmap-intensity")),T.id,qe.layoutVertexBuffer,qe.indexBuffer,qe.segments,T.paint,R.transform.zoom,Qe)}U.viewport.set([0,0,R.width,R.height])}else"translucent"===R.renderPass&&(R.context.setColorMode(R.colorModeForRenderPass()),function(U,J){const ce=U.context,ge=ce.gl,xe=J.heatmapFbo;if(!xe)return;ce.activeTexture.set(ge.TEXTURE0),ge.bindTexture(ge.TEXTURE_2D,xe.colorAttachment.get()),ce.activeTexture.set(ge.TEXTURE1);let ve=J.colorRampTexture;ve||(ve=J.colorRampTexture=new x.Texture(ce,J.colorRamp,ge.RGBA)),ve.bind(ge.LINEAR,ge.CLAMP_TO_EDGE),U.useProgram("heatmapTexture").draw(ce,ge.TRIANGLES,x.DepthMode.disabled,x.StencilMode.disabled,U.colorModeForRenderPass(),x.CullFaceMode.disabled,{u_image:0,u_color_ramp:1,u_opacity:J.paint.get("heatmap-opacity")},J.id,U.viewportBuffer,U.quadTriangleIndexBuffer,U.viewportSegments,J.paint,U.transform.zoom)}(R,T))},line:function(R,m,T,N){if("translucent"!==R.renderPass)return;const U=T.paint.get("line-opacity"),J=T.paint.get("line-width");if(0===U.constantOr(1)||0===J.constantOr(1))return;const ce=R.depthModeForSublayer(0,x.DepthMode.ReadOnly),ge=R.colorModeForRenderPass(),xe=T.paint.get("line-dasharray"),ve=xe.constantOr(1),He=T.layout.get("line-cap"),qe=T.paint.get("line-pattern"),Qe=qe.constantOr(1),Ke=T.paint.get("line-gradient"),pt=T.getCrossfadeParameters(),xt=Qe?"linePattern":ve?"lineSDF":Ke?"lineGradient":"line",Nt=R.context,lt=Nt.gl;for(const wt of N){const Tt=m.getTile(wt);if(Qe&&!Tt.patternsLoaded())continue;const Vt=Tt.getBucket(T);if(!Vt)continue;R.prepareDrawTile(wt);const St=Vt.programConfigurations.get(T.id),Dt=R.useProgram(xt,St),kn=qe.constantOr(null);if(kn&&Tt.imageAtlas){const Bn=Tt.imageAtlas,ui=Bn.patternPositions[kn.to.toString()],ti=Bn.patternPositions[kn.from.toString()];ui&&ti&&St.setConstantPatternPositions(ui,ti)}const Dn=xe.constantOr(null),Nn=He.constantOr(null);if(!Qe&&Dn&&Nn&&Tt.lineAtlas){const Bn=Tt.lineAtlas,ui=Bn.getDash(Dn.to,Nn),ti=Bn.getDash(Dn.from,Nn);ui&&ti&&St.setConstantPatternPositions(ui,ti)}const It=R.terrain?wt.projMatrix:null,ri=Qe?ed(R,Tt,T,pt,It):ve?Rd(R,Tt,T,pt,It):Ke?rr(R,Tt,T,It,Vt.lineClipsArray.length):vc(R,Tt,T,It);if(Qe)Nt.activeTexture.set(lt.TEXTURE0),Tt.imageAtlasTexture.bind(lt.LINEAR,lt.CLAMP_TO_EDGE),St.updatePaintBuffers(pt);else if(ve)Nt.activeTexture.set(lt.TEXTURE0),Tt.lineAtlasTexture.bind(lt.LINEAR,lt.REPEAT),St.updatePaintBuffers(pt);else if(Ke){const Bn=Vt.gradients[T.id];let ui=Bn.texture;if(T.gradientVersion!==Bn.version){let ti=256;if(T.stepInterpolant){const Xn=m.getSource().maxzoom,mr=wt.canonical.z===Xn?Math.ceil(1<<R.transform.maxZoom-wt.canonical.z):1;ti=x.clamp(x.nextPowerOfTwo(Vt.maxLineLength/x.EXTENT*1024*mr),256,Nt.maxTextureSize)}Bn.gradient=x.renderColorRamp({expression:T.gradientExpression(),evaluationKey:"lineProgress",resolution:ti,image:Bn.gradient||void 0,clips:Vt.lineClipsArray}),Bn.texture?Bn.texture.update(Bn.gradient):Bn.texture=new x.Texture(Nt,Bn.gradient,lt.RGBA),Bn.version=T.gradientVersion,ui=Bn.texture}Nt.activeTexture.set(lt.TEXTURE0),ui.bind(T.stepInterpolant?lt.NEAREST:lt.LINEAR,lt.CLAMP_TO_EDGE)}R.prepareDrawProgram(Nt,Dt,wt.toUnwrapped()),Dt.draw(Nt,lt.TRIANGLES,ce,R.stencilModeForClipping(wt),ge,x.CullFaceMode.disabled,ri,T.id,Vt.layoutVertexBuffer,Vt.indexBuffer,Vt.segments,T.paint,R.transform.zoom,St,Vt.layoutVertexBuffer2)}},fill:function(R,m,T,N){const U=T.paint.get("fill-color"),J=T.paint.get("fill-opacity");if(0===J.constantOr(1))return;const ce=R.colorModeForRenderPass(),ge=T.paint.get("fill-pattern"),xe=R.opaquePassEnabledForLayer()&&!ge.constantOr(1)&&1===U.constantOr(x.Color.transparent).a&&1===J.constantOr(0)?"opaque":"translucent";if(R.renderPass===xe){const ve=R.depthModeForSublayer(1,"opaque"===R.renderPass?x.DepthMode.ReadWrite:x.DepthMode.ReadOnly);po(R,m,T,N,ve,ce,!1)}if("translucent"===R.renderPass&&T.paint.get("fill-antialias")){const ve=R.depthModeForSublayer(T.getPaintProperty("fill-outline-color")?2:0,x.DepthMode.ReadOnly);po(R,m,T,N,ve,ce,!0)}},"fill-extrusion":function(R,m,T,N){const U=T.paint.get("fill-extrusion-opacity");if(0!==U&&"translucent"===R.renderPass){const J=new x.DepthMode(R.context.gl.LEQUAL,x.DepthMode.ReadWrite,R.depthRangeFor3D);if(1!==U||T.paint.get("fill-extrusion-pattern").constantOr(1))ya(R,m,T,N,J,x.StencilMode.disabled,x.ColorMode.disabled),ya(R,m,T,N,J,R.stencilModeFor3D(),R.colorModeForRenderPass());else{const ce=R.colorModeForRenderPass();ya(R,m,T,N,J,x.StencilMode.disabled,ce)}}},hillshade:function(R,m,T,N){if("offscreen"!==R.renderPass&&"translucent"!==R.renderPass)return;const U=R.context,J=R.depthModeForSublayer(0,x.DepthMode.ReadOnly),ce=R.colorModeForRenderPass(),ge=R.terrain&&R.terrain.renderingToTexture,[xe,ve]="translucent"!==R.renderPass||ge?[{},N]:R.stencilConfigForOverlap(N);for(const He of ve){const qe=m.getTile(He);if(qe.needsHillshadePrepare&&"offscreen"===R.renderPass)Qa(R,qe,T,J,x.StencilMode.disabled,ce);else if("translucent"===R.renderPass){const Qe=ge&&R.terrain?R.terrain.stencilModeForRTTOverlap(He):xe[He.overscaledZ];Sp(R,He,qe,T,J,Qe,ce)}}U.viewport.set([0,0,R.width,R.height])},raster:function(R,m,T,N,U,J){if("translucent"!==R.renderPass||0===T.paint.get("raster-opacity")||!N.length)return;const ce=R.context,ge=ce.gl,xe=m.getSource(),ve=R.useProgram("raster"),He=R.colorModeForRenderPass(),qe=R.terrain&&R.terrain.renderingToTexture,[Qe,Ke]=xe instanceof at||qe?[{},N]:R.stencilConfigForOverlap(N),pt=Ke[Ke.length-1].overscaledZ,xt=!R.options.moving;for(const Nt of Ke){const lt=qe?x.DepthMode.disabled:R.depthModeForSublayer(Nt.overscaledZ-pt,1===T.paint.get("raster-opacity")?x.DepthMode.ReadWrite:x.DepthMode.ReadOnly,ge.LESS),wt=Nt.toUnwrapped(),Tt=m.getTile(Nt);if(qe&&(!Tt||!Tt.hasData()))continue;const Vt=qe?Nt.projMatrix:R.transform.calculateProjMatrix(wt,xt),St=R.terrain&&qe?R.terrain.stencilModeForRTTOverlap(Nt):Qe[Nt.overscaledZ],Dt=J?0:T.paint.get("raster-fade-duration");Tt.registerFadeDuration(Dt);const kn=m.findLoadedParent(Nt,0),Dn=Hs(Tt,kn,m,R.transform,Dt);let Nn,It;R.terrain&&R.terrain.prepareDrawTile(Nt);const ri="nearest"===T.paint.get("raster-resampling")?ge.NEAREST:ge.LINEAR;ce.activeTexture.set(ge.TEXTURE0),Tt.texture.bind(ri,ge.CLAMP_TO_EDGE,ge.LINEAR_MIPMAP_NEAREST),ce.activeTexture.set(ge.TEXTURE1),kn?(kn.texture.bind(ri,ge.CLAMP_TO_EDGE,ge.LINEAR_MIPMAP_NEAREST),Nn=Math.pow(2,kn.tileID.overscaledZ-Tt.tileID.overscaledZ),It=[Tt.tileID.canonical.x*Nn%1,Tt.tileID.canonical.y*Nn%1]):Tt.texture.bind(ri,ge.CLAMP_TO_EDGE,ge.LINEAR_MIPMAP_NEAREST);const Bn=sf(Vt,It||[0,0],Nn||1,Dn,T);R.prepareDrawProgram(ce,ve,wt),xe instanceof at?ve.draw(ce,ge.TRIANGLES,lt,x.StencilMode.disabled,He,x.CullFaceMode.disabled,Bn,T.id,xe.boundsBuffer,R.quadTriangleIndexBuffer,xe.boundsSegments):ve.draw(ce,ge.TRIANGLES,lt,St,He,x.CullFaceMode.disabled,Bn,T.id,R.rasterBoundsBuffer,R.quadTriangleIndexBuffer,R.rasterBoundsSegments)}},background:function(R,m,T,N){const U=T.paint.get("background-color"),J=T.paint.get("background-opacity");if(0===J)return;const ce=R.context,ge=ce.gl,xe=R.transform,ve=xe.tileSize,He=T.paint.get("background-pattern");if(R.isPatternMissing(He))return;const qe=!He&&1===U.a&&1===J&&R.opaquePassEnabledForLayer()?"opaque":"translucent";if(R.renderPass!==qe)return;const Qe=x.StencilMode.disabled,Ke=R.depthModeForSublayer(0,"opaque"===qe?x.DepthMode.ReadWrite:x.DepthMode.ReadOnly),pt=R.colorModeForRenderPass(),xt=R.useProgram(He?"backgroundPattern":"background"),Nt=N||xe.coveringTiles({tileSize:ve});He&&(ce.activeTexture.set(ge.TEXTURE0),R.imageManager.bind(R.context));const lt=T.getCrossfadeParameters();for(const wt of Nt){const Tt=wt.toUnwrapped(),Vt=N?wt.projMatrix:R.transform.calculateProjMatrix(Tt);R.prepareDrawTile(wt);const St=He?Mo(Vt,J,R,He,{tileID:wt,tileSize:ve},lt):Wh(Vt,J,U);R.prepareDrawProgram(ce,xt,Tt),xt.draw(ce,ge.TRIANGLES,Ke,Qe,pt,x.CullFaceMode.disabled,St,T.id,R.tileExtentBuffer,R.quadTriangleIndexBuffer,R.tileExtentSegments)}},sky:function(R,m,T){const N=T.paint.get("sky-opacity");if(0===N)return;const U=R.context,J=T.paint.get("sky-type"),ce=new x.DepthMode(U.gl.LEQUAL,x.DepthMode.ReadOnly,[0,1]),ge=R.frameCounter/1e3%1;"atmosphere"===J?"offscreen"===R.renderPass?T.needsSkyboxCapture(R)&&(function(xe,ve,He,qe){const Qe=xe.context,Ke=Qe.gl;let pt=ve.skyboxFbo;if(!pt){pt=ve.skyboxFbo=Qe.createFramebuffer(32,32,!1),ve.skyboxGeometry=new ua(Qe),ve.skyboxTexture=Qe.gl.createTexture(),Ke.bindTexture(Ke.TEXTURE_CUBE_MAP,ve.skyboxTexture),Ke.texParameteri(Ke.TEXTURE_CUBE_MAP,Ke.TEXTURE_WRAP_S,Ke.CLAMP_TO_EDGE),Ke.texParameteri(Ke.TEXTURE_CUBE_MAP,Ke.TEXTURE_WRAP_T,Ke.CLAMP_TO_EDGE),Ke.texParameteri(Ke.TEXTURE_CUBE_MAP,Ke.TEXTURE_MIN_FILTER,Ke.LINEAR),Ke.texParameteri(Ke.TEXTURE_CUBE_MAP,Ke.TEXTURE_MAG_FILTER,Ke.LINEAR);for(let wt=0;wt<6;++wt)Ke.texImage2D(Ke.TEXTURE_CUBE_MAP_POSITIVE_X+wt,0,Ke.RGBA,32,32,0,Ke.RGBA,Ke.UNSIGNED_BYTE,null)}Qe.bindFramebuffer.set(pt.framebuffer),Qe.viewport.set([0,0,32,32]);const xt=ve.getCenter(xe,!0),Nt=xe.useProgram("skyboxCapture"),lt=new Float64Array(16);x.identity(lt),x.rotateY(lt,lt,.5*-Math.PI),Cc(Qe,ve,Nt,lt,xt,0),x.identity(lt),x.rotateY(lt,lt,.5*Math.PI),Cc(Qe,ve,Nt,lt,xt,1),x.identity(lt),x.rotateX(lt,lt,.5*-Math.PI),Cc(Qe,ve,Nt,lt,xt,2),x.identity(lt),x.rotateX(lt,lt,.5*Math.PI),Cc(Qe,ve,Nt,lt,xt,3),x.identity(lt),Cc(Qe,ve,Nt,lt,xt,4),x.identity(lt),x.rotateY(lt,lt,Math.PI),Cc(Qe,ve,Nt,lt,xt,5),Qe.viewport.set([0,0,xe.width,xe.height])}(R,T),T.markSkyboxValid(R)):"sky"===R.renderPass&&function(xe,ve,He,qe,Qe){const Ke=xe.context,pt=Ke.gl,xt=xe.transform,Nt=xe.useProgram("skybox");Ke.activeTexture.set(pt.TEXTURE0),pt.bindTexture(pt.TEXTURE_CUBE_MAP,ve.skyboxTexture);const lt={u_matrix:xt.skyboxMatrix,u_sun_direction:ve.getCenter(xe,!1),u_cubemap:0,u_opacity:qe,u_temporal_offset:Qe};xe.prepareDrawProgram(Ke,Nt),Nt.draw(Ke,pt.TRIANGLES,He,x.StencilMode.disabled,xe.colorModeForRenderPass(),x.CullFaceMode.backCW,lt,"skybox",ve.skyboxGeometry.vertexBuffer,ve.skyboxGeometry.indexBuffer,ve.skyboxGeometry.segment)}(R,T,ce,N,ge):"gradient"===J&&"sky"===R.renderPass&&function(xe,ve,He,qe,Qe){const Ke=xe.context,pt=Ke.gl,xt=xe.transform,Nt=xe.useProgram("skyboxGradient");ve.skyboxGeometry||(ve.skyboxGeometry=new ua(Ke)),Ke.activeTexture.set(pt.TEXTURE0);let lt=ve.colorRampTexture;lt||(lt=ve.colorRampTexture=new x.Texture(Ke,ve.colorRamp,pt.RGBA)),lt.bind(pt.LINEAR,pt.CLAMP_TO_EDGE);const wt=(Tt=xt.skyboxMatrix,Vt=ve.getCenter(xe,!1),St=ve.paint.get("sky-gradient-radius"),Dt=qe,kn=Qe,{u_matrix:Tt,u_color_ramp:0,u_center_direction:Vt,u_radius:x.degToRad(St),u_opacity:Dt,u_temporal_offset:kn});var Tt,Vt,St,Dt,kn;xe.prepareDrawProgram(Ke,Nt),Nt.draw(Ke,pt.TRIANGLES,He,x.StencilMode.disabled,xe.colorModeForRenderPass(),x.CullFaceMode.backCW,wt,"skyboxGradient",ve.skyboxGeometry.vertexBuffer,ve.skyboxGeometry.indexBuffer,ve.skyboxGeometry.segment)}(R,T,ce,N,ge)},debug:function(R,m,T){for(let N=0;N<T.length;N++)Qh(R,m,T[N])},custom:function(R,m,T){const N=R.context,U=T.implementation;if("offscreen"===R.renderPass){const J=U.prerender;J&&(R.setCustomLayerDefaults(),N.setColorMode(R.colorModeForRenderPass()),J.call(U,N.gl,R.transform.customLayerMatrix()),N.setDirty(),R.setBaseState())}else if("translucent"===R.renderPass){R.setCustomLayerDefaults(),N.setColorMode(R.colorModeForRenderPass()),N.setStencilMode(x.StencilMode.disabled);const J="3d"===U.renderingMode?new x.DepthMode(R.context.gl.LEQUAL,x.DepthMode.ReadWrite,R.depthRangeFor3D):R.depthModeForSublayer(0,x.DepthMode.ReadOnly);N.setDepthMode(J),U.render(N.gl,R.transform.customLayerMatrix()),N.setDirty(),R.setBaseState(),N.bindFramebuffer.set(null)}}};class af{constructor(m,T){this.context=new Ui(m),this.transform=T,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.setup(),this.numSublayers=x.SourceCache.maxUnderzooming+x.SourceCache.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new sh,this.gpuTimers={},this.frameCounter=0}updateTerrain(m,T){const N=!!m&&!!m.terrain;if(!(N||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new kp(this,m));const U=this._terrain;this.transform.elevation=N?U:null,U.update(m,this.transform,T)}_updateFog(m){const T=m.fog;if(!T||T.getOpacity(this.transform.pitch)<1||T.properties.get("horizon-blend")<.03)return void(this.transform.fogCullDistSq=null);const[N,U]=T.getFovAdjustedRange(this.transform._fov);if(N>U)return void(this.transform.fogCullDistSq=null);const J=N+.78*(U-N);this.transform.fogCullDistSq=J*J}get terrain(){return this._terrain&&this._terrain.enabled?this._terrain:null}resize(m,T){if(this.width=m*x.exported.devicePixelRatio,this.height=T*x.exported.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const N of this.style.order)this.style._layers[N].resize()}setup(){const m=this.context,T=new x.StructArrayLayout2i4;T.emplaceBack(0,0),T.emplaceBack(x.EXTENT,0),T.emplaceBack(0,x.EXTENT),T.emplaceBack(x.EXTENT,x.EXTENT),this.tileExtentBuffer=m.createVertexBuffer(T,x.posAttributes.members),this.tileExtentSegments=x.SegmentVector.simpleSegment(0,0,4,2);const N=new x.StructArrayLayout2i4;N.emplaceBack(0,0),N.emplaceBack(x.EXTENT,0),N.emplaceBack(0,x.EXTENT),N.emplaceBack(x.EXTENT,x.EXTENT),this.debugBuffer=m.createVertexBuffer(N,x.posAttributes.members),this.debugSegments=x.SegmentVector.simpleSegment(0,0,4,5);const U=new x.StructArrayLayout4i8;U.emplaceBack(0,0,0,0),U.emplaceBack(x.EXTENT,0,x.EXTENT,0),U.emplaceBack(0,x.EXTENT,0,x.EXTENT),U.emplaceBack(x.EXTENT,x.EXTENT,x.EXTENT,x.EXTENT),this.rasterBoundsBuffer=m.createVertexBuffer(U,Er.members),this.rasterBoundsSegments=x.SegmentVector.simpleSegment(0,0,4,2);const J=new x.StructArrayLayout2i4;J.emplaceBack(-1,-1),J.emplaceBack(1,-1),J.emplaceBack(-1,1),J.emplaceBack(1,1),this.viewportBuffer=m.createVertexBuffer(J,x.posAttributes.members),this.viewportSegments=x.SegmentVector.simpleSegment(0,0,4,2);const ce=new x.StructArrayLayout1ui2;ce.emplaceBack(0),ce.emplaceBack(1),ce.emplaceBack(3),ce.emplaceBack(2),ce.emplaceBack(0),this.tileBorderIndexBuffer=m.createIndexBuffer(ce);const ge=new x.StructArrayLayout3ui6;ge.emplaceBack(0,1,2),ge.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=m.createIndexBuffer(ge),this.emptyTexture=new x.Texture(m,{width:1,height:1,data:new Uint8Array([0,0,0,0])},m.gl.RGBA),this.identityMat=x.create$1();const xe=this.context.gl;this.stencilClearMode=new x.StencilMode({func:xe.ALWAYS,mask:0},0,255,xe.ZERO,xe.ZERO,xe.ZERO),this.loadTimeStamps.push(x.window.performance.now())}clearStencil(){const m=this.context,T=m.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this.useProgram("clippingMask").draw(m,T.TRIANGLES,x.DepthMode.disabled,this.stencilClearMode,x.ColorMode.disabled,x.CullFaceMode.disabled,Vc(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(m,T,N){if(!(T&&this.currentStencilSource!==T.id&&m.isTileClipped()&&N&&N.length))return;this.currentStencilSource=T.id;const U=this.context,J=U.gl;this.nextStencilID+N.length>256&&this.clearStencil(),U.setColorMode(x.ColorMode.disabled),U.setDepthMode(x.DepthMode.disabled);const ce=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const ge of N){const xe=this._tileClippingMaskIDs[ge.key]=this.nextStencilID++;ce.draw(U,J.TRIANGLES,x.DepthMode.disabled,new x.StencilMode({func:J.ALWAYS,mask:0},xe,255,J.KEEP,J.KEEP,J.REPLACE),x.ColorMode.disabled,x.CullFaceMode.disabled,Vc(ge.projMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const m=this.nextStencilID++,T=this.context.gl;return new x.StencilMode({func:T.NOTEQUAL,mask:255},m,255,T.KEEP,T.KEEP,T.REPLACE)}stencilModeForClipping(m){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(m);const T=this.context.gl;return new x.StencilMode({func:T.EQUAL,mask:255},this._tileClippingMaskIDs[m.key],0,T.KEEP,T.KEEP,T.REPLACE)}stencilConfigForOverlap(m){const T=this.context.gl,N=m.sort((ce,ge)=>ge.overscaledZ-ce.overscaledZ),U=N[N.length-1].overscaledZ,J=N[0].overscaledZ-U+1;if(J>1){this.currentStencilSource=void 0,this.nextStencilID+J>256&&this.clearStencil();const ce={};for(let ge=0;ge<J;ge++)ce[ge+U]=new x.StencilMode({func:T.GEQUAL,mask:255},ge+this.nextStencilID,255,T.KEEP,T.KEEP,T.REPLACE);return this.nextStencilID+=J,[ce,N]}return[{[U]:x.StencilMode.disabled},N]}colorModeForRenderPass(){const m=this.context.gl;if(this._showOverdrawInspector){const T=1/8;return new x.ColorMode([m.CONSTANT_COLOR,m.ONE],new x.Color(T,T,T,0),[!0,!0,!0,!0])}return"opaque"===this.renderPass?x.ColorMode.unblended:x.ColorMode.alphaBlended}depthModeForSublayer(m,T,N){if(!this.opaquePassEnabledForLayer())return x.DepthMode.disabled;const U=1-((1+this.currentLayer)*this.numSublayers+m)*this.depthEpsilon;return new x.DepthMode(N||this.context.gl.LEQUAL,T,[U,U])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(m,T){this.style=m,this.options=T,this.lineAtlas=m.lineAtlas,this.imageManager=m.imageManager,this.glyphManager=m.glyphManager,this.symbolFadeChange=m.placement.symbolFadeChange(x.exported.now()),this.imageManager.beginFrame();const N=this.style.order,U=this.style._sourceCaches;for(const ve in U){const He=U[ve];He.used&&He.prepare(this.context)}const J={},ce={},ge={};for(const ve in U){const He=U[ve];J[ve]=He.getVisibleCoordinates(),ce[ve]=J[ve].slice().reverse(),ge[ve]=He.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let ve=0;ve<N.length;ve++)if(this.style._layers[N[ve]].is3D()){this.opaquePassCutoff=ve;break}if(this.terrain&&(this.terrain.updateTileBinding(ge),this.opaquePassCutoff=0),!x.isMapAuthenticated(this.context.gl))return;this.renderPass="offscreen";for(const ve of N){const He=this.style._layers[ve],qe=m._getLayerSourceCache(He);if(!He.hasOffscreenPass()||He.isHidden(this.transform.zoom))continue;const Qe=qe?ce[qe.id]:void 0;("custom"===He.type||He.isSky()||Qe&&Qe.length)&&this.renderLayer(this,qe,He,Qe)}this.depthRangeFor3D=[0,1-(m.order.length+2)*this.numSublayers*this.depthEpsilon],this.terrain&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&this.terrain.drawDepth(),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]);let xe=x.Color.transparent;if(this.style.fog&&(xe=this.style.fog.properties.get("color")),this.context.clear({color:T.showOverdrawInspector?x.Color.black:xe,depth:1}),this.clearStencil(),this._showOverdrawInspector=T.showOverdrawInspector,this.renderPass="opaque",!this.terrain)for(this.currentLayer=N.length-1;this.currentLayer>=0;this.currentLayer--){const ve=this.style._layers[N[this.currentLayer]],He=m._getLayerSourceCache(ve);if(ve.isSky())continue;const qe=He?ce[He.id]:void 0;this._renderTileClippingMasks(ve,He,qe),this.renderLayer(this,He,ve,qe)}if(this.renderPass="sky",this.transform.isHorizonVisible())for(this.currentLayer=0;this.currentLayer<N.length;this.currentLayer++){const ve=this.style._layers[N[this.currentLayer]],He=m._getLayerSourceCache(ve);ve.isSky()&&this.renderLayer(this,He,ve,He?ce[He.id]:void 0)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<N.length;){const ve=this.style._layers[N[this.currentLayer]],He=m._getLayerSourceCache(ve);if(ve.isSky()){++this.currentLayer;continue}if(this.terrain&&this.style.isLayerDraped(ve)){if(ve.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer);continue}const qe=He?("symbol"===ve.type?ge:ce)[He.id]:void 0;this._renderTileClippingMasks(ve,He,He?J[He.id]:void 0),this.renderLayer(this,He,ve,qe),++this.currentLayer}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry){let ve=null;x.values(this.style._layers).forEach(He=>{const qe=m._getLayerSourceCache(He);qe&&!He.isHidden(this.transform.zoom)&&(!ve||ve.getSource().maxzoom<qe.getSource().maxzoom)&&(ve=qe)}),ve&&this.options.showTileBoundaries&&jc.debug(this,ve,ve.getVisibleCoordinates())}this.options.showPadding&&function(ve){const He=ve.transform.padding;Cu(ve,ve.transform.height-(He.top||0),3,xc),Cu(ve,He.bottom||0,3,yr),$o(ve,He.left||0,3,of),$o(ve,ve.transform.width-(He.right||0),3,$h);const qe=ve.transform.centerPoint;var Qe,Ke,pt,xt;wc(Qe=ve,(Ke=qe.x)-1,(pt=ve.transform.height-qe.y)-10,2,20,xt=nd),wc(Qe,Ke-10,pt-1,20,2,xt)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%x.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(x.window.performance.now()),this.saveCanvasCopy())}renderLayer(m,T,N,U){N.isHidden(this.transform.zoom)||("background"===N.type||"sky"===N.type||"custom"===N.type||U&&U.length)&&(this.id=N.id,this.gpuTimingStart(N),jc[N.type](m,T,N,U,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(m){if(!this.options.gpuTiming)return;const T=this.context.extTimerQuery;let N=this.gpuTimers[m.id];N||(N=this.gpuTimers[m.id]={calls:0,cpuTime:0,query:T.createQueryEXT()}),N.calls++,T.beginQueryEXT(T.TIME_ELAPSED_EXT,N.query)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const m=this.context.extTimerQuery;m.endQueryEXT(m.TIME_ELAPSED_EXT)}collectGpuTimers(){const m=this.gpuTimers;return this.gpuTimers={},m}queryGpuTimers(m){const T={};for(const N in m){const U=m[N],J=this.context.extTimerQuery,ce=J.getQueryObjectEXT(U.query,J.QUERY_RESULT_EXT)/1e6;J.deleteQueryEXT(U.query),T[N]=ce}return T}translatePosMatrix(m,T,N,U,J){if(!N[0]&&!N[1])return m;const ce=J?"map"===U?this.transform.angle:0:"viewport"===U?-this.transform.angle:0;if(ce){const ve=Math.sin(ce),He=Math.cos(ce);N=[N[0]*He-N[1]*ve,N[0]*ve+N[1]*He]}const ge=[J?N[0]:ai(T,N[0],this.transform.zoom),J?N[1]:ai(T,N[1],this.transform.zoom),0],xe=new Float32Array(16);return x.translate(xe,m,ge),xe}saveTileTexture(m){const T=this._tileTextures[m.size[0]];T?T.push(m):this._tileTextures[m.size[0]]=[m]}getTileTexture(m){const T=this._tileTextures[m];return T&&T.length>0?T.pop():null}isPatternMissing(m){if(!m)return!1;if(!m.from||!m.to)return!0;const T=this.imageManager.getPattern(m.from.toString()),N=this.imageManager.getPattern(m.to.toString());return!T||!N}currentGlobalDefines(){const m=this.terrain&&this.terrain.renderingToTexture,T=this.style&&this.style.fog,N=[];return this.terrain&&!this.terrain.renderingToTexture&&N.push("TERRAIN"),T&&!m&&0!==T.getOpacity(this.transform.pitch)&&N.push("FOG"),m&&N.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&N.push("OVERDRAW_INSPECTOR"),N}useProgram(m,T,N){this.cache=this.cache||{};const U=N||[],J=this.currentGlobalDefines().concat(U),ce=Ep.cacheKey(m,J,T);return this.cache[ce]||(this.cache[ce]=new Ep(this.context,m,Ld[m],T,Fd[m],J)),this.cache[ce]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const m=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(m.FUNC_ADD)}initDebugOverlayCanvas(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=x.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new x.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this._terrain&&this._terrain.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}prepareDrawTile(m){this.terrain&&this.terrain.prepareDrawTile(m)}prepareDrawProgram(m,T,N){if(this.terrain&&this.terrain.renderingToTexture)return;const U=this.style.fog;if(U){const J=U.getOpacity(this.transform.pitch);0!==J&&T.setFogUniformValues(m,((ce,ge,xe,ve)=>{const He=ge.properties.get("color"),qe=ce.frameCounter/1e3%1,Qe=[He.r/He.a,He.g/He.a,He.b/He.a,ve];return{u_fog_matrix:xe?ce.transform.calculateFogTileMatrix(xe):ce.identityMat,u_fog_range:ge.getFovAdjustedRange(ce.transform._fov),u_fog_color:Qe,u_fog_horizon_blend:ge.properties.get("horizon-blend"),u_fog_temporal_offset:qe}})(this,U,N,J))}}setTileLoadedFlag(m){this.tileLoaded=m}saveCanvasCopy(){this.frameCopies.push(this.canvasCopy()),this.tileLoaded=!1}canvasCopy(){const m=this.context.gl,T=m.createTexture();return m.bindTexture(m.TEXTURE_2D,T),m.copyTexImage2D(m.TEXTURE_2D,0,m.RGBA,0,0,m.drawingBufferWidth,m.drawingBufferHeight,0),T}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return!1;const m=this.style&&this.style.fog;return!!m&&0!==m.getOpacity(this.transform.pitch)}}class ph{constructor(m=0,T=0,N=0,U=0){if(isNaN(m)||m<0||isNaN(T)||T<0||isNaN(N)||N<0||isNaN(U)||U<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=m,this.bottom=T,this.left=N,this.right=U}interpolate(m,T,N){return null!=T.top&&null!=m.top&&(this.top=x.number(m.top,T.top,N)),null!=T.bottom&&null!=m.bottom&&(this.bottom=x.number(m.bottom,T.bottom,N)),null!=T.left&&null!=m.left&&(this.left=x.number(m.left,T.left,N)),null!=T.right&&null!=m.right&&(this.right=x.number(m.right,T.right,N)),this}getCenter(m,T){const N=x.clamp((this.left+m-this.right)/2,0,m),U=x.clamp((this.top+T-this.bottom)/2,0,T);return new x.pointGeometry(N,U)}equals(m){return this.top===m.top&&this.bottom===m.bottom&&this.left===m.left&&this.right===m.right}clone(){return new ph(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function cl(R,m){return[R[4*m],R[4*m+1],R[4*m+2],R[4*m+3]]}function Mc(R,m,T){R[4*m+0]=T[0],R[4*m+1]=T[1],R[4*m+2]=T[2],R[4*m+3]=T[3]}function Nd(R,m){const T=cl(R,3);x.fromQuat(R,m),Mc(R,3,T)}function Xt(R,m){Mc(R,3,[m[0],m[1],m[2],1])}function An(R,m){const T=x.identity$1([]);return x.rotateZ$1(T,T,-m),x.rotateX$1(T,T,-R),T}function yn(R,m){const T=[R[0],R[1],0],N=[m[0],m[1],0];if(x.length(T)>=1e-15){const ce=x.normalize([],T);x.scale(N,ce,x.dot(N,ce)),m[0]=N[0],m[1]=N[1]}const U=x.cross([],m,R);if(x.len(U)<1e-15)return null;const J=Math.atan2(-U[1],U[0]);return An(Math.atan2(Math.sqrt(R[0]*R[0]+R[1]*R[1]),-R[2]),J)}class Ei{constructor(m,T){this.position=m,this.orientation=T}get position(){return this._position}set position(m){this._position=this._renderWorldCopies?function(T){if(!T)return;const N=Array.isArray(T)?new x.MercatorCoordinate(T[0],T[1],T[2]):T;return N.x=x.wrap(N.x,0,1),N}(m):m}lookAtPoint(m,T){if(this.orientation=null,!this.position)return;const N=this._elevation?this._elevation.getAtPointOrZero(x.MercatorCoordinate.fromLngLat(m)):0,U=this.position,J=x.MercatorCoordinate.fromLngLat(m,N),ce=[J.x-U.x,J.y-U.y,J.z-U.z];T||(T=[0,0,1]),T[2]=Math.abs(T[2]),this.orientation=yn(ce,T)}setPitchBearing(m,T){this.orientation=An(x.degToRad(m),x.degToRad(-T))}}class sr{constructor(m,T){this._transform=x.identity([]),this._orientation=x.identity$1([]),T&&(this._orientation=T,Nd(this._transform,this._orientation)),m&&Xt(this._transform,m)}get mercatorPosition(){const m=this.position;return new x.MercatorCoordinate(m[0],m[1],m[2])}get position(){const m=cl(this._transform,3);return[m[0],m[1],m[2]]}set position(m){Xt(this._transform,m)}get orientation(){return this._orientation}set orientation(m){this._orientation=m,Nd(this._transform,this._orientation)}getPitchBearing(){const m=this.forward(),T=this.right();return{bearing:Math.atan2(-T[1],T[0]),pitch:Math.atan2(Math.sqrt(m[0]*m[0]+m[1]*m[1]),-m[2])}}setPitchBearing(m,T){this._orientation=An(m,T),Nd(this._transform,this._orientation)}forward(){const m=cl(this._transform,2);return[-m[0],-m[1],-m[2]]}up(){const m=cl(this._transform,1);return[-m[0],-m[1],-m[2]]}right(){const m=cl(this._transform,0);return[m[0],m[1],m[2]]}getCameraToWorld(m,T){const N=new Float64Array(16);return x.invert(N,this.getWorldToCamera(m,T)),N}getWorldToCameraPosition(m,T,N){const U=this.position;x.scale(U,U,-m);const J=new Float64Array(16);return x.fromScaling(J,[N,N,N]),x.translate(J,J,U),J[10]*=T,J}getWorldToCamera(m,T){const N=new Float64Array(16),U=new Float64Array(4),J=this.position;return x.conjugate(U,this._orientation),x.scale(J,J,-m),x.fromQuat(N,U),x.translate(N,N,J),N[1]*=-1,N[5]*=-1,N[9]*=-1,N[13]*=-1,N[8]*=T,N[9]*=T,N[10]*=T,N[11]*=T,N}getCameraToClipPerspective(m,T,N,U){const J=new Float64Array(16);return x.perspective(J,m,T,N,U),J}getDistanceToElevation(m){const T=0===m?0:x.mercatorZfromAltitude(m,this.position[1]),N=this.forward();return(T-this.position[2])/N[2]}clone(){return new sr([...this.position],[...this.orientation])}}class Dr{constructor(m,T,N,U,J){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===J||J,this._minZoom=m||0,this._maxZoom=T||22,this._minPitch=null==N?0:N,this._maxPitch=null==U?60:U,this.setMaxBounds(),this.width=0,this.height=0,this._center=new x.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new ph,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._camera=new sr,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._horizonShift=.1}clone(){const m=new Dr(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return m._elevation=this._elevation,m._centerAltitude=this._centerAltitude,m.tileSize=this.tileSize,m.latRange=this.latRange,m.width=this.width,m.height=this.height,m.cameraElevationReference=this.cameraElevationReference,m._center=this._center,m._setZoom(this.zoom),m._cameraZoom=this._cameraZoom,m.angle=this.angle,m._fov=this._fov,m._pitch=this._pitch,m._averageElevation=this._averageElevation,m._unmodified=this._unmodified,m._edgeInsets=this._edgeInsets.clone(),m._camera=this._camera.clone(),m._calcMatrices(),m.freezeTileCoverage=this.freezeTileCoverage,m}get elevation(){return this._elevation}set elevation(m){this._elevation!==m&&(this._elevation=m,m?this._updateCenterElevation()&&this._updateCameraOnTerrain():(this._cameraZoom=null,this._centerAltitude=0),this._calcMatrices())}updateElevation(m){this._terrainEnabled()&&null==this._cameraZoom&&this._updateCenterElevation()&&this._updateCameraOnTerrain(),m&&this._constrainCameraAltitude(),this._calcMatrices()}get minZoom(){return this._minZoom}set minZoom(m){this._minZoom!==m&&(this._minZoom=m,this.zoom=Math.max(this.zoom,m))}get maxZoom(){return this._maxZoom}set maxZoom(m){this._maxZoom!==m&&(this._maxZoom=m,this.zoom=Math.min(this.zoom,m))}get minPitch(){return this._minPitch}set minPitch(m){this._minPitch!==m&&(this._minPitch=m,this.pitch=Math.max(this.pitch,m))}get maxPitch(){return this._maxPitch}set maxPitch(m){this._maxPitch!==m&&(this._maxPitch=m,this.pitch=Math.min(this.pitch,m))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(m){void 0===m?m=!0:null===m&&(m=!1),this._renderWorldCopies=m}get worldSize(){return this.tileSize*this.scale}get cameraWorldSize(){const m=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(m))}get pixelsPerMeter(){return x.mercatorZfromAltitude(1,this.center.lat)*this.worldSize}get cameraPixelsPerMeter(){return x.mercatorZfromAltitude(1,this.center.lat)*this.cameraWorldSize}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new x.pointGeometry(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(m){const T=-x.wrap(m,-180,180)*Math.PI/180;var N,U,J,ce,ge,xe,ve,He,qe,Qe;this.angle!==T&&(this._unmodified=!1,this.angle=T,this._calcMatrices(),this.rotationMatrix=(N=new x.ARRAY_TYPE(4),x.ARRAY_TYPE!=Float32Array&&(N[1]=0,N[2]=0),N[0]=1,N[3]=1,N),U=this.rotationMatrix,ce=this.angle,ge=(J=this.rotationMatrix)[0],xe=J[1],ve=J[2],He=J[3],qe=Math.sin(ce),Qe=Math.cos(ce),U[0]=ge*Qe+ve*qe,U[1]=xe*Qe+He*qe,U[2]=ge*-qe+ve*Qe,U[3]=xe*-qe+He*Qe)}get pitch(){return this._pitch/Math.PI*180}set pitch(m){const T=x.clamp(m,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==T&&(this._unmodified=!1,this._pitch=T,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(m){m=Math.max(.01,Math.min(60,m)),this._fov!==m&&(this._unmodified=!1,this._fov=m/180*Math.PI,this._calcMatrices())}get averageElevation(){return this._averageElevation}set averageElevation(m){this._averageElevation=m,this._calcFogMatrices()}get zoom(){return this._zoom}set zoom(m){const T=Math.min(Math.max(m,this.minZoom),this.maxZoom);this._zoom!==T&&(this._unmodified=!1,this._setZoom(T),this._terrainEnabled()&&this._updateCameraOnTerrain(),this._constrain(),this._calcMatrices())}_setZoom(m){this._zoom=m,this.scale=this.zoomScale(m),this.tileZoom=Math.floor(m),this.zoomFraction=m-this.tileZoom}_updateCenterElevation(){if(!this._elevation)return!1;const m=this._elevation.getAtPointOrZero(x.MercatorCoordinate.fromLngLat(this.center),-1);return-1===m?(this._cameraZoom=null,!1):(this._centerAltitude=m,!0)}_updateCameraOnTerrain(){const m=this.cameraToCenterDistance/this.worldSize,T=x.mercatorZfromAltitude(this._centerAltitude,this.center.lat);this._cameraZoom=this._zoomFromMercatorZ(T+m)}sampleAverageElevation(){if(!this._elevation)return 0;const m=this._elevation,T=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],N=this.horizonLineFromTop();let U=0,J=0;for(let ce=0;ce<T.length;ce++){const ge=new x.pointGeometry(T[ce][0]*this.width,N+T[ce][1]*(this.height-N)),xe=m.pointCoordinate(ge);if(!xe)continue;const ve=1/Math.hypot(xe[0]-this._camera.position[0],xe[1]-this._camera.position[1]);U+=xe[3]*ve,J+=ve}return 0===J?NaN:U/J}get center(){return this._center}set center(m){m.lat===this._center.lat&&m.lng===this._center.lng||(this._unmodified=!1,this._center=m,this._terrainEnabled()&&("ground"===this.cameraElevationReference?this._updateCenterElevation()?this._updateCameraOnTerrain():this._cameraZoom=null:this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(null==this._cameraZoom||!this._elevation)return;const m=this._cameraZoom,T=this._elevation.getAtPointOrZero(x.MercatorCoordinate.fromLngLat(this.center)),N=x.mercatorZfromAltitude(T,this.center.lat),U=this._mercatorZfromZoom(m),J=this._mercatorZfromZoom(this._maxZoom),ce=Math.max(U-N,J);this._setZoom(this._zoomFromMercatorZ(ce))}get padding(){return this._edgeInsets.toJSON()}set padding(m){this._edgeInsets.equals(m)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,m,1),this._calcMatrices())}computeZoomRelativeTo(m){const T=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,m.toAltitude()));let N;N=m.z<this._camera.position[2]?[T.x,T.y,T.z]:[m.x,m.y,m.z];const U=x.length(x.sub([],this._camera.position,N));return x.clamp(this._zoomFromMercatorZ(U),this._minZoom,this._maxZoom)}setFreeCameraOptions(m){if(!this.height||!m.position&&!m.orientation)return;this._updateCameraState();let T=!1;if(m.orientation&&!x.exactEquals(m.orientation,this._camera.orientation)&&(T=this._setCameraOrientation(m.orientation)),m.position){const N=[m.position.x,m.position.y,m.position.z];x.exactEquals$1(N,this._camera.position)||(this._setCameraPosition(N),T=!0)}T&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const m=this._camera.position,T=new Ei;return T.position=new x.MercatorCoordinate(m[0],m[1],m[2]),T.orientation=this._camera.orientation,T._elevation=this.elevation,T._renderWorldCopies=this._renderWorldCopies,T}_setCameraOrientation(m){if(!x.length$1(m))return!1;x.normalize$1(m,m);const T=x.transformQuat([],[0,0,-1],m),N=x.transformQuat([],[0,-1,0],m);if(N[2]<0)return!1;const U=yn(T,N);return!!U&&(this._camera.orientation=U,!0)}_setCameraPosition(m){const T=this.zoomScale(this.minZoom)*this.tileSize,N=this.zoomScale(this.maxZoom)*this.tileSize,U=this.cameraToCenterDistance;m[2]=x.clamp(m[2],U/N,U/T),this._camera.position=m}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(m){return this._edgeInsets.equals(m)}interpolatePadding(m,T,N){this._unmodified=!1,this._edgeInsets.interpolate(m,T,N),this._constrain(),this._calcMatrices()}coveringZoomLevel(m){const T=(m.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/m.tileSize));return Math.max(0,T)}getVisibleUnwrappedCoordinates(m){const T=[new x.UnwrappedTileID(0,m)];if(this._renderWorldCopies){const N=this.pointCoordinate(new x.pointGeometry(0,0)),U=this.pointCoordinate(new x.pointGeometry(this.width,0)),J=this.pointCoordinate(new x.pointGeometry(this.width,this.height)),ce=this.pointCoordinate(new x.pointGeometry(0,this.height)),ge=Math.floor(Math.min(N.x,U.x,J.x,ce.x)),xe=Math.floor(Math.max(N.x,U.x,J.x,ce.x)),ve=1;for(let He=ge-ve;He<=xe+ve;He++)0!==He&&T.push(new x.UnwrappedTileID(He,m))}return T}coveringTiles(m){let T=this.coveringZoomLevel(m);const N=T,U=this.elevation&&!m.isTerrainDEM;if(void 0!==m.minzoom&&T<m.minzoom)return[];void 0!==m.maxzoom&&T>m.maxzoom&&(T=m.maxzoom);const J=x.MercatorCoordinate.fromLngLat(this.center),ce=1<<T,ge=[ce*J.x,ce*J.y,0],xe=ii.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,T),ve=this.pointCoordinate(this.getCameraPoint()),He=ce*x.mercatorZfromAltitude(1,this.center.lat),qe=this._camera.position[2]/x.mercatorZfromAltitude(1,this.center.lat),Qe=[ce*ve.x,ce*ve.y,qe],Ke=this.cameraToCenterDistance/m.tileSize*(m.roundZoom?1:.502),pt=this.pitch<=60&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation?T:0,xt=m.isTerrainDEM&&this._elevation?1e4*this._elevation.exaggeration():this._centerAltitude,Nt=m.isTerrainDEM?-xt:this._elevation?this._elevation.getMinElevationBelowMSL():0,lt=It=>({aabb:new Fn([It*ce,0,Nt],[(It+1)*ce,ce,xt]),zoom:0,x:0,y:0,wrap:It,fullyVisible:!1}),wt=[],Tt=[],Vt=T,St=m.reparseOverscaled?N:T,Dt=It=>{if(!this._elevation||!It.tileID)return;const ri=this._elevation.getMinMaxForTile(It.tileID),Bn=It.aabb;ri?(Bn.min[2]=ri.min,Bn.max[2]=ri.max,Bn.center[2]=(Bn.min[2]+Bn.max[2])/2):(It.shouldSplit=Nn(It),It.shouldSplit||(Bn.min[2]=Bn.max[2]=Bn.center[2]=this._centerAltitude))},kn=It=>It*It,Dn=kn((qe-this._centerAltitude)*He),Nn=It=>{if(It.zoom<pt)return!0;if(It.zoom===Vt)return!1;if(null!=It.shouldSplit)return It.shouldSplit;const ri=It.aabb.distanceX(Qe),Bn=It.aabb.distanceY(Qe);let ui=Dn;U&&(ui=kn(It.aabb.distanceZ(Qe)*He));const ti=ri*ri+Bn*Bn+ui;return ti<kn((1<<Vt-It.zoom)*Ke*((Xn,mr)=>{if(mr*kn(.707)<Xn)return 1;const Pi=Math.sqrt(mr/Xn);return Pi/(1.4144271570014144+(Math.pow(1.1,Pi-1.4144271570014144+1)-1)/(1.1-1)-1)})(Math.max(ui,Dn),ti))};if(this._renderWorldCopies)for(let It=1;It<=3;It++)wt.push(lt(-It)),wt.push(lt(It));for(wt.push(lt(0));wt.length>0;){const It=wt.pop(),ri=It.x,Bn=It.y;let ui=It.fullyVisible;if(!ui){const ti=It.aabb.intersects(xe);if(0===ti)continue;ui=2===ti}if(It.zoom!==Vt&&Nn(It))for(let ti=0;ti<4;ti++){const Xn=(ri<<1)+ti%2,mr=(Bn<<1)+(ti>>1),Pi={aabb:It.aabb.quadrant(ti),zoom:It.zoom+1,x:Xn,y:mr,wrap:It.wrap,fullyVisible:ui,tileID:void 0,shouldSplit:void 0};U&&(Pi.tileID=new x.OverscaledTileID(It.zoom+1===Vt?St:It.zoom+1,It.wrap,It.zoom+1,Xn,mr),Dt(Pi)),wt.push(Pi)}else{const ti=It.zoom===Vt?St:It.zoom;if(m.minzoom&&m.minzoom>ti)continue;const Xn=ge[0]-(.5+ri+(It.wrap<<It.zoom))*(1<<T-It.zoom),mr=ge[1]-.5-Bn,Pi=It.tileID?It.tileID:new x.OverscaledTileID(ti,It.wrap,It.zoom,ri,Bn);Tt.push({tileID:Pi,distanceSq:Xn*Xn+mr*mr})}}if(this.fogCullDistSq){const It=this.fogCullDistSq;Tt.splice(0,Tt.length,...Tt.filter(ri=>{const Bn=[0,0,0,1],ui=[x.EXTENT,x.EXTENT,0,1],ti=this.calculateFogTileMatrix(ri.tileID.toUnwrapped());x.transformMat4(Bn,Bn,ti),x.transformMat4(ui,ui,ti);const Xn=x.getAABBPointSquareDist(Bn,ui);if(0===Xn)return!0;let mr=!1;const Pi=this.horizonLineFromTop();if(Xn>It&&0!==Pi){const Jr=this.calculateProjMatrix(ri.tileID.toUnwrapped());let hs;U&&this._elevation&&(hs=this._elevation.getMinMaxForTile(ri.tileID)),hs||(hs={min:Nt,max:xt});const ys=x.furthestTileCorner(this.bearing),Cr=[ys[0]*x.EXTENT,ys[1]*x.EXTENT,hs.max];x.transformMat4$1(Cr,Cr,Jr),mr=(1-Cr[1])*this.height*.5<Pi}return Xn<It||mr}))}return Tt.sort((It,ri)=>It.distanceSq-ri.distanceSq).map(It=>It.tileID)}resize(m,T){this.width=m,this.height=T,this.pixelsToGLUnits=[2/m,-2/T],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(m){return Math.pow(2,m)}scaleZoom(m){return Math.log(m)/Math.LN2}project(m){const T=x.clamp(m.lat,-this.maxValidLatitude,this.maxValidLatitude);return new x.pointGeometry(x.mercatorXfromLng(m.lng)*this.worldSize,x.mercatorYfromLat(T)*this.worldSize)}unproject(m){return new x.MercatorCoordinate(m.x/this.worldSize,m.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}setLocationAtPoint(m,T){const N=this.pointCoordinate(T),U=this.pointCoordinate(this.centerPoint),J=this.locationCoordinate(m),ce=new x.MercatorCoordinate(J.x-(N.x-U.x),J.y-(N.y-U.y));this.center=this.coordinateLocation(ce),this._renderWorldCopies&&(this.center=this.center.wrap())}setLocation(m){this.center=this.coordinateLocation(m),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(m){return this._coordinatePoint(this.locationCoordinate(m),!1)}locationPoint3D(m){return this._coordinatePoint(this.locationCoordinate(m),!0)}pointLocation(m){return this.coordinateLocation(this.pointCoordinate(m))}pointLocation3D(m){return this.coordinateLocation(this.pointCoordinate3D(m))}locationCoordinate(m){return x.MercatorCoordinate.fromLngLat(m)}coordinateLocation(m){return m.toLngLat()}pointRayIntersection(m,T){const N=null!=T?T:this._centerAltitude,U=[m.x,m.y,0,1],J=[m.x,m.y,1,1];x.transformMat4(U,U,this.pixelMatrixInverse),x.transformMat4(J,J,this.pixelMatrixInverse);const ce=J[3];x.scale$2(U,U,1/U[3]),x.scale$2(J,J,1/ce);const ge=U[2],xe=J[2];return{p0:U,p1:J,t:ge===xe?0:(N-ge)/(xe-ge)}}screenPointToMercatorRay(m){const T=[m.x,m.y,0,1],N=[m.x,m.y,1,1];return x.transformMat4(T,T,this.pixelMatrixInverse),x.transformMat4(N,N,this.pixelMatrixInverse),x.scale$2(T,T,1/T[3]),x.scale$2(N,N,1/N[3]),T[2]=x.mercatorZfromAltitude(T[2],this._center.lat)*this.worldSize,N[2]=x.mercatorZfromAltitude(N[2],this._center.lat)*this.worldSize,x.scale$2(T,T,1/this.worldSize),x.scale$2(N,N,1/this.worldSize),new ct([T[0],T[1],T[2]],x.normalize([],x.sub([],N,T)))}rayIntersectionCoordinate(m){const{p0:T,p1:N,t:U}=m,J=x.mercatorZfromAltitude(T[2],this._center.lat),ce=x.mercatorZfromAltitude(N[2],this._center.lat);return new x.MercatorCoordinate(x.number(T[0],N[0],U)/this.worldSize,x.number(T[1],N[1],U)/this.worldSize,x.number(J,ce,U))}pointCoordinate(m){const T=this.horizonLineFromTop(!1),N=new x.pointGeometry(m.x,Math.max(T,m.y));return this.rayIntersectionCoordinate(this.pointRayIntersection(N))}pointCoordinate3D(m){if(!this.elevation)return this.pointCoordinate(m);const T=this.elevation;let N=this.elevation.pointCoordinate(m);if(N)return new x.MercatorCoordinate(N[0],N[1],N[2]);let U=0,J=this.horizonLineFromTop();if(m.y>J)return this.pointCoordinate(m);const ce=.02*J,ge=m.clone();for(let xe=0;xe<10&&J-U>ce;xe++){ge.y=x.number(U,J,.66);const ve=T.pointCoordinate(ge);ve?(J=ge.y,N=ve):U=ge.y}return N?new x.MercatorCoordinate(N[0],N[1],N[2]):this.pointCoordinate(m)}isPointAboveHorizon(m){if(this.elevation)return!this.elevation.pointCoordinate(m);{const T=this.horizonLineFromTop();return m.y<T}}_coordinatePoint(m,T){const N=T&&this.elevation?this.elevation.getAtPointOrZero(m,this._centerAltitude):this._centerAltitude,U=[m.x*this.worldSize,m.y*this.worldSize,N+m.toAltitude(),1];return x.transformMat4(U,U,this.pixelMatrix),U[3]>0?new x.pointGeometry(U[0]/U[3],U[1]/U[3]):new x.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE)}getBounds(){return this._terrainEnabled()?this._getBounds3D():(new x.LngLatBounds).extend(this.pointLocation(new x.pointGeometry(this._edgeInsets.left,this._edgeInsets.top))).extend(this.pointLocation(new x.pointGeometry(this.width-this._edgeInsets.right,this._edgeInsets.top))).extend(this.pointLocation(new x.pointGeometry(this.width-this._edgeInsets.right,this.height-this._edgeInsets.bottom))).extend(this.pointLocation(new x.pointGeometry(this._edgeInsets.left,this.height-this._edgeInsets.bottom)))}_getBounds3D(){const m=this.elevation,T=m.visibleDemTiles.reduce((U,J)=>{if(J.dem){const ce=J.dem.tree;U.min=Math.min(U.min,ce.minimums[0]),U.max=Math.max(U.max,ce.maximums[0])}return U},{min:Number.MAX_VALUE,max:0});T.min*=m.exaggeration(),T.max*=m.exaggeration();const N=this.horizonLineFromTop();return[new x.pointGeometry(0,N),new x.pointGeometry(this.width,N),new x.pointGeometry(this.width,this.height),new x.pointGeometry(0,this.height)].reduce((U,J)=>U.extend(this.coordinateLocation(this.rayIntersectionCoordinate(this.pointRayIntersection(J,T.min)))).extend(this.coordinateLocation(this.rayIntersectionCoordinate(this.pointRayIntersection(J,T.max)))),new x.LngLatBounds)}horizonLineFromTop(m=!0){const T=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))+this.centerOffset.y,N=this.height/2-.97*T;return m?Math.max(0,N):N}getMaxBounds(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new x.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}setMaxBounds(m){m?(this.lngRange=[m.getWest(),m.getEast()],this.latRange=[m.getSouth(),m.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])}calculatePosMatrix(m,T){const N=m.canonical,U=T/this.zoomScale(N.z),J=N.x+Math.pow(2,N.z)*m.wrap,ce=x.identity(new Float64Array(16));return x.translate(ce,ce,[J*U,N.y*U,0]),x.scale$1(ce,ce,[U/x.EXTENT,U/x.EXTENT,1]),ce}calculateFogTileMatrix(m){const T=m.key,N=this._fogTileMatrixCache;if(N[T])return N[T];const U=this.calculatePosMatrix(m,this.cameraWorldSize);return x.multiply(U,this.worldToFogMatrix,U),N[T]=new Float32Array(U),N[T]}calculateProjMatrix(m,T=!1){const N=m.key,U=T?this._alignedProjMatrixCache:this._projMatrixCache;if(U[N])return U[N];const J=this.calculatePosMatrix(m,this.worldSize);return x.multiply(J,T?this.alignedProjMatrix:this.projMatrix,J),U[N]=new Float32Array(J),U[N]}customLayerMatrix(){return this.mercatorMatrix.slice()}recenterOnTerrain(){if(!this._elevation)return;const m=this._elevation;this._updateCameraState();const T=this._camera.position,N=this._camera.forward();if(T[2]<=0||N[2]>=0)return;const U=x.mercatorZfromAltitude(1,this._center.lat);T[2]/=U,N[2]/=U,x.normalize(N,N);const J=m.raycast(T,N,m.exaggeration());if(J){const ce=x.scaleAndAdd([],T,N,J),ge=new x.MercatorCoordinate(ce[0],ce[1],x.mercatorZfromAltitude(ce[2],x.latFromMercatorY(ce[1]))),xe=this._camera.position,ve=ge.z+x.length([ge.x-xe[0],ge.y-xe[1],ge.z-xe[2]]);this._cameraZoom=this._zoomFromMercatorZ(ve),this._centerAltitude=ge.toAltitude(),this._center=ge.toLngLat(),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCameraAltitude(){if(!this._elevation)return;const m=this._elevation;this._updateCameraState();const T=m.getAtPointOrZero(this._camera.mercatorPosition),N=this._minimumHeightOverTerrain()*Math.cos(x.degToRad(this._maxPitch)),U=x.mercatorZfromAltitude(T,this._center.lat),J=this._camera.position[2]-U;if(J<N){const ce=x.MercatorCoordinate.fromLngLat(this._center,this._centerAltitude),ge=this._camera.mercatorPosition,xe=[ce.x-ge.x,ce.y-ge.y,ce.z-ge.z],ve=x.length(xe);xe[2]-=N-J;const He=x.length(xe);if(0===He)return;x.scale(xe,xe,ve/He),this._camera.position=[ce.x-xe[0],ce.y-xe[1],ce.z-xe[2]],this._camera.orientation=yn(xe,this._camera.up()),this._updateStateFromCamera()}}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;let m,T,N,U,J=-90,ce=90,ge=-180,xe=180;const ve=this.size,He=this._unmodified;if(this.latRange){const Ke=this.latRange;J=x.mercatorYfromLat(Ke[1])*this.worldSize,ce=x.mercatorYfromLat(Ke[0])*this.worldSize,m=ce-J<ve.y?ve.y/(ce-J):0}if(this.lngRange){const Ke=this.lngRange;ge=x.mercatorXfromLng(Ke[0])*this.worldSize,xe=x.mercatorXfromLng(Ke[1])*this.worldSize,T=xe-ge<ve.x?ve.x/(xe-ge):0}const qe=this.point,Qe=Math.max(T||0,m||0);if(Qe)return this.center=this.unproject(new x.pointGeometry(T?(xe+ge)/2:qe.x,m?(ce+J)/2:qe.y)),this.zoom+=this.scaleZoom(Qe),this._unmodified=He,void(this._constraining=!1);if(this.latRange){const Ke=qe.y,pt=ve.y/2;Ke-pt<J&&(U=J+pt),Ke+pt>ce&&(U=ce-pt)}if(this.lngRange){const Ke=qe.x,pt=ve.x/2;Ke-pt<ge&&(N=ge+pt),Ke+pt>xe&&(N=xe-pt)}void 0===N&&void 0===U||(this.center=this.unproject(new x.pointGeometry(void 0!==N?N:qe.x,void 0!==U?U:qe.y))),this._constrainCameraAltitude(),this._unmodified=He,this._constraining=!1}_minZoomForBounds(){const m=(U,J)=>Math.log2(U/(this.tileSize*Math.abs(J[1]-J[0])));let T=0;if(this.latRange){const U=this.latRange;T=m(this.height,[x.mercatorYfromLat(U[0]),x.mercatorYfromLat(U[1])])}let N=0;if(this.lngRange){const U=this.lngRange;N=m(this.width,[x.mercatorXfromLng(U[0]),x.mercatorXfromLng(U[1])])}return Math.max(T,N)}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const m=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;const T=this.pixelsPerMeter;this._updateCameraState();const N=Math.PI/2+this._pitch,U=this.fovAboveCenter,J=this.elevation?this.elevation.getMinElevationBelowMSL()*T:0,ce=(this._camera.position[2]*this.worldSize-J)/Math.cos(this._pitch),ge=Math.sin(U)*ce/Math.sin(x.clamp(Math.PI-N-U,.01,Math.PI-.01)),xe=this.point,ve=xe.x,He=xe.y,qe=Math.cos(Math.PI/2-this._pitch)*ge+ce,Qe=Math.min(1.01*qe,ce*(1/this._horizonShift)),Ke=this.height/50,pt=this._camera.getWorldToCamera(this.worldSize,T),xt=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,Ke,Qe);xt[8]=2*-m.x/this.width,xt[9]=2*m.y/this.height;let Nt=x.mul$1([],xt,pt);this.mercatorMatrix=x.scale$1([],Nt,[this.worldSize,this.worldSize,this.worldSize/T]),this.projMatrix=Nt,this.invProjMatrix=x.invert(new Float64Array(16),this.projMatrix);const lt=new Float32Array(16);x.identity(lt),x.scale$1(lt,lt,[1,-1,1]),x.rotateX(lt,lt,this._pitch),x.rotateZ(lt,lt,this.angle);const wt=x.perspective(new Float32Array(16),this._fov,this.width/this.height,Ke,Qe),Tt=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;wt[8]=2*-m.x/this.width,wt[9]=2*(m.y+Tt)/this.height,this.skyboxMatrix=x.multiply(lt,wt,lt);const Vt=this.width%2/2,St=this.height%2/2,Dt=Math.cos(this.angle),kn=Math.sin(this.angle),Dn=ve-Math.round(ve)+Dt*Vt+kn*St,Nn=He-Math.round(He)+Dt*St+kn*Vt,It=new Float64Array(Nt);if(x.translate(It,It,[Dn>.5?Dn-1:Dn,Nn>.5?Nn-1:Nn,0]),this.alignedProjMatrix=It,Nt=x.create$1(),x.scale$1(Nt,Nt,[this.width/2,-this.height/2,1]),x.translate(Nt,Nt,[1,-1,0]),this.labelPlaneMatrix=Nt,Nt=x.create$1(),x.scale$1(Nt,Nt,[1,-1,1]),x.translate(Nt,Nt,[-1,-1,0]),x.scale$1(Nt,Nt,[2/this.width,2/this.height,1]),this.glCoordMatrix=Nt,this.pixelMatrix=x.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),this._calcFogMatrices(),Nt=x.invert(new Float64Array(16),this.pixelMatrix),!Nt)throw new Error("failed to invert matrix");this.pixelMatrixInverse=Nt,this._projMatrixCache={},this._alignedProjMatrixCache={}}_calcFogMatrices(){this._fogTileMatrixCache={};const m=this.cameraWorldSize,T=this.cameraPixelsPerMeter,N=this._camera.position,U=1/this.height,J=[m,m,T];x.scale(J,J,U),x.scale(N,N,-1),x.multiply$1(N,N,J);const ce=x.create$1();x.translate(ce,ce,N),x.scale$1(ce,ce,J),this.mercatorFogMatrix=ce,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(m,T,U)}_updateCameraState(){if(!this.height)return;this._camera.setPitchBearing(this._pitch,this.angle);const m=this._camera.forward(),T=this.cameraToCenterDistance,N=this.point,U=this._mercatorZfromZoom(this._cameraZoom?this._cameraZoom:this._zoom)-x.mercatorZfromAltitude(this._centerAltitude,this.center.lat),J=this.cameraToCenterDistance/U;this._camera.position=[N.x/this.worldSize-m[0]*T/J,N.y/this.worldSize-m[1]*T/J,x.mercatorZfromAltitude(this._centerAltitude,this._center.lat)+-m[2]*T/J]}_translateCameraConstrained(m){const T=this._maxCameraBoundsDistance()*Math.cos(this._pitch),N=m[2];let U=1;N>0&&(U=Math.min((T-this._camera.position[2])/N,1)),this._camera.position=x.scaleAndAdd([],this._camera.position,m,U),this._updateStateFromCamera()}_updateStateFromCamera(){const m=this._camera.position,T=this._camera.forward(),{pitch:N,bearing:U}=this._camera.getPitchBearing(),J=x.mercatorZfromAltitude(this._centerAltitude,this.center.lat),ce=this._mercatorZfromZoom(this._maxZoom)*Math.cos(x.degToRad(this._maxPitch)),ge=Math.max((m[2]-J)/Math.cos(N),ce),xe=this._zoomFromMercatorZ(ge);x.scaleAndAdd(m,m,T,ge),this._pitch=x.clamp(N,x.degToRad(this.minPitch),x.degToRad(this.maxPitch)),this.angle=x.wrap(U,-Math.PI,Math.PI),this._setZoom(x.clamp(xe,this._minZoom,this._maxZoom)),this._terrainEnabled()&&this._updateCameraOnTerrain(),this._center=new x.MercatorCoordinate(m[0],m[1],m[2]).toLngLat(),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(m){return Math.pow(2,m)*this.tileSize}_mercatorZfromZoom(m){return this.cameraToCenterDistance/this._worldSizeFromZoom(m)}_minimumHeightOverTerrain(){const m=Math.min((null!=this._cameraZoom?this._cameraZoom:this._zoom)+2,this._maxZoom);return this._mercatorZfromZoom(m)}_zoomFromMercatorZ(m){return this.scaleZoom(this.cameraToCenterDistance/(m*this.tileSize))}_terrainEnabled(){return!!this._elevation}isHorizonVisibleForPoints(m,T){const N=Math.min(m.x,T.x),U=Math.max(m.x,T.x),J=Math.min(m.y,T.y),ce=Math.max(m.y,T.y),ge=[new x.pointGeometry(N,J),new x.pointGeometry(U,ce),new x.pointGeometry(N,ce),new x.pointGeometry(U,J)],xe=this._renderWorldCopies?-3:0,ve=this._renderWorldCopies?4:1;for(const He of ge){const qe=this.pointRayIntersection(He);if(qe.t<0)return!0;const Qe=this.rayIntersectionCoordinate(qe);if(Qe.x<xe||Qe.y<0||Qe.x>ve||Qe.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+x.radToDeg(this.fovAboveCenter)>88||this.isHorizonVisibleForPoints(new x.pointGeometry(0,0),new x.pointGeometry(this.width,this.height))}zoomDeltaToMovement(m,T){const N=x.length(x.sub([],this._camera.position,m)),U=this._zoomFromMercatorZ(N)+T;return N-this._mercatorZfromZoom(U)}getCameraPoint(){const m=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new x.pointGeometry(0,m))}}function Js(R,m){let T=!1,N=null;const U=()=>{N=null,T&&(R(),N=setTimeout(U,m),T=!1)};return()=>(T=!0,N||U(),N)}class Xr{constructor(m){this._hashName=m&&encodeURIComponent(m),x.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=Js(this._updateHashUnthrottled.bind(this),300)}addTo(m){return this._map=m,x.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return x.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(m){const T=this._map.getCenter(),N=Math.round(100*this._map.getZoom())/100,U=Math.ceil((N*Math.LN2+Math.log(512/360/.5))/Math.LN10),J=Math.pow(10,U),ce=Math.round(T.lng*J)/J,ge=Math.round(T.lat*J)/J,xe=this._map.getBearing(),ve=this._map.getPitch();let He="";if(He+=m?`/${ce}/${ge}/${N}`:`${N}/${ge}/${ce}`,(xe||ve)&&(He+="/"+Math.round(10*xe)/10),ve&&(He+=`/${Math.round(ve)}`),this._hashName){const qe=this._hashName;let Qe=!1;const Ke=x.window.location.hash.slice(1).split("&").map(pt=>{const xt=pt.split("=")[0];return xt===qe?(Qe=!0,`${xt}=${He}`):pt}).filter(pt=>pt);return Qe||Ke.push(`${qe}=${He}`),`#${Ke.join("&")}`}return`#${He}`}_getCurrentHash(){const m=x.window.location.hash.replace("#","");if(this._hashName){let T;return m.split("&").map(N=>N.split("=")).forEach(N=>{N[0]===this._hashName&&(T=N)}),(T&&T[1]||"").split("/")}return m.split("/")}_onHashChange(){const m=this._getCurrentHash();if(m.length>=3&&!m.some(T=>isNaN(T))){const T=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(m[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+m[2],+m[1]],zoom:+m[0],bearing:T,pitch:+(m[4]||0)}),!0}return!1}_updateHashUnthrottled(){const m=x.window.location.href.replace(/(#.+)?$/,this.getHashString());x.window.history.replaceState(x.window.history.state,null,m)}}const ba={linearity:.3,easing:x.bezier(0,0,.3,1)},Tc=x.extend({deceleration:2500,maxSpeed:1400},ba),Qo=x.extend({deceleration:20,maxSpeed:1400},ba),Tu=x.extend({deceleration:1e3,maxSpeed:360},ba),fh=x.extend({deceleration:1e3,maxSpeed:90},ba);class Ja{constructor(m){this._map=m,this.clear()}clear(){this._inertiaBuffer=[]}record(m){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:x.exported.now(),settings:m})}_drainInertiaBuffer(){const m=this._inertiaBuffer,T=x.exported.now();for(;m.length>0&&T-m[0].time>160;)m.shift()}_onMoveEnd(m){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const T={zoom:0,bearing:0,pitch:0,pan:new x.pointGeometry(0,0),pinchAround:void 0,around:void 0};for(const{settings:J}of this._inertiaBuffer)T.zoom+=J.zoomDelta||0,T.bearing+=J.bearingDelta||0,T.pitch+=J.pitchDelta||0,J.panDelta&&T.pan._add(J.panDelta),J.around&&(T.around=J.around),J.pinchAround&&(T.pinchAround=J.pinchAround);const N=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,U={};if(T.pan.mag()){const J=Xo(T.pan.mag(),N,x.extend({},Tc,m||{}));U.offset=T.pan.mult(J.amount/T.pan.mag()),U.center=this._map.transform.center,lu(U,J)}if(T.zoom){const J=Xo(T.zoom,N,Qo);U.zoom=this._map.transform.zoom+J.amount,lu(U,J)}if(T.bearing){const J=Xo(T.bearing,N,Tu);U.bearing=this._map.transform.bearing+x.clamp(J.amount,-179,179),lu(U,J)}if(T.pitch){const J=Xo(T.pitch,N,fh);U.pitch=this._map.transform.pitch+J.amount,lu(U,J)}if(U.zoom||U.bearing){const J=void 0===T.pinchAround?T.around:T.pinchAround;U.around=J?this._map.unproject(J):this._map.getCenter()}return this.clear(),x.extend(U,{noMoveStart:!0})}}function lu(R,m){(!R.duration||R.duration<m.duration)&&(R.duration=m.duration,R.easing=m.easing)}function Xo(R,m,T){const{maxSpeed:N,linearity:U,deceleration:J}=T,ce=x.clamp(R*U/(m/1e3),-N,N),ge=Math.abs(ce)/(J*U);return{easing:T.easing,duration:1e3*ge,amount:ce*(ge/2)}}class Ar extends x.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(m,T,N,U={}){const J=Be.mousePos(T.getCanvasContainer(),N),ce=T.unproject(J);super(m,x.extend({point:J,lngLat:ce,originalEvent:N},U)),this._defaultPrevented=!1,this.target=T}}class Su extends x.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(m,T,N){const U="touchend"===m?N.changedTouches:N.touches,J=Be.touchPos(T.getCanvasContainer(),U),ce=J.map(xe=>T.unproject(xe)),ge=J.reduce((xe,ve,He,qe)=>xe.add(ve.div(qe.length)),new x.pointGeometry(0,0));super(m,{points:J,point:ge,lngLats:ce,lngLat:T.unproject(ge),originalEvent:N}),this._defaultPrevented=!1}}class Ap extends x.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(m,T,N){super(m,{originalEvent:N}),this._defaultPrevented=!1}}class Sc{constructor(m,T){this._map=m,this._clickTolerance=T.clickTolerance}reset(){delete this._mousedownPos}wheel(m){return this._firePreventable(new Ap(m.type,this._map,m))}mousedown(m,T){return this._mousedownPos=T,this._firePreventable(new Ar(m.type,this._map,m))}mouseup(m){this._map.fire(new Ar(m.type,this._map,m))}click(m,T){this._mousedownPos&&this._mousedownPos.dist(T)>=this._clickTolerance||this._map.fire(new Ar(m.type,this._map,m))}dblclick(m){return this._firePreventable(new Ar(m.type,this._map,m))}mouseover(m){this._map.fire(new Ar(m.type,this._map,m))}mouseout(m){this._map.fire(new Ar(m.type,this._map,m))}touchstart(m){return this._firePreventable(new Su(m.type,this._map,m))}touchmove(m){this._map.fire(new Su(m.type,this._map,m))}touchend(m){this._map.fire(new Su(m.type,this._map,m))}touchcancel(m){this._map.fire(new Su(m.type,this._map,m))}_firePreventable(m){if(this._map.fire(m),m.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class id{constructor(m){this._map=m}reset(){this._delayContextMenu=!1,delete this._contextMenuEvent}mousemove(m){this._map.fire(new Ar(m.type,this._map,m))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Ar("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(m){this._delayContextMenu?this._contextMenuEvent=m:this._map.fire(new Ar(m.type,this._map,m)),this._map.listens("contextmenu")&&m.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Ip{constructor(m,T){this._map=m,this._el=m.getCanvasContainer(),this._container=m.getContainer(),this._clickTolerance=T.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(m,T){this.isEnabled()&&m.shiftKey&&0===m.button&&(Be.disableDrag(),this._startPos=this._lastPos=T,this._active=!0)}mousemoveWindow(m,T){if(!this._active)return;const N=T;if(this._lastPos.equals(N)||!this._box&&N.dist(this._startPos)<this._clickTolerance)return;const U=this._startPos;this._lastPos=N,this._box||(this._box=Be.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",m));const J=Math.min(U.x,N.x),ce=Math.max(U.x,N.x),ge=Math.min(U.y,N.y),xe=Math.max(U.y,N.y);this._map._requestDomTask(()=>{this._box&&(Be.setTransform(this._box,`translate(${J}px,${ge}px)`),this._box.style.width=ce-J+"px",this._box.style.height=xe-ge+"px")})}mouseupWindow(m,T){if(!this._active||0!==m.button)return;const N=this._startPos,U=T;if(this.reset(),Be.suppressClick(),N.x!==U.x||N.y!==U.y)return this._map.fire(new x.Event("boxzoomend",{originalEvent:m})),{cameraAnimation:J=>J.fitScreenCoordinates(N,U,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",m)}keydown(m){this._active&&27===m.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",m))}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(Be.remove(this._box),this._box=null),Be.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(m,T){return this._map.fire(new x.Event(m,{originalEvent:T}))}}function lf(R,m){const T={};for(let N=0;N<R.length;N++)T[R[N].identifier]=m[N];return T}class Lp{constructor(m){this.reset(),this.numTouches=m.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(m,T,N){(this.centroid||N.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=m.timeStamp),N.length===this.numTouches&&(this.centroid=function(U){const J=new x.pointGeometry(0,0);for(const ce of U)J._add(ce);return J.div(U.length)}(T),this.touches=lf(N,T)))}touchmove(m,T,N){if(this.aborted||!this.centroid)return;const U=lf(N,T);for(const J in this.touches){const ce=this.touches[J],ge=U[J];(!ge||ge.dist(ce)>30)&&(this.aborted=!0)}}touchend(m,T,N){if((!this.centroid||m.timeStamp-this.startTime>500)&&(this.aborted=!0),0===N.length){const U=!this.aborted&&this.centroid;if(this.reset(),U)return U}}}class ku{constructor(m){this.singleTap=new Lp(m),this.numTaps=m.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(m,T,N){this.singleTap.touchstart(m,T,N)}touchmove(m,T,N){this.singleTap.touchmove(m,T,N)}touchend(m,T,N){const U=this.singleTap.touchend(m,T,N);if(U){const J=m.timeStamp-this.lastTime<500,ce=!this.lastTap||this.lastTap.dist(U)<30;if(J&&ce||this.reset(),this.count++,this.lastTime=m.timeStamp,this.lastTap=U,this.count===this.numTaps)return this.reset(),U}}}class zd{constructor(){this._zoomIn=new ku({numTouches:1,numTaps:2}),this._zoomOut=new ku({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(m,T,N){this._zoomIn.touchstart(m,T,N),this._zoomOut.touchstart(m,T,N)}touchmove(m,T,N){this._zoomIn.touchmove(m,T,N),this._zoomOut.touchmove(m,T,N)}touchend(m,T,N){const U=this._zoomIn.touchend(m,T,N),J=this._zoomOut.touchend(m,T,N);return U?(this._active=!0,m.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:ce=>ce.easeTo({duration:300,zoom:ce.getZoom()+1,around:ce.unproject(U)},{originalEvent:m})}):J?(this._active=!0,m.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:ce=>ce.easeTo({duration:300,zoom:ce.getZoom()-1,around:ce.unproject(J)},{originalEvent:m})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const Pp={0:1,2:2};class qs{constructor(m){this.reset(),this._clickTolerance=m.clickTolerance||1}reset(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton}_correctButton(m,T){return!1}_move(m,T){return{}}mousedown(m,T){if(this._lastPoint)return;const N=Be.mouseButton(m);this._correctButton(m,N)&&(this._lastPoint=T,this._eventButton=N)}mousemoveWindow(m,T){const N=this._lastPoint;if(N)if(m.preventDefault(),function(U,J){const ce=Pp[J];return void 0===U.buttons||(U.buttons&ce)!==ce}(m,this._eventButton))this.reset();else if(this._moved||!(T.dist(N)<this._clickTolerance))return this._moved=!0,this._lastPoint=T,this._move(N,T)}mouseupWindow(m){this._lastPoint&&Be.mouseButton(m)===this._eventButton&&(this._moved&&Be.suppressClick(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Eu extends qs{mousedown(m,T){super.mousedown(m,T),this._lastPoint&&(this._active=!0)}_correctButton(m,T){return 0===T&&!m.ctrlKey}_move(m,T){return{around:T,panDelta:T.sub(m)}}}class kc extends qs{_correctButton(m,T){return 0===T&&m.ctrlKey||2===T}_move(m,T){const N=.8*(T.x-m.x);if(N)return this._active=!0,{bearingDelta:N}}contextmenu(m){m.preventDefault()}}class Du extends qs{_correctButton(m,T){return 0===T&&m.ctrlKey||2===T}_move(m,T){const N=-.5*(T.y-m.y);if(N)return this._active=!0,{pitchDelta:N}}contextmenu(m){m.preventDefault()}}class Ml{constructor(m){this._minTouches=1,this._clickTolerance=m.clickTolerance||1,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new x.pointGeometry(0,0)}touchstart(m,T,N){return this._calculateTransform(m,T,N)}touchmove(m,T,N){if(this._active&&!(N.length<this._minTouches))return m.preventDefault(),this._calculateTransform(m,T,N)}touchend(m,T,N){this._calculateTransform(m,T,N),this._active&&N.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(m,T,N){N.length>0&&(this._active=!0);const U=lf(N,T),J=new x.pointGeometry(0,0),ce=new x.pointGeometry(0,0);let ge=0;for(const ve in U){const He=U[ve],qe=this._touches[ve];qe&&(J._add(He),ce._add(He.sub(qe)),ge++,U[ve]=He)}if(this._touches=U,ge<this._minTouches||!ce.mag())return;const xe=ce.div(ge);return this._sum._add(xe),this._sum.mag()<this._clickTolerance?void 0:{around:J.div(ge),panDelta:xe}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Zc{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}_start(m){}_move(m,T,N){return{}}touchstart(m,T,N){this._firstTwoTouches||N.length<2||(this._firstTwoTouches=[N[0].identifier,N[1].identifier],this._start([T[0],T[1]]))}touchmove(m,T,N){if(!this._firstTwoTouches)return;m.preventDefault();const[U,J]=this._firstTwoTouches,ce=Vl(N,T,U),ge=Vl(N,T,J);if(!ce||!ge)return;const xe=this._aroundCenter?null:ce.add(ge).div(2);return this._move([ce,ge],xe,m)}touchend(m,T,N){if(!this._firstTwoTouches)return;const[U,J]=this._firstTwoTouches,ce=Vl(N,T,U),ge=Vl(N,T,J);ce&&ge||(this._active&&Be.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(m){this._enabled=!0,this._aroundCenter=!!m&&"center"===m.around}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function Vl(R,m,T){for(let N=0;N<R.length;N++)if(R[N].identifier===T)return m[N]}function mh(R,m){return Math.log(R/m)/Math.LN2}class Bd extends Zc{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(m){this._startDistance=this._distance=m[0].dist(m[1])}_move(m,T){const N=this._distance;if(this._distance=m[0].dist(m[1]),this._active||!(Math.abs(mh(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:mh(this._distance,N),pinchAround:T}}}function Rf(R,m){return 180*R.angleWith(m)/Math.PI}class Xh extends Zc{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(m){this._startVector=this._vector=m[0].sub(m[1]),this._minDiameter=m[0].dist(m[1])}_move(m,T){const N=this._vector;if(this._vector=m[0].sub(m[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Rf(this._vector,N),pinchAround:T}}_isBelowThreshold(m){this._minDiameter=Math.min(this._minDiameter,m.mag());const T=25/(Math.PI*this._minDiameter)*360,N=Rf(m,this._startVector);return Math.abs(N)<T}}function Ul(R){return Math.abs(R.y)>Math.abs(R.x)}class ac extends Zc{reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}_start(m){this._lastPoints=m,Ul(m[0].sub(m[1]))&&(this._valid=!1)}_move(m,T,N){const U=m[0].sub(this._lastPoints[0]),J=m[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(U,J,N.timeStamp),this._valid)return this._lastPoints=m,this._active=!0,{pitchDelta:(U.y+J.y)/2*-.5}}gestureBeginsVertically(m,T,N){if(void 0!==this._valid)return this._valid;const U=m.mag()>=2,J=T.mag()>=2;if(!U&&!J)return;if(!U||!J)return void 0===this._firstMove&&(this._firstMove=N),N-this._firstMove<100&&void 0;const ce=m.y>0==T.y>0;return Ul(m)&&Ul(T)&&ce}}const rd={panStep:100,bearingStep:15,pitchStep:10};class Ec{constructor(){const m=rd;this._panStep=m.panStep,this._bearingStep=m.bearingStep,this._pitchStep=m.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(m){if(m.altKey||m.ctrlKey||m.metaKey)return;let T=0,N=0,U=0,J=0,ce=0;switch(m.keyCode){case 61:case 107:case 171:case 187:T=1;break;case 189:case 109:case 173:T=-1;break;case 37:m.shiftKey?N=-1:(m.preventDefault(),J=-1);break;case 39:m.shiftKey?N=1:(m.preventDefault(),J=1);break;case 38:m.shiftKey?U=1:(m.preventDefault(),ce=-1);break;case 40:m.shiftKey?U=-1:(m.preventDefault(),ce=1);break;default:return}return this._rotationDisabled&&(N=0,U=0),{cameraAnimation:ge=>{const xe=ge.getZoom();ge.easeTo({duration:300,easeId:"keyboardHandler",easing:Gc,zoom:T?Math.round(xe)+T*(m.shiftKey?2:1):xe,bearing:ge.getBearing()+N*this._bearingStep,pitch:ge.getPitch()+U*this._pitchStep,offset:[-J*this._panStep,-ce*this._panStep],center:ge.getCenter()},{originalEvent:m})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Gc(R){return R*(2-R)}const Ci=4.000244140625;class wr{constructor(m,T){this._map=m,this._el=m.getCanvasContainer(),this._handler=T,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,x.bindAll(["_onTimeout"],this)}setZoomRate(m){this._defaultZoomRate=m}setWheelZoomRate(m){this._wheelZoomRate=m}isEnabled(){return!!this._enabled}isActive(){return!!this._active||void 0!==this._finishTimeout}isZooming(){return!!this._zooming}enable(m){this.isEnabled()||(this._enabled=!0,this._aroundCenter=m&&"center"===m.around)}disable(){this.isEnabled()&&(this._enabled=!1)}wheel(m){if(!this.isEnabled())return;let T=m.deltaMode===x.window.WheelEvent.DOM_DELTA_LINE?40*m.deltaY:m.deltaY;const N=x.exported.now(),U=N-(this._lastWheelEventTime||0);this._lastWheelEventTime=N,0!==T&&T%Ci==0?this._type="wheel":0!==T&&Math.abs(T)<4?this._type="trackpad":U>400?(this._type=null,this._lastValue=T,this._timeout=setTimeout(this._onTimeout,40,m)):this._type||(this._type=Math.abs(U*T)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,T+=this._lastValue)),m.shiftKey&&T&&(T/=4),this._type&&(this._lastWheelEvent=m,this._delta-=T,this._active||this._start(m)),m.preventDefault()}_onTimeout(m){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(m)}_start(m){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const T=Be.mousePos(this._el,m);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:T,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const m=this._map.transform,T=()=>m._terrainEnabled()?m.computeZoomRelativeTo(this._aroundCoord):m.zoom;if(0!==this._delta){const xe="wheel"===this._type&&Math.abs(this._delta)>Ci?this._wheelZoomRate:this._defaultZoomRate;let ve=2/(1+Math.exp(-Math.abs(this._delta*xe)));this._delta<0&&0!==ve&&(ve=1/ve);const He=T(),qe=Math.pow(2,He),Qe="number"==typeof this._targetZoom?m.zoomScale(this._targetZoom):qe;this._targetZoom=Math.min(m.maxZoom,Math.max(m.minZoom,m.scaleZoom(Qe*ve))),"wheel"===this._type&&(this._startZoom=T(),this._easing=this._smoothOutEasing(200)),this._delta=0}const N="number"==typeof this._targetZoom?this._targetZoom:T(),U=this._startZoom,J=this._easing;let ce,ge=!1;if("wheel"===this._type&&U&&J){const xe=Math.min((x.exported.now()-this._lastWheelEventTime)/200,1),ve=J(xe);ce=x.number(U,N,ve),xe<1?this._frameId||(this._frameId=!0):ge=!0}else ce=N,ge=!0;return this._active=!0,ge&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!ge,zoomDelta:ce-T(),around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(m){let T=x.ease;if(this._prevEase){const N=this._prevEase,U=(x.exported.now()-N.start)/N.duration,J=N.easing(U+.01)-N.easing(U),ce=.27/Math.sqrt(J*J+1e-4)*.01,ge=Math.sqrt(.0729-ce*ce);T=x.bezier(ce,ge,.25,1)}return this._prevEase={start:x.exported.now(),duration:m,easing:T},T}reset(){this._active=!1}}class $s{constructor(m,T){this._clickZoom=m,this._tapZoom=T}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Rr{constructor(){this.reset()}reset(){this._active=!1}dblclick(m,T){return m.preventDefault(),{cameraAnimation:N=>{N.easeTo({duration:300,zoom:N.getZoom()+(m.shiftKey?-1:1),around:N.unproject(T)},{originalEvent:m})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Ai{constructor(){this._tap=new ku({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()}touchstart(m,T,N){this._swipePoint||(this._tapTime&&m.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?N.length>0&&(this._swipePoint=T[0],this._swipeTouch=N[0].identifier):this._tap.touchstart(m,T,N))}touchmove(m,T,N){if(this._tapTime){if(this._swipePoint){if(N[0].identifier!==this._swipeTouch)return;const U=T[0],J=U.y-this._swipePoint.y;return this._swipePoint=U,m.preventDefault(),this._active=!0,{zoomDelta:J/128}}}else this._tap.touchmove(m,T,N)}touchend(m,T,N){this._tapTime?this._swipePoint&&0===N.length&&this.reset():this._tap.touchend(m,T,N)&&(this._tapTime=m.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Ka{constructor(m,T,N){this._el=m,this._mousePan=T,this._touchPan=N}enable(m){this._inertiaOptions=m||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class Ri{constructor(m,T,N){this._pitchWithRotate=m.pitchWithRotate,this._mouseRotate=T,this._mousePitch=N}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class Op{constructor(m,T,N,U){this._el=m,this._touchZoom=T,this._touchRotate=N,this._tapDragZoom=U,this._rotationDisabled=!1,this._enabled=!0}enable(m){this._touchZoom.enable(m),this._rotationDisabled||this._touchRotate.enable(m),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const Vs=R=>R.zoom||R.drag||R.pitch||R.rotate;class Ho extends x.Event{}class Os{constructor(){this.constants=[1,1,.01],this.radius=0}setup(m,T){const N=x.sub([],T,m);this.radius=x.length(N[2]<0?x.div([],N,this.constants):[N[0],N[1],0])}projectRay(m){x.div(m,m,this.constants),x.normalize(m,m),x.mul$2(m,m,this.constants);const T=x.scale([],m,this.radius);if(T[2]>0){const N=x.scale([],[0,0,1],x.dot(T,[0,0,1])),U=x.scale([],x.normalize([],[T[0],T[1],0]),this.radius),J=x.add([],T,x.scale([],x.sub([],x.add([],U,N),T),2));T[0]=J[0],T[1]=J[1]}return T}}function Tl(R){return R.panDelta&&R.panDelta.mag()||R.zoomDelta||R.bearingDelta||R.pitchDelta}class sd{constructor(m,T){this._map=m,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Ja(m),this._bearingSnap=T.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new Os,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(T),x.bindAll(["handleEvent","handleWindowEvent"],this);const N=this._el;this._listeners=[[N,"touchstart",{passive:!0}],[N,"touchmove",{passive:!1}],[N,"touchend",void 0],[N,"touchcancel",void 0],[N,"mousedown",void 0],[N,"mousemove",void 0],[N,"mouseup",void 0],[x.window.document,"mousemove",{capture:!0}],[x.window.document,"mouseup",void 0],[N,"mouseover",void 0],[N,"mouseout",void 0],[N,"dblclick",void 0],[N,"click",void 0],[N,"keydown",{capture:!1}],[N,"keyup",void 0],[N,"wheel",{passive:!1}],[N,"contextmenu",void 0],[x.window,"blur",void 0]];for(const[U,J,ce]of this._listeners)Be.addEventListener(U,J,U===x.window.document?this.handleWindowEvent:this.handleEvent,ce)}destroy(){for(const[m,T,N]of this._listeners)Be.removeEventListener(m,T,m===x.window.document?this.handleWindowEvent:this.handleEvent,N)}_addDefaultHandlers(m){const T=this._map,N=T.getCanvasContainer();this._add("mapEvent",new Sc(T,m));const U=T.boxZoom=new Ip(T,m);this._add("boxZoom",U);const J=new zd,ce=new Rr;T.doubleClickZoom=new $s(ce,J),this._add("tapZoom",J),this._add("clickZoom",ce);const ge=new Ai;this._add("tapDragZoom",ge);const xe=T.touchPitch=new ac;this._add("touchPitch",xe);const ve=new kc(m),He=new Du(m);T.dragRotate=new Ri(m,ve,He),this._add("mouseRotate",ve,["mousePitch"]),this._add("mousePitch",He,["mouseRotate"]);const qe=new Eu(m),Qe=new Ml(m);T.dragPan=new Ka(N,qe,Qe),this._add("mousePan",qe),this._add("touchPan",Qe,["touchZoom","touchRotate"]);const Ke=new Xh,pt=new Bd;T.touchZoomRotate=new Op(N,pt,Ke,ge),this._add("touchRotate",Ke,["touchPan","touchZoom"]),this._add("touchZoom",pt,["touchPan","touchRotate"]),this._add("blockableMapEvent",new id(T));const xt=T.scrollZoom=new wr(T,this);this._add("scrollZoom",xt,["mousePan"]);const Nt=T.keyboard=new Ec;this._add("keyboard",Nt);for(const lt of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])m.interactive&&m[lt]&&T[lt].enable(m[lt])}_add(m,T,N){this._handlers.push({handlerName:m,handler:T,allowed:N}),this._handlersById[m]=T}stop(m){if(!this._updatingCamera){for(const{handler:T}of this._handlers)T.reset();this._inertia.clear(),this._fireEvents({},{},m),this._changes=[]}}isActive(){for(const{handler:m}of this._handlers)if(m.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return Boolean(Vs(this._eventsInProgress))||this.isZooming()}_blockedByActive(m,T,N){for(const U in m)if(U!==N&&(!T||T.indexOf(U)<0))return!0;return!1}handleWindowEvent(m){this.handleEvent(m,`${m.type}Window`)}_getMapTouches(m){const T=[];for(const N of m)this._el.contains(N.target)&&T.push(N);return T}handleEvent(m,T){if("blur"===m.type)return void this.stop(!0);this._updatingCamera=!0;const N="renderFrame"===m.type,U=N?void 0:m,J={needsRenderFrame:!1},ce={},ge={},xe=m.touches?this._getMapTouches(m.touches):void 0,ve=xe?Be.touchPos(this._el,xe):N?void 0:Be.mousePos(this._el,m);for(const{handlerName:Qe,handler:Ke,allowed:pt}of this._handlers){if(!Ke.isEnabled())continue;let xt;this._blockedByActive(ge,pt,Qe)?Ke.reset():Ke[T||m.type]&&(xt=Ke[T||m.type](m,ve,xe),this.mergeHandlerResult(J,ce,xt,Qe,U),xt&&xt.needsRenderFrame&&this._triggerRenderFrame()),(xt||Ke.isActive())&&(ge[Qe]=Ke)}const He={};for(const Qe in this._previousActiveHandlers)ge[Qe]||(He[Qe]=U);this._previousActiveHandlers=ge,(Object.keys(He).length||Tl(J))&&(this._changes.push([J,ce,He]),this._triggerRenderFrame()),(Object.keys(ge).length||Tl(J))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:qe}=J;qe&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],qe(this._map))}mergeHandlerResult(m,T,N,U,J){if(!N)return;x.extend(m,N);const ce={handlerName:U,originalEvent:N.originalEvent||J};void 0!==N.zoomDelta&&(T.zoom=ce),void 0!==N.panDelta&&(T.drag=ce),void 0!==N.pitchDelta&&(T.pitch=ce),void 0!==N.bearingDelta&&(T.rotate=ce)}_applyChanges(){const m={},T={},N={};for(const[U,J,ce]of this._changes)U.panDelta&&(m.panDelta=(m.panDelta||new x.pointGeometry(0,0))._add(U.panDelta)),U.zoomDelta&&(m.zoomDelta=(m.zoomDelta||0)+U.zoomDelta),U.bearingDelta&&(m.bearingDelta=(m.bearingDelta||0)+U.bearingDelta),U.pitchDelta&&(m.pitchDelta=(m.pitchDelta||0)+U.pitchDelta),void 0!==U.around&&(m.around=U.around),void 0!==U.aroundCoord&&(m.aroundCoord=U.aroundCoord),void 0!==U.pinchAround&&(m.pinchAround=U.pinchAround),U.noInertia&&(m.noInertia=U.noInertia),x.extend(T,J),x.extend(N,ce);this._updateMapTransform(m,T,N),this._changes=[]}_updateMapTransform(m,T,N){const U=this._map,J=U.transform,ce=wt=>[wt.x,wt.y,wt.z];if((wt=>{const Tt=this._eventsInProgress.drag;return Tt&&!this._handlersById[Tt.handlerName].isActive()})()&&!Tl(m)){const wt=J.zoom;J.cameraElevationReference="sea",J.recenterOnTerrain(),J.cameraElevationReference="ground",wt!==J.zoom&&this._map._update(!0)}if(!Tl(m))return this._fireEvents(T,N,!0);let{panDelta:ge,zoomDelta:xe,bearingDelta:ve,pitchDelta:He,around:qe,aroundCoord:Qe,pinchAround:Ke}=m;void 0!==Ke&&(qe=Ke),(wt=>T.drag&&!this._eventsInProgress.drag)()&&qe&&(this._dragOrigin=ce(J.pointCoordinate3D(qe)),this._trackingEllipsoid.setup(J._camera.position,this._dragOrigin)),J.cameraElevationReference="sea",U._stop(!0),qe=qe||U.transform.centerPoint,ve&&(J.bearing+=ve),He&&(J.pitch+=He),J._updateCameraState();const pt=[0,0,0];if(ge){const wt=J.screenPointToMercatorRay(qe),Tt=J.screenPointToMercatorRay(qe.sub(ge)),Vt=this._trackingEllipsoid.projectRay(wt.dir),St=this._trackingEllipsoid.projectRay(Tt.dir);pt[0]=St[0]-Vt[0],pt[1]=St[1]-Vt[1]}const xt=J.zoom,Nt=[0,0,0];if(xe){const wt=ce(Qe||J.pointCoordinate3D(qe)),Tt={dir:x.normalize([],x.sub([],wt,J._camera.position))},Vt=J.screenPointToMercatorRay(J.centerPoint);if(Tt.dir[2]<0){const St=x.altitudeFromMercatorZ(wt[2],wt[1]),Dt=J.rayIntersectionCoordinate(J.pointRayIntersection(J.centerPoint,St)),kn=J.zoomDeltaToMovement(ce(Dt),xe)*(Vt.dir[2]/Tt.dir[2]);x.scale(Nt,Tt.dir,kn)}else if(J._terrainEnabled()){const St=J.zoomDeltaToMovement(wt,xe);x.scale(Nt,Tt.dir,St)}}const lt=x.add(pt,pt,Nt);J._translateCameraConstrained(lt),xe&&Math.abs(J.zoom-xt)>1e-4&&J.recenterOnTerrain(),J.cameraElevationReference="ground",this._map._update(),m.noInertia||this._inertia.record(m),this._fireEvents(T,N,!0)}_fireEvents(m,T,N){const U=Vs(this._eventsInProgress),J=Vs(m),ce={};for(const He in m){const{originalEvent:qe}=m[He];this._eventsInProgress[He]||(ce[`${He}start`]=qe),this._eventsInProgress[He]=m[He]}!U&&J&&this._fireEvent("movestart",J.originalEvent);for(const He in ce)this._fireEvent(He,ce[He]);J&&this._fireEvent("move",J.originalEvent);for(const He in m){const{originalEvent:qe}=m[He];this._fireEvent(He,qe)}const ge={};let xe;for(const He in this._eventsInProgress){const{handlerName:qe,originalEvent:Qe}=this._eventsInProgress[He];this._handlersById[qe].isActive()||(delete this._eventsInProgress[He],xe=T[qe]||Qe,ge[`${He}end`]=xe)}for(const He in ge)this._fireEvent(He,ge[He]);const ve=Vs(this._eventsInProgress);if(N&&(U||J)&&!ve){this._updatingCamera=!0;const He=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),qe=Qe=>0!==Qe&&-this._bearingSnap<Qe&&Qe<this._bearingSnap;He?(qe(He.bearing||this._map.getBearing())&&(He.bearing=0),this._map.easeTo(He,{originalEvent:xe})):(this._map.fire(new x.Event("moveend",{originalEvent:xe})),qe(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(m,T){this._map.fire(new x.Event(m,T?{originalEvent:T}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(m=>{delete this._frameId,this.handleEvent(new Ho("renderFrame",{timeStamp:m})),this._applyChanges()})}_triggerRenderFrame(){void 0===this._frameId&&(this._frameId=this._requestFrame())}}class Ao extends x.Evented{constructor(m,T){super(),this._moving=!1,this._zooming=!1,this.transform=m,this._bearingSnap=T.bearingSnap,x.bindAll(["_renderFrameCallback"],this)}getCenter(){return new x.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(m,T){return this.jumpTo({center:m},T)}panBy(m,T,N){return m=x.pointGeometry.convert(m).mult(-1),this.panTo(this.transform.center,x.extend({offset:m},T),N)}panTo(m,T,N){return this.easeTo(x.extend({center:m},T),N)}getZoom(){return this.transform.zoom}setZoom(m,T){return this.jumpTo({zoom:m},T),this}zoomTo(m,T,N){return this.easeTo(x.extend({zoom:m},T),N)}zoomIn(m,T){return this.zoomTo(this.getZoom()+1,m,T),this}zoomOut(m,T){return this.zoomTo(this.getZoom()-1,m,T),this}getBearing(){return this.transform.bearing}setBearing(m,T){return this.jumpTo({bearing:m},T),this}getPadding(){return this.transform.padding}setPadding(m,T){return this.jumpTo({padding:m},T),this}rotateTo(m,T,N){return this.easeTo(x.extend({bearing:m},T),N)}resetNorth(m,T){return this.rotateTo(0,x.extend({duration:1e3},m),T),this}resetNorthPitch(m,T){return this.easeTo(x.extend({bearing:0,pitch:0,duration:1e3},m),T),this}snapToNorth(m,T){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(m,T):this}getPitch(){return this.transform.pitch}setPitch(m,T){return this.jumpTo({pitch:m},T),this}cameraForBounds(m,T){m=x.LngLatBounds.convert(m);const N=T&&T.bearing||0;return this._cameraForBoxAndBearing(m.getNorthWest(),m.getSouthEast(),N,T)}_extendCameraOptions(m){const T={top:0,bottom:0,right:0,left:0};if("number"==typeof(m=x.extend({padding:T,offset:[0,0],maxZoom:this.transform.maxZoom},m)).padding){const N=m.padding;m.padding={top:N,bottom:N,right:N,left:N}}return m.padding=x.extend(T,m.padding),m}_cameraForBoxAndBearing(m,T,N,U){const J=this._extendCameraOptions(U),ce=this.transform,ge=ce.padding,xe=ce.project(x.LngLat.convert(m)),ve=ce.project(x.LngLat.convert(T)),He=xe.rotate(-x.degToRad(N)),qe=ve.rotate(-x.degToRad(N)),Qe=new x.pointGeometry(Math.max(He.x,qe.x),Math.max(He.y,qe.y)),Ke=new x.pointGeometry(Math.min(He.x,qe.x),Math.min(He.y,qe.y)),pt=Qe.sub(Ke),xt=(ce.width-(ge.left+ge.right+J.padding.left+J.padding.right))/pt.x,Nt=(ce.height-(ge.top+ge.bottom+J.padding.top+J.padding.bottom))/pt.y;if(Nt<0||xt<0)return void x.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const lt=Math.min(ce.scaleZoom(ce.scale*Math.min(xt,Nt)),J.maxZoom),wt="number"==typeof J.offset.x?new x.pointGeometry(J.offset.x,J.offset.y):x.pointGeometry.convert(J.offset),Tt=new x.pointGeometry((J.padding.left-J.padding.right)/2,(J.padding.top-J.padding.bottom)/2).rotate(N*Math.PI/180),Vt=wt.add(Tt).mult(ce.scale/ce.zoomScale(lt));return{center:ce.unproject(xe.add(ve).div(2).sub(Vt)),zoom:lt,bearing:N}}_cameraForBox(m,T,N,U,J){const ce=this._extendCameraOptions(J);N=N||0,U=U||0,m=x.LngLat.convert(m),T=x.LngLat.convert(T);const ge=this.transform.clone();ge.padding=ce.padding;const xe=this.getFreeCameraOptions(),ve=new x.LngLat(.5*(m.lng+T.lng),.5*(m.lat+T.lat)),He=.5*(N+U);if(ge._camera.position[2]<x.mercatorZfromAltitude(He,ve.lat))return void x.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");xe.lookAtPoint(ve),ge.setFreeCameraOptions(xe);const qe=x.MercatorCoordinate.fromLngLat(m),Qe=x.MercatorCoordinate.fromLngLat(T),Ke=ge.pointRayIntersection(ge.centerPoint,He),pt=[(xt=ge.rayIntersectionCoordinate(Ke)).x,xt.y,xt.z];var xt;const Nt=ge.screenPointToMercatorRay(ge.centerPoint);let lt,wt=0;do{const Tt=Math.floor(ge.zoom),Vt=1<<Tt,St=Math.min(Vt*qe.x,Vt*Qe.x),Dt=Math.min(Vt*qe.y,Vt*Qe.y),kn=Math.max(Vt*qe.x,Vt*Qe.x),Dn=Math.max(Vt*qe.y,Vt*Qe.y),Nn=new Fn([St,Dt,N],[kn,Dn,U]),It=ii.fromInvProjectionMatrix(ge.invProjMatrix,ge.worldSize,Tt);if(2!==Nn.intersects(It)){lt&&(ge._camera.position=x.scaleAndAdd([],ge._camera.position,Nt.dir,-lt),ge._updateStateFromCamera());break}const ri=x.sub([],ge._camera.position,pt);lt=.5*x.length(ri),ge._camera.position=x.scaleAndAdd([],ge._camera.position,Nt.dir,lt);try{ge._updateStateFromCamera()}catch(Bn){return void x.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}}while(++wt<10);return{center:ge.center,zoom:ge.zoom,bearing:ge.bearing,pitch:ge.pitch}}fitBounds(m,T,N){return this._fitInternal(this.cameraForBounds(m,T),T,N)}_raycastElevationBox(m,T){const N=this.transform.elevation;if(!N)return;const U=new x.pointGeometry(m.x,T.y),J=new x.pointGeometry(T.x,m.y),ce=N.pointCoordinate(m);if(!ce)return;const ge=N.pointCoordinate(T);if(!ge)return;const xe=N.pointCoordinate(U);if(!xe)return;const ve=N.pointCoordinate(J);if(!ve)return;const He=new x.MercatorCoordinate(ce[0],ce[1]).toLngLat(),qe=new x.MercatorCoordinate(ge[0],ge[1]).toLngLat(),Qe=new x.MercatorCoordinate(xe[0],xe[1]).toLngLat(),Ke=new x.MercatorCoordinate(ve[0],ve[1]).toLngLat(),pt=Math.min(He.lng,Math.min(qe.lng,Math.min(Qe.lng,Ke.lng))),xt=Math.min(He.lat,Math.min(qe.lat,Math.min(Qe.lat,Ke.lat))),Nt=Math.max(He.lng,Math.max(qe.lng,Math.max(Qe.lng,Ke.lng))),lt=Math.max(He.lat,Math.max(qe.lat,Math.max(Qe.lat,Ke.lat))),wt=Math.min(ce[3],Math.min(ge[3],Math.min(xe[3],ve[3]))),Tt=Math.max(ce[3],Math.max(ge[3],Math.max(xe[3],ve[3])));return{minLngLat:new x.LngLat(pt,xt),maxLngLat:new x.LngLat(Nt,lt),minAltitude:wt,maxAltitude:Tt}}fitScreenCoordinates(m,T,N,U,J){let ce,ge,xe,ve;const He=x.pointGeometry.convert(m),qe=x.pointGeometry.convert(T),Qe=this._raycastElevationBox(He,qe);if(Qe)ce=Qe.minLngLat,ge=Qe.maxLngLat,xe=Qe.minAltitude,ve=Qe.maxAltitude;else{if(this.transform.isHorizonVisibleForPoints(He,qe))return this;ce=this.transform.pointLocation(He),ge=this.transform.pointLocation(qe)}return this._fitInternal(0===this.transform.pitch?this._cameraForBoxAndBearing(this.transform.pointLocation(x.pointGeometry.convert(m)),this.transform.pointLocation(x.pointGeometry.convert(T)),N,U):this._cameraForBox(ce,ge,xe,ve,U),U,J)}_fitInternal(m,T,N){return m?(delete(T=x.extend(m,T)).padding,T.linear?this.easeTo(T,N):this.flyTo(T,N)):this}jumpTo(m,T){this.stop();const N=this.transform;let U=!1,J=!1,ce=!1;return"zoom"in m&&N.zoom!==+m.zoom&&(U=!0,N.zoom=+m.zoom),void 0!==m.center&&(N.center=x.LngLat.convert(m.center)),"bearing"in m&&N.bearing!==+m.bearing&&(J=!0,N.bearing=+m.bearing),"pitch"in m&&N.pitch!==+m.pitch&&(ce=!0,N.pitch=+m.pitch),null==m.padding||N.isPaddingEqual(m.padding)||(N.padding=m.padding),this.fire(new x.Event("movestart",T)).fire(new x.Event("move",T)),U&&this.fire(new x.Event("zoomstart",T)).fire(new x.Event("zoom",T)).fire(new x.Event("zoomend",T)),J&&this.fire(new x.Event("rotatestart",T)).fire(new x.Event("rotate",T)).fire(new x.Event("rotateend",T)),ce&&this.fire(new x.Event("pitchstart",T)).fire(new x.Event("pitch",T)).fire(new x.Event("pitchend",T)),this.fire(new x.Event("moveend",T))}getFreeCameraOptions(){return this.transform.getFreeCameraOptions()}setFreeCameraOptions(m,T){this.stop();const N=this.transform,U=N.zoom,J=N.pitch,ce=N.bearing;N.setFreeCameraOptions(m);const ge=U!==N.zoom,xe=J!==N.pitch,ve=ce!==N.bearing;return this.fire(new x.Event("movestart",T)).fire(new x.Event("move",T)),ge&&this.fire(new x.Event("zoomstart",T)).fire(new x.Event("zoom",T)).fire(new x.Event("zoomend",T)),ve&&this.fire(new x.Event("rotatestart",T)).fire(new x.Event("rotate",T)).fire(new x.Event("rotateend",T)),xe&&this.fire(new x.Event("pitchstart",T)).fire(new x.Event("pitch",T)).fire(new x.Event("pitchend",T)),this.fire(new x.Event("moveend",T)),this}easeTo(m,T){this._stop(!1,m.easeId),(!1===(m=x.extend({offset:[0,0],duration:500,easing:x.ease},m)).animate||!m.essential&&x.exported.prefersReducedMotion)&&(m.duration=0);const N=this.transform,U=this.getZoom(),J=this.getBearing(),ce=this.getPitch(),ge=this.getPadding(),xe="zoom"in m?+m.zoom:U,ve="bearing"in m?this._normalizeBearing(m.bearing,J):J,He="pitch"in m?+m.pitch:ce,qe="padding"in m?m.padding:N.padding,Qe=x.pointGeometry.convert(m.offset);let Ke=N.centerPoint.add(Qe);const pt=N.pointLocation(Ke),xt=x.LngLat.convert(m.center||pt);this._normalizeCenter(xt);const Nt=N.project(pt),lt=N.project(xt).sub(Nt),wt=N.zoomScale(xe-U);let Tt,Vt;m.around&&(Tt=x.LngLat.convert(m.around),Vt=N.locationPoint(Tt));const St={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||xe!==U,this._rotating=this._rotating||J!==ve,this._pitching=this._pitching||He!==ce,this._padding=!N.isPaddingEqual(qe),this._easeId=m.easeId,this._prepareEase(T,m.noMoveStart,St),this._ease(Dt=>{if(this._zooming&&(N.zoom=x.number(U,xe,Dt)),this._rotating&&(N.bearing=x.number(J,ve,Dt)),this._pitching&&(N.pitch=x.number(ce,He,Dt)),this._padding&&(N.interpolatePadding(ge,qe,Dt),Ke=N.centerPoint.add(Qe)),Tt)N.setLocationAtPoint(Tt,Vt);else{const kn=N.zoomScale(N.zoom-U),Dn=xe>U?Math.min(2,wt):Math.max(.5,wt),Nn=Math.pow(Dn,1-Dt),It=N.unproject(Nt.add(lt.mult(Dt*Nn)).mult(kn));N.setLocationAtPoint(N.renderWorldCopies?It.wrap():It,Ke)}this._fireMoveEvents(T)},Dt=>{N.recenterOnTerrain(),this._afterEase(T,Dt)},m),this}_prepareEase(m,T,N={}){this._moving=!0,this.transform.cameraElevationReference="sea",T||N.moving||this.fire(new x.Event("movestart",m)),this._zooming&&!N.zooming&&this.fire(new x.Event("zoomstart",m)),this._rotating&&!N.rotating&&this.fire(new x.Event("rotatestart",m)),this._pitching&&!N.pitching&&this.fire(new x.Event("pitchstart",m))}_fireMoveEvents(m){this.fire(new x.Event("move",m)),this._zooming&&this.fire(new x.Event("zoom",m)),this._rotating&&this.fire(new x.Event("rotate",m)),this._pitching&&this.fire(new x.Event("pitch",m))}_afterEase(m,T){if(this._easeId&&T&&this._easeId===T)return;delete this._easeId,this.transform.cameraElevationReference="ground";const N=this._zooming,U=this._rotating,J=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,N&&this.fire(new x.Event("zoomend",m)),U&&this.fire(new x.Event("rotateend",m)),J&&this.fire(new x.Event("pitchend",m)),this.fire(new x.Event("moveend",m))}flyTo(m,T){if(!m.essential&&x.exported.prefersReducedMotion){const Xn=x.pick(m,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Xn,T)}this.stop(),m=x.extend({offset:[0,0],speed:1.2,curve:1.42,easing:x.ease},m);const N=this.transform,U=this.getZoom(),J=this.getBearing(),ce=this.getPitch(),ge=this.getPadding(),xe="zoom"in m?x.clamp(+m.zoom,N.minZoom,N.maxZoom):U,ve="bearing"in m?this._normalizeBearing(m.bearing,J):J,He="pitch"in m?+m.pitch:ce,qe="padding"in m?m.padding:N.padding,Qe=N.zoomScale(xe-U),Ke=x.pointGeometry.convert(m.offset);let pt=N.centerPoint.add(Ke);const xt=N.pointLocation(pt),Nt=x.LngLat.convert(m.center||xt);this._normalizeCenter(Nt);const lt=N.project(xt),wt=N.project(Nt).sub(lt);let Tt=m.curve;const Vt=Math.max(N.width,N.height),St=Vt/Qe,Dt=wt.mag();if("minZoom"in m){const Xn=x.clamp(Math.min(m.minZoom,U,xe),N.minZoom,N.maxZoom),mr=Vt/N.zoomScale(Xn-U);Tt=Math.sqrt(mr/Dt*2)}const kn=Tt*Tt;function Dn(Xn){const mr=(St*St-Vt*Vt+(Xn?-1:1)*kn*kn*Dt*Dt)/(2*(Xn?St:Vt)*kn*Dt);return Math.log(Math.sqrt(mr*mr+1)-mr)}function Nn(Xn){return(Math.exp(Xn)-Math.exp(-Xn))/2}function It(Xn){return(Math.exp(Xn)+Math.exp(-Xn))/2}const ri=Dn(0);let Bn=function(Xn){return It(ri)/It(ri+Tt*Xn)},ui=function(Xn){return Vt*((It(ri)*(Nn(mr=ri+Tt*Xn)/It(mr))-Nn(ri))/kn)/Dt;var mr},ti=(Dn(1)-ri)/Tt;if(Math.abs(Dt)<1e-6||!isFinite(ti)){if(Math.abs(Vt-St)<1e-6)return this.easeTo(m,T);const Xn=St<Vt?-1:1;ti=Math.abs(Math.log(St/Vt))/Tt,ui=function(){return 0},Bn=function(mr){return Math.exp(Xn*Tt*mr)}}return m.duration="duration"in m?+m.duration:1e3*ti/("screenSpeed"in m?+m.screenSpeed/Tt:+m.speed),m.maxDuration&&m.duration>m.maxDuration&&(m.duration=0),this._zooming=!0,this._rotating=J!==ve,this._pitching=He!==ce,this._padding=!N.isPaddingEqual(qe),this._prepareEase(T,!1),this._ease(Xn=>{const mr=Xn*ti,Pi=1/Bn(mr);N.zoom=1===Xn?xe:U+N.scaleZoom(Pi),this._rotating&&(N.bearing=x.number(J,ve,Xn)),this._pitching&&(N.pitch=x.number(ce,He,Xn)),this._padding&&(N.interpolatePadding(ge,qe,Xn),pt=N.centerPoint.add(Ke));const Jr=1===Xn?Nt:N.unproject(lt.add(wt.mult(ui(mr))).mult(Pi));N.setLocationAtPoint(N.renderWorldCopies?Jr.wrap():Jr,pt),N._updateCenterElevation(),this._fireMoveEvents(T)},()=>this._afterEase(T),m),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(m,T){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const N=this._onEaseEnd;delete this._onEaseEnd,N.call(this,T)}if(!m){const N=this.handlers;N&&N.stop(!1)}return this}_ease(m,T,N){!1===N.animate||0===N.duration?(m(1),T()):(this._easeStart=x.exported.now(),this._easeOptions=N,this._onEaseFrame=m,this._onEaseEnd=T,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const m=Math.min((x.exported.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(m)),m<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(m,T){m=x.wrap(m,-180,180);const N=Math.abs(m-T);return Math.abs(m-360-T)<N&&(m-=360),Math.abs(m+360-T)<N&&(m+=360),m}_normalizeCenter(m){const T=this.transform;if(!T.renderWorldCopies||T.lngRange)return;const N=m.lng-T.center.lng;m.lng+=N>180?-360:N<-180?360:0}}class el{constructor(m={}){this.options=m,x.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(m){const T=this.options&&this.options.compact;return this._map=m,this._container=Be.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=Be.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=Be.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),T&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===T&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){Be.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_setElementTitle(m,T){const N=this._map._getUIString(`AttributionControl.${T}`);m.title=N,m.setAttribute("aria-label",N)}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))}_updateEditLink(){let m=this._editLink;m||(m=this._editLink=this._container.querySelector(".mapbox-improve-map"));const T=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||x.config.ACCESS_TOKEN}];if(m){const N=T.reduce((U,J,ce)=>(J.value&&(U+=`${J.key}=${J.value}${ce<T.length-1?"&":""}`),U),"?");m.href=`${x.config.FEEDBACK_URL}/${N}${this._map._hash?this._map._hash.getHashString(!0):""}`,m.rel="noopener nofollow",this._setElementTitle(m,"MapFeedback")}}_updateData(m){!m||"metadata"!==m.sourceDataType&&"visibility"!==m.sourceDataType&&"style"!==m.dataType||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let m=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?m=m.concat(this.options.customAttribution.map(U=>"string"!=typeof U?"":U)):"string"==typeof this.options.customAttribution&&m.push(this.options.customAttribution)),this._map.style.stylesheet){const U=this._map.style.stylesheet;this.styleOwner=U.owner,this.styleId=U.id}const T=this._map.style._sourceCaches;for(const U in T){const J=T[U];if(J.used){const ce=J.getSource();ce.attribution&&m.indexOf(ce.attribution)<0&&m.push(ce.attribution)}}m.sort((U,J)=>U.length-J.length),m=m.filter((U,J)=>{for(let ce=J+1;ce<m.length;ce++)if(m[ce].indexOf(U)>=0)return!1;return!0});const N=m.join(" | ");N!==this._attribHTML&&(this._attribHTML=N,m.length?(this._innerContainer.innerHTML=N,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class lc{constructor(){x.bindAll(["_updateLogo"],this),x.bindAll(["_updateCompact"],this)}onAdd(m){this._map=m,this._container=Be.create("div","mapboxgl-ctrl");const T=Be.create("a","mapboxgl-ctrl-logo");return T.target="_blank",T.rel="noopener nofollow",T.href="https://www.mapbox.com/",T.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),T.setAttribute("rel","noopener nofollow"),this._container.appendChild(T),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){Be.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(m){m&&"metadata"!==m.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;const m=this._map.style._sourceCaches;if(0===Object.entries(m).length)return!0;for(const T in m){const N=m[T].getSource();if(N.hasOwnProperty("mapbox_logo")&&!N.mapbox_logo)return!1}return!0}_updateCompact(){const m=this._container.children;if(m.length){const T=m[0];this._map.getCanvasContainer().offsetWidth<250?T.classList.add("mapboxgl-compact"):T.classList.remove("mapboxgl-compact")}}}class Rp{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(m){const T=++this._id;return this._queue.push({callback:m,id:T,cancelled:!1}),T}remove(m){const T=this._currentlyRunning,N=T?this._queue.concat(T):this._queue;for(const U of N)if(U.id===m)return void(U.cancelled=!0)}run(m=0){const T=this._currentlyRunning=this._queue;this._queue=[];for(const N of T)if(!N.cancelled&&(N.callback(m),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}function cu(R,m,T){if(R=new x.LngLat(R.lng,R.lat),m){const N=new x.LngLat(R.lng-360,R.lat),U=new x.LngLat(R.lng+360,R.lat),J=360*Math.ceil(Math.abs(R.lng-T.center.lng)/360),ce=T.locationPoint(R).distSqr(m),ge=m.x<0||m.y<0||m.x>T.width||m.y>T.height;T.locationPoint(N).distSqr(m)<ce&&(ge||Math.abs(N.lng-T.center.lng)<J)?R=N:T.locationPoint(U).distSqr(m)<ce&&(ge||Math.abs(U.lng-T.center.lng)<J)&&(R=U)}for(;Math.abs(R.lng-T.center.lng)>180;){const N=T.locationPoint(R);if(N.x>=0&&N.y>=0&&N.x<=T.width&&N.y<=T.height)break;R.lng>T.center.lng?R.lng-=360:R.lng+=360}return R}const gh={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function od(R,m,T){const N=R.classList;for(const U in gh)N.remove(`mapboxgl-${T}-anchor-${U}`);N.add(`mapboxgl-${T}-anchor-${m}`)}class uu extends x.Evented{constructor(m,T){if(super(),(m instanceof x.window.HTMLElement||T)&&(m=x.extend({element:m},T)),x.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],this),this._anchor=m&&m.anchor||"center",this._color=m&&m.color||"#3FB1CE",this._scale=m&&m.scale||1,this._draggable=m&&m.draggable||!1,this._clickTolerance=m&&m.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=m&&m.rotation||0,this._rotationAlignment=m&&m.rotationAlignment||"auto",this._pitchAlignment=m&&m.pitchAlignment&&"auto"!==m.pitchAlignment?m.pitchAlignment:this._rotationAlignment,m&&m.element)this._element=m.element,this._offset=x.pointGeometry.convert(m&&m.offset||[0,0]);else{this._defaultMarker=!0,this._element=Be.create("div"),this._element.setAttribute("aria-label","Map marker");const N=Be.createNS("http://www.w3.org/2000/svg","svg"),U=41,J=27;N.setAttributeNS(null,"display","block"),N.setAttributeNS(null,"height",`${U}px`),N.setAttributeNS(null,"width",`${J}px`),N.setAttributeNS(null,"viewBox",`0 0 ${J} ${U}`);const ce=Be.createNS("http://www.w3.org/2000/svg","g");ce.setAttributeNS(null,"stroke","none"),ce.setAttributeNS(null,"stroke-width","1"),ce.setAttributeNS(null,"fill","none"),ce.setAttributeNS(null,"fill-rule","evenodd");const ge=Be.createNS("http://www.w3.org/2000/svg","g");ge.setAttributeNS(null,"fill-rule","nonzero");const xe=Be.createNS("http://www.w3.org/2000/svg","g");xe.setAttributeNS(null,"transform","translate(3.0, 29.0)"),xe.setAttributeNS(null,"fill","#000000");const ve=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const wt of ve){const Tt=Be.createNS("http://www.w3.org/2000/svg","ellipse");Tt.setAttributeNS(null,"opacity","0.04"),Tt.setAttributeNS(null,"cx","10.5"),Tt.setAttributeNS(null,"cy","5.80029008"),Tt.setAttributeNS(null,"rx",wt.rx),Tt.setAttributeNS(null,"ry",wt.ry),xe.appendChild(Tt)}const He=Be.createNS("http://www.w3.org/2000/svg","g");He.setAttributeNS(null,"fill",this._color);const qe=Be.createNS("http://www.w3.org/2000/svg","path");qe.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),He.appendChild(qe);const Qe=Be.createNS("http://www.w3.org/2000/svg","g");Qe.setAttributeNS(null,"opacity","0.25"),Qe.setAttributeNS(null,"fill","#000000");const Ke=Be.createNS("http://www.w3.org/2000/svg","path");Ke.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),Qe.appendChild(Ke);const pt=Be.createNS("http://www.w3.org/2000/svg","g");pt.setAttributeNS(null,"transform","translate(6.0, 7.0)"),pt.setAttributeNS(null,"fill","#FFFFFF");const xt=Be.createNS("http://www.w3.org/2000/svg","g");xt.setAttributeNS(null,"transform","translate(8.0, 8.0)");const Nt=Be.createNS("http://www.w3.org/2000/svg","circle");Nt.setAttributeNS(null,"fill","#000000"),Nt.setAttributeNS(null,"opacity","0.25"),Nt.setAttributeNS(null,"cx","5.5"),Nt.setAttributeNS(null,"cy","5.5"),Nt.setAttributeNS(null,"r","5.4999962");const lt=Be.createNS("http://www.w3.org/2000/svg","circle");lt.setAttributeNS(null,"fill","#FFFFFF"),lt.setAttributeNS(null,"cx","5.5"),lt.setAttributeNS(null,"cy","5.5"),lt.setAttributeNS(null,"r","5.4999962"),xt.appendChild(Nt),xt.appendChild(lt),ge.appendChild(xe),ge.appendChild(He),ge.appendChild(Qe),ge.appendChild(pt),ge.appendChild(xt),N.appendChild(ge),N.setAttributeNS(null,"height",U*this._scale+"px"),N.setAttributeNS(null,"width",J*this._scale+"px"),this._element.appendChild(N),this._offset=x.pointGeometry.convert(m&&m.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",N=>{N.preventDefault()}),this._element.addEventListener("mousedown",N=>{N.preventDefault()}),od(this._element,this._anchor,"marker"),this._popup=null}addTo(m){return this.remove(),this._map=m,m.getCanvasContainer().appendChild(this._element),m.on("move",this._update),m.on("moveend",this._update),m.on("remove",this._clearFadeTimer),m._addMarker(this),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._map.off("remove",this._clearFadeTimer),this._map._removeMarker(this),delete this._map),this._clearFadeTimer(),Be.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(m){return this._lngLat=x.LngLat.convert(m),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(m){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),m){if(!("offset"in m.options)){const T=38.1,N=13.5,U=Math.sqrt(Math.pow(N,2)/2);m.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-T],"bottom-left":[U,-1*(T-N+U)],"bottom-right":[-U,-1*(T-N+U)],left:[N,-1*(T-N)],right:[-N,-1*(T-N)]}:this._offset}this._popup=m,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}_onKeyPress(m){const T=m.code,N=m.charCode||m.keyCode;"Space"!==T&&"Enter"!==T&&32!==N&&13!==N||this.togglePopup()}_onMapClick(m){const T=m.originalEvent.target,N=this._element;this._popup&&(T===N||N.contains(T))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const m=this._popup;return m?(m.isOpen()?m.remove():m.addTo(this._map),this):this}_evaluateOpacity(){const m=this._pos?this._pos.sub(this._transformedOffset()):null;if(!this._withinScreenBounds(m))return void this._clearFadeTimer();const T=this._map.unproject(m);let N=!1;if(this._map.getTerrain()){const J=this._map.getFreeCameraOptions();if(J.position){const ce=J.position.toLngLat();N=ce.distanceTo(T)<.9*ce.distanceTo(this._lngLat)}}const U=(1-this._map._queryFogOpacity(T))*(N?.2:1);this._element.style.opacity=`${U}`,this._popup&&this._popup._setOpacity(`${U}`),this._fadeTimer=null}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}_withinScreenBounds(m){const T=this._map.transform;return!!m&&m.x>=0&&m.x<T.width&&m.y>=0&&m.y<T.height}_update(m){if(!this._map)return;this._map.transform.renderWorldCopies&&(this._lngLat=cu(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._transformedOffset());let T="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?T=`rotateZ(${this._rotation}deg)`:"map"===this._rotationAlignment&&(T=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let N="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?N="rotateX(0deg)":"map"===this._pitchAlignment&&(N=`rotateX(${this._map.getPitch()}deg)`),m&&"moveend"!==m.type||(this._pos=this._pos.round()),this._map._requestDomTask(()=>{this._map&&(this._element&&this._pos&&this._anchor&&Be.setTransform(this._element,`${gh[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${N} ${T}`),!this._map.getTerrain()&&!this._map.getFog()||this._fadeTimer||(this._fadeTimer=setTimeout(this._evaluateOpacity.bind(this),60)))})}_transformedOffset(){if(!this._defaultMarker)return this._offset;const m=this._map.transform,T=this._offset.mult(this._scale);return"map"===this._rotationAlignment&&T._rotate(m.angle),"map"===this._pitchAlignment&&(T.y*=Math.cos(m._pitch)),T}getOffset(){return this._offset}setOffset(m){return this._offset=x.pointGeometry.convert(m),this._update(),this}_onMove(m){if(!this._isDragging){const T=this._clickTolerance||this._map._clickTolerance;this._isDragging=m.point.dist(this._pointerdownPos)>=T}this._isDragging&&(this._pos=m.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new x.Event("dragstart"))),this.fire(new x.Event("drag")))}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new x.Event("dragend")),this._state="inactive"}_addDragHandler(m){this._element.contains(m.originalEvent.target)&&(m.preventDefault(),this._positionDelta=m.point.sub(this._pos).add(this._transformedOffset()),this._pointerdownPos=m.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))}setDraggable(m){return this._draggable=!!m,this._map&&(m?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(m){return this._rotation=m||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(m){return this._rotationAlignment=m||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(m){return this._pitchAlignment=m&&"auto"!==m?m:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}}class du{constructor(m){this.jumpTo(m)}getValue(m){if(m<=this._startTime)return this._start;if(m>=this._endTime)return this._end;const T=x.easeCubicInOut((m-this._startTime)/(this._endTime-this._startTime));return this._start*(1-T)+this._end*T}isEasing(m){return m>=this._startTime&&m<=this._endTime}jumpTo(m){this._startTime=-1/0,this._endTime=-1/0,this._start=m,this._end=m}easeTo(m,T,N){this._start=this.getValue(T),this._end=m,this._startTime=T,this._endTime=T+N}}const Dc={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},{HTMLImageElement:Au,HTMLElement:rt,ImageBitmap:Ac}=x.window,_h={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,optimizeForTerrain:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0};function tl(R){R.parentNode&&R.parentNode.removeChild(R)}const as={showCompass:!0,showZoom:!0,visualizePitch:!1};class Fp{constructor(m,T,N=!1){this._clickTolerance=10,this.element=T,this.mouseRotate=new kc({clickTolerance:m.dragRotate._mouseRotate._clickTolerance}),this.map=m,N&&(this.mousePitch=new Du({clickTolerance:m.dragRotate._mousePitch._clickTolerance})),x.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),Be.addEventListener(T,"mousedown",this.mousedown),Be.addEventListener(T,"touchstart",this.touchstart,{passive:!1}),Be.addEventListener(T,"touchmove",this.touchmove),Be.addEventListener(T,"touchend",this.touchend),Be.addEventListener(T,"touchcancel",this.reset)}down(m,T){this.mouseRotate.mousedown(m,T),this.mousePitch&&this.mousePitch.mousedown(m,T),Be.disableDrag()}move(m,T){const N=this.map,U=this.mouseRotate.mousemoveWindow(m,T);if(U&&U.bearingDelta&&N.setBearing(N.getBearing()+U.bearingDelta),this.mousePitch){const J=this.mousePitch.mousemoveWindow(m,T);J&&J.pitchDelta&&N.setPitch(N.getPitch()+J.pitchDelta)}}off(){const m=this.element;Be.removeEventListener(m,"mousedown",this.mousedown),Be.removeEventListener(m,"touchstart",this.touchstart,{passive:!1}),Be.removeEventListener(m,"touchmove",this.touchmove),Be.removeEventListener(m,"touchend",this.touchend),Be.removeEventListener(m,"touchcancel",this.reset),this.offTemp()}offTemp(){Be.enableDrag(),Be.removeEventListener(x.window,"mousemove",this.mousemove),Be.removeEventListener(x.window,"mouseup",this.mouseup)}mousedown(m){this.down(x.extend({},m,{ctrlKey:!0,preventDefault:()=>m.preventDefault()}),Be.mousePos(this.element,m)),Be.addEventListener(x.window,"mousemove",this.mousemove),Be.addEventListener(x.window,"mouseup",this.mouseup)}mousemove(m){this.move(m,Be.mousePos(this.element,m))}mouseup(m){this.mouseRotate.mouseupWindow(m),this.mousePitch&&this.mousePitch.mouseupWindow(m),this.offTemp()}touchstart(m){1!==m.targetTouches.length?this.reset():(this._startPos=this._lastPos=Be.touchPos(this.element,m.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>m.preventDefault()},this._startPos))}touchmove(m){1!==m.targetTouches.length?this.reset():(this._lastPos=Be.touchPos(this.element,m.targetTouches)[0],this.move({preventDefault:()=>m.preventDefault()},this._lastPos))}touchend(m){0===m.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}const Io={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1};let li,Jo=0,ad=!1;const Ua={maxWidth:100,unit:"metric"};function Ff(R,m,T){const N=T&&T.maxWidth||100,U=R._container.clientHeight/2,J=R.unproject([0,U]),ce=R.unproject([N,U]),ge=J.distanceTo(ce);if(T&&"imperial"===T.unit){const xe=3.2808*ge;xe>5280?yh(m,N,xe/5280,R._getUIString("ScaleControl.Miles"),R):yh(m,N,xe,R._getUIString("ScaleControl.Feet"),R)}else T&&"nautical"===T.unit?yh(m,N,ge/1852,R._getUIString("ScaleControl.NauticalMiles"),R):ge>=1e3?yh(m,N,ge/1e3,R._getUIString("ScaleControl.Kilometers"),R):yh(m,N,ge,R._getUIString("ScaleControl.Meters"),R)}function yh(R,m,T,N,U){const J=function(ge){const xe=Math.pow(10,`${Math.floor(ge)}`.length-1);let ve=ge/xe;return ve=ve>=10?10:ve>=5?5:ve>=3?3:ve>=2?2:ve>=1?1:function(He){const qe=Math.pow(10,Math.ceil(-Math.log(He)/Math.LN10));return Math.round(He*qe)/qe}(ve),xe*ve}(T),ce=J/T;U._requestDomTask(()=>{R.style.width=m*ce+"px",R.innerHTML=`${J}&nbsp;${N}`})}const Nf={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},nl=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function Jh(R){if(R){if("number"==typeof R){const m=Math.round(Math.sqrt(.5*Math.pow(R,2)));return{center:new x.pointGeometry(0,0),top:new x.pointGeometry(0,R),"top-left":new x.pointGeometry(m,m),"top-right":new x.pointGeometry(-m,m),bottom:new x.pointGeometry(0,-R),"bottom-left":new x.pointGeometry(m,-m),"bottom-right":new x.pointGeometry(-m,-m),left:new x.pointGeometry(R,0),right:new x.pointGeometry(-R,0)}}if(R instanceof x.pointGeometry||Array.isArray(R)){const m=x.pointGeometry.convert(R);return{center:m,top:m,"top-left":m,"top-right":m,bottom:m,"bottom-left":m,"bottom-right":m,left:m,right:m}}return{center:x.pointGeometry.convert(R.center||[0,0]),top:x.pointGeometry.convert(R.top||[0,0]),"top-left":x.pointGeometry.convert(R["top-left"]||[0,0]),"top-right":x.pointGeometry.convert(R["top-right"]||[0,0]),bottom:x.pointGeometry.convert(R.bottom||[0,0]),"bottom-left":x.pointGeometry.convert(R["bottom-left"]||[0,0]),"bottom-right":x.pointGeometry.convert(R["bottom-right"]||[0,0]),left:x.pointGeometry.convert(R.left||[0,0]),right:x.pointGeometry.convert(R.right||[0,0])}}return Jh(new x.pointGeometry(0,0))}const Np={version:x.version,supported:de,setRTLTextPlugin:x.setRTLTextPlugin,getRTLTextPluginStatus:x.getRTLTextPluginStatus,Map:class extends Ao{constructor(R){if(null!=(R=x.extend({},_h,R)).minZoom&&null!=R.maxZoom&&R.minZoom>R.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=R.minPitch&&null!=R.maxPitch&&R.minPitch>R.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=R.minPitch&&R.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=R.maxPitch&&R.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new Dr(R.minZoom,R.maxZoom,R.minPitch,R.maxPitch,R.renderWorldCopies),R),this._interactive=R.interactive,this._maxTileCacheSize=R.maxTileCacheSize,this._failIfMajorPerformanceCaveat=R.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=R.preserveDrawingBuffer,this._antialias=R.antialias,this._trackResize=R.trackResize,this._bearingSnap=R.bearingSnap,this._refreshExpiredTiles=R.refreshExpiredTiles,this._fadeDuration=R.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=R.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=R.collectResourceTiming,this._optimizeForTerrain=R.optimizeForTerrain,this._renderTaskQueue=new Rp,this._domRenderTaskQueue=new Rp,this._controls=[],this._markers=[],this._mapId=x.uniqueId(),this._locale=x.extend({},Dc,R.locale),this._clickTolerance=R.clickTolerance,this._averageElevationLastSampledAt=-1/0,this._averageElevation=new du(0),this._requestManager=new x.RequestManager(R.transformRequest,R.accessToken,R.testMode),this._silenceAuthErrors=!!R.testMode,"string"==typeof R.container){if(this._container=x.window.document.getElementById(R.container),!this._container)throw new Error(`Container '${R.container}' not found.`)}else{if(!(R.container instanceof rt))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=R.container}if(R.maxBounds&&this.setMaxBounds(R.maxBounds),x.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),void 0!==x.window&&(x.window.addEventListener("online",this._onWindowOnline,!1),x.window.addEventListener("resize",this._onWindowResize,!1),x.window.addEventListener("orientationchange",this._onWindowResize,!1),x.window.addEventListener("webkitfullscreenchange",this._onWindowResize,!1)),this.handlers=new sd(this,R),this._hash=R.hash&&new Xr("string"==typeof R.hash&&R.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:R.center,zoom:R.zoom,bearing:R.bearing,pitch:R.pitch}),R.bounds&&(this.resize(),this.fitBounds(R.bounds,x.extend({},R.fitBoundsOptions,{duration:0})))),this.resize(),this._localFontFamily=R.localFontFamily,this._localIdeographFontFamily=R.localIdeographFontFamily,R.style&&this.setStyle(R.style,{localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),R.attributionControl&&this.addControl(new el({customAttribution:R.customAttribution})),this._logoControl=new lc,this.addControl(this._logoControl,R.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",m=>{this._update("style"===m.dataType),this.fire(new x.Event(`${m.dataType}data`,m))}),this.on("dataloading",m=>{this.fire(new x.Event(`${m.dataType}dataloading`,m))})}_getMapId(){return this._mapId}addControl(R,m){if(void 0===m&&(m=R.getDefaultPosition?R.getDefaultPosition():"top-right"),!R||!R.onAdd)return this.fire(new x.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const T=R.onAdd(this);this._controls.push(R);const N=this._controlPositions[m];return-1!==m.indexOf("bottom")?N.insertBefore(T,N.firstChild):N.appendChild(T),this}removeControl(R){if(!R||!R.onRemove)return this.fire(new x.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const m=this._controls.indexOf(R);return m>-1&&this._controls.splice(m,1),R.onRemove(this),this}hasControl(R){return this._controls.indexOf(R)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(R){const m=this._containerDimensions(),T=m[0],N=m[1];this._resizeCanvas(T,N),this.transform.resize(T,N),this.painter.resize(T,N);const U=!this._moving;return U&&(this.stop(),this.fire(new x.Event("movestart",R)).fire(new x.Event("move",R))),this.fire(new x.Event("resize",R)),U&&this.fire(new x.Event("moveend",R)),this}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(R){return this.transform.setMaxBounds(x.LngLatBounds.convert(R)),this._update()}setMinZoom(R){if((R=null==R?-2:R)>=-2&&R<=this.transform.maxZoom)return this.transform.minZoom=R,this._update(),this.getZoom()<R&&this.setZoom(R),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(R){if((R=null==R?22:R)>=this.transform.minZoom)return this.transform.maxZoom=R,this._update(),this.getZoom()>R&&this.setZoom(R),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(R){if((R=null==R?0:R)<0)throw new Error("minPitch must be greater than or equal to 0");if(R>=0&&R<=this.transform.maxPitch)return this.transform.minPitch=R,this._update(),this.getPitch()<R&&this.setPitch(R),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(R){if((R=null==R?85:R)>85)throw new Error("maxPitch must be less than or equal to 85");if(R>=this.transform.minPitch)return this.transform.maxPitch=R,this._update(),this.getPitch()>R&&this.setPitch(R),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(R){return this.transform.renderWorldCopies=R,this._update()}project(R){return this.transform.locationPoint3D(x.LngLat.convert(R))}unproject(R){return this.transform.pointLocation3D(x.pointGeometry.convert(R))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()}_createDelegatedListener(R,m,T){if("mouseenter"===R||"mouseover"===R){let N=!1;return{layer:m,listener:T,delegates:{mousemove:J=>{const ce=this.getLayer(m)?this.queryRenderedFeatures(J.point,{layers:[m]}):[];ce.length?N||(N=!0,T.call(this,new Ar(R,this,J.originalEvent,{features:ce}))):N=!1},mouseout:()=>{N=!1}}}}if("mouseleave"===R||"mouseout"===R){let N=!1;return{layer:m,listener:T,delegates:{mousemove:ce=>{(this.getLayer(m)?this.queryRenderedFeatures(ce.point,{layers:[m]}):[]).length?N=!0:N&&(N=!1,T.call(this,new Ar(R,this,ce.originalEvent)))},mouseout:ce=>{N&&(N=!1,T.call(this,new Ar(R,this,ce.originalEvent)))}}}}{const N=U=>{const J=this.getLayer(m)?this.queryRenderedFeatures(U.point,{layers:[m]}):[];J.length&&(U.features=J,T.call(this,U),delete U.features)};return{layer:m,listener:T,delegates:{[R]:N}}}}on(R,m,T){if(void 0===T)return super.on(R,m);const N=this._createDelegatedListener(R,m,T);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[R]=this._delegatedListeners[R]||[],this._delegatedListeners[R].push(N);for(const U in N.delegates)this.on(U,N.delegates[U]);return this}once(R,m,T){if(void 0===T)return super.once(R,m);const N=this._createDelegatedListener(R,m,T);for(const U in N.delegates)this.once(U,N.delegates[U]);return this}off(R,m,T){return void 0===T?super.off(R,m):(this._delegatedListeners&&this._delegatedListeners[R]&&(N=>{const U=this._delegatedListeners[R];for(let J=0;J<U.length;J++){const ce=U[J];if(ce.layer===m&&ce.listener===T){for(const ge in ce.delegates)this.off(ge,ce.delegates[ge]);return U.splice(J,1),this}}})(),this)}queryRenderedFeatures(R,m){return this.style?(void 0!==m||void 0===R||R instanceof x.pointGeometry||Array.isArray(R)||(m=R,R=void 0),this.style.queryRenderedFeatures(R=R||[[0,0],[this.transform.width,this.transform.height]],m=m||{},this.transform)):[]}querySourceFeatures(R,m){return this.style.querySourceFeatures(R,m)}queryTerrainElevation(R,m){const T=this.transform.elevation;return T?(m=x.extend({},{exaggerated:!0},m),T.getAtPoint(x.MercatorCoordinate.fromLngLat(R),null,m.exaggerated)):null}setStyle(R,m){return!1!==(m=x.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},m)).diff&&m.localIdeographFontFamily===this._localIdeographFontFamily&&m.localFontFamily===this._localFontFamily&&this.style&&R?(this._diffStyle(R,m),this):(this._localIdeographFontFamily=m.localIdeographFontFamily,this._localFontFamily=m.localFontFamily,this._updateStyle(R,m))}_getUIString(R){const m=this._locale[R];if(null==m)throw new Error(`Missing UI string '${R}'`);return m}_updateStyle(R,m){return this.style&&(this.style.setEventedParent(null),this.style._remove(),delete this.style),R&&(this.style=new la(this,m||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof R?this.style.loadURL(R):this.style.loadJSON(R)),this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new la(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(R,m){if("string"==typeof R){const T=this._requestManager.normalizeStyleURL(R),N=this._requestManager.transformRequest(T,x.ResourceType.Style);x.getJSON(N,(U,J)=>{U?this.fire(new x.ErrorEvent(U)):J&&this._updateDiff(J,m)})}else"object"==typeof R&&this._updateDiff(R,m)}_updateDiff(R,m){try{this.style.setState(R)&&this._update(!0)}catch(T){x.warnOnce(`Unable to perform style diff: ${T.message||T.error||T}.  Rebuilding the style from scratch.`),this._updateStyle(R,m)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():x.warnOnce("There is no style added to the map.")}addSource(R,m){return this._lazyInitEmptyStyle(),this.style.addSource(R,m),this._update(!0)}isSourceLoaded(R){const m=this.style&&this.style._getSourceCaches(R);if(0!==m.length)return m.every(T=>T.loaded());this.fire(new x.ErrorEvent(new Error(`There is no source with ID '${R}'`)))}areTilesLoaded(){const R=this.style&&this.style._sourceCaches;for(const m in R){const T=R[m]._tiles;for(const N in T){const U=T[N];if("loaded"!==U.state&&"errored"!==U.state)return!1}}return!0}addSourceType(R,m,T){return this._lazyInitEmptyStyle(),this.style.addSourceType(R,m,T)}removeSource(R){return this.style.removeSource(R),this._updateTerrain(),this._update(!0)}getSource(R){return this.style.getSource(R)}addImage(R,m,{pixelRatio:T=1,sdf:N=!1,stretchX:U,stretchY:J,content:ce}={}){if(this._lazyInitEmptyStyle(),m instanceof Au||Ac&&m instanceof Ac){const{width:ge,height:xe,data:ve}=x.exported.getImageData(m);this.style.addImage(R,{data:new x.RGBAImage({width:ge,height:xe},ve),pixelRatio:T,stretchX:U,stretchY:J,content:ce,sdf:N,version:0})}else{if(void 0===m.width||void 0===m.height)return this.fire(new x.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:ge,height:xe,data:ve}=m,He=m;this.style.addImage(R,{data:new x.RGBAImage({width:ge,height:xe},new Uint8Array(ve)),pixelRatio:T,stretchX:U,stretchY:J,content:ce,sdf:N,version:0,userImage:He}),He.onAdd&&He.onAdd(this,R)}}}updateImage(R,m){const T=this.style.getImage(R);if(!T)return this.fire(new x.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const N=m instanceof Au||Ac&&m instanceof Ac?x.exported.getImageData(m):m,{width:U,height:J,data:ce}=N;return void 0===U||void 0===J?this.fire(new x.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):U!==T.data.width||J!==T.data.height?this.fire(new x.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(T.data.replace(ce,!(m instanceof Au||Ac&&m instanceof Ac)),void this.style.updateImage(R,T))}hasImage(R){return R?!!this.style.getImage(R):(this.fire(new x.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(R){this.style.removeImage(R)}loadImage(R,m){x.getImage(this._requestManager.transformRequest(R,x.ResourceType.Image),(T,N)=>{m(T,N instanceof Au?x.exported.getImageData(N):N)})}listImages(){return this.style.listImages()}addLayer(R,m){return this._lazyInitEmptyStyle(),this.style.addLayer(R,m),this._update(!0)}moveLayer(R,m){return this.style.moveLayer(R,m),this._update(!0)}removeLayer(R){return this.style.removeLayer(R),this._update(!0)}getLayer(R){return this.style.getLayer(R)}setLayerZoomRange(R,m,T){return this.style.setLayerZoomRange(R,m,T),this._update(!0)}setFilter(R,m,T={}){return this.style.setFilter(R,m,T),this._update(!0)}getFilter(R){return this.style.getFilter(R)}setPaintProperty(R,m,T,N={}){return this.style.setPaintProperty(R,m,T,N),this._update(!0)}getPaintProperty(R,m){return this.style.getPaintProperty(R,m)}setLayoutProperty(R,m,T,N={}){return this.style.setLayoutProperty(R,m,T,N),this._update(!0)}getLayoutProperty(R,m){return this.style.getLayoutProperty(R,m)}setLight(R,m={}){return this._lazyInitEmptyStyle(),this.style.setLight(R,m),this._update(!0)}getLight(){return this.style.getLight()}setTerrain(R){return this._lazyInitEmptyStyle(),this.style.setTerrain(R),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(R){return this._lazyInitEmptyStyle(),this.style.setFog(R),this._update(!0)}getFog(){return this.style?this.style.getFog():null}_queryFogOpacity(R){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(x.LngLat.convert(R),this.transform):0}setFeatureState(R,m){return this.style.setFeatureState(R,m),this._update()}removeFeatureState(R,m){return this.style.removeFeatureState(R,m),this._update()}getFeatureState(R){return this.style.getFeatureState(R)}_containerDimensions(){let R=0,m=0;return this._container&&(R=this._container.clientWidth||400,m=this._container.clientHeight||300),[R,m]}_detectMissingCSS(){"rgb(250, 128, 114)"!==x.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&x.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){const R=this._container;R.classList.add("mapboxgl-map"),(this._missingCSSCanary=Be.create("div","mapboxgl-canary",R)).style.visibility="hidden",this._detectMissingCSS();const m=this._canvasContainer=Be.create("div","mapboxgl-canvas-container",R);this._interactive&&m.classList.add("mapboxgl-interactive"),this._canvas=Be.create("canvas","mapboxgl-canvas",m),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");const T=this._containerDimensions();this._resizeCanvas(T[0],T[1]);const N=this._controlContainer=Be.create("div","mapboxgl-control-container",R),U=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(J=>{U[J]=Be.create("div",`mapboxgl-ctrl-${J}`,N)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(R,m){const T=x.exported.devicePixelRatio||1;this._canvas.width=T*R,this._canvas.height=T*m,this._canvas.style.width=`${R}px`,this._canvas.style.height=`${m}px`}_addMarker(R){this._markers.push(R)}_removeMarker(R){const m=this._markers.indexOf(R);-1!==m&&this._markers.splice(m,1)}_setupPainter(){const R=x.extend({},de.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),m=this._canvas.getContext("webgl",R)||this._canvas.getContext("experimental-webgl",R);m?(x.storeAuthState(m,!0),this.painter=new af(m,this.transform),this.on("data",T=>{"source"===T.dataType&&this.painter.setTileLoadedFlag(!0)}),x.exported$1.testSupport(m)):this.fire(new x.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(R){R.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new x.Event("webglcontextlost",{originalEvent:R}))}_contextRestored(R){this._setupPainter(),this.resize(),this._update(),this.fire(new x.Event("webglcontextrestored",{originalEvent:R}))}_onMapScroll(R){if(R.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(R){return this.style?(this._styleDirty=this._styleDirty||R,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(R){return this._update(),this._renderTaskQueue.add(R)}_cancelRenderFrame(R){this._renderTaskQueue.remove(R)}_requestDomTask(R){!this.isMoving()&&this.loaded()?R():this._domRenderTaskQueue.add(R)}_render(R){let m;const T=this.painter.context.extTimerQuery,N=x.exported.now();this.listens("gpu-timing-frame")&&(m=T.createQueryEXT(),T.beginQueryEXT(T.TIME_ELAPSED_EXT,m));let U=this._updateAverageElevation(N);if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(R),this._domRenderTaskQueue.run(R),this._removed)return;let J=!1;const ce=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const xe=this.transform.zoom,ve=x.exported.now();this.style.zoomHistory.update(xe,ve);const He=new x.EvaluationParameters(xe,{now:ve,fadeDuration:ce,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),qe=He.crossFadingFactor();1===qe&&qe===this._crossFadingFactor||(J=!0,this._crossFadingFactor=qe),this.style.update(He)}if(this.style&&this.style.fog&&this.style.fog.hasTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0),this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,ce,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showTerrainWireframe:this.showTerrainWireframe,showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:ce,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),speedIndexTiming:this.speedIndexTiming}),this.fire(new x.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new x.Event("load"))),this.style&&(this.style.hasTransitions()||J)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){const xe=x.exported.now()-N;T.endQueryEXT(T.TIME_ELAPSED_EXT,m),setTimeout(()=>{const ve=T.getQueryObjectEXT(m,T.QUERY_RESULT_EXT)/1e6;T.deleteQueryEXT(m),this.fire(new x.Event("gpu-timing-frame",{cpuTime:xe,gpuTime:ve}))},50)}if(this.listens("gpu-timing-layer")){const xe=this.painter.collectGpuTimers();setTimeout(()=>{const ve=this.painter.queryGpuTimers(xe);this.fire(new x.Event("gpu-timing-layer",{layerTimes:ve}))},50)}const ge=this._sourcesDirty||this._styleDirty||this._placementDirty||U;if(ge||this._repaint)this.triggerRepaint();else{const xe=!this.isMoving()&&this.loaded();if(xe&&(U=this._updateAverageElevation(N,!0)),U)this.triggerRepaint();else if(this._triggerFrame(!1),xe&&(this.fire(new x.Event("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){const ve=this._calculateSpeedIndex();this.fire(new x.Event("speedindexcompleted",{speedIndex:ve})),this.speedIndexTiming=!1}}return!this._loaded||this._fullyLoaded||ge||(this._fullyLoaded=!0,this._authenticate()),this}_updateAverageElevation(R,m=!1){const T=N=>(this.transform.averageElevation=N,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return 0!==this.transform.averageElevation&&T(0);if((m||R-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(R)){const N=this.transform.averageElevation;let U=this.transform.sampleAverageElevation();isNaN(U)?U=0:this._averageElevationLastSampledAt=R;const J=Math.abs(N-U);if(J>1){if(this._isInitialLoad)return this._averageElevation.jumpTo(U),T(U);this._averageElevation.easeTo(U,R,300)}else if(J>1e-4)return this._averageElevation.jumpTo(U),T(U)}return!!this._averageElevation.isEasing(R)&&T(this._averageElevation.getValue(R))}_authenticate(){x.getMapSessionAPI(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,R=>{if(R&&(R.message===x.AUTH_ERR_MSG||401===R.status)){const m=this.painter.context.gl;x.storeAuthState(m,!1),this._logoControl instanceof lc&&this._logoControl._updateLogo(),m&&m.clear(m.DEPTH_BUFFER_BIT|m.COLOR_BUFFER_BIT|m.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new x.ErrorEvent(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}}),x.postMapLoadEvent(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,()=>{})}_updateTerrain(){this.painter.updateTerrain(this.style,this.isMoving()||this.isRotating()||this.isZooming())}_calculateSpeedIndex(){const R=this.painter.canvasCopy(),m=this.painter.getCanvasCopiesAndTimestamps();m.timeStamps.push(performance.now());const T=this.painter.context.gl,N=T.createFramebuffer();function U(J){T.framebufferTexture2D(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0,T.TEXTURE_2D,J,0);const ce=new Uint8Array(T.drawingBufferWidth*T.drawingBufferHeight*4);return T.readPixels(0,0,T.drawingBufferWidth,T.drawingBufferHeight,T.RGBA,T.UNSIGNED_BYTE,ce),ce}return T.bindFramebuffer(T.FRAMEBUFFER,N),this._canvasPixelComparison(U(R),m.canvasCopies.map(U),m.timeStamps)}_canvasPixelComparison(R,m,T){let N=T[1]-T[0];const U=R.length/4;for(let J=0;J<m.length;J++){const ce=m[J];let ge=0;for(let xe=0;xe<ce.length;xe+=4)ce[xe]===R[xe]&&ce[xe+1]===R[xe+1]&&ce[xe+2]===R[xe+2]&&ce[xe+3]===R[xe+3]&&(ge+=1);N+=(T[J+2]-T[J+1])*(1-ge/U)}return N}remove(){this._hash&&this._hash.remove();for(const m of this._controls)m.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),void 0!==x.window&&(x.window.removeEventListener("resize",this._onWindowResize,!1),x.window.removeEventListener("orientationchange",this._onWindowResize,!1),x.window.removeEventListener("webkitfullscreenchange",this._onWindowResize,!1),x.window.removeEventListener("online",this._onWindowOnline,!1));const R=this.painter.context.gl.getExtension("WEBGL_lose_context");R&&R.loseContext(),tl(this._canvasContainer),tl(this._controlContainer),tl(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),x.removeAuthState(this.painter.context.gl),this._removed=!0,this.fire(new x.Event("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(R){this._renderNextFrame=this._renderNextFrame||R,this.style&&!this._frame&&(this._frame=x.exported.frame(m=>{const T=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,T&&this._render(m)}))}_onWindowOnline(){this._update()}_onWindowResize(R){this._trackResize&&this.resize({originalEvent:R})._update()}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(R){this._showTileBoundaries!==R&&(this._showTileBoundaries=R,this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(R){this._showTerrainWireframe!==R&&(this._showTerrainWireframe=R,this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(R){this._speedIndexTiming!==R&&(this._speedIndexTiming=R,this._update())}get showPadding(){return!!this._showPadding}set showPadding(R){this._showPadding!==R&&(this._showPadding=R,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(R){this._showCollisionBoxes!==R&&(this._showCollisionBoxes=R,R?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(R){this._showOverdrawInspector!==R&&(this._showOverdrawInspector=R,this._update())}get repaint(){return!!this._repaint}set repaint(R){this._repaint!==R&&(this._repaint=R,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(R){this._vertices=R,this._update()}_setCacheLimits(R,m){x.setCacheLimits(R,m)}get version(){return x.version}},NavigationControl:class{constructor(R){this.options=x.extend({},as,R),this._container=Be.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",m=>m.preventDefault()),this.options.showZoom&&(x.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",m=>this._map.zoomIn({},{originalEvent:m})),Be.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",m=>this._map.zoomOut({},{originalEvent:m})),Be.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(x.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",m=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:m}):this._map.resetNorth({},{originalEvent:m})}),this._compassIcon=Be.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))}_updateZoomButtons(){const R=this._map.getZoom(),m=R===this._map.getMaxZoom(),T=R===this._map.getMinZoom();this._zoomInButton.disabled=m,this._zoomOutButton.disabled=T,this._zoomInButton.setAttribute("aria-disabled",m.toString()),this._zoomOutButton.setAttribute("aria-disabled",T.toString())}_rotateCompassArrow(){const R=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._map._requestDomTask(()=>{this._compassIcon&&(this._compassIcon.style.transform=R)})}onAdd(R){return this._map=R,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Fp(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){Be.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(R,m){const T=Be.create("button",R,this._container);return T.type="button",T.addEventListener("click",m),T}_setButtonTitle(R,m){const T=this._map._getUIString(`NavigationControl.${m}`);R.title=T,R.setAttribute("aria-label",T)}},GeolocateControl:class extends x.Evented{constructor(R){super(),this.options=x.extend({},Io,R),x.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation"],this),this._onDeviceOrientationListener=this._onDeviceOrientation.bind(this),this._updateMarkerRotationThrottled=Js(this._updateMarkerRotation,20)}onAdd(R){var m;return this._map=R,this._container=Be.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),m=this._setupUI,void 0!==li?m(li):void 0!==x.window.navigator.permissions?x.window.navigator.permissions.query({name:"geolocation"}).then(T=>{li="denied"!==T.state,m(li)}):(li=!!x.window.navigator.geolocation,m(li)),this._container}onRemove(){void 0!==this._geolocationWatchID&&(x.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),Be.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Jo=0,ad=!1}_isOutOfMapMaxBounds(R){const m=this._map.getMaxBounds(),T=R.coords;return m&&(T.longitude<m.getWest()||T.longitude>m.getEast()||T.latitude<m.getSouth()||T.latitude>m.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(R){if(this._map){if(this._isOutOfMapMaxBounds(R))return this._setErrorState(),this.fire(new x.Event("outofmaxbounds",R)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=R,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(R),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(R),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new x.Event("geolocate",R)),this._finish()}}_updateCamera(R){const m=new x.LngLat(R.coords.longitude,R.coords.latitude),T=R.coords.accuracy,N=this._map.getBearing(),U=x.extend({bearing:N},this.options.fitBoundsOptions);this._map.fitBounds(m.toBounds(T),U,{geolocateSource:!0})}_updateMarker(R){if(R){const m=new x.LngLat(R.coords.longitude,R.coords.latitude);this._accuracyCircleMarker.setLngLat(m).addTo(this._map),this._userLocationDotMarker.setLngLat(m).addTo(this._map),this._accuracy=R.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const R=this._map._container.clientHeight/2,m=this._map.unproject([0,R]),T=this._map.unproject([100,R]),N=m.distanceTo(T)/100,U=Math.ceil(2*this._accuracy/N);this._circleElement.style.width=`${U}px`,this._circleElement.style.height=`${U}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_updateMarkerRotation(){this._userLocationDotMarker&&"number"==typeof this._heading?(this._userLocationDotMarker.setRotation(this._heading),this._dotElement.classList.add("mapboxgl-user-location-show-heading")):(this._dotElement.classList.remove("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}_onError(R){if(this._map){if(this.options.trackUserLocation)if(1===R.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const m=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=m,this._geolocateButton.setAttribute("aria-label",m),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===R.code&&ad)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new x.Event("error",R)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(R){if(this._container.addEventListener("contextmenu",m=>m.preventDefault()),this._geolocateButton=Be.create("button","mapboxgl-ctrl-geolocate",this._container),Be.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",!1===R){x.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const m=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=m,this._geolocateButton.setAttribute("aria-label",m)}else{const m=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=m,this._geolocateButton.setAttribute("aria-label",m)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=Be.create("div","mapboxgl-user-location"),this._dotElement.appendChild(Be.create("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(Be.create("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new uu({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=Be.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new uu({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",m=>{m.geolocateSource||"ACTIVE_LOCK"!==this._watchState||m.originalEvent&&"resize"===m.originalEvent.type||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new x.Event("trackuserlocationend")))})}_onDeviceOrientation(R){this._userLocationDotMarker&&(R.webkitCompassHeading?this._heading=R.webkitCompassHeading:!0===R.absolute&&(this._heading=-1*R.alpha),this._updateMarkerRotationThrottled())}trigger(){if(!this._setup)return x.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new x.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Jo--,ad=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new x.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new x.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){let R;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Jo++,Jo>1?(R={maximumAge:6e5,timeout:0},ad=!0):(R=this.options.positionOptions,ad=!1),this._geolocationWatchID=x.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,R),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else x.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_addDeviceOrientationListener(){const R=()=>{x.window.addEventListener("ondeviceorientationabsolute"in x.window?"deviceorientationabsolute":"deviceorientation",this._onDeviceOrientationListener)};void 0!==x.window.DeviceMotionEvent&&"function"==typeof x.window.DeviceMotionEvent.requestPermission?DeviceOrientationEvent.requestPermission().then(m=>{"granted"===m&&R()}).catch(console.error):R()}_clearWatch(){x.window.navigator.geolocation.clearWatch(this._geolocationWatchID),x.window.removeEventListener("deviceorientation",this._onDeviceOrientationListener),x.window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientationListener),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:el,ScaleControl:class{constructor(R){this.options=x.extend({},Ua,R),x.bindAll(["_onMove","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_onMove(){Ff(this._map,this._container,this.options)}onAdd(R){return this._map=R,this._container=Be.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",R.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){Be.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}setUnit(R){this.options.unit=R,Ff(this._map,this._container,this.options)}},FullscreenControl:class{constructor(R){this._fullscreen=!1,R&&R.container&&(R.container instanceof x.window.HTMLElement?this._container=R.container:x.warnOnce("Full screen control 'container' must be a DOM element.")),x.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in x.window.document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in x.window.document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(R){return this._map=R,this._container||(this._container=this._map.getContainer()),this._controlContainer=Be.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",x.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){Be.remove(this._controlContainer),this._map=null,x.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!x.window.document.fullscreenEnabled&&!x.window.document.webkitFullscreenEnabled)}_setupUI(){const R=this._fullscreenButton=Be.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);Be.create("span","mapboxgl-ctrl-icon",R).setAttribute("aria-hidden",!0),R.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),x.window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const R=this._getTitle();this._fullscreenButton.setAttribute("aria-label",R),this._fullscreenButton.title=R}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(x.window.document.fullscreenElement||x.window.document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?x.window.document.exitFullscreen?x.window.document.exitFullscreen():x.window.document.webkitCancelFullScreen&&x.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends x.Evented{constructor(R){super(),this.options=x.extend(Object.create(Nf),R),x.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}addTo(R){return this._map&&this.remove(),this._map=R,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new x.Event("open")),this}isOpen(){return!!this._map}remove(){return this._content&&Be.remove(this._content),this._container&&(Be.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new x.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(R){return this._lngLat=x.LngLat.convert(R),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(R){return this.setDOMContent(x.window.document.createTextNode(R))}setHTML(R){const m=x.window.document.createDocumentFragment(),T=x.window.document.createElement("body");let N;for(T.innerHTML=R;N=T.firstChild,N;)m.appendChild(N);return this.setDOMContent(m)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(R){return this.options.maxWidth=R,this._update(),this}setDOMContent(R){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=Be.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(R),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(R){this._container&&this._container.classList.add(R)}removeClassName(R){this._container&&this._container.classList.remove(R)}setOffset(R){return this.options.offset=R,this._update(),this}toggleClassName(R){if(this._container)return this._container.classList.toggle(R)}_createCloseButton(){this.options.closeButton&&(this._closeButton=Be.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_onMouseUp(R){this._update(R.point)}_onMouseMove(R){this._update(R.point)}_onDrag(R){this._update(R.point)}_update(R){if(!this._map||!this._lngLat&&!this._trackPointer||!this._content||(this._container||(this._container=Be.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=Be.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(J=>this._container.classList.add(J)),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=cu(this._lngLat,this._pos,this._map.transform)),this._trackPointer&&!R))return;const m=this._pos=this._trackPointer&&R?R:this._map.project(this._lngLat);let T=this.options.anchor;const N=Jh(this.options.offset);if(!T){const J=this._container.offsetWidth,ce=this._container.offsetHeight;let ge;ge=m.y+N.bottom.y<ce?["top"]:m.y>this._map.transform.height-ce?["bottom"]:[],m.x<J/2?ge.push("left"):m.x>this._map.transform.width-J/2&&ge.push("right"),T=0===ge.length?"bottom":ge.join("-")}const U=m.add(N[T]).round();this._map._requestDomTask(()=>{this._container&&T&&(Be.setTransform(this._container,`${gh[T]} translate(${U.x}px,${U.y}px)`),od(this._container,T,"popup"))})}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const R=this._container.querySelector(nl);R&&R.focus()}_onClose(){this.remove()}_setOpacity(R){this._content&&(this._content.style.opacity=R),this._tip&&(this._tip.style.opacity=R)}},Marker:uu,Style:la,LngLat:x.LngLat,LngLatBounds:x.LngLatBounds,Point:x.pointGeometry,MercatorCoordinate:x.MercatorCoordinate,FreeCameraOptions:Ei,Evented:x.Evented,config:x.config,prewarm:function(){Re().acquire(jt)},clearPrewarmedResources:function(){const R=En;R&&(R.isPreloaded()&&1===R.numActive()?(R.release(jt),En=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return x.config.ACCESS_TOKEN},set accessToken(R){x.config.ACCESS_TOKEN=R},get baseApiUrl(){return x.config.API_URL},set baseApiUrl(R){x.config.API_URL=R},get workerCount(){return en.workerCount},set workerCount(R){en.workerCount=R},get maxParallelImageRequests(){return x.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(R){x.config.MAX_PARALLEL_IMAGE_REQUESTS=R},clearStorage(R){x.clearTileCache(R)},workerUrl:"",workerClass:null,setNow:x.exported.setNow,restoreNow:x.exported.restoreNow};return Np}),o}()},6431:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(ee){return/^nm$/i.test(ee)},meridiem:function(ee,x,de){return ee<12?de?"vm":"VM":de?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[M\xf4re om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(ee){return ee+(1===ee||8===ee||ee>=20?"ste":"de")},week:{dow:1,doy:4}})}(Ae(6738))},1616:function(Ut,kt,Ae){!function(o){"use strict";var $=function(Ee){return 0===Ee?0:1===Ee?1:2===Ee?2:Ee%100>=3&&Ee%100<=10?3:Ee%100>=11?4:5},ee={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},x=function(Ee){return function(Me,Be,Ge,Mt){var ft=$(Me),Lt=ee[Ee][$(Me)];return 2===ft&&(Lt=Lt[Be?0:1]),Lt.replace(/%d/i,Me)}},de=["\u062c\u0627\u0646\u0641\u064a","\u0641\u064a\u0641\u0631\u064a","\u0645\u0627\u0631\u0633","\u0623\u0641\u0631\u064a\u0644","\u0645\u0627\u064a","\u062c\u0648\u0627\u0646","\u062c\u0648\u064a\u0644\u064a\u0629","\u0623\u0648\u062a","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"];o.defineLocale("ar-dz",{months:de,monthsShort:de,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(Ee){return"\u0645"===Ee},meridiem:function(Ee,Me,Be){return Ee<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:x("s"),ss:x("s"),m:x("m"),mm:x("m"),h:x("h"),hh:x("h"),d:x("d"),dd:x("d"),M:x("M"),MM:x("M"),y:x("y"),yy:x("y")},postformat:function(Ee){return Ee.replace(/,/g,"\u060c")},week:{dow:0,doy:4}})}(Ae(6738))},9759:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("ar-kw",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062a\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0627\u062d\u062f_\u0627\u062a\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:0,doy:12}})}(Ae(6738))},3160:function(Ut,kt,Ae){!function(o){"use strict";var $={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},ee=function(Me){return 0===Me?0:1===Me?1:2===Me?2:Me%100>=3&&Me%100<=10?3:Me%100>=11?4:5},x={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},de=function(Me){return function(Be,Ge,Mt,ft){var Lt=ee(Be),rn=x[Me][ee(Be)];return 2===Lt&&(rn=rn[Ge?0:1]),rn.replace(/%d/i,Be)}},Ce=["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"];o.defineLocale("ar-ly",{months:Ce,monthsShort:Ce,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(Me){return"\u0645"===Me},meridiem:function(Me,Be,Ge){return Me<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:de("s"),ss:de("s"),m:de("m"),mm:de("m"),h:de("h"),hh:de("h"),d:de("d"),dd:de("d"),M:de("M"),MM:de("M"),y:de("y"),yy:de("y")},preparse:function(Me){return Me.replace(/\u060c/g,",")},postformat:function(Me){return Me.replace(/\d/g,function(Be){return $[Be]}).replace(/,/g,"\u060c")},week:{dow:6,doy:12}})}(Ae(6738))},2551:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("ar-ma",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0627\u062d\u062f_\u0627\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:1,doy:4}})}(Ae(6738))},9989:function(Ut,kt,Ae){!function(o){"use strict";var $={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},ee={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"};o.defineLocale("ar-sa",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a\u0648_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648_\u0623\u063a\u0633\u0637\u0633_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a\u0648_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648_\u0623\u063a\u0633\u0637\u0633_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(de){return"\u0645"===de},meridiem:function(de,Ce,Ee){return de<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},preparse:function(de){return de.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(Ce){return ee[Ce]}).replace(/\u060c/g,",")},postformat:function(de){return de.replace(/\d/g,function(Ce){return $[Ce]}).replace(/,/g,"\u060c")},week:{dow:0,doy:6}})}(Ae(6738))},6962:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("ar-tn",{months:"\u062c\u0627\u0646\u0641\u064a_\u0641\u064a\u0641\u0631\u064a_\u0645\u0627\u0631\u0633_\u0623\u0641\u0631\u064a\u0644_\u0645\u0627\u064a_\u062c\u0648\u0627\u0646_\u062c\u0648\u064a\u0644\u064a\u0629_\u0623\u0648\u062a_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),monthsShort:"\u062c\u0627\u0646\u0641\u064a_\u0641\u064a\u0641\u0631\u064a_\u0645\u0627\u0631\u0633_\u0623\u0641\u0631\u064a\u0644_\u0645\u0627\u064a_\u062c\u0648\u0627\u0646_\u062c\u0648\u064a\u0644\u064a\u0629_\u0623\u0648\u062a_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:1,doy:4}})}(Ae(6738))},1286:function(Ut,kt,Ae){!function(o){"use strict";var $={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},ee={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"},x=function(Be){return 0===Be?0:1===Be?1:2===Be?2:Be%100>=3&&Be%100<=10?3:Be%100>=11?4:5},de={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},Ce=function(Be){return function(Ge,Mt,ft,Lt){var rn=x(Ge),Gt=de[Be][x(Ge)];return 2===rn&&(Gt=Gt[Mt?0:1]),Gt.replace(/%d/i,Ge)}},Ee=["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"];o.defineLocale("ar",{months:Ee,monthsShort:Ee,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(Be){return"\u0645"===Be},meridiem:function(Be,Ge,Mt){return Be<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:Ce("s"),ss:Ce("s"),m:Ce("m"),mm:Ce("m"),h:Ce("h"),hh:Ce("h"),d:Ce("d"),dd:Ce("d"),M:Ce("M"),MM:Ce("M"),y:Ce("y"),yy:Ce("y")},preparse:function(Be){return Be.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(Ge){return ee[Ge]}).replace(/\u060c/g,",")},postformat:function(Be){return Be.replace(/\d/g,function(Ge){return $[Ge]}).replace(/,/g,"\u060c")},week:{dow:6,doy:12}})}(Ae(6738))},5887:function(Ut,kt,Ae){!function(o){"use strict";var $={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-\xfcnc\xfc",4:"-\xfcnc\xfc",100:"-\xfcnc\xfc",6:"-nc\u0131",9:"-uncu",10:"-uncu",30:"-uncu",60:"-\u0131nc\u0131",90:"-\u0131nc\u0131"};o.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ert\u0259si_\xc7\u0259r\u015f\u0259nb\u0259 ax\u015fam\u0131_\xc7\u0259r\u015f\u0259nb\u0259_C\xfcm\u0259 ax\u015fam\u0131_C\xfcm\u0259_\u015e\u0259nb\u0259".split("_"),weekdaysShort:"Baz_BzE_\xc7Ax_\xc7\u0259r_CAx_C\xfcm_\u015e\u0259n".split("_"),weekdaysMin:"Bz_BE_\xc7A_\xc7\u0259_CA_C\xfc_\u015e\u0259".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[g\u0259l\u0259n h\u0259ft\u0259] dddd [saat] LT",lastDay:"[d\xfcn\u0259n] LT",lastWeek:"[ke\xe7\u0259n h\u0259ft\u0259] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s \u0259vv\u0259l",s:"bir ne\xe7\u0259 saniy\u0259",ss:"%d saniy\u0259",m:"bir d\u0259qiq\u0259",mm:"%d d\u0259qiq\u0259",h:"bir saat",hh:"%d saat",d:"bir g\xfcn",dd:"%d g\xfcn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec\u0259|s\u0259h\u0259r|g\xfcnd\xfcz|ax\u015fam/,isPM:function(x){return/^(g\xfcnd\xfcz|ax\u015fam)$/.test(x)},meridiem:function(x,de,Ce){return x<4?"gec\u0259":x<12?"s\u0259h\u0259r":x<17?"g\xfcnd\xfcz":"ax\u015fam"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0131nc\u0131|inci|nci|\xfcnc\xfc|nc\u0131|uncu)/,ordinal:function(x){if(0===x)return x+"-\u0131nc\u0131";var de=x%10;return x+($[de]||$[x%100-de]||$[x>=100?100:null])},week:{dow:1,doy:7}})}(Ae(6738))},4572:function(Ut,kt,Ae){!function(o){"use strict";function ee(de,Ce,Ee){return"m"===Ee?Ce?"\u0445\u0432\u0456\u043b\u0456\u043d\u0430":"\u0445\u0432\u0456\u043b\u0456\u043d\u0443":"h"===Ee?Ce?"\u0433\u0430\u0434\u0437\u0456\u043d\u0430":"\u0433\u0430\u0434\u0437\u0456\u043d\u0443":de+" "+function(de,Ce){var Ee=de.split("_");return Ce%10==1&&Ce%100!=11?Ee[0]:Ce%10>=2&&Ce%10<=4&&(Ce%100<10||Ce%100>=20)?Ee[1]:Ee[2]}({ss:Ce?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434",mm:Ce?"\u0445\u0432\u0456\u043b\u0456\u043d\u0430_\u0445\u0432\u0456\u043b\u0456\u043d\u044b_\u0445\u0432\u0456\u043b\u0456\u043d":"\u0445\u0432\u0456\u043b\u0456\u043d\u0443_\u0445\u0432\u0456\u043b\u0456\u043d\u044b_\u0445\u0432\u0456\u043b\u0456\u043d",hh:Ce?"\u0433\u0430\u0434\u0437\u0456\u043d\u0430_\u0433\u0430\u0434\u0437\u0456\u043d\u044b_\u0433\u0430\u0434\u0437\u0456\u043d":"\u0433\u0430\u0434\u0437\u0456\u043d\u0443_\u0433\u0430\u0434\u0437\u0456\u043d\u044b_\u0433\u0430\u0434\u0437\u0456\u043d",dd:"\u0434\u0437\u0435\u043d\u044c_\u0434\u043d\u0456_\u0434\u0437\u0451\u043d",MM:"\u043c\u0435\u0441\u044f\u0446_\u043c\u0435\u0441\u044f\u0446\u044b_\u043c\u0435\u0441\u044f\u0446\u0430\u045e",yy:"\u0433\u043e\u0434_\u0433\u0430\u0434\u044b_\u0433\u0430\u0434\u043e\u045e"}[Ee],+de)}o.defineLocale("be",{months:{format:"\u0441\u0442\u0443\u0434\u0437\u0435\u043d\u044f_\u043b\u044e\u0442\u0430\u0433\u0430_\u0441\u0430\u043a\u0430\u0432\u0456\u043a\u0430_\u043a\u0440\u0430\u0441\u0430\u0432\u0456\u043a\u0430_\u0442\u0440\u0430\u045e\u043d\u044f_\u0447\u044d\u0440\u0432\u0435\u043d\u044f_\u043b\u0456\u043f\u0435\u043d\u044f_\u0436\u043d\u0456\u045e\u043d\u044f_\u0432\u0435\u0440\u0430\u0441\u043d\u044f_\u043a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a\u0430_\u043b\u0456\u0441\u0442\u0430\u043f\u0430\u0434\u0430_\u0441\u043d\u0435\u0436\u043d\u044f".split("_"),standalone:"\u0441\u0442\u0443\u0434\u0437\u0435\u043d\u044c_\u043b\u044e\u0442\u044b_\u0441\u0430\u043a\u0430\u0432\u0456\u043a_\u043a\u0440\u0430\u0441\u0430\u0432\u0456\u043a_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u044d\u0440\u0432\u0435\u043d\u044c_\u043b\u0456\u043f\u0435\u043d\u044c_\u0436\u043d\u0456\u0432\u0435\u043d\u044c_\u0432\u0435\u0440\u0430\u0441\u0435\u043d\u044c_\u043a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a_\u043b\u0456\u0441\u0442\u0430\u043f\u0430\u0434_\u0441\u043d\u0435\u0436\u0430\u043d\u044c".split("_")},monthsShort:"\u0441\u0442\u0443\u0434_\u043b\u044e\u0442_\u0441\u0430\u043a_\u043a\u0440\u0430\u0441_\u0442\u0440\u0430\u0432_\u0447\u044d\u0440\u0432_\u043b\u0456\u043f_\u0436\u043d\u0456\u0432_\u0432\u0435\u0440_\u043a\u0430\u0441\u0442_\u043b\u0456\u0441\u0442_\u0441\u043d\u0435\u0436".split("_"),weekdays:{format:"\u043d\u044f\u0434\u0437\u0435\u043b\u044e_\u043f\u0430\u043d\u044f\u0434\u0437\u0435\u043b\u0430\u043a_\u0430\u045e\u0442\u043e\u0440\u0430\u043a_\u0441\u0435\u0440\u0430\u0434\u0443_\u0447\u0430\u0446\u0432\u0435\u0440_\u043f\u044f\u0442\u043d\u0456\u0446\u0443_\u0441\u0443\u0431\u043e\u0442\u0443".split("_"),standalone:"\u043d\u044f\u0434\u0437\u0435\u043b\u044f_\u043f\u0430\u043d\u044f\u0434\u0437\u0435\u043b\u0430\u043a_\u0430\u045e\u0442\u043e\u0440\u0430\u043a_\u0441\u0435\u0440\u0430\u0434\u0430_\u0447\u0430\u0446\u0432\u0435\u0440_\u043f\u044f\u0442\u043d\u0456\u0446\u0430_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),isFormat:/\[ ?[\u0423\u0443\u045e] ?(?:\u043c\u0456\u043d\u0443\u043b\u0443\u044e|\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0443\u044e)? ?\] ?dddd/},weekdaysShort:"\u043d\u0434_\u043f\u043d_\u0430\u0442_\u0441\u0440_\u0447\u0446_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0430\u0442_\u0441\u0440_\u0447\u0446_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., HH:mm",LLLL:"dddd, D MMMM YYYY \u0433., HH:mm"},calendar:{sameDay:"[\u0421\u0451\u043d\u043d\u044f \u045e] LT",nextDay:"[\u0417\u0430\u045e\u0442\u0440\u0430 \u045e] LT",lastDay:"[\u0423\u0447\u043e\u0440\u0430 \u045e] LT",nextWeek:function(){return"[\u0423] dddd [\u045e] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[\u0423 \u043c\u0456\u043d\u0443\u043b\u0443\u044e] dddd [\u045e] LT";case 1:case 2:case 4:return"[\u0423 \u043c\u0456\u043d\u0443\u043b\u044b] dddd [\u045e] LT"}},sameElse:"L"},relativeTime:{future:"\u043f\u0440\u0430\u0437 %s",past:"%s \u0442\u0430\u043c\u0443",s:"\u043d\u0435\u043a\u0430\u043b\u044c\u043a\u0456 \u0441\u0435\u043a\u0443\u043d\u0434",m:ee,mm:ee,h:ee,hh:ee,d:"\u0434\u0437\u0435\u043d\u044c",dd:ee,M:"\u043c\u0435\u0441\u044f\u0446",MM:ee,y:"\u0433\u043e\u0434",yy:ee},meridiemParse:/\u043d\u043e\u0447\u044b|\u0440\u0430\u043d\u0456\u0446\u044b|\u0434\u043d\u044f|\u0432\u0435\u0447\u0430\u0440\u0430/,isPM:function(de){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u0430\u0440\u0430)$/.test(de)},meridiem:function(de,Ce,Ee){return de<4?"\u043d\u043e\u0447\u044b":de<12?"\u0440\u0430\u043d\u0456\u0446\u044b":de<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u0430\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0456|\u044b|\u0433\u0430)/,ordinal:function(de,Ce){switch(Ce){case"M":case"d":case"DDD":case"w":case"W":return de%10!=2&&de%10!=3||de%100==12||de%100==13?de+"-\u044b":de+"-\u0456";case"D":return de+"-\u0433\u0430";default:return de}},week:{dow:1,doy:7}})}(Ae(6738))},3276:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("bg",{months:"\u044f\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),monthsShort:"\u044f\u043d\u0443_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),weekdays:"\u043d\u0435\u0434\u0435\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u044f\u0434\u0430_\u0447\u0435\u0442\u0432\u044a\u0440\u0442\u044a\u043a_\u043f\u0435\u0442\u044a\u043a_\u0441\u044a\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u044f_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u044a\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[\u0414\u043d\u0435\u0441 \u0432] LT",nextDay:"[\u0423\u0442\u0440\u0435 \u0432] LT",nextWeek:"dddd [\u0432] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430 \u0432] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[\u041c\u0438\u043d\u0430\u043b\u0430\u0442\u0430] dddd [\u0432] LT";case 1:case 2:case 4:case 5:return"[\u041c\u0438\u043d\u0430\u043b\u0438\u044f] dddd [\u0432] LT"}},sameElse:"L"},relativeTime:{future:"\u0441\u043b\u0435\u0434 %s",past:"\u043f\u0440\u0435\u0434\u0438 %s",s:"\u043d\u044f\u043a\u043e\u043b\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434\u0438",m:"\u043c\u0438\u043d\u0443\u0442\u0430",mm:"%d \u043c\u0438\u043d\u0443\u0442\u0438",h:"\u0447\u0430\u0441",hh:"%d \u0447\u0430\u0441\u0430",d:"\u0434\u0435\u043d",dd:"%d \u0434\u0435\u043d\u0430",w:"\u0441\u0435\u0434\u043c\u0438\u0446\u0430",ww:"%d \u0441\u0435\u0434\u043c\u0438\u0446\u0438",M:"\u043c\u0435\u0441\u0435\u0446",MM:"%d \u043c\u0435\u0441\u0435\u0446\u0430",y:"\u0433\u043e\u0434\u0438\u043d\u0430",yy:"%d \u0433\u043e\u0434\u0438\u043d\u0438"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0435\u0432|\u0435\u043d|\u0442\u0438|\u0432\u0438|\u0440\u0438|\u043c\u0438)/,ordinal:function(ee){var x=ee%10,de=ee%100;return 0===ee?ee+"-\u0435\u0432":0===de?ee+"-\u0435\u043d":de>10&&de<20?ee+"-\u0442\u0438":1===x?ee+"-\u0432\u0438":2===x?ee+"-\u0440\u0438":7===x||8===x?ee+"-\u043c\u0438":ee+"-\u0442\u0438"},week:{dow:1,doy:7}})}(Ae(6738))},3344:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_M\u025bkalo_Zuw\u025bnkalo_Zuluyekalo_Utikalo_S\u025btanburukalo_\u0254kut\u0254burukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_M\u025b_Zuw_Zul_Uti_S\u025bt_\u0254ku_Now_Des".split("_"),weekdays:"Kari_Nt\u025bn\u025bn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Nt\u025b_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [l\u025br\u025b] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [l\u025br\u025b] HH:mm"},calendar:{sameDay:"[Bi l\u025br\u025b] LT",nextDay:"[Sini l\u025br\u025b] LT",nextWeek:"dddd [don l\u025br\u025b] LT",lastDay:"[Kunu l\u025br\u025b] LT",lastWeek:"dddd [t\u025bm\u025bnen l\u025br\u025b] LT",sameElse:"L"},relativeTime:{future:"%s k\u0254n\u0254",past:"a b\u025b %s b\u0254",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"l\u025br\u025b kelen",hh:"l\u025br\u025b %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}})}(Ae(6738))},3990:function(Ut,kt,Ae){!function(o){"use strict";var $={1:"\u09e7",2:"\u09e8",3:"\u09e9",4:"\u09ea",5:"\u09eb",6:"\u09ec",7:"\u09ed",8:"\u09ee",9:"\u09ef",0:"\u09e6"},ee={"\u09e7":"1","\u09e8":"2","\u09e9":"3","\u09ea":"4","\u09eb":"5","\u09ec":"6","\u09ed":"7","\u09ee":"8","\u09ef":"9","\u09e6":"0"};o.defineLocale("bn-bd",{months:"\u099c\u09be\u09a8\u09c1\u09df\u09be\u09b0\u09bf_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1\u09df\u09be\u09b0\u09bf_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f\u09c7\u09ae\u09cd\u09ac\u09b0_\u0985\u0995\u09cd\u099f\u09cb\u09ac\u09b0_\u09a8\u09ad\u09c7\u09ae\u09cd\u09ac\u09b0_\u09a1\u09bf\u09b8\u09c7\u09ae\u09cd\u09ac\u09b0".split("_"),monthsShort:"\u099c\u09be\u09a8\u09c1_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f_\u0985\u0995\u09cd\u099f\u09cb_\u09a8\u09ad\u09c7_\u09a1\u09bf\u09b8\u09c7".split("_"),weekdays:"\u09b0\u09ac\u09bf\u09ac\u09be\u09b0_\u09b8\u09cb\u09ae\u09ac\u09be\u09b0_\u09ae\u0999\u09cd\u0997\u09b2\u09ac\u09be\u09b0_\u09ac\u09c1\u09a7\u09ac\u09be\u09b0_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf\u09ac\u09be\u09b0_\u09b6\u09c1\u0995\u09cd\u09b0\u09ac\u09be\u09b0_\u09b6\u09a8\u09bf\u09ac\u09be\u09b0".split("_"),weekdaysShort:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),weekdaysMin:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),longDateFormat:{LT:"A h:mm \u09b8\u09ae\u09df",LTS:"A h:mm:ss \u09b8\u09ae\u09df",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u09b8\u09ae\u09df",LLLL:"dddd, D MMMM YYYY, A h:mm \u09b8\u09ae\u09df"},calendar:{sameDay:"[\u0986\u099c] LT",nextDay:"[\u0986\u0997\u09be\u09ae\u09c0\u0995\u09be\u09b2] LT",nextWeek:"dddd, LT",lastDay:"[\u0997\u09a4\u0995\u09be\u09b2] LT",lastWeek:"[\u0997\u09a4] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u09aa\u09b0\u09c7",past:"%s \u0986\u0997\u09c7",s:"\u0995\u09df\u09c7\u0995 \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",ss:"%d \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",m:"\u098f\u0995 \u09ae\u09bf\u09a8\u09bf\u099f",mm:"%d \u09ae\u09bf\u09a8\u09bf\u099f",h:"\u098f\u0995 \u0998\u09a8\u09cd\u099f\u09be",hh:"%d \u0998\u09a8\u09cd\u099f\u09be",d:"\u098f\u0995 \u09a6\u09bf\u09a8",dd:"%d \u09a6\u09bf\u09a8",M:"\u098f\u0995 \u09ae\u09be\u09b8",MM:"%d \u09ae\u09be\u09b8",y:"\u098f\u0995 \u09ac\u099b\u09b0",yy:"%d \u09ac\u099b\u09b0"},preparse:function(de){return de.replace(/[\u09e7\u09e8\u09e9\u09ea\u09eb\u09ec\u09ed\u09ee\u09ef\u09e6]/g,function(Ce){return ee[Ce]})},postformat:function(de){return de.replace(/\d/g,function(Ce){return $[Ce]})},meridiemParse:/\u09b0\u09be\u09a4|\u09ad\u09cb\u09b0|\u09b8\u0995\u09be\u09b2|\u09a6\u09c1\u09aa\u09c1\u09b0|\u09ac\u09bf\u0995\u09be\u09b2|\u09b8\u09a8\u09cd\u09a7\u09cd\u09af\u09be|\u09b0\u09be\u09a4/,meridiemHour:function(de,Ce){return 12===de&&(de=0),"\u09b0\u09be\u09a4"===Ce?de<4?de:de+12:"\u09ad\u09cb\u09b0"===Ce||"\u09b8\u0995\u09be\u09b2"===Ce?de:"\u09a6\u09c1\u09aa\u09c1\u09b0"===Ce?de>=3?de:de+12:"\u09ac\u09bf\u0995\u09be\u09b2"===Ce||"\u09b8\u09a8\u09cd\u09a7\u09cd\u09af\u09be"===Ce?de+12:void 0},meridiem:function(de,Ce,Ee){return de<4?"\u09b0\u09be\u09a4":de<6?"\u09ad\u09cb\u09b0":de<12?"\u09b8\u0995\u09be\u09b2":de<15?"\u09a6\u09c1\u09aa\u09c1\u09b0":de<18?"\u09ac\u09bf\u0995\u09be\u09b2":de<20?"\u09b8\u09a8\u09cd\u09a7\u09cd\u09af\u09be":"\u09b0\u09be\u09a4"},week:{dow:0,doy:6}})}(Ae(6738))},8985:function(Ut,kt,Ae){!function(o){"use strict";var $={1:"\u09e7",2:"\u09e8",3:"\u09e9",4:"\u09ea",5:"\u09eb",6:"\u09ec",7:"\u09ed",8:"\u09ee",9:"\u09ef",0:"\u09e6"},ee={"\u09e7":"1","\u09e8":"2","\u09e9":"3","\u09ea":"4","\u09eb":"5","\u09ec":"6","\u09ed":"7","\u09ee":"8","\u09ef":"9","\u09e6":"0"};o.defineLocale("bn",{months:"\u099c\u09be\u09a8\u09c1\u09df\u09be\u09b0\u09bf_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1\u09df\u09be\u09b0\u09bf_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f\u09c7\u09ae\u09cd\u09ac\u09b0_\u0985\u0995\u09cd\u099f\u09cb\u09ac\u09b0_\u09a8\u09ad\u09c7\u09ae\u09cd\u09ac\u09b0_\u09a1\u09bf\u09b8\u09c7\u09ae\u09cd\u09ac\u09b0".split("_"),monthsShort:"\u099c\u09be\u09a8\u09c1_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f_\u0985\u0995\u09cd\u099f\u09cb_\u09a8\u09ad\u09c7_\u09a1\u09bf\u09b8\u09c7".split("_"),weekdays:"\u09b0\u09ac\u09bf\u09ac\u09be\u09b0_\u09b8\u09cb\u09ae\u09ac\u09be\u09b0_\u09ae\u0999\u09cd\u0997\u09b2\u09ac\u09be\u09b0_\u09ac\u09c1\u09a7\u09ac\u09be\u09b0_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf\u09ac\u09be\u09b0_\u09b6\u09c1\u0995\u09cd\u09b0\u09ac\u09be\u09b0_\u09b6\u09a8\u09bf\u09ac\u09be\u09b0".split("_"),weekdaysShort:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),weekdaysMin:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),longDateFormat:{LT:"A h:mm \u09b8\u09ae\u09df",LTS:"A h:mm:ss \u09b8\u09ae\u09df",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u09b8\u09ae\u09df",LLLL:"dddd, D MMMM YYYY, A h:mm \u09b8\u09ae\u09df"},calendar:{sameDay:"[\u0986\u099c] LT",nextDay:"[\u0986\u0997\u09be\u09ae\u09c0\u0995\u09be\u09b2] LT",nextWeek:"dddd, LT",lastDay:"[\u0997\u09a4\u0995\u09be\u09b2] LT",lastWeek:"[\u0997\u09a4] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u09aa\u09b0\u09c7",past:"%s \u0986\u0997\u09c7",s:"\u0995\u09df\u09c7\u0995 \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",ss:"%d \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",m:"\u098f\u0995 \u09ae\u09bf\u09a8\u09bf\u099f",mm:"%d \u09ae\u09bf\u09a8\u09bf\u099f",h:"\u098f\u0995 \u0998\u09a8\u09cd\u099f\u09be",hh:"%d \u0998\u09a8\u09cd\u099f\u09be",d:"\u098f\u0995 \u09a6\u09bf\u09a8",dd:"%d \u09a6\u09bf\u09a8",M:"\u098f\u0995 \u09ae\u09be\u09b8",MM:"%d \u09ae\u09be\u09b8",y:"\u098f\u0995 \u09ac\u099b\u09b0",yy:"%d \u09ac\u099b\u09b0"},preparse:function(de){return de.replace(/[\u09e7\u09e8\u09e9\u09ea\u09eb\u09ec\u09ed\u09ee\u09ef\u09e6]/g,function(Ce){return ee[Ce]})},postformat:function(de){return de.replace(/\d/g,function(Ce){return $[Ce]})},meridiemParse:/\u09b0\u09be\u09a4|\u09b8\u0995\u09be\u09b2|\u09a6\u09c1\u09aa\u09c1\u09b0|\u09ac\u09bf\u0995\u09be\u09b2|\u09b0\u09be\u09a4/,meridiemHour:function(de,Ce){return 12===de&&(de=0),"\u09b0\u09be\u09a4"===Ce&&de>=4||"\u09a6\u09c1\u09aa\u09c1\u09b0"===Ce&&de<5||"\u09ac\u09bf\u0995\u09be\u09b2"===Ce?de+12:de},meridiem:function(de,Ce,Ee){return de<4?"\u09b0\u09be\u09a4":de<10?"\u09b8\u0995\u09be\u09b2":de<17?"\u09a6\u09c1\u09aa\u09c1\u09b0":de<20?"\u09ac\u09bf\u0995\u09be\u09b2":"\u09b0\u09be\u09a4"},week:{dow:0,doy:6}})}(Ae(6738))},4391:function(Ut,kt,Ae){!function(o){"use strict";var $={1:"\u0f21",2:"\u0f22",3:"\u0f23",4:"\u0f24",5:"\u0f25",6:"\u0f26",7:"\u0f27",8:"\u0f28",9:"\u0f29",0:"\u0f20"},ee={"\u0f21":"1","\u0f22":"2","\u0f23":"3","\u0f24":"4","\u0f25":"5","\u0f26":"6","\u0f27":"7","\u0f28":"8","\u0f29":"9","\u0f20":"0"};o.defineLocale("bo",{months:"\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0f44\u0f0b\u0f54\u0f7c_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f49\u0f72\u0f66\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f66\u0f74\u0f58\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f5e\u0f72\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f63\u0f94\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0fb2\u0f74\u0f42\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f62\u0f92\u0fb1\u0f51\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0f42\u0f74\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f42\u0f45\u0f72\u0f42\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f42\u0f49\u0f72\u0f66\u0f0b\u0f54".split("_"),monthsShort:"\u0f5f\u0fb3\u0f0b1_\u0f5f\u0fb3\u0f0b2_\u0f5f\u0fb3\u0f0b3_\u0f5f\u0fb3\u0f0b4_\u0f5f\u0fb3\u0f0b5_\u0f5f\u0fb3\u0f0b6_\u0f5f\u0fb3\u0f0b7_\u0f5f\u0fb3\u0f0b8_\u0f5f\u0fb3\u0f0b9_\u0f5f\u0fb3\u0f0b10_\u0f5f\u0fb3\u0f0b11_\u0f5f\u0fb3\u0f0b12".split("_"),monthsShortRegex:/^(\u0f5f\u0fb3\u0f0b\d{1,2})/,monthsParseExact:!0,weekdays:"\u0f42\u0f5f\u0f60\u0f0b\u0f49\u0f72\u0f0b\u0f58\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f5f\u0fb3\u0f0b\u0f56\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f58\u0f72\u0f42\u0f0b\u0f51\u0f58\u0f62\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f63\u0fb7\u0f42\u0f0b\u0f54\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f55\u0f74\u0f62\u0f0b\u0f56\u0f74_\u0f42\u0f5f\u0f60\u0f0b\u0f54\u0f0b\u0f66\u0f44\u0f66\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f66\u0fa4\u0f7a\u0f53\u0f0b\u0f54\u0f0b".split("_"),weekdaysShort:"\u0f49\u0f72\u0f0b\u0f58\u0f0b_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b_\u0f58\u0f72\u0f42\u0f0b\u0f51\u0f58\u0f62\u0f0b_\u0f63\u0fb7\u0f42\u0f0b\u0f54\u0f0b_\u0f55\u0f74\u0f62\u0f0b\u0f56\u0f74_\u0f54\u0f0b\u0f66\u0f44\u0f66\u0f0b_\u0f66\u0fa4\u0f7a\u0f53\u0f0b\u0f54\u0f0b".split("_"),weekdaysMin:"\u0f49\u0f72_\u0f5f\u0fb3_\u0f58\u0f72\u0f42_\u0f63\u0fb7\u0f42_\u0f55\u0f74\u0f62_\u0f66\u0f44\u0f66_\u0f66\u0fa4\u0f7a\u0f53".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0f51\u0f72\u0f0b\u0f62\u0f72\u0f44] LT",nextDay:"[\u0f66\u0f44\u0f0b\u0f49\u0f72\u0f53] LT",nextWeek:"[\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f55\u0fb2\u0f42\u0f0b\u0f62\u0f97\u0f7a\u0f66\u0f0b\u0f58], LT",lastDay:"[\u0f41\u0f0b\u0f66\u0f44] LT",lastWeek:"[\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f55\u0fb2\u0f42\u0f0b\u0f58\u0f50\u0f60\u0f0b\u0f58] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0f63\u0f0b",past:"%s \u0f66\u0f94\u0f53\u0f0b\u0f63",s:"\u0f63\u0f58\u0f0b\u0f66\u0f44",ss:"%d \u0f66\u0f90\u0f62\u0f0b\u0f46\u0f0d",m:"\u0f66\u0f90\u0f62\u0f0b\u0f58\u0f0b\u0f42\u0f45\u0f72\u0f42",mm:"%d \u0f66\u0f90\u0f62\u0f0b\u0f58",h:"\u0f46\u0f74\u0f0b\u0f5a\u0f7c\u0f51\u0f0b\u0f42\u0f45\u0f72\u0f42",hh:"%d \u0f46\u0f74\u0f0b\u0f5a\u0f7c\u0f51",d:"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f45\u0f72\u0f42",dd:"%d \u0f49\u0f72\u0f53\u0f0b",M:"\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f45\u0f72\u0f42",MM:"%d \u0f5f\u0fb3\u0f0b\u0f56",y:"\u0f63\u0f7c\u0f0b\u0f42\u0f45\u0f72\u0f42",yy:"%d \u0f63\u0f7c"},preparse:function(de){return de.replace(/[\u0f21\u0f22\u0f23\u0f24\u0f25\u0f26\u0f27\u0f28\u0f29\u0f20]/g,function(Ce){return ee[Ce]})},postformat:function(de){return de.replace(/\d/g,function(Ce){return $[Ce]})},meridiemParse:/\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c|\u0f5e\u0f7c\u0f42\u0f66\u0f0b\u0f40\u0f66|\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44|\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42|\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c/,meridiemHour:function(de,Ce){return 12===de&&(de=0),"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c"===Ce&&de>=4||"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44"===Ce&&de<5||"\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42"===Ce?de+12:de},meridiem:function(de,Ce,Ee){return de<4?"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c":de<10?"\u0f5e\u0f7c\u0f42\u0f66\u0f0b\u0f40\u0f66":de<17?"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44":de<20?"\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42":"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c"},week:{dow:0,doy:6}})}(Ae(6738))},6728:function(Ut,kt,Ae){!function(o){"use strict";function $(Gt,ct,ii){return Gt+" "+function(Gt,ct){return 2===ct?function(Gt){var ct={m:"v",b:"v",d:"z"};return void 0===ct[Gt.charAt(0)]?Gt:ct[Gt.charAt(0)]+Gt.substring(1)}(Gt):Gt}({mm:"munutenn",MM:"miz",dd:"devezh"}[ii],Gt)}function x(Gt){return Gt>9?x(Gt%10):Gt}var Ee=[/^gen/i,/^c[\u02bc\']hwe/i,/^meu/i,/^ebr/i,/^mae/i,/^(mez|eve)/i,/^gou/i,/^eos/i,/^gwe/i,/^her/i,/^du/i,/^ker/i],Me=/^(genver|c[\u02bc\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu|gen|c[\u02bc\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,Lt=[/^Su/i,/^Lu/i,/^Me([^r]|$)/i,/^Mer/i,/^Ya/i,/^Gw/i,/^Sa/i];o.defineLocale("br",{months:"Genver_C\u02bchwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C\u02bchwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc\u02bcher_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParse:Lt,fullWeekdaysParse:[/^sul/i,/^lun/i,/^meurzh/i,/^merc[\u02bc\']her/i,/^yaou/i,/^gwener/i,/^sadorn/i],shortWeekdaysParse:[/^Sul/i,/^Lun/i,/^Meu/i,/^Mer/i,/^Yao/i,/^Gwe/i,/^Sad/i],minWeekdaysParse:Lt,monthsRegex:Me,monthsShortRegex:Me,monthsStrictRegex:/^(genver|c[\u02bc\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu)/i,monthsShortStrictRegex:/^(gen|c[\u02bc\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,monthsParse:Ee,longMonthsParse:Ee,shortMonthsParse:Ee,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY HH:mm",LLLL:"dddd, D [a viz] MMMM YYYY HH:mm"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc\u02bchoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec\u02bch da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s \u02bczo",s:"un nebeud segondenno\xf9",ss:"%d eilenn",m:"ur vunutenn",mm:$,h:"un eur",hh:"%d eur",d:"un devezh",dd:$,M:"ur miz",MM:$,y:"ur bloaz",yy:function(Gt){switch(x(Gt)){case 1:case 3:case 4:case 5:case 9:return Gt+" bloaz";default:return Gt+" vloaz"}}},dayOfMonthOrdinalParse:/\d{1,2}(a\xf1|vet)/,ordinal:function(Gt){return Gt+(1===Gt?"a\xf1":"vet")},week:{dow:1,doy:4},meridiemParse:/a.m.|g.m./,isPM:function(Gt){return"g.m."===Gt},meridiem:function(Gt,ct,ii){return Gt<12?"a.m.":"g.m."}})}(Ae(6738))},5536:function(Ut,kt,Ae){!function(o){"use strict";function $(x,de,Ce){var Ee=x+" ";switch(Ce){case"ss":return Ee+(1===x?"sekunda":2===x||3===x||4===x?"sekunde":"sekundi");case"m":return de?"jedna minuta":"jedne minute";case"mm":return Ee+(1===x?"minuta":2===x||3===x||4===x?"minute":"minuta");case"h":return de?"jedan sat":"jednog sata";case"hh":return Ee+(1===x?"sat":2===x||3===x||4===x?"sata":"sati");case"dd":return Ee+(1===x?"dan":"dana");case"MM":return Ee+(1===x?"mjesec":2===x||3===x||4===x?"mjeseca":"mjeseci");case"yy":return Ee+(1===x?"godina":2===x||3===x||4===x?"godine":"godina")}}o.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010der u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[pro\u0161lu] dddd [u] LT";case 6:return"[pro\u0161le] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[pro\u0161li] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:$,m:$,mm:$,h:$,hh:$,d:"dan",dd:$,M:"mjesec",MM:$,y:"godinu",yy:$},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(Ae(6738))},1043:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("ca",{months:{standalone:"gener_febrer_mar\xe7_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de mar\xe7_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar\xe7_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem\xe0 a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aqu\xed %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|\xe8|a)/,ordinal:function(ee,x){var de=1===ee?"r":2===ee?"n":3===ee?"r":4===ee?"t":"\xe8";return("w"===x||"W"===x)&&(de="a"),ee+de},week:{dow:1,doy:4}})}(Ae(6738))},420:function(Ut,kt,Ae){!function(o){"use strict";var $="leden_\xfanor_b\u0159ezen_duben_kv\u011bten_\u010derven_\u010dervenec_srpen_z\xe1\u0159\xed_\u0159\xedjen_listopad_prosinec".split("_"),ee="led_\xfano_b\u0159e_dub_kv\u011b_\u010dvn_\u010dvc_srp_z\xe1\u0159_\u0159\xedj_lis_pro".split("_"),x=[/^led/i,/^\xfano/i,/^b\u0159e/i,/^dub/i,/^kv\u011b/i,/^(\u010dvn|\u010derven$|\u010dervna)/i,/^(\u010dvc|\u010dervenec|\u010dervence)/i,/^srp/i,/^z\xe1\u0159/i,/^\u0159\xedj/i,/^lis/i,/^pro/i],de=/^(leden|\xfanor|b\u0159ezen|duben|kv\u011bten|\u010dervenec|\u010dervence|\u010derven|\u010dervna|srpen|z\xe1\u0159\xed|\u0159\xedjen|listopad|prosinec|led|\xfano|b\u0159e|dub|kv\u011b|\u010dvn|\u010dvc|srp|z\xe1\u0159|\u0159\xedj|lis|pro)/i;function Ce(Be){return Be>1&&Be<5&&1!=~~(Be/10)}function Ee(Be,Ge,Mt,ft){var Lt=Be+" ";switch(Mt){case"s":return Ge||ft?"p\xe1r sekund":"p\xe1r sekundami";case"ss":return Ge||ft?Lt+(Ce(Be)?"sekundy":"sekund"):Lt+"sekundami";case"m":return Ge?"minuta":ft?"minutu":"minutou";case"mm":return Ge||ft?Lt+(Ce(Be)?"minuty":"minut"):Lt+"minutami";case"h":return Ge?"hodina":ft?"hodinu":"hodinou";case"hh":return Ge||ft?Lt+(Ce(Be)?"hodiny":"hodin"):Lt+"hodinami";case"d":return Ge||ft?"den":"dnem";case"dd":return Ge||ft?Lt+(Ce(Be)?"dny":"dn\xed"):Lt+"dny";case"M":return Ge||ft?"m\u011bs\xedc":"m\u011bs\xedcem";case"MM":return Ge||ft?Lt+(Ce(Be)?"m\u011bs\xedce":"m\u011bs\xedc\u016f"):Lt+"m\u011bs\xedci";case"y":return Ge||ft?"rok":"rokem";case"yy":return Ge||ft?Lt+(Ce(Be)?"roky":"let"):Lt+"lety"}}o.defineLocale("cs",{months:$,monthsShort:ee,monthsRegex:de,monthsShortRegex:de,monthsStrictRegex:/^(leden|ledna|\xfanora|\xfanor|b\u0159ezen|b\u0159ezna|duben|dubna|kv\u011bten|kv\u011btna|\u010dervenec|\u010dervence|\u010derven|\u010dervna|srpen|srpna|z\xe1\u0159\xed|\u0159\xedjen|\u0159\xedjna|listopadu|listopad|prosinec|prosince)/i,monthsShortStrictRegex:/^(led|\xfano|b\u0159e|dub|kv\u011b|\u010dvn|\u010dvc|srp|z\xe1\u0159|\u0159\xedj|lis|pro)/i,monthsParse:x,longMonthsParse:x,shortMonthsParse:x,weekdays:"ned\u011ble_pond\u011bl\xed_\xfater\xfd_st\u0159eda_\u010dtvrtek_p\xe1tek_sobota".split("_"),weekdaysShort:"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),weekdaysMin:"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[z\xedtra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v ned\u011bli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve st\u0159edu v] LT";case 4:return"[ve \u010dtvrtek v] LT";case 5:return"[v p\xe1tek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[v\u010dera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou ned\u011bli v] LT";case 1:case 2:return"[minul\xe9] dddd [v] LT";case 3:return"[minulou st\u0159edu v] LT";case 4:case 5:return"[minul\xfd] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"p\u0159ed %s",s:Ee,ss:Ee,m:Ee,mm:Ee,h:Ee,hh:Ee,d:Ee,dd:Ee,M:Ee,MM:Ee,y:Ee,yy:Ee},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(Ae(6738))},3513:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("cv",{months:"\u043a\u04d1\u0440\u043b\u0430\u0447_\u043d\u0430\u0440\u04d1\u0441_\u043f\u0443\u0448_\u0430\u043a\u0430_\u043c\u0430\u0439_\u04ab\u04d7\u0440\u0442\u043c\u0435_\u0443\u0442\u04d1_\u04ab\u0443\u0440\u043b\u0430_\u0430\u0432\u04d1\u043d_\u044e\u043f\u0430_\u0447\u04f3\u043a_\u0440\u0430\u0448\u0442\u0430\u0432".split("_"),monthsShort:"\u043a\u04d1\u0440_\u043d\u0430\u0440_\u043f\u0443\u0448_\u0430\u043a\u0430_\u043c\u0430\u0439_\u04ab\u04d7\u0440_\u0443\u0442\u04d1_\u04ab\u0443\u0440_\u0430\u0432\u043d_\u044e\u043f\u0430_\u0447\u04f3\u043a_\u0440\u0430\u0448".split("_"),weekdays:"\u0432\u044b\u0440\u0441\u0430\u0440\u043d\u0438\u043a\u0443\u043d_\u0442\u0443\u043d\u0442\u0438\u043a\u0443\u043d_\u044b\u0442\u043b\u0430\u0440\u0438\u043a\u0443\u043d_\u044e\u043d\u043a\u0443\u043d_\u043a\u04d7\u04ab\u043d\u0435\u0440\u043d\u0438\u043a\u0443\u043d_\u044d\u0440\u043d\u0435\u043a\u0443\u043d_\u0448\u04d1\u043c\u0430\u0442\u043a\u0443\u043d".split("_"),weekdaysShort:"\u0432\u044b\u0440_\u0442\u0443\u043d_\u044b\u0442\u043b_\u044e\u043d_\u043a\u04d7\u04ab_\u044d\u0440\u043d_\u0448\u04d1\u043c".split("_"),weekdaysMin:"\u0432\u0440_\u0442\u043d_\u044b\u0442_\u044e\u043d_\u043a\u04ab_\u044d\u0440_\u0448\u043c".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7]",LLL:"YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7], HH:mm",LLLL:"dddd, YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7], HH:mm"},calendar:{sameDay:"[\u041f\u0430\u044f\u043d] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",nextDay:"[\u042b\u0440\u0430\u043d] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",lastDay:"[\u04d6\u043d\u0435\u0440] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",nextWeek:"[\u04aa\u0438\u0442\u0435\u0441] dddd LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",lastWeek:"[\u0418\u0440\u0442\u043d\u04d7] dddd LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",sameElse:"L"},relativeTime:{future:function(ee){return ee+(/\u0441\u0435\u0445\u0435\u0442$/i.exec(ee)?"\u0440\u0435\u043d":/\u04ab\u0443\u043b$/i.exec(ee)?"\u0442\u0430\u043d":"\u0440\u0430\u043d")},past:"%s \u043a\u0430\u044f\u043b\u043b\u0430",s:"\u043f\u04d7\u0440-\u0438\u043a \u04ab\u0435\u043a\u043a\u0443\u043d\u0442",ss:"%d \u04ab\u0435\u043a\u043a\u0443\u043d\u0442",m:"\u043f\u04d7\u0440 \u043c\u0438\u043d\u0443\u0442",mm:"%d \u043c\u0438\u043d\u0443\u0442",h:"\u043f\u04d7\u0440 \u0441\u0435\u0445\u0435\u0442",hh:"%d \u0441\u0435\u0445\u0435\u0442",d:"\u043f\u04d7\u0440 \u043a\u0443\u043d",dd:"%d \u043a\u0443\u043d",M:"\u043f\u04d7\u0440 \u0443\u0439\u04d1\u0445",MM:"%d \u0443\u0439\u04d1\u0445",y:"\u043f\u04d7\u0440 \u04ab\u0443\u043b",yy:"%d \u04ab\u0443\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-\u043c\u04d7\u0448/,ordinal:"%d-\u043c\u04d7\u0448",week:{dow:1,doy:7}})}(Ae(6738))},6771:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn \xf4l",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(ee){var de="";return ee>20?de=40===ee||50===ee||60===ee||80===ee||100===ee?"fed":"ain":ee>0&&(de=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][ee]),ee+de},week:{dow:1,doy:4}})}(Ae(6738))},7978:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),weekdaysShort:"s\xf8n_man_tir_ons_tor_fre_l\xf8r".split("_"),weekdaysMin:"s\xf8_ma_ti_on_to_fr_l\xf8".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"p\xe5 dddd [kl.] LT",lastDay:"[i g\xe5r kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f\xe5 sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en m\xe5ned",MM:"%d m\xe5neder",y:"et \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(Ae(6738))},5204:function(Ut,kt,Ae){!function(o){"use strict";function $(x,de,Ce,Ee){var Me={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[x+" Tage",x+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[x+" Monate",x+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[x+" Jahre",x+" Jahren"]};return de?Me[Ce][0]:Me[Ce][1]}o.defineLocale("de-at",{months:"J\xe4nner_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"J\xe4n._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:$,mm:"%d Minuten",h:$,hh:"%d Stunden",d:$,dd:$,w:$,ww:"%d Wochen",M:$,MM:$,y:$,yy:$},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(Ae(6738))},2653:function(Ut,kt,Ae){!function(o){"use strict";function $(x,de,Ce,Ee){var Me={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[x+" Tage",x+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[x+" Monate",x+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[x+" Jahre",x+" Jahren"]};return de?Me[Ce][0]:Me[Ce][1]}o.defineLocale("de-ch",{months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:$,mm:"%d Minuten",h:$,hh:"%d Stunden",d:$,dd:$,w:$,ww:"%d Wochen",M:$,MM:$,y:$,yy:$},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(Ae(6738))},6061:function(Ut,kt,Ae){!function(o){"use strict";function $(x,de,Ce,Ee){var Me={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[x+" Tage",x+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[x+" Monate",x+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[x+" Jahre",x+" Jahren"]};return de?Me[Ce][0]:Me[Ce][1]}o.defineLocale("de",{months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:$,mm:"%d Minuten",h:$,hh:"%d Stunden",d:$,dd:$,w:$,ww:"%d Wochen",M:$,MM:$,y:$,yy:$},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(Ae(6738))},85:function(Ut,kt,Ae){!function(o){"use strict";var $=["\u0796\u07ac\u0782\u07aa\u0787\u07a6\u0783\u07a9","\u078a\u07ac\u0784\u07b0\u0783\u07aa\u0787\u07a6\u0783\u07a9","\u0789\u07a7\u0783\u07a8\u0797\u07aa","\u0787\u07ad\u0795\u07b0\u0783\u07a9\u078d\u07aa","\u0789\u07ad","\u0796\u07ab\u0782\u07b0","\u0796\u07aa\u078d\u07a6\u0787\u07a8","\u0787\u07af\u078e\u07a6\u0790\u07b0\u0793\u07aa","\u0790\u07ac\u0795\u07b0\u0793\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa","\u0787\u07ae\u0786\u07b0\u0793\u07af\u0784\u07a6\u0783\u07aa","\u0782\u07ae\u0788\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa","\u0791\u07a8\u0790\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa"],ee=["\u0787\u07a7\u078b\u07a8\u0787\u07b0\u078c\u07a6","\u0780\u07af\u0789\u07a6","\u0787\u07a6\u0782\u07b0\u078e\u07a7\u0783\u07a6","\u0784\u07aa\u078b\u07a6","\u0784\u07aa\u0783\u07a7\u0790\u07b0\u078a\u07a6\u078c\u07a8","\u0780\u07aa\u0786\u07aa\u0783\u07aa","\u0780\u07ae\u0782\u07a8\u0780\u07a8\u0783\u07aa"];o.defineLocale("dv",{months:$,monthsShort:$,weekdays:ee,weekdaysShort:ee,weekdaysMin:"\u0787\u07a7\u078b\u07a8_\u0780\u07af\u0789\u07a6_\u0787\u07a6\u0782\u07b0_\u0784\u07aa\u078b\u07a6_\u0784\u07aa\u0783\u07a7_\u0780\u07aa\u0786\u07aa_\u0780\u07ae\u0782\u07a8".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0789\u0786|\u0789\u078a/,isPM:function(de){return"\u0789\u078a"===de},meridiem:function(de,Ce,Ee){return de<12?"\u0789\u0786":"\u0789\u078a"},calendar:{sameDay:"[\u0789\u07a8\u0787\u07a6\u078b\u07aa] LT",nextDay:"[\u0789\u07a7\u078b\u07a6\u0789\u07a7] LT",nextWeek:"dddd LT",lastDay:"[\u0787\u07a8\u0787\u07b0\u0794\u07ac] LT",lastWeek:"[\u078a\u07a7\u0787\u07a8\u078c\u07aa\u0788\u07a8] dddd LT",sameElse:"L"},relativeTime:{future:"\u078c\u07ac\u0783\u07ad\u078e\u07a6\u0787\u07a8 %s",past:"\u0786\u07aa\u0783\u07a8\u0782\u07b0 %s",s:"\u0790\u07a8\u0786\u07aa\u0782\u07b0\u078c\u07aa\u0786\u07ae\u0785\u07ac\u0787\u07b0",ss:"d% \u0790\u07a8\u0786\u07aa\u0782\u07b0\u078c\u07aa",m:"\u0789\u07a8\u0782\u07a8\u0793\u07ac\u0787\u07b0",mm:"\u0789\u07a8\u0782\u07a8\u0793\u07aa %d",h:"\u078e\u07a6\u0791\u07a8\u0787\u07a8\u0783\u07ac\u0787\u07b0",hh:"\u078e\u07a6\u0791\u07a8\u0787\u07a8\u0783\u07aa %d",d:"\u078b\u07aa\u0788\u07a6\u0780\u07ac\u0787\u07b0",dd:"\u078b\u07aa\u0788\u07a6\u0790\u07b0 %d",M:"\u0789\u07a6\u0780\u07ac\u0787\u07b0",MM:"\u0789\u07a6\u0790\u07b0 %d",y:"\u0787\u07a6\u0780\u07a6\u0783\u07ac\u0787\u07b0",yy:"\u0787\u07a6\u0780\u07a6\u0783\u07aa %d"},preparse:function(de){return de.replace(/\u060c/g,",")},postformat:function(de){return de.replace(/,/g,"\u060c")},week:{dow:7,doy:12}})}(Ae(6738))},8579:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("el",{monthsNominativeEl:"\u0399\u03b1\u03bd\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2_\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2_\u039c\u03ac\u03c1\u03c4\u03b9\u03bf\u03c2_\u0391\u03c0\u03c1\u03af\u03bb\u03b9\u03bf\u03c2_\u039c\u03ac\u03b9\u03bf\u03c2_\u0399\u03bf\u03cd\u03bd\u03b9\u03bf\u03c2_\u0399\u03bf\u03cd\u03bb\u03b9\u03bf\u03c2_\u0391\u03cd\u03b3\u03bf\u03c5\u03c3\u03c4\u03bf\u03c2_\u03a3\u03b5\u03c0\u03c4\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2_\u039f\u03ba\u03c4\u03ce\u03b2\u03c1\u03b9\u03bf\u03c2_\u039d\u03bf\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2_\u0394\u03b5\u03ba\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2".split("_"),monthsGenitiveEl:"\u0399\u03b1\u03bd\u03bf\u03c5\u03b1\u03c1\u03af\u03bf\u03c5_\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03b1\u03c1\u03af\u03bf\u03c5_\u039c\u03b1\u03c1\u03c4\u03af\u03bf\u03c5_\u0391\u03c0\u03c1\u03b9\u03bb\u03af\u03bf\u03c5_\u039c\u03b1\u0390\u03bf\u03c5_\u0399\u03bf\u03c5\u03bd\u03af\u03bf\u03c5_\u0399\u03bf\u03c5\u03bb\u03af\u03bf\u03c5_\u0391\u03c5\u03b3\u03bf\u03cd\u03c3\u03c4\u03bf\u03c5_\u03a3\u03b5\u03c0\u03c4\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5_\u039f\u03ba\u03c4\u03c9\u03b2\u03c1\u03af\u03bf\u03c5_\u039d\u03bf\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5_\u0394\u03b5\u03ba\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5".split("_"),months:function(x,de){return x?"string"==typeof de&&/D/.test(de.substring(0,de.indexOf("MMMM")))?this._monthsGenitiveEl[x.month()]:this._monthsNominativeEl[x.month()]:this._monthsNominativeEl},monthsShort:"\u0399\u03b1\u03bd_\u03a6\u03b5\u03b2_\u039c\u03b1\u03c1_\u0391\u03c0\u03c1_\u039c\u03b1\u03ca_\u0399\u03bf\u03c5\u03bd_\u0399\u03bf\u03c5\u03bb_\u0391\u03c5\u03b3_\u03a3\u03b5\u03c0_\u039f\u03ba\u03c4_\u039d\u03bf\u03b5_\u0394\u03b5\u03ba".split("_"),weekdays:"\u039a\u03c5\u03c1\u03b9\u03b1\u03ba\u03ae_\u0394\u03b5\u03c5\u03c4\u03ad\u03c1\u03b1_\u03a4\u03c1\u03af\u03c4\u03b7_\u03a4\u03b5\u03c4\u03ac\u03c1\u03c4\u03b7_\u03a0\u03ad\u03bc\u03c0\u03c4\u03b7_\u03a0\u03b1\u03c1\u03b1\u03c3\u03ba\u03b5\u03c5\u03ae_\u03a3\u03ac\u03b2\u03b2\u03b1\u03c4\u03bf".split("_"),weekdaysShort:"\u039a\u03c5\u03c1_\u0394\u03b5\u03c5_\u03a4\u03c1\u03b9_\u03a4\u03b5\u03c4_\u03a0\u03b5\u03bc_\u03a0\u03b1\u03c1_\u03a3\u03b1\u03b2".split("_"),weekdaysMin:"\u039a\u03c5_\u0394\u03b5_\u03a4\u03c1_\u03a4\u03b5_\u03a0\u03b5_\u03a0\u03b1_\u03a3\u03b1".split("_"),meridiem:function(x,de,Ce){return x>11?Ce?"\u03bc\u03bc":"\u039c\u039c":Ce?"\u03c0\u03bc":"\u03a0\u039c"},isPM:function(x){return"\u03bc"===(x+"").toLowerCase()[0]},meridiemParse:/[\u03a0\u039c]\.?\u039c?\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[\u03a3\u03ae\u03bc\u03b5\u03c1\u03b1 {}] LT",nextDay:"[\u0391\u03cd\u03c1\u03b9\u03bf {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[\u03a7\u03b8\u03b5\u03c2 {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[\u03c4\u03bf \u03c0\u03c1\u03bf\u03b7\u03b3\u03bf\u03cd\u03bc\u03b5\u03bd\u03bf] dddd [{}] LT";default:return"[\u03c4\u03b7\u03bd \u03c0\u03c1\u03bf\u03b7\u03b3\u03bf\u03cd\u03bc\u03b5\u03bd\u03b7] dddd [{}] LT"}},sameElse:"L"},calendar:function(x,de){var Ce=this._calendarEl[x],Ee=de&&de.hours();return function(x){return"undefined"!=typeof Function&&x instanceof Function||"[object Function]"===Object.prototype.toString.call(x)}(Ce)&&(Ce=Ce.apply(de)),Ce.replace("{}",Ee%12==1?"\u03c3\u03c4\u03b7":"\u03c3\u03c4\u03b9\u03c2")},relativeTime:{future:"\u03c3\u03b5 %s",past:"%s \u03c0\u03c1\u03b9\u03bd",s:"\u03bb\u03af\u03b3\u03b1 \u03b4\u03b5\u03c5\u03c4\u03b5\u03c1\u03cc\u03bb\u03b5\u03c0\u03c4\u03b1",ss:"%d \u03b4\u03b5\u03c5\u03c4\u03b5\u03c1\u03cc\u03bb\u03b5\u03c0\u03c4\u03b1",m:"\u03ad\u03bd\u03b1 \u03bb\u03b5\u03c0\u03c4\u03cc",mm:"%d \u03bb\u03b5\u03c0\u03c4\u03ac",h:"\u03bc\u03af\u03b1 \u03ce\u03c1\u03b1",hh:"%d \u03ce\u03c1\u03b5\u03c2",d:"\u03bc\u03af\u03b1 \u03bc\u03ad\u03c1\u03b1",dd:"%d \u03bc\u03ad\u03c1\u03b5\u03c2",M:"\u03ad\u03bd\u03b1\u03c2 \u03bc\u03ae\u03bd\u03b1\u03c2",MM:"%d \u03bc\u03ae\u03bd\u03b5\u03c2",y:"\u03ad\u03bd\u03b1\u03c2 \u03c7\u03c1\u03cc\u03bd\u03bf\u03c2",yy:"%d \u03c7\u03c1\u03cc\u03bd\u03b9\u03b1"},dayOfMonthOrdinalParse:/\d{1,2}\u03b7/,ordinal:"%d\u03b7",week:{dow:1,doy:4}})}(Ae(6738))},5724:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(ee){var x=ee%10;return ee+(1==~~(ee%100/10)?"th":1===x?"st":2===x?"nd":3===x?"rd":"th")},week:{dow:0,doy:4}})}(Ae(6738))},525:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(ee){var x=ee%10;return ee+(1==~~(ee%100/10)?"th":1===x?"st":2===x?"nd":3===x?"rd":"th")}})}(Ae(6738))},2847:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(ee){var x=ee%10;return ee+(1==~~(ee%100/10)?"th":1===x?"st":2===x?"nd":3===x?"rd":"th")},week:{dow:1,doy:4}})}(Ae(6738))},7216:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(ee){var x=ee%10;return ee+(1==~~(ee%100/10)?"th":1===x?"st":2===x?"nd":3===x?"rd":"th")},week:{dow:1,doy:4}})}(Ae(6738))},9305:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(ee){var x=ee%10;return ee+(1==~~(ee%100/10)?"th":1===x?"st":2===x?"nd":3===x?"rd":"th")}})}(Ae(6738))},3364:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("en-in",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(ee){var x=ee%10;return ee+(1==~~(ee%100/10)?"th":1===x?"st":2===x?"nd":3===x?"rd":"th")},week:{dow:0,doy:6}})}(Ae(6738))},9130:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(ee){var x=ee%10;return ee+(1==~~(ee%100/10)?"th":1===x?"st":2===x?"nd":3===x?"rd":"th")},week:{dow:1,doy:4}})}(Ae(6738))},1161:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("en-sg",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(ee){var x=ee%10;return ee+(1==~~(ee%100/10)?"th":1===x?"st":2===x?"nd":3===x?"rd":"th")},week:{dow:1,doy:4}})}(Ae(6738))},802:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_a\u016dgusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mart_apr_maj_jun_jul_a\u016dg_sept_okt_nov_dec".split("_"),weekdays:"diman\u0109o_lundo_mardo_merkredo_\u0135a\u016ddo_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_\u0135a\u016d_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_\u0135a_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"[la] D[-an de] MMMM, YYYY",LLL:"[la] D[-an de] MMMM, YYYY HH:mm",LLLL:"dddd[n], [la] D[-an de] MMMM, YYYY HH:mm",llll:"ddd, [la] D[-an de] MMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(ee){return"p"===ee.charAt(0).toLowerCase()},meridiem:function(ee,x,de){return ee>11?de?"p.t.m.":"P.T.M.":de?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia\u016d je] LT",nextDay:"[Morga\u016d je] LT",nextWeek:"dddd[n je] LT",lastDay:"[Hiera\u016d je] LT",lastWeek:"[pasintan] dddd[n je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"anta\u016d %s",s:"kelkaj sekundoj",ss:"%d sekundoj",m:"unu minuto",mm:"%d minutoj",h:"unu horo",hh:"%d horoj",d:"unu tago",dd:"%d tagoj",M:"unu monato",MM:"%d monatoj",y:"unu jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}})}(Ae(6738))},5551:function(Ut,kt,Ae){!function(o){"use strict";var $="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),ee="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),x=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],de=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;o.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(Ee,Me){return Ee?/-MMM-/.test(Me)?ee[Ee.month()]:$[Ee.month()]:$},monthsRegex:de,monthsShortRegex:de,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:x,longMonthsParse:x,shortMonthsParse:x,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(Ae(6738))},5615:function(Ut,kt,Ae){!function(o){"use strict";var $="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),ee="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),x=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],de=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;o.defineLocale("es-mx",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(Ee,Me){return Ee?/-MMM-/.test(Me)?ee[Ee.month()]:$[Ee.month()]:$},monthsRegex:de,monthsShortRegex:de,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:x,longMonthsParse:x,shortMonthsParse:x,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:0,doy:4},invalidDate:"Fecha inv\xe1lida"})}(Ae(6738))},4790:function(Ut,kt,Ae){!function(o){"use strict";var $="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),ee="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),x=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],de=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;o.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(Ee,Me){return Ee?/-MMM-/.test(Me)?ee[Ee.month()]:$[Ee.month()]:$},monthsRegex:de,monthsShortRegex:de,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:x,longMonthsParse:x,shortMonthsParse:x,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:0,doy:6}})}(Ae(6738))},328:function(Ut,kt,Ae){!function(o){"use strict";var $="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),ee="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),x=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],de=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;o.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(Ee,Me){return Ee?/-MMM-/.test(Me)?ee[Ee.month()]:$[Ee.month()]:$},monthsRegex:de,monthsShortRegex:de,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:x,longMonthsParse:x,shortMonthsParse:x,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4},invalidDate:"Fecha inv\xe1lida"})}(Ae(6738))},6389:function(Ut,kt,Ae){!function(o){"use strict";function $(x,de,Ce,Ee){var Me={s:["m\xf5ne sekundi","m\xf5ni sekund","paar sekundit"],ss:[x+"sekundi",x+"sekundit"],m:["\xfche minuti","\xfcks minut"],mm:[x+" minuti",x+" minutit"],h:["\xfche tunni","tund aega","\xfcks tund"],hh:[x+" tunni",x+" tundi"],d:["\xfche p\xe4eva","\xfcks p\xe4ev"],M:["kuu aja","kuu aega","\xfcks kuu"],MM:[x+" kuu",x+" kuud"],y:["\xfche aasta","aasta","\xfcks aasta"],yy:[x+" aasta",x+" aastat"]};return de?Me[Ce][2]?Me[Ce][2]:Me[Ce][1]:Ee?Me[Ce][0]:Me[Ce][1]}o.defineLocale("et",{months:"jaanuar_veebruar_m\xe4rts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_m\xe4rts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"p\xfchap\xe4ev_esmasp\xe4ev_teisip\xe4ev_kolmap\xe4ev_neljap\xe4ev_reede_laup\xe4ev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[T\xe4na,] LT",nextDay:"[Homme,] LT",nextWeek:"[J\xe4rgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s p\xe4rast",past:"%s tagasi",s:$,ss:$,m:$,mm:$,h:$,hh:$,d:$,dd:"%d p\xe4eva",M:$,MM:$,y:$,yy:$},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(Ae(6738))},2961:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(Ae(6738))},6151:function(Ut,kt,Ae){!function(o){"use strict";var $={1:"\u06f1",2:"\u06f2",3:"\u06f3",4:"\u06f4",5:"\u06f5",6:"\u06f6",7:"\u06f7",8:"\u06f8",9:"\u06f9",0:"\u06f0"},ee={"\u06f1":"1","\u06f2":"2","\u06f3":"3","\u06f4":"4","\u06f5":"5","\u06f6":"6","\u06f7":"7","\u06f8":"8","\u06f9":"9","\u06f0":"0"};o.defineLocale("fa",{months:"\u0698\u0627\u0646\u0648\u06cc\u0647_\u0641\u0648\u0631\u06cc\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06cc\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06cc\u0647_\u0627\u0648\u062a_\u0633\u067e\u062a\u0627\u0645\u0628\u0631_\u0627\u06a9\u062a\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062f\u0633\u0627\u0645\u0628\u0631".split("_"),monthsShort:"\u0698\u0627\u0646\u0648\u06cc\u0647_\u0641\u0648\u0631\u06cc\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06cc\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06cc\u0647_\u0627\u0648\u062a_\u0633\u067e\u062a\u0627\u0645\u0628\u0631_\u0627\u06a9\u062a\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062f\u0633\u0627\u0645\u0628\u0631".split("_"),weekdays:"\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647_\u062f\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200c\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647_\u062c\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysShort:"\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647_\u062f\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200c\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647_\u062c\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysMin:"\u06cc_\u062f_\u0633_\u0686_\u067e_\u062c_\u0634".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u0642\u0628\u0644 \u0627\u0632 \u0638\u0647\u0631|\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631/,isPM:function(de){return/\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631/.test(de)},meridiem:function(de,Ce,Ee){return de<12?"\u0642\u0628\u0644 \u0627\u0632 \u0638\u0647\u0631":"\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631"},calendar:{sameDay:"[\u0627\u0645\u0631\u0648\u0632 \u0633\u0627\u0639\u062a] LT",nextDay:"[\u0641\u0631\u062f\u0627 \u0633\u0627\u0639\u062a] LT",nextWeek:"dddd [\u0633\u0627\u0639\u062a] LT",lastDay:"[\u062f\u06cc\u0631\u0648\u0632 \u0633\u0627\u0639\u062a] LT",lastWeek:"dddd [\u067e\u06cc\u0634] [\u0633\u0627\u0639\u062a] LT",sameElse:"L"},relativeTime:{future:"\u062f\u0631 %s",past:"%s \u067e\u06cc\u0634",s:"\u0686\u0646\u062f \u062b\u0627\u0646\u06cc\u0647",ss:"%d \u062b\u0627\u0646\u06cc\u0647",m:"\u06cc\u06a9 \u062f\u0642\u06cc\u0642\u0647",mm:"%d \u062f\u0642\u06cc\u0642\u0647",h:"\u06cc\u06a9 \u0633\u0627\u0639\u062a",hh:"%d \u0633\u0627\u0639\u062a",d:"\u06cc\u06a9 \u0631\u0648\u0632",dd:"%d \u0631\u0648\u0632",M:"\u06cc\u06a9 \u0645\u0627\u0647",MM:"%d \u0645\u0627\u0647",y:"\u06cc\u06a9 \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(de){return de.replace(/[\u06f0-\u06f9]/g,function(Ce){return ee[Ce]}).replace(/\u060c/g,",")},postformat:function(de){return de.replace(/\d/g,function(Ce){return $[Ce]}).replace(/,/g,"\u060c")},dayOfMonthOrdinalParse:/\d{1,2}\u0645/,ordinal:"%d\u0645",week:{dow:6,doy:12}})}(Ae(6738))},7997:function(Ut,kt,Ae){!function(o){"use strict";var $="nolla yksi kaksi kolme nelj\xe4 viisi kuusi seitsem\xe4n kahdeksan yhdeks\xe4n".split(" "),ee=["nolla","yhden","kahden","kolmen","nelj\xe4n","viiden","kuuden",$[7],$[8],$[9]];function x(Ee,Me,Be,Ge){var Mt="";switch(Be){case"s":return Ge?"muutaman sekunnin":"muutama sekunti";case"ss":Mt=Ge?"sekunnin":"sekuntia";break;case"m":return Ge?"minuutin":"minuutti";case"mm":Mt=Ge?"minuutin":"minuuttia";break;case"h":return Ge?"tunnin":"tunti";case"hh":Mt=Ge?"tunnin":"tuntia";break;case"d":return Ge?"p\xe4iv\xe4n":"p\xe4iv\xe4";case"dd":Mt=Ge?"p\xe4iv\xe4n":"p\xe4iv\xe4\xe4";break;case"M":return Ge?"kuukauden":"kuukausi";case"MM":Mt=Ge?"kuukauden":"kuukautta";break;case"y":return Ge?"vuoden":"vuosi";case"yy":Mt=Ge?"vuoden":"vuotta"}return function(Ee,Me){return Ee<10?Me?ee[Ee]:$[Ee]:Ee}(Ee,Ge)+" "+Mt}o.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kes\xe4kuu_hein\xe4kuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes\xe4_hein\xe4_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[t\xe4n\xe4\xe4n] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s p\xe4\xe4st\xe4",past:"%s sitten",s:x,ss:x,m:x,mm:x,h:x,hh:x,d:x,dd:x,M:x,MM:x,y:x,yy:x},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(Ae(6738))},8898:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("fil",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(ee){return ee},week:{dow:1,doy:4}})}(Ae(6738))},7779:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("fo",{months:"januar_februar_mars_apr\xedl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_m\xe1nadagur_t\xfdsdagur_mikudagur_h\xf3sdagur_fr\xedggjadagur_leygardagur".split("_"),weekdaysShort:"sun_m\xe1n_t\xfds_mik_h\xf3s_fr\xed_ley".split("_"),weekdaysMin:"su_m\xe1_t\xfd_mi_h\xf3_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[\xcd dag kl.] LT",nextDay:"[\xcd morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[\xcd gj\xe1r kl.] LT",lastWeek:"[s\xed\xf0stu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s s\xed\xf0ani",s:"f\xe1 sekund",ss:"%d sekundir",m:"ein minuttur",mm:"%d minuttir",h:"ein t\xedmi",hh:"%d t\xedmar",d:"ein dagur",dd:"%d dagar",M:"ein m\xe1na\xf0ur",MM:"%d m\xe1na\xf0ir",y:"eitt \xe1r",yy:"%d \xe1r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(Ae(6738))},3287:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("fr-ca",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(ee,x){switch(x){default:case"M":case"Q":case"D":case"DDD":case"d":return ee+(1===ee?"er":"e");case"w":case"W":return ee+(1===ee?"re":"e")}}})}(Ae(6738))},8867:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("fr-ch",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(ee,x){switch(x){default:case"M":case"Q":case"D":case"DDD":case"d":return ee+(1===ee?"er":"e");case"w":case"W":return ee+(1===ee?"re":"e")}},week:{dow:1,doy:4}})}(Ae(6738))},8174:function(Ut,kt,Ae){!function(o){"use strict";var x=/(janv\.?|f\xe9vr\.?|mars|avr\.?|mai|juin|juil\.?|ao\xfbt|sept\.?|oct\.?|nov\.?|d\xe9c\.?|janvier|f\xe9vrier|mars|avril|mai|juin|juillet|ao\xfbt|septembre|octobre|novembre|d\xe9cembre)/i,de=[/^janv/i,/^f\xe9vr/i,/^mars/i,/^avr/i,/^mai/i,/^juin/i,/^juil/i,/^ao\xfbt/i,/^sept/i,/^oct/i,/^nov/i,/^d\xe9c/i];o.defineLocale("fr",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsRegex:x,monthsShortRegex:x,monthsStrictRegex:/^(janvier|f\xe9vrier|mars|avril|mai|juin|juillet|ao\xfbt|septembre|octobre|novembre|d\xe9cembre)/i,monthsShortStrictRegex:/(janv\.?|f\xe9vr\.?|mars|avr\.?|mai|juin|juil\.?|ao\xfbt|sept\.?|oct\.?|nov\.?|d\xe9c\.?)/i,monthsParse:de,longMonthsParse:de,shortMonthsParse:de,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",w:"une semaine",ww:"%d semaines",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(Ee,Me){switch(Me){case"D":return Ee+(1===Ee?"er":"");default:case"M":case"Q":case"DDD":case"d":return Ee+(1===Ee?"er":"e");case"w":case"W":return Ee+(1===Ee?"re":"e")}},week:{dow:1,doy:4}})}(Ae(6738))},452:function(Ut,kt,Ae){!function(o){"use strict";var $="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),ee="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");o.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(de,Ce){return de?/-MMM-/.test(Ce)?ee[de.month()]:$[de.month()]:$},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[\xf4fr\xfbne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien min\xfat",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(de){return de+(1===de||8===de||de>=20?"ste":"de")},week:{dow:1,doy:4}})}(Ae(6738))},5014:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("ga",{months:["Ean\xe1ir","Feabhra","M\xe1rta","Aibre\xe1n","Bealtaine","Meitheamh","I\xfail","L\xfanasa","Me\xe1n F\xf3mhair","Deireadh F\xf3mhair","Samhain","Nollaig"],monthsShort:["Ean","Feabh","M\xe1rt","Aib","Beal","Meith","I\xfail","L\xfan","M.F.","D.F.","Samh","Noll"],monthsParseExact:!0,weekdays:["D\xe9 Domhnaigh","D\xe9 Luain","D\xe9 M\xe1irt","D\xe9 C\xe9adaoin","D\xe9ardaoin","D\xe9 hAoine","D\xe9 Sathairn"],weekdaysShort:["Domh","Luan","M\xe1irt","C\xe9ad","D\xe9ar","Aoine","Sath"],weekdaysMin:["Do","Lu","M\xe1","C\xe9","D\xe9","A","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Inniu ag] LT",nextDay:"[Am\xe1rach ag] LT",nextWeek:"dddd [ag] LT",lastDay:"[Inn\xe9 ag] LT",lastWeek:"dddd [seo caite] [ag] LT",sameElse:"L"},relativeTime:{future:"i %s",past:"%s \xf3 shin",s:"c\xfapla soicind",ss:"%d soicind",m:"n\xf3im\xe9ad",mm:"%d n\xf3im\xe9ad",h:"uair an chloig",hh:"%d uair an chloig",d:"l\xe1",dd:"%d l\xe1",M:"m\xed",MM:"%d m\xedonna",y:"bliain",yy:"%d bliain"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(Me){return Me+(1===Me?"d":Me%10==2?"na":"mh")},week:{dow:1,doy:4}})}(Ae(6738))},4127:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("gd",{months:["Am Faoilleach","An Gearran","Am M\xe0rt","An Giblean","An C\xe8itean","An t-\xd2gmhios","An t-Iuchar","An L\xf9nastal","An t-Sultain","An D\xe0mhair","An t-Samhain","An D\xf9bhlachd"],monthsShort:["Faoi","Gear","M\xe0rt","Gibl","C\xe8it","\xd2gmh","Iuch","L\xf9n","Sult","D\xe0mh","Samh","D\xf9bh"],monthsParseExact:!0,weekdays:["Did\xf2mhnaich","Diluain","Dim\xe0irt","Diciadain","Diardaoin","Dihaoine","Disathairne"],weekdaysShort:["Did","Dil","Dim","Dic","Dia","Dih","Dis"],weekdaysMin:["D\xf2","Lu","M\xe0","Ci","Ar","Ha","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-m\xe0ireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-d\xe8 aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"m\xecos",MM:"%d m\xecosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(Me){return Me+(1===Me?"d":Me%10==2?"na":"mh")},week:{dow:1,doy:4}})}(Ae(6738))},2124:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xu\xf1o_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xu\xf1._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_m\xe9rcores_xoves_venres_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._m\xe9r._xov._ven._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_m\xe9_xo_ve_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"\xe1s":"\xe1")+"] LT"},nextDay:function(){return"[ma\xf1\xe1 "+(1!==this.hours()?"\xe1s":"\xe1")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"\xe1s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"\xe1":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"\xe1s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(ee){return 0===ee.indexOf("un")?"n"+ee:"en "+ee},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(Ae(6738))},6444:function(Ut,kt,Ae){!function(o){"use strict";function $(x,de,Ce,Ee){var Me={s:["\u0925\u094b\u0921\u092f\u093e \u0938\u0945\u0915\u0902\u0921\u093e\u0902\u0928\u0940","\u0925\u094b\u0921\u0947 \u0938\u0945\u0915\u0902\u0921"],ss:[x+" \u0938\u0945\u0915\u0902\u0921\u093e\u0902\u0928\u0940",x+" \u0938\u0945\u0915\u0902\u0921"],m:["\u090f\u0915\u093e \u092e\u093f\u0923\u091f\u093e\u0928","\u090f\u0915 \u092e\u093f\u0928\u0942\u091f"],mm:[x+" \u092e\u093f\u0923\u091f\u093e\u0902\u0928\u0940",x+" \u092e\u093f\u0923\u091f\u093e\u0902"],h:["\u090f\u0915\u093e \u0935\u0930\u093e\u0928","\u090f\u0915 \u0935\u0930"],hh:[x+" \u0935\u0930\u093e\u0902\u0928\u0940",x+" \u0935\u0930\u093e\u0902"],d:["\u090f\u0915\u093e \u0926\u093f\u0938\u093e\u0928","\u090f\u0915 \u0926\u0940\u0938"],dd:[x+" \u0926\u093f\u0938\u093e\u0902\u0928\u0940",x+" \u0926\u0940\u0938"],M:["\u090f\u0915\u093e \u092e\u094d\u0939\u092f\u0928\u094d\u092f\u093e\u0928","\u090f\u0915 \u092e\u094d\u0939\u092f\u0928\u094b"],MM:[x+" \u092e\u094d\u0939\u092f\u0928\u094d\u092f\u093e\u0928\u0940",x+" \u092e\u094d\u0939\u092f\u0928\u0947"],y:["\u090f\u0915\u093e \u0935\u0930\u094d\u0938\u093e\u0928","\u090f\u0915 \u0935\u0930\u094d\u0938"],yy:[x+" \u0935\u0930\u094d\u0938\u093e\u0902\u0928\u0940",x+" \u0935\u0930\u094d\u0938\u093e\u0902"]};return Ee?Me[Ce][0]:Me[Ce][1]}o.defineLocale("gom-deva",{months:{standalone:"\u091c\u093e\u0928\u0947\u0935\u093e\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u093e\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u090f\u092a\u094d\u0930\u0940\u0932_\u092e\u0947_\u091c\u0942\u0928_\u091c\u0941\u0932\u092f_\u0911\u0917\u0938\u094d\u091f_\u0938\u092a\u094d\u091f\u0947\u0902\u092c\u0930_\u0911\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u0935\u094d\u0939\u0947\u0902\u092c\u0930_\u0921\u093f\u0938\u0947\u0902\u092c\u0930".split("_"),format:"\u091c\u093e\u0928\u0947\u0935\u093e\u0930\u0940\u091a\u094d\u092f\u093e_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u093e\u0930\u0940\u091a\u094d\u092f\u093e_\u092e\u093e\u0930\u094d\u091a\u093e\u091a\u094d\u092f\u093e_\u090f\u092a\u094d\u0930\u0940\u0932\u093e\u091a\u094d\u092f\u093e_\u092e\u0947\u092f\u093e\u091a\u094d\u092f\u093e_\u091c\u0942\u0928\u093e\u091a\u094d\u092f\u093e_\u091c\u0941\u0932\u092f\u093e\u091a\u094d\u092f\u093e_\u0911\u0917\u0938\u094d\u091f\u093e\u091a\u094d\u092f\u093e_\u0938\u092a\u094d\u091f\u0947\u0902\u092c\u0930\u093e\u091a\u094d\u092f\u093e_\u0911\u0915\u094d\u091f\u094b\u092c\u0930\u093e\u091a\u094d\u092f\u093e_\u0928\u094b\u0935\u094d\u0939\u0947\u0902\u092c\u0930\u093e\u091a\u094d\u092f\u093e_\u0921\u093f\u0938\u0947\u0902\u092c\u0930\u093e\u091a\u094d\u092f\u093e".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"\u091c\u093e\u0928\u0947._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a_\u090f\u092a\u094d\u0930\u0940._\u092e\u0947_\u091c\u0942\u0928_\u091c\u0941\u0932._\u0911\u0917._\u0938\u092a\u094d\u091f\u0947\u0902._\u0911\u0915\u094d\u091f\u094b._\u0928\u094b\u0935\u094d\u0939\u0947\u0902._\u0921\u093f\u0938\u0947\u0902.".split("_"),monthsParseExact:!0,weekdays:"\u0906\u092f\u0924\u093e\u0930_\u0938\u094b\u092e\u093e\u0930_\u092e\u0902\u0917\u0933\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u092c\u093f\u0930\u0947\u0938\u094d\u0924\u093e\u0930_\u0938\u0941\u0915\u094d\u0930\u093e\u0930_\u0936\u0947\u0928\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0906\u092f\u0924._\u0938\u094b\u092e._\u092e\u0902\u0917\u0933._\u092c\u0941\u0927._\u092c\u094d\u0930\u0947\u0938\u094d\u0924._\u0938\u0941\u0915\u094d\u0930._\u0936\u0947\u0928.".split("_"),weekdaysMin:"\u0906_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u092c\u094d\u0930\u0947_\u0938\u0941_\u0936\u0947".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]",LTS:"A h:mm:ss [\u0935\u093e\u091c\u0924\u093e\u0902]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]",llll:"ddd, D MMM YYYY, A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]"},calendar:{sameDay:"[\u0906\u092f\u091c] LT",nextDay:"[\u092b\u093e\u0932\u094d\u092f\u093e\u0902] LT",nextWeek:"[\u092b\u0941\u0921\u0932\u094b] dddd[,] LT",lastDay:"[\u0915\u093e\u0932] LT",lastWeek:"[\u092b\u093e\u091f\u0932\u094b] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s \u0906\u0926\u0940\u0902",s:$,ss:$,m:$,mm:$,h:$,hh:$,d:$,dd:$,M:$,MM:$,y:$,yy:$},dayOfMonthOrdinalParse:/\d{1,2}(\u0935\u0947\u0930)/,ordinal:function(x,de){switch(de){case"D":return x+"\u0935\u0947\u0930";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return x}},week:{dow:0,doy:3},meridiemParse:/\u0930\u093e\u0924\u0940|\u0938\u0915\u093e\u0933\u0940\u0902|\u0926\u0928\u092a\u093e\u0930\u093e\u0902|\u0938\u093e\u0902\u091c\u0947/,meridiemHour:function(x,de){return 12===x&&(x=0),"\u0930\u093e\u0924\u0940"===de?x<4?x:x+12:"\u0938\u0915\u093e\u0933\u0940\u0902"===de?x:"\u0926\u0928\u092a\u093e\u0930\u093e\u0902"===de?x>12?x:x+12:"\u0938\u093e\u0902\u091c\u0947"===de?x+12:void 0},meridiem:function(x,de,Ce){return x<4?"\u0930\u093e\u0924\u0940":x<12?"\u0938\u0915\u093e\u0933\u0940\u0902":x<16?"\u0926\u0928\u092a\u093e\u0930\u093e\u0902":x<20?"\u0938\u093e\u0902\u091c\u0947":"\u0930\u093e\u0924\u0940"}})}(Ae(6738))},7953:function(Ut,kt,Ae){!function(o){"use strict";function $(x,de,Ce,Ee){var Me={s:["thoddea sekondamni","thodde sekond"],ss:[x+" sekondamni",x+" sekond"],m:["eka mintan","ek minut"],mm:[x+" mintamni",x+" mintam"],h:["eka voran","ek vor"],hh:[x+" voramni",x+" voram"],d:["eka disan","ek dis"],dd:[x+" disamni",x+" dis"],M:["eka mhoinean","ek mhoino"],MM:[x+" mhoineamni",x+" mhoine"],y:["eka vorsan","ek voros"],yy:[x+" vorsamni",x+" vorsam"]};return Ee?Me[Ce][0]:Me[Ce][1]}o.defineLocale("gom-latn",{months:{standalone:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),format:"Janerachea_Febrerachea_Marsachea_Abrilachea_Maiachea_Junachea_Julaiachea_Agostachea_Setembrachea_Otubrachea_Novembrachea_Dezembrachea".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budhvar_Birestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Fuddlo] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fattlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:$,ss:$,m:$,mm:$,h:$,hh:$,d:$,dd:$,M:$,MM:$,y:$,yy:$},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(x,de){switch(de){case"D":return x+"er";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return x}},week:{dow:0,doy:3},meridiemParse:/rati|sokallim|donparam|sanje/,meridiemHour:function(x,de){return 12===x&&(x=0),"rati"===de?x<4?x:x+12:"sokallim"===de?x:"donparam"===de?x>12?x:x+12:"sanje"===de?x+12:void 0},meridiem:function(x,de,Ce){return x<4?"rati":x<12?"sokallim":x<16?"donparam":x<20?"sanje":"rati"}})}(Ae(6738))},6604:function(Ut,kt,Ae){!function(o){"use strict";var $={1:"\u0ae7",2:"\u0ae8",3:"\u0ae9",4:"\u0aea",5:"\u0aeb",6:"\u0aec",7:"\u0aed",8:"\u0aee",9:"\u0aef",0:"\u0ae6"},ee={"\u0ae7":"1","\u0ae8":"2","\u0ae9":"3","\u0aea":"4","\u0aeb":"5","\u0aec":"6","\u0aed":"7","\u0aee":"8","\u0aef":"9","\u0ae6":"0"};o.defineLocale("gu",{months:"\u0a9c\u0abe\u0aa8\u0acd\u0aaf\u0ac1\u0a86\u0ab0\u0ac0_\u0aab\u0ac7\u0aac\u0acd\u0ab0\u0ac1\u0a86\u0ab0\u0ac0_\u0aae\u0abe\u0ab0\u0acd\u0a9a_\u0a8f\u0aaa\u0acd\u0ab0\u0abf\u0ab2_\u0aae\u0ac7_\u0a9c\u0ac2\u0aa8_\u0a9c\u0ac1\u0ab2\u0abe\u0a88_\u0a91\u0a97\u0ab8\u0acd\u0a9f_\u0ab8\u0aaa\u0acd\u0a9f\u0ac7\u0aae\u0acd\u0aac\u0ab0_\u0a91\u0a95\u0acd\u0a9f\u0acd\u0aac\u0ab0_\u0aa8\u0ab5\u0ac7\u0aae\u0acd\u0aac\u0ab0_\u0aa1\u0abf\u0ab8\u0ac7\u0aae\u0acd\u0aac\u0ab0".split("_"),monthsShort:"\u0a9c\u0abe\u0aa8\u0acd\u0aaf\u0ac1._\u0aab\u0ac7\u0aac\u0acd\u0ab0\u0ac1._\u0aae\u0abe\u0ab0\u0acd\u0a9a_\u0a8f\u0aaa\u0acd\u0ab0\u0abf._\u0aae\u0ac7_\u0a9c\u0ac2\u0aa8_\u0a9c\u0ac1\u0ab2\u0abe._\u0a91\u0a97._\u0ab8\u0aaa\u0acd\u0a9f\u0ac7._\u0a91\u0a95\u0acd\u0a9f\u0acd._\u0aa8\u0ab5\u0ac7._\u0aa1\u0abf\u0ab8\u0ac7.".split("_"),monthsParseExact:!0,weekdays:"\u0ab0\u0ab5\u0abf\u0ab5\u0abe\u0ab0_\u0ab8\u0acb\u0aae\u0ab5\u0abe\u0ab0_\u0aae\u0a82\u0a97\u0ab3\u0ab5\u0abe\u0ab0_\u0aac\u0ac1\u0aa7\u0acd\u0ab5\u0abe\u0ab0_\u0a97\u0ac1\u0ab0\u0ac1\u0ab5\u0abe\u0ab0_\u0ab6\u0ac1\u0a95\u0acd\u0ab0\u0ab5\u0abe\u0ab0_\u0ab6\u0aa8\u0abf\u0ab5\u0abe\u0ab0".split("_"),weekdaysShort:"\u0ab0\u0ab5\u0abf_\u0ab8\u0acb\u0aae_\u0aae\u0a82\u0a97\u0ab3_\u0aac\u0ac1\u0aa7\u0acd_\u0a97\u0ac1\u0ab0\u0ac1_\u0ab6\u0ac1\u0a95\u0acd\u0ab0_\u0ab6\u0aa8\u0abf".split("_"),weekdaysMin:"\u0ab0_\u0ab8\u0acb_\u0aae\u0a82_\u0aac\u0ac1_\u0a97\u0ac1_\u0ab6\u0ac1_\u0ab6".split("_"),longDateFormat:{LT:"A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",LTS:"A h:mm:ss \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",LLLL:"dddd, D MMMM YYYY, A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7"},calendar:{sameDay:"[\u0a86\u0a9c] LT",nextDay:"[\u0a95\u0abe\u0ab2\u0ac7] LT",nextWeek:"dddd, LT",lastDay:"[\u0a97\u0a87\u0a95\u0abe\u0ab2\u0ac7] LT",lastWeek:"[\u0aaa\u0abe\u0a9b\u0ab2\u0abe] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0aae\u0abe",past:"%s \u0aaa\u0ab9\u0ac7\u0ab2\u0abe",s:"\u0a85\u0aae\u0ac1\u0a95 \u0aaa\u0ab3\u0acb",ss:"%d \u0ab8\u0ac7\u0a95\u0a82\u0aa1",m:"\u0a8f\u0a95 \u0aae\u0abf\u0aa8\u0abf\u0a9f",mm:"%d \u0aae\u0abf\u0aa8\u0abf\u0a9f",h:"\u0a8f\u0a95 \u0a95\u0ab2\u0abe\u0a95",hh:"%d \u0a95\u0ab2\u0abe\u0a95",d:"\u0a8f\u0a95 \u0aa6\u0abf\u0ab5\u0ab8",dd:"%d \u0aa6\u0abf\u0ab5\u0ab8",M:"\u0a8f\u0a95 \u0aae\u0ab9\u0abf\u0aa8\u0acb",MM:"%d \u0aae\u0ab9\u0abf\u0aa8\u0acb",y:"\u0a8f\u0a95 \u0ab5\u0ab0\u0acd\u0ab7",yy:"%d \u0ab5\u0ab0\u0acd\u0ab7"},preparse:function(de){return de.replace(/[\u0ae7\u0ae8\u0ae9\u0aea\u0aeb\u0aec\u0aed\u0aee\u0aef\u0ae6]/g,function(Ce){return ee[Ce]})},postformat:function(de){return de.replace(/\d/g,function(Ce){return $[Ce]})},meridiemParse:/\u0ab0\u0abe\u0aa4|\u0aac\u0aaa\u0acb\u0ab0|\u0ab8\u0ab5\u0abe\u0ab0|\u0ab8\u0abe\u0a82\u0a9c/,meridiemHour:function(de,Ce){return 12===de&&(de=0),"\u0ab0\u0abe\u0aa4"===Ce?de<4?de:de+12:"\u0ab8\u0ab5\u0abe\u0ab0"===Ce?de:"\u0aac\u0aaa\u0acb\u0ab0"===Ce?de>=10?de:de+12:"\u0ab8\u0abe\u0a82\u0a9c"===Ce?de+12:void 0},meridiem:function(de,Ce,Ee){return de<4?"\u0ab0\u0abe\u0aa4":de<10?"\u0ab8\u0ab5\u0abe\u0ab0":de<17?"\u0aac\u0aaa\u0acb\u0ab0":de<20?"\u0ab8\u0abe\u0a82\u0a9c":"\u0ab0\u0abe\u0aa4"},week:{dow:0,doy:6}})}(Ae(6738))},1222:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("he",{months:"\u05d9\u05e0\u05d5\u05d0\u05e8_\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05d9\u05dc_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8_\u05e1\u05e4\u05d8\u05de\u05d1\u05e8_\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8_\u05e0\u05d5\u05d1\u05de\u05d1\u05e8_\u05d3\u05e6\u05de\u05d1\u05e8".split("_"),monthsShort:"\u05d9\u05e0\u05d5\u05f3_\u05e4\u05d1\u05e8\u05f3_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05f3_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05f3_\u05e1\u05e4\u05d8\u05f3_\u05d0\u05d5\u05e7\u05f3_\u05e0\u05d5\u05d1\u05f3_\u05d3\u05e6\u05de\u05f3".split("_"),weekdays:"\u05e8\u05d0\u05e9\u05d5\u05df_\u05e9\u05e0\u05d9_\u05e9\u05dc\u05d9\u05e9\u05d9_\u05e8\u05d1\u05d9\u05e2\u05d9_\u05d7\u05de\u05d9\u05e9\u05d9_\u05e9\u05d9\u05e9\u05d9_\u05e9\u05d1\u05ea".split("_"),weekdaysShort:"\u05d0\u05f3_\u05d1\u05f3_\u05d2\u05f3_\u05d3\u05f3_\u05d4\u05f3_\u05d5\u05f3_\u05e9\u05f3".split("_"),weekdaysMin:"\u05d0_\u05d1_\u05d2_\u05d3_\u05d4_\u05d5_\u05e9".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [\u05d1]MMMM YYYY",LLL:"D [\u05d1]MMMM YYYY HH:mm",LLLL:"dddd, D [\u05d1]MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[\u05d4\u05d9\u05d5\u05dd \u05d1\u05be]LT",nextDay:"[\u05de\u05d7\u05e8 \u05d1\u05be]LT",nextWeek:"dddd [\u05d1\u05e9\u05e2\u05d4] LT",lastDay:"[\u05d0\u05ea\u05de\u05d5\u05dc \u05d1\u05be]LT",lastWeek:"[\u05d1\u05d9\u05d5\u05dd] dddd [\u05d4\u05d0\u05d7\u05e8\u05d5\u05df \u05d1\u05e9\u05e2\u05d4] LT",sameElse:"L"},relativeTime:{future:"\u05d1\u05e2\u05d5\u05d3 %s",past:"\u05dc\u05e4\u05e0\u05d9 %s",s:"\u05de\u05e1\u05e4\u05e8 \u05e9\u05e0\u05d9\u05d5\u05ea",ss:"%d \u05e9\u05e0\u05d9\u05d5\u05ea",m:"\u05d3\u05e7\u05d4",mm:"%d \u05d3\u05e7\u05d5\u05ea",h:"\u05e9\u05e2\u05d4",hh:function(ee){return 2===ee?"\u05e9\u05e2\u05ea\u05d9\u05d9\u05dd":ee+" \u05e9\u05e2\u05d5\u05ea"},d:"\u05d9\u05d5\u05dd",dd:function(ee){return 2===ee?"\u05d9\u05d5\u05de\u05d9\u05d9\u05dd":ee+" \u05d9\u05de\u05d9\u05dd"},M:"\u05d7\u05d5\u05d3\u05e9",MM:function(ee){return 2===ee?"\u05d7\u05d5\u05d3\u05e9\u05d9\u05d9\u05dd":ee+" \u05d7\u05d5\u05d3\u05e9\u05d9\u05dd"},y:"\u05e9\u05e0\u05d4",yy:function(ee){return 2===ee?"\u05e9\u05e0\u05ea\u05d9\u05d9\u05dd":ee%10==0&&10!==ee?ee+" \u05e9\u05e0\u05d4":ee+" \u05e9\u05e0\u05d9\u05dd"}},meridiemParse:/\u05d0\u05d7\u05d4"\u05e6|\u05dc\u05e4\u05e0\u05d4"\u05e6|\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05dc\u05e4\u05e0\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05dc\u05e4\u05e0\u05d5\u05ea \u05d1\u05d5\u05e7\u05e8|\u05d1\u05d1\u05d5\u05e7\u05e8|\u05d1\u05e2\u05e8\u05d1/i,isPM:function(ee){return/^(\u05d0\u05d7\u05d4"\u05e6|\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05d1\u05e2\u05e8\u05d1)$/.test(ee)},meridiem:function(ee,x,de){return ee<5?"\u05dc\u05e4\u05e0\u05d5\u05ea \u05d1\u05d5\u05e7\u05e8":ee<10?"\u05d1\u05d1\u05d5\u05e7\u05e8":ee<12?de?'\u05dc\u05e4\u05e0\u05d4"\u05e6':"\u05dc\u05e4\u05e0\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd":ee<18?de?'\u05d0\u05d7\u05d4"\u05e6':"\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd":"\u05d1\u05e2\u05e8\u05d1"}})}(Ae(6738))},4235:function(Ut,kt,Ae){!function(o){"use strict";var $={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},ee={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"},x=[/^\u091c\u0928/i,/^\u092b\u093c\u0930|\u092b\u0930/i,/^\u092e\u093e\u0930\u094d\u091a/i,/^\u0905\u092a\u094d\u0930\u0948/i,/^\u092e\u0908/i,/^\u091c\u0942\u0928/i,/^\u091c\u0941\u0932/i,/^\u0905\u0917/i,/^\u0938\u093f\u0924\u0902|\u0938\u093f\u0924/i,/^\u0905\u0915\u094d\u091f\u0942/i,/^\u0928\u0935|\u0928\u0935\u0902/i,/^\u0926\u093f\u0938\u0902|\u0926\u093f\u0938/i];o.defineLocale("hi",{months:{format:"\u091c\u0928\u0935\u0930\u0940_\u092b\u093c\u0930\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948\u0932_\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0938\u094d\u0924_\u0938\u093f\u0924\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u0942\u092c\u0930_\u0928\u0935\u092e\u094d\u092c\u0930_\u0926\u093f\u0938\u092e\u094d\u092c\u0930".split("_"),standalone:"\u091c\u0928\u0935\u0930\u0940_\u092b\u0930\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948\u0932_\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0938\u094d\u0924_\u0938\u093f\u0924\u0902\u092c\u0930_\u0905\u0915\u094d\u091f\u0942\u092c\u0930_\u0928\u0935\u0902\u092c\u0930_\u0926\u093f\u0938\u0902\u092c\u0930".split("_")},monthsShort:"\u091c\u0928._\u092b\u093c\u0930._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948._\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932._\u0905\u0917._\u0938\u093f\u0924._\u0905\u0915\u094d\u091f\u0942._\u0928\u0935._\u0926\u093f\u0938.".split("_"),weekdays:"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0932\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0932_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),weekdaysMin:"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),longDateFormat:{LT:"A h:mm \u092c\u091c\u0947",LTS:"A h:mm:ss \u092c\u091c\u0947",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u092c\u091c\u0947",LLLL:"dddd, D MMMM YYYY, A h:mm \u092c\u091c\u0947"},monthsParse:x,longMonthsParse:x,shortMonthsParse:[/^\u091c\u0928/i,/^\u092b\u093c\u0930/i,/^\u092e\u093e\u0930\u094d\u091a/i,/^\u0905\u092a\u094d\u0930\u0948/i,/^\u092e\u0908/i,/^\u091c\u0942\u0928/i,/^\u091c\u0941\u0932/i,/^\u0905\u0917/i,/^\u0938\u093f\u0924/i,/^\u0905\u0915\u094d\u091f\u0942/i,/^\u0928\u0935/i,/^\u0926\u093f\u0938/i],monthsRegex:/^(\u091c\u0928\u0935\u0930\u0940|\u091c\u0928\.?|\u092b\u093c\u0930\u0935\u0930\u0940|\u092b\u0930\u0935\u0930\u0940|\u092b\u093c\u0930\.?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\u0932|\u0905\u092a\u094d\u0930\u0948\.?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\u093e\u0908|\u091c\u0941\u0932\.?|\u0905\u0917\u0938\u094d\u0924|\u0905\u0917\.?|\u0938\u093f\u0924\u092e\u094d\u092c\u0930|\u0938\u093f\u0924\u0902\u092c\u0930|\u0938\u093f\u0924\.?|\u0905\u0915\u094d\u091f\u0942\u092c\u0930|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\u092e\u094d\u092c\u0930|\u0928\u0935\u0902\u092c\u0930|\u0928\u0935\.?|\u0926\u093f\u0938\u092e\u094d\u092c\u0930|\u0926\u093f\u0938\u0902\u092c\u0930|\u0926\u093f\u0938\.?)/i,monthsShortRegex:/^(\u091c\u0928\u0935\u0930\u0940|\u091c\u0928\.?|\u092b\u093c\u0930\u0935\u0930\u0940|\u092b\u0930\u0935\u0930\u0940|\u092b\u093c\u0930\.?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\u0932|\u0905\u092a\u094d\u0930\u0948\.?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\u093e\u0908|\u091c\u0941\u0932\.?|\u0905\u0917\u0938\u094d\u0924|\u0905\u0917\.?|\u0938\u093f\u0924\u092e\u094d\u092c\u0930|\u0938\u093f\u0924\u0902\u092c\u0930|\u0938\u093f\u0924\.?|\u0905\u0915\u094d\u091f\u0942\u092c\u0930|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\u092e\u094d\u092c\u0930|\u0928\u0935\u0902\u092c\u0930|\u0928\u0935\.?|\u0926\u093f\u0938\u092e\u094d\u092c\u0930|\u0926\u093f\u0938\u0902\u092c\u0930|\u0926\u093f\u0938\.?)/i,monthsStrictRegex:/^(\u091c\u0928\u0935\u0930\u0940?|\u092b\u093c\u0930\u0935\u0930\u0940|\u092b\u0930\u0935\u0930\u0940?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\u0932?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\u093e\u0908?|\u0905\u0917\u0938\u094d\u0924?|\u0938\u093f\u0924\u092e\u094d\u092c\u0930|\u0938\u093f\u0924\u0902\u092c\u0930|\u0938\u093f\u0924?\.?|\u0905\u0915\u094d\u091f\u0942\u092c\u0930|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\u092e\u094d\u092c\u0930|\u0928\u0935\u0902\u092c\u0930?|\u0926\u093f\u0938\u092e\u094d\u092c\u0930|\u0926\u093f\u0938\u0902\u092c\u0930?)/i,monthsShortStrictRegex:/^(\u091c\u0928\.?|\u092b\u093c\u0930\.?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\.?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\.?|\u0905\u0917\.?|\u0938\u093f\u0924\.?|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\.?|\u0926\u093f\u0938\.?)/i,calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u0915\u0932] LT",nextWeek:"dddd, LT",lastDay:"[\u0915\u0932] LT",lastWeek:"[\u092a\u093f\u091b\u0932\u0947] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u092e\u0947\u0902",past:"%s \u092a\u0939\u0932\u0947",s:"\u0915\u0941\u091b \u0939\u0940 \u0915\u094d\u0937\u0923",ss:"%d \u0938\u0947\u0915\u0902\u0921",m:"\u090f\u0915 \u092e\u093f\u0928\u091f",mm:"%d \u092e\u093f\u0928\u091f",h:"\u090f\u0915 \u0918\u0902\u091f\u093e",hh:"%d \u0918\u0902\u091f\u0947",d:"\u090f\u0915 \u0926\u093f\u0928",dd:"%d \u0926\u093f\u0928",M:"\u090f\u0915 \u092e\u0939\u0940\u0928\u0947",MM:"%d \u092e\u0939\u0940\u0928\u0947",y:"\u090f\u0915 \u0935\u0930\u094d\u0937",yy:"%d \u0935\u0930\u094d\u0937"},preparse:function(Ee){return Ee.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(Me){return ee[Me]})},postformat:function(Ee){return Ee.replace(/\d/g,function(Me){return $[Me]})},meridiemParse:/\u0930\u093e\u0924|\u0938\u0941\u092c\u0939|\u0926\u094b\u092a\u0939\u0930|\u0936\u093e\u092e/,meridiemHour:function(Ee,Me){return 12===Ee&&(Ee=0),"\u0930\u093e\u0924"===Me?Ee<4?Ee:Ee+12:"\u0938\u0941\u092c\u0939"===Me?Ee:"\u0926\u094b\u092a\u0939\u0930"===Me?Ee>=10?Ee:Ee+12:"\u0936\u093e\u092e"===Me?Ee+12:void 0},meridiem:function(Ee,Me,Be){return Ee<4?"\u0930\u093e\u0924":Ee<10?"\u0938\u0941\u092c\u0939":Ee<17?"\u0926\u094b\u092a\u0939\u0930":Ee<20?"\u0936\u093e\u092e":"\u0930\u093e\u0924"},week:{dow:0,doy:6}})}(Ae(6738))},622:function(Ut,kt,Ae){!function(o){"use strict";function $(x,de,Ce){var Ee=x+" ";switch(Ce){case"ss":return Ee+(1===x?"sekunda":2===x||3===x||4===x?"sekunde":"sekundi");case"m":return de?"jedna minuta":"jedne minute";case"mm":return Ee+(1===x?"minuta":2===x||3===x||4===x?"minute":"minuta");case"h":return de?"jedan sat":"jednog sata";case"hh":return Ee+(1===x?"sat":2===x||3===x||4===x?"sata":"sati");case"dd":return Ee+(1===x?"dan":"dana");case"MM":return Ee+(1===x?"mjesec":2===x||3===x||4===x?"mjeseca":"mjeseci");case"yy":return Ee+(1===x?"godina":2===x||3===x||4===x?"godine":"godina")}}o.defineLocale("hr",{months:{format:"sije\u010dnja_velja\u010de_o\u017eujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sije\u010danj_velja\u010da_o\u017eujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._o\u017eu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"Do MMMM YYYY",LLL:"Do MMMM YYYY H:mm",LLLL:"dddd, Do MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010der u] LT",lastWeek:function(){switch(this.day()){case 0:return"[pro\u0161lu] [nedjelju] [u] LT";case 3:return"[pro\u0161lu] [srijedu] [u] LT";case 6:return"[pro\u0161le] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[pro\u0161li] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:$,m:$,mm:$,h:$,hh:$,d:"dan",dd:$,M:"mjesec",MM:$,y:"godinu",yy:$},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(Ae(6738))},7735:function(Ut,kt,Ae){!function(o){"use strict";var $="vas\xe1rnap h\xe9tf\u0151n kedden szerd\xe1n cs\xfct\xf6rt\xf6k\xf6n p\xe9nteken szombaton".split(" ");function ee(Ce,Ee,Me,Be){var Ge=Ce;switch(Me){case"s":return Be||Ee?"n\xe9h\xe1ny m\xe1sodperc":"n\xe9h\xe1ny m\xe1sodperce";case"ss":return Ge+(Be||Ee)?" m\xe1sodperc":" m\xe1sodperce";case"m":return"egy"+(Be||Ee?" perc":" perce");case"mm":return Ge+(Be||Ee?" perc":" perce");case"h":return"egy"+(Be||Ee?" \xf3ra":" \xf3r\xe1ja");case"hh":return Ge+(Be||Ee?" \xf3ra":" \xf3r\xe1ja");case"d":return"egy"+(Be||Ee?" nap":" napja");case"dd":return Ge+(Be||Ee?" nap":" napja");case"M":return"egy"+(Be||Ee?" h\xf3nap":" h\xf3napja");case"MM":return Ge+(Be||Ee?" h\xf3nap":" h\xf3napja");case"y":return"egy"+(Be||Ee?" \xe9v":" \xe9ve");case"yy":return Ge+(Be||Ee?" \xe9v":" \xe9ve")}return""}function x(Ce){return(Ce?"":"[m\xfalt] ")+"["+$[this.day()]+"] LT[-kor]"}o.defineLocale("hu",{months:"janu\xe1r_febru\xe1r_m\xe1rcius_\xe1prilis_m\xe1jus_j\xfanius_j\xfalius_augusztus_szeptember_okt\xf3ber_november_december".split("_"),monthsShort:"jan._feb._m\xe1rc._\xe1pr._m\xe1j._j\xfan._j\xfal._aug._szept._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"vas\xe1rnap_h\xe9tf\u0151_kedd_szerda_cs\xfct\xf6rt\xf6k_p\xe9ntek_szombat".split("_"),weekdaysShort:"vas_h\xe9t_kedd_sze_cs\xfct_p\xe9n_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(Ce){return"u"===Ce.charAt(1).toLowerCase()},meridiem:function(Ce,Ee,Me){return Ce<12?!0===Me?"de":"DE":!0===Me?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return x.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return x.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s m\xfalva",past:"%s",s:ee,ss:ee,m:ee,mm:ee,h:ee,hh:ee,d:ee,dd:ee,M:ee,MM:ee,y:ee,yy:ee},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(Ae(6738))},402:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("hy-am",{months:{format:"\u0570\u0578\u0582\u0576\u057e\u0561\u0580\u056b_\u0583\u0565\u057f\u0580\u057e\u0561\u0580\u056b_\u0574\u0561\u0580\u057f\u056b_\u0561\u057a\u0580\u056b\u056c\u056b_\u0574\u0561\u0575\u056b\u057d\u056b_\u0570\u0578\u0582\u0576\u056b\u057d\u056b_\u0570\u0578\u0582\u056c\u056b\u057d\u056b_\u0585\u0563\u0578\u057d\u057f\u0578\u057d\u056b_\u057d\u0565\u057a\u057f\u0565\u0574\u0562\u0565\u0580\u056b_\u0570\u0578\u056f\u057f\u0565\u0574\u0562\u0565\u0580\u056b_\u0576\u0578\u0575\u0565\u0574\u0562\u0565\u0580\u056b_\u0564\u0565\u056f\u057f\u0565\u0574\u0562\u0565\u0580\u056b".split("_"),standalone:"\u0570\u0578\u0582\u0576\u057e\u0561\u0580_\u0583\u0565\u057f\u0580\u057e\u0561\u0580_\u0574\u0561\u0580\u057f_\u0561\u057a\u0580\u056b\u056c_\u0574\u0561\u0575\u056b\u057d_\u0570\u0578\u0582\u0576\u056b\u057d_\u0570\u0578\u0582\u056c\u056b\u057d_\u0585\u0563\u0578\u057d\u057f\u0578\u057d_\u057d\u0565\u057a\u057f\u0565\u0574\u0562\u0565\u0580_\u0570\u0578\u056f\u057f\u0565\u0574\u0562\u0565\u0580_\u0576\u0578\u0575\u0565\u0574\u0562\u0565\u0580_\u0564\u0565\u056f\u057f\u0565\u0574\u0562\u0565\u0580".split("_")},monthsShort:"\u0570\u0576\u057e_\u0583\u057f\u0580_\u0574\u0580\u057f_\u0561\u057a\u0580_\u0574\u0575\u057d_\u0570\u0576\u057d_\u0570\u056c\u057d_\u0585\u0563\u057d_\u057d\u057a\u057f_\u0570\u056f\u057f_\u0576\u0574\u0562_\u0564\u056f\u057f".split("_"),weekdays:"\u056f\u056b\u0580\u0561\u056f\u056b_\u0565\u0580\u056f\u0578\u0582\u0577\u0561\u0562\u0569\u056b_\u0565\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056b_\u0579\u0578\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056b_\u0570\u056b\u0576\u0563\u0577\u0561\u0562\u0569\u056b_\u0578\u0582\u0580\u0562\u0561\u0569_\u0577\u0561\u0562\u0561\u0569".split("_"),weekdaysShort:"\u056f\u0580\u056f_\u0565\u0580\u056f_\u0565\u0580\u0584_\u0579\u0580\u0584_\u0570\u0576\u0563_\u0578\u0582\u0580\u0562_\u0577\u0562\u0569".split("_"),weekdaysMin:"\u056f\u0580\u056f_\u0565\u0580\u056f_\u0565\u0580\u0584_\u0579\u0580\u0584_\u0570\u0576\u0563_\u0578\u0582\u0580\u0562_\u0577\u0562\u0569".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0569.",LLL:"D MMMM YYYY \u0569., HH:mm",LLLL:"dddd, D MMMM YYYY \u0569., HH:mm"},calendar:{sameDay:"[\u0561\u0575\u057d\u0585\u0580] LT",nextDay:"[\u057e\u0561\u0572\u0568] LT",lastDay:"[\u0565\u0580\u0565\u056f] LT",nextWeek:function(){return"dddd [\u0585\u0580\u0568 \u056a\u0561\u0574\u0568] LT"},lastWeek:function(){return"[\u0561\u0576\u0581\u0561\u056e] dddd [\u0585\u0580\u0568 \u056a\u0561\u0574\u0568] LT"},sameElse:"L"},relativeTime:{future:"%s \u0570\u0565\u057f\u0578",past:"%s \u0561\u057c\u0561\u057b",s:"\u0574\u056b \u0584\u0561\u0576\u056b \u057e\u0561\u0575\u0580\u056f\u0575\u0561\u0576",ss:"%d \u057e\u0561\u0575\u0580\u056f\u0575\u0561\u0576",m:"\u0580\u0578\u057a\u0565",mm:"%d \u0580\u0578\u057a\u0565",h:"\u056a\u0561\u0574",hh:"%d \u056a\u0561\u0574",d:"\u0585\u0580",dd:"%d \u0585\u0580",M:"\u0561\u0574\u056b\u057d",MM:"%d \u0561\u0574\u056b\u057d",y:"\u057f\u0561\u0580\u056b",yy:"%d \u057f\u0561\u0580\u056b"},meridiemParse:/\u0563\u056b\u0577\u0565\u0580\u057e\u0561|\u0561\u057c\u0561\u057e\u0578\u057f\u057e\u0561|\u0581\u0565\u0580\u0565\u056f\u057e\u0561|\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576/,isPM:function(ee){return/^(\u0581\u0565\u0580\u0565\u056f\u057e\u0561|\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576)$/.test(ee)},meridiem:function(ee){return ee<4?"\u0563\u056b\u0577\u0565\u0580\u057e\u0561":ee<12?"\u0561\u057c\u0561\u057e\u0578\u057f\u057e\u0561":ee<17?"\u0581\u0565\u0580\u0565\u056f\u057e\u0561":"\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576"},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(\u056b\u0576|\u0580\u0564)/,ordinal:function(ee,x){switch(x){case"DDD":case"w":case"W":case"DDDo":return 1===ee?ee+"-\u056b\u0576":ee+"-\u0580\u0564";default:return ee}},week:{dow:1,doy:7}})}(Ae(6738))},9187:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(ee,x){return 12===ee&&(ee=0),"pagi"===x?ee:"siang"===x?ee>=11?ee:ee+12:"sore"===x||"malam"===x?ee+12:void 0},meridiem:function(ee,x,de){return ee<11?"pagi":ee<15?"siang":ee<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:0,doy:6}})}(Ae(6738))},536:function(Ut,kt,Ae){!function(o){"use strict";function $(de){return de%100==11||de%10!=1}function ee(de,Ce,Ee,Me){var Be=de+" ";switch(Ee){case"s":return Ce||Me?"nokkrar sek\xfandur":"nokkrum sek\xfandum";case"ss":return $(de)?Be+(Ce||Me?"sek\xfandur":"sek\xfandum"):Be+"sek\xfanda";case"m":return Ce?"m\xedn\xfata":"m\xedn\xfatu";case"mm":return $(de)?Be+(Ce||Me?"m\xedn\xfatur":"m\xedn\xfatum"):Ce?Be+"m\xedn\xfata":Be+"m\xedn\xfatu";case"hh":return $(de)?Be+(Ce||Me?"klukkustundir":"klukkustundum"):Be+"klukkustund";case"d":return Ce?"dagur":Me?"dag":"degi";case"dd":return $(de)?Ce?Be+"dagar":Be+(Me?"daga":"d\xf6gum"):Ce?Be+"dagur":Be+(Me?"dag":"degi");case"M":return Ce?"m\xe1nu\xf0ur":Me?"m\xe1nu\xf0":"m\xe1nu\xf0i";case"MM":return $(de)?Ce?Be+"m\xe1nu\xf0ir":Be+(Me?"m\xe1nu\xf0i":"m\xe1nu\xf0um"):Ce?Be+"m\xe1nu\xf0ur":Be+(Me?"m\xe1nu\xf0":"m\xe1nu\xf0i");case"y":return Ce||Me?"\xe1r":"\xe1ri";case"yy":return $(de)?Be+(Ce||Me?"\xe1r":"\xe1rum"):Be+(Ce||Me?"\xe1r":"\xe1ri")}}o.defineLocale("is",{months:"jan\xfaar_febr\xfaar_mars_apr\xedl_ma\xed_j\xfan\xed_j\xfal\xed_\xe1g\xfast_september_okt\xf3ber_n\xf3vember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma\xed_j\xfan_j\xfal_\xe1g\xfa_sep_okt_n\xf3v_des".split("_"),weekdays:"sunnudagur_m\xe1nudagur_\xferi\xf0judagur_mi\xf0vikudagur_fimmtudagur_f\xf6studagur_laugardagur".split("_"),weekdaysShort:"sun_m\xe1n_\xferi_mi\xf0_fim_f\xf6s_lau".split("_"),weekdaysMin:"Su_M\xe1_\xder_Mi_Fi_F\xf6_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[\xed dag kl.] LT",nextDay:"[\xe1 morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[\xed g\xe6r kl.] LT",lastWeek:"[s\xed\xf0asta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s s\xed\xf0an",s:ee,ss:ee,m:ee,mm:ee,h:"klukkustund",hh:ee,d:ee,dd:ee,M:ee,MM:ee,y:ee,yy:ee},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(Ae(6738))},4667:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("it-ch",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(ee){return(/^[0-9].+$/.test(ee)?"tra":"in")+" "+ee},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(Ae(6738))},5007:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:function(){return"[Oggi a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextDay:function(){return"[Domani a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextWeek:function(){return"dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastDay:function(){return"[Ieri a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastWeek:function(){switch(this.day()){case 0:return"[La scorsa] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT";default:return"[Lo scorso] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"}},sameElse:"L"},relativeTime:{future:"tra %s",past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",w:"una settimana",ww:"%d settimane",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(Ae(6738))},2093:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("ja",{eras:[{since:"2019-05-01",offset:1,name:"\u4ee4\u548c",narrow:"\u32ff",abbr:"R"},{since:"1989-01-08",until:"2019-04-30",offset:1,name:"\u5e73\u6210",narrow:"\u337b",abbr:"H"},{since:"1926-12-25",until:"1989-01-07",offset:1,name:"\u662d\u548c",narrow:"\u337c",abbr:"S"},{since:"1912-07-30",until:"1926-12-24",offset:1,name:"\u5927\u6b63",narrow:"\u337d",abbr:"T"},{since:"1873-01-01",until:"1912-07-29",offset:6,name:"\u660e\u6cbb",narrow:"\u337e",abbr:"M"},{since:"0001-01-01",until:"1873-12-31",offset:1,name:"\u897f\u66a6",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"\u7d00\u5143\u524d",narrow:"BC",abbr:"BC"}],eraYearOrdinalRegex:/(\u5143|\d+)\u5e74/,eraYearOrdinalParse:function(ee,x){return"\u5143"===x[1]?1:parseInt(x[1]||ee,10)},months:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u65e5\u66dc\u65e5_\u6708\u66dc\u65e5_\u706b\u66dc\u65e5_\u6c34\u66dc\u65e5_\u6728\u66dc\u65e5_\u91d1\u66dc\u65e5_\u571f\u66dc\u65e5".split("_"),weekdaysShort:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),weekdaysMin:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5 dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5(ddd) HH:mm"},meridiemParse:/\u5348\u524d|\u5348\u5f8c/i,isPM:function(ee){return"\u5348\u5f8c"===ee},meridiem:function(ee,x,de){return ee<12?"\u5348\u524d":"\u5348\u5f8c"},calendar:{sameDay:"[\u4eca\u65e5] LT",nextDay:"[\u660e\u65e5] LT",nextWeek:function(ee){return ee.week()!==this.week()?"[\u6765\u9031]dddd LT":"dddd LT"},lastDay:"[\u6628\u65e5] LT",lastWeek:function(ee){return this.week()!==ee.week()?"[\u5148\u9031]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}\u65e5/,ordinal:function(ee,x){switch(x){case"y":return 1===ee?"\u5143\u5e74":ee+"\u5e74";case"d":case"D":case"DDD":return ee+"\u65e5";default:return ee}},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u6570\u79d2",ss:"%d\u79d2",m:"1\u5206",mm:"%d\u5206",h:"1\u6642\u9593",hh:"%d\u6642\u9593",d:"1\u65e5",dd:"%d\u65e5",M:"1\u30f6\u6708",MM:"%d\u30f6\u6708",y:"1\u5e74",yy:"%d\u5e74"}})}(Ae(6738))},59:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(ee,x){return 12===ee&&(ee=0),"enjing"===x?ee:"siyang"===x?ee>=11?ee:ee+12:"sonten"===x||"ndalu"===x?ee+12:void 0},meridiem:function(ee,x,de){return ee<11?"enjing":ee<15?"siyang":ee<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}})}(Ae(6738))},6870:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("ka",{months:"\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10d8_\u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10d8_\u10db\u10d0\u10e0\u10e2\u10d8_\u10d0\u10de\u10e0\u10d8\u10da\u10d8_\u10db\u10d0\u10d8\u10e1\u10d8_\u10d8\u10d5\u10dc\u10d8\u10e1\u10d8_\u10d8\u10d5\u10da\u10d8\u10e1\u10d8_\u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10dd_\u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10d8_\u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10d8".split("_"),monthsShort:"\u10d8\u10d0\u10dc_\u10d7\u10d4\u10d1_\u10db\u10d0\u10e0_\u10d0\u10de\u10e0_\u10db\u10d0\u10d8_\u10d8\u10d5\u10dc_\u10d8\u10d5\u10da_\u10d0\u10d2\u10d5_\u10e1\u10d4\u10e5_\u10dd\u10e5\u10e2_\u10dc\u10dd\u10d4_\u10d3\u10d4\u10d9".split("_"),weekdays:{standalone:"\u10d9\u10d5\u10d8\u10e0\u10d0_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10d8_\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8".split("_"),format:"\u10d9\u10d5\u10d8\u10e0\u10d0\u10e1_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10e1_\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1".split("_"),isFormat:/(\u10ec\u10d8\u10dc\u10d0|\u10e8\u10d4\u10db\u10d3\u10d4\u10d2)/},weekdaysShort:"\u10d9\u10d5\u10d8_\u10dd\u10e0\u10e8_\u10e1\u10d0\u10db_\u10dd\u10d7\u10ee_\u10ee\u10e3\u10d7_\u10de\u10d0\u10e0_\u10e8\u10d0\u10d1".split("_"),weekdaysMin:"\u10d9\u10d5_\u10dd\u10e0_\u10e1\u10d0_\u10dd\u10d7_\u10ee\u10e3_\u10de\u10d0_\u10e8\u10d0".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u10d3\u10e6\u10d4\u10e1] LT[-\u10d6\u10d4]",nextDay:"[\u10ee\u10d5\u10d0\u10da] LT[-\u10d6\u10d4]",lastDay:"[\u10d2\u10e3\u10e8\u10d8\u10dc] LT[-\u10d6\u10d4]",nextWeek:"[\u10e8\u10d4\u10db\u10d3\u10d4\u10d2] dddd LT[-\u10d6\u10d4]",lastWeek:"[\u10ec\u10d8\u10dc\u10d0] dddd LT-\u10d6\u10d4",sameElse:"L"},relativeTime:{future:function(ee){return ee.replace(/(\u10ec\u10d0\u10db|\u10ec\u10e3\u10d7|\u10e1\u10d0\u10d0\u10d7|\u10ec\u10d4\u10da|\u10d3\u10e6|\u10d7\u10d5)(\u10d8|\u10d4)/,function(x,de,Ce){return"\u10d8"===Ce?de+"\u10e8\u10d8":de+Ce+"\u10e8\u10d8"})},past:function(ee){return/(\u10ec\u10d0\u10db\u10d8|\u10ec\u10e3\u10d7\u10d8|\u10e1\u10d0\u10d0\u10d7\u10d8|\u10d3\u10e6\u10d4|\u10d7\u10d5\u10d4)/.test(ee)?ee.replace(/(\u10d8|\u10d4)$/,"\u10d8\u10e1 \u10ec\u10d8\u10dc"):/\u10ec\u10d4\u10da\u10d8/.test(ee)?ee.replace(/\u10ec\u10d4\u10da\u10d8$/,"\u10ec\u10da\u10d8\u10e1 \u10ec\u10d8\u10dc"):ee},s:"\u10e0\u10d0\u10db\u10d3\u10d4\u10dc\u10d8\u10db\u10d4 \u10ec\u10d0\u10db\u10d8",ss:"%d \u10ec\u10d0\u10db\u10d8",m:"\u10ec\u10e3\u10d7\u10d8",mm:"%d \u10ec\u10e3\u10d7\u10d8",h:"\u10e1\u10d0\u10d0\u10d7\u10d8",hh:"%d \u10e1\u10d0\u10d0\u10d7\u10d8",d:"\u10d3\u10e6\u10d4",dd:"%d \u10d3\u10e6\u10d4",M:"\u10d7\u10d5\u10d4",MM:"%d \u10d7\u10d5\u10d4",y:"\u10ec\u10d4\u10da\u10d8",yy:"%d \u10ec\u10d4\u10da\u10d8"},dayOfMonthOrdinalParse:/0|1-\u10da\u10d8|\u10db\u10d4-\d{1,2}|\d{1,2}-\u10d4/,ordinal:function(ee){return 0===ee?ee:1===ee?ee+"-\u10da\u10d8":ee<20||ee<=100&&ee%20==0||ee%100==0?"\u10db\u10d4-"+ee:ee+"-\u10d4"},week:{dow:1,doy:7}})}(Ae(6738))},880:function(Ut,kt,Ae){!function(o){"use strict";var $={0:"-\u0448\u0456",1:"-\u0448\u0456",2:"-\u0448\u0456",3:"-\u0448\u0456",4:"-\u0448\u0456",5:"-\u0448\u0456",6:"-\u0448\u044b",7:"-\u0448\u0456",8:"-\u0448\u0456",9:"-\u0448\u044b",10:"-\u0448\u044b",20:"-\u0448\u044b",30:"-\u0448\u044b",40:"-\u0448\u044b",50:"-\u0448\u0456",60:"-\u0448\u044b",70:"-\u0448\u0456",80:"-\u0448\u0456",90:"-\u0448\u044b",100:"-\u0448\u0456"};o.defineLocale("kk",{months:"\u049b\u0430\u04a3\u0442\u0430\u0440_\u0430\u049b\u043f\u0430\u043d_\u043d\u0430\u0443\u0440\u044b\u0437_\u0441\u04d9\u0443\u0456\u0440_\u043c\u0430\u043c\u044b\u0440_\u043c\u0430\u0443\u0441\u044b\u043c_\u0448\u0456\u043b\u0434\u0435_\u0442\u0430\u043c\u044b\u0437_\u049b\u044b\u0440\u043a\u04af\u0439\u0435\u043a_\u049b\u0430\u0437\u0430\u043d_\u049b\u0430\u0440\u0430\u0448\u0430_\u0436\u0435\u043b\u0442\u043e\u049b\u0441\u0430\u043d".split("_"),monthsShort:"\u049b\u0430\u04a3_\u0430\u049b\u043f_\u043d\u0430\u0443_\u0441\u04d9\u0443_\u043c\u0430\u043c_\u043c\u0430\u0443_\u0448\u0456\u043b_\u0442\u0430\u043c_\u049b\u044b\u0440_\u049b\u0430\u0437_\u049b\u0430\u0440_\u0436\u0435\u043b".split("_"),weekdays:"\u0436\u0435\u043a\u0441\u0435\u043d\u0431\u0456_\u0434\u04af\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u04d9\u0440\u0441\u0435\u043d\u0431\u0456_\u0431\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0436\u04b1\u043c\u0430_\u0441\u0435\u043d\u0431\u0456".split("_"),weekdaysShort:"\u0436\u0435\u043a_\u0434\u04af\u0439_\u0441\u0435\u0439_\u0441\u04d9\u0440_\u0431\u0435\u0439_\u0436\u04b1\u043c_\u0441\u0435\u043d".split("_"),weekdaysMin:"\u0436\u043a_\u0434\u0439_\u0441\u0439_\u0441\u0440_\u0431\u0439_\u0436\u043c_\u0441\u043d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0411\u04af\u0433\u0456\u043d \u0441\u0430\u0493\u0430\u0442] LT",nextDay:"[\u0415\u0440\u0442\u0435\u04a3 \u0441\u0430\u0493\u0430\u0442] LT",nextWeek:"dddd [\u0441\u0430\u0493\u0430\u0442] LT",lastDay:"[\u041a\u0435\u0448\u0435 \u0441\u0430\u0493\u0430\u0442] LT",lastWeek:"[\u04e8\u0442\u043a\u0435\u043d \u0430\u043f\u0442\u0430\u043d\u044b\u04a3] dddd [\u0441\u0430\u0493\u0430\u0442] LT",sameElse:"L"},relativeTime:{future:"%s \u0456\u0448\u0456\u043d\u0434\u0435",past:"%s \u0431\u04b1\u0440\u044b\u043d",s:"\u0431\u0456\u0440\u043d\u0435\u0448\u0435 \u0441\u0435\u043a\u0443\u043d\u0434",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434",m:"\u0431\u0456\u0440 \u043c\u0438\u043d\u0443\u0442",mm:"%d \u043c\u0438\u043d\u0443\u0442",h:"\u0431\u0456\u0440 \u0441\u0430\u0493\u0430\u0442",hh:"%d \u0441\u0430\u0493\u0430\u0442",d:"\u0431\u0456\u0440 \u043a\u04af\u043d",dd:"%d \u043a\u04af\u043d",M:"\u0431\u0456\u0440 \u0430\u0439",MM:"%d \u0430\u0439",y:"\u0431\u0456\u0440 \u0436\u044b\u043b",yy:"%d \u0436\u044b\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0448\u0456|\u0448\u044b)/,ordinal:function(x){return x+($[x]||$[x%10]||$[x>=100?100:null])},week:{dow:1,doy:7}})}(Ae(6738))},1083:function(Ut,kt,Ae){!function(o){"use strict";var $={1:"\u17e1",2:"\u17e2",3:"\u17e3",4:"\u17e4",5:"\u17e5",6:"\u17e6",7:"\u17e7",8:"\u17e8",9:"\u17e9",0:"\u17e0"},ee={"\u17e1":"1","\u17e2":"2","\u17e3":"3","\u17e4":"4","\u17e5":"5","\u17e6":"6","\u17e7":"7","\u17e8":"8","\u17e9":"9","\u17e0":"0"};o.defineLocale("km",{months:"\u1798\u1780\u179a\u17b6_\u1780\u17bb\u1798\u17d2\u1797\u17c8_\u1798\u17b8\u1793\u17b6_\u1798\u17c1\u179f\u17b6_\u17a7\u179f\u1797\u17b6_\u1798\u17b7\u1790\u17bb\u1793\u17b6_\u1780\u1780\u17d2\u1780\u178a\u17b6_\u179f\u17b8\u17a0\u17b6_\u1780\u1789\u17d2\u1789\u17b6_\u178f\u17bb\u179b\u17b6_\u179c\u17b7\u1785\u17d2\u1786\u17b7\u1780\u17b6_\u1792\u17d2\u1793\u17bc".split("_"),monthsShort:"\u1798\u1780\u179a\u17b6_\u1780\u17bb\u1798\u17d2\u1797\u17c8_\u1798\u17b8\u1793\u17b6_\u1798\u17c1\u179f\u17b6_\u17a7\u179f\u1797\u17b6_\u1798\u17b7\u1790\u17bb\u1793\u17b6_\u1780\u1780\u17d2\u1780\u178a\u17b6_\u179f\u17b8\u17a0\u17b6_\u1780\u1789\u17d2\u1789\u17b6_\u178f\u17bb\u179b\u17b6_\u179c\u17b7\u1785\u17d2\u1786\u17b7\u1780\u17b6_\u1792\u17d2\u1793\u17bc".split("_"),weekdays:"\u17a2\u17b6\u1791\u17b7\u178f\u17d2\u1799_\u1785\u17d0\u1793\u17d2\u1791_\u17a2\u1784\u17d2\u1782\u17b6\u179a_\u1796\u17bb\u1792_\u1796\u17d2\u179a\u17a0\u179f\u17d2\u1794\u178f\u17b7\u17cd_\u179f\u17bb\u1780\u17d2\u179a_\u179f\u17c5\u179a\u17cd".split("_"),weekdaysShort:"\u17a2\u17b6_\u1785_\u17a2_\u1796_\u1796\u17d2\u179a_\u179f\u17bb_\u179f".split("_"),weekdaysMin:"\u17a2\u17b6_\u1785_\u17a2_\u1796_\u1796\u17d2\u179a_\u179f\u17bb_\u179f".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u1796\u17d2\u179a\u17b9\u1780|\u179b\u17d2\u1784\u17b6\u1785/,isPM:function(de){return"\u179b\u17d2\u1784\u17b6\u1785"===de},meridiem:function(de,Ce,Ee){return de<12?"\u1796\u17d2\u179a\u17b9\u1780":"\u179b\u17d2\u1784\u17b6\u1785"},calendar:{sameDay:"[\u1790\u17d2\u1784\u17c3\u1793\u17c1\u17c7 \u1798\u17c9\u17c4\u1784] LT",nextDay:"[\u179f\u17d2\u17a2\u17c2\u1780 \u1798\u17c9\u17c4\u1784] LT",nextWeek:"dddd [\u1798\u17c9\u17c4\u1784] LT",lastDay:"[\u1798\u17d2\u179f\u17b7\u179b\u1798\u17b7\u1789 \u1798\u17c9\u17c4\u1784] LT",lastWeek:"dddd [\u179f\u1794\u17d2\u178f\u17b6\u17a0\u17cd\u1798\u17bb\u1793] [\u1798\u17c9\u17c4\u1784] LT",sameElse:"L"},relativeTime:{future:"%s\u1791\u17c0\u178f",past:"%s\u1798\u17bb\u1793",s:"\u1794\u17c9\u17bb\u1793\u17d2\u1798\u17b6\u1793\u179c\u17b7\u1793\u17b6\u1791\u17b8",ss:"%d \u179c\u17b7\u1793\u17b6\u1791\u17b8",m:"\u1798\u17bd\u1799\u1793\u17b6\u1791\u17b8",mm:"%d \u1793\u17b6\u1791\u17b8",h:"\u1798\u17bd\u1799\u1798\u17c9\u17c4\u1784",hh:"%d \u1798\u17c9\u17c4\u1784",d:"\u1798\u17bd\u1799\u1790\u17d2\u1784\u17c3",dd:"%d \u1790\u17d2\u1784\u17c3",M:"\u1798\u17bd\u1799\u1781\u17c2",MM:"%d \u1781\u17c2",y:"\u1798\u17bd\u1799\u1786\u17d2\u1793\u17b6\u17c6",yy:"%d \u1786\u17d2\u1793\u17b6\u17c6"},dayOfMonthOrdinalParse:/\u1791\u17b8\d{1,2}/,ordinal:"\u1791\u17b8%d",preparse:function(de){return de.replace(/[\u17e1\u17e2\u17e3\u17e4\u17e5\u17e6\u17e7\u17e8\u17e9\u17e0]/g,function(Ce){return ee[Ce]})},postformat:function(de){return de.replace(/\d/g,function(Ce){return $[Ce]})},week:{dow:1,doy:4}})}(Ae(6738))},8785:function(Ut,kt,Ae){!function(o){"use strict";var $={1:"\u0ce7",2:"\u0ce8",3:"\u0ce9",4:"\u0cea",5:"\u0ceb",6:"\u0cec",7:"\u0ced",8:"\u0cee",9:"\u0cef",0:"\u0ce6"},ee={"\u0ce7":"1","\u0ce8":"2","\u0ce9":"3","\u0cea":"4","\u0ceb":"5","\u0cec":"6","\u0ced":"7","\u0cee":"8","\u0cef":"9","\u0ce6":"0"};o.defineLocale("kn",{months:"\u0c9c\u0ca8\u0cb5\u0cb0\u0cbf_\u0cab\u0cc6\u0cac\u0ccd\u0cb0\u0cb5\u0cb0\u0cbf_\u0cae\u0cbe\u0cb0\u0ccd\u0c9a\u0ccd_\u0c8f\u0caa\u0ccd\u0cb0\u0cbf\u0cb2\u0ccd_\u0cae\u0cc6\u0cd5_\u0c9c\u0cc2\u0ca8\u0ccd_\u0c9c\u0cc1\u0cb2\u0cc6\u0cd6_\u0c86\u0c97\u0cb8\u0ccd\u0c9f\u0ccd_\u0cb8\u0cc6\u0caa\u0ccd\u0c9f\u0cc6\u0c82\u0cac\u0cb0\u0ccd_\u0c85\u0c95\u0ccd\u0c9f\u0cc6\u0cc2\u0cd5\u0cac\u0cb0\u0ccd_\u0ca8\u0cb5\u0cc6\u0c82\u0cac\u0cb0\u0ccd_\u0ca1\u0cbf\u0cb8\u0cc6\u0c82\u0cac\u0cb0\u0ccd".split("_"),monthsShort:"\u0c9c\u0ca8_\u0cab\u0cc6\u0cac\u0ccd\u0cb0_\u0cae\u0cbe\u0cb0\u0ccd\u0c9a\u0ccd_\u0c8f\u0caa\u0ccd\u0cb0\u0cbf\u0cb2\u0ccd_\u0cae\u0cc6\u0cd5_\u0c9c\u0cc2\u0ca8\u0ccd_\u0c9c\u0cc1\u0cb2\u0cc6\u0cd6_\u0c86\u0c97\u0cb8\u0ccd\u0c9f\u0ccd_\u0cb8\u0cc6\u0caa\u0ccd\u0c9f\u0cc6\u0c82_\u0c85\u0c95\u0ccd\u0c9f\u0cc6\u0cc2\u0cd5_\u0ca8\u0cb5\u0cc6\u0c82_\u0ca1\u0cbf\u0cb8\u0cc6\u0c82".split("_"),monthsParseExact:!0,weekdays:"\u0cad\u0cbe\u0ca8\u0cc1\u0cb5\u0cbe\u0cb0_\u0cb8\u0cc6\u0cc2\u0cd5\u0cae\u0cb5\u0cbe\u0cb0_\u0cae\u0c82\u0c97\u0cb3\u0cb5\u0cbe\u0cb0_\u0cac\u0cc1\u0ca7\u0cb5\u0cbe\u0cb0_\u0c97\u0cc1\u0cb0\u0cc1\u0cb5\u0cbe\u0cb0_\u0cb6\u0cc1\u0c95\u0ccd\u0cb0\u0cb5\u0cbe\u0cb0_\u0cb6\u0ca8\u0cbf\u0cb5\u0cbe\u0cb0".split("_"),weekdaysShort:"\u0cad\u0cbe\u0ca8\u0cc1_\u0cb8\u0cc6\u0cc2\u0cd5\u0cae_\u0cae\u0c82\u0c97\u0cb3_\u0cac\u0cc1\u0ca7_\u0c97\u0cc1\u0cb0\u0cc1_\u0cb6\u0cc1\u0c95\u0ccd\u0cb0_\u0cb6\u0ca8\u0cbf".split("_"),weekdaysMin:"\u0cad\u0cbe_\u0cb8\u0cc6\u0cc2\u0cd5_\u0cae\u0c82_\u0cac\u0cc1_\u0c97\u0cc1_\u0cb6\u0cc1_\u0cb6".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0c87\u0c82\u0ca6\u0cc1] LT",nextDay:"[\u0ca8\u0cbe\u0cb3\u0cc6] LT",nextWeek:"dddd, LT",lastDay:"[\u0ca8\u0cbf\u0ca8\u0ccd\u0ca8\u0cc6] LT",lastWeek:"[\u0c95\u0cc6\u0cc2\u0ca8\u0cc6\u0caf] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0ca8\u0c82\u0ca4\u0cb0",past:"%s \u0cb9\u0cbf\u0c82\u0ca6\u0cc6",s:"\u0c95\u0cc6\u0cb2\u0cb5\u0cc1 \u0c95\u0ccd\u0cb7\u0ca3\u0c97\u0cb3\u0cc1",ss:"%d \u0cb8\u0cc6\u0c95\u0cc6\u0c82\u0ca1\u0cc1\u0c97\u0cb3\u0cc1",m:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca8\u0cbf\u0cae\u0cbf\u0cb7",mm:"%d \u0ca8\u0cbf\u0cae\u0cbf\u0cb7",h:"\u0c92\u0c82\u0ca6\u0cc1 \u0c97\u0c82\u0c9f\u0cc6",hh:"%d \u0c97\u0c82\u0c9f\u0cc6",d:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca6\u0cbf\u0ca8",dd:"%d \u0ca6\u0cbf\u0ca8",M:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca4\u0cbf\u0c82\u0c97\u0cb3\u0cc1",MM:"%d \u0ca4\u0cbf\u0c82\u0c97\u0cb3\u0cc1",y:"\u0c92\u0c82\u0ca6\u0cc1 \u0cb5\u0cb0\u0ccd\u0cb7",yy:"%d \u0cb5\u0cb0\u0ccd\u0cb7"},preparse:function(de){return de.replace(/[\u0ce7\u0ce8\u0ce9\u0cea\u0ceb\u0cec\u0ced\u0cee\u0cef\u0ce6]/g,function(Ce){return ee[Ce]})},postformat:function(de){return de.replace(/\d/g,function(Ce){return $[Ce]})},meridiemParse:/\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf|\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6|\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8|\u0cb8\u0c82\u0c9c\u0cc6/,meridiemHour:function(de,Ce){return 12===de&&(de=0),"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf"===Ce?de<4?de:de+12:"\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6"===Ce?de:"\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8"===Ce?de>=10?de:de+12:"\u0cb8\u0c82\u0c9c\u0cc6"===Ce?de+12:void 0},meridiem:function(de,Ce,Ee){return de<4?"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf":de<10?"\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6":de<17?"\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8":de<20?"\u0cb8\u0c82\u0c9c\u0cc6":"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf"},dayOfMonthOrdinalParse:/\d{1,2}(\u0ca8\u0cc6\u0cd5)/,ordinal:function(de){return de+"\u0ca8\u0cc6\u0cd5"},week:{dow:0,doy:6}})}(Ae(6738))},1721:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("ko",{months:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),monthsShort:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),weekdays:"\uc77c\uc694\uc77c_\uc6d4\uc694\uc77c_\ud654\uc694\uc77c_\uc218\uc694\uc77c_\ubaa9\uc694\uc77c_\uae08\uc694\uc77c_\ud1a0\uc694\uc77c".split("_"),weekdaysShort:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),weekdaysMin:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY\ub144 MMMM D\uc77c",LLL:"YYYY\ub144 MMMM D\uc77c A h:mm",LLLL:"YYYY\ub144 MMMM D\uc77c dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY\ub144 MMMM D\uc77c",lll:"YYYY\ub144 MMMM D\uc77c A h:mm",llll:"YYYY\ub144 MMMM D\uc77c dddd A h:mm"},calendar:{sameDay:"\uc624\ub298 LT",nextDay:"\ub0b4\uc77c LT",nextWeek:"dddd LT",lastDay:"\uc5b4\uc81c LT",lastWeek:"\uc9c0\ub09c\uc8fc dddd LT",sameElse:"L"},relativeTime:{future:"%s \ud6c4",past:"%s \uc804",s:"\uba87 \ucd08",ss:"%d\ucd08",m:"1\ubd84",mm:"%d\ubd84",h:"\ud55c \uc2dc\uac04",hh:"%d\uc2dc\uac04",d:"\ud558\ub8e8",dd:"%d\uc77c",M:"\ud55c \ub2ec",MM:"%d\ub2ec",y:"\uc77c \ub144",yy:"%d\ub144"},dayOfMonthOrdinalParse:/\d{1,2}(\uc77c|\uc6d4|\uc8fc)/,ordinal:function(ee,x){switch(x){case"d":case"D":case"DDD":return ee+"\uc77c";case"M":return ee+"\uc6d4";case"w":case"W":return ee+"\uc8fc";default:return ee}},meridiemParse:/\uc624\uc804|\uc624\ud6c4/,isPM:function(ee){return"\uc624\ud6c4"===ee},meridiem:function(ee,x,de){return ee<12?"\uc624\uc804":"\uc624\ud6c4"}})}(Ae(6738))},7851:function(Ut,kt,Ae){!function(o){"use strict";var $={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},ee={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"},x=["\u06a9\u0627\u0646\u0648\u0646\u06cc \u062f\u0648\u0648\u06d5\u0645","\u0634\u0648\u0628\u0627\u062a","\u0626\u0627\u0632\u0627\u0631","\u0646\u06cc\u0633\u0627\u0646","\u0626\u0627\u06cc\u0627\u0631","\u062d\u0648\u0632\u06d5\u06cc\u0631\u0627\u0646","\u062a\u06d5\u0645\u0645\u0648\u0632","\u0626\u0627\u0628","\u0626\u06d5\u06cc\u0644\u0648\u0648\u0644","\u062a\u0634\u0631\u06cc\u0646\u06cc \u06cc\u06d5\u0643\u06d5\u0645","\u062a\u0634\u0631\u06cc\u0646\u06cc \u062f\u0648\u0648\u06d5\u0645","\u0643\u0627\u0646\u0648\u0646\u06cc \u06cc\u06d5\u06a9\u06d5\u0645"];o.defineLocale("ku",{months:x,monthsShort:x,weekdays:"\u06cc\u0647\u200c\u0643\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u062f\u0648\u0648\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0633\u06ce\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0686\u0648\u0627\u0631\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u067e\u06ce\u0646\u062c\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0647\u0647\u200c\u06cc\u0646\u06cc_\u0634\u0647\u200c\u0645\u0645\u0647\u200c".split("_"),weekdaysShort:"\u06cc\u0647\u200c\u0643\u0634\u0647\u200c\u0645_\u062f\u0648\u0648\u0634\u0647\u200c\u0645_\u0633\u06ce\u0634\u0647\u200c\u0645_\u0686\u0648\u0627\u0631\u0634\u0647\u200c\u0645_\u067e\u06ce\u0646\u062c\u0634\u0647\u200c\u0645_\u0647\u0647\u200c\u06cc\u0646\u06cc_\u0634\u0647\u200c\u0645\u0645\u0647\u200c".split("_"),weekdaysMin:"\u06cc_\u062f_\u0633_\u0686_\u067e_\u0647_\u0634".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u0626\u06ce\u0648\u0627\u0631\u0647\u200c|\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc/,isPM:function(Ce){return/\u0626\u06ce\u0648\u0627\u0631\u0647\u200c/.test(Ce)},meridiem:function(Ce,Ee,Me){return Ce<12?"\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc":"\u0626\u06ce\u0648\u0627\u0631\u0647\u200c"},calendar:{sameDay:"[\u0626\u0647\u200c\u0645\u0631\u06c6 \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",nextDay:"[\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",nextWeek:"dddd [\u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",lastDay:"[\u062f\u0648\u06ce\u0646\u06ce \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",lastWeek:"dddd [\u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",sameElse:"L"},relativeTime:{future:"\u0644\u0647\u200c %s",past:"%s",s:"\u0686\u0647\u200c\u0646\u062f \u0686\u0631\u0643\u0647\u200c\u06cc\u0647\u200c\u0643",ss:"\u0686\u0631\u0643\u0647\u200c %d",m:"\u06cc\u0647\u200c\u0643 \u062e\u0648\u0644\u0647\u200c\u0643",mm:"%d \u062e\u0648\u0644\u0647\u200c\u0643",h:"\u06cc\u0647\u200c\u0643 \u0643\u0627\u062a\u0698\u0645\u06ce\u0631",hh:"%d \u0643\u0627\u062a\u0698\u0645\u06ce\u0631",d:"\u06cc\u0647\u200c\u0643 \u0695\u06c6\u0698",dd:"%d \u0695\u06c6\u0698",M:"\u06cc\u0647\u200c\u0643 \u0645\u0627\u0646\u06af",MM:"%d \u0645\u0627\u0646\u06af",y:"\u06cc\u0647\u200c\u0643 \u0633\u0627\u06b5",yy:"%d \u0633\u0627\u06b5"},preparse:function(Ce){return Ce.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(Ee){return ee[Ee]}).replace(/\u060c/g,",")},postformat:function(Ce){return Ce.replace(/\d/g,function(Ee){return $[Ee]}).replace(/,/g,"\u060c")},week:{dow:6,doy:12}})}(Ae(6738))},1727:function(Ut,kt,Ae){!function(o){"use strict";var $={0:"-\u0447\u04af",1:"-\u0447\u0438",2:"-\u0447\u0438",3:"-\u0447\u04af",4:"-\u0447\u04af",5:"-\u0447\u0438",6:"-\u0447\u044b",7:"-\u0447\u0438",8:"-\u0447\u0438",9:"-\u0447\u0443",10:"-\u0447\u0443",20:"-\u0447\u044b",30:"-\u0447\u0443",40:"-\u0447\u044b",50:"-\u0447\u04af",60:"-\u0447\u044b",70:"-\u0447\u0438",80:"-\u0447\u0438",90:"-\u0447\u0443",100:"-\u0447\u04af"};o.defineLocale("ky",{months:"\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_"),monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u0416\u0435\u043a\u0448\u0435\u043c\u0431\u0438_\u0414\u04af\u0439\u0448\u04e9\u043c\u0431\u04af_\u0428\u0435\u0439\u0448\u0435\u043c\u0431\u0438_\u0428\u0430\u0440\u0448\u0435\u043c\u0431\u0438_\u0411\u0435\u0439\u0448\u0435\u043c\u0431\u0438_\u0416\u0443\u043c\u0430_\u0418\u0448\u0435\u043c\u0431\u0438".split("_"),weekdaysShort:"\u0416\u0435\u043a_\u0414\u04af\u0439_\u0428\u0435\u0439_\u0428\u0430\u0440_\u0411\u0435\u0439_\u0416\u0443\u043c_\u0418\u0448\u0435".split("_"),weekdaysMin:"\u0416\u043a_\u0414\u0439_\u0428\u0439_\u0428\u0440_\u0411\u0439_\u0416\u043c_\u0418\u0448".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0411\u04af\u0433\u04af\u043d \u0441\u0430\u0430\u0442] LT",nextDay:"[\u042d\u0440\u0442\u0435\u04a3 \u0441\u0430\u0430\u0442] LT",nextWeek:"dddd [\u0441\u0430\u0430\u0442] LT",lastDay:"[\u041a\u0435\u0447\u044d\u044d \u0441\u0430\u0430\u0442] LT",lastWeek:"[\u04e8\u0442\u043a\u04e9\u043d \u0430\u043f\u0442\u0430\u043d\u044b\u043d] dddd [\u043a\u04af\u043d\u04af] [\u0441\u0430\u0430\u0442] LT",sameElse:"L"},relativeTime:{future:"%s \u0438\u0447\u0438\u043d\u0434\u0435",past:"%s \u043c\u0443\u0440\u0443\u043d",s:"\u0431\u0438\u0440\u043d\u0435\u0447\u0435 \u0441\u0435\u043a\u0443\u043d\u0434",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434",m:"\u0431\u0438\u0440 \u043c\u04af\u043d\u04e9\u0442",mm:"%d \u043c\u04af\u043d\u04e9\u0442",h:"\u0431\u0438\u0440 \u0441\u0430\u0430\u0442",hh:"%d \u0441\u0430\u0430\u0442",d:"\u0431\u0438\u0440 \u043a\u04af\u043d",dd:"%d \u043a\u04af\u043d",M:"\u0431\u0438\u0440 \u0430\u0439",MM:"%d \u0430\u0439",y:"\u0431\u0438\u0440 \u0436\u044b\u043b",yy:"%d \u0436\u044b\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0447\u0438|\u0447\u044b|\u0447\u04af|\u0447\u0443)/,ordinal:function(x){return x+($[x]||$[x%10]||$[x>=100?100:null])},week:{dow:1,doy:7}})}(Ae(6738))},346:function(Ut,kt,Ae){!function(o){"use strict";function $(Ee,Me,Be,Ge){var Mt={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return Me?Mt[Be][0]:Mt[Be][1]}function de(Ee){if(Ee=parseInt(Ee,10),isNaN(Ee))return!1;if(Ee<0)return!0;if(Ee<10)return 4<=Ee&&Ee<=7;if(Ee<100){var Me=Ee%10;return de(0===Me?Ee/10:Me)}if(Ee<1e4){for(;Ee>=10;)Ee/=10;return de(Ee)}return de(Ee/=1e3)}o.defineLocale("lb",{months:"Januar_Februar_M\xe4erz_Abr\xebll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_M\xe9indeg_D\xebnschdeg_M\xebttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M\xe9._D\xeb._M\xeb._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M\xe9_D\xeb_M\xeb_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[G\xebschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:function(Ee){return de(Ee.substr(0,Ee.indexOf(" ")))?"a "+Ee:"an "+Ee},past:function(Ee){return de(Ee.substr(0,Ee.indexOf(" ")))?"viru "+Ee:"virun "+Ee},s:"e puer Sekonnen",ss:"%d Sekonnen",m:$,mm:"%d Minutten",h:$,hh:"%d Stonnen",d:$,dd:"%d Deeg",M:$,MM:"%d M\xe9int",y:$,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(Ae(6738))},3002:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("lo",{months:"\u0ea1\u0eb1\u0e87\u0e81\u0ead\u0e99_\u0e81\u0eb8\u0ea1\u0e9e\u0eb2_\u0ea1\u0eb5\u0e99\u0eb2_\u0ec0\u0ea1\u0eaa\u0eb2_\u0e9e\u0eb6\u0e94\u0eaa\u0eb0\u0e9e\u0eb2_\u0ea1\u0eb4\u0e96\u0eb8\u0e99\u0eb2_\u0e81\u0ecd\u0ea5\u0eb0\u0e81\u0ebb\u0e94_\u0eaa\u0eb4\u0e87\u0eab\u0eb2_\u0e81\u0eb1\u0e99\u0e8d\u0eb2_\u0e95\u0eb8\u0ea5\u0eb2_\u0e9e\u0eb0\u0e88\u0eb4\u0e81_\u0e97\u0eb1\u0e99\u0ea7\u0eb2".split("_"),monthsShort:"\u0ea1\u0eb1\u0e87\u0e81\u0ead\u0e99_\u0e81\u0eb8\u0ea1\u0e9e\u0eb2_\u0ea1\u0eb5\u0e99\u0eb2_\u0ec0\u0ea1\u0eaa\u0eb2_\u0e9e\u0eb6\u0e94\u0eaa\u0eb0\u0e9e\u0eb2_\u0ea1\u0eb4\u0e96\u0eb8\u0e99\u0eb2_\u0e81\u0ecd\u0ea5\u0eb0\u0e81\u0ebb\u0e94_\u0eaa\u0eb4\u0e87\u0eab\u0eb2_\u0e81\u0eb1\u0e99\u0e8d\u0eb2_\u0e95\u0eb8\u0ea5\u0eb2_\u0e9e\u0eb0\u0e88\u0eb4\u0e81_\u0e97\u0eb1\u0e99\u0ea7\u0eb2".split("_"),weekdays:"\u0ead\u0eb2\u0e97\u0eb4\u0e94_\u0e88\u0eb1\u0e99_\u0ead\u0eb1\u0e87\u0e84\u0eb2\u0e99_\u0e9e\u0eb8\u0e94_\u0e9e\u0eb0\u0eab\u0eb1\u0e94_\u0eaa\u0eb8\u0e81_\u0ec0\u0eaa\u0ebb\u0eb2".split("_"),weekdaysShort:"\u0e97\u0eb4\u0e94_\u0e88\u0eb1\u0e99_\u0ead\u0eb1\u0e87\u0e84\u0eb2\u0e99_\u0e9e\u0eb8\u0e94_\u0e9e\u0eb0\u0eab\u0eb1\u0e94_\u0eaa\u0eb8\u0e81_\u0ec0\u0eaa\u0ebb\u0eb2".split("_"),weekdaysMin:"\u0e97_\u0e88_\u0ead\u0e84_\u0e9e_\u0e9e\u0eab_\u0eaa\u0e81_\u0eaa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"\u0ea7\u0eb1\u0e99dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0e95\u0ead\u0e99\u0ec0\u0e8a\u0ebb\u0ec9\u0eb2|\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87/,isPM:function(ee){return"\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87"===ee},meridiem:function(ee,x,de){return ee<12?"\u0e95\u0ead\u0e99\u0ec0\u0e8a\u0ebb\u0ec9\u0eb2":"\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87"},calendar:{sameDay:"[\u0ea1\u0eb7\u0ec9\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",nextDay:"[\u0ea1\u0eb7\u0ec9\u0ead\u0eb7\u0ec8\u0e99\u0ec0\u0ea7\u0ea5\u0eb2] LT",nextWeek:"[\u0ea7\u0eb1\u0e99]dddd[\u0edc\u0ec9\u0eb2\u0ec0\u0ea7\u0ea5\u0eb2] LT",lastDay:"[\u0ea1\u0eb7\u0ec9\u0ea7\u0eb2\u0e99\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",lastWeek:"[\u0ea7\u0eb1\u0e99]dddd[\u0ec1\u0ea5\u0ec9\u0ea7\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",sameElse:"L"},relativeTime:{future:"\u0ead\u0eb5\u0e81 %s",past:"%s\u0e9c\u0ec8\u0eb2\u0e99\u0ea1\u0eb2",s:"\u0e9a\u0ecd\u0ec8\u0ec0\u0e97\u0ebb\u0ec8\u0eb2\u0ec3\u0e94\u0ea7\u0eb4\u0e99\u0eb2\u0e97\u0eb5",ss:"%d \u0ea7\u0eb4\u0e99\u0eb2\u0e97\u0eb5",m:"1 \u0e99\u0eb2\u0e97\u0eb5",mm:"%d \u0e99\u0eb2\u0e97\u0eb5",h:"1 \u0e8a\u0ebb\u0ec8\u0ea7\u0ec2\u0ea1\u0e87",hh:"%d \u0e8a\u0ebb\u0ec8\u0ea7\u0ec2\u0ea1\u0e87",d:"1 \u0ea1\u0eb7\u0ec9",dd:"%d \u0ea1\u0eb7\u0ec9",M:"1 \u0ec0\u0e94\u0eb7\u0ead\u0e99",MM:"%d \u0ec0\u0e94\u0eb7\u0ead\u0e99",y:"1 \u0e9b\u0eb5",yy:"%d \u0e9b\u0eb5"},dayOfMonthOrdinalParse:/(\u0e97\u0eb5\u0ec8)\d{1,2}/,ordinal:function(ee){return"\u0e97\u0eb5\u0ec8"+ee}})}(Ae(6738))},4035:function(Ut,kt,Ae){!function(o){"use strict";var $={ss:"sekund\u0117_sekund\u017ei\u0173_sekundes",m:"minut\u0117_minut\u0117s_minut\u0119",mm:"minut\u0117s_minu\u010di\u0173_minutes",h:"valanda_valandos_valand\u0105",hh:"valandos_valand\u0173_valandas",d:"diena_dienos_dien\u0105",dd:"dienos_dien\u0173_dienas",M:"m\u0117nuo_m\u0117nesio_m\u0117nes\u012f",MM:"m\u0117nesiai_m\u0117nesi\u0173_m\u0117nesius",y:"metai_met\u0173_metus",yy:"metai_met\u0173_metus"};function x(Be,Ge,Mt,ft){return Ge?Ce(Mt)[0]:ft?Ce(Mt)[1]:Ce(Mt)[2]}function de(Be){return Be%10==0||Be>10&&Be<20}function Ce(Be){return $[Be].split("_")}function Ee(Be,Ge,Mt,ft){var Lt=Be+" ";return 1===Be?Lt+x(0,Ge,Mt[0],ft):Ge?Lt+(de(Be)?Ce(Mt)[1]:Ce(Mt)[0]):ft?Lt+Ce(Mt)[1]:Lt+(de(Be)?Ce(Mt)[1]:Ce(Mt)[2])}o.defineLocale("lt",{months:{format:"sausio_vasario_kovo_baland\u017eio_gegu\u017e\u0117s_bir\u017eelio_liepos_rugpj\u016b\u010dio_rugs\u0117jo_spalio_lapkri\u010dio_gruod\u017eio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegu\u017e\u0117_bir\u017eelis_liepa_rugpj\u016btis_rugs\u0117jis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadien\u012f_pirmadien\u012f_antradien\u012f_tre\u010diadien\u012f_ketvirtadien\u012f_penktadien\u012f_\u0161e\u0161tadien\u012f".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_tre\u010diadienis_ketvirtadienis_penktadienis_\u0161e\u0161tadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_\u0160e\u0161".split("_"),weekdaysMin:"S_P_A_T_K_Pn_\u0160".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[\u0160iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Pra\u0117jus\u012f] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie\u0161 %s",s:function(Be,Ge,Mt,ft){return Ge?"kelios sekund\u0117s":ft?"keli\u0173 sekund\u017ei\u0173":"kelias sekundes"},ss:Ee,m:x,mm:Ee,h:x,hh:Ee,d:x,dd:Ee,M:x,MM:Ee,y:x,yy:Ee},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(Be){return Be+"-oji"},week:{dow:1,doy:4}})}(Ae(6738))},6927:function(Ut,kt,Ae){!function(o){"use strict";var $={ss:"sekundes_sekund\u0113m_sekunde_sekundes".split("_"),m:"min\u016btes_min\u016bt\u0113m_min\u016bte_min\u016btes".split("_"),mm:"min\u016btes_min\u016bt\u0113m_min\u016bte_min\u016btes".split("_"),h:"stundas_stund\u0101m_stunda_stundas".split("_"),hh:"stundas_stund\u0101m_stunda_stundas".split("_"),d:"dienas_dien\u0101m_diena_dienas".split("_"),dd:"dienas_dien\u0101m_diena_dienas".split("_"),M:"m\u0113ne\u0161a_m\u0113ne\u0161iem_m\u0113nesis_m\u0113ne\u0161i".split("_"),MM:"m\u0113ne\u0161a_m\u0113ne\u0161iem_m\u0113nesis_m\u0113ne\u0161i".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function ee(Me,Be,Ge){return Ge?Be%10==1&&Be%100!=11?Me[2]:Me[3]:Be%10==1&&Be%100!=11?Me[0]:Me[1]}function x(Me,Be,Ge){return Me+" "+ee($[Ge],Me,Be)}function de(Me,Be,Ge){return ee($[Ge],Me,Be)}o.defineLocale("lv",{months:"janv\u0101ris_febru\u0101ris_marts_apr\u012blis_maijs_j\u016bnijs_j\u016blijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_j\u016bn_j\u016bl_aug_sep_okt_nov_dec".split("_"),weekdays:"sv\u0113tdiena_pirmdiena_otrdiena_tre\u0161diena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[\u0160odien pulksten] LT",nextDay:"[R\u012bt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pag\u0101ju\u0161\u0101] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"p\u0113c %s",past:"pirms %s",s:function(Me,Be){return Be?"da\u017eas sekundes":"da\u017e\u0101m sekund\u0113m"},ss:x,m:de,mm:x,h:de,hh:x,d:de,dd:x,M:de,MM:x,y:de,yy:x},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(Ae(6738))},5634:function(Ut,kt,Ae){!function(o){"use strict";var $={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(x,de){return 1===x?de[0]:x>=2&&x<=4?de[1]:de[2]},translate:function(x,de,Ce){var Ee=$.words[Ce];return 1===Ce.length?de?Ee[0]:Ee[1]:x+" "+$.correctGrammaticalCase(x,Ee)}};o.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010de u] LT",lastWeek:function(){return["[pro\u0161le] [nedjelje] [u] LT","[pro\u0161log] [ponedjeljka] [u] LT","[pro\u0161log] [utorka] [u] LT","[pro\u0161le] [srijede] [u] LT","[pro\u0161log] [\u010detvrtka] [u] LT","[pro\u0161log] [petka] [u] LT","[pro\u0161le] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:$.translate,m:$.translate,mm:$.translate,h:$.translate,hh:$.translate,d:"dan",dd:$.translate,M:"mjesec",MM:$.translate,y:"godinu",yy:$.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(Ae(6738))},4173:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("mi",{months:"Kohi-t\u0101te_Hui-tanguru_Pout\u016b-te-rangi_Paenga-wh\u0101wh\u0101_Haratua_Pipiri_H\u014dngoingoi_Here-turi-k\u014dk\u0101_Mahuru_Whiringa-\u0101-nuku_Whiringa-\u0101-rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_H\u014dngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"R\u0101tapu_Mane_T\u016brei_Wenerei_T\u0101ite_Paraire_H\u0101tarei".split("_"),weekdaysShort:"Ta_Ma_T\u016b_We_T\u0101i_Pa_H\u0101".split("_"),weekdaysMin:"Ta_Ma_T\u016b_We_T\u0101i_Pa_H\u0101".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te h\u0113kona ruarua",ss:"%d h\u0113kona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(Ae(6738))},6320:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("mk",{months:"\u0458\u0430\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0458_\u0458\u0443\u043d\u0438_\u0458\u0443\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),monthsShort:"\u0458\u0430\u043d_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),weekdays:"\u043d\u0435\u0434\u0435\u043b\u0430_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0440\u0442\u043e\u043a_\u043f\u0435\u0442\u043e\u043a_\u0441\u0430\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u0435_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u0430\u0431".split("_"),weekdaysMin:"\u043de_\u043fo_\u0432\u0442_\u0441\u0440_\u0447\u0435_\u043f\u0435_\u0441a".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[\u0414\u0435\u043d\u0435\u0441 \u0432\u043e] LT",nextDay:"[\u0423\u0442\u0440\u0435 \u0432\u043e] LT",nextWeek:"[\u0412\u043e] dddd [\u0432\u043e] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430 \u0432\u043e] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[\u0418\u0437\u043c\u0438\u043d\u0430\u0442\u0430\u0442\u0430] dddd [\u0432\u043e] LT";case 1:case 2:case 4:case 5:return"[\u0418\u0437\u043c\u0438\u043d\u0430\u0442\u0438\u043e\u0442] dddd [\u0432\u043e] LT"}},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"\u043f\u0440\u0435\u0434 %s",s:"\u043d\u0435\u043a\u043e\u043b\u043a\u0443 \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434\u0438",m:"\u0435\u0434\u043d\u0430 \u043c\u0438\u043d\u0443\u0442\u0430",mm:"%d \u043c\u0438\u043d\u0443\u0442\u0438",h:"\u0435\u0434\u0435\u043d \u0447\u0430\u0441",hh:"%d \u0447\u0430\u0441\u0430",d:"\u0435\u0434\u0435\u043d \u0434\u0435\u043d",dd:"%d \u0434\u0435\u043d\u0430",M:"\u0435\u0434\u0435\u043d \u043c\u0435\u0441\u0435\u0446",MM:"%d \u043c\u0435\u0441\u0435\u0446\u0438",y:"\u0435\u0434\u043d\u0430 \u0433\u043e\u0434\u0438\u043d\u0430",yy:"%d \u0433\u043e\u0434\u0438\u043d\u0438"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0435\u0432|\u0435\u043d|\u0442\u0438|\u0432\u0438|\u0440\u0438|\u043c\u0438)/,ordinal:function(ee){var x=ee%10,de=ee%100;return 0===ee?ee+"-\u0435\u0432":0===de?ee+"-\u0435\u043d":de>10&&de<20?ee+"-\u0442\u0438":1===x?ee+"-\u0432\u0438":2===x?ee+"-\u0440\u0438":7===x||8===x?ee+"-\u043c\u0438":ee+"-\u0442\u0438"},week:{dow:1,doy:7}})}(Ae(6738))},1705:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("ml",{months:"\u0d1c\u0d28\u0d41\u0d35\u0d30\u0d3f_\u0d2b\u0d46\u0d2c\u0d4d\u0d30\u0d41\u0d35\u0d30\u0d3f_\u0d2e\u0d3e\u0d7c\u0d1a\u0d4d\u0d1a\u0d4d_\u0d0f\u0d2a\u0d4d\u0d30\u0d3f\u0d7d_\u0d2e\u0d47\u0d2f\u0d4d_\u0d1c\u0d42\u0d7a_\u0d1c\u0d42\u0d32\u0d48_\u0d13\u0d17\u0d38\u0d4d\u0d31\u0d4d\u0d31\u0d4d_\u0d38\u0d46\u0d2a\u0d4d\u0d31\u0d4d\u0d31\u0d02\u0d2c\u0d7c_\u0d12\u0d15\u0d4d\u0d1f\u0d4b\u0d2c\u0d7c_\u0d28\u0d35\u0d02\u0d2c\u0d7c_\u0d21\u0d3f\u0d38\u0d02\u0d2c\u0d7c".split("_"),monthsShort:"\u0d1c\u0d28\u0d41._\u0d2b\u0d46\u0d2c\u0d4d\u0d30\u0d41._\u0d2e\u0d3e\u0d7c._\u0d0f\u0d2a\u0d4d\u0d30\u0d3f._\u0d2e\u0d47\u0d2f\u0d4d_\u0d1c\u0d42\u0d7a_\u0d1c\u0d42\u0d32\u0d48._\u0d13\u0d17._\u0d38\u0d46\u0d2a\u0d4d\u0d31\u0d4d\u0d31._\u0d12\u0d15\u0d4d\u0d1f\u0d4b._\u0d28\u0d35\u0d02._\u0d21\u0d3f\u0d38\u0d02.".split("_"),monthsParseExact:!0,weekdays:"\u0d1e\u0d3e\u0d2f\u0d31\u0d3e\u0d34\u0d4d\u0d1a_\u0d24\u0d3f\u0d19\u0d4d\u0d15\u0d33\u0d3e\u0d34\u0d4d\u0d1a_\u0d1a\u0d4a\u0d35\u0d4d\u0d35\u0d3e\u0d34\u0d4d\u0d1a_\u0d2c\u0d41\u0d27\u0d28\u0d3e\u0d34\u0d4d\u0d1a_\u0d35\u0d4d\u0d2f\u0d3e\u0d34\u0d3e\u0d34\u0d4d\u0d1a_\u0d35\u0d46\u0d33\u0d4d\u0d33\u0d3f\u0d2f\u0d3e\u0d34\u0d4d\u0d1a_\u0d36\u0d28\u0d3f\u0d2f\u0d3e\u0d34\u0d4d\u0d1a".split("_"),weekdaysShort:"\u0d1e\u0d3e\u0d2f\u0d7c_\u0d24\u0d3f\u0d19\u0d4d\u0d15\u0d7e_\u0d1a\u0d4a\u0d35\u0d4d\u0d35_\u0d2c\u0d41\u0d27\u0d7b_\u0d35\u0d4d\u0d2f\u0d3e\u0d34\u0d02_\u0d35\u0d46\u0d33\u0d4d\u0d33\u0d3f_\u0d36\u0d28\u0d3f".split("_"),weekdaysMin:"\u0d1e\u0d3e_\u0d24\u0d3f_\u0d1a\u0d4a_\u0d2c\u0d41_\u0d35\u0d4d\u0d2f\u0d3e_\u0d35\u0d46_\u0d36".split("_"),longDateFormat:{LT:"A h:mm -\u0d28\u0d41",LTS:"A h:mm:ss -\u0d28\u0d41",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -\u0d28\u0d41",LLLL:"dddd, D MMMM YYYY, A h:mm -\u0d28\u0d41"},calendar:{sameDay:"[\u0d07\u0d28\u0d4d\u0d28\u0d4d] LT",nextDay:"[\u0d28\u0d3e\u0d33\u0d46] LT",nextWeek:"dddd, LT",lastDay:"[\u0d07\u0d28\u0d4d\u0d28\u0d32\u0d46] LT",lastWeek:"[\u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d",past:"%s \u0d2e\u0d41\u0d7b\u0d2a\u0d4d",s:"\u0d05\u0d7d\u0d2a \u0d28\u0d3f\u0d2e\u0d3f\u0d37\u0d19\u0d4d\u0d19\u0d7e",ss:"%d \u0d38\u0d46\u0d15\u0d4d\u0d15\u0d7b\u0d21\u0d4d",m:"\u0d12\u0d30\u0d41 \u0d2e\u0d3f\u0d28\u0d3f\u0d31\u0d4d\u0d31\u0d4d",mm:"%d \u0d2e\u0d3f\u0d28\u0d3f\u0d31\u0d4d\u0d31\u0d4d",h:"\u0d12\u0d30\u0d41 \u0d2e\u0d23\u0d3f\u0d15\u0d4d\u0d15\u0d42\u0d7c",hh:"%d \u0d2e\u0d23\u0d3f\u0d15\u0d4d\u0d15\u0d42\u0d7c",d:"\u0d12\u0d30\u0d41 \u0d26\u0d3f\u0d35\u0d38\u0d02",dd:"%d \u0d26\u0d3f\u0d35\u0d38\u0d02",M:"\u0d12\u0d30\u0d41 \u0d2e\u0d3e\u0d38\u0d02",MM:"%d \u0d2e\u0d3e\u0d38\u0d02",y:"\u0d12\u0d30\u0d41 \u0d35\u0d7c\u0d37\u0d02",yy:"%d \u0d35\u0d7c\u0d37\u0d02"},meridiemParse:/\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f|\u0d30\u0d3e\u0d35\u0d3f\u0d32\u0d46|\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d|\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02|\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f/i,meridiemHour:function(ee,x){return 12===ee&&(ee=0),"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f"===x&&ee>=4||"\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d"===x||"\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02"===x?ee+12:ee},meridiem:function(ee,x,de){return ee<4?"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f":ee<12?"\u0d30\u0d3e\u0d35\u0d3f\u0d32\u0d46":ee<17?"\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d":ee<20?"\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02":"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f"}})}(Ae(6738))},1062:function(Ut,kt,Ae){!function(o){"use strict";function $(x,de,Ce,Ee){switch(Ce){case"s":return de?"\u0445\u044d\u0434\u0445\u044d\u043d \u0441\u0435\u043a\u0443\u043d\u0434":"\u0445\u044d\u0434\u0445\u044d\u043d \u0441\u0435\u043a\u0443\u043d\u0434\u044b\u043d";case"ss":return x+(de?" \u0441\u0435\u043a\u0443\u043d\u0434":" \u0441\u0435\u043a\u0443\u043d\u0434\u044b\u043d");case"m":case"mm":return x+(de?" \u043c\u0438\u043d\u0443\u0442":" \u043c\u0438\u043d\u0443\u0442\u044b\u043d");case"h":case"hh":return x+(de?" \u0446\u0430\u0433":" \u0446\u0430\u0433\u0438\u0439\u043d");case"d":case"dd":return x+(de?" \u04e9\u0434\u04e9\u0440":" \u04e9\u0434\u0440\u0438\u0439\u043d");case"M":case"MM":return x+(de?" \u0441\u0430\u0440":" \u0441\u0430\u0440\u044b\u043d");case"y":case"yy":return x+(de?" \u0436\u0438\u043b":" \u0436\u0438\u043b\u0438\u0439\u043d");default:return x}}o.defineLocale("mn",{months:"\u041d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0425\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0413\u0443\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u04e9\u0440\u04e9\u0432\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0422\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0417\u0443\u0440\u0433\u0430\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u043e\u043b\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u041d\u0430\u0439\u043c\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0415\u0441\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u043d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u0445\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440".split("_"),monthsShort:"1 \u0441\u0430\u0440_2 \u0441\u0430\u0440_3 \u0441\u0430\u0440_4 \u0441\u0430\u0440_5 \u0441\u0430\u0440_6 \u0441\u0430\u0440_7 \u0441\u0430\u0440_8 \u0441\u0430\u0440_9 \u0441\u0430\u0440_10 \u0441\u0430\u0440_11 \u0441\u0430\u0440_12 \u0441\u0430\u0440".split("_"),monthsParseExact:!0,weekdays:"\u041d\u044f\u043c_\u0414\u0430\u0432\u0430\u0430_\u041c\u044f\u0433\u043c\u0430\u0440_\u041b\u0445\u0430\u0433\u0432\u0430_\u041f\u04af\u0440\u044d\u0432_\u0411\u0430\u0430\u0441\u0430\u043d_\u0411\u044f\u043c\u0431\u0430".split("_"),weekdaysShort:"\u041d\u044f\u043c_\u0414\u0430\u0432_\u041c\u044f\u0433_\u041b\u0445\u0430_\u041f\u04af\u0440_\u0411\u0430\u0430_\u0411\u044f\u043c".split("_"),weekdaysMin:"\u041d\u044f_\u0414\u0430_\u041c\u044f_\u041b\u0445_\u041f\u04af_\u0411\u0430_\u0411\u044f".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY \u043e\u043d\u044b MMMM\u044b\u043d D",LLL:"YYYY \u043e\u043d\u044b MMMM\u044b\u043d D HH:mm",LLLL:"dddd, YYYY \u043e\u043d\u044b MMMM\u044b\u043d D HH:mm"},meridiemParse:/\u04ae\u04e8|\u04ae\u0425/i,isPM:function(x){return"\u04ae\u0425"===x},meridiem:function(x,de,Ce){return x<12?"\u04ae\u04e8":"\u04ae\u0425"},calendar:{sameDay:"[\u04e8\u043d\u04e9\u04e9\u0434\u04e9\u0440] LT",nextDay:"[\u041c\u0430\u0440\u0433\u0430\u0430\u0448] LT",nextWeek:"[\u0418\u0440\u044d\u0445] dddd LT",lastDay:"[\u04e8\u0447\u0438\u0433\u0434\u04e9\u0440] LT",lastWeek:"[\u04e8\u043d\u0433\u04e9\u0440\u0441\u04e9\u043d] dddd LT",sameElse:"L"},relativeTime:{future:"%s \u0434\u0430\u0440\u0430\u0430",past:"%s \u04e9\u043c\u043d\u04e9",s:$,ss:$,m:$,mm:$,h:$,hh:$,d:$,dd:$,M:$,MM:$,y:$,yy:$},dayOfMonthOrdinalParse:/\d{1,2} \u04e9\u0434\u04e9\u0440/,ordinal:function(x,de){switch(de){case"d":case"D":case"DDD":return x+" \u04e9\u0434\u04e9\u0440";default:return x}}})}(Ae(6738))},2805:function(Ut,kt,Ae){!function(o){"use strict";var $={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},ee={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"};function x(Ce,Ee,Me,Be){var Ge="";if(Ee)switch(Me){case"s":Ge="\u0915\u093e\u0939\u0940 \u0938\u0947\u0915\u0902\u0926";break;case"ss":Ge="%d \u0938\u0947\u0915\u0902\u0926";break;case"m":Ge="\u090f\u0915 \u092e\u093f\u0928\u093f\u091f";break;case"mm":Ge="%d \u092e\u093f\u0928\u093f\u091f\u0947";break;case"h":Ge="\u090f\u0915 \u0924\u093e\u0938";break;case"hh":Ge="%d \u0924\u093e\u0938";break;case"d":Ge="\u090f\u0915 \u0926\u093f\u0935\u0938";break;case"dd":Ge="%d \u0926\u093f\u0935\u0938";break;case"M":Ge="\u090f\u0915 \u092e\u0939\u093f\u0928\u093e";break;case"MM":Ge="%d \u092e\u0939\u093f\u0928\u0947";break;case"y":Ge="\u090f\u0915 \u0935\u0930\u094d\u0937";break;case"yy":Ge="%d \u0935\u0930\u094d\u0937\u0947"}else switch(Me){case"s":Ge="\u0915\u093e\u0939\u0940 \u0938\u0947\u0915\u0902\u0926\u093e\u0902";break;case"ss":Ge="%d \u0938\u0947\u0915\u0902\u0926\u093e\u0902";break;case"m":Ge="\u090f\u0915\u093e \u092e\u093f\u0928\u093f\u091f\u093e";break;case"mm":Ge="%d \u092e\u093f\u0928\u093f\u091f\u093e\u0902";break;case"h":Ge="\u090f\u0915\u093e \u0924\u093e\u0938\u093e";break;case"hh":Ge="%d \u0924\u093e\u0938\u093e\u0902";break;case"d":Ge="\u090f\u0915\u093e \u0926\u093f\u0935\u0938\u093e";break;case"dd":Ge="%d \u0926\u093f\u0935\u0938\u093e\u0902";break;case"M":Ge="\u090f\u0915\u093e \u092e\u0939\u093f\u0928\u094d\u092f\u093e";break;case"MM":Ge="%d \u092e\u0939\u093f\u0928\u094d\u092f\u093e\u0902";break;case"y":Ge="\u090f\u0915\u093e \u0935\u0930\u094d\u0937\u093e";break;case"yy":Ge="%d \u0935\u0930\u094d\u0937\u093e\u0902"}return Ge.replace(/%d/i,Ce)}o.defineLocale("mr",{months:"\u091c\u093e\u0928\u0947\u0935\u093e\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u093e\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u090f\u092a\u094d\u0930\u093f\u0932_\u092e\u0947_\u091c\u0942\u0928_\u091c\u0941\u0932\u0948_\u0911\u0917\u0938\u094d\u091f_\u0938\u092a\u094d\u091f\u0947\u0902\u092c\u0930_\u0911\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u0935\u094d\u0939\u0947\u0902\u092c\u0930_\u0921\u093f\u0938\u0947\u0902\u092c\u0930".split("_"),monthsShort:"\u091c\u093e\u0928\u0947._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a._\u090f\u092a\u094d\u0930\u093f._\u092e\u0947._\u091c\u0942\u0928._\u091c\u0941\u0932\u0948._\u0911\u0917._\u0938\u092a\u094d\u091f\u0947\u0902._\u0911\u0915\u094d\u091f\u094b._\u0928\u094b\u0935\u094d\u0939\u0947\u0902._\u0921\u093f\u0938\u0947\u0902.".split("_"),monthsParseExact:!0,weekdays:"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0933\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0933_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),weekdaysMin:"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),longDateFormat:{LT:"A h:mm \u0935\u093e\u091c\u0924\u093e",LTS:"A h:mm:ss \u0935\u093e\u091c\u0924\u093e",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0935\u093e\u091c\u0924\u093e",LLLL:"dddd, D MMMM YYYY, A h:mm \u0935\u093e\u091c\u0924\u093e"},calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u0909\u0926\u094d\u092f\u093e] LT",nextWeek:"dddd, LT",lastDay:"[\u0915\u093e\u0932] LT",lastWeek:"[\u092e\u093e\u0917\u0940\u0932] dddd, LT",sameElse:"L"},relativeTime:{future:"%s\u092e\u0927\u094d\u092f\u0947",past:"%s\u092a\u0942\u0930\u094d\u0935\u0940",s:x,ss:x,m:x,mm:x,h:x,hh:x,d:x,dd:x,M:x,MM:x,y:x,yy:x},preparse:function(Ce){return Ce.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(Ee){return ee[Ee]})},postformat:function(Ce){return Ce.replace(/\d/g,function(Ee){return $[Ee]})},meridiemParse:/\u092a\u0939\u093e\u091f\u0947|\u0938\u0915\u093e\u0933\u0940|\u0926\u0941\u092a\u093e\u0930\u0940|\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940|\u0930\u093e\u0924\u094d\u0930\u0940/,meridiemHour:function(Ce,Ee){return 12===Ce&&(Ce=0),"\u092a\u0939\u093e\u091f\u0947"===Ee||"\u0938\u0915\u093e\u0933\u0940"===Ee?Ce:"\u0926\u0941\u092a\u093e\u0930\u0940"===Ee||"\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940"===Ee||"\u0930\u093e\u0924\u094d\u0930\u0940"===Ee?Ce>=12?Ce:Ce+12:void 0},meridiem:function(Ce,Ee,Me){return Ce>=0&&Ce<6?"\u092a\u0939\u093e\u091f\u0947":Ce<12?"\u0938\u0915\u093e\u0933\u0940":Ce<17?"\u0926\u0941\u092a\u093e\u0930\u0940":Ce<20?"\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940":"\u0930\u093e\u0924\u094d\u0930\u0940"},week:{dow:0,doy:6}})}(Ae(6738))},9900:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(ee,x){return 12===ee&&(ee=0),"pagi"===x?ee:"tengahari"===x?ee>=11?ee:ee+12:"petang"===x||"malam"===x?ee+12:void 0},meridiem:function(ee,x,de){return ee<11?"pagi":ee<15?"tengahari":ee<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(Ae(6738))},1341:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(ee,x){return 12===ee&&(ee=0),"pagi"===x?ee:"tengahari"===x?ee>=11?ee:ee+12:"petang"===x||"malam"===x?ee+12:void 0},meridiem:function(ee,x,de){return ee<11?"pagi":ee<15?"tengahari":ee<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(Ae(6738))},7734:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_\u0120unju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Di\u010bembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_\u0120un_Lul_Aww_Set_Ott_Nov_Di\u010b".split("_"),weekdays:"Il-\u0126add_It-Tnejn_It-Tlieta_L-Erbg\u0127a_Il-\u0126amis_Il-\u0120img\u0127a_Is-Sibt".split("_"),weekdaysShort:"\u0126ad_Tne_Tli_Erb_\u0126am_\u0120im_Sib".split("_"),weekdaysMin:"\u0126a_Tn_Tl_Er_\u0126a_\u0120i_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[G\u0127ada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-biera\u0127 fil-]LT",lastWeek:"dddd [li g\u0127adda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f\u2019 %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"sieg\u0127a",hh:"%d sieg\u0127at",d:"\u0121urnata",dd:"%d \u0121ranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(Ae(6738))},9034:function(Ut,kt,Ae){!function(o){"use strict";var $={1:"\u1041",2:"\u1042",3:"\u1043",4:"\u1044",5:"\u1045",6:"\u1046",7:"\u1047",8:"\u1048",9:"\u1049",0:"\u1040"},ee={"\u1041":"1","\u1042":"2","\u1043":"3","\u1044":"4","\u1045":"5","\u1046":"6","\u1047":"7","\u1048":"8","\u1049":"9","\u1040":"0"};o.defineLocale("my",{months:"\u1007\u1014\u103a\u1014\u101d\u102b\u101b\u102e_\u1016\u1031\u1016\u1031\u102c\u103a\u101d\u102b\u101b\u102e_\u1019\u1010\u103a_\u1027\u1015\u103c\u102e_\u1019\u1031_\u1007\u103d\u1014\u103a_\u1007\u1030\u101c\u102d\u102f\u1004\u103a_\u101e\u103c\u1002\u102f\u1010\u103a_\u1005\u1000\u103a\u1010\u1004\u103a\u1018\u102c_\u1021\u1031\u102c\u1000\u103a\u1010\u102d\u102f\u1018\u102c_\u1014\u102d\u102f\u101d\u1004\u103a\u1018\u102c_\u1012\u102e\u1007\u1004\u103a\u1018\u102c".split("_"),monthsShort:"\u1007\u1014\u103a_\u1016\u1031_\u1019\u1010\u103a_\u1015\u103c\u102e_\u1019\u1031_\u1007\u103d\u1014\u103a_\u101c\u102d\u102f\u1004\u103a_\u101e\u103c_\u1005\u1000\u103a_\u1021\u1031\u102c\u1000\u103a_\u1014\u102d\u102f_\u1012\u102e".split("_"),weekdays:"\u1010\u1014\u1004\u103a\u1039\u1002\u1014\u103d\u1031_\u1010\u1014\u1004\u103a\u1039\u101c\u102c_\u1021\u1004\u103a\u1039\u1002\u102b_\u1017\u102f\u1012\u1039\u1013\u101f\u1030\u1038_\u1000\u103c\u102c\u101e\u1015\u1010\u1031\u1038_\u101e\u1031\u102c\u1000\u103c\u102c_\u1005\u1014\u1031".split("_"),weekdaysShort:"\u1014\u103d\u1031_\u101c\u102c_\u1002\u102b_\u101f\u1030\u1038_\u1000\u103c\u102c_\u101e\u1031\u102c_\u1014\u1031".split("_"),weekdaysMin:"\u1014\u103d\u1031_\u101c\u102c_\u1002\u102b_\u101f\u1030\u1038_\u1000\u103c\u102c_\u101e\u1031\u102c_\u1014\u1031".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u101a\u1014\u1031.] LT [\u1019\u103e\u102c]",nextDay:"[\u1019\u1014\u1000\u103a\u1016\u103c\u1014\u103a] LT [\u1019\u103e\u102c]",nextWeek:"dddd LT [\u1019\u103e\u102c]",lastDay:"[\u1019\u1014\u1031.\u1000] LT [\u1019\u103e\u102c]",lastWeek:"[\u1015\u103c\u102e\u1038\u1001\u1032\u1037\u101e\u1031\u102c] dddd LT [\u1019\u103e\u102c]",sameElse:"L"},relativeTime:{future:"\u101c\u102c\u1019\u100a\u103a\u1037 %s \u1019\u103e\u102c",past:"\u101c\u103d\u1014\u103a\u1001\u1032\u1037\u101e\u1031\u102c %s \u1000",s:"\u1005\u1000\u1039\u1000\u1014\u103a.\u1021\u1014\u100a\u103a\u1038\u1004\u101a\u103a",ss:"%d \u1005\u1000\u1039\u1000\u1014\u1037\u103a",m:"\u1010\u1005\u103a\u1019\u102d\u1014\u1005\u103a",mm:"%d \u1019\u102d\u1014\u1005\u103a",h:"\u1010\u1005\u103a\u1014\u102c\u101b\u102e",hh:"%d \u1014\u102c\u101b\u102e",d:"\u1010\u1005\u103a\u101b\u1000\u103a",dd:"%d \u101b\u1000\u103a",M:"\u1010\u1005\u103a\u101c",MM:"%d \u101c",y:"\u1010\u1005\u103a\u1014\u103e\u1005\u103a",yy:"%d \u1014\u103e\u1005\u103a"},preparse:function(de){return de.replace(/[\u1041\u1042\u1043\u1044\u1045\u1046\u1047\u1048\u1049\u1040]/g,function(Ce){return ee[Ce]})},postformat:function(de){return de.replace(/\d/g,function(Ce){return $[Ce]})},week:{dow:1,doy:4}})}(Ae(6738))},9324:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),weekdaysShort:"s\xf8._ma._ti._on._to._fr._l\xf8.".split("_"),weekdaysMin:"s\xf8_ma_ti_on_to_fr_l\xf8".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i g\xe5r kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",w:"en uke",ww:"%d uker",M:"en m\xe5ned",MM:"%d m\xe5neder",y:"ett \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(Ae(6738))},6495:function(Ut,kt,Ae){!function(o){"use strict";var $={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},ee={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"};o.defineLocale("ne",{months:"\u091c\u0928\u0935\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u093f\u0932_\u092e\u0908_\u091c\u0941\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0937\u094d\u091f_\u0938\u0947\u092a\u094d\u091f\u0947\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u092d\u0947\u092e\u094d\u092c\u0930_\u0921\u093f\u0938\u0947\u092e\u094d\u092c\u0930".split("_"),monthsShort:"\u091c\u0928._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u093f._\u092e\u0908_\u091c\u0941\u0928_\u091c\u0941\u0932\u093e\u0908._\u0905\u0917._\u0938\u0947\u092a\u094d\u091f._\u0905\u0915\u094d\u091f\u094b._\u0928\u094b\u092d\u0947._\u0921\u093f\u0938\u0947.".split("_"),monthsParseExact:!0,weekdays:"\u0906\u0907\u0924\u092c\u093e\u0930_\u0938\u094b\u092e\u092c\u093e\u0930_\u092e\u0919\u094d\u0917\u0932\u092c\u093e\u0930_\u092c\u0941\u0927\u092c\u093e\u0930_\u092c\u093f\u0939\u093f\u092c\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u092c\u093e\u0930_\u0936\u0928\u093f\u092c\u093e\u0930".split("_"),weekdaysShort:"\u0906\u0907\u0924._\u0938\u094b\u092e._\u092e\u0919\u094d\u0917\u0932._\u092c\u0941\u0927._\u092c\u093f\u0939\u093f._\u0936\u0941\u0915\u094d\u0930._\u0936\u0928\u093f.".split("_"),weekdaysMin:"\u0906._\u0938\u094b._\u092e\u0902._\u092c\u0941._\u092c\u093f._\u0936\u0941._\u0936.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A\u0915\u094b h:mm \u092c\u091c\u0947",LTS:"A\u0915\u094b h:mm:ss \u092c\u091c\u0947",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A\u0915\u094b h:mm \u092c\u091c\u0947",LLLL:"dddd, D MMMM YYYY, A\u0915\u094b h:mm \u092c\u091c\u0947"},preparse:function(de){return de.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(Ce){return ee[Ce]})},postformat:function(de){return de.replace(/\d/g,function(Ce){return $[Ce]})},meridiemParse:/\u0930\u093e\u0924\u093f|\u092c\u093f\u0939\u093e\u0928|\u0926\u093f\u0909\u0901\u0938\u094b|\u0938\u093e\u0901\u091d/,meridiemHour:function(de,Ce){return 12===de&&(de=0),"\u0930\u093e\u0924\u093f"===Ce?de<4?de:de+12:"\u092c\u093f\u0939\u093e\u0928"===Ce?de:"\u0926\u093f\u0909\u0901\u0938\u094b"===Ce?de>=10?de:de+12:"\u0938\u093e\u0901\u091d"===Ce?de+12:void 0},meridiem:function(de,Ce,Ee){return de<3?"\u0930\u093e\u0924\u093f":de<12?"\u092c\u093f\u0939\u093e\u0928":de<16?"\u0926\u093f\u0909\u0901\u0938\u094b":de<20?"\u0938\u093e\u0901\u091d":"\u0930\u093e\u0924\u093f"},calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u092d\u094b\u0932\u093f] LT",nextWeek:"[\u0906\u0909\u0901\u0926\u094b] dddd[,] LT",lastDay:"[\u0939\u093f\u091c\u094b] LT",lastWeek:"[\u0917\u090f\u0915\u094b] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s\u092e\u093e",past:"%s \u0905\u0917\u093e\u0921\u093f",s:"\u0915\u0947\u0939\u0940 \u0915\u094d\u0937\u0923",ss:"%d \u0938\u0947\u0915\u0947\u0923\u094d\u0921",m:"\u090f\u0915 \u092e\u093f\u0928\u0947\u091f",mm:"%d \u092e\u093f\u0928\u0947\u091f",h:"\u090f\u0915 \u0918\u0923\u094d\u091f\u093e",hh:"%d \u0918\u0923\u094d\u091f\u093e",d:"\u090f\u0915 \u0926\u093f\u0928",dd:"%d \u0926\u093f\u0928",M:"\u090f\u0915 \u092e\u0939\u093f\u0928\u093e",MM:"%d \u092e\u0939\u093f\u0928\u093e",y:"\u090f\u0915 \u092c\u0930\u094d\u0937",yy:"%d \u092c\u0930\u094d\u0937"},week:{dow:0,doy:6}})}(Ae(6738))},6272:function(Ut,kt,Ae){!function(o){"use strict";var $="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),ee="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),x=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],de=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;o.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(Ee,Me){return Ee?/-MMM-/.test(Me)?ee[Ee.month()]:$[Ee.month()]:$},monthsRegex:de,monthsShortRegex:de,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:x,longMonthsParse:x,shortMonthsParse:x,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"\xe9\xe9n minuut",mm:"%d minuten",h:"\xe9\xe9n uur",hh:"%d uur",d:"\xe9\xe9n dag",dd:"%d dagen",M:"\xe9\xe9n maand",MM:"%d maanden",y:"\xe9\xe9n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(Ee){return Ee+(1===Ee||8===Ee||Ee>=20?"ste":"de")},week:{dow:1,doy:4}})}(Ae(6738))},673:function(Ut,kt,Ae){!function(o){"use strict";var $="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),ee="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),x=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],de=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;o.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(Ee,Me){return Ee?/-MMM-/.test(Me)?ee[Ee.month()]:$[Ee.month()]:$},monthsRegex:de,monthsShortRegex:de,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:x,longMonthsParse:x,shortMonthsParse:x,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"\xe9\xe9n minuut",mm:"%d minuten",h:"\xe9\xe9n uur",hh:"%d uur",d:"\xe9\xe9n dag",dd:"%d dagen",w:"\xe9\xe9n week",ww:"%d weken",M:"\xe9\xe9n maand",MM:"%d maanden",y:"\xe9\xe9n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(Ee){return Ee+(1===Ee||8===Ee||Ee>=20?"ste":"de")},week:{dow:1,doy:4}})}(Ae(6738))},2486:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sundag_m\xe5ndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"su._m\xe5._ty._on._to._fr._lau.".split("_"),weekdaysMin:"su_m\xe5_ty_on_to_fr_la".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I g\xe5r klokka] LT",lastWeek:"[F\xf8reg\xe5ande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",w:"ei veke",ww:"%d veker",M:"ein m\xe5nad",MM:"%d m\xe5nader",y:"eit \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(Ae(6738))},6219:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("oc-lnc",{months:{standalone:"geni\xe8r_febri\xe8r_mar\xe7_abril_mai_junh_julhet_agost_setembre_oct\xf2bre_novembre_decembre".split("_"),format:"de geni\xe8r_de febri\xe8r_de mar\xe7_d'abril_de mai_de junh_de julhet_d'agost_de setembre_d'oct\xf2bre_de novembre_de decembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar\xe7_abr._mai_junh_julh._ago._set._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"dimenge_diluns_dimars_dim\xe8cres_dij\xf2us_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dm._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dm_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:"[u\xe8i a] LT",nextDay:"[deman a] LT",nextWeek:"dddd [a] LT",lastDay:"[i\xe8r a] LT",lastWeek:"dddd [passat a] LT",sameElse:"L"},relativeTime:{future:"d'aqu\xed %s",past:"fa %s",s:"unas segondas",ss:"%d segondas",m:"una minuta",mm:"%d minutas",h:"una ora",hh:"%d oras",d:"un jorn",dd:"%d jorns",M:"un mes",MM:"%d meses",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|\xe8|a)/,ordinal:function(ee,x){var de=1===ee?"r":2===ee?"n":3===ee?"r":4===ee?"t":"\xe8";return("w"===x||"W"===x)&&(de="a"),ee+de},week:{dow:1,doy:4}})}(Ae(6738))},2829:function(Ut,kt,Ae){!function(o){"use strict";var $={1:"\u0a67",2:"\u0a68",3:"\u0a69",4:"\u0a6a",5:"\u0a6b",6:"\u0a6c",7:"\u0a6d",8:"\u0a6e",9:"\u0a6f",0:"\u0a66"},ee={"\u0a67":"1","\u0a68":"2","\u0a69":"3","\u0a6a":"4","\u0a6b":"5","\u0a6c":"6","\u0a6d":"7","\u0a6e":"8","\u0a6f":"9","\u0a66":"0"};o.defineLocale("pa-in",{months:"\u0a1c\u0a28\u0a35\u0a30\u0a40_\u0a2b\u0a3c\u0a30\u0a35\u0a30\u0a40_\u0a2e\u0a3e\u0a30\u0a1a_\u0a05\u0a2a\u0a4d\u0a30\u0a48\u0a32_\u0a2e\u0a08_\u0a1c\u0a42\u0a28_\u0a1c\u0a41\u0a32\u0a3e\u0a08_\u0a05\u0a17\u0a38\u0a24_\u0a38\u0a24\u0a70\u0a2c\u0a30_\u0a05\u0a15\u0a24\u0a42\u0a2c\u0a30_\u0a28\u0a35\u0a70\u0a2c\u0a30_\u0a26\u0a38\u0a70\u0a2c\u0a30".split("_"),monthsShort:"\u0a1c\u0a28\u0a35\u0a30\u0a40_\u0a2b\u0a3c\u0a30\u0a35\u0a30\u0a40_\u0a2e\u0a3e\u0a30\u0a1a_\u0a05\u0a2a\u0a4d\u0a30\u0a48\u0a32_\u0a2e\u0a08_\u0a1c\u0a42\u0a28_\u0a1c\u0a41\u0a32\u0a3e\u0a08_\u0a05\u0a17\u0a38\u0a24_\u0a38\u0a24\u0a70\u0a2c\u0a30_\u0a05\u0a15\u0a24\u0a42\u0a2c\u0a30_\u0a28\u0a35\u0a70\u0a2c\u0a30_\u0a26\u0a38\u0a70\u0a2c\u0a30".split("_"),weekdays:"\u0a10\u0a24\u0a35\u0a3e\u0a30_\u0a38\u0a4b\u0a2e\u0a35\u0a3e\u0a30_\u0a2e\u0a70\u0a17\u0a32\u0a35\u0a3e\u0a30_\u0a2c\u0a41\u0a27\u0a35\u0a3e\u0a30_\u0a35\u0a40\u0a30\u0a35\u0a3e\u0a30_\u0a38\u0a3c\u0a41\u0a71\u0a15\u0a30\u0a35\u0a3e\u0a30_\u0a38\u0a3c\u0a28\u0a40\u0a1a\u0a30\u0a35\u0a3e\u0a30".split("_"),weekdaysShort:"\u0a10\u0a24_\u0a38\u0a4b\u0a2e_\u0a2e\u0a70\u0a17\u0a32_\u0a2c\u0a41\u0a27_\u0a35\u0a40\u0a30_\u0a38\u0a3c\u0a41\u0a15\u0a30_\u0a38\u0a3c\u0a28\u0a40".split("_"),weekdaysMin:"\u0a10\u0a24_\u0a38\u0a4b\u0a2e_\u0a2e\u0a70\u0a17\u0a32_\u0a2c\u0a41\u0a27_\u0a35\u0a40\u0a30_\u0a38\u0a3c\u0a41\u0a15\u0a30_\u0a38\u0a3c\u0a28\u0a40".split("_"),longDateFormat:{LT:"A h:mm \u0a35\u0a1c\u0a47",LTS:"A h:mm:ss \u0a35\u0a1c\u0a47",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0a35\u0a1c\u0a47",LLLL:"dddd, D MMMM YYYY, A h:mm \u0a35\u0a1c\u0a47"},calendar:{sameDay:"[\u0a05\u0a1c] LT",nextDay:"[\u0a15\u0a32] LT",nextWeek:"[\u0a05\u0a17\u0a32\u0a3e] dddd, LT",lastDay:"[\u0a15\u0a32] LT",lastWeek:"[\u0a2a\u0a3f\u0a1b\u0a32\u0a47] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0a35\u0a3f\u0a71\u0a1a",past:"%s \u0a2a\u0a3f\u0a1b\u0a32\u0a47",s:"\u0a15\u0a41\u0a1d \u0a38\u0a15\u0a3f\u0a70\u0a1f",ss:"%d \u0a38\u0a15\u0a3f\u0a70\u0a1f",m:"\u0a07\u0a15 \u0a2e\u0a3f\u0a70\u0a1f",mm:"%d \u0a2e\u0a3f\u0a70\u0a1f",h:"\u0a07\u0a71\u0a15 \u0a18\u0a70\u0a1f\u0a3e",hh:"%d \u0a18\u0a70\u0a1f\u0a47",d:"\u0a07\u0a71\u0a15 \u0a26\u0a3f\u0a28",dd:"%d \u0a26\u0a3f\u0a28",M:"\u0a07\u0a71\u0a15 \u0a2e\u0a39\u0a40\u0a28\u0a3e",MM:"%d \u0a2e\u0a39\u0a40\u0a28\u0a47",y:"\u0a07\u0a71\u0a15 \u0a38\u0a3e\u0a32",yy:"%d \u0a38\u0a3e\u0a32"},preparse:function(de){return de.replace(/[\u0a67\u0a68\u0a69\u0a6a\u0a6b\u0a6c\u0a6d\u0a6e\u0a6f\u0a66]/g,function(Ce){return ee[Ce]})},postformat:function(de){return de.replace(/\d/g,function(Ce){return $[Ce]})},meridiemParse:/\u0a30\u0a3e\u0a24|\u0a38\u0a35\u0a47\u0a30|\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30|\u0a38\u0a3c\u0a3e\u0a2e/,meridiemHour:function(de,Ce){return 12===de&&(de=0),"\u0a30\u0a3e\u0a24"===Ce?de<4?de:de+12:"\u0a38\u0a35\u0a47\u0a30"===Ce?de:"\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30"===Ce?de>=10?de:de+12:"\u0a38\u0a3c\u0a3e\u0a2e"===Ce?de+12:void 0},meridiem:function(de,Ce,Ee){return de<4?"\u0a30\u0a3e\u0a24":de<10?"\u0a38\u0a35\u0a47\u0a30":de<17?"\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30":de<20?"\u0a38\u0a3c\u0a3e\u0a2e":"\u0a30\u0a3e\u0a24"},week:{dow:0,doy:6}})}(Ae(6738))},8444:function(Ut,kt,Ae){!function(o){"use strict";var $="stycze\u0144_luty_marzec_kwiecie\u0144_maj_czerwiec_lipiec_sierpie\u0144_wrzesie\u0144_pa\u017adziernik_listopad_grudzie\u0144".split("_"),ee="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrze\u015bnia_pa\u017adziernika_listopada_grudnia".split("_"),x=[/^sty/i,/^lut/i,/^mar/i,/^kwi/i,/^maj/i,/^cze/i,/^lip/i,/^sie/i,/^wrz/i,/^pa\u017a/i,/^lis/i,/^gru/i];function de(Me){return Me%10<5&&Me%10>1&&~~(Me/10)%10!=1}function Ce(Me,Be,Ge){var Mt=Me+" ";switch(Ge){case"ss":return Mt+(de(Me)?"sekundy":"sekund");case"m":return Be?"minuta":"minut\u0119";case"mm":return Mt+(de(Me)?"minuty":"minut");case"h":return Be?"godzina":"godzin\u0119";case"hh":return Mt+(de(Me)?"godziny":"godzin");case"ww":return Mt+(de(Me)?"tygodnie":"tygodni");case"MM":return Mt+(de(Me)?"miesi\u0105ce":"miesi\u0119cy");case"yy":return Mt+(de(Me)?"lata":"lat")}}o.defineLocale("pl",{months:function(Me,Be){return Me?/D MMMM/.test(Be)?ee[Me.month()]:$[Me.month()]:$},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa\u017a_lis_gru".split("_"),monthsParse:x,longMonthsParse:x,shortMonthsParse:x,weekdays:"niedziela_poniedzia\u0142ek_wtorek_\u015broda_czwartek_pi\u0105tek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_\u015br_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_\u015ar_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi\u015b o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel\u0119 o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W \u015brod\u0119 o] LT";case 6:return"[W sobot\u0119 o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz\u0142\u0105 niedziel\u0119 o] LT";case 3:return"[W zesz\u0142\u0105 \u015brod\u0119 o] LT";case 6:return"[W zesz\u0142\u0105 sobot\u0119 o] LT";default:return"[W zesz\u0142y] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:Ce,m:Ce,mm:Ce,h:Ce,hh:Ce,d:"1 dzie\u0144",dd:"%d dni",w:"tydzie\u0144",ww:Ce,M:"miesi\u0105c",MM:Ce,y:"rok",yy:Ce},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(Ae(6738))},6117:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("pt-br",{months:"janeiro_fevereiro_mar\xe7o_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_ter\xe7a-feira_quarta-feira_quinta-feira_sexta-feira_s\xe1bado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_s\xe1b".split("_"),weekdaysMin:"do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [\xe0s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [\xe0s] HH:mm"},calendar:{sameDay:"[Hoje \xe0s] LT",nextDay:"[Amanh\xe3 \xe0s] LT",nextWeek:"dddd [\xe0s] LT",lastDay:"[Ontem \xe0s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[\xdaltimo] dddd [\xe0s] LT":"[\xdaltima] dddd [\xe0s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h\xe1 %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um m\xeas",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",invalidDate:"Data inv\xe1lida"})}(Ae(6738))},3170:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("pt",{months:"janeiro_fevereiro_mar\xe7o_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Ter\xe7a-feira_Quarta-feira_Quinta-feira_Sexta-feira_S\xe1bado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_S\xe1b".split("_"),weekdaysMin:"Do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_S\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje \xe0s] LT",nextDay:"[Amanh\xe3 \xe0s] LT",nextWeek:"dddd [\xe0s] LT",lastDay:"[Ontem \xe0s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[\xdaltimo] dddd [\xe0s] LT":"[\xdaltima] dddd [\xe0s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h\xe1 %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",w:"uma semana",ww:"%d semanas",M:"um m\xeas",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(Ae(6738))},6587:function(Ut,kt,Ae){!function(o){"use strict";function $(x,de,Ce){var Me=" ";return(x%100>=20||x>=100&&x%100==0)&&(Me=" de "),x+Me+{ss:"secunde",mm:"minute",hh:"ore",dd:"zile",ww:"s\u0103pt\u0103m\xe2ni",MM:"luni",yy:"ani"}[Ce]}o.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._feb._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminic\u0103_luni_mar\u021bi_miercuri_joi_vineri_s\xe2mb\u0103t\u0103".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_S\xe2m".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S\xe2".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[m\xe2ine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s \xeen urm\u0103",s:"c\xe2teva secunde",ss:$,m:"un minut",mm:$,h:"o or\u0103",hh:$,d:"o zi",dd:$,w:"o s\u0103pt\u0103m\xe2n\u0103",ww:$,M:"o lun\u0103",MM:$,y:"un an",yy:$},week:{dow:1,doy:7}})}(Ae(6738))},9264:function(Ut,kt,Ae){!function(o){"use strict";function ee(Ce,Ee,Me){return"m"===Me?Ee?"\u043c\u0438\u043d\u0443\u0442\u0430":"\u043c\u0438\u043d\u0443\u0442\u0443":Ce+" "+function(Ce,Ee){var Me=Ce.split("_");return Ee%10==1&&Ee%100!=11?Me[0]:Ee%10>=2&&Ee%10<=4&&(Ee%100<10||Ee%100>=20)?Me[1]:Me[2]}({ss:Ee?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434",mm:Ee?"\u043c\u0438\u043d\u0443\u0442\u0430_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442":"\u043c\u0438\u043d\u0443\u0442\u0443_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442",hh:"\u0447\u0430\u0441_\u0447\u0430\u0441\u0430_\u0447\u0430\u0441\u043e\u0432",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u044f_\u0434\u043d\u0435\u0439",ww:"\u043d\u0435\u0434\u0435\u043b\u044f_\u043d\u0435\u0434\u0435\u043b\u0438_\u043d\u0435\u0434\u0435\u043b\u044c",MM:"\u043c\u0435\u0441\u044f\u0446_\u043c\u0435\u0441\u044f\u0446\u0430_\u043c\u0435\u0441\u044f\u0446\u0435\u0432",yy:"\u0433\u043e\u0434_\u0433\u043e\u0434\u0430_\u043b\u0435\u0442"}[Me],+Ce)}var x=[/^\u044f\u043d\u0432/i,/^\u0444\u0435\u0432/i,/^\u043c\u0430\u0440/i,/^\u0430\u043f\u0440/i,/^\u043c\u0430[\u0439\u044f]/i,/^\u0438\u044e\u043d/i,/^\u0438\u044e\u043b/i,/^\u0430\u0432\u0433/i,/^\u0441\u0435\u043d/i,/^\u043e\u043a\u0442/i,/^\u043d\u043e\u044f/i,/^\u0434\u0435\u043a/i];o.defineLocale("ru",{months:{format:"\u044f\u043d\u0432\u0430\u0440\u044f_\u0444\u0435\u0432\u0440\u0430\u043b\u044f_\u043c\u0430\u0440\u0442\u0430_\u0430\u043f\u0440\u0435\u043b\u044f_\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433\u0443\u0441\u0442\u0430_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f_\u043e\u043a\u0442\u044f\u0431\u0440\u044f_\u043d\u043e\u044f\u0431\u0440\u044f_\u0434\u0435\u043a\u0430\u0431\u0440\u044f".split("_"),standalone:"\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_")},monthsShort:{format:"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),standalone:"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440\u0442_\u0430\u043f\u0440._\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_")},weekdays:{standalone:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0430_\u0441\u0443\u0431\u0431\u043e\u0442\u0430".split("_"),format:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0443_\u0441\u0443\u0431\u0431\u043e\u0442\u0443".split("_"),isFormat:/\[ ?[\u0412\u0432] ?(?:\u043f\u0440\u043e\u0448\u043b\u0443\u044e|\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e|\u044d\u0442\u0443)? ?] ?dddd/},weekdaysShort:"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),monthsParse:x,longMonthsParse:x,shortMonthsParse:x,monthsRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044c\u044f]|\u044f\u043d\u0432\.?|\u0444\u0435\u0432\u0440\u0430\u043b[\u044c\u044f]|\u0444\u0435\u0432\u0440?\.?|\u043c\u0430\u0440\u0442\u0430?|\u043c\u0430\u0440\.?|\u0430\u043f\u0440\u0435\u043b[\u044c\u044f]|\u0430\u043f\u0440\.?|\u043c\u0430[\u0439\u044f]|\u0438\u044e\u043d[\u044c\u044f]|\u0438\u044e\u043d\.?|\u0438\u044e\u043b[\u044c\u044f]|\u0438\u044e\u043b\.?|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0430\u0432\u0433\.?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044c\u044f]|\u0441\u0435\u043d\u0442?\.?|\u043e\u043a\u0442\u044f\u0431\u0440[\u044c\u044f]|\u043e\u043a\u0442\.?|\u043d\u043e\u044f\u0431\u0440[\u044c\u044f]|\u043d\u043e\u044f\u0431?\.?|\u0434\u0435\u043a\u0430\u0431\u0440[\u044c\u044f]|\u0434\u0435\u043a\.?)/i,monthsShortRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044c\u044f]|\u044f\u043d\u0432\.?|\u0444\u0435\u0432\u0440\u0430\u043b[\u044c\u044f]|\u0444\u0435\u0432\u0440?\.?|\u043c\u0430\u0440\u0442\u0430?|\u043c\u0430\u0440\.?|\u0430\u043f\u0440\u0435\u043b[\u044c\u044f]|\u0430\u043f\u0440\.?|\u043c\u0430[\u0439\u044f]|\u0438\u044e\u043d[\u044c\u044f]|\u0438\u044e\u043d\.?|\u0438\u044e\u043b[\u044c\u044f]|\u0438\u044e\u043b\.?|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0430\u0432\u0433\.?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044c\u044f]|\u0441\u0435\u043d\u0442?\.?|\u043e\u043a\u0442\u044f\u0431\u0440[\u044c\u044f]|\u043e\u043a\u0442\.?|\u043d\u043e\u044f\u0431\u0440[\u044c\u044f]|\u043d\u043e\u044f\u0431?\.?|\u0434\u0435\u043a\u0430\u0431\u0440[\u044c\u044f]|\u0434\u0435\u043a\.?)/i,monthsStrictRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044f\u044c]|\u0444\u0435\u0432\u0440\u0430\u043b[\u044f\u044c]|\u043c\u0430\u0440\u0442\u0430?|\u0430\u043f\u0440\u0435\u043b[\u044f\u044c]|\u043c\u0430[\u044f\u0439]|\u0438\u044e\u043d[\u044f\u044c]|\u0438\u044e\u043b[\u044f\u044c]|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044f\u044c]|\u043e\u043a\u0442\u044f\u0431\u0440[\u044f\u044c]|\u043d\u043e\u044f\u0431\u0440[\u044f\u044c]|\u0434\u0435\u043a\u0430\u0431\u0440[\u044f\u044c])/i,monthsShortStrictRegex:/^(\u044f\u043d\u0432\.|\u0444\u0435\u0432\u0440?\.|\u043c\u0430\u0440[\u0442.]|\u0430\u043f\u0440\.|\u043c\u0430[\u044f\u0439]|\u0438\u044e\u043d[\u044c\u044f.]|\u0438\u044e\u043b[\u044c\u044f.]|\u0430\u0432\u0433\.|\u0441\u0435\u043d\u0442?\.|\u043e\u043a\u0442\.|\u043d\u043e\u044f\u0431?\.|\u0434\u0435\u043a\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., H:mm",LLLL:"dddd, D MMMM YYYY \u0433., H:mm"},calendar:{sameDay:"[\u0421\u0435\u0433\u043e\u0434\u043d\u044f, \u0432] LT",nextDay:"[\u0417\u0430\u0432\u0442\u0440\u0430, \u0432] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430, \u0432] LT",nextWeek:function(Ce){if(Ce.week()===this.week())return 2===this.day()?"[\u0412\u043e] dddd, [\u0432] LT":"[\u0412] dddd, [\u0432] LT";switch(this.day()){case 0:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435] dddd, [\u0432] LT";case 1:case 2:case 4:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439] dddd, [\u0432] LT";case 3:case 5:case 6:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e] dddd, [\u0432] LT"}},lastWeek:function(Ce){if(Ce.week()===this.week())return 2===this.day()?"[\u0412\u043e] dddd, [\u0432] LT":"[\u0412] dddd, [\u0432] LT";switch(this.day()){case 0:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u043e\u0435] dddd, [\u0432] LT";case 1:case 2:case 4:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u044b\u0439] dddd, [\u0432] LT";case 3:case 5:case 6:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u0443\u044e] dddd, [\u0432] LT"}},sameElse:"L"},relativeTime:{future:"\u0447\u0435\u0440\u0435\u0437 %s",past:"%s \u043d\u0430\u0437\u0430\u0434",s:"\u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434",ss:ee,m:ee,mm:ee,h:"\u0447\u0430\u0441",hh:ee,d:"\u0434\u0435\u043d\u044c",dd:ee,w:"\u043d\u0435\u0434\u0435\u043b\u044f",ww:ee,M:"\u043c\u0435\u0441\u044f\u0446",MM:ee,y:"\u0433\u043e\u0434",yy:ee},meridiemParse:/\u043d\u043e\u0447\u0438|\u0443\u0442\u0440\u0430|\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430/i,isPM:function(Ce){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430)$/.test(Ce)},meridiem:function(Ce,Ee,Me){return Ce<4?"\u043d\u043e\u0447\u0438":Ce<12?"\u0443\u0442\u0440\u0430":Ce<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u0435\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0439|\u0433\u043e|\u044f)/,ordinal:function(Ce,Ee){switch(Ee){case"M":case"d":case"DDD":return Ce+"-\u0439";case"D":return Ce+"-\u0433\u043e";case"w":case"W":return Ce+"-\u044f";default:return Ce}},week:{dow:1,doy:4}})}(Ae(6738))},2135:function(Ut,kt,Ae){!function(o){"use strict";var $=["\u062c\u0646\u0648\u0631\u064a","\u0641\u064a\u0628\u0631\u0648\u0631\u064a","\u0645\u0627\u0631\u0686","\u0627\u067e\u0631\u064a\u0644","\u0645\u0626\u064a","\u062c\u0648\u0646","\u062c\u0648\u0644\u0627\u0621\u0650","\u0622\u06af\u0633\u067d","\u0633\u064a\u067e\u067d\u0645\u0628\u0631","\u0622\u06aa\u067d\u0648\u0628\u0631","\u0646\u0648\u0645\u0628\u0631","\u068a\u0633\u0645\u0628\u0631"],ee=["\u0622\u0686\u0631","\u0633\u0648\u0645\u0631","\u0627\u06b1\u0627\u0631\u0648","\u0627\u0631\u0628\u0639","\u062e\u0645\u064a\u0633","\u062c\u0645\u0639","\u0687\u0646\u0687\u0631"];o.defineLocale("sd",{months:$,monthsShort:$,weekdays:ee,weekdaysShort:ee,weekdaysMin:ee,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd\u060c D MMMM YYYY HH:mm"},meridiemParse:/\u0635\u0628\u062d|\u0634\u0627\u0645/,isPM:function(de){return"\u0634\u0627\u0645"===de},meridiem:function(de,Ce,Ee){return de<12?"\u0635\u0628\u062d":"\u0634\u0627\u0645"},calendar:{sameDay:"[\u0627\u0684] LT",nextDay:"[\u0633\u0680\u0627\u06bb\u064a] LT",nextWeek:"dddd [\u0627\u06b3\u064a\u0646 \u0647\u0641\u062a\u064a \u062a\u064a] LT",lastDay:"[\u06aa\u0627\u0644\u0647\u0647] LT",lastWeek:"[\u06af\u0632\u0631\u064a\u0644 \u0647\u0641\u062a\u064a] dddd [\u062a\u064a] LT",sameElse:"L"},relativeTime:{future:"%s \u067e\u0648\u0621",past:"%s \u0627\u06b3",s:"\u0686\u0646\u062f \u0633\u064a\u06aa\u0646\u068a",ss:"%d \u0633\u064a\u06aa\u0646\u068a",m:"\u0647\u06aa \u0645\u0646\u067d",mm:"%d \u0645\u0646\u067d",h:"\u0647\u06aa \u06aa\u0644\u0627\u06aa",hh:"%d \u06aa\u0644\u0627\u06aa",d:"\u0647\u06aa \u068f\u064a\u0646\u0647\u0646",dd:"%d \u068f\u064a\u0646\u0647\u0646",M:"\u0647\u06aa \u0645\u0647\u064a\u0646\u0648",MM:"%d \u0645\u0647\u064a\u0646\u0627",y:"\u0647\u06aa \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(de){return de.replace(/\u060c/g,",")},postformat:function(de){return de.replace(/,/g,"\u060c")},week:{dow:1,doy:4}})}(Ae(6738))},5366:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("se",{months:"o\u0111\u0111ajagem\xe1nnu_guovvam\xe1nnu_njuk\u010dam\xe1nnu_cuo\u014bom\xe1nnu_miessem\xe1nnu_geassem\xe1nnu_suoidnem\xe1nnu_borgem\xe1nnu_\u010dak\u010dam\xe1nnu_golggotm\xe1nnu_sk\xe1bmam\xe1nnu_juovlam\xe1nnu".split("_"),monthsShort:"o\u0111\u0111j_guov_njuk_cuo_mies_geas_suoi_borg_\u010dak\u010d_golg_sk\xe1b_juov".split("_"),weekdays:"sotnabeaivi_vuoss\xe1rga_ma\u014b\u014beb\xe1rga_gaskavahkku_duorastat_bearjadat_l\xe1vvardat".split("_"),weekdaysShort:"sotn_vuos_ma\u014b_gask_duor_bear_l\xe1v".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s gea\u017ees",past:"ma\u014bit %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta m\xe1nnu",MM:"%d m\xe1nut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(Ae(6738))},3379:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("si",{months:"\u0da2\u0db1\u0dc0\u0dcf\u0dbb\u0dd2_\u0db4\u0dd9\u0db6\u0dbb\u0dc0\u0dcf\u0dbb\u0dd2_\u0db8\u0dcf\u0dbb\u0dca\u0dad\u0dd4_\u0d85\u0db4\u0dca\u200d\u0dbb\u0dda\u0dbd\u0dca_\u0db8\u0dd0\u0dba\u0dd2_\u0da2\u0dd6\u0db1\u0dd2_\u0da2\u0dd6\u0dbd\u0dd2_\u0d85\u0d9c\u0ddd\u0dc3\u0dca\u0dad\u0dd4_\u0dc3\u0dd0\u0db4\u0dca\u0dad\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca_\u0d94\u0d9a\u0dca\u0dad\u0ddd\u0db6\u0dbb\u0dca_\u0db1\u0ddc\u0dc0\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca_\u0daf\u0dd9\u0dc3\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca".split("_"),monthsShort:"\u0da2\u0db1_\u0db4\u0dd9\u0db6_\u0db8\u0dcf\u0dbb\u0dca_\u0d85\u0db4\u0dca_\u0db8\u0dd0\u0dba\u0dd2_\u0da2\u0dd6\u0db1\u0dd2_\u0da2\u0dd6\u0dbd\u0dd2_\u0d85\u0d9c\u0ddd_\u0dc3\u0dd0\u0db4\u0dca_\u0d94\u0d9a\u0dca_\u0db1\u0ddc\u0dc0\u0dd0_\u0daf\u0dd9\u0dc3\u0dd0".split("_"),weekdays:"\u0d89\u0dbb\u0dd2\u0daf\u0dcf_\u0dc3\u0db3\u0dd4\u0daf\u0dcf_\u0d85\u0d9f\u0dc4\u0dbb\u0dd4\u0dc0\u0dcf\u0daf\u0dcf_\u0db6\u0daf\u0dcf\u0daf\u0dcf_\u0db6\u0dca\u200d\u0dbb\u0dc4\u0dc3\u0dca\u0db4\u0dad\u0dd2\u0db1\u0dca\u0daf\u0dcf_\u0dc3\u0dd2\u0d9a\u0dd4\u0dbb\u0dcf\u0daf\u0dcf_\u0dc3\u0dd9\u0db1\u0dc3\u0dd4\u0dbb\u0dcf\u0daf\u0dcf".split("_"),weekdaysShort:"\u0d89\u0dbb\u0dd2_\u0dc3\u0db3\u0dd4_\u0d85\u0d9f_\u0db6\u0daf\u0dcf_\u0db6\u0dca\u200d\u0dbb\u0dc4_\u0dc3\u0dd2\u0d9a\u0dd4_\u0dc3\u0dd9\u0db1".split("_"),weekdaysMin:"\u0d89_\u0dc3_\u0d85_\u0db6_\u0db6\u0dca\u200d\u0dbb_\u0dc3\u0dd2_\u0dc3\u0dd9".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [\u0dc0\u0dd0\u0db1\u0dd2] dddd, a h:mm:ss"},calendar:{sameDay:"[\u0d85\u0daf] LT[\u0da7]",nextDay:"[\u0dc4\u0dd9\u0da7] LT[\u0da7]",nextWeek:"dddd LT[\u0da7]",lastDay:"[\u0d8a\u0dba\u0dda] LT[\u0da7]",lastWeek:"[\u0db4\u0dc3\u0dd4\u0d9c\u0dd2\u0dba] dddd LT[\u0da7]",sameElse:"L"},relativeTime:{future:"%s\u0d9a\u0dd2\u0db1\u0dca",past:"%s\u0d9a\u0da7 \u0db4\u0dd9\u0dbb",s:"\u0dad\u0dad\u0dca\u0db4\u0dbb \u0d9a\u0dd2\u0dc4\u0dd2\u0db4\u0dba",ss:"\u0dad\u0dad\u0dca\u0db4\u0dbb %d",m:"\u0db8\u0dd2\u0db1\u0dd2\u0dad\u0dca\u0dad\u0dd4\u0dc0",mm:"\u0db8\u0dd2\u0db1\u0dd2\u0dad\u0dca\u0dad\u0dd4 %d",h:"\u0db4\u0dd0\u0dba",hh:"\u0db4\u0dd0\u0dba %d",d:"\u0daf\u0dd2\u0db1\u0dba",dd:"\u0daf\u0dd2\u0db1 %d",M:"\u0db8\u0dcf\u0dc3\u0dba",MM:"\u0db8\u0dcf\u0dc3 %d",y:"\u0dc0\u0dc3\u0dbb",yy:"\u0dc0\u0dc3\u0dbb %d"},dayOfMonthOrdinalParse:/\d{1,2} \u0dc0\u0dd0\u0db1\u0dd2/,ordinal:function(ee){return ee+" \u0dc0\u0dd0\u0db1\u0dd2"},meridiemParse:/\u0db4\u0dd9\u0dbb \u0dc0\u0dbb\u0dd4|\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4|\u0db4\u0dd9.\u0dc0|\u0db4.\u0dc0./,isPM:function(ee){return"\u0db4.\u0dc0."===ee||"\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4"===ee},meridiem:function(ee,x,de){return ee>11?de?"\u0db4.\u0dc0.":"\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4":de?"\u0db4\u0dd9.\u0dc0.":"\u0db4\u0dd9\u0dbb \u0dc0\u0dbb\u0dd4"}})}(Ae(6738))},6143:function(Ut,kt,Ae){!function(o){"use strict";var $="janu\xe1r_febru\xe1r_marec_apr\xedl_m\xe1j_j\xfan_j\xfal_august_september_okt\xf3ber_november_december".split("_"),ee="jan_feb_mar_apr_m\xe1j_j\xfan_j\xfal_aug_sep_okt_nov_dec".split("_");function x(Ee){return Ee>1&&Ee<5}function de(Ee,Me,Be,Ge){var Mt=Ee+" ";switch(Be){case"s":return Me||Ge?"p\xe1r sek\xfand":"p\xe1r sekundami";case"ss":return Me||Ge?Mt+(x(Ee)?"sekundy":"sek\xfand"):Mt+"sekundami";case"m":return Me?"min\xfata":Ge?"min\xfatu":"min\xfatou";case"mm":return Me||Ge?Mt+(x(Ee)?"min\xfaty":"min\xfat"):Mt+"min\xfatami";case"h":return Me?"hodina":Ge?"hodinu":"hodinou";case"hh":return Me||Ge?Mt+(x(Ee)?"hodiny":"hod\xedn"):Mt+"hodinami";case"d":return Me||Ge?"de\u0148":"d\u0148om";case"dd":return Me||Ge?Mt+(x(Ee)?"dni":"dn\xed"):Mt+"d\u0148ami";case"M":return Me||Ge?"mesiac":"mesiacom";case"MM":return Me||Ge?Mt+(x(Ee)?"mesiace":"mesiacov"):Mt+"mesiacmi";case"y":return Me||Ge?"rok":"rokom";case"yy":return Me||Ge?Mt+(x(Ee)?"roky":"rokov"):Mt+"rokmi"}}o.defineLocale("sk",{months:$,monthsShort:ee,weekdays:"nede\u013ea_pondelok_utorok_streda_\u0161tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_\u0161t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_\u0161t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nede\u013eu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo \u0161tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[v\u010dera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul\xfa nede\u013eu o] LT";case 1:case 2:return"[minul\xfd] dddd [o] LT";case 3:return"[minul\xfa stredu o] LT";case 4:case 5:return"[minul\xfd] dddd [o] LT";case 6:return"[minul\xfa sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:de,ss:de,m:de,mm:de,h:de,hh:de,d:de,dd:de,M:de,MM:de,y:de,yy:de},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(Ae(6738))},196:function(Ut,kt,Ae){!function(o){"use strict";function $(x,de,Ce,Ee){var Me=x+" ";switch(Ce){case"s":return de||Ee?"nekaj sekund":"nekaj sekundami";case"ss":return Me+(1===x?de?"sekundo":"sekundi":2===x?de||Ee?"sekundi":"sekundah":x<5?de||Ee?"sekunde":"sekundah":"sekund");case"m":return de?"ena minuta":"eno minuto";case"mm":return Me+(1===x?de?"minuta":"minuto":2===x?de||Ee?"minuti":"minutama":x<5?de||Ee?"minute":"minutami":de||Ee?"minut":"minutami");case"h":return de?"ena ura":"eno uro";case"hh":return Me+(1===x?de?"ura":"uro":2===x?de||Ee?"uri":"urama":x<5?de||Ee?"ure":"urami":de||Ee?"ur":"urami");case"d":return de||Ee?"en dan":"enim dnem";case"dd":return Me+(1===x?de||Ee?"dan":"dnem":2===x?de||Ee?"dni":"dnevoma":de||Ee?"dni":"dnevi");case"M":return de||Ee?"en mesec":"enim mesecem";case"MM":return Me+(1===x?de||Ee?"mesec":"mesecem":2===x?de||Ee?"meseca":"mesecema":x<5?de||Ee?"mesece":"meseci":de||Ee?"mesecev":"meseci");case"y":return de||Ee?"eno leto":"enim letom";case"yy":return Me+(1===x?de||Ee?"leto":"letom":2===x?de||Ee?"leti":"letoma":x<5?de||Ee?"leta":"leti":de||Ee?"let":"leti")}}o.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_\u010detrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._\u010det._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_\u010de_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[v\u010deraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prej\u0161njo] [nedeljo] [ob] LT";case 3:return"[prej\u0161njo] [sredo] [ob] LT";case 6:return"[prej\u0161njo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prej\u0161nji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"\u010dez %s",past:"pred %s",s:$,ss:$,m:$,mm:$,h:$,hh:$,d:$,dd:$,M:$,MM:$,y:$,yy:$},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(Ae(6738))},1082:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_N\xebntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_N\xebn_Dhj".split("_"),weekdays:"E Diel_E H\xebn\xeb_E Mart\xeb_E M\xebrkur\xeb_E Enjte_E Premte_E Shtun\xeb".split("_"),weekdaysShort:"Die_H\xebn_Mar_M\xebr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M\xeb_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(ee){return"M"===ee.charAt(0)},meridiem:function(ee,x,de){return ee<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot n\xeb] LT",nextDay:"[Nes\xebr n\xeb] LT",nextWeek:"dddd [n\xeb] LT",lastDay:"[Dje n\xeb] LT",lastWeek:"dddd [e kaluar n\xeb] LT",sameElse:"L"},relativeTime:{future:"n\xeb %s",past:"%s m\xeb par\xeb",s:"disa sekonda",ss:"%d sekonda",m:"nj\xeb minut\xeb",mm:"%d minuta",h:"nj\xeb or\xeb",hh:"%d or\xeb",d:"nj\xeb dit\xeb",dd:"%d dit\xeb",M:"nj\xeb muaj",MM:"%d muaj",y:"nj\xeb vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(Ae(6738))},8963:function(Ut,kt,Ae){!function(o){"use strict";var $={words:{ss:["\u0441\u0435\u043a\u0443\u043d\u0434\u0430","\u0441\u0435\u043a\u0443\u043d\u0434\u0435","\u0441\u0435\u043a\u0443\u043d\u0434\u0438"],m:["\u0458\u0435\u0434\u0430\u043d \u043c\u0438\u043d\u0443\u0442","\u0458\u0435\u0434\u043d\u0435 \u043c\u0438\u043d\u0443\u0442\u0435"],mm:["\u043c\u0438\u043d\u0443\u0442","\u043c\u0438\u043d\u0443\u0442\u0435","\u043c\u0438\u043d\u0443\u0442\u0430"],h:["\u0458\u0435\u0434\u0430\u043d \u0441\u0430\u0442","\u0458\u0435\u0434\u043d\u043e\u0433 \u0441\u0430\u0442\u0430"],hh:["\u0441\u0430\u0442","\u0441\u0430\u0442\u0430","\u0441\u0430\u0442\u0438"],dd:["\u0434\u0430\u043d","\u0434\u0430\u043d\u0430","\u0434\u0430\u043d\u0430"],MM:["\u043c\u0435\u0441\u0435\u0446","\u043c\u0435\u0441\u0435\u0446\u0430","\u043c\u0435\u0441\u0435\u0446\u0438"],yy:["\u0433\u043e\u0434\u0438\u043d\u0430","\u0433\u043e\u0434\u0438\u043d\u0435","\u0433\u043e\u0434\u0438\u043d\u0430"]},correctGrammaticalCase:function(x,de){return 1===x?de[0]:x>=2&&x<=4?de[1]:de[2]},translate:function(x,de,Ce){var Ee=$.words[Ce];return 1===Ce.length?de?Ee[0]:Ee[1]:x+" "+$.correctGrammaticalCase(x,Ee)}};o.defineLocale("sr-cyrl",{months:"\u0458\u0430\u043d\u0443\u0430\u0440_\u0444\u0435\u0431\u0440\u0443\u0430\u0440_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0431\u0430\u0440_\u043e\u043a\u0442\u043e\u0431\u0430\u0440_\u043d\u043e\u0432\u0435\u043c\u0431\u0430\u0440_\u0434\u0435\u0446\u0435\u043c\u0431\u0430\u0440".split("_"),monthsShort:"\u0458\u0430\u043d._\u0444\u0435\u0431._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433._\u0441\u0435\u043f._\u043e\u043a\u0442._\u043d\u043e\u0432._\u0434\u0435\u0446.".split("_"),monthsParseExact:!0,weekdays:"\u043d\u0435\u0434\u0435\u0459\u0430_\u043f\u043e\u043d\u0435\u0434\u0435\u0459\u0430\u043a_\u0443\u0442\u043e\u0440\u0430\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0440\u0442\u0430\u043a_\u043f\u0435\u0442\u0430\u043a_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434._\u043f\u043e\u043d._\u0443\u0442\u043e._\u0441\u0440\u0435._\u0447\u0435\u0442._\u043f\u0435\u0442._\u0441\u0443\u0431.".split("_"),weekdaysMin:"\u043d\u0435_\u043f\u043e_\u0443\u0442_\u0441\u0440_\u0447\u0435_\u043f\u0435_\u0441\u0443".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[\u0434\u0430\u043d\u0430\u0441 \u0443] LT",nextDay:"[\u0441\u0443\u0442\u0440\u0430 \u0443] LT",nextWeek:function(){switch(this.day()){case 0:return"[\u0443] [\u043d\u0435\u0434\u0435\u0459\u0443] [\u0443] LT";case 3:return"[\u0443] [\u0441\u0440\u0435\u0434\u0443] [\u0443] LT";case 6:return"[\u0443] [\u0441\u0443\u0431\u043e\u0442\u0443] [\u0443] LT";case 1:case 2:case 4:case 5:return"[\u0443] dddd [\u0443] LT"}},lastDay:"[\u0458\u0443\u0447\u0435 \u0443] LT",lastWeek:function(){return["[\u043f\u0440\u043e\u0448\u043b\u0435] [\u043d\u0435\u0434\u0435\u0459\u0435] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u043f\u043e\u043d\u0435\u0434\u0435\u0459\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u0443\u0442\u043e\u0440\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u0435] [\u0441\u0440\u0435\u0434\u0435] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u0447\u0435\u0442\u0432\u0440\u0442\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u043f\u0435\u0442\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u0435] [\u0441\u0443\u0431\u043e\u0442\u0435] [\u0443] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"\u043f\u0440\u0435 %s",s:"\u043d\u0435\u043a\u043e\u043b\u0438\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:$.translate,m:$.translate,mm:$.translate,h:$.translate,hh:$.translate,d:"\u0434\u0430\u043d",dd:$.translate,M:"\u043c\u0435\u0441\u0435\u0446",MM:$.translate,y:"\u0433\u043e\u0434\u0438\u043d\u0443",yy:$.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(Ae(6738))},1621:function(Ut,kt,Ae){!function(o){"use strict";var $={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(x,de){return 1===x?de[0]:x>=2&&x<=4?de[1]:de[2]},translate:function(x,de,Ce){var Ee=$.words[Ce];return 1===Ce.length?de?Ee[0]:Ee[1]:x+" "+$.correctGrammaticalCase(x,Ee)}};o.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010de u] LT",lastWeek:function(){return["[pro\u0161le] [nedelje] [u] LT","[pro\u0161log] [ponedeljka] [u] LT","[pro\u0161log] [utorka] [u] LT","[pro\u0161le] [srede] [u] LT","[pro\u0161log] [\u010detvrtka] [u] LT","[pro\u0161log] [petka] [u] LT","[pro\u0161le] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:$.translate,m:$.translate,mm:$.translate,h:$.translate,hh:$.translate,d:"dan",dd:$.translate,M:"mesec",MM:$.translate,y:"godinu",yy:$.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(Ae(6738))},1404:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(ee,x,de){return ee<11?"ekuseni":ee<15?"emini":ee<19?"entsambama":"ebusuku"},meridiemHour:function(ee,x){return 12===ee&&(ee=0),"ekuseni"===x?ee:"emini"===x?ee>=11?ee:ee+12:"entsambama"===x||"ebusuku"===x?0===ee?0:ee+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(Ae(6738))},5685:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"s\xf6ndag_m\xe5ndag_tisdag_onsdag_torsdag_fredag_l\xf6rdag".split("_"),weekdaysShort:"s\xf6n_m\xe5n_tis_ons_tor_fre_l\xf6r".split("_"),weekdaysMin:"s\xf6_m\xe5_ti_on_to_fr_l\xf6".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Ig\xe5r] LT",nextWeek:"[P\xe5] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"f\xf6r %s sedan",s:"n\xe5gra sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en m\xe5nad",MM:"%d m\xe5nader",y:"ett \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}(\:e|\:a)/,ordinal:function(ee){var x=ee%10;return ee+(1==~~(ee%100/10)?":e":1===x||2===x?":a":":e")},week:{dow:1,doy:4}})}(Ae(6738))},6490:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"hh:mm A",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"siku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}})}(Ae(6738))},4106:function(Ut,kt,Ae){!function(o){"use strict";var $={1:"\u0be7",2:"\u0be8",3:"\u0be9",4:"\u0bea",5:"\u0beb",6:"\u0bec",7:"\u0bed",8:"\u0bee",9:"\u0bef",0:"\u0be6"},ee={"\u0be7":"1","\u0be8":"2","\u0be9":"3","\u0bea":"4","\u0beb":"5","\u0bec":"6","\u0bed":"7","\u0bee":"8","\u0bef":"9","\u0be6":"0"};o.defineLocale("ta",{months:"\u0b9c\u0ba9\u0bb5\u0bb0\u0bbf_\u0baa\u0bbf\u0baa\u0bcd\u0bb0\u0bb5\u0bb0\u0bbf_\u0bae\u0bbe\u0bb0\u0bcd\u0b9a\u0bcd_\u0b8f\u0baa\u0bcd\u0bb0\u0bb2\u0bcd_\u0bae\u0bc7_\u0b9c\u0bc2\u0ba9\u0bcd_\u0b9c\u0bc2\u0bb2\u0bc8_\u0b86\u0b95\u0bb8\u0bcd\u0b9f\u0bcd_\u0b9a\u0bc6\u0baa\u0bcd\u0b9f\u0bc6\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b85\u0b95\u0bcd\u0b9f\u0bc7\u0bbe\u0baa\u0bb0\u0bcd_\u0ba8\u0bb5\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b9f\u0bbf\u0b9a\u0bae\u0bcd\u0baa\u0bb0\u0bcd".split("_"),monthsShort:"\u0b9c\u0ba9\u0bb5\u0bb0\u0bbf_\u0baa\u0bbf\u0baa\u0bcd\u0bb0\u0bb5\u0bb0\u0bbf_\u0bae\u0bbe\u0bb0\u0bcd\u0b9a\u0bcd_\u0b8f\u0baa\u0bcd\u0bb0\u0bb2\u0bcd_\u0bae\u0bc7_\u0b9c\u0bc2\u0ba9\u0bcd_\u0b9c\u0bc2\u0bb2\u0bc8_\u0b86\u0b95\u0bb8\u0bcd\u0b9f\u0bcd_\u0b9a\u0bc6\u0baa\u0bcd\u0b9f\u0bc6\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b85\u0b95\u0bcd\u0b9f\u0bc7\u0bbe\u0baa\u0bb0\u0bcd_\u0ba8\u0bb5\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b9f\u0bbf\u0b9a\u0bae\u0bcd\u0baa\u0bb0\u0bcd".split("_"),weekdays:"\u0b9e\u0bbe\u0baf\u0bbf\u0bb1\u0bcd\u0bb1\u0bc1\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0ba4\u0bbf\u0b99\u0bcd\u0b95\u0b9f\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0b9a\u0bc6\u0bb5\u0bcd\u0bb5\u0bbe\u0baf\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0baa\u0bc1\u0ba4\u0ba9\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0bb5\u0bbf\u0baf\u0bbe\u0bb4\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0bb5\u0bc6\u0bb3\u0bcd\u0bb3\u0bbf\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0b9a\u0ba9\u0bbf\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8".split("_"),weekdaysShort:"\u0b9e\u0bbe\u0baf\u0bbf\u0bb1\u0bc1_\u0ba4\u0bbf\u0b99\u0bcd\u0b95\u0bb3\u0bcd_\u0b9a\u0bc6\u0bb5\u0bcd\u0bb5\u0bbe\u0baf\u0bcd_\u0baa\u0bc1\u0ba4\u0ba9\u0bcd_\u0bb5\u0bbf\u0baf\u0bbe\u0bb4\u0ba9\u0bcd_\u0bb5\u0bc6\u0bb3\u0bcd\u0bb3\u0bbf_\u0b9a\u0ba9\u0bbf".split("_"),weekdaysMin:"\u0b9e\u0bbe_\u0ba4\u0bbf_\u0b9a\u0bc6_\u0baa\u0bc1_\u0bb5\u0bbf_\u0bb5\u0bc6_\u0b9a".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[\u0b87\u0ba9\u0bcd\u0bb1\u0bc1] LT",nextDay:"[\u0ba8\u0bbe\u0bb3\u0bc8] LT",nextWeek:"dddd, LT",lastDay:"[\u0ba8\u0bc7\u0bb1\u0bcd\u0bb1\u0bc1] LT",lastWeek:"[\u0b95\u0b9f\u0ba8\u0bcd\u0ba4 \u0bb5\u0bbe\u0bb0\u0bae\u0bcd] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0b87\u0bb2\u0bcd",past:"%s \u0bae\u0bc1\u0ba9\u0bcd",s:"\u0b92\u0bb0\u0bc1 \u0b9a\u0bbf\u0bb2 \u0bb5\u0bbf\u0ba8\u0bbe\u0b9f\u0bbf\u0b95\u0bb3\u0bcd",ss:"%d \u0bb5\u0bbf\u0ba8\u0bbe\u0b9f\u0bbf\u0b95\u0bb3\u0bcd",m:"\u0b92\u0bb0\u0bc1 \u0ba8\u0bbf\u0bae\u0bbf\u0b9f\u0bae\u0bcd",mm:"%d \u0ba8\u0bbf\u0bae\u0bbf\u0b9f\u0b99\u0bcd\u0b95\u0bb3\u0bcd",h:"\u0b92\u0bb0\u0bc1 \u0bae\u0ba3\u0bbf \u0ba8\u0bc7\u0bb0\u0bae\u0bcd",hh:"%d \u0bae\u0ba3\u0bbf \u0ba8\u0bc7\u0bb0\u0bae\u0bcd",d:"\u0b92\u0bb0\u0bc1 \u0ba8\u0bbe\u0bb3\u0bcd",dd:"%d \u0ba8\u0bbe\u0b9f\u0bcd\u0b95\u0bb3\u0bcd",M:"\u0b92\u0bb0\u0bc1 \u0bae\u0bbe\u0ba4\u0bae\u0bcd",MM:"%d \u0bae\u0bbe\u0ba4\u0b99\u0bcd\u0b95\u0bb3\u0bcd",y:"\u0b92\u0bb0\u0bc1 \u0bb5\u0bb0\u0bc1\u0b9f\u0bae\u0bcd",yy:"%d \u0b86\u0ba3\u0bcd\u0b9f\u0bc1\u0b95\u0bb3\u0bcd"},dayOfMonthOrdinalParse:/\d{1,2}\u0bb5\u0ba4\u0bc1/,ordinal:function(de){return de+"\u0bb5\u0ba4\u0bc1"},preparse:function(de){return de.replace(/[\u0be7\u0be8\u0be9\u0bea\u0beb\u0bec\u0bed\u0bee\u0bef\u0be6]/g,function(Ce){return ee[Ce]})},postformat:function(de){return de.replace(/\d/g,function(Ce){return $[Ce]})},meridiemParse:/\u0baf\u0bbe\u0bae\u0bae\u0bcd|\u0bb5\u0bc8\u0b95\u0bb1\u0bc8|\u0b95\u0bbe\u0bb2\u0bc8|\u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd|\u0b8e\u0bb1\u0bcd\u0baa\u0bbe\u0b9f\u0bc1|\u0bae\u0bbe\u0bb2\u0bc8/,meridiem:function(de,Ce,Ee){return de<2?" \u0baf\u0bbe\u0bae\u0bae\u0bcd":de<6?" \u0bb5\u0bc8\u0b95\u0bb1\u0bc8":de<10?" \u0b95\u0bbe\u0bb2\u0bc8":de<14?" \u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd":de<18?" \u0b8e\u0bb1\u0bcd\u0baa\u0bbe\u0b9f\u0bc1":de<22?" \u0bae\u0bbe\u0bb2\u0bc8":" \u0baf\u0bbe\u0bae\u0bae\u0bcd"},meridiemHour:function(de,Ce){return 12===de&&(de=0),"\u0baf\u0bbe\u0bae\u0bae\u0bcd"===Ce?de<2?de:de+12:"\u0bb5\u0bc8\u0b95\u0bb1\u0bc8"===Ce||"\u0b95\u0bbe\u0bb2\u0bc8"===Ce||"\u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd"===Ce&&de>=10?de:de+12},week:{dow:0,doy:6}})}(Ae(6738))},9204:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("te",{months:"\u0c1c\u0c28\u0c35\u0c30\u0c3f_\u0c2b\u0c3f\u0c2c\u0c4d\u0c30\u0c35\u0c30\u0c3f_\u0c2e\u0c3e\u0c30\u0c4d\u0c1a\u0c3f_\u0c0f\u0c2a\u0c4d\u0c30\u0c3f\u0c32\u0c4d_\u0c2e\u0c47_\u0c1c\u0c42\u0c28\u0c4d_\u0c1c\u0c41\u0c32\u0c48_\u0c06\u0c17\u0c38\u0c4d\u0c1f\u0c41_\u0c38\u0c46\u0c2a\u0c4d\u0c1f\u0c46\u0c02\u0c2c\u0c30\u0c4d_\u0c05\u0c15\u0c4d\u0c1f\u0c4b\u0c2c\u0c30\u0c4d_\u0c28\u0c35\u0c02\u0c2c\u0c30\u0c4d_\u0c21\u0c3f\u0c38\u0c46\u0c02\u0c2c\u0c30\u0c4d".split("_"),monthsShort:"\u0c1c\u0c28._\u0c2b\u0c3f\u0c2c\u0c4d\u0c30._\u0c2e\u0c3e\u0c30\u0c4d\u0c1a\u0c3f_\u0c0f\u0c2a\u0c4d\u0c30\u0c3f._\u0c2e\u0c47_\u0c1c\u0c42\u0c28\u0c4d_\u0c1c\u0c41\u0c32\u0c48_\u0c06\u0c17._\u0c38\u0c46\u0c2a\u0c4d._\u0c05\u0c15\u0c4d\u0c1f\u0c4b._\u0c28\u0c35._\u0c21\u0c3f\u0c38\u0c46.".split("_"),monthsParseExact:!0,weekdays:"\u0c06\u0c26\u0c3f\u0c35\u0c3e\u0c30\u0c02_\u0c38\u0c4b\u0c2e\u0c35\u0c3e\u0c30\u0c02_\u0c2e\u0c02\u0c17\u0c33\u0c35\u0c3e\u0c30\u0c02_\u0c2c\u0c41\u0c27\u0c35\u0c3e\u0c30\u0c02_\u0c17\u0c41\u0c30\u0c41\u0c35\u0c3e\u0c30\u0c02_\u0c36\u0c41\u0c15\u0c4d\u0c30\u0c35\u0c3e\u0c30\u0c02_\u0c36\u0c28\u0c3f\u0c35\u0c3e\u0c30\u0c02".split("_"),weekdaysShort:"\u0c06\u0c26\u0c3f_\u0c38\u0c4b\u0c2e_\u0c2e\u0c02\u0c17\u0c33_\u0c2c\u0c41\u0c27_\u0c17\u0c41\u0c30\u0c41_\u0c36\u0c41\u0c15\u0c4d\u0c30_\u0c36\u0c28\u0c3f".split("_"),weekdaysMin:"\u0c06_\u0c38\u0c4b_\u0c2e\u0c02_\u0c2c\u0c41_\u0c17\u0c41_\u0c36\u0c41_\u0c36".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0c28\u0c47\u0c21\u0c41] LT",nextDay:"[\u0c30\u0c47\u0c2a\u0c41] LT",nextWeek:"dddd, LT",lastDay:"[\u0c28\u0c3f\u0c28\u0c4d\u0c28] LT",lastWeek:"[\u0c17\u0c24] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0c32\u0c4b",past:"%s \u0c15\u0c4d\u0c30\u0c3f\u0c24\u0c02",s:"\u0c15\u0c4a\u0c28\u0c4d\u0c28\u0c3f \u0c15\u0c4d\u0c37\u0c23\u0c3e\u0c32\u0c41",ss:"%d \u0c38\u0c46\u0c15\u0c28\u0c4d\u0c32\u0c41",m:"\u0c12\u0c15 \u0c28\u0c3f\u0c2e\u0c3f\u0c37\u0c02",mm:"%d \u0c28\u0c3f\u0c2e\u0c3f\u0c37\u0c3e\u0c32\u0c41",h:"\u0c12\u0c15 \u0c17\u0c02\u0c1f",hh:"%d \u0c17\u0c02\u0c1f\u0c32\u0c41",d:"\u0c12\u0c15 \u0c30\u0c4b\u0c1c\u0c41",dd:"%d \u0c30\u0c4b\u0c1c\u0c41\u0c32\u0c41",M:"\u0c12\u0c15 \u0c28\u0c46\u0c32",MM:"%d \u0c28\u0c46\u0c32\u0c32\u0c41",y:"\u0c12\u0c15 \u0c38\u0c02\u0c35\u0c24\u0c4d\u0c38\u0c30\u0c02",yy:"%d \u0c38\u0c02\u0c35\u0c24\u0c4d\u0c38\u0c30\u0c3e\u0c32\u0c41"},dayOfMonthOrdinalParse:/\d{1,2}\u0c35/,ordinal:"%d\u0c35",meridiemParse:/\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f|\u0c09\u0c26\u0c2f\u0c02|\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02|\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02/,meridiemHour:function(ee,x){return 12===ee&&(ee=0),"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f"===x?ee<4?ee:ee+12:"\u0c09\u0c26\u0c2f\u0c02"===x?ee:"\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02"===x?ee>=10?ee:ee+12:"\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02"===x?ee+12:void 0},meridiem:function(ee,x,de){return ee<4?"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f":ee<10?"\u0c09\u0c26\u0c2f\u0c02":ee<17?"\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02":ee<20?"\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02":"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f"},week:{dow:0,doy:6}})}(Ae(6738))},3692:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Ju\xf1u_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"segundu balun",ss:"segundu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(ee){var x=ee%10;return ee+(1==~~(ee%100/10)?"th":1===x?"st":2===x?"nd":3===x?"rd":"th")},week:{dow:1,doy:4}})}(Ae(6738))},6361:function(Ut,kt,Ae){!function(o){"use strict";var $={0:"-\u0443\u043c",1:"-\u0443\u043c",2:"-\u044e\u043c",3:"-\u044e\u043c",4:"-\u0443\u043c",5:"-\u0443\u043c",6:"-\u0443\u043c",7:"-\u0443\u043c",8:"-\u0443\u043c",9:"-\u0443\u043c",10:"-\u0443\u043c",12:"-\u0443\u043c",13:"-\u0443\u043c",20:"-\u0443\u043c",30:"-\u044e\u043c",40:"-\u0443\u043c",50:"-\u0443\u043c",60:"-\u0443\u043c",70:"-\u0443\u043c",80:"-\u0443\u043c",90:"-\u0443\u043c",100:"-\u0443\u043c"};o.defineLocale("tg",{months:{format:"\u044f\u043d\u0432\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0430\u043b\u0438_\u043c\u0430\u0440\u0442\u0438_\u0430\u043f\u0440\u0435\u043b\u0438_\u043c\u0430\u0439\u0438_\u0438\u044e\u043d\u0438_\u0438\u044e\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442\u0438_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u0438_\u043e\u043a\u0442\u044f\u0431\u0440\u0438_\u043d\u043e\u044f\u0431\u0440\u0438_\u0434\u0435\u043a\u0430\u0431\u0440\u0438".split("_"),standalone:"\u044f\u043d\u0432\u0430\u0440_\u0444\u0435\u0432\u0440\u0430\u043b_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440_\u043e\u043a\u0442\u044f\u0431\u0440_\u043d\u043e\u044f\u0431\u0440_\u0434\u0435\u043a\u0430\u0431\u0440".split("_")},monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u044f\u043a\u0448\u0430\u043d\u0431\u0435_\u0434\u0443\u0448\u0430\u043d\u0431\u0435_\u0441\u0435\u0448\u0430\u043d\u0431\u0435_\u0447\u043e\u0440\u0448\u0430\u043d\u0431\u0435_\u043f\u0430\u043d\u04b7\u0448\u0430\u043d\u0431\u0435_\u04b7\u0443\u043c\u044a\u0430_\u0448\u0430\u043d\u0431\u0435".split("_"),weekdaysShort:"\u044f\u0448\u0431_\u0434\u0448\u0431_\u0441\u0448\u0431_\u0447\u0448\u0431_\u043f\u0448\u0431_\u04b7\u0443\u043c_\u0448\u043d\u0431".split("_"),weekdaysMin:"\u044f\u0448_\u0434\u0448_\u0441\u0448_\u0447\u0448_\u043f\u0448_\u04b7\u043c_\u0448\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0418\u043c\u0440\u04ef\u0437 \u0441\u043e\u0430\u0442\u0438] LT",nextDay:"[\u0424\u0430\u0440\u0434\u043e \u0441\u043e\u0430\u0442\u0438] LT",lastDay:"[\u0414\u0438\u0440\u04ef\u0437 \u0441\u043e\u0430\u0442\u0438] LT",nextWeek:"dddd[\u0438] [\u04b3\u0430\u0444\u0442\u0430\u0438 \u043e\u044f\u043d\u0434\u0430 \u0441\u043e\u0430\u0442\u0438] LT",lastWeek:"dddd[\u0438] [\u04b3\u0430\u0444\u0442\u0430\u0438 \u0433\u0443\u0437\u0430\u0448\u0442\u0430 \u0441\u043e\u0430\u0442\u0438] LT",sameElse:"L"},relativeTime:{future:"\u0431\u0430\u044a\u0434\u0438 %s",past:"%s \u043f\u0435\u0448",s:"\u044f\u043a\u0447\u0430\u043d\u0434 \u0441\u043e\u043d\u0438\u044f",m:"\u044f\u043a \u0434\u0430\u049b\u0438\u049b\u0430",mm:"%d \u0434\u0430\u049b\u0438\u049b\u0430",h:"\u044f\u043a \u0441\u043e\u0430\u0442",hh:"%d \u0441\u043e\u0430\u0442",d:"\u044f\u043a \u0440\u04ef\u0437",dd:"%d \u0440\u04ef\u0437",M:"\u044f\u043a \u043c\u043e\u04b3",MM:"%d \u043c\u043e\u04b3",y:"\u044f\u043a \u0441\u043e\u043b",yy:"%d \u0441\u043e\u043b"},meridiemParse:/\u0448\u0430\u0431|\u0441\u0443\u0431\u04b3|\u0440\u04ef\u0437|\u0431\u0435\u0433\u043e\u04b3/,meridiemHour:function(x,de){return 12===x&&(x=0),"\u0448\u0430\u0431"===de?x<4?x:x+12:"\u0441\u0443\u0431\u04b3"===de?x:"\u0440\u04ef\u0437"===de?x>=11?x:x+12:"\u0431\u0435\u0433\u043e\u04b3"===de?x+12:void 0},meridiem:function(x,de,Ce){return x<4?"\u0448\u0430\u0431":x<11?"\u0441\u0443\u0431\u04b3":x<16?"\u0440\u04ef\u0437":x<19?"\u0431\u0435\u0433\u043e\u04b3":"\u0448\u0430\u0431"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0443\u043c|\u044e\u043c)/,ordinal:function(x){return x+($[x]||$[x%10]||$[x>=100?100:null])},week:{dow:1,doy:7}})}(Ae(6738))},1735:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("th",{months:"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21_\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c_\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21_\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19_\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21_\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19_\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21_\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21_\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19_\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21_\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19_\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split("_"),monthsShort:"\u0e21.\u0e04._\u0e01.\u0e1e._\u0e21\u0e35.\u0e04._\u0e40\u0e21.\u0e22._\u0e1e.\u0e04._\u0e21\u0e34.\u0e22._\u0e01.\u0e04._\u0e2a.\u0e04._\u0e01.\u0e22._\u0e15.\u0e04._\u0e1e.\u0e22._\u0e18.\u0e04.".split("_"),monthsParseExact:!0,weekdays:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysShort:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysMin:"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm",LLLL:"\u0e27\u0e31\u0e19dddd\u0e17\u0e35\u0e48 D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm"},meridiemParse:/\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07|\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07/,isPM:function(ee){return"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"===ee},meridiem:function(ee,x,de){return ee<12?"\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07":"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"},calendar:{sameDay:"[\u0e27\u0e31\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextDay:"[\u0e1e\u0e23\u0e38\u0e48\u0e07\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextWeek:"dddd[\u0e2b\u0e19\u0e49\u0e32 \u0e40\u0e27\u0e25\u0e32] LT",lastDay:"[\u0e40\u0e21\u0e37\u0e48\u0e2d\u0e27\u0e32\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",lastWeek:"[\u0e27\u0e31\u0e19]dddd[\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27 \u0e40\u0e27\u0e25\u0e32] LT",sameElse:"L"},relativeTime:{future:"\u0e2d\u0e35\u0e01 %s",past:"%s\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27",s:"\u0e44\u0e21\u0e48\u0e01\u0e35\u0e48\u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",ss:"%d \u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",m:"1 \u0e19\u0e32\u0e17\u0e35",mm:"%d \u0e19\u0e32\u0e17\u0e35",h:"1 \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",hh:"%d \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",d:"1 \u0e27\u0e31\u0e19",dd:"%d \u0e27\u0e31\u0e19",w:"1 \u0e2a\u0e31\u0e1b\u0e14\u0e32\u0e2b\u0e4c",ww:"%d \u0e2a\u0e31\u0e1b\u0e14\u0e32\u0e2b\u0e4c",M:"1 \u0e40\u0e14\u0e37\u0e2d\u0e19",MM:"%d \u0e40\u0e14\u0e37\u0e2d\u0e19",y:"1 \u0e1b\u0e35",yy:"%d \u0e1b\u0e35"}})}(Ae(6738))},1568:function(Ut,kt,Ae){!function(o){"use strict";var $={1:"'inji",5:"'inji",8:"'inji",70:"'inji",80:"'inji",2:"'nji",7:"'nji",20:"'nji",50:"'nji",3:"'\xfcnji",4:"'\xfcnji",100:"'\xfcnji",6:"'njy",9:"'unjy",10:"'unjy",30:"'unjy",60:"'ynjy",90:"'ynjy"};o.defineLocale("tk",{months:"\xddanwar_Fewral_Mart_Aprel_Ma\xfd_I\xfdun_I\xfdul_Awgust_Sent\xfdabr_Okt\xfdabr_No\xfdabr_Dekabr".split("_"),monthsShort:"\xddan_Few_Mar_Apr_Ma\xfd_I\xfdn_I\xfdl_Awg_Sen_Okt_No\xfd_Dek".split("_"),weekdays:"\xddek\u015fenbe_Du\u015fenbe_Si\u015fenbe_\xc7ar\u015fenbe_Pen\u015fenbe_Anna_\u015eenbe".split("_"),weekdaysShort:"\xddek_Du\u015f_Si\u015f_\xc7ar_Pen_Ann_\u015een".split("_"),weekdaysMin:"\xddk_D\u015f_S\u015f_\xc7r_Pn_An_\u015en".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn sagat] LT",nextDay:"[ertir sagat] LT",nextWeek:"[indiki] dddd [sagat] LT",lastDay:"[d\xfc\xfdn] LT",lastWeek:"[ge\xe7en] dddd [sagat] LT",sameElse:"L"},relativeTime:{future:"%s so\u0148",past:"%s \xf6\u0148",s:"birn\xe4\xe7e sekunt",m:"bir minut",mm:"%d minut",h:"bir sagat",hh:"%d sagat",d:"bir g\xfcn",dd:"%d g\xfcn",M:"bir a\xfd",MM:"%d a\xfd",y:"bir \xfdyl",yy:"%d \xfdyl"},ordinal:function(x,de){switch(de){case"d":case"D":case"Do":case"DD":return x;default:if(0===x)return x+"'unjy";var Ce=x%10;return x+($[Ce]||$[x%100-Ce]||$[x>=100?100:null])}},week:{dow:1,doy:7}})}(Ae(6738))},6129:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(ee){return ee},week:{dow:1,doy:4}})}(Ae(6738))},3759:function(Ut,kt,Ae){!function(o){"use strict";var $="pagh_wa\u2019_cha\u2019_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");function de(Me,Be,Ge,Mt){var ft=function(Me){var Be=Math.floor(Me%1e3/100),Ge=Math.floor(Me%100/10),Mt=Me%10,ft="";return Be>0&&(ft+=$[Be]+"vatlh"),Ge>0&&(ft+=(""!==ft?" ":"")+$[Ge]+"maH"),Mt>0&&(ft+=(""!==ft?" ":"")+$[Mt]),""===ft?"pagh":ft}(Me);switch(Ge){case"ss":return ft+" lup";case"mm":return ft+" tup";case"hh":return ft+" rep";case"dd":return ft+" jaj";case"MM":return ft+" jar";case"yy":return ft+" DIS"}}o.defineLocale("tlh",{months:"tera\u2019 jar wa\u2019_tera\u2019 jar cha\u2019_tera\u2019 jar wej_tera\u2019 jar loS_tera\u2019 jar vagh_tera\u2019 jar jav_tera\u2019 jar Soch_tera\u2019 jar chorgh_tera\u2019 jar Hut_tera\u2019 jar wa\u2019maH_tera\u2019 jar wa\u2019maH wa\u2019_tera\u2019 jar wa\u2019maH cha\u2019".split("_"),monthsShort:"jar wa\u2019_jar cha\u2019_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wa\u2019maH_jar wa\u2019maH wa\u2019_jar wa\u2019maH cha\u2019".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[wa\u2019leS] LT",nextWeek:"LLL",lastDay:"[wa\u2019Hu\u2019] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:function(Me){var Be=Me;return-1!==Me.indexOf("jaj")?Be.slice(0,-3)+"leS":-1!==Me.indexOf("jar")?Be.slice(0,-3)+"waQ":-1!==Me.indexOf("DIS")?Be.slice(0,-3)+"nem":Be+" pIq"},past:function(Me){var Be=Me;return-1!==Me.indexOf("jaj")?Be.slice(0,-3)+"Hu\u2019":-1!==Me.indexOf("jar")?Be.slice(0,-3)+"wen":-1!==Me.indexOf("DIS")?Be.slice(0,-3)+"ben":Be+" ret"},s:"puS lup",ss:de,m:"wa\u2019 tup",mm:de,h:"wa\u2019 rep",hh:de,d:"wa\u2019 jaj",dd:de,M:"wa\u2019 jar",MM:de,y:"wa\u2019 DIS",yy:de},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(Ae(6738))},1644:function(Ut,kt,Ae){!function(o){"use strict";var $={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'\xfcnc\xfc",4:"'\xfcnc\xfc",100:"'\xfcnc\xfc",6:"'nc\u0131",9:"'uncu",10:"'uncu",30:"'uncu",60:"'\u0131nc\u0131",90:"'\u0131nc\u0131"};o.defineLocale("tr",{months:"Ocak_\u015eubat_Mart_Nisan_May\u0131s_Haziran_Temmuz_A\u011fustos_Eyl\xfcl_Ekim_Kas\u0131m_Aral\u0131k".split("_"),monthsShort:"Oca_\u015eub_Mar_Nis_May_Haz_Tem_A\u011fu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal\u0131_\xc7ar\u015famba_Per\u015fembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_\xc7ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_\xc7a_Pe_Cu_Ct".split("_"),meridiem:function(x,de,Ce){return x<12?Ce?"\xf6\xf6":"\xd6\xd6":Ce?"\xf6s":"\xd6S"},meridiemParse:/\xf6\xf6|\xd6\xd6|\xf6s|\xd6S/,isPM:function(x){return"\xf6s"===x||"\xd6S"===x},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn saat] LT",nextDay:"[yar\u0131n saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[d\xfcn] LT",lastWeek:"[ge\xe7en] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s \xf6nce",s:"birka\xe7 saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir g\xfcn",dd:"%d g\xfcn",w:"bir hafta",ww:"%d hafta",M:"bir ay",MM:"%d ay",y:"bir y\u0131l",yy:"%d y\u0131l"},ordinal:function(x,de){switch(de){case"d":case"D":case"Do":case"DD":return x;default:if(0===x)return x+"'\u0131nc\u0131";var Ce=x%10;return x+($[Ce]||$[x%100-Ce]||$[x>=100?100:null])}},week:{dow:1,doy:7}})}(Ae(6738))},875:function(Ut,kt,Ae){!function(o){"use strict";function ee(x,de,Ce,Ee){var Me={s:["viensas secunds","'iensas secunds"],ss:[x+" secunds",x+" secunds"],m:["'n m\xedut","'iens m\xedut"],mm:[x+" m\xeduts",x+" m\xeduts"],h:["'n \xfeora","'iensa \xfeora"],hh:[x+" \xfeoras",x+" \xfeoras"],d:["'n ziua","'iensa ziua"],dd:[x+" ziuas",x+" ziuas"],M:["'n mes","'iens mes"],MM:[x+" mesen",x+" mesen"],y:["'n ar","'iens ar"],yy:[x+" ars",x+" ars"]};return Ee||de?Me[Ce][0]:Me[Ce][1]}o.defineLocale("tzl",{months:"Januar_Fevraglh_Mar\xe7_Avr\xefu_Mai_G\xfcn_Julia_Guscht_Setemvar_Listop\xe4ts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_G\xfcn_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"S\xfaladi_L\xfane\xe7i_Maitzi_M\xe1rcuri_Xh\xfaadi_Vi\xe9ner\xe7i_S\xe1turi".split("_"),weekdaysShort:"S\xfal_L\xfan_Mai_M\xe1r_Xh\xfa_Vi\xe9_S\xe1t".split("_"),weekdaysMin:"S\xfa_L\xfa_Ma_M\xe1_Xh_Vi_S\xe1".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(x){return"d'o"===x.toLowerCase()},meridiem:function(x,de,Ce){return x>11?Ce?"d'o":"D'O":Ce?"d'a":"D'A"},calendar:{sameDay:"[oxhi \xe0] LT",nextDay:"[dem\xe0 \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[ieiri \xe0] LT",lastWeek:"[s\xfcr el] dddd [lasteu \xe0] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:ee,ss:ee,m:ee,mm:ee,h:ee,hh:ee,d:ee,dd:ee,M:ee,MM:ee,y:ee,yy:ee},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(Ae(6738))},1041:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("tzm-latn",{months:"innayr_br\u02e4ayr\u02e4_mar\u02e4s\u02e4_ibrir_mayyw_ywnyw_ywlywz_\u0263w\u0161t_\u0161wtanbir_kt\u02e4wbr\u02e4_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_br\u02e4ayr\u02e4_mar\u02e4s\u02e4_ibrir_mayyw_ywnyw_ywlywz_\u0263w\u0161t_\u0161wtanbir_kt\u02e4wbr\u02e4_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minu\u1e0d",mm:"%d minu\u1e0d",h:"sa\u025ba",hh:"%d tassa\u025bin",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})}(Ae(6738))},6878:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("tzm",{months:"\u2d49\u2d4f\u2d4f\u2d30\u2d62\u2d54_\u2d31\u2d55\u2d30\u2d62\u2d55_\u2d4e\u2d30\u2d55\u2d5a_\u2d49\u2d31\u2d54\u2d49\u2d54_\u2d4e\u2d30\u2d62\u2d62\u2d53_\u2d62\u2d53\u2d4f\u2d62\u2d53_\u2d62\u2d53\u2d4d\u2d62\u2d53\u2d63_\u2d56\u2d53\u2d5b\u2d5c_\u2d5b\u2d53\u2d5c\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d3d\u2d5f\u2d53\u2d31\u2d55_\u2d4f\u2d53\u2d61\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d37\u2d53\u2d4a\u2d4f\u2d31\u2d49\u2d54".split("_"),monthsShort:"\u2d49\u2d4f\u2d4f\u2d30\u2d62\u2d54_\u2d31\u2d55\u2d30\u2d62\u2d55_\u2d4e\u2d30\u2d55\u2d5a_\u2d49\u2d31\u2d54\u2d49\u2d54_\u2d4e\u2d30\u2d62\u2d62\u2d53_\u2d62\u2d53\u2d4f\u2d62\u2d53_\u2d62\u2d53\u2d4d\u2d62\u2d53\u2d63_\u2d56\u2d53\u2d5b\u2d5c_\u2d5b\u2d53\u2d5c\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d3d\u2d5f\u2d53\u2d31\u2d55_\u2d4f\u2d53\u2d61\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d37\u2d53\u2d4a\u2d4f\u2d31\u2d49\u2d54".split("_"),weekdays:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),weekdaysShort:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),weekdaysMin:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u2d30\u2d59\u2d37\u2d45 \u2d34] LT",nextDay:"[\u2d30\u2d59\u2d3d\u2d30 \u2d34] LT",nextWeek:"dddd [\u2d34] LT",lastDay:"[\u2d30\u2d5a\u2d30\u2d4f\u2d5c \u2d34] LT",lastWeek:"dddd [\u2d34] LT",sameElse:"L"},relativeTime:{future:"\u2d37\u2d30\u2d37\u2d45 \u2d59 \u2d62\u2d30\u2d4f %s",past:"\u2d62\u2d30\u2d4f %s",s:"\u2d49\u2d4e\u2d49\u2d3d",ss:"%d \u2d49\u2d4e\u2d49\u2d3d",m:"\u2d4e\u2d49\u2d4f\u2d53\u2d3a",mm:"%d \u2d4e\u2d49\u2d4f\u2d53\u2d3a",h:"\u2d59\u2d30\u2d44\u2d30",hh:"%d \u2d5c\u2d30\u2d59\u2d59\u2d30\u2d44\u2d49\u2d4f",d:"\u2d30\u2d59\u2d59",dd:"%d o\u2d59\u2d59\u2d30\u2d4f",M:"\u2d30\u2d62o\u2d53\u2d54",MM:"%d \u2d49\u2d62\u2d62\u2d49\u2d54\u2d4f",y:"\u2d30\u2d59\u2d33\u2d30\u2d59",yy:"%d \u2d49\u2d59\u2d33\u2d30\u2d59\u2d4f"},week:{dow:6,doy:12}})}(Ae(6738))},4357:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("ug-cn",{months:"\u064a\u0627\u0646\u06cb\u0627\u0631_\u0641\u06d0\u06cb\u0631\u0627\u0644_\u0645\u0627\u0631\u062a_\u0626\u0627\u067e\u0631\u06d0\u0644_\u0645\u0627\u064a_\u0626\u0649\u064a\u06c7\u0646_\u0626\u0649\u064a\u06c7\u0644_\u0626\u0627\u06cb\u063a\u06c7\u0633\u062a_\u0633\u06d0\u0646\u062a\u06d5\u0628\u0649\u0631_\u0626\u06c6\u0643\u062a\u06d5\u0628\u0649\u0631_\u0646\u0648\u064a\u0627\u0628\u0649\u0631_\u062f\u06d0\u0643\u0627\u0628\u0649\u0631".split("_"),monthsShort:"\u064a\u0627\u0646\u06cb\u0627\u0631_\u0641\u06d0\u06cb\u0631\u0627\u0644_\u0645\u0627\u0631\u062a_\u0626\u0627\u067e\u0631\u06d0\u0644_\u0645\u0627\u064a_\u0626\u0649\u064a\u06c7\u0646_\u0626\u0649\u064a\u06c7\u0644_\u0626\u0627\u06cb\u063a\u06c7\u0633\u062a_\u0633\u06d0\u0646\u062a\u06d5\u0628\u0649\u0631_\u0626\u06c6\u0643\u062a\u06d5\u0628\u0649\u0631_\u0646\u0648\u064a\u0627\u0628\u0649\u0631_\u062f\u06d0\u0643\u0627\u0628\u0649\u0631".split("_"),weekdays:"\u064a\u06d5\u0643\u0634\u06d5\u0646\u0628\u06d5_\u062f\u06c8\u0634\u06d5\u0646\u0628\u06d5_\u0633\u06d5\u064a\u0634\u06d5\u0646\u0628\u06d5_\u0686\u0627\u0631\u0634\u06d5\u0646\u0628\u06d5_\u067e\u06d5\u064a\u0634\u06d5\u0646\u0628\u06d5_\u062c\u06c8\u0645\u06d5_\u0634\u06d5\u0646\u0628\u06d5".split("_"),weekdaysShort:"\u064a\u06d5_\u062f\u06c8_\u0633\u06d5_\u0686\u0627_\u067e\u06d5_\u062c\u06c8_\u0634\u06d5".split("_"),weekdaysMin:"\u064a\u06d5_\u062f\u06c8_\u0633\u06d5_\u0686\u0627_\u067e\u06d5_\u062c\u06c8_\u0634\u06d5".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649",LLL:"YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649\u060c HH:mm",LLLL:"dddd\u060c YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649\u060c HH:mm"},meridiemParse:/\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5|\u0633\u06d5\u06be\u06d5\u0631|\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646|\u0686\u06c8\u0634|\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646|\u0643\u06d5\u0686/,meridiemHour:function(ee,x){return 12===ee&&(ee=0),"\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5"===x||"\u0633\u06d5\u06be\u06d5\u0631"===x||"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646"===x?ee:"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646"===x||"\u0643\u06d5\u0686"===x?ee+12:ee>=11?ee:ee+12},meridiem:function(ee,x,de){var Ce=100*ee+x;return Ce<600?"\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5":Ce<900?"\u0633\u06d5\u06be\u06d5\u0631":Ce<1130?"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646":Ce<1230?"\u0686\u06c8\u0634":Ce<1800?"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646":"\u0643\u06d5\u0686"},calendar:{sameDay:"[\u0628\u06c8\u06af\u06c8\u0646 \u0633\u0627\u0626\u06d5\u062a] LT",nextDay:"[\u0626\u06d5\u062a\u06d5 \u0633\u0627\u0626\u06d5\u062a] LT",nextWeek:"[\u0643\u06d0\u0644\u06d5\u0631\u0643\u0649] dddd [\u0633\u0627\u0626\u06d5\u062a] LT",lastDay:"[\u062a\u06c6\u0646\u06c8\u06af\u06c8\u0646] LT",lastWeek:"[\u0626\u0627\u0644\u062f\u0649\u0646\u0642\u0649] dddd [\u0633\u0627\u0626\u06d5\u062a] LT",sameElse:"L"},relativeTime:{future:"%s \u0643\u06d0\u064a\u0649\u0646",past:"%s \u0628\u06c7\u0631\u06c7\u0646",s:"\u0646\u06d5\u0686\u0686\u06d5 \u0633\u06d0\u0643\u0648\u0646\u062a",ss:"%d \u0633\u06d0\u0643\u0648\u0646\u062a",m:"\u0628\u0649\u0631 \u0645\u0649\u0646\u06c7\u062a",mm:"%d \u0645\u0649\u0646\u06c7\u062a",h:"\u0628\u0649\u0631 \u0633\u0627\u0626\u06d5\u062a",hh:"%d \u0633\u0627\u0626\u06d5\u062a",d:"\u0628\u0649\u0631 \u0643\u06c8\u0646",dd:"%d \u0643\u06c8\u0646",M:"\u0628\u0649\u0631 \u0626\u0627\u064a",MM:"%d \u0626\u0627\u064a",y:"\u0628\u0649\u0631 \u064a\u0649\u0644",yy:"%d \u064a\u0649\u0644"},dayOfMonthOrdinalParse:/\d{1,2}(-\u0643\u06c8\u0646\u0649|-\u0626\u0627\u064a|-\u06be\u06d5\u067e\u062a\u06d5)/,ordinal:function(ee,x){switch(x){case"d":case"D":case"DDD":return ee+"-\u0643\u06c8\u0646\u0649";case"w":case"W":return ee+"-\u06be\u06d5\u067e\u062a\u06d5";default:return ee}},preparse:function(ee){return ee.replace(/\u060c/g,",")},postformat:function(ee){return ee.replace(/,/g,"\u060c")},week:{dow:1,doy:7}})}(Ae(6738))},4810:function(Ut,kt,Ae){!function(o){"use strict";function ee(Ee,Me,Be){return"m"===Be?Me?"\u0445\u0432\u0438\u043b\u0438\u043d\u0430":"\u0445\u0432\u0438\u043b\u0438\u043d\u0443":"h"===Be?Me?"\u0433\u043e\u0434\u0438\u043d\u0430":"\u0433\u043e\u0434\u0438\u043d\u0443":Ee+" "+function(Ee,Me){var Be=Ee.split("_");return Me%10==1&&Me%100!=11?Be[0]:Me%10>=2&&Me%10<=4&&(Me%100<10||Me%100>=20)?Be[1]:Be[2]}({ss:Me?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u0438_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u0438_\u0441\u0435\u043a\u0443\u043d\u0434",mm:Me?"\u0445\u0432\u0438\u043b\u0438\u043d\u0430_\u0445\u0432\u0438\u043b\u0438\u043d\u0438_\u0445\u0432\u0438\u043b\u0438\u043d":"\u0445\u0432\u0438\u043b\u0438\u043d\u0443_\u0445\u0432\u0438\u043b\u0438\u043d\u0438_\u0445\u0432\u0438\u043b\u0438\u043d",hh:Me?"\u0433\u043e\u0434\u0438\u043d\u0430_\u0433\u043e\u0434\u0438\u043d\u0438_\u0433\u043e\u0434\u0438\u043d":"\u0433\u043e\u0434\u0438\u043d\u0443_\u0433\u043e\u0434\u0438\u043d\u0438_\u0433\u043e\u0434\u0438\u043d",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u0456_\u0434\u043d\u0456\u0432",MM:"\u043c\u0456\u0441\u044f\u0446\u044c_\u043c\u0456\u0441\u044f\u0446\u0456_\u043c\u0456\u0441\u044f\u0446\u0456\u0432",yy:"\u0440\u0456\u043a_\u0440\u043e\u043a\u0438_\u0440\u043e\u043a\u0456\u0432"}[Be],+Ee)}function de(Ee){return function(){return Ee+"\u043e"+(11===this.hours()?"\u0431":"")+"] LT"}}o.defineLocale("uk",{months:{format:"\u0441\u0456\u0447\u043d\u044f_\u043b\u044e\u0442\u043e\u0433\u043e_\u0431\u0435\u0440\u0435\u0437\u043d\u044f_\u043a\u0432\u0456\u0442\u043d\u044f_\u0442\u0440\u0430\u0432\u043d\u044f_\u0447\u0435\u0440\u0432\u043d\u044f_\u043b\u0438\u043f\u043d\u044f_\u0441\u0435\u0440\u043f\u043d\u044f_\u0432\u0435\u0440\u0435\u0441\u043d\u044f_\u0436\u043e\u0432\u0442\u043d\u044f_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434\u0430_\u0433\u0440\u0443\u0434\u043d\u044f".split("_"),standalone:"\u0441\u0456\u0447\u0435\u043d\u044c_\u043b\u044e\u0442\u0438\u0439_\u0431\u0435\u0440\u0435\u0437\u0435\u043d\u044c_\u043a\u0432\u0456\u0442\u0435\u043d\u044c_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u0435\u0440\u0432\u0435\u043d\u044c_\u043b\u0438\u043f\u0435\u043d\u044c_\u0441\u0435\u0440\u043f\u0435\u043d\u044c_\u0432\u0435\u0440\u0435\u0441\u0435\u043d\u044c_\u0436\u043e\u0432\u0442\u0435\u043d\u044c_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434_\u0433\u0440\u0443\u0434\u0435\u043d\u044c".split("_")},monthsShort:"\u0441\u0456\u0447_\u043b\u044e\u0442_\u0431\u0435\u0440_\u043a\u0432\u0456\u0442_\u0442\u0440\u0430\u0432_\u0447\u0435\u0440\u0432_\u043b\u0438\u043f_\u0441\u0435\u0440\u043f_\u0432\u0435\u0440_\u0436\u043e\u0432\u0442_\u043b\u0438\u0441\u0442_\u0433\u0440\u0443\u0434".split("_"),weekdays:function(Ee,Me){var Be={nominative:"\u043d\u0435\u0434\u0456\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a_\u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a_\u0441\u0435\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u044f_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),accusative:"\u043d\u0435\u0434\u0456\u043b\u044e_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a_\u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a_\u0441\u0435\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u044e_\u0441\u0443\u0431\u043e\u0442\u0443".split("_"),genitive:"\u043d\u0435\u0434\u0456\u043b\u0456_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043a\u0430_\u0432\u0456\u0432\u0442\u043e\u0440\u043a\u0430_\u0441\u0435\u0440\u0435\u0434\u0438_\u0447\u0435\u0442\u0432\u0435\u0440\u0433\u0430_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u0456_\u0441\u0443\u0431\u043e\u0442\u0438".split("_")};return!0===Ee?Be.nominative.slice(1,7).concat(Be.nominative.slice(0,1)):Ee?Be[/(\[[\u0412\u0432\u0423\u0443]\]) ?dddd/.test(Me)?"accusative":/\[?(?:\u043c\u0438\u043d\u0443\u043b\u043e\u0457|\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u043e\u0457)? ?\] ?dddd/.test(Me)?"genitive":"nominative"][Ee.day()]:Be.nominative},weekdaysShort:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0440.",LLL:"D MMMM YYYY \u0440., HH:mm",LLLL:"dddd, D MMMM YYYY \u0440., HH:mm"},calendar:{sameDay:de("[\u0421\u044c\u043e\u0433\u043e\u0434\u043d\u0456 "),nextDay:de("[\u0417\u0430\u0432\u0442\u0440\u0430 "),lastDay:de("[\u0412\u0447\u043e\u0440\u0430 "),nextWeek:de("[\u0423] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return de("[\u041c\u0438\u043d\u0443\u043b\u043e\u0457] dddd [").call(this);case 1:case 2:case 4:return de("[\u041c\u0438\u043d\u0443\u043b\u043e\u0433\u043e] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"%s \u0442\u043e\u043c\u0443",s:"\u0434\u0435\u043a\u0456\u043b\u044c\u043a\u0430 \u0441\u0435\u043a\u0443\u043d\u0434",ss:ee,m:ee,mm:ee,h:"\u0433\u043e\u0434\u0438\u043d\u0443",hh:ee,d:"\u0434\u0435\u043d\u044c",dd:ee,M:"\u043c\u0456\u0441\u044f\u0446\u044c",MM:ee,y:"\u0440\u0456\u043a",yy:ee},meridiemParse:/\u043d\u043e\u0447\u0456|\u0440\u0430\u043d\u043a\u0443|\u0434\u043d\u044f|\u0432\u0435\u0447\u043e\u0440\u0430/,isPM:function(Ee){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u043e\u0440\u0430)$/.test(Ee)},meridiem:function(Ee,Me,Be){return Ee<4?"\u043d\u043e\u0447\u0456":Ee<12?"\u0440\u0430\u043d\u043a\u0443":Ee<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u043e\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0439|\u0433\u043e)/,ordinal:function(Ee,Me){switch(Me){case"M":case"d":case"DDD":case"w":case"W":return Ee+"-\u0439";case"D":return Ee+"-\u0433\u043e";default:return Ee}},week:{dow:1,doy:7}})}(Ae(6738))},6794:function(Ut,kt,Ae){!function(o){"use strict";var $=["\u062c\u0646\u0648\u0631\u06cc","\u0641\u0631\u0648\u0631\u06cc","\u0645\u0627\u0631\u0686","\u0627\u067e\u0631\u06cc\u0644","\u0645\u0626\u06cc","\u062c\u0648\u0646","\u062c\u0648\u0644\u0627\u0626\u06cc","\u0627\u06af\u0633\u062a","\u0633\u062a\u0645\u0628\u0631","\u0627\u06a9\u062a\u0648\u0628\u0631","\u0646\u0648\u0645\u0628\u0631","\u062f\u0633\u0645\u0628\u0631"],ee=["\u0627\u062a\u0648\u0627\u0631","\u067e\u06cc\u0631","\u0645\u0646\u06af\u0644","\u0628\u062f\u06be","\u062c\u0645\u0639\u0631\u0627\u062a","\u062c\u0645\u0639\u06c1","\u06c1\u0641\u062a\u06c1"];o.defineLocale("ur",{months:$,monthsShort:$,weekdays:ee,weekdaysShort:ee,weekdaysMin:ee,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd\u060c D MMMM YYYY HH:mm"},meridiemParse:/\u0635\u0628\u062d|\u0634\u0627\u0645/,isPM:function(de){return"\u0634\u0627\u0645"===de},meridiem:function(de,Ce,Ee){return de<12?"\u0635\u0628\u062d":"\u0634\u0627\u0645"},calendar:{sameDay:"[\u0622\u062c \u0628\u0648\u0642\u062a] LT",nextDay:"[\u06a9\u0644 \u0628\u0648\u0642\u062a] LT",nextWeek:"dddd [\u0628\u0648\u0642\u062a] LT",lastDay:"[\u06af\u0630\u0634\u062a\u06c1 \u0631\u0648\u0632 \u0628\u0648\u0642\u062a] LT",lastWeek:"[\u06af\u0630\u0634\u062a\u06c1] dddd [\u0628\u0648\u0642\u062a] LT",sameElse:"L"},relativeTime:{future:"%s \u0628\u0639\u062f",past:"%s \u0642\u0628\u0644",s:"\u0686\u0646\u062f \u0633\u06cc\u06a9\u0646\u0688",ss:"%d \u0633\u06cc\u06a9\u0646\u0688",m:"\u0627\u06cc\u06a9 \u0645\u0646\u0679",mm:"%d \u0645\u0646\u0679",h:"\u0627\u06cc\u06a9 \u06af\u06be\u0646\u0679\u06c1",hh:"%d \u06af\u06be\u0646\u0679\u06d2",d:"\u0627\u06cc\u06a9 \u062f\u0646",dd:"%d \u062f\u0646",M:"\u0627\u06cc\u06a9 \u0645\u0627\u06c1",MM:"%d \u0645\u0627\u06c1",y:"\u0627\u06cc\u06a9 \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(de){return de.replace(/\u060c/g,",")},postformat:function(de){return de.replace(/,/g,"\u060c")},week:{dow:1,doy:4}})}(Ae(6738))},7959:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}})}(Ae(6738))},8966:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("uz",{months:"\u044f\u043d\u0432\u0430\u0440_\u0444\u0435\u0432\u0440\u0430\u043b_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440_\u043e\u043a\u0442\u044f\u0431\u0440_\u043d\u043e\u044f\u0431\u0440_\u0434\u0435\u043a\u0430\u0431\u0440".split("_"),monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u042f\u043a\u0448\u0430\u043d\u0431\u0430_\u0414\u0443\u0448\u0430\u043d\u0431\u0430_\u0421\u0435\u0448\u0430\u043d\u0431\u0430_\u0427\u043e\u0440\u0448\u0430\u043d\u0431\u0430_\u041f\u0430\u0439\u0448\u0430\u043d\u0431\u0430_\u0416\u0443\u043c\u0430_\u0428\u0430\u043d\u0431\u0430".split("_"),weekdaysShort:"\u042f\u043a\u0448_\u0414\u0443\u0448_\u0421\u0435\u0448_\u0427\u043e\u0440_\u041f\u0430\u0439_\u0416\u0443\u043c_\u0428\u0430\u043d".split("_"),weekdaysMin:"\u042f\u043a_\u0414\u0443_\u0421\u0435_\u0427\u043e_\u041f\u0430_\u0416\u0443_\u0428\u0430".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[\u0411\u0443\u0433\u0443\u043d \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",nextDay:"[\u042d\u0440\u0442\u0430\u0433\u0430] LT [\u0434\u0430]",nextWeek:"dddd [\u043a\u0443\u043d\u0438 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",lastDay:"[\u041a\u0435\u0447\u0430 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",lastWeek:"[\u0423\u0442\u0433\u0430\u043d] dddd [\u043a\u0443\u043d\u0438 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",sameElse:"L"},relativeTime:{future:"\u042f\u043a\u0438\u043d %s \u0438\u0447\u0438\u0434\u0430",past:"\u0411\u0438\u0440 \u043d\u0435\u0447\u0430 %s \u043e\u043b\u0434\u0438\u043d",s:"\u0444\u0443\u0440\u0441\u0430\u0442",ss:"%d \u0444\u0443\u0440\u0441\u0430\u0442",m:"\u0431\u0438\u0440 \u0434\u0430\u043a\u0438\u043a\u0430",mm:"%d \u0434\u0430\u043a\u0438\u043a\u0430",h:"\u0431\u0438\u0440 \u0441\u043e\u0430\u0442",hh:"%d \u0441\u043e\u0430\u0442",d:"\u0431\u0438\u0440 \u043a\u0443\u043d",dd:"%d \u043a\u0443\u043d",M:"\u0431\u0438\u0440 \u043e\u0439",MM:"%d \u043e\u0439",y:"\u0431\u0438\u0440 \u0439\u0438\u043b",yy:"%d \u0439\u0438\u043b"},week:{dow:1,doy:7}})}(Ae(6738))},5386:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("vi",{months:"th\xe1ng 1_th\xe1ng 2_th\xe1ng 3_th\xe1ng 4_th\xe1ng 5_th\xe1ng 6_th\xe1ng 7_th\xe1ng 8_th\xe1ng 9_th\xe1ng 10_th\xe1ng 11_th\xe1ng 12".split("_"),monthsShort:"Thg 01_Thg 02_Thg 03_Thg 04_Thg 05_Thg 06_Thg 07_Thg 08_Thg 09_Thg 10_Thg 11_Thg 12".split("_"),monthsParseExact:!0,weekdays:"ch\u1ee7 nh\u1eadt_th\u1ee9 hai_th\u1ee9 ba_th\u1ee9 t\u01b0_th\u1ee9 n\u0103m_th\u1ee9 s\xe1u_th\u1ee9 b\u1ea3y".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(ee){return/^ch$/i.test(ee)},meridiem:function(ee,x,de){return ee<12?de?"sa":"SA":de?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [n\u0103m] YYYY",LLL:"D MMMM [n\u0103m] YYYY HH:mm",LLLL:"dddd, D MMMM [n\u0103m] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[H\xf4m nay l\xfac] LT",nextDay:"[Ng\xe0y mai l\xfac] LT",nextWeek:"dddd [tu\u1ea7n t\u1edbi l\xfac] LT",lastDay:"[H\xf4m qua l\xfac] LT",lastWeek:"dddd [tu\u1ea7n tr\u01b0\u1edbc l\xfac] LT",sameElse:"L"},relativeTime:{future:"%s t\u1edbi",past:"%s tr\u01b0\u1edbc",s:"v\xe0i gi\xe2y",ss:"%d gi\xe2y",m:"m\u1ed9t ph\xfat",mm:"%d ph\xfat",h:"m\u1ed9t gi\u1edd",hh:"%d gi\u1edd",d:"m\u1ed9t ng\xe0y",dd:"%d ng\xe0y",w:"m\u1ed9t tu\u1ea7n",ww:"%d tu\u1ea7n",M:"m\u1ed9t th\xe1ng",MM:"%d th\xe1ng",y:"m\u1ed9t n\u0103m",yy:"%d n\u0103m"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(ee){return ee},week:{dow:1,doy:4}})}(Ae(6738))},3156:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("x-pseudo",{months:"J~\xe1\xf1\xfa\xe1~r\xfd_F~\xe9br\xfa~\xe1r\xfd_~M\xe1rc~h_\xc1p~r\xedl_~M\xe1\xfd_~J\xfa\xf1\xe9~_J\xfal~\xfd_\xc1\xfa~g\xfast~_S\xe9p~t\xe9mb~\xe9r_\xd3~ct\xf3b~\xe9r_\xd1~\xf3v\xe9m~b\xe9r_~D\xe9c\xe9~mb\xe9r".split("_"),monthsShort:"J~\xe1\xf1_~F\xe9b_~M\xe1r_~\xc1pr_~M\xe1\xfd_~J\xfa\xf1_~J\xfal_~\xc1\xfag_~S\xe9p_~\xd3ct_~\xd1\xf3v_~D\xe9c".split("_"),monthsParseExact:!0,weekdays:"S~\xfa\xf1d\xe1~\xfd_M\xf3~\xf1d\xe1\xfd~_T\xfa\xe9~sd\xe1\xfd~_W\xe9d~\xf1\xe9sd~\xe1\xfd_T~h\xfars~d\xe1\xfd_~Fr\xedd~\xe1\xfd_S~\xe1t\xfar~d\xe1\xfd".split("_"),weekdaysShort:"S~\xfa\xf1_~M\xf3\xf1_~T\xfa\xe9_~W\xe9d_~Th\xfa_~Fr\xed_~S\xe1t".split("_"),weekdaysMin:"S~\xfa_M\xf3~_T\xfa_~W\xe9_T~h_Fr~_S\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~\xf3d\xe1~\xfd \xe1t] LT",nextDay:"[T~\xf3m\xf3~rr\xf3~w \xe1t] LT",nextWeek:"dddd [\xe1t] LT",lastDay:"[\xdd~\xe9st~\xe9rd\xe1~\xfd \xe1t] LT",lastWeek:"[L~\xe1st] dddd [\xe1t] LT",sameElse:"L"},relativeTime:{future:"\xed~\xf1 %s",past:"%s \xe1~g\xf3",s:"\xe1 ~f\xe9w ~s\xe9c\xf3~\xf1ds",ss:"%d s~\xe9c\xf3\xf1~ds",m:"\xe1 ~m\xed\xf1~\xfat\xe9",mm:"%d m~\xed\xf1\xfa~t\xe9s",h:"\xe1~\xf1 h\xf3~\xfar",hh:"%d h~\xf3\xfars",d:"\xe1 ~d\xe1\xfd",dd:"%d d~\xe1\xfds",M:"\xe1 ~m\xf3\xf1~th",MM:"%d m~\xf3\xf1t~hs",y:"\xe1 ~\xfd\xe9\xe1r",yy:"%d \xfd~\xe9\xe1rs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(ee){var x=ee%10;return ee+(1==~~(ee%100/10)?"th":1===x?"st":2===x?"nd":3===x?"rd":"th")},week:{dow:1,doy:4}})}(Ae(6738))},8028:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("yo",{months:"S\u1eb9\u0301r\u1eb9\u0301_E\u0300re\u0300le\u0300_\u1eb8r\u1eb9\u0300na\u0300_I\u0300gbe\u0301_E\u0300bibi_O\u0300ku\u0300du_Ag\u1eb9mo_O\u0300gu\u0301n_Owewe_\u1ecc\u0300wa\u0300ra\u0300_Be\u0301lu\u0301_\u1ecc\u0300p\u1eb9\u0300\u0300".split("_"),monthsShort:"S\u1eb9\u0301r_E\u0300rl_\u1eb8rn_I\u0300gb_E\u0300bi_O\u0300ku\u0300_Ag\u1eb9_O\u0300gu\u0301_Owe_\u1ecc\u0300wa\u0300_Be\u0301l_\u1ecc\u0300p\u1eb9\u0300\u0300".split("_"),weekdays:"A\u0300i\u0300ku\u0301_Aje\u0301_I\u0300s\u1eb9\u0301gun_\u1eccj\u1ecd\u0301ru\u0301_\u1eccj\u1ecd\u0301b\u1ecd_\u1eb8ti\u0300_A\u0300ba\u0301m\u1eb9\u0301ta".split("_"),weekdaysShort:"A\u0300i\u0300k_Aje\u0301_I\u0300s\u1eb9\u0301_\u1eccjr_\u1eccjb_\u1eb8ti\u0300_A\u0300ba\u0301".split("_"),weekdaysMin:"A\u0300i\u0300_Aj_I\u0300s_\u1eccr_\u1eccb_\u1eb8t_A\u0300b".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[O\u0300ni\u0300 ni] LT",nextDay:"[\u1ecc\u0300la ni] LT",nextWeek:"dddd [\u1eccs\u1eb9\u0300 to\u0301n'b\u1ecd] [ni] LT",lastDay:"[A\u0300na ni] LT",lastWeek:"dddd [\u1eccs\u1eb9\u0300 to\u0301l\u1ecd\u0301] [ni] LT",sameElse:"L"},relativeTime:{future:"ni\u0301 %s",past:"%s k\u1ecdja\u0301",s:"i\u0300s\u1eb9ju\u0301 aaya\u0301 die",ss:"aaya\u0301 %d",m:"i\u0300s\u1eb9ju\u0301 kan",mm:"i\u0300s\u1eb9ju\u0301 %d",h:"wa\u0301kati kan",hh:"wa\u0301kati %d",d:"\u1ecdj\u1ecd\u0301 kan",dd:"\u1ecdj\u1ecd\u0301 %d",M:"osu\u0300 kan",MM:"osu\u0300 %d",y:"\u1ecddu\u0301n kan",yy:"\u1ecddu\u0301n %d"},dayOfMonthOrdinalParse:/\u1ecdj\u1ecd\u0301\s\d{1,2}/,ordinal:"\u1ecdj\u1ecd\u0301 %d",week:{dow:1,doy:4}})}(Ae(6738))},9330:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("zh-cn",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u5468\u65e5_\u5468\u4e00_\u5468\u4e8c_\u5468\u4e09_\u5468\u56db_\u5468\u4e94_\u5468\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5Ah\u70b9mm\u5206",LLLL:"YYYY\u5e74M\u6708D\u65e5ddddAh\u70b9mm\u5206",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(ee,x){return 12===ee&&(ee=0),"\u51cc\u6668"===x||"\u65e9\u4e0a"===x||"\u4e0a\u5348"===x?ee:"\u4e0b\u5348"===x||"\u665a\u4e0a"===x?ee+12:ee>=11?ee:ee+12},meridiem:function(ee,x,de){var Ce=100*ee+x;return Ce<600?"\u51cc\u6668":Ce<900?"\u65e9\u4e0a":Ce<1130?"\u4e0a\u5348":Ce<1230?"\u4e2d\u5348":Ce<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929]LT",nextDay:"[\u660e\u5929]LT",nextWeek:function(ee){return ee.week()!==this.week()?"[\u4e0b]dddLT":"[\u672c]dddLT"},lastDay:"[\u6628\u5929]LT",lastWeek:function(ee){return this.week()!==ee.week()?"[\u4e0a]dddLT":"[\u672c]dddLT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u5468)/,ordinal:function(ee,x){switch(x){case"d":case"D":case"DDD":return ee+"\u65e5";case"M":return ee+"\u6708";case"w":case"W":return ee+"\u5468";default:return ee}},relativeTime:{future:"%s\u540e",past:"%s\u524d",s:"\u51e0\u79d2",ss:"%d \u79d2",m:"1 \u5206\u949f",mm:"%d \u5206\u949f",h:"1 \u5c0f\u65f6",hh:"%d \u5c0f\u65f6",d:"1 \u5929",dd:"%d \u5929",w:"1 \u5468",ww:"%d \u5468",M:"1 \u4e2a\u6708",MM:"%d \u4e2a\u6708",y:"1 \u5e74",yy:"%d \u5e74"},week:{dow:1,doy:4}})}(Ae(6738))},9380:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("zh-hk",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(ee,x){return 12===ee&&(ee=0),"\u51cc\u6668"===x||"\u65e9\u4e0a"===x||"\u4e0a\u5348"===x?ee:"\u4e2d\u5348"===x?ee>=11?ee:ee+12:"\u4e0b\u5348"===x||"\u665a\u4e0a"===x?ee+12:void 0},meridiem:function(ee,x,de){var Ce=100*ee+x;return Ce<600?"\u51cc\u6668":Ce<900?"\u65e9\u4e0a":Ce<1200?"\u4e0a\u5348":1200===Ce?"\u4e2d\u5348":Ce<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929]LT",nextDay:"[\u660e\u5929]LT",nextWeek:"[\u4e0b]ddddLT",lastDay:"[\u6628\u5929]LT",lastWeek:"[\u4e0a]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(ee,x){switch(x){case"d":case"D":case"DDD":return ee+"\u65e5";case"M":return ee+"\u6708";case"w":case"W":return ee+"\u9031";default:return ee}},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u5e7e\u79d2",ss:"%d \u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"}})}(Ae(6738))},874:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("zh-mo",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm",l:"D/M/YYYY",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(ee,x){return 12===ee&&(ee=0),"\u51cc\u6668"===x||"\u65e9\u4e0a"===x||"\u4e0a\u5348"===x?ee:"\u4e2d\u5348"===x?ee>=11?ee:ee+12:"\u4e0b\u5348"===x||"\u665a\u4e0a"===x?ee+12:void 0},meridiem:function(ee,x,de){var Ce=100*ee+x;return Ce<600?"\u51cc\u6668":Ce<900?"\u65e9\u4e0a":Ce<1130?"\u4e0a\u5348":Ce<1230?"\u4e2d\u5348":Ce<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929] LT",nextDay:"[\u660e\u5929] LT",nextWeek:"[\u4e0b]dddd LT",lastDay:"[\u6628\u5929] LT",lastWeek:"[\u4e0a]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(ee,x){switch(x){case"d":case"D":case"DDD":return ee+"\u65e5";case"M":return ee+"\u6708";case"w":case"W":return ee+"\u9031";default:return ee}},relativeTime:{future:"%s\u5167",past:"%s\u524d",s:"\u5e7e\u79d2",ss:"%d \u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"}})}(Ae(6738))},6508:function(Ut,kt,Ae){!function(o){"use strict";o.defineLocale("zh-tw",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(ee,x){return 12===ee&&(ee=0),"\u51cc\u6668"===x||"\u65e9\u4e0a"===x||"\u4e0a\u5348"===x?ee:"\u4e2d\u5348"===x?ee>=11?ee:ee+12:"\u4e0b\u5348"===x||"\u665a\u4e0a"===x?ee+12:void 0},meridiem:function(ee,x,de){var Ce=100*ee+x;return Ce<600?"\u51cc\u6668":Ce<900?"\u65e9\u4e0a":Ce<1130?"\u4e0a\u5348":Ce<1230?"\u4e2d\u5348":Ce<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929] LT",nextDay:"[\u660e\u5929] LT",nextWeek:"[\u4e0b]dddd LT",lastDay:"[\u6628\u5929] LT",lastWeek:"[\u4e0a]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(ee,x){switch(x){case"d":case"D":case"DDD":return ee+"\u65e5";case"M":return ee+"\u6708";case"w":case"W":return ee+"\u9031";default:return ee}},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u5e7e\u79d2",ss:"%d \u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"}})}(Ae(6738))},6738:function(Ut,kt,Ae){(Ut=Ae.nmd(Ut)).exports=function(){"use strict";var o,ct;function $(){return o.apply(null,arguments)}function x(W){return W instanceof Array||"[object Array]"===Object.prototype.toString.call(W)}function de(W){return null!=W&&"[object Object]"===Object.prototype.toString.call(W)}function Ce(W,le){return Object.prototype.hasOwnProperty.call(W,le)}function Ee(W){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(W).length;var le;for(le in W)if(Ce(W,le))return!1;return!0}function Me(W){return void 0===W}function Be(W){return"number"==typeof W||"[object Number]"===Object.prototype.toString.call(W)}function Ge(W){return W instanceof Date||"[object Date]"===Object.prototype.toString.call(W)}function Mt(W,le){var Ue,De=[];for(Ue=0;Ue<W.length;++Ue)De.push(le(W[Ue],Ue));return De}function ft(W,le){for(var De in le)Ce(le,De)&&(W[De]=le[De]);return Ce(le,"toString")&&(W.toString=le.toString),Ce(le,"valueOf")&&(W.valueOf=le.valueOf),W}function Lt(W,le,De,Ue){return Do(W,le,De,Ue,!0).utc()}function Gt(W){return null==W._pf&&(W._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),W._pf}function ii(W){if(null==W._isValid){var le=Gt(W),De=ct.call(le.parsedDateParts,function(nt){return null!=nt}),Ue=!isNaN(W._d.getTime())&&le.overflow<0&&!le.empty&&!le.invalidEra&&!le.invalidMonth&&!le.invalidWeekday&&!le.weekdayMismatch&&!le.nullInput&&!le.invalidFormat&&!le.userInvalidated&&(!le.meridiem||le.meridiem&&De);if(W._strict&&(Ue=Ue&&0===le.charsLeftOver&&0===le.unusedTokens.length&&void 0===le.bigHour),null!=Object.isFrozen&&Object.isFrozen(W))return Ue;W._isValid=Ue}return W._isValid}function Fn(W){var le=Lt(NaN);return null!=W?ft(Gt(le),W):Gt(le).userInvalidated=!0,le}ct=Array.prototype.some?Array.prototype.some:function(W){var Ue,le=Object(this),De=le.length>>>0;for(Ue=0;Ue<De;Ue++)if(Ue in le&&W.call(this,le[Ue],Ue,le))return!0;return!1};var Wt=$.momentProperties=[],ar=!1;function us(W,le){var De,Ue,nt;if(Me(le._isAMomentObject)||(W._isAMomentObject=le._isAMomentObject),Me(le._i)||(W._i=le._i),Me(le._f)||(W._f=le._f),Me(le._l)||(W._l=le._l),Me(le._strict)||(W._strict=le._strict),Me(le._tzm)||(W._tzm=le._tzm),Me(le._isUTC)||(W._isUTC=le._isUTC),Me(le._offset)||(W._offset=le._offset),Me(le._pf)||(W._pf=Gt(le)),Me(le._locale)||(W._locale=le._locale),Wt.length>0)for(De=0;De<Wt.length;De++)Me(nt=le[Ue=Wt[De]])||(W[Ue]=nt);return W}function hi(W){us(this,W),this._d=new Date(null!=W._d?W._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===ar&&(ar=!0,$.updateOffset(this),ar=!1)}function zi(W){return W instanceof hi||null!=W&&null!=W._isAMomentObject}function Ps(W){!1===$.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+W)}function er(W,le){var De=!0;return ft(function(){if(null!=$.deprecationHandler&&$.deprecationHandler(null,W),De){var nt,$t,Tn,Ue=[];for($t=0;$t<arguments.length;$t++){if(nt="","object"==typeof arguments[$t]){for(Tn in nt+="\n["+$t+"] ",arguments[0])Ce(arguments[0],Tn)&&(nt+=Tn+": "+arguments[0][Tn]+", ");nt=nt.slice(0,-2)}else nt=arguments[$t];Ue.push(nt)}Ps(W+"\nArguments: "+Array.prototype.slice.call(Ue).join("")+"\n"+(new Error).stack),De=!1}return le.apply(this,arguments)},le)}var vn,Yr={};function wn(W,le){null!=$.deprecationHandler&&$.deprecationHandler(W,le),Yr[W]||(Ps(le),Yr[W]=!0)}function hn(W){return"undefined"!=typeof Function&&W instanceof Function||"[object Function]"===Object.prototype.toString.call(W)}function mn(W,le){var Ue,De=ft({},W);for(Ue in le)Ce(le,Ue)&&(de(W[Ue])&&de(le[Ue])?(De[Ue]={},ft(De[Ue],W[Ue]),ft(De[Ue],le[Ue])):null!=le[Ue]?De[Ue]=le[Ue]:delete De[Ue]);for(Ue in W)Ce(W,Ue)&&!Ce(le,Ue)&&de(W[Ue])&&(De[Ue]=ft({},De[Ue]));return De}function Yn(W){null!=W&&this.set(W)}$.suppressDeprecationWarnings=!1,$.deprecationHandler=null,vn=Object.keys?Object.keys:function(W){var le,De=[];for(le in W)Ce(W,le)&&De.push(le);return De};function Vi(W,le,De){var Ue=""+Math.abs(W);return(W>=0?De?"+":"":"-")+Math.pow(10,Math.max(0,le-Ue.length)).toString().substr(1)+Ue}var fi=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ti=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,vi={},bi={};function Kn(W,le,De,Ue){var nt=Ue;"string"==typeof Ue&&(nt=function(){return this[Ue]()}),W&&(bi[W]=nt),le&&(bi[le[0]]=function(){return Vi(nt.apply(this,arguments),le[1],le[2])}),De&&(bi[De]=function(){return this.localeData().ordinal(nt.apply(this,arguments),W)})}function Oi(W){return W.match(/\[[\s\S]/)?W.replace(/^\[|\]$/g,""):W.replace(/\\/g,"")}function xo(W,le){return W.isValid()?(le=ss(le,W.localeData()),vi[le]=vi[le]||function(W){var De,Ue,le=W.match(fi);for(De=0,Ue=le.length;De<Ue;De++)le[De]=bi[le[De]]?bi[le[De]]:Oi(le[De]);return function(nt){var Tn,$t="";for(Tn=0;Tn<Ue;Tn++)$t+=hn(le[Tn])?le[Tn].call(nt,W):le[Tn];return $t}}(le),vi[le](W)):W.localeData().invalidDate()}function ss(W,le){var De=5;function Ue(nt){return le.longDateFormat(nt)||nt}for(Ti.lastIndex=0;De>=0&&Ti.test(W);)W=W.replace(Ti,Ue),Ti.lastIndex=0,De-=1;return W}var fs={};function xr(W,le){var De=W.toLowerCase();fs[De]=fs[De+"s"]=fs[le]=W}function nr(W){return"string"==typeof W?fs[W]||fs[W.toLowerCase()]:void 0}function Co(W){var De,Ue,le={};for(Ue in W)Ce(W,Ue)&&(De=nr(Ue))&&(le[De]=W[Ue]);return le}var Yc={};function Qr(W,le){Yc[W]=le}function Wo(W){return W%4==0&&W%100!=0||W%400==0}function Pr(W){return W<0?Math.ceil(W)||0:Math.floor(W)}function jn(W){var le=+W,De=0;return 0!==le&&isFinite(le)&&(De=Pr(le)),De}function Xi(W,le){return function(De){return null!=De?(Va(this,W,De),$.updateOffset(this,le),this):wl(this,W)}}function wl(W,le){return W.isValid()?W._d["get"+(W._isUTC?"UTC":"")+le]():NaN}function Va(W,le,De){W.isValid()&&!isNaN(De)&&("FullYear"===le&&Wo(W.year())&&1===W.month()&&29===W.date()?(De=jn(De),W._d["set"+(W._isUTC?"UTC":"")+le](De,W.month(),Ie(De,W.month()))):W._d["set"+(W._isUTC?"UTC":"")+le](De))}var Bt,Bo=/\d/,Yo=/\d\d/,Rt=/\d{3}/,Ot=/\d{4}/,Qt=/[+-]?\d{6}/,_n=/\d\d?/,on=/\d\d\d\d?/,gi=/\d\d\d\d\d\d?/,Ui=/\d{1,3}/,hr=/\d{1,4}/,Hr=/[+-]?\d{1,6}/,Er=/\d+/,at=/[+-]?\d+/,Ye=/Z|[+-]\d\d:?\d\d/gi,$e=/Z|[+-]\d\d(?::?\d\d)?/gi,Ct=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function Pt(W,le,De){Bt[W]=hn(le)?le:function(Ue,nt){return Ue&&De?De:le}}function nn(W,le){return Ce(Bt,W)?Bt[W](le._strict,le._locale):new RegExp(function(W){return en(W.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(le,De,Ue,nt,$t){return De||Ue||nt||$t}))}(W))}function en(W){return W.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}Bt={};var En={};function Re(W,le){var De,Ue=le;for("string"==typeof W&&(W=[W]),Be(le)&&(Ue=function(nt,$t){$t[le]=jn(nt)}),De=0;De<W.length;De++)En[W[De]]=Ue}function p(W,le){Re(W,function(De,Ue,nt,$t){nt._w=nt._w||{},le(De,nt._w,nt,$t)})}function f(W,le,De){null!=le&&Ce(En,W)&&En[W](le,De._a,De,W)}var _e;function Ie(W,le){if(isNaN(W)||isNaN(le))return NaN;var De=function(W,le){return(W%le+le)%le}(le,12);return W+=(le-De)/12,1===De?Wo(W)?29:28:31-De%7%2}_e=Array.prototype.indexOf?Array.prototype.indexOf:function(W){var le;for(le=0;le<this.length;++le)if(this[le]===W)return le;return-1},Kn("M",["MM",2],"Mo",function(){return this.month()+1}),Kn("MMM",0,0,function(W){return this.localeData().monthsShort(this,W)}),Kn("MMMM",0,0,function(W){return this.localeData().months(this,W)}),xr("month","M"),Qr("month",8),Pt("M",_n),Pt("MM",_n,Yo),Pt("MMM",function(W,le){return le.monthsShortRegex(W)}),Pt("MMMM",function(W,le){return le.monthsRegex(W)}),Re(["M","MM"],function(W,le){le[1]=jn(W)-1}),Re(["MMM","MMMM"],function(W,le,De,Ue){var nt=De._locale.monthsParse(W,Ue,De._strict);null!=nt?le[1]=nt:Gt(De).invalidMonth=W});var Pe="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ze="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),We=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,st=Ct,bt=Ct;function Ne(W,le,De){var Ue,nt,$t,Tn=W.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],Ue=0;Ue<12;++Ue)$t=Lt([2e3,Ue]),this._shortMonthsParse[Ue]=this.monthsShort($t,"").toLocaleLowerCase(),this._longMonthsParse[Ue]=this.months($t,"").toLocaleLowerCase();return De?"MMM"===le?-1!==(nt=_e.call(this._shortMonthsParse,Tn))?nt:null:-1!==(nt=_e.call(this._longMonthsParse,Tn))?nt:null:"MMM"===le?-1!==(nt=_e.call(this._shortMonthsParse,Tn))||-1!==(nt=_e.call(this._longMonthsParse,Tn))?nt:null:-1!==(nt=_e.call(this._longMonthsParse,Tn))||-1!==(nt=_e.call(this._shortMonthsParse,Tn))?nt:null}function mt(W,le){var De;if(!W.isValid())return W;if("string"==typeof le)if(/^\d+$/.test(le))le=jn(le);else if(!Be(le=W.localeData().monthsParse(le)))return W;return De=Math.min(W.date(),Ie(W.year(),le)),W._d["set"+(W._isUTC?"UTC":"")+"Month"](le,De),W}function ln(W){return null!=W?(mt(this,W),$.updateOffset(this,!0),this):wl(this,"Month")}function zn(){function W(Tn,Gi){return Gi.length-Tn.length}var nt,$t,le=[],De=[],Ue=[];for(nt=0;nt<12;nt++)$t=Lt([2e3,nt]),le.push(this.monthsShort($t,"")),De.push(this.months($t,"")),Ue.push(this.months($t,"")),Ue.push(this.monthsShort($t,""));for(le.sort(W),De.sort(W),Ue.sort(W),nt=0;nt<12;nt++)le[nt]=en(le[nt]),De[nt]=en(De[nt]);for(nt=0;nt<24;nt++)Ue[nt]=en(Ue[nt]);this._monthsRegex=new RegExp("^("+Ue.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+De.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+le.join("|")+")","i")}function ki(W){return Wo(W)?366:365}Kn("Y",0,0,function(){var W=this.year();return W<=9999?Vi(W,4):"+"+W}),Kn(0,["YY",2],0,function(){return this.year()%100}),Kn(0,["YYYY",4],0,"year"),Kn(0,["YYYYY",5],0,"year"),Kn(0,["YYYYYY",6,!0],0,"year"),xr("year","y"),Qr("year",1),Pt("Y",at),Pt("YY",_n,Yo),Pt("YYYY",hr,Ot),Pt("YYYYY",Hr,Qt),Pt("YYYYYY",Hr,Qt),Re(["YYYYY","YYYYYY"],0),Re("YYYY",function(W,le){le[0]=2===W.length?$.parseTwoDigitYear(W):jn(W)}),Re("YY",function(W,le){le[0]=$.parseTwoDigitYear(W)}),Re("Y",function(W,le){le[0]=parseInt(W,10)}),$.parseTwoDigitYear=function(W){return jn(W)+(jn(W)>68?1900:2e3)};var pr=Xi("FullYear",!0);function Yi(W,le,De,Ue,nt,$t,Tn){var Gi;return W<100&&W>=0?(Gi=new Date(W+400,le,De,Ue,nt,$t,Tn),isFinite(Gi.getFullYear())&&Gi.setFullYear(W)):Gi=new Date(W,le,De,Ue,nt,$t,Tn),Gi}function Lr(W){var le,De;return W<100&&W>=0?((De=Array.prototype.slice.call(arguments))[0]=W+400,le=new Date(Date.UTC.apply(null,De)),isFinite(le.getUTCFullYear())&&le.setUTCFullYear(W)):le=new Date(Date.UTC.apply(null,arguments)),le}function eo(W,le,De){var Ue=7+le-De;return-(7+Lr(W,0,Ue).getUTCDay()-le)%7+Ue-1}function Cs(W,le,De,Ue,nt){var ls,mo,Gi=1+7*(le-1)+(7+De-Ue)%7+eo(W,Ue,nt);return Gi<=0?mo=ki(ls=W-1)+Gi:Gi>ki(W)?(ls=W+1,mo=Gi-ki(W)):(ls=W,mo=Gi),{year:ls,dayOfYear:mo}}function qi(W,le,De){var $t,Tn,Ue=eo(W.year(),le,De),nt=Math.floor((W.dayOfYear()-Ue-1)/7)+1;return nt<1?$t=nt+jr(Tn=W.year()-1,le,De):nt>jr(W.year(),le,De)?($t=nt-jr(W.year(),le,De),Tn=W.year()+1):(Tn=W.year(),$t=nt),{week:$t,year:Tn}}function jr(W,le,De){var Ue=eo(W,le,De),nt=eo(W+1,le,De);return(ki(W)-Ue+nt)/7}Kn("w",["ww",2],"wo","week"),Kn("W",["WW",2],"Wo","isoWeek"),xr("week","w"),xr("isoWeek","W"),Qr("week",5),Qr("isoWeek",5),Pt("w",_n),Pt("ww",_n,Yo),Pt("W",_n),Pt("WW",_n,Yo),p(["w","ww","W","WW"],function(W,le,De,Ue){le[Ue.substr(0,1)]=jn(W)});function rh(W,le){return W.slice(le,7).concat(W.slice(0,le))}Kn("d",0,"do","day"),Kn("dd",0,0,function(W){return this.localeData().weekdaysMin(this,W)}),Kn("ddd",0,0,function(W){return this.localeData().weekdaysShort(this,W)}),Kn("dddd",0,0,function(W){return this.localeData().weekdays(this,W)}),Kn("e",0,0,"weekday"),Kn("E",0,0,"isoWeekday"),xr("day","d"),xr("weekday","e"),xr("isoWeekday","E"),Qr("day",11),Qr("weekday",11),Qr("isoWeekday",11),Pt("d",_n),Pt("e",_n),Pt("E",_n),Pt("dd",function(W,le){return le.weekdaysMinRegex(W)}),Pt("ddd",function(W,le){return le.weekdaysShortRegex(W)}),Pt("dddd",function(W,le){return le.weekdaysRegex(W)}),p(["dd","ddd","dddd"],function(W,le,De,Ue){var nt=De._locale.weekdaysParse(W,Ue,De._strict);null!=nt?le.d=nt:Gt(De).invalidWeekday=W}),p(["d","e","E"],function(W,le,De,Ue){le[Ue]=jn(W)});var Cl="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Cp="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Id="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),rf=Ct,ou=Ct,Ts=Ct;function nc(W,le,De){var Ue,nt,$t,Tn=W.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],Ue=0;Ue<7;++Ue)$t=Lt([2e3,1]).day(Ue),this._minWeekdaysParse[Ue]=this.weekdaysMin($t,"").toLocaleLowerCase(),this._shortWeekdaysParse[Ue]=this.weekdaysShort($t,"").toLocaleLowerCase(),this._weekdaysParse[Ue]=this.weekdays($t,"").toLocaleLowerCase();return De?"dddd"===le?-1!==(nt=_e.call(this._weekdaysParse,Tn))?nt:null:"ddd"===le?-1!==(nt=_e.call(this._shortWeekdaysParse,Tn))?nt:null:-1!==(nt=_e.call(this._minWeekdaysParse,Tn))?nt:null:"dddd"===le?-1!==(nt=_e.call(this._weekdaysParse,Tn))||-1!==(nt=_e.call(this._shortWeekdaysParse,Tn))||-1!==(nt=_e.call(this._minWeekdaysParse,Tn))?nt:null:"ddd"===le?-1!==(nt=_e.call(this._shortWeekdaysParse,Tn))||-1!==(nt=_e.call(this._weekdaysParse,Tn))||-1!==(nt=_e.call(this._minWeekdaysParse,Tn))?nt:null:-1!==(nt=_e.call(this._minWeekdaysParse,Tn))||-1!==(nt=_e.call(this._weekdaysParse,Tn))||-1!==(nt=_e.call(this._shortWeekdaysParse,Tn))?nt:null}function Ji(){function W(js,ea){return ea.length-js.length}var $t,Tn,Gi,ls,mo,le=[],De=[],Ue=[],nt=[];for($t=0;$t<7;$t++)Tn=Lt([2e3,1]).day($t),Gi=en(this.weekdaysMin(Tn,"")),ls=en(this.weekdaysShort(Tn,"")),mo=en(this.weekdays(Tn,"")),le.push(Gi),De.push(ls),Ue.push(mo),nt.push(Gi),nt.push(ls),nt.push(mo);le.sort(W),De.sort(W),Ue.sort(W),nt.sort(W),this._weekdaysRegex=new RegExp("^("+nt.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+Ue.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+De.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+le.join("|")+")","i")}function ic(){return this.hours()%12||12}function Ld(W,le){Kn(W,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),le)})}function Or(W,le){return le._meridiemParse}Kn("H",["HH",2],0,"hour"),Kn("h",["hh",2],0,ic),Kn("k",["kk",2],0,function(){return this.hours()||24}),Kn("hmm",0,0,function(){return""+ic.apply(this)+Vi(this.minutes(),2)}),Kn("hmmss",0,0,function(){return""+ic.apply(this)+Vi(this.minutes(),2)+Vi(this.seconds(),2)}),Kn("Hmm",0,0,function(){return""+this.hours()+Vi(this.minutes(),2)}),Kn("Hmmss",0,0,function(){return""+this.hours()+Vi(this.minutes(),2)+Vi(this.seconds(),2)}),Ld("a",!0),Ld("A",!1),xr("hour","h"),Qr("hour",13),Pt("a",Or),Pt("A",Or),Pt("H",_n),Pt("h",_n),Pt("k",_n),Pt("HH",_n,Yo),Pt("hh",_n,Yo),Pt("kk",_n,Yo),Pt("hmm",on),Pt("hmmss",gi),Pt("Hmm",on),Pt("Hmmss",gi),Re(["H","HH"],3),Re(["k","kk"],function(W,le,De){var Ue=jn(W);le[3]=24===Ue?0:Ue}),Re(["a","A"],function(W,le,De){De._isPm=De._locale.isPM(W),De._meridiem=W}),Re(["h","hh"],function(W,le,De){le[3]=jn(W),Gt(De).bigHour=!0}),Re("hmm",function(W,le,De){var Ue=W.length-2;le[3]=jn(W.substr(0,Ue)),le[4]=jn(W.substr(Ue)),Gt(De).bigHour=!0}),Re("hmmss",function(W,le,De){var Ue=W.length-4,nt=W.length-2;le[3]=jn(W.substr(0,Ue)),le[4]=jn(W.substr(Ue,2)),le[5]=jn(W.substr(nt)),Gt(De).bigHour=!0}),Re("Hmm",function(W,le,De){var Ue=W.length-2;le[3]=jn(W.substr(0,Ue)),le[4]=jn(W.substr(Ue))}),Re("Hmmss",function(W,le,De){var Ue=W.length-4,nt=W.length-2;le[3]=jn(W.substr(0,Ue)),le[4]=jn(W.substr(Ue,2)),le[5]=jn(W.substr(nt))});var Sp=Xi("Hours",!0);var rc,Qa={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Pe,monthsShort:ze,week:{dow:0,doy:6},weekdays:Cl,weekdaysMin:Id,weekdaysShort:Cp,meridiemParse:/[ap]\.?m?\.?/i},mi={},Hc={};function Xa(W,le){var De,Ue=Math.min(W.length,le.length);for(De=0;De<Ue;De+=1)if(W[De]!==le[De])return De;return Ue}function Od(W){return W&&W.toLowerCase().replace("_","-")}function Hs(W){var le=null;if(void 0===mi[W]&&Ut&&Ut.exports)try{le=rc._abbr,Ae(6700)("./"+W),Bl(le)}catch(Ue){mi[W]=null}return mi[W]}function Bl(W,le){var De;return W&&((De=Me(le)?fr(W):or(W,le))?rc=De:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+W+" not found. Did you forget to load it?")),rc._abbr}function or(W,le){if(null!==le){var De,Ue=Qa;if(le.abbr=W,null!=mi[W])wn("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),Ue=mi[W]._config;else if(null!=le.parentLocale)if(null!=mi[le.parentLocale])Ue=mi[le.parentLocale]._config;else{if(null==(De=Hs(le.parentLocale)))return Hc[le.parentLocale]||(Hc[le.parentLocale]=[]),Hc[le.parentLocale].push({name:W,config:le}),null;Ue=De._config}return mi[W]=new Yn(mn(Ue,le)),Hc[W]&&Hc[W].forEach(function(nt){or(nt.name,nt.config)}),Bl(W),mi[W]}return delete mi[W],null}function fr(W){var le;if(W&&W._locale&&W._locale._abbr&&(W=W._locale._abbr),!W)return rc;if(!x(W)){if(le=Hs(W))return le;W=[W]}return function(W){for(var De,Ue,nt,$t,le=0;le<W.length;){for(De=($t=Od(W[le]).split("-")).length,Ue=(Ue=Od(W[le+1]))?Ue.split("-"):null;De>0;){if(nt=Hs($t.slice(0,De).join("-")))return nt;if(Ue&&Ue.length>=De&&Xa($t,Ue)>=De-1)break;De--}le++}return rc}(W)}function os(W){var le,De=W._a;return De&&-2===Gt(W).overflow&&(le=De[1]<0||De[1]>11?1:De[2]<1||De[2]>Ie(De[0],De[1])?2:De[3]<0||De[3]>24||24===De[3]&&(0!==De[4]||0!==De[5]||0!==De[6])?3:De[4]<0||De[4]>59?4:De[5]<0||De[5]>59?5:De[6]<0||De[6]>999?6:-1,Gt(W)._overflowDayOfYear&&(le<0||le>2)&&(le=2),Gt(W)._overflowWeeks&&-1===le&&(le=7),Gt(W)._overflowWeekday&&-1===le&&(le=8),Gt(W).overflow=le),W}var Ku=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Yl=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,sc=/Z|[+-]\d\d(?::?\d\d)?/,La=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],al=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ds=/^\/?Date\((-?\d+)/i,ca=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,uh={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function xu(W){var le,De,$t,Tn,Gi,ls,Ue=W._i,nt=Ku.exec(Ue)||Yl.exec(Ue);if(nt){for(Gt(W).iso=!0,le=0,De=La.length;le<De;le++)if(La[le][1].exec(nt[1])){Tn=La[le][0],$t=!1!==La[le][2];break}if(null==Tn)return void(W._isValid=!1);if(nt[3]){for(le=0,De=al.length;le<De;le++)if(al[le][1].exec(nt[3])){Gi=(nt[2]||" ")+al[le][0];break}if(null==Gi)return void(W._isValid=!1)}if(!$t&&null!=Gi)return void(W._isValid=!1);if(nt[4]){if(!sc.exec(nt[4]))return void(W._isValid=!1);ls="Z"}W._f=Tn+(Gi||"")+(ls||""),$n(W)}else W._isValid=!1}function Gh(W){var le=parseInt(W,10);return le<=49?2e3+le:le<=999?1900+le:le}function Rd(W){var De,le=ca.exec(function(W){return W.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}(W._i));if(le){if(De=function(W,le,De,Ue,nt,$t){var Tn=[Gh(W),ze.indexOf(le),parseInt(De,10),parseInt(Ue,10),parseInt(nt,10)];return $t&&Tn.push(parseInt($t,10)),Tn}(le[4],le[3],le[2],le[5],le[6],le[7]),!function(W,le,De){return!W||Cp.indexOf(W)===new Date(le[0],le[1],le[2]).getDay()||(Gt(De).weekdayMismatch=!0,De._isValid=!1,!1)}(le[1],De,W))return;W._a=De,W._tzm=function(W,le,De){if(W)return uh[W];if(le)return 0;var Ue=parseInt(De,10),nt=Ue%100;return(Ue-nt)/100*60+nt}(le[8],le[9],le[10]),W._d=Lr.apply(null,W._a),W._d.setUTCMinutes(W._d.getUTCMinutes()-W._tzm),Gt(W).rfc2822=!0}else W._isValid=!1}function wu(W,le,De){return null!=W?W:null!=le?le:De}function au(W){var le,De,nt,$t,Tn,Ue=[];if(!W._d){for(nt=function(W){var le=new Date($.now());return W._useUTC?[le.getUTCFullYear(),le.getUTCMonth(),le.getUTCDate()]:[le.getFullYear(),le.getMonth(),le.getDate()]}(W),W._w&&null==W._a[2]&&null==W._a[1]&&function(W){var le,De,Ue,nt,$t,Tn,Gi,ls,mo;null!=(le=W._w).GG||null!=le.W||null!=le.E?($t=1,Tn=4,De=wu(le.GG,W._a[0],qi(Bs(),1,4).year),Ue=wu(le.W,1),((nt=wu(le.E,1))<1||nt>7)&&(ls=!0)):($t=W._locale._week.dow,Tn=W._locale._week.doy,mo=qi(Bs(),$t,Tn),De=wu(le.gg,W._a[0],mo.year),Ue=wu(le.w,mo.week),null!=le.d?((nt=le.d)<0||nt>6)&&(ls=!0):null!=le.e?(nt=le.e+$t,(le.e<0||le.e>6)&&(ls=!0)):nt=$t),Ue<1||Ue>jr(De,$t,Tn)?Gt(W)._overflowWeeks=!0:null!=ls?Gt(W)._overflowWeekday=!0:(Gi=Cs(De,Ue,nt,$t,Tn),W._a[0]=Gi.year,W._dayOfYear=Gi.dayOfYear)}(W),null!=W._dayOfYear&&(Tn=wu(W._a[0],nt[0]),(W._dayOfYear>ki(Tn)||0===W._dayOfYear)&&(Gt(W)._overflowDayOfYear=!0),De=Lr(Tn,0,W._dayOfYear),W._a[1]=De.getUTCMonth(),W._a[2]=De.getUTCDate()),le=0;le<3&&null==W._a[le];++le)W._a[le]=Ue[le]=nt[le];for(;le<7;le++)W._a[le]=Ue[le]=null==W._a[le]?2===le?1:0:W._a[le];24===W._a[3]&&0===W._a[4]&&0===W._a[5]&&0===W._a[6]&&(W._nextDay=!0,W._a[3]=0),W._d=(W._useUTC?Lr:Yi).apply(null,Ue),$t=W._useUTC?W._d.getUTCDay():W._d.getDay(),null!=W._tzm&&W._d.setUTCMinutes(W._d.getUTCMinutes()-W._tzm),W._nextDay&&(W._a[3]=24),W._w&&void 0!==W._w.d&&W._w.d!==$t&&(Gt(W).weekdayMismatch=!0)}}function $n(W){if(W._f!==$.ISO_8601)if(W._f!==$.RFC_2822){W._a=[],Gt(W).empty=!0;var De,Ue,nt,$t,Tn,mo,le=""+W._i,Gi=le.length,ls=0;for(nt=ss(W._f,W._locale).match(fi)||[],De=0;De<nt.length;De++)(Ue=(le.match(nn($t=nt[De],W))||[])[0])&&((Tn=le.substr(0,le.indexOf(Ue))).length>0&&Gt(W).unusedInput.push(Tn),le=le.slice(le.indexOf(Ue)+Ue.length),ls+=Ue.length),bi[$t]?(Ue?Gt(W).empty=!1:Gt(W).unusedTokens.push($t),f($t,Ue,W)):W._strict&&!Ue&&Gt(W).unusedTokens.push($t);Gt(W).charsLeftOver=Gi-ls,le.length>0&&Gt(W).unusedInput.push(le),W._a[3]<=12&&!0===Gt(W).bigHour&&W._a[3]>0&&(Gt(W).bigHour=void 0),Gt(W).parsedDateParts=W._a.slice(0),Gt(W).meridiem=W._meridiem,W._a[3]=function(W,le,De){var Ue;return null==De?le:null!=W.meridiemHour?W.meridiemHour(le,De):(null!=W.isPM&&((Ue=W.isPM(De))&&le<12&&(le+=12),!Ue&&12===le&&(le=0)),le)}(W._locale,W._a[3],W._meridiem),null!==(mo=Gt(W).era)&&(W._a[0]=W._locale.erasConvertYear(mo,W._a[0])),au(W),os(W)}else Rd(W);else xu(W)}function oc(W){var le=W._i,De=W._f;return W._locale=W._locale||fr(W._l),null===le||void 0===De&&""===le?Fn({nullInput:!0}):("string"==typeof le&&(W._i=le=W._locale.preparse(le)),zi(le)?new hi(os(le)):(Ge(le)?W._d=le:x(De)?function(W){var le,De,Ue,nt,$t,Tn,Gi=!1;if(0===W._f.length)return Gt(W).invalidFormat=!0,void(W._d=new Date(NaN));for(nt=0;nt<W._f.length;nt++)$t=0,Tn=!1,le=us({},W),null!=W._useUTC&&(le._useUTC=W._useUTC),le._f=W._f[nt],$n(le),ii(le)&&(Tn=!0),$t+=Gt(le).charsLeftOver,$t+=10*Gt(le).unusedTokens.length,Gt(le).score=$t,Gi?$t<Ue&&(Ue=$t,De=le):(null==Ue||$t<Ue||Tn)&&(Ue=$t,De=le,Tn&&(Gi=!0));ft(W,De||le)}(W):De?$n(W):function(W){var le=W._i;Me(le)?W._d=new Date($.now()):Ge(le)?W._d=new Date(le.valueOf()):"string"==typeof le?function(W){var le=ds.exec(W._i);null===le?(xu(W),!1===W._isValid&&(delete W._isValid,Rd(W),!1===W._isValid&&(delete W._isValid,W._strict?W._isValid=!1:$.createFromInputFallback(W)))):W._d=new Date(+le[1])}(W):x(le)?(W._a=Mt(le.slice(0),function(De){return parseInt(De,10)}),au(W)):de(le)?function(W){if(!W._d){var le=Co(W._i);W._a=Mt([le.year,le.month,void 0===le.day?le.date:le.day,le.hour,le.minute,le.second,le.millisecond],function(Ue){return Ue&&parseInt(Ue,10)}),au(W)}}(W):Be(le)?W._d=new Date(le):$.createFromInputFallback(W)}(W),ii(W)||(W._d=null),W))}function Do(W,le,De,Ue,nt){var $t={};return(!0===le||!1===le)&&(Ue=le,le=void 0),(!0===De||!1===De)&&(Ue=De,De=void 0),(de(W)&&Ee(W)||x(W)&&0===W.length)&&(W=void 0),$t._isAMomentObject=!0,$t._useUTC=$t._isUTC=nt,$t._l=De,$t._i=W,$t._f=le,$t._strict=Ue,function(W){var le=new hi(os(oc(W)));return le._nextDay&&(le.add(1,"d"),le._nextDay=void 0),le}($t)}function Bs(W,le,De,Ue){return Do(W,le,De,Ue,!1)}$.createFromInputFallback=er("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(W){W._d=new Date(W._i+(W._useUTC?" UTC":""))}),$.ISO_8601=function(){},$.RFC_2822=function(){};var qh=er("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var W=Bs.apply(null,arguments);return this.isValid()&&W.isValid()?W<this?this:W:Fn()}),Dp=er("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var W=Bs.apply(null,arguments);return this.isValid()&&W.isValid()?W>this?this:W:Fn()});function ll(W,le){var De,Ue;if(1===le.length&&x(le[0])&&(le=le[0]),!le.length)return Bs();for(De=le[0],Ue=1;Ue<le.length;++Ue)(!le[Ue].isValid()||le[Ue][W](De))&&(De=le[Ue]);return De}var dh=["year","quarter","month","week","day","hour","minute","second","millisecond"];function $h(W){var le=Co(W),De=le.year||0,Ue=le.quarter||0,nt=le.month||0,$t=le.week||le.isoWeek||0,Tn=le.day||0,Gi=le.hour||0,ls=le.minute||0,mo=le.second||0,js=le.millisecond||0;this._isValid=function(W){var le,Ue,De=!1;for(le in W)if(Ce(W,le)&&(-1===_e.call(dh,le)||null!=W[le]&&isNaN(W[le])))return!1;for(Ue=0;Ue<dh.length;++Ue)if(W[dh[Ue]]){if(De)return!1;parseFloat(W[dh[Ue]])!==jn(W[dh[Ue]])&&(De=!0)}return!0}(le),this._milliseconds=+js+1e3*mo+6e4*ls+1e3*Gi*60*60,this._days=+Tn+7*$t,this._months=+nt+3*Ue+12*De,this._data={},this._locale=fr(),this._bubble()}function nd(W){return W instanceof $h}function Cu(W){return W<0?-1*Math.round(-1*W):Math.round(W)}function wc(W,le){Kn(W,0,0,function(){var De=this.utcOffset(),Ue="+";return De<0&&(De=-De,Ue="-"),Ue+Vi(~~(De/60),2)+le+Vi(~~De%60,2)})}wc("Z",":"),wc("ZZ",""),Pt("Z",$e),Pt("ZZ",$e),Re(["Z","ZZ"],function(W,le,De){De._useUTC=!0,De._tzm=Mu($e,W)});var Qh=/([\+\-]|\d\d)/gi;function Mu(W,le){var nt,$t,De=(le||"").match(W);return null===De?null:0===($t=60*(nt=((De[De.length-1]||[])+"").match(Qh)||["-",0,0])[1]+jn(nt[2]))?0:"+"===nt[0]?$t:-$t}function hh(W,le){var De,Ue;return le._isUTC?(De=le.clone(),Ue=(zi(W)||Ge(W)?W.valueOf():Bs(W).valueOf())-De.valueOf(),De._d.setTime(De._d.valueOf()+Ue),$.updateOffset(De,!1),De):Bs(W).local()}function va(W){return-Math.round(W._d.getTimezoneOffset())}function yn(){return!!this.isValid()&&this._isUTC&&0===this._offset}$.updateOffset=function(){};var Ei=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,sr=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Dr(W,le){var nt,$t,Tn,De=W,Ue=null;return nd(W)?De={ms:W._milliseconds,d:W._days,M:W._months}:Be(W)||!isNaN(+W)?(De={},le?De[le]=+W:De.milliseconds=+W):(Ue=Ei.exec(W))?(nt="-"===Ue[1]?-1:1,De={y:0,d:jn(Ue[2])*nt,h:jn(Ue[3])*nt,m:jn(Ue[4])*nt,s:jn(Ue[5])*nt,ms:jn(Cu(1e3*Ue[6]))*nt}):(Ue=sr.exec(W))?De={y:Js(Ue[2],nt="-"===Ue[1]?-1:1),M:Js(Ue[3],nt),w:Js(Ue[4],nt),d:Js(Ue[5],nt),h:Js(Ue[6],nt),m:Js(Ue[7],nt),s:Js(Ue[8],nt)}:null==De?De={}:"object"==typeof De&&("from"in De||"to"in De)&&(Tn=function(W,le){var De;return W.isValid()&&le.isValid()?(le=hh(le,W),W.isBefore(le)?De=Xr(W,le):((De=Xr(le,W)).milliseconds=-De.milliseconds,De.months=-De.months),De):{milliseconds:0,months:0}}(Bs(De.from),Bs(De.to)),(De={}).ms=Tn.milliseconds,De.M=Tn.months),$t=new $h(De),nd(W)&&Ce(W,"_locale")&&($t._locale=W._locale),nd(W)&&Ce(W,"_isValid")&&($t._isValid=W._isValid),$t}function Js(W,le){var De=W&&parseFloat(W.replace(",","."));return(isNaN(De)?0:De)*le}function Xr(W,le){var De={};return De.months=le.month()-W.month()+12*(le.year()-W.year()),W.clone().add(De.months,"M").isAfter(le)&&--De.months,De.milliseconds=+le-+W.clone().add(De.months,"M"),De}function Tc(W,le){return function(De,Ue){var $t;return null!==Ue&&!isNaN(+Ue)&&(wn(le,"moment()."+le+"(period, number) is deprecated. Please use moment()."+le+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),$t=De,De=Ue,Ue=$t),Qo(this,Dr(De,Ue),W),this}}function Qo(W,le,De,Ue){var nt=le._milliseconds,$t=Cu(le._days),Tn=Cu(le._months);!W.isValid()||(Ue=null==Ue||Ue,Tn&&mt(W,wl(W,"Month")+Tn*De),$t&&Va(W,"Date",wl(W,"Date")+$t*De),nt&&W._d.setTime(W._d.valueOf()+nt*De),Ue&&$.updateOffset(W,$t||Tn))}Dr.fn=$h.prototype,Dr.invalid=function(){return Dr(NaN)};var Tu=Tc(1,"add"),fh=Tc(-1,"subtract");function Ja(W){return"string"==typeof W||W instanceof String}function lu(W){return zi(W)||Ge(W)||Ja(W)||Be(W)||function(W){var le=x(W),De=!1;return le&&(De=0===W.filter(function(Ue){return!Be(Ue)&&Ja(W)}).length),le&&De}(W)||function(W){var nt,le=de(W)&&!Ee(W),De=!1,Ue=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(nt=0;nt<Ue.length;nt+=1)De=De||Ce(W,Ue[nt]);return le&&De}(W)||null==W}function Su(W){var nt,le=de(W)&&!Ee(W),De=!1,Ue=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(nt=0;nt<Ue.length;nt+=1)De=De||Ce(W,Ue[nt]);return le&&De}function Eu(W,le){if(W.date()<le.date())return-Eu(le,W);var De=12*(le.year()-W.year())+(le.month()-W.month()),Ue=W.clone().add(De,"months");return-(De+(le-Ue<0?(le-Ue)/(Ue-W.clone().add(De-1,"months")):(le-Ue)/(W.clone().add(De+1,"months")-Ue)))||0}function Xh(W){var le;return void 0===W?this._locale._abbr:(null!=(le=fr(W))&&(this._locale=le),this)}$.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",$.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Ul=er("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(W){return void 0===W?this.localeData():this.locale(W)});function ac(){return this._locale}var Ec=6e4,Gc=60*Ec,Ci=3506328*Gc;function wr(W,le){return(W%le+le)%le}function $s(W,le,De){return W<100&&W>=0?new Date(W+400,le,De)-Ci:new Date(W,le,De).valueOf()}function Rr(W,le,De){return W<100&&W>=0?Date.UTC(W+400,le,De)-Ci:Date.UTC(W,le,De)}function _h(W,le){return le.erasAbbrRegex(W)}function Io(){var nt,$t,W=[],le=[],De=[],Ue=[],Tn=this.eras();for(nt=0,$t=Tn.length;nt<$t;++nt)le.push(en(Tn[nt].name)),W.push(en(Tn[nt].abbr)),De.push(en(Tn[nt].narrow)),Ue.push(en(Tn[nt].name)),Ue.push(en(Tn[nt].abbr)),Ue.push(en(Tn[nt].narrow));this._erasRegex=new RegExp("^("+Ue.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+le.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+W.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+De.join("|")+")","i")}function li(W,le){Kn(0,[W,W.length],0,le)}function nl(W,le,De,Ue,nt){var $t;return null==W?qi(this,Ue,nt).year:(le>($t=jr(W,Ue,nt))&&(le=$t),Jh.call(this,W,le,De,Ue,nt))}function Jh(W,le,De,Ue,nt){var $t=Cs(W,le,De,Ue,nt),Tn=Lr($t.year,0,$t.dayOfYear);return this.year(Tn.getUTCFullYear()),this.month(Tn.getUTCMonth()),this.date(Tn.getUTCDate()),this}Kn("N",0,0,"eraAbbr"),Kn("NN",0,0,"eraAbbr"),Kn("NNN",0,0,"eraAbbr"),Kn("NNNN",0,0,"eraName"),Kn("NNNNN",0,0,"eraNarrow"),Kn("y",["y",1],"yo","eraYear"),Kn("y",["yy",2],0,"eraYear"),Kn("y",["yyy",3],0,"eraYear"),Kn("y",["yyyy",4],0,"eraYear"),Pt("N",_h),Pt("NN",_h),Pt("NNN",_h),Pt("NNNN",function(W,le){return le.erasNameRegex(W)}),Pt("NNNNN",function(W,le){return le.erasNarrowRegex(W)}),Re(["N","NN","NNN","NNNN","NNNNN"],function(W,le,De,Ue){var nt=De._locale.erasParse(W,Ue,De._strict);nt?Gt(De).era=nt:Gt(De).invalidEra=W}),Pt("y",Er),Pt("yy",Er),Pt("yyy",Er),Pt("yyyy",Er),Pt("yo",function(W,le){return le._eraYearOrdinalRegex||Er}),Re(["y","yy","yyy","yyyy"],0),Re(["yo"],function(W,le,De,Ue){var nt;De._locale._eraYearOrdinalRegex&&(nt=W.match(De._locale._eraYearOrdinalRegex)),le[0]=De._locale.eraYearOrdinalParse?De._locale.eraYearOrdinalParse(W,nt):parseInt(W,10)}),Kn(0,["gg",2],0,function(){return this.weekYear()%100}),Kn(0,["GG",2],0,function(){return this.isoWeekYear()%100}),li("gggg","weekYear"),li("ggggg","weekYear"),li("GGGG","isoWeekYear"),li("GGGGG","isoWeekYear"),xr("weekYear","gg"),xr("isoWeekYear","GG"),Qr("weekYear",1),Qr("isoWeekYear",1),Pt("G",at),Pt("g",at),Pt("GG",_n,Yo),Pt("gg",_n,Yo),Pt("GGGG",hr,Ot),Pt("gggg",hr,Ot),Pt("GGGGG",Hr,Qt),Pt("ggggg",Hr,Qt),p(["gggg","ggggg","GGGG","GGGGG"],function(W,le,De,Ue){le[Ue.substr(0,2)]=jn(W)}),p(["gg","GG"],function(W,le,De,Ue){le[Ue]=$.parseTwoDigitYear(W)}),Kn("Q",0,"Qo","quarter"),xr("quarter","Q"),Qr("quarter",7),Pt("Q",Bo),Re("Q",function(W,le){le[1]=3*(jn(W)-1)}),Kn("D",["DD",2],"Do","date"),xr("date","D"),Qr("date",9),Pt("D",_n),Pt("DD",_n,Yo),Pt("Do",function(W,le){return W?le._dayOfMonthOrdinalParse||le._ordinalParse:le._dayOfMonthOrdinalParseLenient}),Re(["D","DD"],2),Re("Do",function(W,le){le[2]=jn(W.match(_n)[0])});var R=Xi("Date",!0);Kn("DDD",["DDDD",3],"DDDo","dayOfYear"),xr("dayOfYear","DDD"),Qr("dayOfYear",4),Pt("DDD",Ui),Pt("DDDD",Rt),Re(["DDD","DDDD"],function(W,le,De){De._dayOfYear=jn(W)}),Kn("m",["mm",2],0,"minute"),xr("minute","m"),Qr("minute",14),Pt("m",_n),Pt("mm",_n,Yo),Re(["m","mm"],4);var T=Xi("Minutes",!1);Kn("s",["ss",2],0,"second"),xr("second","s"),Qr("second",15),Pt("s",_n),Pt("ss",_n,Yo),Re(["s","ss"],5);var U,J,N=Xi("Seconds",!1);for(Kn("S",0,0,function(){return~~(this.millisecond()/100)}),Kn(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Kn(0,["SSS",3],0,"millisecond"),Kn(0,["SSSS",4],0,function(){return 10*this.millisecond()}),Kn(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),Kn(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),Kn(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),Kn(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),Kn(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),xr("millisecond","ms"),Qr("millisecond",16),Pt("S",Ui,Bo),Pt("SS",Ui,Yo),Pt("SSS",Ui,Rt),U="SSSS";U.length<=9;U+="S")Pt(U,Er);function ce(W,le){le[6]=jn(1e3*("0."+W))}for(U="S";U.length<=9;U+="S")Re(U,ce);J=Xi("Milliseconds",!1),Kn("z",0,0,"zoneAbbr"),Kn("zz",0,0,"zoneName");var ve=hi.prototype;function Qe(W){return W}ve.add=Tu,ve.calendar=function(W,le){1===arguments.length&&(arguments[0]?lu(arguments[0])?(W=arguments[0],le=void 0):Su(arguments[0])&&(le=arguments[0],W=void 0):(W=void 0,le=void 0));var De=W||Bs(),Ue=hh(De,this).startOf("day"),nt=$.calendarFormat(this,Ue)||"sameElse",$t=le&&(hn(le[nt])?le[nt].call(this,De):le[nt]);return this.format($t||this.localeData().calendar(nt,this,Bs(De)))},ve.clone=function(){return new hi(this)},ve.diff=function(W,le,De){var Ue,nt,$t;if(!this.isValid())return NaN;if(!(Ue=hh(W,this)).isValid())return NaN;switch(nt=6e4*(Ue.utcOffset()-this.utcOffset()),le=nr(le)){case"year":$t=Eu(this,Ue)/12;break;case"month":$t=Eu(this,Ue);break;case"quarter":$t=Eu(this,Ue)/3;break;case"second":$t=(this-Ue)/1e3;break;case"minute":$t=(this-Ue)/6e4;break;case"hour":$t=(this-Ue)/36e5;break;case"day":$t=(this-Ue-nt)/864e5;break;case"week":$t=(this-Ue-nt)/6048e5;break;default:$t=this-Ue}return De?$t:Pr($t)},ve.endOf=function(W){var le,De;if(void 0===(W=nr(W))||"millisecond"===W||!this.isValid())return this;switch(De=this._isUTC?Rr:$s,W){case"year":le=De(this.year()+1,0,1)-1;break;case"quarter":le=De(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":le=De(this.year(),this.month()+1,1)-1;break;case"week":le=De(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":le=De(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":le=De(this.year(),this.month(),this.date()+1)-1;break;case"hour":le=this._d.valueOf(),le+=Gc-wr(le+(this._isUTC?0:this.utcOffset()*Ec),Gc)-1;break;case"minute":le=this._d.valueOf(),le+=Ec-wr(le,Ec)-1;break;case"second":le=this._d.valueOf(),le+=1e3-wr(le,1e3)-1}return this._d.setTime(le),$.updateOffset(this,!0),this},ve.format=function(W){W||(W=this.isUtc()?$.defaultFormatUtc:$.defaultFormat);var le=xo(this,W);return this.localeData().postformat(le)},ve.from=function(W,le){return this.isValid()&&(zi(W)&&W.isValid()||Bs(W).isValid())?Dr({to:this,from:W}).locale(this.locale()).humanize(!le):this.localeData().invalidDate()},ve.fromNow=function(W){return this.from(Bs(),W)},ve.to=function(W,le){return this.isValid()&&(zi(W)&&W.isValid()||Bs(W).isValid())?Dr({from:this,to:W}).locale(this.locale()).humanize(!le):this.localeData().invalidDate()},ve.toNow=function(W){return this.to(Bs(),W)},ve.get=function(W){return hn(this[W=nr(W)])?this[W]():this},ve.invalidAt=function(){return Gt(this).overflow},ve.isAfter=function(W,le){var De=zi(W)?W:Bs(W);return!(!this.isValid()||!De.isValid())&&("millisecond"===(le=nr(le)||"millisecond")?this.valueOf()>De.valueOf():De.valueOf()<this.clone().startOf(le).valueOf())},ve.isBefore=function(W,le){var De=zi(W)?W:Bs(W);return!(!this.isValid()||!De.isValid())&&("millisecond"===(le=nr(le)||"millisecond")?this.valueOf()<De.valueOf():this.clone().endOf(le).valueOf()<De.valueOf())},ve.isBetween=function(W,le,De,Ue){var nt=zi(W)?W:Bs(W),$t=zi(le)?le:Bs(le);return!!(this.isValid()&&nt.isValid()&&$t.isValid())&&("("===(Ue=Ue||"()")[0]?this.isAfter(nt,De):!this.isBefore(nt,De))&&(")"===Ue[1]?this.isBefore($t,De):!this.isAfter($t,De))},ve.isSame=function(W,le){var Ue,De=zi(W)?W:Bs(W);return!(!this.isValid()||!De.isValid())&&("millisecond"===(le=nr(le)||"millisecond")?this.valueOf()===De.valueOf():(Ue=De.valueOf(),this.clone().startOf(le).valueOf()<=Ue&&Ue<=this.clone().endOf(le).valueOf()))},ve.isSameOrAfter=function(W,le){return this.isSame(W,le)||this.isAfter(W,le)},ve.isSameOrBefore=function(W,le){return this.isSame(W,le)||this.isBefore(W,le)},ve.isValid=function(){return ii(this)},ve.lang=Ul,ve.locale=Xh,ve.localeData=ac,ve.max=Dp,ve.min=qh,ve.parsingFlags=function(){return ft({},Gt(this))},ve.set=function(W,le){if("object"==typeof W){var Ue,De=function(W){var De,le=[];for(De in W)Ce(W,De)&&le.push({unit:De,priority:Yc[De]});return le.sort(function(Ue,nt){return Ue.priority-nt.priority}),le}(W=Co(W));for(Ue=0;Ue<De.length;Ue++)this[De[Ue].unit](W[De[Ue].unit])}else if(hn(this[W=nr(W)]))return this[W](le);return this},ve.startOf=function(W){var le,De;if(void 0===(W=nr(W))||"millisecond"===W||!this.isValid())return this;switch(De=this._isUTC?Rr:$s,W){case"year":le=De(this.year(),0,1);break;case"quarter":le=De(this.year(),this.month()-this.month()%3,1);break;case"month":le=De(this.year(),this.month(),1);break;case"week":le=De(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":le=De(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":le=De(this.year(),this.month(),this.date());break;case"hour":le=this._d.valueOf(),le-=wr(le+(this._isUTC?0:this.utcOffset()*Ec),Gc);break;case"minute":le=this._d.valueOf(),le-=wr(le,Ec);break;case"second":le=this._d.valueOf(),le-=wr(le,1e3)}return this._d.setTime(le),$.updateOffset(this,!0),this},ve.subtract=fh,ve.toArray=function(){var W=this;return[W.year(),W.month(),W.date(),W.hour(),W.minute(),W.second(),W.millisecond()]},ve.toObject=function(){var W=this;return{years:W.year(),months:W.month(),date:W.date(),hours:W.hours(),minutes:W.minutes(),seconds:W.seconds(),milliseconds:W.milliseconds()}},ve.toDate=function(){return new Date(this.valueOf())},ve.toISOString=function(W){if(!this.isValid())return null;var le=!0!==W,De=le?this.clone().utc():this;return De.year()<0||De.year()>9999?xo(De,le?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):hn(Date.prototype.toISOString)?le?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",xo(De,"Z")):xo(De,le?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},ve.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var De,Ue,W="moment",le="";return this.isLocal()||(W=0===this.utcOffset()?"moment.utc":"moment.parseZone",le="Z"),De="["+W+'("]',Ue=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",this.format(De+Ue+"-MM-DD[T]HH:mm:ss.SSS"+le+'[")]')},"undefined"!=typeof Symbol&&null!=Symbol.for&&(ve[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),ve.toJSON=function(){return this.isValid()?this.toISOString():null},ve.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},ve.unix=function(){return Math.floor(this.valueOf()/1e3)},ve.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},ve.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},ve.eraName=function(){var W,le,De,Ue=this.localeData().eras();for(W=0,le=Ue.length;W<le;++W)if(De=this.clone().startOf("day").valueOf(),Ue[W].since<=De&&De<=Ue[W].until||Ue[W].until<=De&&De<=Ue[W].since)return Ue[W].name;return""},ve.eraNarrow=function(){var W,le,De,Ue=this.localeData().eras();for(W=0,le=Ue.length;W<le;++W)if(De=this.clone().startOf("day").valueOf(),Ue[W].since<=De&&De<=Ue[W].until||Ue[W].until<=De&&De<=Ue[W].since)return Ue[W].narrow;return""},ve.eraAbbr=function(){var W,le,De,Ue=this.localeData().eras();for(W=0,le=Ue.length;W<le;++W)if(De=this.clone().startOf("day").valueOf(),Ue[W].since<=De&&De<=Ue[W].until||Ue[W].until<=De&&De<=Ue[W].since)return Ue[W].abbr;return""},ve.eraYear=function(){var W,le,De,Ue,nt=this.localeData().eras();for(W=0,le=nt.length;W<le;++W)if(De=nt[W].since<=nt[W].until?1:-1,Ue=this.clone().startOf("day").valueOf(),nt[W].since<=Ue&&Ue<=nt[W].until||nt[W].until<=Ue&&Ue<=nt[W].since)return(this.year()-$(nt[W].since).year())*De+nt[W].offset;return this.year()},ve.year=pr,ve.isLeapYear=function(){return Wo(this.year())},ve.weekYear=function(W){return nl.call(this,W,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},ve.isoWeekYear=function(W){return nl.call(this,W,this.isoWeek(),this.isoWeekday(),1,4)},ve.quarter=ve.quarters=function(W){return null==W?Math.ceil((this.month()+1)/3):this.month(3*(W-1)+this.month()%3)},ve.month=ln,ve.daysInMonth=function(){return Ie(this.year(),this.month())},ve.week=ve.weeks=function(W){var le=this.localeData().week(this);return null==W?le:this.add(7*(W-le),"d")},ve.isoWeek=ve.isoWeeks=function(W){var le=qi(this,1,4).week;return null==W?le:this.add(7*(W-le),"d")},ve.weeksInYear=function(){var W=this.localeData()._week;return jr(this.year(),W.dow,W.doy)},ve.weeksInWeekYear=function(){var W=this.localeData()._week;return jr(this.weekYear(),W.dow,W.doy)},ve.isoWeeksInYear=function(){return jr(this.year(),1,4)},ve.isoWeeksInISOWeekYear=function(){return jr(this.isoWeekYear(),1,4)},ve.date=R,ve.day=ve.days=function(W){if(!this.isValid())return null!=W?this:NaN;var le=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=W?(W=function(W,le){return"string"!=typeof W?W:isNaN(W)?"number"==typeof(W=le.weekdaysParse(W))?W:null:parseInt(W,10)}(W,this.localeData()),this.add(W-le,"d")):le},ve.weekday=function(W){if(!this.isValid())return null!=W?this:NaN;var le=(this.day()+7-this.localeData()._week.dow)%7;return null==W?le:this.add(W-le,"d")},ve.isoWeekday=function(W){if(!this.isValid())return null!=W?this:NaN;if(null!=W){var le=function(W,le){return"string"==typeof W?le.weekdaysParse(W)%7||7:isNaN(W)?null:W}(W,this.localeData());return this.day(this.day()%7?le:le-7)}return this.day()||7},ve.dayOfYear=function(W){var le=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==W?le:this.add(W-le,"d")},ve.hour=ve.hours=Sp,ve.minute=ve.minutes=T,ve.second=ve.seconds=N,ve.millisecond=ve.milliseconds=J,ve.utcOffset=function(W,le,De){var nt,Ue=this._offset||0;if(!this.isValid())return null!=W?this:NaN;if(null!=W){if("string"==typeof W){if(null===(W=Mu($e,W)))return this}else Math.abs(W)<16&&!De&&(W*=60);return!this._isUTC&&le&&(nt=va(this)),this._offset=W,this._isUTC=!0,null!=nt&&this.add(nt,"m"),Ue!==W&&(!le||this._changeInProgress?Qo(this,Dr(W-Ue,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,$.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?Ue:va(this)},ve.utc=function(W){return this.utcOffset(0,W)},ve.local=function(W){return this._isUTC&&(this.utcOffset(0,W),this._isUTC=!1,W&&this.subtract(va(this),"m")),this},ve.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var W=Mu(Ye,this._i);null!=W?this.utcOffset(W):this.utcOffset(0,!0)}return this},ve.hasAlignedHourOffset=function(W){return!!this.isValid()&&(W=W?Bs(W).utcOffset():0,(this.utcOffset()-W)%60==0)},ve.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},ve.isLocal=function(){return!!this.isValid()&&!this._isUTC},ve.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},ve.isUtc=yn,ve.isUTC=yn,ve.zoneAbbr=function(){return this._isUTC?"UTC":""},ve.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},ve.dates=er("dates accessor is deprecated. Use date instead.",R),ve.months=er("months accessor is deprecated. Use month instead",ln),ve.years=er("years accessor is deprecated. Use year instead",pr),ve.zone=er("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(W,le){return null!=W?("string"!=typeof W&&(W=-W),this.utcOffset(W,le),this):-this.utcOffset()}),ve.isDSTShifted=er("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!Me(this._isDSTShifted))return this._isDSTShifted;var le,W={};return us(W,this),(W=oc(W))._a?(le=W._isUTC?Lt(W._a):Bs(W._a),this._isDSTShifted=this.isValid()&&function(W,le,De){var Tn,Ue=Math.min(W.length,le.length),nt=Math.abs(W.length-le.length),$t=0;for(Tn=0;Tn<Ue;Tn++)(De&&W[Tn]!==le[Tn]||!De&&jn(W[Tn])!==jn(le[Tn]))&&$t++;return $t+nt}(W._a,le.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted});var Ke=Yn.prototype;function pt(W,le,De,Ue){var nt=fr(),$t=Lt().set(Ue,le);return nt[De]($t,W)}function xt(W,le,De){if(Be(W)&&(le=W,W=void 0),W=W||"",null!=le)return pt(W,le,De,"month");var Ue,nt=[];for(Ue=0;Ue<12;Ue++)nt[Ue]=pt(W,Ue,De,"month");return nt}function Nt(W,le,De,Ue){"boolean"==typeof W?(Be(le)&&(De=le,le=void 0),le=le||""):(De=le=W,W=!1,Be(le)&&(De=le,le=void 0),le=le||"");var Tn,nt=fr(),$t=W?nt._week.dow:0,Gi=[];if(null!=De)return pt(le,(De+$t)%7,Ue,"day");for(Tn=0;Tn<7;Tn++)Gi[Tn]=pt(le,(Tn+$t)%7,Ue,"day");return Gi}Ke.calendar=function(W,le,De){var Ue=this._calendar[W]||this._calendar.sameElse;return hn(Ue)?Ue.call(le,De):Ue},Ke.longDateFormat=function(W){var le=this._longDateFormat[W],De=this._longDateFormat[W.toUpperCase()];return le||!De?le:(this._longDateFormat[W]=De.match(fi).map(function(Ue){return"MMMM"===Ue||"MM"===Ue||"DD"===Ue||"dddd"===Ue?Ue.slice(1):Ue}).join(""),this._longDateFormat[W])},Ke.invalidDate=function(){return this._invalidDate},Ke.ordinal=function(W){return this._ordinal.replace("%d",W)},Ke.preparse=Qe,Ke.postformat=Qe,Ke.relativeTime=function(W,le,De,Ue){var nt=this._relativeTime[De];return hn(nt)?nt(W,le,De,Ue):nt.replace(/%d/i,W)},Ke.pastFuture=function(W,le){var De=this._relativeTime[W>0?"future":"past"];return hn(De)?De(le):De.replace(/%s/i,le)},Ke.set=function(W){var le,De;for(De in W)Ce(W,De)&&(hn(le=W[De])?this[De]=le:this["_"+De]=le);this._config=W,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},Ke.eras=function(W,le){var De,Ue,nt,$t=this._eras||fr("en")._eras;for(De=0,Ue=$t.length;De<Ue;++De){switch(typeof $t[De].since){case"string":nt=$($t[De].since).startOf("day"),$t[De].since=nt.valueOf()}switch(typeof $t[De].until){case"undefined":$t[De].until=1/0;break;case"string":nt=$($t[De].until).startOf("day").valueOf(),$t[De].until=nt.valueOf()}}return $t},Ke.erasParse=function(W,le,De){var Ue,nt,Tn,Gi,ls,$t=this.eras();for(W=W.toUpperCase(),Ue=0,nt=$t.length;Ue<nt;++Ue)if(Tn=$t[Ue].name.toUpperCase(),Gi=$t[Ue].abbr.toUpperCase(),ls=$t[Ue].narrow.toUpperCase(),De)switch(le){case"N":case"NN":case"NNN":if(Gi===W)return $t[Ue];break;case"NNNN":if(Tn===W)return $t[Ue];break;case"NNNNN":if(ls===W)return $t[Ue]}else if([Tn,Gi,ls].indexOf(W)>=0)return $t[Ue]},Ke.erasConvertYear=function(W,le){var De=W.since<=W.until?1:-1;return void 0===le?$(W.since).year():$(W.since).year()+(le-W.offset)*De},Ke.erasAbbrRegex=function(W){return Ce(this,"_erasAbbrRegex")||Io.call(this),W?this._erasAbbrRegex:this._erasRegex},Ke.erasNameRegex=function(W){return Ce(this,"_erasNameRegex")||Io.call(this),W?this._erasNameRegex:this._erasRegex},Ke.erasNarrowRegex=function(W){return Ce(this,"_erasNarrowRegex")||Io.call(this),W?this._erasNarrowRegex:this._erasRegex},Ke.months=function(W,le){return W?x(this._months)?this._months[W.month()]:this._months[(this._months.isFormat||We).test(le)?"format":"standalone"][W.month()]:x(this._months)?this._months:this._months.standalone},Ke.monthsShort=function(W,le){return W?x(this._monthsShort)?this._monthsShort[W.month()]:this._monthsShort[We.test(le)?"format":"standalone"][W.month()]:x(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},Ke.monthsParse=function(W,le,De){var Ue,nt,$t;if(this._monthsParseExact)return Ne.call(this,W,le,De);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),Ue=0;Ue<12;Ue++){if(nt=Lt([2e3,Ue]),De&&!this._longMonthsParse[Ue]&&(this._longMonthsParse[Ue]=new RegExp("^"+this.months(nt,"").replace(".","")+"$","i"),this._shortMonthsParse[Ue]=new RegExp("^"+this.monthsShort(nt,"").replace(".","")+"$","i")),!De&&!this._monthsParse[Ue]&&($t="^"+this.months(nt,"")+"|^"+this.monthsShort(nt,""),this._monthsParse[Ue]=new RegExp($t.replace(".",""),"i")),De&&"MMMM"===le&&this._longMonthsParse[Ue].test(W))return Ue;if(De&&"MMM"===le&&this._shortMonthsParse[Ue].test(W))return Ue;if(!De&&this._monthsParse[Ue].test(W))return Ue}},Ke.monthsRegex=function(W){return this._monthsParseExact?(Ce(this,"_monthsRegex")||zn.call(this),W?this._monthsStrictRegex:this._monthsRegex):(Ce(this,"_monthsRegex")||(this._monthsRegex=bt),this._monthsStrictRegex&&W?this._monthsStrictRegex:this._monthsRegex)},Ke.monthsShortRegex=function(W){return this._monthsParseExact?(Ce(this,"_monthsRegex")||zn.call(this),W?this._monthsShortStrictRegex:this._monthsShortRegex):(Ce(this,"_monthsShortRegex")||(this._monthsShortRegex=st),this._monthsShortStrictRegex&&W?this._monthsShortStrictRegex:this._monthsShortRegex)},Ke.week=function(W){return qi(W,this._week.dow,this._week.doy).week},Ke.firstDayOfYear=function(){return this._week.doy},Ke.firstDayOfWeek=function(){return this._week.dow},Ke.weekdays=function(W,le){var De=x(this._weekdays)?this._weekdays:this._weekdays[W&&!0!==W&&this._weekdays.isFormat.test(le)?"format":"standalone"];return!0===W?rh(De,this._week.dow):W?De[W.day()]:De},Ke.weekdaysMin=function(W){return!0===W?rh(this._weekdaysMin,this._week.dow):W?this._weekdaysMin[W.day()]:this._weekdaysMin},Ke.weekdaysShort=function(W){return!0===W?rh(this._weekdaysShort,this._week.dow):W?this._weekdaysShort[W.day()]:this._weekdaysShort},Ke.weekdaysParse=function(W,le,De){var Ue,nt,$t;if(this._weekdaysParseExact)return nc.call(this,W,le,De);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),Ue=0;Ue<7;Ue++){if(nt=Lt([2e3,1]).day(Ue),De&&!this._fullWeekdaysParse[Ue]&&(this._fullWeekdaysParse[Ue]=new RegExp("^"+this.weekdays(nt,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[Ue]=new RegExp("^"+this.weekdaysShort(nt,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[Ue]=new RegExp("^"+this.weekdaysMin(nt,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[Ue]||($t="^"+this.weekdays(nt,"")+"|^"+this.weekdaysShort(nt,"")+"|^"+this.weekdaysMin(nt,""),this._weekdaysParse[Ue]=new RegExp($t.replace(".",""),"i")),De&&"dddd"===le&&this._fullWeekdaysParse[Ue].test(W))return Ue;if(De&&"ddd"===le&&this._shortWeekdaysParse[Ue].test(W))return Ue;if(De&&"dd"===le&&this._minWeekdaysParse[Ue].test(W))return Ue;if(!De&&this._weekdaysParse[Ue].test(W))return Ue}},Ke.weekdaysRegex=function(W){return this._weekdaysParseExact?(Ce(this,"_weekdaysRegex")||Ji.call(this),W?this._weekdaysStrictRegex:this._weekdaysRegex):(Ce(this,"_weekdaysRegex")||(this._weekdaysRegex=rf),this._weekdaysStrictRegex&&W?this._weekdaysStrictRegex:this._weekdaysRegex)},Ke.weekdaysShortRegex=function(W){return this._weekdaysParseExact?(Ce(this,"_weekdaysRegex")||Ji.call(this),W?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Ce(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=ou),this._weekdaysShortStrictRegex&&W?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},Ke.weekdaysMinRegex=function(W){return this._weekdaysParseExact?(Ce(this,"_weekdaysRegex")||Ji.call(this),W?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Ce(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ts),this._weekdaysMinStrictRegex&&W?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},Ke.isPM=function(W){return"p"===(W+"").toLowerCase().charAt(0)},Ke.meridiem=function(W,le,De){return W>11?De?"pm":"PM":De?"am":"AM"},Bl("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(W){var le=W%10;return W+(1===jn(W%100/10)?"th":1===le?"st":2===le?"nd":3===le?"rd":"th")}}),$.lang=er("moment.lang is deprecated. Use moment.locale instead.",Bl),$.langData=er("moment.langData is deprecated. Use moment.localeData instead.",fr);var Dt=Math.abs;function Dn(W,le,De,Ue){var nt=Dr(le,De);return W._milliseconds+=Ue*nt._milliseconds,W._days+=Ue*nt._days,W._months+=Ue*nt._months,W._bubble()}function ri(W){return W<0?Math.floor(W):Math.ceil(W)}function ui(W){return 4800*W/146097}function ti(W){return 146097*W/4800}function Pi(W){return function(){return this.as(W)}}var Jr=Pi("ms"),hs=Pi("s"),ys=Pi("m"),Cr=Pi("h"),ks=Pi("d"),to=Pi("w"),jl=Pi("M"),ja=Pi("Q"),gs=Pi("y");function Hi(W){return function(){return this.isValid()?this._data[W]:NaN}}var Us=Hi("milliseconds"),Kr=Hi("seconds"),Is=Hi("minutes"),fo=Hi("hours"),Zr=Hi("days"),ul=Hi("months"),dl=Hi("years");var Vo=Math.round,Za={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function ld(W,le,De,Ue,nt){return nt.relativeTime(le||1,!!De,W,Ue)}var cc=Math.abs;function hl(W){return(W>0)-(W<0)||+W}function Wc(){if(!this.isValid())return this.localeData().invalidDate();var Ue,nt,$t,Tn,ls,mo,js,ea,W=cc(this._milliseconds)/1e3,le=cc(this._days),De=cc(this._months),Gi=this.asSeconds();return Gi?(Ue=Pr(W/60),nt=Pr(Ue/60),W%=60,Ue%=60,$t=Pr(De/12),De%=12,Tn=W?W.toFixed(3).replace(/\.?0+$/,""):"",ls=Gi<0?"-":"",mo=hl(this._months)!==hl(Gi)?"-":"",js=hl(this._days)!==hl(Gi)?"-":"",ea=hl(this._milliseconds)!==hl(Gi)?"-":"",ls+"P"+($t?mo+$t+"Y":"")+(De?mo+De+"M":"")+(le?js+le+"D":"")+(nt||Ue||W?"T":"")+(nt?ea+nt+"H":"")+(Ue?ea+Ue+"M":"")+(W?ea+Tn+"S":"")):"P0D"}var Es=$h.prototype;return Es.isValid=function(){return this._isValid},Es.abs=function(){var W=this._data;return this._milliseconds=Dt(this._milliseconds),this._days=Dt(this._days),this._months=Dt(this._months),W.milliseconds=Dt(W.milliseconds),W.seconds=Dt(W.seconds),W.minutes=Dt(W.minutes),W.hours=Dt(W.hours),W.months=Dt(W.months),W.years=Dt(W.years),this},Es.add=function(W,le){return Dn(this,W,le,1)},Es.subtract=function(W,le){return Dn(this,W,le,-1)},Es.as=function(W){if(!this.isValid())return NaN;var le,De,Ue=this._milliseconds;if("month"===(W=nr(W))||"quarter"===W||"year"===W)switch(le=this._days+Ue/864e5,De=this._months+ui(le),W){case"month":return De;case"quarter":return De/3;case"year":return De/12}else switch(le=this._days+Math.round(ti(this._months)),W){case"week":return le/7+Ue/6048e5;case"day":return le+Ue/864e5;case"hour":return 24*le+Ue/36e5;case"minute":return 1440*le+Ue/6e4;case"second":return 86400*le+Ue/1e3;case"millisecond":return Math.floor(864e5*le)+Ue;default:throw new Error("Unknown unit "+W)}},Es.asMilliseconds=Jr,Es.asSeconds=hs,Es.asMinutes=ys,Es.asHours=Cr,Es.asDays=ks,Es.asWeeks=to,Es.asMonths=jl,Es.asQuarters=ja,Es.asYears=gs,Es.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*jn(this._months/12):NaN},Es._bubble=function(){var nt,$t,Tn,Gi,ls,W=this._milliseconds,le=this._days,De=this._months,Ue=this._data;return W>=0&&le>=0&&De>=0||W<=0&&le<=0&&De<=0||(W+=864e5*ri(ti(De)+le),le=0,De=0),Ue.milliseconds=W%1e3,nt=Pr(W/1e3),Ue.seconds=nt%60,$t=Pr(nt/60),Ue.minutes=$t%60,Tn=Pr($t/60),Ue.hours=Tn%24,le+=Pr(Tn/24),De+=ls=Pr(ui(le)),le-=ri(ti(ls)),Gi=Pr(De/12),De%=12,Ue.days=le,Ue.months=De,Ue.years=Gi,this},Es.clone=function(){return Dr(this)},Es.get=function(W){return W=nr(W),this.isValid()?this[W+"s"]():NaN},Es.milliseconds=Us,Es.seconds=Kr,Es.minutes=Is,Es.hours=fo,Es.days=Zr,Es.weeks=function(){return Pr(this.days()/7)},Es.months=ul,Es.years=dl,Es.humanize=function(W,le){if(!this.isValid())return this.localeData().invalidDate();var nt,$t,De=!1,Ue=Za;return"object"==typeof W&&(le=W,W=!1),"boolean"==typeof W&&(De=W),"object"==typeof le&&(Ue=Object.assign({},Za,le),null!=le.s&&null==le.ss&&(Ue.ss=le.s-1)),$t=function(W,le,De,Ue){var nt=Dr(W).abs(),$t=Vo(nt.as("s")),Tn=Vo(nt.as("m")),Gi=Vo(nt.as("h")),ls=Vo(nt.as("d")),mo=Vo(nt.as("M")),js=Vo(nt.as("w")),ea=Vo(nt.as("y")),Zs=$t<=De.ss&&["s",$t]||$t<De.s&&["ss",$t]||Tn<=1&&["m"]||Tn<De.m&&["mm",Tn]||Gi<=1&&["h"]||Gi<De.h&&["hh",Gi]||ls<=1&&["d"]||ls<De.d&&["dd",ls];return null!=De.w&&(Zs=Zs||js<=1&&["w"]||js<De.w&&["ww",js]),(Zs=Zs||mo<=1&&["M"]||mo<De.M&&["MM",mo]||ea<=1&&["y"]||["yy",ea])[2]=le,Zs[3]=+W>0,Zs[4]=Ue,ld.apply(null,Zs)}(this,!De,Ue,nt=this.localeData()),De&&($t=nt.pastFuture(+this,$t)),nt.postformat($t)},Es.toISOString=Wc,Es.toString=Wc,Es.toJSON=Wc,Es.locale=Xh,Es.localeData=ac,Es.toIsoString=er("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Wc),Es.lang=Ul,Kn("X",0,0,"unix"),Kn("x",0,0,"valueOf"),Pt("x",at),Pt("X",/[+-]?\d+(\.\d{1,3})?/),Re("X",function(W,le,De){De._d=new Date(1e3*parseFloat(W))}),Re("x",function(W,le,De){De._d=new Date(jn(W))}),$.version="2.29.1",o=Bs,$.fn=ve,$.min=function(){return ll("isBefore",[].slice.call(arguments,0))},$.max=function(){return ll("isAfter",[].slice.call(arguments,0))},$.now=function(){return Date.now?Date.now():+new Date},$.utc=Lt,$.unix=function(W){return Bs(1e3*W)},$.months=function(W,le){return xt(W,le,"months")},$.isDate=Ge,$.locale=Bl,$.invalid=Fn,$.duration=Dr,$.isMoment=zi,$.weekdays=function(W,le,De){return Nt(W,le,De,"weekdays")},$.parseZone=function(){return Bs.apply(null,arguments).parseZone()},$.localeData=fr,$.isDuration=nd,$.monthsShort=function(W,le){return xt(W,le,"monthsShort")},$.weekdaysMin=function(W,le,De){return Nt(W,le,De,"weekdaysMin")},$.defineLocale=or,$.updateLocale=function(W,le){if(null!=le){var De,Ue,nt=Qa;null!=mi[W]&&null!=mi[W].parentLocale?mi[W].set(mn(mi[W]._config,le)):(null!=(Ue=Hs(W))&&(nt=Ue._config),le=mn(nt,le),null==Ue&&(le.abbr=W),(De=new Yn(le)).parentLocale=mi[W],mi[W]=De),Bl(W)}else null!=mi[W]&&(null!=mi[W].parentLocale?(mi[W]=mi[W].parentLocale,W===Bl()&&Bl(W)):null!=mi[W]&&delete mi[W]);return mi[W]},$.locales=function(){return vn(mi)},$.weekdaysShort=function(W,le,De){return Nt(W,le,De,"weekdaysShort")},$.normalizeUnits=nr,$.relativeTimeRounding=function(W){return void 0===W?Vo:"function"==typeof W&&(Vo=W,!0)},$.relativeTimeThreshold=function(W,le){return void 0!==Za[W]&&(void 0===le?Za[W]:(Za[W]=le,"s"===W&&(Za.ss=le-1),!0))},$.calendarFormat=function(W,le){var De=W.diff(le,"days",!0);return De<-6?"sameElse":De<-1?"lastWeek":De<0?"lastDay":De<1?"sameDay":De<2?"nextDay":De<7?"nextWeek":"sameElse"},$.prototype=ve,$.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},$}()},3098:(Ut,kt,Ae)=>{"use strict";Ae.d(kt,{P:()=>de});var o=Ae(9193),$=Ae(5917),ee=Ae(205);class de{constructor(Ee,Me,Be){this.kind=Ee,this.value=Me,this.error=Be,this.hasValue="N"===Ee}observe(Ee){switch(this.kind){case"N":return Ee.next&&Ee.next(this.value);case"E":return Ee.error&&Ee.error(this.error);case"C":return Ee.complete&&Ee.complete()}}do(Ee,Me,Be){switch(this.kind){case"N":return Ee&&Ee(this.value);case"E":return Me&&Me(this.error);case"C":return Be&&Be()}}accept(Ee,Me,Be){return Ee&&"function"==typeof Ee.next?this.observe(Ee):this.do(Ee,Me,Be)}toObservable(){switch(this.kind){case"N":return(0,$.of)(this.value);case"E":return(0,ee._)(this.error);case"C":return(0,o.c)()}throw new Error("unexpected notification kind value")}static createNext(Ee){return void 0!==Ee?new de("N",Ee):de.undefinedValueNotification}static createError(Ee){return new de("E",void 0,Ee)}static createComplete(){return de.completeNotification}}de.completeNotification=new de("C"),de.undefinedValueNotification=new de("N",void 0)},7574:(Ut,kt,Ae)=>{"use strict";Ae.d(kt,{y:()=>Mt});var o=Ae(7393),ee=Ae(9181),x=Ae(799),Ce=Ae(6554),Ee=Ae(4487);var Ge=Ae(2494);let Mt=(()=>{class Lt{constructor(Gt){this._isScalar=!1,Gt&&(this._subscribe=Gt)}lift(Gt){const ct=new Lt;return ct.source=this,ct.operator=Gt,ct}subscribe(Gt,ct,ii){const{operator:Fn}=this,Wt=function(Lt,rn,Gt){if(Lt){if(Lt instanceof o.L)return Lt;if(Lt[ee.b])return Lt[ee.b]()}return Lt||rn||Gt?new o.L(Lt,rn,Gt):new o.L(x.c)}(Gt,ct,ii);if(Wt.add(Fn?Fn.call(Wt,this.source):this.source||Ge.v.useDeprecatedSynchronousErrorHandling&&!Wt.syncErrorThrowable?this._subscribe(Wt):this._trySubscribe(Wt)),Ge.v.useDeprecatedSynchronousErrorHandling&&Wt.syncErrorThrowable&&(Wt.syncErrorThrowable=!1,Wt.syncErrorThrown))throw Wt.syncErrorValue;return Wt}_trySubscribe(Gt){try{return this._subscribe(Gt)}catch(ct){Ge.v.useDeprecatedSynchronousErrorHandling&&(Gt.syncErrorThrown=!0,Gt.syncErrorValue=ct),function(Lt){for(;Lt;){const{closed:rn,destination:Gt,isStopped:ct}=Lt;if(rn||ct)return!1;Lt=Gt&&Gt instanceof o.L?Gt:null}return!0}(Gt)?Gt.error(ct):console.warn(ct)}}forEach(Gt,ct){return new(ct=ft(ct))((ii,Fn)=>{let Wt;Wt=this.subscribe(ar=>{try{Gt(ar)}catch(us){Fn(us),Wt&&Wt.unsubscribe()}},Fn,ii)})}_subscribe(Gt){const{source:ct}=this;return ct&&ct.subscribe(Gt)}[Ce.L](){return this}pipe(...Gt){return 0===Gt.length?this:function(Lt){return 0===Lt.length?Ee.y:1===Lt.length?Lt[0]:function(Gt){return Lt.reduce((ct,ii)=>ii(ct),Gt)}}(Gt)(this)}toPromise(Gt){return new(Gt=ft(Gt))((ct,ii)=>{let Fn;this.subscribe(Wt=>Fn=Wt,Wt=>ii(Wt),()=>ct(Fn))})}}return Lt.create=rn=>new Lt(rn),Lt})();function ft(Lt){if(Lt||(Lt=Ge.v.Promise||Promise),!Lt)throw new Error("no Promise impl found");return Lt}},799:(Ut,kt,Ae)=>{"use strict";Ae.d(kt,{c:()=>ee});var o=Ae(2494),$=Ae(4449);const ee={closed:!0,next(x){},error(x){if(o.v.useDeprecatedSynchronousErrorHandling)throw x;(0,$.z)(x)},complete(){}}},9765:(Ut,kt,Ae)=>{"use strict";Ae.d(kt,{Yc:()=>Ee,xQ:()=>Me});var o=Ae(7574),$=Ae(7393),ee=Ae(5319),x=Ae(7971),de=Ae(8858),Ce=Ae(9181);class Ee extends $.L{constructor(Mt){super(Mt),this.destination=Mt}}let Me=(()=>{class Ge extends o.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Ce.b](){return new Ee(this)}lift(ft){const Lt=new Be(this,this);return Lt.operator=ft,Lt}next(ft){if(this.closed)throw new x.N;if(!this.isStopped){const{observers:Lt}=this,rn=Lt.length,Gt=Lt.slice();for(let ct=0;ct<rn;ct++)Gt[ct].next(ft)}}error(ft){if(this.closed)throw new x.N;this.hasError=!0,this.thrownError=ft,this.isStopped=!0;const{observers:Lt}=this,rn=Lt.length,Gt=Lt.slice();for(let ct=0;ct<rn;ct++)Gt[ct].error(ft);this.observers.length=0}complete(){if(this.closed)throw new x.N;this.isStopped=!0;const{observers:ft}=this,Lt=ft.length,rn=ft.slice();for(let Gt=0;Gt<Lt;Gt++)rn[Gt].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(ft){if(this.closed)throw new x.N;return super._trySubscribe(ft)}_subscribe(ft){if(this.closed)throw new x.N;return this.hasError?(ft.error(this.thrownError),ee.w.EMPTY):this.isStopped?(ft.complete(),ee.w.EMPTY):(this.observers.push(ft),new de.W(this,ft))}asObservable(){const ft=new o.y;return ft.source=this,ft}}return Ge.create=(Mt,ft)=>new Be(Mt,ft),Ge})();class Be extends Me{constructor(Mt,ft){super(),this.destination=Mt,this.source=ft}next(Mt){const{destination:ft}=this;ft&&ft.next&&ft.next(Mt)}error(Mt){const{destination:ft}=this;ft&&ft.error&&this.destination.error(Mt)}complete(){const{destination:Mt}=this;Mt&&Mt.complete&&this.destination.complete()}_subscribe(Mt){const{source:ft}=this;return ft?this.source.subscribe(Mt):ee.w.EMPTY}}},8858:(Ut,kt,Ae)=>{"use strict";Ae.d(kt,{W:()=>$});var o=Ae(5319);class $ extends o.w{constructor(x,de){super(),this.subject=x,this.subscriber=de,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const x=this.subject,de=x.observers;if(this.subject=null,!de||0===de.length||x.isStopped||x.closed)return;const Ce=de.indexOf(this.subscriber);-1!==Ce&&de.splice(Ce,1)}}},7393:(Ut,kt,Ae)=>{"use strict";Ae.d(kt,{L:()=>Ee});var o=Ae(9105),$=Ae(799),ee=Ae(5319),x=Ae(9181),de=Ae(2494),Ce=Ae(4449);class Ee extends ee.w{constructor(Ge,Mt,ft){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=$.c;break;case 1:if(!Ge){this.destination=$.c;break}if("object"==typeof Ge){Ge instanceof Ee?(this.syncErrorThrowable=Ge.syncErrorThrowable,this.destination=Ge,Ge.add(this)):(this.syncErrorThrowable=!0,this.destination=new Me(this,Ge));break}default:this.syncErrorThrowable=!0,this.destination=new Me(this,Ge,Mt,ft)}}[x.b](){return this}static create(Ge,Mt,ft){const Lt=new Ee(Ge,Mt,ft);return Lt.syncErrorThrowable=!1,Lt}next(Ge){this.isStopped||this._next(Ge)}error(Ge){this.isStopped||(this.isStopped=!0,this._error(Ge))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(Ge){this.destination.next(Ge)}_error(Ge){this.destination.error(Ge),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:Ge}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=Ge,this}}class Me extends Ee{constructor(Ge,Mt,ft,Lt){super(),this._parentSubscriber=Ge;let rn,Gt=this;(0,o.m)(Mt)?rn=Mt:Mt&&(rn=Mt.next,ft=Mt.error,Lt=Mt.complete,Mt!==$.c&&(Gt=Object.create(Mt),(0,o.m)(Gt.unsubscribe)&&this.add(Gt.unsubscribe.bind(Gt)),Gt.unsubscribe=this.unsubscribe.bind(this))),this._context=Gt,this._next=rn,this._error=ft,this._complete=Lt}next(Ge){if(!this.isStopped&&this._next){const{_parentSubscriber:Mt}=this;de.v.useDeprecatedSynchronousErrorHandling&&Mt.syncErrorThrowable?this.__tryOrSetError(Mt,this._next,Ge)&&this.unsubscribe():this.__tryOrUnsub(this._next,Ge)}}error(Ge){if(!this.isStopped){const{_parentSubscriber:Mt}=this,{useDeprecatedSynchronousErrorHandling:ft}=de.v;if(this._error)ft&&Mt.syncErrorThrowable?(this.__tryOrSetError(Mt,this._error,Ge),this.unsubscribe()):(this.__tryOrUnsub(this._error,Ge),this.unsubscribe());else if(Mt.syncErrorThrowable)ft?(Mt.syncErrorValue=Ge,Mt.syncErrorThrown=!0):(0,Ce.z)(Ge),this.unsubscribe();else{if(this.unsubscribe(),ft)throw Ge;(0,Ce.z)(Ge)}}}complete(){if(!this.isStopped){const{_parentSubscriber:Ge}=this;if(this._complete){const Mt=()=>this._complete.call(this._context);de.v.useDeprecatedSynchronousErrorHandling&&Ge.syncErrorThrowable?(this.__tryOrSetError(Ge,Mt),this.unsubscribe()):(this.__tryOrUnsub(Mt),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(Ge,Mt){try{Ge.call(this._context,Mt)}catch(ft){if(this.unsubscribe(),de.v.useDeprecatedSynchronousErrorHandling)throw ft;(0,Ce.z)(ft)}}__tryOrSetError(Ge,Mt,ft){if(!de.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{Mt.call(this._context,ft)}catch(Lt){return de.v.useDeprecatedSynchronousErrorHandling?(Ge.syncErrorValue=Lt,Ge.syncErrorThrown=!0,!0):((0,Ce.z)(Lt),!0)}return!1}_unsubscribe(){const{_parentSubscriber:Ge}=this;this._context=null,this._parentSubscriber=null,Ge.unsubscribe()}}},5319:(Ut,kt,Ae)=>{"use strict";Ae.d(kt,{w:()=>Ce});var o=Ae(9796),$=Ae(1555),ee=Ae(9105);const de=(()=>{function Me(Be){return Error.call(this),this.message=Be?`${Be.length} errors occurred during unsubscription:\n${Be.map((Ge,Mt)=>`${Mt+1}) ${Ge.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Be,this}return Me.prototype=Object.create(Error.prototype),Me})();class Ce{constructor(Be){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,Be&&(this._ctorUnsubscribe=!0,this._unsubscribe=Be)}unsubscribe(){let Be;if(this.closed)return;let{_parentOrParents:Ge,_ctorUnsubscribe:Mt,_unsubscribe:ft,_subscriptions:Lt}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,Ge instanceof Ce)Ge.remove(this);else if(null!==Ge)for(let rn=0;rn<Ge.length;++rn)Ge[rn].remove(this);if((0,ee.m)(ft)){Mt&&(this._unsubscribe=void 0);try{ft.call(this)}catch(rn){Be=rn instanceof de?Ee(rn.errors):[rn]}}if((0,o.k)(Lt)){let rn=-1,Gt=Lt.length;for(;++rn<Gt;){const ct=Lt[rn];if((0,$.K)(ct))try{ct.unsubscribe()}catch(ii){Be=Be||[],ii instanceof de?Be=Be.concat(Ee(ii.errors)):Be.push(ii)}}}if(Be)throw new de(Be)}add(Be){let Ge=Be;if(!Be)return Ce.EMPTY;switch(typeof Be){case"function":Ge=new Ce(Be);case"object":if(Ge===this||Ge.closed||"function"!=typeof Ge.unsubscribe)return Ge;if(this.closed)return Ge.unsubscribe(),Ge;if(!(Ge instanceof Ce)){const Lt=Ge;Ge=new Ce,Ge._subscriptions=[Lt]}break;default:throw new Error("unrecognized teardown "+Be+" added to Subscription.")}let{_parentOrParents:Mt}=Ge;if(null===Mt)Ge._parentOrParents=this;else if(Mt instanceof Ce){if(Mt===this)return Ge;Ge._parentOrParents=[Mt,this]}else{if(-1!==Mt.indexOf(this))return Ge;Mt.push(this)}const ft=this._subscriptions;return null===ft?this._subscriptions=[Ge]:ft.push(Ge),Ge}remove(Be){const Ge=this._subscriptions;if(Ge){const Mt=Ge.indexOf(Be);-1!==Mt&&Ge.splice(Mt,1)}}}var Me;function Ee(Me){return Me.reduce((Be,Ge)=>Be.concat(Ge instanceof de?Ge.errors:Ge),[])}Ce.EMPTY=((Me=new Ce).closed=!0,Me)},2494:(Ut,kt,Ae)=>{"use strict";Ae.d(kt,{v:()=>$});let o=!1;const $={Promise:void 0,set useDeprecatedSynchronousErrorHandling(ee){if(ee){const x=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+x.stack)}else o&&console.log("RxJS: Back to a better error behavior. Thank you. <3");o=ee},get useDeprecatedSynchronousErrorHandling(){return o}}},5345:(Ut,kt,Ae)=>{"use strict";Ae.d(kt,{IY:()=>x,Ds:()=>Ce,ft:()=>Me});var o=Ae(7393),$=Ae(7574),ee=Ae(7444);class x extends o.L{constructor(Ge){super(),this.parent=Ge}_next(Ge){this.parent.notifyNext(Ge)}_error(Ge){this.parent.notifyError(Ge),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Ce extends o.L{notifyNext(Ge){this.destination.next(Ge)}notifyError(Ge){this.destination.error(Ge)}notifyComplete(){this.destination.complete()}}function Me(Be,Ge){if(Ge.closed)return;if(Be instanceof $.y)return Be.subscribe(Ge);let Mt;try{Mt=(0,ee.s)(Be)(Ge)}catch(ft){Ge.error(ft)}return Mt}},2441:(Ut,kt,Ae)=>{"use strict";Ae.d(kt,{c:()=>de,N:()=>Ce});var o=Ae(9765),$=Ae(7574),ee=Ae(5319),x=Ae(1307);class de extends $.y{constructor(Mt,ft){super(),this.source=Mt,this.subjectFactory=ft,this._refCount=0,this._isComplete=!1}_subscribe(Mt){return this.getSubject().subscribe(Mt)}getSubject(){const Mt=this._subject;return(!Mt||Mt.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let Mt=this._connection;return Mt||(this._isComplete=!1,Mt=this._connection=new ee.w,Mt.add(this.source.subscribe(new Ee(this.getSubject(),this))),Mt.closed&&(this._connection=null,Mt=ee.w.EMPTY)),Mt}refCount(){return(0,x.x)()(this)}}const Ce=(()=>{const Ge=de.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:Ge._subscribe},_isComplete:{value:Ge._isComplete,writable:!0},getSubject:{value:Ge.getSubject},connect:{value:Ge.connect},refCount:{value:Ge.refCount}}})();class Ee extends o.Yc{constructor(Mt,ft){super(Mt),this.connectable=ft}_error(Mt){this._unsubscribe(),super._error(Mt)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const Mt=this.connectable;if(Mt){this.connectable=null;const ft=Mt._connection;Mt._refCount=0,Mt._subject=null,Mt._connection=null,ft&&ft.unsubscribe()}}}},9193:(Ut,kt,Ae)=>{"use strict";Ae.d(kt,{E:()=>$,c:()=>ee});var o=Ae(7574);const $=new o.y(de=>de.complete());function ee(de){return de?function(de){return new o.y(Ce=>de.schedule(()=>Ce.complete()))}(de):$}},4402:(Ut,kt,Ae)=>{"use strict";Ae.d(kt,{D:()=>Gt});var o=Ae(7574),$=Ae(7444),ee=Ae(5319),x=Ae(6554),Ee=Ae(4087),Me=Ae(377),Mt=Ae(4072),ft=Ae(9489);function Gt(ct,ii){return ii?function(ct,ii){if(null!=ct){if(function(ct){return ct&&"function"==typeof ct[x.L]}(ct))return function(ct,ii){return new o.y(Fn=>{const Wt=new ee.w;return Wt.add(ii.schedule(()=>{const ar=ct[x.L]();Wt.add(ar.subscribe({next(us){Wt.add(ii.schedule(()=>Fn.next(us)))},error(us){Wt.add(ii.schedule(()=>Fn.error(us)))},complete(){Wt.add(ii.schedule(()=>Fn.complete()))}}))})),Wt})}(ct,ii);if((0,Mt.t)(ct))return function(ct,ii){return new o.y(Fn=>{const Wt=new ee.w;return Wt.add(ii.schedule(()=>ct.then(ar=>{Wt.add(ii.schedule(()=>{Fn.next(ar),Wt.add(ii.schedule(()=>Fn.complete()))}))},ar=>{Wt.add(ii.schedule(()=>Fn.error(ar)))}))),Wt})}(ct,ii);if((0,ft.z)(ct))return(0,Ee.r)(ct,ii);if(function(ct){return ct&&"function"==typeof ct[Me.hZ]}(ct)||"string"==typeof ct)return function(ct,ii){if(!ct)throw new Error("Iterable cannot be null");return new o.y(Fn=>{const Wt=new ee.w;let ar;return Wt.add(()=>{ar&&"function"==typeof ar.return&&ar.return()}),Wt.add(ii.schedule(()=>{ar=ct[Me.hZ](),Wt.add(ii.schedule(function(){if(Fn.closed)return;let us,hi;try{const zi=ar.next();us=zi.value,hi=zi.done}catch(zi){return void Fn.error(zi)}hi?Fn.complete():(Fn.next(us),this.schedule())}))})),Wt})}(ct,ii)}throw new TypeError((null!==ct&&typeof ct||ct)+" is not observable")}(ct,ii):ct instanceof o.y?ct:new o.y((0,$.s)(ct))}},6693:(Ut,kt,Ae)=>{"use strict";Ae.d(kt,{n:()=>x});var o=Ae(7574),$=Ae(5015),ee=Ae(4087);function x(de,Ce){return Ce?(0,ee.r)(de,Ce):new o.y((0,$.V)(de))}},6682:(Ut,kt,Ae)=>{"use strict";Ae.d(kt,{T:()=>de});var o=Ae(7574),$=Ae(4869),ee=Ae(3282),x=Ae(6693);function de(...Ce){let Ee=Number.POSITIVE_INFINITY,Me=null,Be=Ce[Ce.length-1];return(0,$.K)(Be)?(Me=Ce.pop(),Ce.length>1&&"number"==typeof Ce[Ce.length-1]&&(Ee=Ce.pop())):"number"==typeof Be&&(Ee=Ce.pop()),null===Me&&1===Ce.length&&Ce[0]instanceof o.y?Ce[0]:(0,ee.J)(Ee)((0,x.n)(Ce,Me))}},5917:(Ut,kt,Ae)=>{"use strict";Ae.d(kt,{of:()=>x});var o=Ae(4869),$=Ae(6693),ee=Ae(4087);function x(...de){let Ce=de[de.length-1];return(0,o.K)(Ce)?(de.pop(),(0,ee.r)(de,Ce)):(0,$.n)(de)}},205:(Ut,kt,Ae)=>{"use strict";Ae.d(kt,{_:()=>$});var o=Ae(7574);function $(x,de){return new o.y(de?Ce=>de.schedule(ee,0,{error:x,subscriber:Ce}):Ce=>Ce.error(x))}function ee({error:x,subscriber:de}){de.error(x)}},8002:(Ut,kt,Ae)=>{"use strict";Ae.d(kt,{U:()=>$});var o=Ae(7393);function $(de,Ce){return function(Me){if("function"!=typeof de)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return Me.lift(new ee(de,Ce))}}class ee{constructor(Ce,Ee){this.project=Ce,this.thisArg=Ee}call(Ce,Ee){return Ee.subscribe(new x(Ce,this.project,this.thisArg))}}class x extends o.L{constructor(Ce,Ee,Me){super(Ce),this.project=Ee,this.count=0,this.thisArg=Me||this}_next(Ce){let Ee;try{Ee=this.project.call(this.thisArg,Ce,this.count++)}catch(Me){return void this.destination.error(Me)}this.destination.next(Ee)}}},3282:(Ut,kt,Ae)=>{"use strict";Ae.d(kt,{J:()=>ee});var o=Ae(9773),$=Ae(4487);function ee(x=Number.POSITIVE_INFINITY){return(0,o.zg)($.y,x)}},9773:(Ut,kt,Ae)=>{"use strict";Ae.d(kt,{zg:()=>x});var o=Ae(8002),$=Ae(4402),ee=Ae(5345);function x(Me,Be,Ge=Number.POSITIVE_INFINITY){return"function"==typeof Be?Mt=>Mt.pipe(x((ft,Lt)=>(0,$.D)(Me(ft,Lt)).pipe((0,o.U)((rn,Gt)=>Be(ft,rn,Lt,Gt))),Ge)):("number"==typeof Be&&(Ge=Be),Mt=>Mt.lift(new de(Me,Ge)))}class de{constructor(Be,Ge=Number.POSITIVE_INFINITY){this.project=Be,this.concurrent=Ge}call(Be,Ge){return Ge.subscribe(new Ce(Be,this.project,this.concurrent))}}class Ce extends ee.Ds{constructor(Be,Ge,Mt=Number.POSITIVE_INFINITY){super(Be),this.project=Ge,this.concurrent=Mt,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(Be){this.active<this.concurrent?this._tryNext(Be):this.buffer.push(Be)}_tryNext(Be){let Ge;const Mt=this.index++;try{Ge=this.project(Be,Mt)}catch(ft){return void this.destination.error(ft)}this.active++,this._innerSub(Ge)}_innerSub(Be){const Ge=new ee.IY(this),Mt=this.destination;Mt.add(Ge);const ft=(0,ee.ft)(Be,Ge);ft!==Ge&&Mt.add(ft)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(Be){this.destination.next(Be)}notifyComplete(){const Be=this.buffer;this.active--,Be.length>0?this._next(Be.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},9746:(Ut,kt,Ae)=>{"use strict";Ae.d(kt,{QV:()=>ee,ht:()=>de});var o=Ae(7393),$=Ae(3098);function ee(Ee,Me=0){return function(Ge){return Ge.lift(new x(Ee,Me))}}class x{constructor(Me,Be=0){this.scheduler=Me,this.delay=Be}call(Me,Be){return Be.subscribe(new de(Me,this.scheduler,this.delay))}}class de extends o.L{constructor(Me,Be,Ge=0){super(Me),this.scheduler=Be,this.delay=Ge}static dispatch(Me){const{notification:Be,destination:Ge}=Me;Be.observe(Ge),this.unsubscribe()}scheduleMessage(Me){this.destination.add(this.scheduler.schedule(de.dispatch,this.delay,new Ce(Me,this.destination)))}_next(Me){this.scheduleMessage($.P.createNext(Me))}_error(Me){this.scheduleMessage($.P.createError(Me)),this.unsubscribe()}_complete(){this.scheduleMessage($.P.createComplete()),this.unsubscribe()}}class Ce{constructor(Me,Be){this.notification=Me,this.destination=Be}}},1307:(Ut,kt,Ae)=>{"use strict";Ae.d(kt,{x:()=>$});var o=Ae(7393);function $(){return function(Ce){return Ce.lift(new ee(Ce))}}class ee{constructor(Ce){this.connectable=Ce}call(Ce,Ee){const{connectable:Me}=this;Me._refCount++;const Be=new x(Ce,Me),Ge=Ee.subscribe(Be);return Be.closed||(Be.connection=Me.connect()),Ge}}class x extends o.L{constructor(Ce,Ee){super(Ce),this.connectable=Ee}_unsubscribe(){const{connectable:Ce}=this;if(!Ce)return void(this.connection=null);this.connectable=null;const Ee=Ce._refCount;if(Ee<=0)return void(this.connection=null);if(Ce._refCount=Ee-1,Ee>1)return void(this.connection=null);const{connection:Me}=this,Be=Ce._connection;this.connection=null,Be&&(!Me||Be===Me)&&Be.unsubscribe()}}},8819:(Ut,kt,Ae)=>{"use strict";Ae.d(kt,{B:()=>Ee});var o=Ae(2441);var x=Ae(1307),de=Ae(9765);function Ce(){return new de.xQ}function Ee(){return Me=>(0,x.x)()(function(Me,Be){return function(Mt){let ft;ft="function"==typeof Me?Me:function(){return Me};const Lt=Object.create(Mt,o.N);return Lt.source=Mt,Lt.subjectFactory=ft,Lt}}(Ce)(Me))}},9673:(Ut,kt,Ae)=>{"use strict";Ae.d(kt,{R:()=>de});var o=Ae(7574),$=Ae(4581),ee=Ae(6561);class x extends o.y{constructor(Me,Be=0,Ge=$.e){super(),this.source=Me,this.delayTime=Be,this.scheduler=Ge,(!(0,ee.k)(Be)||Be<0)&&(this.delayTime=0),(!Ge||"function"!=typeof Ge.schedule)&&(this.scheduler=$.e)}static create(Me,Be=0,Ge=$.e){return new x(Me,Be,Ge)}static dispatch(Me){const{source:Be,subscriber:Ge}=Me;return this.add(Be.subscribe(Ge))}_subscribe(Me){return this.scheduler.schedule(x.dispatch,this.delayTime,{source:this.source,subscriber:Me})}}function de(Ee,Me=0){return function(Ge){return Ge.lift(new Ce(Ee,Me))}}class Ce{constructor(Me,Be){this.scheduler=Me,this.delay=Be}call(Me,Be){return new x(Be,this.delay,this.scheduler).subscribe(Me)}}},3342:(Ut,kt,Ae)=>{"use strict";Ae.d(kt,{b:()=>x});var o=Ae(7393);function $(){}var ee=Ae(9105);function x(Ee,Me,Be){return function(Mt){return Mt.lift(new de(Ee,Me,Be))}}class de{constructor(Me,Be,Ge){this.nextOrObserver=Me,this.error=Be,this.complete=Ge}call(Me,Be){return Be.subscribe(new Ce(Me,this.nextOrObserver,this.error,this.complete))}}class Ce extends o.L{constructor(Me,Be,Ge,Mt){super(Me),this._tapNext=$,this._tapError=$,this._tapComplete=$,this._tapError=Ge||$,this._tapComplete=Mt||$,(0,ee.m)(Be)?(this._context=this,this._tapNext=Be):Be&&(this._context=Be,this._tapNext=Be.next||$,this._tapError=Be.error||$,this._tapComplete=Be.complete||$)}_next(Me){try{this._tapNext.call(this._context,Me)}catch(Be){return void this.destination.error(Be)}this.destination.next(Me)}_error(Me){try{this._tapError.call(this._context,Me)}catch(Be){return void this.destination.error(Be)}this.destination.error(Me)}_complete(){try{this._tapComplete.call(this._context)}catch(Me){return void this.destination.error(Me)}return this.destination.complete()}}},4087:(Ut,kt,Ae)=>{"use strict";Ae.d(kt,{r:()=>ee});var o=Ae(7574),$=Ae(5319);function ee(x,de){return new o.y(Ce=>{const Ee=new $.w;let Me=0;return Ee.add(de.schedule(function(){Me!==x.length?(Ce.next(x[Me++]),Ce.closed||Ee.add(this.schedule())):Ce.complete()})),Ee})}},6465:(Ut,kt,Ae)=>{"use strict";Ae.d(kt,{o:()=>ee});var o=Ae(5319);class $ extends o.w{constructor(de,Ce){super()}schedule(de,Ce=0){return this}}class ee extends ${constructor(de,Ce){super(de,Ce),this.scheduler=de,this.work=Ce,this.pending=!1}schedule(de,Ce=0){if(this.closed)return this;this.state=de;const Ee=this.id,Me=this.scheduler;return null!=Ee&&(this.id=this.recycleAsyncId(Me,Ee,Ce)),this.pending=!0,this.delay=Ce,this.id=this.id||this.requestAsyncId(Me,this.id,Ce),this}requestAsyncId(de,Ce,Ee=0){return setInterval(de.flush.bind(de,this),Ee)}recycleAsyncId(de,Ce,Ee=0){if(null!==Ee&&this.delay===Ee&&!1===this.pending)return Ce;clearInterval(Ce)}execute(de,Ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ee=this._execute(de,Ce);if(Ee)return Ee;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(de,Ce){let Me,Ee=!1;try{this.work(de)}catch(Be){Ee=!0,Me=!!Be&&Be||new Error(Be)}if(Ee)return this.unsubscribe(),Me}_unsubscribe(){const de=this.id,Ce=this.scheduler,Ee=Ce.actions,Me=Ee.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==Me&&Ee.splice(Me,1),null!=de&&(this.id=this.recycleAsyncId(Ce,de,null)),this.delay=null}}},6102:(Ut,kt,Ae)=>{"use strict";Ae.d(kt,{v:()=>$});let o=(()=>{class ee{constructor(de,Ce=ee.now){this.SchedulerAction=de,this.now=Ce}schedule(de,Ce=0,Ee){return new this.SchedulerAction(this,de).schedule(Ee,Ce)}}return ee.now=()=>Date.now(),ee})();class $ extends o{constructor(x,de=o.now){super(x,()=>$.delegate&&$.delegate!==this?$.delegate.now():de()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(x,de=0,Ce){return $.delegate&&$.delegate!==this?$.delegate.schedule(x,de,Ce):super.schedule(x,de,Ce)}flush(x){const{actions:de}=this;if(this.active)return void de.push(x);let Ce;this.active=!0;do{if(Ce=x.execute(x.state,x.delay))break}while(x=de.shift());if(this.active=!1,Ce){for(;x=de.shift();)x.unsubscribe();throw Ce}}}},4581:(Ut,kt,Ae)=>{"use strict";Ae.d(kt,{e:()=>ft,E:()=>Mt});let o=1;const $=Promise.resolve(),ee={};function x(Lt){return Lt in ee&&(delete ee[Lt],!0)}const de={setImmediate(Lt){const rn=o++;return ee[rn]=!0,$.then(()=>x(rn)&&Lt()),rn},clearImmediate(Lt){x(Lt)}};var Ee=Ae(6465),Be=Ae(6102);const Mt=new class extends Be.v{flush(rn){this.active=!0,this.scheduled=void 0;const{actions:Gt}=this;let ct,ii=-1,Fn=Gt.length;rn=rn||Gt.shift();do{if(ct=rn.execute(rn.state,rn.delay))break}while(++ii<Fn&&(rn=Gt.shift()));if(this.active=!1,ct){for(;++ii<Fn&&(rn=Gt.shift());)rn.unsubscribe();throw ct}}}(class extends Ee.o{constructor(rn,Gt){super(rn,Gt),this.scheduler=rn,this.work=Gt}requestAsyncId(rn,Gt,ct=0){return null!==ct&&ct>0?super.requestAsyncId(rn,Gt,ct):(rn.actions.push(this),rn.scheduled||(rn.scheduled=de.setImmediate(rn.flush.bind(rn,null))))}recycleAsyncId(rn,Gt,ct=0){if(null!==ct&&ct>0||null===ct&&this.delay>0)return super.recycleAsyncId(rn,Gt,ct);0===rn.actions.length&&(de.clearImmediate(Gt),rn.scheduled=void 0)}}),ft=Mt},3637:(Ut,kt,Ae)=>{"use strict";Ae.d(kt,{z:()=>ee,P:()=>x});var o=Ae(6465);const ee=new(Ae(6102).v)(o.o),x=ee},7771:(Ut,kt,Ae)=>{"use strict";Ae.d(kt,{c:()=>Ce,N:()=>de});var o=Ae(6465),ee=Ae(6102);const de=new class extends ee.v{}(class extends o.o{constructor(Me,Be){super(Me,Be),this.scheduler=Me,this.work=Be}schedule(Me,Be=0){return Be>0?super.schedule(Me,Be):(this.delay=Be,this.state=Me,this.scheduler.flush(this),this)}execute(Me,Be){return Be>0||this.closed?super.execute(Me,Be):this._execute(Me,Be)}requestAsyncId(Me,Be,Ge=0){return null!==Ge&&Ge>0||null===Ge&&this.delay>0?super.requestAsyncId(Me,Be,Ge):Me.flush(this)}}),Ce=de},377:(Ut,kt,Ae)=>{"use strict";Ae.d(kt,{hZ:()=>$});const $="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Ut,kt,Ae)=>{"use strict";Ae.d(kt,{L:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Ut,kt,Ae)=>{"use strict";Ae.d(kt,{b:()=>o});const o="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Ut,kt,Ae)=>{"use strict";Ae.d(kt,{N:()=>$});const $=(()=>{function ee(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return ee.prototype=Object.create(Error.prototype),ee})()},4449:(Ut,kt,Ae)=>{"use strict";function o($){setTimeout(()=>{throw $},0)}Ae.d(kt,{z:()=>o})},4487:(Ut,kt,Ae)=>{"use strict";function o($){return $}Ae.d(kt,{y:()=>o})},9796:(Ut,kt,Ae)=>{"use strict";Ae.d(kt,{k:()=>o});const o=Array.isArray||($=>$&&"number"==typeof $.length)},9489:(Ut,kt,Ae)=>{"use strict";Ae.d(kt,{z:()=>o});const o=$=>$&&"number"==typeof $.length&&"function"!=typeof $},9105:(Ut,kt,Ae)=>{"use strict";function o($){return"function"==typeof $}Ae.d(kt,{m:()=>o})},6561:(Ut,kt,Ae)=>{"use strict";Ae.d(kt,{k:()=>$});var o=Ae(9796);function $(ee){return!(0,o.k)(ee)&&ee-parseFloat(ee)+1>=0}},1555:(Ut,kt,Ae)=>{"use strict";function o($){return null!==$&&"object"==typeof $}Ae.d(kt,{K:()=>o})},4072:(Ut,kt,Ae)=>{"use strict";function o($){return!!$&&"function"!=typeof $.subscribe&&"function"==typeof $.then}Ae.d(kt,{t:()=>o})},4869:(Ut,kt,Ae)=>{"use strict";function o($){return $&&"function"==typeof $.schedule}Ae.d(kt,{K:()=>o})},7444:(Ut,kt,Ae)=>{"use strict";Ae.d(kt,{s:()=>Mt});var o=Ae(5015),$=Ae(4449),x=Ae(377),Ce=Ae(6554),Me=Ae(9489),Be=Ae(4072),Ge=Ae(1555);const Mt=ft=>{if(ft&&"function"==typeof ft[Ce.L])return(ft=>Lt=>{const rn=ft[Ce.L]();if("function"!=typeof rn.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return rn.subscribe(Lt)})(ft);if((0,Me.z)(ft))return(0,o.V)(ft);if((0,Be.t)(ft))return(ft=>Lt=>(ft.then(rn=>{Lt.closed||(Lt.next(rn),Lt.complete())},rn=>Lt.error(rn)).then(null,$.z),Lt))(ft);if(ft&&"function"==typeof ft[x.hZ])return(ft=>Lt=>{const rn=ft[x.hZ]();for(;;){let Gt;try{Gt=rn.next()}catch(ct){return Lt.error(ct),Lt}if(Gt.done){Lt.complete();break}if(Lt.next(Gt.value),Lt.closed)break}return"function"==typeof rn.return&&Lt.add(()=>{rn.return&&rn.return()}),Lt})(ft);{const rn=`You provided ${(0,Ge.K)(ft)?"an invalid object":`'${ft}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(rn)}}},5015:(Ut,kt,Ae)=>{"use strict";Ae.d(kt,{V:()=>o});const o=$=>ee=>{for(let x=0,de=$.length;x<de&&!ee.closed;x++)ee.next($[x]);ee.complete()}},3311:(Ut,kt,Ae)=>{"use strict";var o=Ae(7716);let $=null;function ee(){return $}const Ee=new o.OlP("DocumentToken");let Me=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,o.Yz7)({factory:Be,token:t,providedIn:"platform"}),t})();function Be(){return(0,o.LFG)(Mt)}const Ge=new o.OlP("Location Initialized");let Mt=(()=>{class t extends Me{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ee().getBaseHref(this._doc)}onPopState(e){const s=ee().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",e,!1),()=>s.removeEventListener("popstate",e)}onHashChange(e){const s=ee().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",e,!1),()=>s.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,s,a){ft()?this._history.pushState(e,s,a):this.location.hash=a}replaceState(e,s,a){ft()?this._history.replaceState(e,s,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Ee))},t.\u0275prov=(0,o.Yz7)({factory:Lt,token:t,providedIn:"platform"}),t})();function ft(){return!!window.history.pushState}function Lt(){return new Mt((0,o.LFG)(Ee))}function rn(t,i){if(0==t.length)return i;if(0==i.length)return t;let e=0;return t.endsWith("/")&&e++,i.startsWith("/")&&e++,2==e?t+i.substring(1):1==e?t+i:t+"/"+i}function Gt(t){const i=t.match(/#|\?|$/),e=i&&i.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function ct(t){return t&&"?"!==t[0]?"?"+t:t}let ii=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,o.Yz7)({factory:Fn,token:t,providedIn:"root"}),t})();function Fn(t){const i=(0,o.LFG)(Ee).location;return new ar((0,o.LFG)(Me),i&&i.origin||"")}const Wt=new o.OlP("appBaseHref");let ar=(()=>{class t extends ii{constructor(e,s){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==s&&(s=this._platformLocation.getBaseHrefFromDOM()),null==s)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=s}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return rn(this._baseHref,e)}path(e=!1){const s=this._platformLocation.pathname+ct(this._platformLocation.search),a=this._platformLocation.hash;return a&&e?`${s}${a}`:s}pushState(e,s,a,l){const h=this.prepareExternalUrl(a+ct(l));this._platformLocation.pushState(e,s,h)}replaceState(e,s,a,l){const h=this.prepareExternalUrl(a+ct(l));this._platformLocation.replaceState(e,s,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var s,a;null===(a=(s=this._platformLocation).historyGo)||void 0===a||a.call(s,e)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Me),o.LFG(Wt,8))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})(),us=(()=>{class t extends ii{constructor(e,s){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let s=this._platformLocation.hash;return null==s&&(s="#"),s.length>0?s.substring(1):s}prepareExternalUrl(e){const s=rn(this._baseHref,e);return s.length>0?"#"+s:s}pushState(e,s,a,l){let h=this.prepareExternalUrl(a+ct(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(e,s,h)}replaceState(e,s,a,l){let h=this.prepareExternalUrl(a+ct(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(e,s,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var s,a;null===(a=(s=this._platformLocation).historyGo)||void 0===a||a.call(s,e)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Me),o.LFG(Wt,8))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})(),hi=(()=>{class t{constructor(e,s){this._subject=new o.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const a=this._platformStrategy.getBaseHref();this._platformLocation=s,this._baseHref=Gt(er(a)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,s=""){return this.path()==this.normalize(e+ct(s))}normalize(e){return t.stripTrailingSlash(function(t,i){return t&&i.startsWith(t)?i.substring(t.length):i}(this._baseHref,er(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,s="",a=null){this._platformStrategy.pushState(a,"",e,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ct(s)),a)}replaceState(e,s="",a=null){this._platformStrategy.replaceState(a,"",e,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ct(s)),a)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var s,a;null===(a=(s=this._platformStrategy).historyGo)||void 0===a||a.call(s,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)}))}_notifyUrlChangeListeners(e="",s){this._urlChangeListeners.forEach(a=>a(e,s))}subscribe(e,s,a){return this._subject.subscribe({next:e,error:s,complete:a})}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(ii),o.LFG(Me))},t.normalizeQueryParams=ct,t.joinWithSlash=rn,t.stripTrailingSlash=Gt,t.\u0275prov=(0,o.Yz7)({factory:zi,token:t,providedIn:"root"}),t})();function zi(){return new hi((0,o.LFG)(ii),(0,o.LFG)(Me))}function er(t){return t.replace(/\/index.html$/,"")}const Yr={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var wn=(()=>((wn=wn||{})[wn.Decimal=0]="Decimal",wn[wn.Percent=1]="Percent",wn[wn.Currency=2]="Currency",wn[wn.Scientific=3]="Scientific",wn))(),hn=(()=>((hn=hn||{})[hn.Zero=0]="Zero",hn[hn.One=1]="One",hn[hn.Two=2]="Two",hn[hn.Few=3]="Few",hn[hn.Many=4]="Many",hn[hn.Other=5]="Other",hn))(),vn=(()=>((vn=vn||{})[vn.Decimal=0]="Decimal",vn[vn.Group=1]="Group",vn[vn.List=2]="List",vn[vn.PercentSign=3]="PercentSign",vn[vn.PlusSign=4]="PlusSign",vn[vn.MinusSign=5]="MinusSign",vn[vn.Exponential=6]="Exponential",vn[vn.SuperscriptingExponent=7]="SuperscriptingExponent",vn[vn.PerMille=8]="PerMille",vn[vn.Infinity=9]="Infinity",vn[vn.NaN=10]="NaN",vn[vn.TimeSeparator=11]="TimeSeparator",vn[vn.CurrencyDecimal=12]="CurrencyDecimal",vn[vn.CurrencyGroup=13]="CurrencyGroup",vn))();function ss(t,i){const e=(0,o.cg1)(t),s=e[o.wAp.NumberSymbols][i];if(void 0===s){if(i===vn.CurrencyDecimal)return e[o.wAp.NumberSymbols][vn.Decimal];if(i===vn.CurrencyGroup)return e[o.wAp.NumberSymbols][vn.Group]}return s}function Gs(t,i){return(0,o.cg1)(t)[o.wAp.NumberFormats][i]}const Ki=o.kL8;const en=/^(\d+)?\.((\d+)(-(\d+))?)?$/,p="0";function F(t,i,e,s,a,l,h=!1){let v="",C=!1;if(isFinite(t)){let O=function(t){let s,a,l,h,v,i=Math.abs(t)+"",e=0;for((a=i.indexOf("."))>-1&&(i=i.replace(".","")),(l=i.search(/e/i))>0?(a<0&&(a=l),a+=+i.slice(l+1),i=i.substring(0,l)):a<0&&(a=i.length),l=0;i.charAt(l)===p;l++);if(l===(v=i.length))s=[0],a=1;else{for(v--;i.charAt(v)===p;)v--;for(a-=l,s=[],h=0;l<=v;l++,h++)s[h]=Number(i.charAt(l))}return a>22&&(s=s.splice(0,21),e=a-1,a=1),{digits:s,exponent:e,integerLen:a}}(t);h&&(O=function(t){if(0===t.digits[0])return t;const i=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===i?t.digits.push(0,0):1===i&&t.digits.push(0),t.integerLen+=2),t}(O));let G=i.minInt,te=i.minFrac,pe=i.maxFrac;if(l){const Zt=l.match(en);if(null===Zt)throw new Error(`${l} is not a valid digit info`);const tn=Zt[1],gn=Zt[3],pn=Zt[5];null!=tn&&(G=Pe(tn)),null!=gn&&(te=Pe(gn)),null!=pn?pe=Pe(pn):null!=gn&&te>pe&&(pe=te)}!function(t,i,e){if(i>e)throw new Error(`The minimum number of digits after fraction (${i}) is higher than the maximum (${e}).`);let s=t.digits,a=s.length-t.integerLen;const l=Math.min(Math.max(i,a),e);let h=l+t.integerLen,v=s[h];if(h>0){s.splice(Math.max(t.integerLen,h));for(let te=h;te<s.length;te++)s[te]=0}else{a=Math.max(0,a),t.integerLen=1,s.length=Math.max(1,h=l+1),s[0]=0;for(let te=1;te<h;te++)s[te]=0}if(v>=5)if(h-1<0){for(let te=0;te>h;te--)s.unshift(0),t.integerLen++;s.unshift(1),t.integerLen++}else s[h-1]++;for(;a<Math.max(0,l);a++)s.push(0);let C=0!==l;const O=i+t.integerLen,G=s.reduceRight(function(te,pe,we,Le){return Le[we]=(pe+=te)<10?pe:pe-10,C&&(0===Le[we]&&we>=O?Le.pop():C=!1),pe>=10?1:0},0);G&&(s.unshift(G),t.integerLen++)}(O,te,pe);let we=O.digits,Le=O.integerLen;const je=O.exponent;let tt=[];for(C=we.every(Zt=>!Zt);Le<G;Le++)we.unshift(0);for(;Le<0;Le++)we.unshift(0);Le>0?tt=we.splice(Le,we.length):(tt=we,we=[0]);const yt=[];for(we.length>=i.lgSize&&yt.unshift(we.splice(-i.lgSize,we.length).join(""));we.length>i.gSize;)yt.unshift(we.splice(-i.gSize,we.length).join(""));we.length&&yt.unshift(we.join("")),v=yt.join(ss(e,s)),tt.length&&(v+=ss(e,a)+tt.join("")),je&&(v+=ss(e,vn.Exponential)+"+"+je)}else v=ss(e,vn.Infinity);return v=t<0&&!C?i.negPre+v+i.negSuf:i.posPre+v+i.posSuf,v}function ue(t,i="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},s=t.split(";"),a=s[0],l=s[1],h=-1!==a.indexOf(".")?a.split("."):[a.substring(0,a.lastIndexOf(p)+1),a.substring(a.lastIndexOf(p)+1)],v=h[0],C=h[1]||"";e.posPre=v.substr(0,v.indexOf("#"));for(let G=0;G<C.length;G++){const te=C.charAt(G);te===p?e.minFrac=e.maxFrac=G+1:"#"===te?e.maxFrac=G+1:e.posSuf+=te}const O=v.split(",");if(e.gSize=O[1]?O[1].length:0,e.lgSize=O[2]||O[1]?(O[2]||O[1]).length:0,l){const G=a.length-e.posPre.length-e.posSuf.length,te=l.indexOf("#");e.negPre=l.substr(0,te).replace(/'/g,""),e.negSuf=l.substr(te+G).replace(/'/g,"")}else e.negPre=i+e.posPre,e.negSuf=e.posSuf;return e}function Pe(t){const i=parseInt(t);if(isNaN(i))throw new Error("Invalid integer literal when parsing "+t);return i}class ze{}let st=(()=>{class t extends ze{constructor(e){super(),this.locale=e}getPluralCategory(e,s){switch(Ki(s||this.locale)(e)){case hn.Zero:return"zero";case hn.One:return"one";case hn.Two:return"two";case hn.Few:return"few";case hn.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(o.soG))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();function X(t,i){i=encodeURIComponent(i);for(const e of t.split(";")){const s=e.indexOf("="),[a,l]=-1==s?[e,""]:[e.slice(0,s),e.slice(s+1)];if(a.trim()===i)return decodeURIComponent(l)}return null}let he=(()=>{class t{constructor(e,s,a,l){this._iterableDiffers=e,this._keyValueDiffers=s,this._ngEl=a,this._renderer=l,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,o.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(s=>this._toggleClass(s.key,s.currentValue)),e.forEachChangedItem(s=>this._toggleClass(s.key,s.currentValue)),e.forEachRemovedItem(s=>{s.previousValue&&this._toggleClass(s.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(s=>{if("string"!=typeof s.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,o.AaK)(s.item)}`);this._toggleClass(s.item,!0)}),e.forEachRemovedItem(s=>this._toggleClass(s.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(s=>this._toggleClass(s,!0)):Object.keys(e).forEach(s=>this._toggleClass(s,!!e[s])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(s=>this._toggleClass(s,!1)):Object.keys(e).forEach(s=>this._toggleClass(s,!1)))}_toggleClass(e,s){(e=e.trim())&&e.split(/\s+/g).forEach(a=>{s?this._renderer.addClass(this._ngEl.nativeElement,a):this._renderer.removeClass(this._ngEl.nativeElement,a)})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.ZZ4),o.Y36(o.aQg),o.Y36(o.SBq),o.Y36(o.Qsj))},t.\u0275dir=o.lG2({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class Je{constructor(i,e,s,a){this.$implicit=i,this.ngForOf=e,this.index=s,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let mt=(()=>{class t{constructor(e,s,a){this._viewContainer=e,this._template=s,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(s){throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(t){return t.name||typeof t}(e)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const s=[];e.forEachOperation((a,l,h)=>{if(null==a.previousIndex){const v=this._viewContainer.createEmbeddedView(this._template,new Je(null,this._ngForOf,-1,-1),null===h?void 0:h),C=new ln(a,v);s.push(C)}else if(null==h)this._viewContainer.remove(null===l?void 0:l);else if(null!==l){const v=this._viewContainer.get(l);this._viewContainer.move(v,h);const C=new ln(a,v);s.push(C)}});for(let a=0;a<s.length;a++)this._perViewChange(s[a].view,s[a].record);for(let a=0,l=this._viewContainer.length;a<l;a++){const h=this._viewContainer.get(a);h.context.index=a,h.context.count=l,h.context.ngForOf=this._ngForOf}e.forEachIdentityChange(a=>{this._viewContainer.get(a.currentIndex).context.$implicit=a.item})}_perViewChange(e,s){e.context.$implicit=s.item}static ngTemplateContextGuard(e,s){return!0}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(o.ZZ4))},t.\u0275dir=o.lG2({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class ln{constructor(i,e){this.record=i,this.view=e}}let un=(()=>{class t{constructor(e,s){this._viewContainer=e,this._context=new Vn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=s}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){zn("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){zn("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,s){return!0}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.s_b),o.Y36(o.Rgc))},t.\u0275dir=o.lG2({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class Vn{constructor(){this.$implicit=null,this.ngIf=null}}function zn(t,i){if(i&&!i.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${(0,o.AaK)(i)}'.`)}class ki{constructor(i,e){this._viewContainerRef=i,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(i){i&&!this._created?this.create():!i&&this._created&&this.destroy()}}let pr=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const s=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||s,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),s}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let s=0;s<this._defaultViews.length;s++)this._defaultViews[s].enforceState(e)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=o.lG2({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),_i=(()=>{class t{constructor(e,s,a){this.ngSwitch=a,a._addCase(),this._view=new ki(e,s)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(pr,9))},t.\u0275dir=o.lG2({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),Yi=(()=>{class t{constructor(e,s,a){a._addDefault(new ki(e,s))}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(pr,9))},t.\u0275dir=o.lG2({type:t,selectors:[["","ngSwitchDefault",""]]}),t})(),qi=(()=>{class t{constructor(e,s,a){this._ngEl=e,this._differs=s,this._renderer=a,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,s){const[a,l]=e.split(".");null!=(s=null!=s&&l?`${s}${l}`:s)?this._renderer.setStyle(this._ngEl.nativeElement,a,s):this._renderer.removeStyle(this._ngEl.nativeElement,a)}_applyChanges(e){e.forEachRemovedItem(s=>this._setStyle(s.key,null)),e.forEachAddedItem(s=>this._setStyle(s.key,s.currentValue)),e.forEachChangedItem(s=>this._setStyle(s.key,s.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.aQg),o.Y36(o.Qsj))},t.\u0275dir=o.lG2({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})(),jr=(()=>{class t{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(e.ngTemplateOutlet){const s=this._viewContainerRef;this._viewRef&&s.remove(s.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?s.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.s_b))},t.\u0275dir=o.lG2({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[o.TTD]}),t})();function Ia(t,i){return Error(`InvalidPipeArgument: '${i}' for pipe '${(0,o.AaK)(t)}'`)}class ga{createSubscription(i,e){return i.subscribe({next:e,error:s=>{throw s}})}dispose(i){i.unsubscribe()}onDestroy(i){i.unsubscribe()}}class ao{createSubscription(i,e){return i.then(e,s=>{throw s})}dispose(i){}onDestroy(i){}}const qo=new ao,Ad=new ga;let Nl=(()=>{class t{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,s=>this._updateLatestValue(e,s))}_selectStrategy(e){if((0,o.QGY)(e))return qo;if((0,o.F4k)(e))return Ad;throw Ia(t,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,s){e===this._obj&&(this._latestValue=s,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.sBO,16))},t.\u0275pipe=o.Yjl({name:"async",type:t,pure:!1}),t})(),Zh=(()=>{class t{transform(e){return JSON.stringify(e,null,2)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=o.Yjl({name:"json",type:t,pure:!1}),t})(),oh=(()=>{class t{constructor(e){this._locale=e}transform(e,s,a){if(!la(e))return null;a=a||this._locale;try{return function(t,i,e){return F(t,ue(Gs(i,wn.Decimal),ss(i,vn.MinusSign)),i,vn.Group,vn.Decimal,e)}(Tp(e),a,s)}catch(l){throw Ia(t,l.message)}}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.soG,16))},t.\u0275pipe=o.Yjl({name:"number",type:t,pure:!0}),t})(),ah=(()=>{class t{constructor(e,s="USD"){this._locale=e,this._defaultCurrencyCode=s}transform(e,s=this._defaultCurrencyCode,a="symbol",l,h){if(!la(e))return null;h=h||this._locale,"boolean"==typeof a&&(a=a?"symbol":"code");let v=s||this._defaultCurrencyCode;"code"!==a&&(v="symbol"===a||"symbol-narrow"===a?function(t,i,e="en"){const s=function(t){return(0,o.cg1)(t)[o.wAp.Currencies]}(e)[t]||Yr[t]||[],a=s[1];return"narrow"===i&&"string"==typeof a?a:s[0]||t}(v,"symbol"===a?"wide":"narrow",h):a);try{return function(t,i,e,s,a){const h=ue(Gs(i,wn.Currency),ss(i,vn.MinusSign));return h.minFrac=function(t){let i;const e=Yr[t];return e&&(i=e[2]),"number"==typeof i?i:2}(s),h.maxFrac=h.minFrac,F(t,h,i,vn.CurrencyGroup,vn.CurrencyDecimal,a).replace("\xa4",e).replace("\xa4","").trim()}(Tp(e),h,v,s,l)}catch(C){throw Ia(t,C.message)}}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.soG,16),o.Y36(o.EJc,16))},t.\u0275pipe=o.Yjl({name:"currency",type:t,pure:!0}),t})();function la(t){return!(null==t||""===t||t!=t)}function Tp(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}let Ji=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[{provide:ze,useClass:st}]}),t})();function Pd(t){return"server"===t}let mi=(()=>{class t{}return t.\u0275prov=(0,o.Yz7)({token:t,providedIn:"root",factory:()=>new Hc((0,o.LFG)(Ee),window)}),t})();class Hc{constructor(i,e){this.document=i,this.window=e,this.offset=()=>[0,0]}setOffset(i){this.offset=Array.isArray(i)?()=>i:i}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(i){this.supportsScrolling()&&this.window.scrollTo(i[0],i[1])}scrollToAnchor(i){if(!this.supportsScrolling())return;const e=function(t,i){const e=t.getElementById(i)||t.getElementsByName(i)[0];if(e)return e;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const s=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let a=s.currentNode;for(;a;){const l=a.shadowRoot;if(l){const h=l.getElementById(i)||l.querySelector(`[name="${i}"]`);if(h)return h}a=s.nextNode()}}return null}(this.document,i);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(i){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=i)}}scrollToElement(i){const e=i.getBoundingClientRect(),s=e.left+this.window.pageXOffset,a=e.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(s-l[0],a-l[1])}attemptFocus(i){return i.focus(),this.document.activeElement===i}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const i=rc(this.window.history)||rc(Object.getPrototypeOf(this.window.history));return!(!i||!i.writable&&!i.set)}catch(i){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(i){return!1}}}function rc(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Vc{}class Bl extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var t;t=new Bl,$||($=t)}onAndCancel(i,e,s){return i.addEventListener(e,s,!1),()=>{i.removeEventListener(e,s,!1)}}dispatchEvent(i,e){i.dispatchEvent(e)}remove(i){i.parentNode&&i.parentNode.removeChild(i)}createElement(i,e){return(e=e||this.getDefaultDocument()).createElement(i)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(i){return i.nodeType===Node.ELEMENT_NODE}isShadowRoot(i){return i instanceof DocumentFragment}getGlobalEventTarget(i,e){return"window"===e?window:"document"===e?i:"body"===e?i.body:null}getBaseHref(i){const e=(or=or||document.querySelector("base"),or?or.getAttribute("href"):null);return null==e?null:function(t){fr=fr||document.createElement("a"),fr.setAttribute("href",t);const i=fr.pathname;return"/"===i.charAt(0)?i:`/${i}`}(e)}resetBaseElement(){or=null}getUserAgent(){return window.navigator.userAgent}getCookie(i){return X(document.cookie,i)}}let fr,or=null;const os=new o.OlP("TRANSITION_ID"),Yl=[{provide:o.ip1,useFactory:function(t,i,e){return()=>{e.get(o.CZH).donePromise.then(()=>{const s=ee();Array.prototype.slice.apply(i.querySelectorAll("style[ng-transition]")).filter(l=>l.getAttribute("ng-transition")===t).forEach(l=>s.remove(l))})}},deps:[os,Ee,o.zs3],multi:!0}];class sc{static init(){(0,o.VLi)(new sc)}addToWindow(i){o.dqk.getAngularTestability=(s,a=!0)=>{const l=i.findTestabilityInTree(s,a);if(null==l)throw new Error("Could not find testability for element.");return l},o.dqk.getAllAngularTestabilities=()=>i.getAllTestabilities(),o.dqk.getAllAngularRootElements=()=>i.getAllRootElements(),o.dqk.frameworkStabilizers||(o.dqk.frameworkStabilizers=[]),o.dqk.frameworkStabilizers.push(s=>{const a=o.dqk.getAllAngularTestabilities();let l=a.length,h=!1;const v=function(C){h=h||C,l--,0==l&&s(h)};a.forEach(function(C){C.whenStable(v)})})}findTestabilityInTree(i,e,s){if(null==e)return null;const a=i.getTestability(e);return null!=a?a:s?ee().isShadowRoot(e)?this.findTestabilityInTree(i,e.host,!0):this.findTestabilityInTree(i,e.parentElement,!0):null}}let La=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();const td=new o.OlP("EventManagerPlugins");let $n=(()=>{class t{constructor(e,s){this._zone=s,this._eventNameToPlugin=new Map,e.forEach(a=>a.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,s,a){return this._findPluginFor(s).addEventListener(e,s,a)}addGlobalEventListener(e,s,a){return this._findPluginFor(s).addGlobalEventListener(e,s,a)}getZone(){return this._zone}_findPluginFor(e){const s=this._eventNameToPlugin.get(e);if(s)return s;const a=this._plugins;for(let l=0;l<a.length;l++){const h=a[l];if(h.supports(e))return this._eventNameToPlugin.set(e,h),h}throw new Error(`No event manager plugin found for event ${e}`)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(td),o.LFG(o.R0b))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();class ms{constructor(i){this._doc=i}addGlobalEventListener(i,e,s){const a=ee().getGlobalEventTarget(this._doc,i);if(!a)throw new Error(`Unsupported event target ${a} for event ${e}`);return this.addEventListener(a,e,s)}}let Wh=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(e){const s=new Set;e.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),s.add(a))}),this.onStylesAdded(s)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})(),Mo=(()=>{class t extends Wh{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,s,a){e.forEach(l=>{const h=this._doc.createElement("style");h.textContent=l,a.push(s.appendChild(h))})}addHost(e){const s=[];this._addStylesToHost(this._stylesSet,e,s),this._hostNodes.set(e,s)}removeHost(e){const s=this._hostNodes.get(e);s&&s.forEach(Fd),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((s,a)=>{this._addStylesToHost(e,a,s)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Fd))}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Ee))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();function Fd(t){ee().remove(t)}const oc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Pa=/%COMP%/g;function po(t,i,e){for(let s=0;s<i.length;s++){let a=i[s];Array.isArray(a)?po(t,a,e):(a=a.replace(Pa,t),e.push(a))}return e}function ya(t){return i=>{if("__ngUnwrap__"===i)return t;!1===t(i)&&(i.preventDefault(),i.returnValue=!1)}}let xc=(()=>{class t{constructor(e,s,a){this.eventManager=e,this.sharedStylesHost=s,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new yr(e)}createRenderer(e,s){if(!e||!s)return this.defaultRenderer;switch(s.encapsulation){case o.ifc.Emulated:{let a=this.rendererByCompId.get(s.id);return a||(a=new Cu(this.eventManager,this.sharedStylesHost,s,this.appId),this.rendererByCompId.set(s.id,a)),a.applyToHost(e),a}case 1:case o.ifc.ShadowDom:return new $o(this.eventManager,this.sharedStylesHost,e,s);default:if(!this.rendererByCompId.has(s.id)){const a=po(s.id,s.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(s.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(o.LFG($n),o.LFG(Mo),o.LFG(o.AFp))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();class yr{constructor(i){this.eventManager=i,this.data=Object.create(null)}destroy(){}createElement(i,e){return e?document.createElementNS(oc[e]||e,i):document.createElement(i)}createComment(i){return document.createComment(i)}createText(i){return document.createTextNode(i)}appendChild(i,e){i.appendChild(e)}insertBefore(i,e,s){i&&i.insertBefore(e,s)}removeChild(i,e){i&&i.removeChild(e)}selectRootElement(i,e){let s="string"==typeof i?document.querySelector(i):i;if(!s)throw new Error(`The selector "${i}" did not match any elements`);return e||(s.textContent=""),s}parentNode(i){return i.parentNode}nextSibling(i){return i.nextSibling}setAttribute(i,e,s,a){if(a){e=a+":"+e;const l=oc[a];l?i.setAttributeNS(l,e,s):i.setAttribute(e,s)}else i.setAttribute(e,s)}removeAttribute(i,e,s){if(s){const a=oc[s];a?i.removeAttributeNS(a,e):i.removeAttribute(`${s}:${e}`)}else i.removeAttribute(e)}addClass(i,e){i.classList.add(e)}removeClass(i,e){i.classList.remove(e)}setStyle(i,e,s,a){a&(o.JOm.DashCase|o.JOm.Important)?i.style.setProperty(e,s,a&o.JOm.Important?"important":""):i.style[e]=s}removeStyle(i,e,s){s&o.JOm.DashCase?i.style.removeProperty(e):i.style[e]=""}setProperty(i,e,s){i[e]=s}setValue(i,e){i.nodeValue=e}listen(i,e,s){return"string"==typeof i?this.eventManager.addGlobalEventListener(i,e,ya(s)):this.eventManager.addEventListener(i,e,ya(s))}}class Cu extends yr{constructor(i,e,s,a){super(i),this.component=s;const l=po(a+"-"+s.id,s.styles,[]);e.addStyles(l),this.contentAttr="_ngcontent-%COMP%".replace(Pa,a+"-"+s.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(Pa,t)}(a+"-"+s.id)}applyToHost(i){super.setAttribute(i,this.hostAttr,"")}createElement(i,e){const s=super.createElement(i,e);return super.setAttribute(s,this.contentAttr,""),s}}class $o extends yr{constructor(i,e,s,a){super(i),this.sharedStylesHost=e,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=po(a.id,a.styles,[]);for(let h=0;h<l.length;h++){const v=document.createElement("style");v.textContent=l[h],this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(i){return i===this.hostEl?this.shadowRoot:i}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(i,e){return super.appendChild(this.nodeOrShadowRoot(i),e)}insertBefore(i,e,s){return super.insertBefore(this.nodeOrShadowRoot(i),e,s)}removeChild(i,e){return super.removeChild(this.nodeOrShadowRoot(i),e)}parentNode(i){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(i)))}}let wc=(()=>{class t extends ms{constructor(e){super(e)}supports(e){return!0}addEventListener(e,s,a){return e.addEventListener(s,a,!1),()=>this.removeEventListener(e,s,a)}removeEventListener(e,s,a){return e.removeEventListener(s,a)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Ee))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();const cl=["alt","control","meta","shift"],Nd={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Xt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Dr={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Js=(()=>{class t extends ms{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,s,a){const l=t.parseEventName(s),h=t.eventCallback(l.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ee().onAndCancel(e,l.domEventName,h))}static parseEventName(e){const s=e.toLowerCase().split("."),a=s.shift();if(0===s.length||"keydown"!==a&&"keyup"!==a)return null;const l=t._normalizeKey(s.pop());let h="";if(cl.forEach(C=>{const O=s.indexOf(C);O>-1&&(s.splice(O,1),h+=C+".")}),h+=l,0!=s.length||0===l.length)return null;const v={};return v.domEventName=a,v.fullKey=h,v}static getEventFullKey(e){let s="",a=function(t){let i=t.key;if(null==i){if(i=t.keyIdentifier,null==i)return"Unidentified";i.startsWith("U+")&&(i=String.fromCharCode(parseInt(i.substring(2),16)),3===t.location&&Xt.hasOwnProperty(i)&&(i=Xt[i]))}return Nd[i]||i}(e);return a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),cl.forEach(l=>{l!=a&&Dr[l](e)&&(s+=l+".")}),s+=a,s}static eventCallback(e,s,a){return l=>{t.getEventFullKey(l)===e&&a.runGuarded(()=>s(l))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Ee))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})(),ba=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,o.Yz7)({factory:function(){return(0,o.LFG)(Qo)},token:t,providedIn:"root"}),t})(),Qo=(()=>{class t extends ba{constructor(e){super(),this._doc=e}sanitize(e,s){if(null==s)return null;switch(e){case o.q3G.NONE:return s;case o.q3G.HTML:return(0,o.qzn)(s,"HTML")?(0,o.z3N)(s):(0,o.EiD)(this._doc,String(s)).toString();case o.q3G.STYLE:return(0,o.qzn)(s,"Style")?(0,o.z3N)(s):s;case o.q3G.SCRIPT:if((0,o.qzn)(s,"Script"))return(0,o.z3N)(s);throw new Error("unsafe value used in a script context");case o.q3G.URL:return(0,o.yhl)(s),(0,o.qzn)(s,"URL")?(0,o.z3N)(s):(0,o.mCW)(String(s));case o.q3G.RESOURCE_URL:if((0,o.qzn)(s,"ResourceURL"))return(0,o.z3N)(s);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,o.JVY)(e)}bypassSecurityTrustStyle(e){return(0,o.L6k)(e)}bypassSecurityTrustScript(e){return(0,o.eBb)(e)}bypassSecurityTrustUrl(e){return(0,o.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,o.pB0)(e)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Ee))},t.\u0275prov=(0,o.Yz7)({factory:function(){return function(t){return new Qo(t.get(Ee))}((0,o.LFG)(o.gxx))},token:t,providedIn:"root"}),t})();const Sc=(0,o.eFA)(o._c5,"browser",[{provide:o.Lbi,useValue:"browser"},{provide:o.g9A,useValue:function(){Bl.makeCurrent(),sc.init()},multi:!0},{provide:Ee,useFactory:function(){return(0,o.RDi)(document),document},deps:[]}]),id=[[],{provide:o.zSh,useValue:"root"},{provide:o.qLn,useFactory:function(){return new o.qLn},deps:[]},{provide:td,useClass:wc,multi:!0,deps:[Ee,o.R0b,o.Lbi]},{provide:td,useClass:Js,multi:!0,deps:[Ee]},[],{provide:xc,useClass:xc,deps:[$n,Mo,o.AFp]},{provide:o.FYo,useExisting:xc},{provide:Wh,useExisting:Mo},{provide:Mo,useClass:Mo,deps:[Ee]},{provide:o.dDg,useClass:o.dDg,deps:[o.R0b]},{provide:$n,useClass:$n,deps:[td,o.R0b]},{provide:Vc,useClass:La,deps:[]},[]];let Ip=(()=>{class t{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:o.AFp,useValue:e.appId},{provide:os,useExisting:o.AFp},Yl]}}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(t,12))},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:id,imports:[Ji,o.hGG]}),t})();"undefined"!=typeof window&&window;const Ci_firebase={apiKey:"AIzaSyA0170oJhaAshcTwIbj-W97RT3TZrVFOIo",authDomain:"ump-cafe-supply-chain.firebaseapp.com",projectId:"ump-cafe-supply-chain",storageBucket:"ump-cafe-supply-chain.appspot.com",messagingSenderId:"293844040560",appId:"1:293844040560:web:f2309fd986e7bf9757adb5",measurementId:"G-8ZM1TDQ23L"};var wr=Ae(57),$s=Ae(3637),Rr=Ae(7574),Ai=Ae(5917),Ka=Ae(6682),Ri=Ae(8002),Op=Ae(8819),Vs=Ae(4402),Ho=Ae(5345);function Os(t,i){return"function"==typeof i?e=>e.pipe(Os((s,a)=>(0,Vs.D)(t(s,a)).pipe((0,Ri.U)((l,h)=>i(s,l,a,h))))):e=>e.lift(new Tl(t))}class Tl{constructor(i){this.project=i}call(i,e){return e.subscribe(new sd(i,this.project))}}class sd extends Ho.Ds{constructor(i,e){super(i),this.project=e,this.index=0}_next(i){let e;const s=this.index++;try{e=this.project(i,s)}catch(a){return void this.destination.error(a)}this._innerSub(e)}_innerSub(i){const e=this.innerSubscription;e&&e.unsubscribe();const s=new Ho.IY(this),a=this.destination;a.add(s),this.innerSubscription=(0,Ho.ft)(i,s),this.innerSubscription!==s&&a.add(this.innerSubscription)}_complete(){const{innerSubscription:i}=this;(!i||i.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(i){this.destination.next(i)}}var Ao=Ae(7393);function el(t,i){let e=!1;return arguments.length>=2&&(e=!0),function(a){return a.lift(new lc(t,i,e))}}class lc{constructor(i,e,s=!1){this.accumulator=i,this.seed=e,this.hasSeed=s}call(i,e){return e.subscribe(new Rp(i,this.accumulator,this.seed,this.hasSeed))}}class Rp extends Ao.L{constructor(i,e,s,a){super(i),this.accumulator=e,this._seed=s,this.hasSeed=a,this.index=0}get seed(){return this._seed}set seed(i){this.hasSeed=!0,this._seed=i}_next(i){if(this.hasSeed)return this._tryNext(i);this.seed=i,this.destination.next(i)}_tryNext(i){const e=this.index++;let s;try{s=this.accumulator(this.seed,i,e)}catch(a){this.destination.error(a)}this.seed=s,this.destination.next(s)}}function cu(t,i){return e=>e.lift(new gh(t,i))}class gh{constructor(i,e){this.compare=i,this.keySelector=e}call(i,e){return e.subscribe(new od(i,this.compare,this.keySelector))}}class od extends Ao.L{constructor(i,e,s){super(i),this.keySelector=s,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(i,e){return i===e}_next(i){let e;try{const{keySelector:a}=this;e=a?a(i):i}catch(a){return this.destination.error(a)}let s=!1;if(this.hasKey)try{const{compare:a}=this;s=a(this.key,e)}catch(a){return this.destination.error(a)}else this.hasKey=!0;s||(this.key=e,this.destination.next(i))}}class uu extends Ao.L{notifyNext(i,e,s,a,l){this.destination.next(e)}notifyError(i,e){this.destination.error(i)}notifyComplete(i){this.destination.complete()}}class du extends Ao.L{constructor(i,e,s){super(),this.parent=i,this.outerValue=e,this.outerIndex=s,this.index=0}_next(i){this.parent.notifyNext(this.outerValue,i,this.outerIndex,this.index++,this)}_error(i){this.parent.notifyError(i,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Dc=Ae(7444);function Au(t,i,e,s,a=new du(t,e,s)){if(!a.closed)return i instanceof Rr.y?i.subscribe(a):(0,Dc.s)(i)(a)}class Ac{constructor(i,e){this.observables=i,this.project=e}call(i,e){return e.subscribe(new _h(i,this.observables,this.project))}}class _h extends uu{constructor(i,e,s){super(i),this.observables=e,this.project=s,this.toRespond=[];const a=e.length;this.values=new Array(a);for(let l=0;l<a;l++)this.toRespond.push(l);for(let l=0;l<a;l++)this.add(Au(this,e[l],void 0,l))}notifyNext(i,e,s){this.values[s]=e;const a=this.toRespond;if(a.length>0){const l=a.indexOf(s);-1!==l&&a.splice(l,1)}}notifyComplete(){}_next(i){if(0===this.toRespond.length){const e=[i,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(i){let e;try{e=this.project.apply(this,i)}catch(s){return void this.destination.error(s)}this.destination.next(e)}}class as{constructor(i){this.predicate=i}call(i,e){return e.subscribe(new Fp(i,this.predicate))}}class Fp extends Ao.L{constructor(i,e){super(i),this.predicate=e,this.skipping=!0,this.index=0}_next(i){const e=this.destination;this.skipping&&this.tryCallPredicate(i),this.skipping||e.next(i)}tryCallPredicate(i){try{const e=this.predicate(i,this.index++);this.skipping=Boolean(e)}catch(e){this.destination.error(e)}}}Ae(9192);var li=Ae(9765),Jo=Ae(9746),ad=Ae(7771),Ua=Ae(5319),Ff=Ae(7971),yh=Ae(8858);class Nf extends li.xQ{constructor(i=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,s){super(),this.scheduler=s,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=i<1?1:i,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(i){if(!this.isStopped){const e=this._events;e.push(i),e.length>this._bufferSize&&e.shift()}super.next(i)}nextTimeWindow(i){this.isStopped||(this._events.push(new nl(this._getNow(),i)),this._trimBufferThenGetEvents()),super.next(i)}_subscribe(i){const e=this._infiniteTimeWindow,s=e?this._events:this._trimBufferThenGetEvents(),a=this.scheduler,l=s.length;let h;if(this.closed)throw new Ff.N;if(this.isStopped||this.hasError?h=Ua.w.EMPTY:(this.observers.push(i),h=new yh.W(this,i)),a&&i.add(i=new Jo.ht(i,a)),e)for(let v=0;v<l&&!i.closed;v++)i.next(s[v]);else for(let v=0;v<l&&!i.closed;v++)i.next(s[v].value);return this.hasError?i.error(this.thrownError):this.isStopped&&i.complete(),h}_getNow(){return(this.scheduler||ad.c).now()}_trimBufferThenGetEvents(){const i=this._getNow(),e=this._bufferSize,s=this._windowTime,a=this._events,l=a.length;let h=0;for(;h<l&&!(i-a[h].time<s);)h++;return l>e&&(h=Math.max(h,l-e)),h>0&&a.splice(0,h),a}}class nl{constructor(i,e){this.time=i,this.value=e}}function Jh(t,i,e){let s;return s=t&&"object"==typeof t?t:{bufferSize:t,windowTime:i,refCount:!1,scheduler:e},a=>a.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:i=Number.POSITIVE_INFINITY,refCount:e,scheduler:s}){let a,h,l=0,v=!1,C=!1;return function(G){let te;l++,!a||v?(v=!1,a=new Nf(t,i,s),te=a.subscribe(this),h=G.subscribe({next(pe){a.next(pe)},error(pe){v=!0,a.error(pe)},complete(){C=!0,h=void 0,a.complete()}}),C&&(h=void 0)):te=a.subscribe(this),this.add(()=>{l--,te.unsubscribe(),te=void 0,h&&!C&&e&&0===l&&(h.unsubscribe(),h=void 0,a=void 0)})}}(s))}const m=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();function T(t,i){return function(s){return s.lift(new N(t,i))}}class N{constructor(i,e){this.predicate=i,this.thisArg=e}call(i,e){return e.subscribe(new U(i,this.predicate,this.thisArg))}}class U extends Ao.L{constructor(i,e,s){super(i),this.predicate=e,this.thisArg=s,this.count=0}_next(i){let e;try{e=this.predicate.call(this.thisArg,i,this.count++)}catch(s){return void this.destination.error(s)}e&&this.destination.next(i)}}const ce=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();var ge=Ae(9193);function xe(t){return i=>0===t?(0,ge.c)():i.lift(new ve(t))}class ve{constructor(i){if(this.total=i,this.total<0)throw new ce}call(i,e){return e.subscribe(new He(i,this.total))}}class He extends Ao.L{constructor(i,e){super(i),this.total=e,this.count=0}_next(i){const e=this.total,s=++this.count;s<=e&&(this.destination.next(i),s===e&&(this.destination.complete(),this.unsubscribe()))}}function qe(t=null){return i=>i.lift(new Qe(t))}class Qe{constructor(i){this.defaultValue=i}call(i,e){return e.subscribe(new Ke(i,this.defaultValue))}}class Ke extends Ao.L{constructor(i,e){super(i),this.defaultValue=e,this.isEmpty=!0}_next(i){this.isEmpty=!1,this.destination.next(i)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function pt(t=lt){return i=>i.lift(new xt(t))}class xt{constructor(i){this.errorFactory=i}call(i,e){return e.subscribe(new Nt(i,this.errorFactory))}}class Nt extends Ao.L{constructor(i,e){super(i),this.errorFactory=e,this.hasValue=!1}_next(i){this.hasValue=!0,this.destination.next(i)}_complete(){if(this.hasValue)return this.destination.complete();{let i;try{i=this.errorFactory()}catch(e){i=e}this.destination.error(i)}}}function lt(){return new m}var wt=Ae(4487);function Tt(t,i){const e=arguments.length>=2;return s=>s.pipe(t?T((a,l)=>t(a,l,s)):wt.y,xe(1),e?qe(i):pt(()=>new m))}function Vt(t,i){return i?Os(()=>t,i):Os(()=>t)}var St=Ae(9673);const kn=new o.OlP("angularfire2.auth.use-emulator"),Dn=new o.OlP("angularfire2.auth.settings"),Nn=new o.OlP("angularfire2.auth.tenant-id"),It=new o.OlP("angularfire2.auth.langugage-code"),ri=new o.OlP("angularfire2.auth.use-device-language"),Bn=new o.OlP("angularfire.auth.persistence");let ui=(()=>{class t{constructor(e,s,a,l,h,v,C,O,G,te){const pe=new wr.HU(l),we=(0,wr.ss)(pe),Le=new li.xQ,je=(0,Ai.of)(void 0).pipe((0,Jo.QV)(pe.outsideAngular),Os(()=>l.runOutsideAngular(()=>Ae.e(336).then(Ae.bind(Ae,1336)))),(0,Ri.U)(()=>(0,wr.on)(e,l,s)),(0,Ri.U)(tt=>l.runOutsideAngular(()=>{const yt=h,Zt=v;return(0,wr.sI)(`${tt.name}.auth`,"AngularFireAuth",tt,()=>{const tn=l.runOutsideAngular(()=>tt.auth());if(yt&&tn.useEmulator(`http://${yt.join(":")}`),C&&(tn.tenantId=C),tn.languageCode=O,G&&tn.useDeviceLanguage(),Zt)for(const[gn,pn]of Object.entries(Zt))tn.settings[gn]=pn;return te&&tn.setPersistence(te),tn},[yt,C,O,G,Zt,te])})),Jh({bufferSize:1,refCount:!1}));if(Pd(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Ai.of)(null);else{je.pipe(Tt()).subscribe();const yt=je.pipe(Os(pn=>pn.getRedirectResult().then(qn=>qn,()=>null)),we,Jh({bufferSize:1,refCount:!1})),Zt=pn=>new Rr.y(qn=>({unsubscribe:l.runOutsideAngular(()=>pn(qn))})),tn=je.pipe(Os(pn=>Zt(pn.onAuthStateChanged.bind(pn)))),gn=je.pipe(Os(pn=>Zt(pn.onIdTokenChanged.bind(pn))));this.authState=yt.pipe(Vt(tn),(0,St.R)(pe.outsideAngular),(0,Jo.QV)(pe.insideAngular)),this.user=yt.pipe(Vt(gn),(0,St.R)(pe.outsideAngular),(0,Jo.QV)(pe.insideAngular)),this.idToken=this.user.pipe(Os(pn=>pn?(0,Vs.D)(pn.getIdToken()):(0,Ai.of)(null))),this.idTokenResult=this.user.pipe(Os(pn=>pn?(0,Vs.D)(pn.getIdTokenResult()):(0,Ai.of)(null))),this.credential=(0,Ka.T)(yt,Le,this.authState.pipe(T(pn=>!pn))).pipe((0,Ri.U)(pn=>(null==pn?void 0:pn.user)?pn:null),(0,St.R)(pe.outsideAngular),(0,Jo.QV)(pe.insideAngular))}return(0,wr.pX)(this,je,l,{spy:{apply:(tt,yt,Zt)=>{(tt.startsWith("signIn")||tt.startsWith("createUser"))&&Zt.then(tn=>Le.next(tn))}}})}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(wr.Dh),o.LFG(wr.xv,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(kn,8),o.LFG(Dn,8),o.LFG(Nn,8),o.LFG(It,8),o.LFG(ri,8),o.LFG(Bn,8))},t.\u0275prov=o.Yz7({factory:function(){return new t(o.LFG(wr.Dh),o.LFG(wr.xv,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(kn,8),o.LFG(Dn,8),o.LFG(Nn,8),o.LFG(It,8),o.LFG(ri,8),o.LFG(Bn,8))},token:t,providedIn:"any"}),t})();var Xn=Ae(2329);function Jr(t){return null==t}function hs(t){return"function"==typeof t.set}function ys(t,i){return hs(i)?i:t.ref(i)}function Cr(t,i){if(function(t){return"string"==typeof t}(t))return i.stringCase();if(hs(t))return i.firebaseCase();if(function(t){return"function"==typeof t.exportVal}(t))return i.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof t)}function ks(t,i,e="on",s=$s.z){return new Rr.y(a=>{let l=null;return l=t[e](i,(h,v)=>{s.schedule(()=>{a.next({snapshot:h,prevKey:v})}),"once"===e&&s.schedule(()=>a.complete())},h=>{s.schedule(()=>a.error(h))}),"on"===e?{unsubscribe(){null!=l&&t.off(i,l)}}:{unsubscribe(){}}}).pipe((0,Ri.U)(a=>{const{snapshot:l,prevKey:h}=a;let v=null;return l.exists()&&(v=l.key),{type:i,payload:l,prevKey:h,key:v}}),(0,Op.B)())}function jl(t,i){const e=t.length;for(let s=0;s<e;s++)if(t[s].payload.key===i)return s;return-1}function gs(t,i){const{payload:e,prevKey:s,key:a}=i,l=jl(t,a),h=function(t,i){if(Jr(i))return 0;{const e=jl(t,i);return-1===e?t.length:e+1}}(t,s);switch(i.type){case"value":if(i.payload&&i.payload.exists()){let v=null;i.payload.forEach(C=>{const O={payload:C,type:"value",prevKey:v,key:C.key};return v=C.key,t=[...t,O],!1})}return t;case"child_added":if(l>-1){const v=t[l-1];(v&&v.key||null)!==s&&(t=t.filter(C=>C.payload.key!==e.key)).splice(h,0,i)}else{if(null==s)return[i,...t];(t=t.slice()).splice(h,0,i)}return t;case"child_removed":return t.filter(v=>v.payload.key!==e.key);case"child_changed":return t.map(v=>v.payload.key===a?i:v);case"child_moved":if(l>-1){const v=t.splice(l,1)[0];return(t=t.slice()).splice(h,0,v),t}return t;default:return t}}function Ko(t){return(Jr(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function Sl(t,i,e){return function(t,i,e){return ks(t,"value","once",e).pipe(Os(s=>{const a=[(0,Ai.of)(s)];return i.forEach(l=>a.push(ks(t,l,"on",e))),(0,Ka.T)(...a).pipe(el(gs,[]))}),cu())}(t,i=Ko(i),e)}function Hi(t,i,e){const s=(i=Ko(i)).map(a=>ks(t,a,"on",e));return(0,Ka.T)(...s)}function fo(t,i){return function(s,a){return Cr(s,{stringCase:()=>t.child(s)[i](a),firebaseCase:()=>s[i](a),snapshotCase:()=>s.ref[i](a)})}}function Zr(t){return function(e){return e?Cr(e,{stringCase:()=>t.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):t.remove()}}function dl(t,i){return function(){return ks(t,"value","on",i)}}const Vo=new o.OlP("angularfire2.realtimeDatabaseURL"),Za=new o.OlP("angularfire2.database.use-emulator");let ld=(()=>{class t{constructor(e,s,a,l,h,v,C){this.schedulers=new wr.HU(h),this.keepUnstableUntilFirst=(0,wr.ss)(this.schedulers);const O=v,G=(0,wr.on)(e,h,s);!Xn.Z.auth&&C&&(0,wr.yq)(),this.database=(0,wr.sI)(`${G.name}.database.${a}`,"AngularFireDatabase",G,()=>{const te=h.runOutsideAngular(()=>G.database(a||void 0));return O&&te.useEmulator(...O),te},[O])}list(e,s){const a=this.schedulers.ngZone.runOutsideAngular(()=>ys(this.database,e));let l=a;return s&&(l=s(a)),function(t,i){const e=i.schedulers.outsideAngular,s=i.schedulers.ngZone.run(()=>t.ref);return{query:t,update:fo(s,"update"),set:fo(s,"set"),push:a=>s.push(a),remove:Zr(s),snapshotChanges:a=>Sl(t,a,e).pipe(i.keepUnstableUntilFirst),stateChanges:a=>Hi(t,a,e).pipe(i.keepUnstableUntilFirst),auditTrail:a=>function(t,i,e){return function(t,i,e){return function(t,i){return ks(t,"value","on",i).pipe((0,Ri.U)(e=>{let s;return e.payload.forEach(a=>(s=a.key,!1)),{data:e,lastKeyToLoad:s}}))}(t,e).pipe(function(...t){return i=>{let e;return"function"==typeof t[t.length-1]&&(e=t.pop()),i.lift(new Ac(t,e))}}(i),(0,Ri.U)(([a,l])=>{const h=a.lastKeyToLoad,v=l.map(C=>C.key);return{actions:l,lastKeyToLoad:h,loadedKeys:v}}),function(t){return i=>i.lift(new as(t))}(a=>-1===a.loadedKeys.indexOf(a.lastKeyToLoad)),(0,Ri.U)(a=>a.actions))}(t,Hi(t,i).pipe(el((a,l)=>[...a,l],[])),e)}(t,a,e).pipe(i.keepUnstableUntilFirst),valueChanges:(a,l)=>Sl(t,a,e).pipe((0,Ri.U)(v=>v.map(C=>l&&l.idField?Object.assign(Object.assign({},C.payload.val()),{[l.idField]:C.key}):C.payload.val())),i.keepUnstableUntilFirst)}}(l,this)}object(e){return function(t,i){return{query:t,snapshotChanges:()=>dl(t,i.schedulers.outsideAngular)().pipe(i.keepUnstableUntilFirst),update:e=>t.ref.update(e),set:e=>t.ref.set(e),remove:()=>t.ref.remove(),valueChanges:()=>dl(t,i.schedulers.outsideAngular)().pipe(i.keepUnstableUntilFirst,(0,Ri.U)(s=>s.payload.exists()?s.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>ys(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(wr.Dh),o.LFG(wr.xv,8),o.LFG(Vo,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(Za,8),o.LFG(kn,8))},t.\u0275prov=o.Yz7({factory:function(){return new t(o.LFG(wr.Dh),o.LFG(wr.xv,8),o.LFG(Vo,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(Za,8),o.LFG(kn,8))},token:t,providedIn:"any"}),t})(),Oa=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[ld]}),t})();class To extends li.xQ{constructor(i){super(),this._value=i}get value(){return this.getValue()}_subscribe(i){const e=super._subscribe(i);return e&&!e.closed&&i.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Ff.N;return this._value}next(i){super.next(this._value=i)}}var hu=Ae(4869),Iu=Ae(9796),cc=Ae(6693);const hl={};function Wc(...t){let i,e;return(0,hu.K)(t[t.length-1])&&(e=t.pop()),"function"==typeof t[t.length-1]&&(i=t.pop()),1===t.length&&(0,Iu.k)(t[0])&&(t=t[0]),(0,cc.n)(t,e).lift(new Es(i))}class Es{constructor(i){this.resultSelector=i}call(i,e){return e.subscribe(new W(i,this.resultSelector))}}class W extends uu{constructor(i,e){super(i),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(i){this.values.push(hl),this.observables.push(i)}_complete(){const i=this.observables,e=i.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let s=0;s<e;s++)this.add(Au(this,i[s],void 0,s))}}notifyComplete(i){0==(this.active-=1)&&this.destination.complete()}notifyNext(i,e,s){const a=this.values,h=this.toRespond?a[s]===hl?--this.toRespond:this.toRespond:0;a[s]=e,0===h&&(this.resultSelector?this._tryResultSelector(a):this.destination.next(a.slice()))}_tryResultSelector(i){let e;try{e=this.resultSelector.apply(this,i)}catch(s){return void this.destination.error(s)}this.destination.next(e)}}var le=Ae(3282);function Ue(...t){return(0,le.J)(1)((0,Ai.of)(...t))}function nt(t){return new Rr.y(i=>{let e;try{e=t()}catch(a){return void i.error(a)}return(e?(0,Vs.D)(e):(0,ge.c)()).subscribe(i)})}var $t=Ae(2441);function Tn(...t){const i=t[t.length-1];return(0,hu.K)(i)?(t.pop(),e=>Ue(t,e,i)):e=>Ue(t,e)}function Gi(t){return function(e){const s=new ls(t),a=e.lift(s);return s.caught=a}}class ls{constructor(i){this.selector=i}call(i,e){return e.subscribe(new mo(i,this.selector,this.caught))}}class mo extends Ho.Ds{constructor(i,e,s){super(i),this.selector=e,this.caught=s}error(i){if(!this.isStopped){let e;try{e=this.selector(i,this.caught)}catch(l){return void super.error(l)}this._unsubscribeAndRecycle();const s=new Ho.IY(this);this.add(s);const a=(0,Ho.ft)(e,s);a!==s&&this.add(a)}}}var js=Ae(9773);function ea(t,i){return(0,js.zg)(t,i,1)}function Zs(t){return function(e){return 0===t?(0,ge.c)():e.lift(new zf(t))}}class zf{constructor(i){if(this.total=i,this.total<0)throw new ce}call(i,e){return e.subscribe(new t_(i,this.total))}}class t_ extends Ao.L{constructor(i,e){super(i),this.total=e,this.ring=new Array,this.count=0}_next(i){const e=this.ring,s=this.total,a=this.count++;e.length<s?e.push(i):e[a%s]=i}_complete(){const i=this.destination;let e=this.count;if(e>0){const s=this.count>=this.total?this.total:this.count,a=this.ring;for(let l=0;l<s;l++){const h=e++%s;i.next(a[h])}}i.complete()}}var Ga=Ae(3342),n_=Ae(1307);function zp(t){return i=>i.lift(new Bp(t))}class Bp{constructor(i){this.callback=i}call(i,e){return e.subscribe(new Lu(i,this.callback))}}class Lu extends Ao.L{constructor(i,e){super(i),this.add(new Ua.w(e))}}class xa{constructor(i,e){this.id=i,this.url=e}}class qc extends xa{constructor(i,e,s="imperative",a=null){super(i,e),this.navigationTrigger=s,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Mr extends xa{constructor(i,e,s){super(i,e),this.urlAfterRedirects=s}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class vh extends xa{constructor(i,e,s){super(i,e),this.reason=s}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Kh extends xa{constructor(i,e,s){super(i,e),this.error=s}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Yp extends xa{constructor(i,e,s,a){super(i,e),this.urlAfterRedirects=s,this.state=a}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bh extends xa{constructor(i,e,s,a){super(i,e),this.urlAfterRedirects=s,this.state=a}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hp extends xa{constructor(i,e,s,a,l){super(i,e),this.urlAfterRedirects=s,this.state=a,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class dy extends xa{constructor(i,e,s,a){super(i,e),this.urlAfterRedirects=s,this.state=a}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pu extends xa{constructor(i,e,s,a){super(i,e),this.urlAfterRedirects=s,this.state=a}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sm{constructor(i){this.route=i}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ic{constructor(i){this.route=i}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class i_{constructor(i){this.snapshot=i}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hy{constructor(i){this.snapshot=i}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class El{constructor(i){this.snapshot=i}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fr{constructor(i){this.snapshot=i}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cd{constructor(i,e,s){this.routerEvent=i,this.position=e,this.anchor=s}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const _s="primary";class Vp{constructor(i){this.params=i||{}}has(i){return Object.prototype.hasOwnProperty.call(this.params,i)}get(i){if(this.has(i)){const e=this.params[i];return Array.isArray(e)?e[0]:e}return null}getAll(i){if(this.has(i)){const e=this.params[i];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function pu(t){return new Vp(t)}const Yd="ngNavigationCancelingError";function Zl(t){const i=Error("NavigationCancelingError: "+t);return i[Yd]=!0,i}function fu(t,i,e){const s=e.path.split("/");if(s.length>t.length||"full"===e.pathMatch&&(i.hasChildren()||s.length<t.length))return null;const a={};for(let l=0;l<s.length;l++){const h=s[l],v=t[l];if(h.startsWith(":"))a[h.substring(1)]=v;else if(h!==v.path)return null}return{consumed:t.slice(0,s.length),posParams:a}}function Gl(t,i){const e=t?Object.keys(t):void 0,s=i?Object.keys(i):void 0;if(!e||!s||e.length!=s.length)return!1;let a;for(let l=0;l<e.length;l++)if(a=e[l],!xh(t[a],i[a]))return!1;return!0}function xh(t,i){if(Array.isArray(t)&&Array.isArray(i)){if(t.length!==i.length)return!1;const e=[...t].sort(),s=[...i].sort();return e.every((a,l)=>s[l]===a)}return t===i}function wh(t){return Array.prototype.concat.apply([],t)}function km(t){return t.length>0?t[t.length-1]:null}function pl(t,i){for(const e in t)t.hasOwnProperty(e)&&i(t[e],e)}function fl(t){return(0,o.CqO)(t)?t:(0,o.QGY)(t)?(0,Vs.D)(Promise.resolve(t)):(0,Ai.of)(t)}const Em={exact:function sg(t,i,e){if(!Ds(t.segments,i.segments)||!Hf(t.segments,i.segments,e)||t.numberOfChildren!==i.numberOfChildren)return!1;for(const s in i.children)if(!t.children[s]||!sg(t.children[s],i.children[s],e))return!1;return!0},subset:Lc},Yf={exact:function(t,i){return Gl(t,i)},subset:function(t,i){return Object.keys(i).length<=Object.keys(t).length&&Object.keys(i).every(e=>xh(t[e],i[e]))},ignored:()=>!0};function Dm(t,i,e){return Em[e.paths](t.root,i.root,e.matrixParams)&&Yf[e.queryParams](t.queryParams,i.queryParams)&&!("exact"===e.fragment&&t.fragment!==i.fragment)}function Lc(t,i,e){return da(t,i,i.segments,e)}function da(t,i,e,s){if(t.segments.length>e.length){const a=t.segments.slice(0,e.length);return!(!Ds(a,e)||i.hasChildren()||!Hf(a,e,s))}if(t.segments.length===e.length){if(!Ds(t.segments,e)||!Hf(t.segments,e,s))return!1;for(const a in i.children)if(!t.children[a]||!Lc(t.children[a],i.children[a],s))return!1;return!0}{const a=e.slice(0,t.segments.length),l=e.slice(t.segments.length);return!!(Ds(t.segments,a)&&Hf(t.segments,a,s)&&t.children[_s])&&da(t.children[_s],i,l,s)}}function Hf(t,i,e){return i.every((s,a)=>Yf[e](t[a].parameters,s.parameters))}class Ra{constructor(i,e,s){this.root=i,this.queryParams=e,this.fragment=s}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=pu(this.queryParams)),this._queryParamMap}toString(){return Ou.serialize(this)}}class es{constructor(i,e){this.segments=i,this.children=e,this.parent=null,pl(e,(s,a)=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Im(this)}}class Dl{constructor(i,e){this.path=i,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=pu(this.parameters)),this._parameterMap}toString(){return Wl(this)}}function Ds(t,i){return t.length===i.length&&t.every((e,s)=>e.path===i[s].path)}class Vf{}class Vd{parse(i){const e=new Zf(i);return new Ra(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(i){var t;return`${`/${cf(i.root,!0)}`}${function(t){const i=Object.keys(t).map(e=>{const s=t[e];return Array.isArray(s)?s.map(a=>`${uf(e)}=${uf(a)}`).join("&"):`${uf(e)}=${uf(s)}`}).filter(e=>!!e);return i.length?`?${i.join("&")}`:""}(i.queryParams)}${"string"==typeof i.fragment?`#${t=i.fragment,encodeURI(t)}`:""}`}}const Ou=new Vd;function Im(t){return t.segments.map(i=>Wl(i)).join("/")}function cf(t,i){if(!t.hasChildren())return Im(t);if(i){const e=t.children[_s]?cf(t.children[_s],!1):"",s=[];return pl(t.children,(a,l)=>{l!==_s&&s.push(`${l}:${cf(a,!1)}`)}),s.length>0?`${e}(${s.join("//")})`:e}{const e=function(t,i){let e=[];return pl(t.children,(s,a)=>{a===_s&&(e=e.concat(i(s,a)))}),pl(t.children,(s,a)=>{a!==_s&&(e=e.concat(i(s,a)))}),e}(t,(s,a)=>a===_s?[cf(t.children[_s],!1)]:[`${a}:${cf(s,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[_s]?`${Im(t)}/${e[0]}`:`${Im(t)}/(${e.join("//")})`}}function ep(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function uf(t){return ep(t).replace(/%3B/gi,";")}function Lm(t){return ep(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function tp(t){return decodeURIComponent(t)}function ud(t){return tp(t.replace(/\+/g,"%20"))}function Wl(t){return`${Lm(t.path)}${function(t){return Object.keys(t).map(i=>`;${Lm(i)}=${Lm(t[i])}`).join("")}(t.parameters)}`}const Pm=/^[^\/()?;=#]+/;function Wa(t){const i=t.match(Pm);return i?i[0]:""}const Uf=/^[^=?&#]+/,dd=/^[^?&#]+/;class Zf{constructor(i){this.url=i,this.remaining=i}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new es([],{}):new es([],this.parseChildren())}parseQueryParams(){const i={};if(this.consumeOptional("?"))do{this.parseQueryParam(i)}while(this.consumeOptional("&"));return i}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const i=[];for(this.peekStartsWith("(")||i.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),i.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(i.length>0||Object.keys(e).length>0)&&(s[_s]=new es(i,e)),s}parseSegment(){const i=Wa(this.remaining);if(""===i&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(i),new Dl(tp(i),this.parseMatrixParams())}parseMatrixParams(){const i={};for(;this.consumeOptional(";");)this.parseParam(i);return i}parseParam(i){const e=Wa(this.remaining);if(!e)return;this.capture(e);let s="";if(this.consumeOptional("=")){const a=Wa(this.remaining);a&&(s=a,this.capture(s))}i[tp(e)]=tp(s)}parseQueryParam(i){const e=function(t){const i=t.match(Uf);return i?i[0]:""}(this.remaining);if(!e)return;this.capture(e);let s="";if(this.consumeOptional("=")){const h=function(t){const i=t.match(dd);return i?i[0]:""}(this.remaining);h&&(s=h,this.capture(s))}const a=ud(e),l=ud(s);if(i.hasOwnProperty(a)){let h=i[a];Array.isArray(h)||(h=[h],i[a]=h),h.push(l)}else i[a]=l}parseParens(i){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const s=Wa(this.remaining),a=this.remaining[s.length];if("/"!==a&&")"!==a&&";"!==a)throw new Error(`Cannot parse url '${this.url}'`);let l;s.indexOf(":")>-1?(l=s.substr(0,s.indexOf(":")),this.capture(l),this.capture(":")):i&&(l=_s);const h=this.parseChildren();e[l]=1===Object.keys(h).length?h[_s]:new es([],h),this.consumeOptional("//")}return e}peekStartsWith(i){return this.remaining.startsWith(i)}consumeOptional(i){return!!this.peekStartsWith(i)&&(this.remaining=this.remaining.substring(i.length),!0)}capture(i){if(!this.consumeOptional(i))throw new Error(`Expected "${i}".`)}}class ip{constructor(i){this._root=i}get root(){return this._root.value}parent(i){const e=this.pathFromRoot(i);return e.length>1?e[e.length-2]:null}children(i){const e=uc(i,this._root);return e?e.children.map(s=>s.value):[]}firstChild(i){const e=uc(i,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(i){const e=s_(i,this._root);return e.length<2?[]:e[e.length-2].children.map(a=>a.value).filter(a=>a!==i)}pathFromRoot(i){return s_(i,this._root).map(e=>e.value)}}function uc(t,i){if(t===i.value)return i;for(const e of i.children){const s=uc(t,e);if(s)return s}return null}function s_(t,i){if(t===i.value)return[i];for(const e of i.children){const s=s_(t,e);if(s.length)return s.unshift(i),s}return[]}class Fu{constructor(i,e){this.value=i,this.children=e}toString(){return`TreeNode(${this.value})`}}function Nu(t){const i={};return t&&t.children.forEach(e=>i[e.value.outlet]=e),i}class og extends ip{constructor(i,e){super(i),this.snapshot=e,hd(this,i)}toString(){return this.snapshot.toString()}}function ag(t,i){const e=function(t,i){const h=new zu([],{},{},"",{},_s,i,null,t.root,-1,{});return new rp("",new Fu(h,[]))}(t,i),s=new To([new Dl("",{})]),a=new To({}),l=new To({}),h=new To({}),v=new To(""),C=new dc(s,a,h,v,l,_s,i,e.root);return C.snapshot=e.root,new og(new Fu(C,[]),e)}class dc{constructor(i,e,s,a,l,h,v,C){this.url=i,this.params=e,this.queryParams=s,this.fragment=a,this.data=l,this.outlet=h,this.component=v,this._futureSnapshot=C}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ri.U)(i=>pu(i)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ri.U)(i=>pu(i)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ud(t,i="emptyOnly"){const e=t.pathFromRoot;let s=0;if("always"!==i)for(s=e.length-1;s>=1;){const a=e[s],l=e[s-1];if(a.routeConfig&&""===a.routeConfig.path)s--;else{if(l.component)break;s--}}return function(t){return t.reduce((i,e)=>({params:Object.assign(Object.assign({},i.params),e.params),data:Object.assign(Object.assign({},i.data),e.data),resolve:Object.assign(Object.assign({},i.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(s))}class zu{constructor(i,e,s,a,l,h,v,C,O,G,te){this.url=i,this.params=e,this.queryParams=s,this.fragment=a,this.data=l,this.outlet=h,this.component=v,this.routeConfig=C,this._urlSegment=O,this._lastPathIndex=G,this._resolve=te}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=pu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=pu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(s=>s.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class rp extends ip{constructor(i,e){super(e),this.url=i,hd(this,e)}toString(){return my(this._root)}}function hd(t,i){i.value._routerState=t,i.children.forEach(e=>hd(t,e))}function my(t){const i=t.children.length>0?` { ${t.children.map(my).join(", ")} } `:"";return`${t.value}${i}`}function Om(t){if(t.snapshot){const i=t.snapshot,e=t._futureSnapshot;t.snapshot=e,Gl(i.queryParams,e.queryParams)||t.queryParams.next(e.queryParams),i.fragment!==e.fragment&&t.fragment.next(e.fragment),Gl(i.params,e.params)||t.params.next(e.params),function(t,i){if(t.length!==i.length)return!1;for(let e=0;e<t.length;++e)if(!Gl(t[e],i[e]))return!1;return!0}(i.url,e.url)||t.url.next(e.url),Gl(i.data,e.data)||t.data.next(e.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function sp(t,i){return Gl(t.params,i.params)&&function(t,i){return Ds(t,i)&&t.every((e,s)=>Gl(e.parameters,i[s].parameters))}(t.url,i.url)&&!(!t.parent!=!i.parent)&&(!t.parent||sp(t.parent,i.parent))}function lg(t,i,e){if(e&&t.shouldReuseRoute(i.value,e.value.snapshot)){const s=e.value;s._futureSnapshot=i.value;const a=function(t,i,e){return i.children.map(s=>{for(const a of e.children)if(t.shouldReuseRoute(s.value,a.value.snapshot))return lg(t,s,a);return lg(t,s)})}(t,i,e);return new Fu(s,a)}{if(t.shouldAttach(i.value)){const l=t.retrieve(i.value);if(null!==l){const h=l.route;return gy(i,h),h}}const s=function(t){return new dc(new To(t.url),new To(t.params),new To(t.queryParams),new To(t.fragment),new To(t.data),t.outlet,t.component,t)}(i.value),a=i.children.map(l=>lg(t,l));return new Fu(s,a)}}function gy(t,i){if(t.value.routeConfig!==i.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==i.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");i.value._futureSnapshot=t.value;for(let e=0;e<t.children.length;++e)gy(t.children[e],i.children[e])}function hc(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function So(t){return"object"==typeof t&&null!=t&&t.outlets}function Wf(t,i,e,s,a){let l={};return s&&pl(s,(h,v)=>{l[v]=Array.isArray(h)?h.map(C=>`${C}`):`${h}`}),new Ra(e.root===t?i:pd(e.root,t,i),l,a)}function pd(t,i,e){const s={};return pl(t.children,(a,l)=>{s[l]=a===i?e:pd(a,i,e)}),new es(t.segments,s)}class ml{constructor(i,e,s){if(this.isAbsolute=i,this.numberOfDoubleDots=e,this.commands=s,i&&s.length>0&&hc(s[0]))throw new Error("Root segment cannot have matrix parameters");const a=s.find(So);if(a&&a!==km(s))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class jp{constructor(i,e,s){this.segmentGroup=i,this.processChildren=e,this.index=s}}function Bu(t,i,e){if(t||(t=new es([],{})),0===t.segments.length&&t.hasChildren())return Oc(t,i,e);const s=function(t,i,e){let s=0,a=i;const l={match:!1,pathIndex:0,commandIndex:0};for(;a<t.segments.length;){if(s>=e.length)return l;const h=t.segments[a],v=e[s];if(So(v))break;const C=`${v}`,O=s<e.length-1?e[s+1]:null;if(a>0&&void 0===C)break;if(C&&O&&"object"==typeof O&&void 0===O.outlets){if(!Yu(C,O,h))return l;s+=2}else{if(!Yu(C,{},h))return l;s++}a++}return{match:!0,pathIndex:a,commandIndex:s}}(t,i,e),a=e.slice(s.commandIndex);if(s.match&&s.pathIndex<t.segments.length){const l=new es(t.segments.slice(0,s.pathIndex),{});return l.children[_s]=new es(t.segments.slice(s.pathIndex),t.children),Oc(l,0,a)}return s.match&&0===a.length?new es(t.segments,{}):s.match&&!t.hasChildren()?o_(t,i,e):s.match?Oc(t,0,a):o_(t,i,e)}function Oc(t,i,e){if(0===e.length)return new es(t.segments,{});{const s=function(t){return So(t[0])?t[0].outlets:{[_s]:t}}(e),a={};return pl(s,(l,h)=>{"string"==typeof l&&(l=[l]),null!==l&&(a[h]=Bu(t.children[h],i,l))}),pl(t.children,(l,h)=>{void 0===s[h]&&(a[h]=l)}),new es(t.segments,a)}}function o_(t,i,e){const s=t.segments.slice(0,i);let a=0;for(;a<e.length;){const l=e[a];if(So(l)){const C=$f(l.outlets);return new es(s,C)}if(0===a&&hc(e[0])){s.push(new Dl(t.segments[i].path,Pv(e[0]))),a++;continue}const h=So(l)?l.outlets[_s]:`${l}`,v=a<e.length-1?e[a+1]:null;h&&v&&hc(v)?(s.push(new Dl(h,Pv(v))),a+=2):(s.push(new Dl(h,{})),a++)}return new es(s,{})}function $f(t){const i={};return pl(t,(e,s)=>{"string"==typeof e&&(e=[e]),null!==e&&(i[s]=o_(new es([],{}),0,e))}),i}function Pv(t){const i={};return pl(t,(e,s)=>i[s]=`${e}`),i}function Yu(t,i,e){return t==e.path&&Gl(i,e.parameters)}class Th{constructor(i,e,s,a){this.routeReuseStrategy=i,this.futureState=e,this.currState=s,this.forwardEvent=a}activate(i){const e=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,s,i),Om(this.futureState.root),this.activateChildRoutes(e,s,i)}deactivateChildRoutes(i,e,s){const a=Nu(e);i.children.forEach(l=>{const h=l.value.outlet;this.deactivateRoutes(l,a[h],s),delete a[h]}),pl(a,(l,h)=>{this.deactivateRouteAndItsChildren(l,s)})}deactivateRoutes(i,e,s){const a=i.value,l=e?e.value:null;if(a===l)if(a.component){const h=s.getContext(a.outlet);h&&this.deactivateChildRoutes(i,e,h.children)}else this.deactivateChildRoutes(i,e,s);else l&&this.deactivateRouteAndItsChildren(e,s)}deactivateRouteAndItsChildren(i,e){this.routeReuseStrategy.shouldDetach(i.value.snapshot)?this.detachAndStoreRouteSubtree(i,e):this.deactivateRouteAndOutlet(i,e)}detachAndStoreRouteSubtree(i,e){const s=e.getContext(i.value.outlet);if(s&&s.outlet){const a=s.outlet.detach(),l=s.children.onOutletDeactivated();this.routeReuseStrategy.store(i.value.snapshot,{componentRef:a,route:i,contexts:l})}}deactivateRouteAndOutlet(i,e){const s=e.getContext(i.value.outlet),a=s&&i.value.component?s.children:e,l=Nu(i);for(const h of Object.keys(l))this.deactivateRouteAndItsChildren(l[h],a);s&&s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated(),s.attachRef=null,s.resolver=null,s.route=null)}activateChildRoutes(i,e,s){const a=Nu(e);i.children.forEach(l=>{this.activateRoutes(l,a[l.value.outlet],s),this.forwardEvent(new Fr(l.value.snapshot))}),i.children.length&&this.forwardEvent(new hy(i.value.snapshot))}activateRoutes(i,e,s){const a=i.value,l=e?e.value:null;if(Om(a),a===l)if(a.component){const h=s.getOrCreateContext(a.outlet);this.activateChildRoutes(i,e,h.children)}else this.activateChildRoutes(i,e,s);else if(a.component){const h=s.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const v=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),h.children.onOutletReAttached(v.contexts),h.attachRef=v.componentRef,h.route=v.route.value,h.outlet&&h.outlet.attach(v.componentRef,v.route.value),Fm(v.route)}else{const v=function(t){for(let i=t.parent;i;i=i.parent){const e=i.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(a.snapshot),C=v?v.module.componentFactoryResolver:null;h.attachRef=null,h.route=a,h.resolver=C,h.outlet&&h.outlet.activateWith(a,C),this.activateChildRoutes(i,null,h.children)}}else this.activateChildRoutes(i,null,s)}}function Fm(t){Om(t.value),t.children.forEach(Fm)}class Zd{constructor(i,e){this.routes=i,this.module=e}}function Hu(t){return"function"==typeof t}function Sh(t){return t instanceof Ra}const Vu=Symbol("INITIAL_VALUE");function hf(){return Os(t=>Wc(t.map(i=>i.pipe(xe(1),Tn(Vu)))).pipe(el((i,e)=>{let s=!1;return e.reduce((a,l,h)=>a!==Vu?a:(l===Vu&&(s=!0),s||!1!==l&&h!==e.length-1&&!Sh(l)?a:l),i)},Vu),T(i=>i!==Vu),(0,Ri.U)(i=>Sh(i)?i:!0===i),xe(1)))}let fg=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,s){1&e&&o._UZ(0,"router-outlet")},directives:function(){return[Eh]},encapsulation:2}),t})();function mg(t,i=""){for(let e=0;e<t.length;e++){const s=t[e];Ov(s,pf(i,s))}}function Ov(t,i){t.children&&mg(t.children,i)}function pf(t,i){return i?t||i.path?t&&!i.path?`${t}/`:!t&&i.path?i.path:`${t}/${i.path}`:"":t}function a_(t){const i=t.children&&t.children.map(a_),e=i?Object.assign(Object.assign({},t),{children:i}):Object.assign({},t);return!e.component&&(i||e.loadChildren)&&e.outlet&&e.outlet!==_s&&(e.component=fg),e}function md(t){return t.outlet||_s}function Jf(t,i){const e=t.filter(s=>md(s)===i);return e.push(...t.filter(s=>md(s)!==i)),e}const l_={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function ff(t,i,e){var s;if(""===i.path)return"full"===i.pathMatch&&(t.hasChildren()||e.length>0)?Object.assign({},l_):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const l=(i.matcher||fu)(e,t,i);if(!l)return Object.assign({},l_);const h={};pl(l.posParams,(C,O)=>{h[O]=C.path});const v=l.consumed.length>0?Object.assign(Object.assign({},h),l.consumed[l.consumed.length-1].parameters):h;return{matched:!0,consumedSegments:l.consumed,lastChild:l.consumed.length,parameters:v,positionalParamSegments:null!==(s=l.posParams)&&void 0!==s?s:{}}}function Kf(t,i,e,s,a="corrected"){if(e.length>0&&function(t,i,e){return e.some(s=>se(t,i,s)&&md(s)!==_s)}(t,e,s)){const h=new es(i,function(t,i,e,s){const a={};a[_s]=s,s._sourceSegment=t,s._segmentIndexShift=i.length;for(const l of e)if(""===l.path&&md(l)!==_s){const h=new es([],{});h._sourceSegment=t,h._segmentIndexShift=i.length,a[md(l)]=h}return a}(t,i,s,new es(e,t.children)));return h._sourceSegment=t,h._segmentIndexShift=i.length,{segmentGroup:h,slicedSegments:[]}}if(0===e.length&&function(t,i,e){return e.some(s=>se(t,i,s))}(t,e,s)){const h=new es(t.segments,function(t,i,e,s,a,l){const h={};for(const v of s)if(se(t,e,v)&&!a[md(v)]){const C=new es([],{});C._sourceSegment=t,C._segmentIndexShift="legacy"===l?t.segments.length:i.length,h[md(v)]=C}return Object.assign(Object.assign({},a),h)}(t,i,e,s,t.children,a));return h._sourceSegment=t,h._segmentIndexShift=i.length,{segmentGroup:h,slicedSegments:e}}const l=new es(t.segments,t.children);return l._sourceSegment=t,l._segmentIndexShift=i.length,{segmentGroup:l,slicedSegments:e}}function se(t,i,e){return(!(t.hasChildren()||i.length>0)||"full"!==e.pathMatch)&&""===e.path}function ye(t,i,e,s){return!!(md(t)===s||s!==_s&&se(i,e,t))&&("**"===t.path||ff(i,t,e).matched)}function Fe(t,i,e){return 0===i.length&&!t.children[e]}class it{constructor(i){this.segmentGroup=i||null}}class ut{constructor(i){this.urlTree=i}}function Et(t){return new Rr.y(i=>i.error(new it(t)))}function zt(t){return new Rr.y(i=>i.error(new ut(t)))}function Sn(t){return new Rr.y(i=>i.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Di{constructor(i,e,s,a,l){this.configLoader=e,this.urlSerializer=s,this.urlTree=a,this.config=l,this.allowRedirects=!0,this.ngModule=i.get(o.h0i)}apply(){const i=Kf(this.urlTree.root,[],[],this.config).segmentGroup,e=new es(i.segments,i.children);return this.expandSegmentGroup(this.ngModule,this.config,e,_s).pipe((0,Ri.U)(l=>this.createUrlTree(ir(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Gi(l=>{if(l instanceof ut)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof it?this.noMatchError(l):l}))}match(i){return this.expandSegmentGroup(this.ngModule,this.config,i.root,_s).pipe((0,Ri.U)(a=>this.createUrlTree(ir(a),i.queryParams,i.fragment))).pipe(Gi(a=>{throw a instanceof it?this.noMatchError(a):a}))}noMatchError(i){return new Error(`Cannot match any routes. URL Segment: '${i.segmentGroup}'`)}createUrlTree(i,e,s){const a=i.segments.length>0?new es([],{[_s]:i}):i;return new Ra(a,e,s)}expandSegmentGroup(i,e,s,a){return 0===s.segments.length&&s.hasChildren()?this.expandChildren(i,e,s).pipe((0,Ri.U)(l=>new es([],l))):this.expandSegment(i,s,e,s.segments,a,!0)}expandChildren(i,e,s){const a=[];for(const l of Object.keys(s.children))"primary"===l?a.unshift(l):a.push(l);return(0,Vs.D)(a).pipe(ea(l=>{const h=s.children[l],v=Jf(e,l);return this.expandSegmentGroup(i,v,h,l).pipe((0,Ri.U)(C=>({segment:C,outlet:l})))}),el((l,h)=>(l[h.outlet]=h.segment,l),{}),function(t,i){const e=arguments.length>=2;return s=>s.pipe(t?T((a,l)=>t(a,l,s)):wt.y,Zs(1),e?qe(i):pt(()=>new m))}())}expandSegment(i,e,s,a,l,h){return(0,Vs.D)(s).pipe(ea(v=>this.expandSegmentAgainstRoute(i,e,s,v,a,l,h).pipe(Gi(O=>{if(O instanceof it)return(0,Ai.of)(null);throw O}))),Tt(v=>!!v),Gi((v,C)=>{if(v instanceof m||"EmptyError"===v.name){if(Fe(e,a,l))return(0,Ai.of)(new es([],{}));throw new it(e)}throw v}))}expandSegmentAgainstRoute(i,e,s,a,l,h,v){return ye(a,e,l,h)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(i,e,a,l,h):v&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(i,e,s,a,l,h):Et(e):Et(e)}expandSegmentAgainstRouteUsingRedirect(i,e,s,a,l,h){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(i,s,a,h):this.expandRegularSegmentAgainstRouteUsingRedirect(i,e,s,a,l,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(i,e,s,a){const l=this.applyRedirectCommands([],s.redirectTo,{});return s.redirectTo.startsWith("/")?zt(l):this.lineralizeSegments(s,l).pipe((0,js.zg)(h=>{const v=new es(h,{});return this.expandSegment(i,v,e,h,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(i,e,s,a,l,h){const{matched:v,consumedSegments:C,lastChild:O,positionalParamSegments:G}=ff(e,a,l);if(!v)return Et(e);const te=this.applyRedirectCommands(C,a.redirectTo,G);return a.redirectTo.startsWith("/")?zt(te):this.lineralizeSegments(a,te).pipe((0,js.zg)(pe=>this.expandSegment(i,e,s,pe.concat(l.slice(O)),h,!1)))}matchSegmentAgainstRoute(i,e,s,a,l){if("**"===s.path)return s.loadChildren?(s._loadedConfig?(0,Ai.of)(s._loadedConfig):this.configLoader.load(i.injector,s)).pipe((0,Ri.U)(pe=>(s._loadedConfig=pe,new es(a,{})))):(0,Ai.of)(new es(a,{}));const{matched:h,consumedSegments:v,lastChild:C}=ff(e,s,a);if(!h)return Et(e);const O=a.slice(C);return this.getChildConfig(i,s,a).pipe((0,js.zg)(te=>{const pe=te.module,we=te.routes,{segmentGroup:Le,slicedSegments:je}=Kf(e,v,O,we),tt=new es(Le.segments,Le.children);if(0===je.length&&tt.hasChildren())return this.expandChildren(pe,we,tt).pipe((0,Ri.U)(gn=>new es(v,gn)));if(0===we.length&&0===je.length)return(0,Ai.of)(new es(v,{}));const yt=md(s)===l;return this.expandSegment(pe,tt,we,je,yt?_s:l,!0).pipe((0,Ri.U)(tn=>new es(v.concat(tn.segments),tn.children)))}))}getChildConfig(i,e,s){return e.children?(0,Ai.of)(new Zd(e.children,i)):e.loadChildren?void 0!==e._loadedConfig?(0,Ai.of)(e._loadedConfig):this.runCanLoadGuards(i.injector,e,s).pipe((0,js.zg)(a=>{return a?this.configLoader.load(i.injector,e).pipe((0,Ri.U)(l=>(e._loadedConfig=l,l))):(t=e,new Rr.y(i=>i.error(Zl(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`))));var t})):(0,Ai.of)(new Zd([],i))}runCanLoadGuards(i,e,s){const a=e.canLoad;if(!a||0===a.length)return(0,Ai.of)(!0);const l=a.map(h=>{const v=i.get(h);let C;if((t=v)&&Hu(t.canLoad))C=v.canLoad(e,s);else{if(!Hu(v))throw new Error("Invalid CanLoad guard");C=v(e,s)}var t;return fl(C)});return(0,Ai.of)(l).pipe(hf(),(0,Ga.b)(h=>{if(!Sh(h))return;const v=Zl(`Redirecting to "${this.urlSerializer.serialize(h)}"`);throw v.url=h,v}),(0,Ri.U)(h=>!0===h))}lineralizeSegments(i,e){let s=[],a=e.root;for(;;){if(s=s.concat(a.segments),0===a.numberOfChildren)return(0,Ai.of)(s);if(a.numberOfChildren>1||!a.children[_s])return Sn(i.redirectTo);a=a.children[_s]}}applyRedirectCommands(i,e,s){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),i,s)}applyRedirectCreatreUrlTree(i,e,s,a){const l=this.createSegmentGroup(i,e.root,s,a);return new Ra(l,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(i,e){const s={};return pl(i,(a,l)=>{if("string"==typeof a&&a.startsWith(":")){const v=a.substring(1);s[l]=e[v]}else s[l]=a}),s}createSegmentGroup(i,e,s,a){const l=this.createSegments(i,e.segments,s,a);let h={};return pl(e.children,(v,C)=>{h[C]=this.createSegmentGroup(i,v,s,a)}),new es(l,h)}createSegments(i,e,s,a){return e.map(l=>l.path.startsWith(":")?this.findPosParam(i,l,a):this.findOrReturn(l,s))}findPosParam(i,e,s){const a=s[e.path.substring(1)];if(!a)throw new Error(`Cannot redirect to '${i}'. Cannot find '${e.path}'.`);return a}findOrReturn(i,e){let s=0;for(const a of e){if(a.path===i.path)return e.splice(s),a;s++}return i}}function ir(t){const i={};for(const s of Object.keys(t.children)){const l=ir(t.children[s]);(l.segments.length>0||l.hasChildren())&&(i[s]=l)}return function(t){if(1===t.numberOfChildren&&t.children[_s]){const i=t.children[_s];return new es(t.segments.concat(i.segments),i.children)}return t}(new es(t.segments,i))}class Fa{constructor(i){this.path=i,this.route=this.path[this.path.length-1]}}class Qc{constructor(i,e){this.component=i,this.route=e}}function mf(t,i,e){const s=t._root;return gf(s,i?i._root:null,e,[s.value])}function ta(t,i,e){const s=function(t){if(!t)return null;for(let i=t.parent;i;i=i.parent){const e=i.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(i);return(s?s.module.injector:e).get(t)}function gf(t,i,e,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const l=Nu(i);return t.children.forEach(h=>{(function(t,i,e,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const l=t.value,h=i?i.value:null,v=e?e.getContext(t.value.outlet):null;if(h&&l.routeConfig===h.routeConfig){const C=function(t,i,e){if("function"==typeof e)return e(t,i);switch(e){case"pathParamsChange":return!Ds(t.url,i.url);case"pathParamsOrQueryParamsChange":return!Ds(t.url,i.url)||!Gl(t.queryParams,i.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!sp(t,i)||!Gl(t.queryParams,i.queryParams);case"paramsChange":default:return!sp(t,i)}}(h,l,l.routeConfig.runGuardsAndResolvers);C?a.canActivateChecks.push(new Fa(s)):(l.data=h.data,l._resolvedData=h._resolvedData),gf(t,i,l.component?v?v.children:null:e,s,a),C&&v&&v.outlet&&v.outlet.isActivated&&a.canDeactivateChecks.push(new Qc(v.outlet.component,h))}else h&&u_(i,v,a),a.canActivateChecks.push(new Fa(s)),gf(t,null,l.component?v?v.children:null:e,s,a)})(h,l[h.value.outlet],e,s.concat([h.value]),a),delete l[h.value.outlet]}),pl(l,(h,v)=>u_(h,e.getContext(v),a)),a}function u_(t,i,e){const s=Nu(t),a=t.value;pl(s,(l,h)=>{u_(l,a.component?i?i.children.getContext(h):null:i,e)}),e.canDeactivateChecks.push(new Qc(a.component&&i&&i.outlet&&i.outlet.isActivated?i.outlet.component:null,a))}class Fv{}function Gd(t){return new Rr.y(i=>i.error(t))}class Zp{constructor(i,e,s,a,l,h){this.rootComponentType=i,this.config=e,this.urlTree=s,this.url=a,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=h}recognize(){const i=Kf(this.urlTree.root,[],[],this.config.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,i,_s);if(null===e)return null;const s=new zu([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},_s,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new Fu(s,e),l=new rp(this.url,a);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(i){const e=i.value,s=Ud(e,this.paramsInheritanceStrategy);e.params=Object.freeze(s.params),e.data=Object.freeze(s.data),i.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(i,e,s){return 0===e.segments.length&&e.hasChildren()?this.processChildren(i,e):this.processSegment(i,e,e.segments,s)}processChildren(i,e){const s=[];for(const l of Object.keys(e.children)){const h=e.children[l],v=Jf(i,l),C=this.processSegmentGroup(v,h,l);if(null===C)return null;s.push(...C)}const a=Hb(s);return a.sort((i,e)=>i.value.outlet===_s?-1:e.value.outlet===_s?1:i.value.outlet.localeCompare(e.value.outlet)),a}processSegment(i,e,s,a){for(const l of i){const h=this.processSegmentAgainstRoute(l,e,s,a);if(null!==h)return h}return Fe(e,s,a)?[]:null}processSegmentAgainstRoute(i,e,s,a){if(i.redirectTo||!ye(i,e,s,a))return null;let l,h=[],v=[];if("**"===i.path){const we=s.length>0?km(s).parameters:{};l=new zu(s,we,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Vb(i),md(i),i.component,i,yy(e),Nv(e)+s.length,ns(i))}else{const we=ff(e,i,s);if(!we.matched)return null;h=we.consumedSegments,v=s.slice(we.lastChild),l=new zu(h,we.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Vb(i),md(i),i.component,i,yy(e),Nv(e)+h.length,ns(i))}const C=(t=i).children?t.children:t.loadChildren?t._loadedConfig.routes:[],{segmentGroup:O,slicedSegments:G}=Kf(e,h,v,C.filter(we=>void 0===we.redirectTo),this.relativeLinkResolution);var t;if(0===G.length&&O.hasChildren()){const we=this.processChildren(C,O);return null===we?null:[new Fu(l,we)]}if(0===C.length&&0===G.length)return[new Fu(l,[])];const te=md(i)===a,pe=this.processSegment(C,O,G,te?_s:a);return null===pe?null:[new Fu(l,pe)]}}function dx(t){const i=t.value.routeConfig;return i&&""===i.path&&void 0===i.redirectTo}function Hb(t){const i=[],e=new Set;for(const s of t){if(!dx(s)){i.push(s);continue}const a=i.find(l=>s.value.routeConfig===l.value.routeConfig);void 0!==a?(a.children.push(...s.children),e.add(a)):i.push(s)}for(const s of e){const a=Hb(s.children);i.push(new Fu(s.value,a))}return i.filter(s=>!e.has(s))}function yy(t){let i=t;for(;i._sourceSegment;)i=i._sourceSegment;return i}function Nv(t){let i=t,e=i._segmentIndexShift?i._segmentIndexShift:0;for(;i._sourceSegment;)i=i._sourceSegment,e+=i._segmentIndexShift?i._segmentIndexShift:0;return e-1}function Vb(t){return t.data||{}}function ns(t){return t.resolve||{}}function Bv(t){return Os(i=>{const e=t(i);return e?(0,Vs.D)(e).pipe((0,Ri.U)(()=>i)):(0,Ai.of)(i)})}class em extends class{shouldDetach(i){return!1}store(i,e){}shouldAttach(i){return!1}retrieve(i){return null}shouldReuseRoute(i,e){return i.routeConfig===e.routeConfig}}{}const bg=new o.OlP("ROUTES");class d_{constructor(i,e,s,a){this.loader=i,this.compiler=e,this.onLoadStartListener=s,this.onLoadEndListener=a}load(i,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const a=this.loadModuleFactory(e.loadChildren).pipe((0,Ri.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(e);const h=l.create(i);return new Zd(wh(h.injector.get(bg,void 0,o.XFs.Self|o.XFs.Optional)).map(a_),h)}),Gi(l=>{throw e._loader$=void 0,l}));return e._loader$=new $t.c(a,()=>new li.xQ).pipe((0,n_.x)()),e._loader$}loadModuleFactory(i){return"string"==typeof i?(0,Vs.D)(this.loader.load(i)):fl(i()).pipe((0,js.zg)(e=>e instanceof o.YKP?(0,Ai.of)(e):(0,Vs.D)(this.compiler.compileModuleAsync(e))))}}class kh{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new op,this.attachRef=null}}class op{constructor(){this.contexts=new Map}onChildOutletCreated(i,e){const s=this.getOrCreateContext(i);s.outlet=e,this.contexts.set(i,s)}onChildOutletDestroyed(i){const e=this.getContext(i);e&&(e.outlet=null)}onOutletDeactivated(){const i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let e=this.getContext(i);return e||(e=new kh,this.contexts.set(i,e)),e}getContext(i){return this.contexts.get(i)||null}}class ap{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,e){return i}}function Bm(t){throw t}function by(t,i,e){return i.parse("/")}function p_(t,i){return(0,Ai.of)(null)}const px={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},fx={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Eo=(()=>{class t{constructor(e,s,a,l,h,v,C,O){this.rootComponentType=e,this.urlSerializer=s,this.rootContexts=a,this.location=l,this.config=O,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new li.xQ,this.errorHandler=Bm,this.malformedUriErrorHandler=by,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:p_,afterPreactivation:p_},this.urlHandlingStrategy=new ap,this.routeReuseStrategy=new em,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=h.get(o.h0i),this.console=h.get(o.c2e);const pe=h.get(o.R0b);this.isNgZoneEnabled=pe instanceof o.R0b&&o.R0b.isInAngularZone(),this.resetConfig(O),this.currentUrlTree=new Ra(new es([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new d_(v,C,we=>this.triggerEvent(new Sm(we)),we=>this.triggerEvent(new Ic(we))),this.routerState=ag(this.currentUrlTree,this.rootComponentType),this.transitions=new To({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const s=this.events;return e.pipe(T(a=>0!==a.id),(0,Ri.U)(a=>Object.assign(Object.assign({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),Os(a=>{let l=!1,h=!1;return(0,Ai.of)(a).pipe((0,Ga.b)(v=>{this.currentNavigation={id:v.id,initialUrl:v.currentRawUrl,extractedUrl:v.extractedUrl,trigger:v.source,extras:v.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Os(v=>{const C=!this.navigated||v.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||C)&&this.urlHandlingStrategy.shouldProcessUrl(v.rawUrl))return(0,Ai.of)(v).pipe(Os(G=>{const te=this.transitions.getValue();return s.next(new qc(G.id,this.serializeUrl(G.extractedUrl),G.source,G.restoredState)),te!==this.transitions.getValue()?ge.E:Promise.resolve(G)}),function(t,i,e,s){return Os(a=>function(t,i,e,s,a){return new Di(t,i,e,s,a).apply()}(t,i,e,a.extractedUrl,s).pipe((0,Ri.U)(l=>Object.assign(Object.assign({},a),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Ga.b)(G=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:G.urlAfterRedirects})}),function(t,i,e,s,a){return(0,js.zg)(l=>function(t,i,e,s,a="emptyOnly",l="legacy"){try{const h=new Zp(t,i,e,s,a,l).recognize();return null===h?Gd(new Fv):(0,Ai.of)(h)}catch(h){return Gd(h)}}(t,i,l.urlAfterRedirects,e(l.urlAfterRedirects),s,a).pipe((0,Ri.U)(h=>Object.assign(Object.assign({},l),{targetSnapshot:h}))))}(this.rootComponentType,this.config,G=>this.serializeUrl(G),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Ga.b)(G=>{"eager"===this.urlUpdateStrategy&&(G.extras.skipLocationChange||this.setBrowserUrl(G.urlAfterRedirects,G),this.browserUrlTree=G.urlAfterRedirects);const te=new Yp(G.id,this.serializeUrl(G.extractedUrl),this.serializeUrl(G.urlAfterRedirects),G.targetSnapshot);s.next(te)}));if(C&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:te,extractedUrl:pe,source:we,restoredState:Le,extras:je}=v,tt=new qc(te,this.serializeUrl(pe),we,Le);s.next(tt);const yt=ag(pe,this.rootComponentType).snapshot;return(0,Ai.of)(Object.assign(Object.assign({},v),{targetSnapshot:yt,urlAfterRedirects:pe,extras:Object.assign(Object.assign({},je),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=v.rawUrl,this.browserUrlTree=v.urlAfterRedirects,v.resolve(null),ge.E}),Bv(v=>{const{targetSnapshot:C,id:O,extractedUrl:G,rawUrl:te,extras:{skipLocationChange:pe,replaceUrl:we}}=v;return this.hooks.beforePreactivation(C,{navigationId:O,appliedUrlTree:G,rawUrlTree:te,skipLocationChange:!!pe,replaceUrl:!!we})}),(0,Ga.b)(v=>{const C=new bh(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(C)}),(0,Ri.U)(v=>Object.assign(Object.assign({},v),{guards:mf(v.targetSnapshot,v.currentSnapshot,this.rootContexts)})),function(t,i){return(0,js.zg)(e=>{const{targetSnapshot:s,currentSnapshot:a,guards:{canActivateChecks:l,canDeactivateChecks:h}}=e;return 0===h.length&&0===l.length?(0,Ai.of)(Object.assign(Object.assign({},e),{guardsResult:!0})):function(t,i,e,s){return(0,Vs.D)(t).pipe((0,js.zg)(a=>function(t,i,e,s,a){const l=i&&i.routeConfig?i.routeConfig.canDeactivate:null;if(!l||0===l.length)return(0,Ai.of)(!0);const h=l.map(v=>{const C=ta(v,i,a);let O;if(function(t){return t&&Hu(t.canDeactivate)}(C))O=fl(C.canDeactivate(t,i,e,s));else{if(!Hu(C))throw new Error("Invalid CanDeactivate guard");O=fl(C(t,i,e,s))}return O.pipe(Tt())});return(0,Ai.of)(h).pipe(hf())}(a.component,a.route,e,i,s)),Tt(a=>!0!==a,!0))}(h,s,a,t).pipe((0,js.zg)(v=>v&&function(t){return"boolean"==typeof t}(v)?function(t,i,e,s){return(0,Vs.D)(i).pipe(ea(a=>Ue(function(t,i){return null!==t&&i&&i(new i_(t)),(0,Ai.of)(!0)}(a.route.parent,s),function(t,i){return null!==t&&i&&i(new El(t)),(0,Ai.of)(!0)}(a.route,s),function(t,i,e){const s=i[i.length-1],l=i.slice(0,i.length-1).reverse().map(h=>function(t){const i=t.routeConfig?t.routeConfig.canActivateChild:null;return i&&0!==i.length?{node:t,guards:i}:null}(h)).filter(h=>null!==h).map(h=>nt(()=>{const v=h.guards.map(C=>{const O=ta(C,h.node,e);let G;if(function(t){return t&&Hu(t.canActivateChild)}(O))G=fl(O.canActivateChild(s,t));else{if(!Hu(O))throw new Error("Invalid CanActivateChild guard");G=fl(O(s,t))}return G.pipe(Tt())});return(0,Ai.of)(v).pipe(hf())}));return(0,Ai.of)(l).pipe(hf())}(t,a.path,e),function(t,i,e){const s=i.routeConfig?i.routeConfig.canActivate:null;if(!s||0===s.length)return(0,Ai.of)(!0);const a=s.map(l=>nt(()=>{const h=ta(l,i,e);let v;if(function(t){return t&&Hu(t.canActivate)}(h))v=fl(h.canActivate(i,t));else{if(!Hu(h))throw new Error("Invalid CanActivate guard");v=fl(h(i,t))}return v.pipe(Tt())}));return(0,Ai.of)(a).pipe(hf())}(t,a.route,e))),Tt(a=>!0!==a,!0))}(s,l,t,i):(0,Ai.of)(v)),(0,Ri.U)(v=>Object.assign(Object.assign({},e),{guardsResult:v})))})}(this.ngModule.injector,v=>this.triggerEvent(v)),(0,Ga.b)(v=>{if(Sh(v.guardsResult)){const O=Zl(`Redirecting to "${this.serializeUrl(v.guardsResult)}"`);throw O.url=v.guardsResult,O}const C=new Hp(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot,!!v.guardsResult);this.triggerEvent(C)}),T(v=>!!v.guardsResult||(this.restoreHistory(v),this.cancelNavigationTransition(v,""),!1)),Bv(v=>{if(v.guards.canActivateChecks.length)return(0,Ai.of)(v).pipe((0,Ga.b)(C=>{const O=new dy(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);this.triggerEvent(O)}),Os(C=>{let O=!1;return(0,Ai.of)(C).pipe(function(t,i){return(0,js.zg)(e=>{const{targetSnapshot:s,guards:{canActivateChecks:a}}=e;if(!a.length)return(0,Ai.of)(e);let l=0;return(0,Vs.D)(a).pipe(ea(h=>function(t,i,e,s){return function(t,i,e,s){const a=Object.keys(t);if(0===a.length)return(0,Ai.of)({});const l={};return(0,Vs.D)(a).pipe((0,js.zg)(h=>function(t,i,e,s){const a=ta(t,i,s);return fl(a.resolve?a.resolve(i,e):a(i,e))}(t[h],i,e,s).pipe((0,Ga.b)(v=>{l[h]=v}))),Zs(1),(0,js.zg)(()=>Object.keys(l).length===a.length?(0,Ai.of)(l):ge.E))}(t._resolve,t,i,s).pipe((0,Ri.U)(l=>(t._resolvedData=l,t.data=Object.assign(Object.assign({},t.data),Ud(t,e).resolve),null)))}(h.route,s,t,i)),(0,Ga.b)(()=>l++),Zs(1),(0,js.zg)(h=>l===a.length?(0,Ai.of)(e):ge.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Ga.b)({next:()=>O=!0,complete:()=>{O||(this.restoreHistory(C),this.cancelNavigationTransition(C,"At least one route resolver didn't emit any value."))}}))}),(0,Ga.b)(C=>{const O=new Pu(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);this.triggerEvent(O)}))}),Bv(v=>{const{targetSnapshot:C,id:O,extractedUrl:G,rawUrl:te,extras:{skipLocationChange:pe,replaceUrl:we}}=v;return this.hooks.afterPreactivation(C,{navigationId:O,appliedUrlTree:G,rawUrlTree:te,skipLocationChange:!!pe,replaceUrl:!!we})}),(0,Ri.U)(v=>{const C=function(t,i,e){const s=lg(t,i._root,e?e._root:void 0);return new og(s,i)}(this.routeReuseStrategy,v.targetSnapshot,v.currentRouterState);return Object.assign(Object.assign({},v),{targetRouterState:C})}),(0,Ga.b)(v=>{this.currentUrlTree=v.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,v.rawUrl),this.routerState=v.targetRouterState,"deferred"===this.urlUpdateStrategy&&(v.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,v),this.browserUrlTree=v.urlAfterRedirects)}),((t,i,e)=>(0,Ri.U)(s=>(new Th(i,s.targetRouterState,s.currentRouterState,e).activate(t),s)))(this.rootContexts,this.routeReuseStrategy,v=>this.triggerEvent(v)),(0,Ga.b)({next(){l=!0},complete(){l=!0}}),zp(()=>{if(!l&&!h){const v=`Navigation ID ${a.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(a),this.cancelNavigationTransition(a,v)):this.cancelNavigationTransition(a,v)}this.currentNavigation=null}),Gi(v=>{if(h=!0,function(t){return t&&t[Yd]}(v)){const C=Sh(v.url);C||(this.navigated=!0,this.restoreHistory(a,!0));const O=new vh(a.id,this.serializeUrl(a.extractedUrl),v.message);s.next(O),C?setTimeout(()=>{const G=this.urlHandlingStrategy.merge(v.url,this.rawUrlTree);this.scheduleNavigation(G,"imperative",null,{skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:a.resolve,reject:a.reject,promise:a.promise})},0):a.resolve(!1)}else{this.restoreHistory(a,!0);const C=new Kh(a.id,this.serializeUrl(a.extractedUrl),v);s.next(C);try{a.resolve(this.errorHandler(v))}catch(O){a.reject(O)}}return ge.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const s=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,s)&&setTimeout(()=>{const{source:a,state:l,urlTree:h}=s,v={replaceUrl:!0};if(l){const C=Object.assign({},l);delete C.navigationId,delete C.\u0275routerPageId,0!==Object.keys(C).length&&(v.state=C)}this.scheduleNavigation(h,a,l,v)},0),this.lastLocationChangeInfo=s}))}extractLocationChangeInfoFromEvent(e){var s;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(s=e.state)||void 0===s?void 0:s.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,s){if(!e)return!0;const a=s.urlTree.toString()===e.urlTree.toString();return s.transitionId!==e.transitionId||!a||!("hashchange"===s.source&&"popstate"===e.source||"popstate"===s.source&&"hashchange"===e.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){mg(e),this.config=e.map(a_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,s={}){const{relativeTo:a,queryParams:l,fragment:h,queryParamsHandling:v,preserveFragment:C}=s,O=a||this.routerState.root,G=C?this.currentUrlTree.fragment:h;let te=null;switch(v){case"merge":te=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":te=this.currentUrlTree.queryParams;break;default:te=l||null}return null!==te&&(te=this.removeEmptyProps(te)),function(t,i,e,s,a){if(0===e.length)return Wf(i.root,i.root,i,s,a);const l=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new ml(!0,0,t);let i=0,e=!1;const s=t.reduce((a,l,h)=>{if("object"==typeof l&&null!=l){if(l.outlets){const v={};return pl(l.outlets,(C,O)=>{v[O]="string"==typeof C?C.split("/"):C}),[...a,{outlets:v}]}if(l.segmentPath)return[...a,l.segmentPath]}return"string"!=typeof l?[...a,l]:0===h?(l.split("/").forEach((v,C)=>{0==C&&"."===v||(0==C&&""===v?e=!0:".."===v?i++:""!=v&&a.push(v))}),a):[...a,l]},[]);return new ml(e,i,s)}(e);if(l.toRoot())return Wf(i.root,new es([],{}),i,s,a);const h=function(t,i,e){if(t.isAbsolute)return new jp(i.root,!0,0);if(-1===e.snapshot._lastPathIndex){const l=e.snapshot._urlSegment;return new jp(l,l===i.root,0)}const s=hc(t.commands[0])?0:1;return function(t,i,e){let s=t,a=i,l=e;for(;l>a;){if(l-=a,s=s.parent,!s)throw new Error("Invalid number of '../'");a=s.segments.length}return new jp(s,!1,a-l)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+s,t.numberOfDoubleDots)}(l,i,t),v=h.processChildren?Oc(h.segmentGroup,h.index,l.commands):Bu(h.segmentGroup,h.index,l.commands);return Wf(h.segmentGroup,v,i,s,a)}(O,this.currentUrlTree,e,te,null!=G?G:null)}navigateByUrl(e,s={skipLocationChange:!1}){const a=Sh(e)?e:this.parseUrl(e),l=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,s)}navigate(e,s={skipLocationChange:!1}){return function(t){for(let i=0;i<t.length;i++){const e=t[i];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${i}`)}}(e),this.navigateByUrl(this.createUrlTree(e,s),s)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let s;try{s=this.urlSerializer.parse(e)}catch(a){s=this.malformedUriErrorHandler(a,this.urlSerializer,e)}return s}isActive(e,s){let a;if(a=!0===s?Object.assign({},px):!1===s?Object.assign({},fx):s,Sh(e))return Dm(this.currentUrlTree,e,a);const l=this.parseUrl(e);return Dm(this.currentUrlTree,l,a)}removeEmptyProps(e){return Object.keys(e).reduce((s,a)=>{const l=e[a];return null!=l&&(s[a]=l),s},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Mr(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,s,a,l,h){var v,C;if(this.disposed)return Promise.resolve(!1);const O=this.getTransition(),G="imperative"!==s&&"imperative"===(null==O?void 0:O.source),we=(this.lastSuccessfulId===O.id||this.currentNavigation?O.rawUrl:O.urlAfterRedirects).toString()===e.toString();if(G&&we)return Promise.resolve(!0);let Le,je,tt;h?(Le=h.resolve,je=h.reject,tt=h.promise):tt=new Promise((tn,gn)=>{Le=tn,je=gn});const yt=++this.navigationId;let Zt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),Zt=a&&a.\u0275routerPageId?a.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(v=this.browserPageId)&&void 0!==v?v:0:(null!==(C=this.browserPageId)&&void 0!==C?C:0)+1):Zt=0,this.setTransition({id:yt,targetPageId:Zt,source:s,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:l,resolve:Le,reject:je,promise:tt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),tt.catch(tn=>Promise.reject(tn))}setBrowserUrl(e,s){const a=this.urlSerializer.serialize(e),l=Object.assign(Object.assign({},s.extras.state),this.generateNgRouterState(s.id,s.targetPageId));this.location.isCurrentPathEqualTo(a)||s.extras.replaceUrl?this.location.replaceState(a,"",l):this.location.go(a,"",l)}restoreHistory(e,s=!1){var a,l;if("computed"===this.canceledNavigationResolution){const h=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)||0===h?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===h&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(h)}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,s){const a=new vh(e.id,this.serializeUrl(e.extractedUrl),s);this.triggerEvent(a),e.resolve(!1)}generateNgRouterState(e,s){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:s}:{navigationId:e}}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(o.DyG),o.LFG(Vf),o.LFG(op),o.LFG(hi),o.LFG(o.zs3),o.LFG(o.v3s),o.LFG(o.Sil),o.LFG(void 0))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})(),yf=(()=>{class t{constructor(e,s,a,l,h){this.router=e,this.route=s,this.commands=[],this.onChanges=new li.xQ,null==a&&l.setAttribute(h.nativeElement,"tabindex","0")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}onClick(){const e={skipLocationChange:tm(this.skipLocationChange),replaceUrl:tm(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:tm(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Eo),o.Y36(dc),o.$8M("tabindex"),o.Y36(o.Qsj),o.Y36(o.SBq))},t.\u0275dir=o.lG2({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,s){1&e&&o.NdJ("click",function(){return s.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[o.TTD]}),t})(),Gp=(()=>{class t{constructor(e,s,a){this.router=e,this.route=s,this.locationStrategy=a,this.commands=[],this.onChanges=new li.xQ,this.subscription=e.events.subscribe(l=>{l instanceof Mr&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,s,a,l,h){if(0!==e||s||a||l||h||"string"==typeof this.target&&"_self"!=this.target)return!0;const v={skipLocationChange:tm(this.skipLocationChange),replaceUrl:tm(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,v),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:tm(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Eo),o.Y36(dc),o.Y36(ii))},t.\u0275dir=o.lG2({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,s){1&e&&o.NdJ("click",function(l){return s.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&e&&(o.Ikx("href",s.href,o.LSH),o.uIk("target",s.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[o.TTD]}),t})();function tm(t){return""===t||!!t}let xg=(()=>{class t{constructor(e,s,a,l,h,v){this.router=e,this.element=s,this.renderer=a,this.cdr=l,this.link=h,this.linkWithHref=v,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=e.events.subscribe(C=>{C instanceof Mr&&this.update()})}ngAfterContentInit(){(0,Ai.of)(this.links.changes,this.linksWithHrefs.changes,(0,Ai.of)(null)).pipe((0,le.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var e;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();const s=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(a=>!!a).map(a=>a.onChanges);this.linkInputChangesSubscription=(0,Vs.D)(s).pipe((0,le.J)()).subscribe(a=>{this.isActive!==this.isLinkActive(this.router)(a)&&this.update()})}set routerLinkActive(e){const s=Array.isArray(e)?e:e.split(" ");this.classes=s.filter(a=>!!a)}ngOnChanges(e){this.update()}ngOnDestroy(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(s=>{e?this.renderer.addClass(this.element.nativeElement,s):this.renderer.removeClass(this.element.nativeElement,s)}))})}isLinkActive(e){const s=function(t){return!!t.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return a=>e.isActive(a.urlTree,s)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Eo),o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(o.sBO),o.Y36(yf,8),o.Y36(Gp,8))},t.\u0275dir=o.lG2({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(e,s,a){if(1&e&&(o.Suo(a,yf,5),o.Suo(a,Gp,5)),2&e){let l;o.iGM(l=o.CRH())&&(s.links=l),o.iGM(l=o.CRH())&&(s.linksWithHrefs=l)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[o.TTD]}),t})(),Eh=(()=>{class t{constructor(e,s,a,l,h){this.parentContexts=e,this.location=s,this.resolver=a,this.changeDetector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new o.vpe,this.deactivateEvents=new o.vpe,this.name=l||_s,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,s){this.activated=e,this._activatedRoute=s,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,s){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const h=(s=s||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),v=this.parentContexts.getOrCreateContext(this.name).children,C=new gx(e,v,this.location.injector);this.activated=this.location.createComponent(h,this.location.length,C),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(op),o.Y36(o.s_b),o.Y36(o._Vd),o.$8M("name"),o.Y36(o.sBO))},t.\u0275dir=o.lG2({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class gx{constructor(i,e,s){this.route=i,this.childContexts=e,this.parent=s}get(i,e){return i===dc?this.route:i===op?this.childContexts:this.parent.get(i,e)}}class Zb{}class f_{preload(i,e){return(0,Ai.of)(null)}}let yx=(()=>{class t{constructor(e,s,a,l,h){this.router=e,this.injector=l,this.preloadingStrategy=h,this.loader=new d_(s,a,O=>e.triggerEvent(new Sm(O)),O=>e.triggerEvent(new Ic(O)))}setUpPreloading(){this.subscription=this.router.events.pipe(T(e=>e instanceof Mr),ea(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(o.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,s){const a=[];for(const l of s)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const h=l._loadedConfig;a.push(this.processRoutes(h.module,h.routes))}else l.loadChildren&&!l.canLoad?a.push(this.preloadConfig(e,l)):l.children&&a.push(this.processRoutes(e,l.children));return(0,Vs.D)(a).pipe((0,le.J)(),(0,Ri.U)(l=>{}))}preloadConfig(e,s){return this.preloadingStrategy.preload(s,()=>(s._loadedConfig?(0,Ai.of)(s._loadedConfig):this.loader.load(e.injector,s)).pipe((0,js.zg)(l=>(s._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Eo),o.LFG(o.v3s),o.LFG(o.Sil),o.LFG(o.zs3),o.LFG(Zb))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})(),Gb=(()=>{class t{constructor(e,s,a={}){this.router=e,this.viewportScroller=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof qc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Mr&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof cd&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,s){this.router.triggerEvent(new cd(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,s))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Eo),o.LFG(mi),o.LFG(void 0))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();const Ym=new o.OlP("ROUTER_CONFIGURATION"),Wb=new o.OlP("ROUTER_FORROOT_GUARD"),m_=[hi,{provide:Vf,useClass:Vd},{provide:Eo,useFactory:function(t,i,e,s,a,l,h,v={},C,O){const G=new Eo(null,t,i,e,s,a,l,wh(h));return C&&(G.urlHandlingStrategy=C),O&&(G.routeReuseStrategy=O),function(t,i){t.errorHandler&&(i.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(i.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(i.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(i.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(i.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(i.urlUpdateStrategy=t.urlUpdateStrategy)}(v,G),v.enableTracing&&G.events.subscribe(te=>{var pe,we;null===(pe=console.group)||void 0===pe||pe.call(console,`Router Event: ${te.constructor.name}`),console.log(te.toString()),console.log(te),null===(we=console.groupEnd)||void 0===we||we.call(console)}),G},deps:[Vf,op,hi,o.zs3,o.v3s,o.Sil,bg,Ym,[class{},new o.FiY],[class{},new o.FiY]]},op,{provide:dc,useFactory:function(t){return t.routerState.root},deps:[Eo]},{provide:o.v3s,useClass:o.EAV},yx,f_,class{preload(i,e){return e().pipe(Gi(()=>(0,Ai.of)(null)))}},{provide:Ym,useValue:{enableTracing:!1}}];function Dh(){return new o.PXZ("Router",Eo)}let g_=(()=>{class t{constructor(e,s){}static forRoot(e,s){return{ngModule:t,providers:[m_,wy(e),{provide:Wb,useFactory:lp,deps:[[Eo,new o.FiY,new o.tp0]]},{provide:Ym,useValue:s||{}},{provide:ii,useFactory:xy,deps:[Me,[new o.tBr(Wt),new o.FiY],Ym]},{provide:Gb,useFactory:qb,deps:[Eo,mi,Ym]},{provide:Zb,useExisting:s&&s.preloadingStrategy?s.preloadingStrategy:f_},{provide:o.PXZ,multi:!0,useFactory:Dh},[nm,{provide:o.ip1,multi:!0,useFactory:$b,deps:[nm]},{provide:__,useFactory:vx,deps:[nm]},{provide:o.tb,multi:!0,useExisting:__}]]}}static forChild(e){return{ngModule:t,providers:[wy(e)]}}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Wb,8),o.LFG(Eo,8))},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({}),t})();function qb(t,i,e){return e.scrollOffset&&i.setOffset(e.scrollOffset),new Gb(t,i,e)}function xy(t,i,e={}){return e.useHash?new us(t,i):new ar(t,i)}function lp(t){return"guarded"}function wy(t){return[{provide:o.deG,multi:!0,useValue:t},{provide:bg,multi:!0,useValue:t}]}let nm=(()=>{class t{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new li.xQ}appInitializer(){return this.injector.get(Ge,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let s=null;const a=new Promise(v=>s=v),l=this.injector.get(Eo),h=this.injector.get(Ym);return"disabled"===h.initialNavigation?(l.setUpLocationChangeListener(),s(!0)):"enabled"===h.initialNavigation||"enabledBlocking"===h.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?(0,Ai.of)(null):(this.initNavigation=!0,s(!0),this.resultOfPreactivationDone),l.initialNavigation()):s(!0),a})}bootstrapListener(e){const s=this.injector.get(Ym),a=this.injector.get(yx),l=this.injector.get(Gb),h=this.injector.get(Eo),v=this.injector.get(o.z2F);e===v.components[0]&&(("enabledNonBlocking"===s.initialNavigation||void 0===s.initialNavigation)&&h.initialNavigation(),a.setUpPreloading(),l.init(),h.resetRootComponentType(v.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(o.zs3))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();function $b(t){return t.appInitializer.bind(t)}function vx(t){return t.bootstrapListener.bind(t)}const __=new o.OlP("Router Initializer");function vf(){return t=>t.lift(new wg)}class wg{call(i,e){return e.subscribe(new im(i))}}class im extends Ao.L{constructor(i){super(i),this.hasPrev=!1}_next(i){let e;this.hasPrev?e=[this.prev,i]:this.hasPrev=!0,this.prev=i,e&&this.destination.next(e)}}var Vm=Ae(4969),vt=Ae(4762),Ls=Ae(4685),Ah=Ae(300),Uu=function(t,i){return(Uu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,s){e.__proto__=s}||function(e,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])})(t,i)};function Cy(t){var i="function"==typeof Symbol&&Symbol.iterator,e=i&&t[i],s=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}var ji,y_="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},v_=v_||{},is=y_||self;function Um(){}function Cg(t){var i=typeof t;return"array"==(i="object"!=i?i:t?Array.isArray(t)?"array":i:"null")||"object"==i&&"number"==typeof t.length}function rm(t){var i=typeof t;return"object"==i&&null!=t||"function"==i}var Mg="closure_uid_"+(1e9*Math.random()>>>0),gd=0;function sm(t,i,e){return t.call.apply(t.bind,arguments)}function Xb(t,i,e){if(!t)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,s),t.apply(i,a)}}return function(){return t.apply(i,arguments)}}function Na(t,i,e){return(Na=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?sm:Xb).apply(null,arguments)}function Gr(t,i){var e=Array.prototype.slice.call(arguments,1);return function(){var s=e.slice();return s.push.apply(s,arguments),t.apply(this,s)}}function go(t,i){function e(){}e.prototype=i.prototype,t.Z=i.prototype,t.prototype=new e,t.prototype.constructor=t,t.Vb=function(s,a,l){for(var h=Array(arguments.length-2),v=2;v<arguments.length;v++)h[v-2]=arguments[v];return i.prototype[a].apply(s,h)}}function Al(){this.s=this.s,this.o=this.o}var m1={};Al.prototype.s=!1,Al.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,Mg)&&t[Mg]||(t[Mg]=++gd)}(this);delete m1[t]}},Al.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var om=Array.prototype.indexOf?function(t,i){return Array.prototype.indexOf.call(t,i,void 0)}:function(t,i){if("string"==typeof t)return"string"!=typeof i||1!=i.length?-1:t.indexOf(i,0);for(var e=0;e<t.length;e++)if(e in t&&t[e]===i)return e;return-1},b_=Array.prototype.forEach?function(t,i,e){Array.prototype.forEach.call(t,i,e)}:function(t,i,e){for(var s=t.length,a="string"==typeof t?t.split(""):t,l=0;l<s;l++)l in a&&i.call(e,a[l],l,t)};function Vv(t){return Array.prototype.concat.apply([],arguments)}function Tg(t){var i=t.length;if(0<i){for(var e=Array(i),s=0;s<i;s++)e[s]=t[s];return e}return[]}function Sg(t){return/^[\s\xa0]*$/.test(t)}var il,x_=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Rc(t,i){return-1!=t.indexOf(i)}function _d(t,i){return t<i?-1:t>i?1:0}e:{var kg=is.navigator;if(kg){var Vr=kg.userAgent;if(Vr){il=Vr;break e}}il=""}function za(t,i,e){for(var s in t)i.call(e,t[s],s,t)}function My(t){var i={};for(var e in t)i[e]=t[e];return i}var Ty="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Sy(t,i){for(var e,s,a=1;a<arguments.length;a++){for(e in s=arguments[a])t[e]=s[e];for(var l=0;l<Ty.length;l++)e=Ty[l],Object.prototype.hasOwnProperty.call(s,e)&&(t[e]=s[e])}}function w_(t){return w_[" "](t),t}w_[" "]=Um;var am,t,C_=Rc(il,"Opera"),cp=Rc(il,"Trident")||Rc(il,"MSIE"),M_=Rc(il,"Edge"),Eg=M_||cp,T_=Rc(il,"Gecko")&&!(Rc(il.toLowerCase(),"webkit")&&!Rc(il,"Edge"))&&!(Rc(il,"Trident")||Rc(il,"MSIE"))&&!Rc(il,"Edge"),Jb=Rc(il.toLowerCase(),"webkit")&&!Rc(il,"Edge");function Uv(){var t=is.document;return t?t.documentMode:void 0}e:{var pc="",bf=(t=il,T_?/rv:([^\);]+)(\)|;)/.exec(t):M_?/Edge\/([\d\.]+)/.exec(t):cp?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Jb?/WebKit\/(\S+)/.exec(t):C_?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(bf&&(pc=bf?bf[1]:""),cp){var Xc=Uv();if(null!=Xc&&Xc>parseFloat(pc)){am=String(Xc);break e}}am=pc}var lm={};function ky(){return i=lm,Object.prototype.hasOwnProperty.call(i,9)?i[9]:i[9]=function(){for(var t=0,i=x_(String(am)).split("."),e=x_("9").split("."),s=Math.max(i.length,e.length),a=0;0==t&&a<s;a++){var l=i[a]||"",h=e[a]||"";do{if(l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""],0==l[0].length&&0==h[0].length)break;t=_d(0==l[1].length?0:parseInt(l[1],10),0==h[1].length?0:parseInt(h[1],10))||_d(0==l[2].length,0==h[2].length)||_d(l[2],h[2]),l=l[3],h=h[3]}while(0==t)}return 0<=t}();var i}var S_=is.document&&cp&&(Uv()||parseInt(am,10))||void 0,Wp=function(){if(!is.addEventListener||!Object.defineProperty)return!1;var t=!1,i=Object.defineProperty({},"passive",{get:function(){t=!0}});try{is.addEventListener("test",Um,i),is.removeEventListener("test",Um,i)}catch(e){}return t}();function cr(t,i){this.type=t,this.g=this.target=i,this.defaultPrevented=!1}function jm(t,i){if(cr.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var e=this.type=t.type,s=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=i,i=t.relatedTarget){if(T_){e:{try{w_(i.nodeName);var a=!0;break e}catch(l){}a=!1}a||(i=null)}}else"mouseover"==e?i=t.fromElement:"mouseout"==e&&(i=t.toElement);this.relatedTarget=i,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:ju[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&jm.Z.h.call(this)}}cr.prototype.h=function(){this.defaultPrevented=!0},go(jm,cr);var ju={2:"touch",3:"pen",4:"mouse"};jm.prototype.h=function(){jm.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Dg="closure_listenable_"+(1e6*Math.random()|0),Kb=0;function _o(t,i,e,s,a){this.listener=t,this.proxy=null,this.src=i,this.type=e,this.capture=!!s,this.ia=a,this.key=++Kb,this.ca=this.fa=!1}function Ag(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function $d(t){this.src=t,this.g={},this.h=0}function cm(t,i){var e=i.type;if(e in t.g){var l,s=t.g[e],a=om(s,i);(l=0<=a)&&Array.prototype.splice.call(s,a,1),l&&(Ag(i),0==t.g[e].length&&(delete t.g[e],t.h--))}}function Zm(t,i,e,s){for(var a=0;a<t.length;++a){var l=t[a];if(!l.ca&&l.listener==i&&l.capture==!!e&&l.ia==s)return a}return-1}$d.prototype.add=function(t,i,e,s,a){var l=t.toString();(t=this.g[l])||(t=this.g[l]=[],this.h++);var h=Zm(t,i,s,a);return-1<h?(i=t[h],e||(i.fa=!1)):((i=new _o(i,this.src,l,!!s,a)).fa=e,t.push(i)),i};var up="closure_lm_"+(1e6*Math.random()|0),dp={};function Ay(t,i,e,s,a){if(s&&s.once)return wf(t,i,e,s,a);if(Array.isArray(i)){for(var l=0;l<i.length;l++)Ay(t,i[l],e,s,a);return null}return e=Lg(e),t&&t[Dg]?t.N(i,e,rm(s)?!!s.capture:!!s,a):Iy(t,i,e,!1,s,a)}function Iy(t,i,e,s,a,l){if(!i)throw Error("Invalid event type");var h=rm(a)?!!a.capture:!!a,v=Ig(t);if(v||(t[up]=v=new $d(t)),(e=v.add(i,e,s,h,l)).proxy)return e;if(s=function(){var i=e0;return function t(e){return i.call(t.src,t.listener,e)}}(),e.proxy=s,s.src=t,s.listener=e,t.addEventListener)Wp||(a=h),void 0===a&&(a=!1),t.addEventListener(i.toString(),s,a);else if(t.attachEvent)t.attachEvent(Ih(i.toString()),s);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(s)}return e}function wf(t,i,e,s,a){if(Array.isArray(i)){for(var l=0;l<i.length;l++)wf(t,i[l],e,s,a);return null}return e=Lg(e),t&&t[Dg]?t.O(i,e,rm(s)?!!s.capture:!!s,a):Iy(t,i,e,!0,s,a)}function k_(t,i,e,s,a){if(Array.isArray(i))for(var l=0;l<i.length;l++)k_(t,i[l],e,s,a);else s=rm(s)?!!s.capture:!!s,e=Lg(e),t&&t[Dg]?(t=t.i,(i=String(i).toString())in t.g&&-1<(e=Zm(l=t.g[i],e,s,a))&&(Ag(l[e]),Array.prototype.splice.call(l,e,1),0==l.length&&(delete t.g[i],t.h--))):t&&(t=Ig(t))&&(i=t.g[i.toString()],t=-1,i&&(t=Zm(i,e,s,a)),(e=-1<t?i[t]:null)&&Jc(e))}function Jc(t){if("number"!=typeof t&&t&&!t.ca){var i=t.src;if(i&&i[Dg])cm(i.i,t);else{var e=t.type,s=t.proxy;i.removeEventListener?i.removeEventListener(e,s,t.capture):i.detachEvent?i.detachEvent(Ih(e),s):i.addListener&&i.removeListener&&i.removeListener(s),(e=Ig(i))?(cm(e,t),0==e.h&&(e.src=null,i[up]=null)):Ag(t)}}}function Ih(t){return t in dp?dp[t]:dp[t]="on"+t}function e0(t,i){if(t.ca)t=!0;else{i=new jm(i,this);var e=t.listener,s=t.ia||t.src;t.fa&&Jc(t),t=e.call(s,i)}return t}function Ig(t){return(t=t[up])instanceof $d?t:null}var Gm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lg(t){return"function"==typeof t?t:(t[Gm]||(t[Gm]=function(i){return t.handleEvent(i)}),t[Gm])}function ql(){Al.call(this),this.i=new $d(this),this.P=this,this.I=null}function fc(t,i){var e,s=t.I;if(s)for(e=[];s;s=s.I)e.push(s);if(t=t.P,s=i.type||i,"string"==typeof i)i=new cr(i,t);else if(i instanceof cr)i.target=i.target||t;else{var a=i;Sy(i=new cr(s,t),a)}if(a=!0,e)for(var l=e.length-1;0<=l;l--){var h=i.g=e[l];a=Wm(h,s,!0,i)&&a}if(a=Wm(h=i.g=t,s,!0,i)&&a,a=Wm(h,s,!1,i)&&a,e)for(l=0;l<e.length;l++)a=Wm(h=i.g=e[l],s,!1,i)&&a}function Wm(t,i,e,s){if(!(i=t.i.g[String(i)]))return!0;i=i.concat();for(var a=!0,l=0;l<i.length;++l){var h=i[l];if(h&&!h.ca&&h.capture==e){var v=h.listener,C=h.ia||h.src;h.fa&&cm(t.i,h),a=!1!==v.call(C,s)&&a}}return a&&!s.defaultPrevented}go(ql,Al),ql.prototype[Dg]=!0,ql.prototype.removeEventListener=function(t,i,e,s){k_(this,t,i,e,s)},ql.prototype.M=function(){if(ql.Z.M.call(this),this.i){var i,t=this.i;for(i in t.g){for(var e=t.g[i],s=0;s<e.length;s++)Ag(e[s]);delete t.g[i],t.h--}}this.I=null},ql.prototype.N=function(t,i,e,s){return this.i.add(String(t),i,!1,e,s)},ql.prototype.O=function(t,i,e,s){return this.i.add(String(t),i,!0,e,s)};var jv=is.JSON.stringify;function Zv(){var t=V,i=null;return t.g&&(i=t.g,t.g=t.g.next,t.g||(t.h=null),i.next=null),i}var M,$l=function(){function t(){this.h=this.g=null}return t.prototype.add=function(i,e){var s=Ll.get();s.set(i,e),this.h?this.h.next=s:this.g=s,this.h=s},t}(),Ll=new(function(){function t(i,e){this.i=i,this.j=e,this.h=0,this.g=null}return t.prototype.get=function(){var i;return 0<this.h?(this.h--,this.g=(i=this.g).next,i.next=null):i=this.i(),i},t}())(function(){return new _},function(t){return t.reset()}),_=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(i,e){this.h=i,this.g=e,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function c(t){is.setTimeout(function(){throw t},0)}function y(t,i){M||function(){var t=is.Promise.resolve(void 0);M=function(){t.then(K)}}(),z||(M(),z=!0),V.add(t,i)}var z=!1,V=new $l;function K(){for(var t;t=Zv();){try{t.h.call(t.g)}catch(e){c(e)}var i=Ll;i.j(t),100>i.h&&(i.h++,t.next=i.g,i.g=t)}z=!1}function re(t,i){ql.call(this),this.h=t||1,this.g=i||is,this.j=Na(this.kb,this),this.l=Date.now()}function me(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function be(t,i,e){if("function"==typeof t)e&&(t=Na(t,e));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Na(t.handleEvent,t)}return 2147483647<Number(i)?-1:is.setTimeout(t,i||0)}function Te(t){t.g=be(function(){t.g=null,t.i&&(t.i=!1,Te(t))},t.j);var i=t.h;t.h=null,t.m.apply(null,i)}go(re,ql),(ji=re.prototype).da=!1,ji.S=null,ji.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),fc(this,"tick"),this.da&&(me(this),this.start()))}},ji.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ji.M=function(){re.Z.M.call(this),me(this),delete this.g};var Oe=function(t){function i(e,s){var a=t.call(this)||this;return a.m=e,a.j=s,a.h=null,a.i=!1,a.g=null,a}return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function e(){this.constructor=t}Uu(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}(i,t),i.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:Te(this)},i.prototype.M=function(){t.prototype.M.call(this),this.g&&(is.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},i}(Al);function Ve(t){Al.call(this),this.h=t,this.g={}}go(Ve,Al);var et=[];function _t(t,i,e,s){Array.isArray(e)||(e&&(et[0]=e.toString()),e=et);for(var a=0;a<e.length;a++){var l=Ay(i,e[a],s||t.handleEvent,!1,t.h||t);if(!l)break;t.g[l.key]=l}}function At(t){za(t.g,function(i,e){this.g.hasOwnProperty(e)&&Jc(i)},t),t.g={}}function Ht(){this.g=!0}function dn(t,i,e,s){t.info(function(){return"XMLHTTP TEXT ("+i+"): "+function(t,i){if(!t.g)return i;if(!i)return null;try{var e=JSON.parse(i);if(e)for(t=0;t<e.length;t++)if(Array.isArray(e[t])){var s=e[t];if(!(2>s.length)){var a=s[1];if(Array.isArray(a)&&!(1>a.length)){var l=a[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var h=1;h<a.length;h++)a[h]=""}}}return jv(e)}catch(v){return i}}(t,e)+(s?" "+s:"")})}Ve.prototype.M=function(){Ve.Z.M.call(this),At(this)},Ve.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ht.prototype.Aa=function(){this.g=!1},Ht.prototype.info=function(){};var Un={},ei=null;function Zn(){return ei=ei||new ql}function di(t){cr.call(this,Un.Ma,t)}function Rn(t){var i=Zn();fc(i,new di(i,t))}function Gn(t,i){cr.call(this,Un.STAT_EVENT,t),this.stat=i}function ni(t){var i=Zn();fc(i,new Gn(i,t))}function Pn(t,i){cr.call(this,Un.Na,t),this.size=i}function ur(t,i){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return is.setTimeout(function(){t()},i)}Un.Ma="serverreachability",go(di,cr),Un.STAT_EVENT="statevent",go(Gn,cr),Un.Na="timingevent",go(Pn,cr);var Nr={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},rs={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function zr(){}function yo(){}zr.prototype.h=null;var Ba,Wi={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function na(){cr.call(this,"d")}function qa(){cr.call(this,"c")}function Pl(){}function ia(t,i,e,s){this.l=t,this.j=i,this.m=e,this.X=s||1,this.V=new Ve(this),this.P=Lo,this.W=new re(t=Eg?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new ra}function ra(){this.i=null,this.g="",this.h=!1}go(na,cr),go(qa,cr),go(Pl,zr),Pl.prototype.g=function(){return new XMLHttpRequest},Pl.prototype.i=function(){return{}},Ba=new Pl;var Lo=45e3,ha={},Uo={};function gl(t,i,e){t.K=1,t.v=Lh(Ql(i)),t.s=e,t.U=!0,Po(t,null)}function Po(t,i){t.F=Date.now(),jo(t),t.A=Ql(t.v);var e=t.A,s=t.X;Array.isArray(s)||(s=[String(s)]),I_(e.h,"t",s),t.C=0,e=t.l.H,t.h=new ra,t.g=Uk(t.l,e?i:null,!t.s),0<t.O&&(t.L=new Oe(Na(t.Ia,t,t.g),t.O)),_t(t.V,t.g,"readystatechange",t.gb),i=t.H?My(t.H):{},t.s?(t.u||(t.u="POST"),i["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,i)):(t.u="GET",t.g.ea(t.A,t.u,null,i)),Rn(1),function(t,i,e,s,a,l){t.info(function(){if(t.g)if(l)for(var h="",v=l.split("&"),C=0;C<v.length;C++){var O=v[C].split("=");if(1<O.length){var G=O[0];O=O[1];var te=G.split("_");h=2<=te.length&&"type"==te[1]?h+(G+"=")+O+"&":h+(G+"=redacted&")}}else h=null;else h=l;return"XMLHTTP REQ ("+s+") [attempt "+a+"]: "+i+"\n"+e+"\n"+h})}(t.j,t.u,t.A,t.m,t.X,t.s)}function lo(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function $a(t,i,e){for(var a,s=!0;!t.I&&t.C<e.length;){if((a=wa(t,e))==Uo){4==i&&(t.o=4,ni(14),s=!1),dn(t.j,t.m,null,"[Incomplete Response]");break}if(a==ha){t.o=4,ni(15),dn(t.j,t.m,e,"[Invalid Chunk]"),s=!1;break}dn(t.j,t.m,a,null),As(t,a)}lo(t)&&a!=Uo&&a!=ha&&(t.h.g="",t.C=0),4!=i||0!=e.length||t.h.h||(t.o=1,ni(16),s=!1),t.i=t.i&&s,s?0<e.length&&!t.aa&&(t.aa=!0,(i=t.l).g==t&&i.$&&!i.L&&(i.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),bM(i),i.L=!0,ni(11))):(dn(t.j,t.m,e,"[Invalid Chunked Response]"),Ca(t),Kc(t))}function wa(t,i){var e=t.C,s=i.indexOf("\n",e);return-1==s?Uo:(e=Number(i.substring(e,s)),isNaN(e)?ha:(s+=1)+e>i.length?Uo:(i=i.substr(s,e),t.C=s+e,i))}function jo(t){t.Y=Date.now()+t.P,mc(t,t.P)}function mc(t,i){if(null!=t.B)throw Error("WatchDog timer not null");t.B=ur(Na(t.eb,t),i)}function sa(t){t.B&&(is.clearTimeout(t.B),t.B=null)}function Kc(t){0==t.l.G||t.I||Yk(t.l,t)}function Ca(t){sa(t);var i=t.L;i&&"function"==typeof i.na&&i.na(),t.L=null,me(t.W),At(t.V),t.g&&(i=t.g,t.g=null,i.abort(),i.na())}function As(t,i){try{var e=t.l;if(0!=e.G&&(e.g==t||t0(e.i,t)))if(e.I=t.N,!t.J&&t0(e.i,t)&&3==e.G){try{var s=e.Ca.g.parse(i)}catch(tt){s=null}if(Array.isArray(s)&&3==s.length){var a=s;if(0==a[0])e:if(e.u)e.ta=a[1],0<e.ta-e.U&&37500>a[2]&&e.N&&0==e.A&&!e.v&&(e.v=ur(Na(e.ab,e),6e3));else{if(e.g){if(!(e.g.F+3e3<t.F))break e;x1(e),v1(e)}l0(e),ni(18)}if(1>=Tx(e.i)&&e.ka){try{e.ka()}catch(tt){}e.ka=void 0}}else Gv(e,11)}else if((t.J||e.g==t)&&x1(e),!Sg(i))for(a=e.Ca.g.parse(i),i=0;i<a.length;i++){var l=a[i];if(e.U=l[0],l=l[1],2==e.G)if("c"==l[0]){e.J=l[1],e.la=l[2];var h=l[3];null!=h&&(e.ma=h,e.h.info("VER="+e.ma));var v=l[4];null!=v&&(e.za=v,e.h.info("SVER="+e.za));var C=l[5];null!=C&&"number"==typeof C&&0<C&&(e.K=s=1.5*C,e.h.info("backChannelRequestTimeoutMs_="+s)),s=e;var O=t.g;if(O){var G=O.g?O.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(G){var te=s.i;!te.g&&(Rc(G,"spdy")||Rc(G,"quic")||Rc(G,"h2"))&&(te.j=te.l,te.g=new Set,te.h&&(n0(te,te.h),te.h=null))}if(s.D){var pe=O.g?O.g.getResponseHeader("X-HTTP-Session-Id"):null;pe&&(s.sa=pe,Oo(s.F,s.D,pe))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-t.F,e.h.info("Handshake RTT: "+e.O+"ms"));var we=t;if((s=e).oa=wM(s,s.H?s.la:null,s.W),we.J){Sx(s.i,we);var Le=we,je=s.K;je&&Le.setTimeout(je),Le.B&&(sa(Le),jo(Le)),s.g=we}else vM(s);0<e.l.length&&b1(e)}else"stop"!=l[0]&&"close"!=l[0]||Gv(e,7);else 3==e.G&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Gv(e,7):Fk(e):"noop"!=l[0]&&e.j&&e.j.wa(l),e.A=0)}Rn(4)}catch(tt){}}function eu(t,i){if(t.forEach&&"function"==typeof t.forEach)t.forEach(i,void 0);else if(Cg(t)||"string"==typeof t)b_(t,i,void 0);else{if(t.T&&"function"==typeof t.T)var e=t.T();else if(t.R&&"function"==typeof t.R)e=void 0;else if(Cg(t)||"string"==typeof t){e=[];for(var s=t.length,a=0;a<s;a++)e.push(a)}else for(a in e=[],s=0,t)e[s++]=a;a=(s=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(Cg(t)){for(var i=[],e=t.length,s=0;s<e;s++)i.push(t[s]);return i}for(s in i=[],e=0,t)i[e++]=t[s];return i}(t)).length;for(var l=0;l<a;l++)i.call(void 0,s[l],e&&e[l],t)}}function no(t,i){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var s=0;s<e;s+=2)this.set(arguments[s],arguments[s+1])}else if(t)if(t instanceof no)for(e=t.T(),s=0;s<e.length;s++)this.set(e[s],t.get(e[s]));else for(s in t)this.set(s,t[s])}function yd(t){if(t.i!=t.g.length){for(var i=0,e=0;i<t.g.length;){var s=t.g[i];tu(t.h,s)&&(t.g[e++]=s),i++}t.g.length=e}if(t.i!=t.g.length){var a={};for(e=i=0;i<t.g.length;)tu(a,s=t.g[i])||(t.g[e++]=s,a[s]=1),i++;t.g.length=e}}function tu(t,i){return Object.prototype.hasOwnProperty.call(t,i)}(ji=ia.prototype).setTimeout=function(t){this.P=t},ji.gb=function(t){t=t.target;var i=this.L;i&&3==fa(t)?i.l():this.Ia(t)},ji.Ia=function(t){try{if(t==this.g)e:{var i=fa(this.g),e=this.g.Da(),s=this.g.ba();if(!(3>i)&&(3!=i||Eg||this.g&&(this.h.h||this.g.ga()||Fh(this.g)))){this.I||4!=i||7==e||Rn(8==e||0>=s?3:2),sa(this);var a=this.g.ba();this.N=a;t:if(lo(this)){var l=Fh(this.g);t="";var h=l.length,v=4==fa(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ca(this),Kc(this);var C="";break t}this.h.i=new is.TextDecoder}for(e=0;e<h;e++)this.h.h=!0,t+=this.h.i.decode(l[e],{stream:v&&e==h-1});l.splice(0,h),this.h.g+=t,this.C=0,C=this.h.g}else C=this.g.ga();if(this.i=200==a,function(t,i,e,s,a,l,h){t.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+a+"]: "+i+"\n"+e+"\n"+l+" "+h})}(this.j,this.u,this.A,this.m,this.X,i,a),this.i){if(this.$&&!this.J){t:{if(this.g){var O,G=this.g;if((O=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Sg(O)){var te=O;break t}}te=null}if(!(a=te)){this.i=!1,this.o=3,ni(12),Ca(this),Kc(this);break e}dn(this.j,this.m,a,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,As(this,a)}this.U?($a(this,i,C),Eg&&this.i&&3==i&&(_t(this.V,this.W,"tick",this.fb),this.W.start())):(dn(this.j,this.m,C,null),As(this,C)),4==i&&Ca(this),this.i&&!this.I&&(4==i?Yk(this.l,this):(this.i=!1,jo(this)))}else 400==a&&0<C.indexOf("Unknown SID")?(this.o=3,ni(12)):(this.o=0,ni(13)),Ca(this),Kc(this)}}}catch(pe){}},ji.fb=function(){if(this.g){var t=fa(this.g),i=this.g.ga();this.C<i.length&&(sa(this),$a(this,t,i),this.i&&4!=t&&jo(this))}},ji.cancel=function(){this.I=!0,Ca(this)},ji.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,i){t.info(function(){return"TIMEOUT: "+i})}(this.j,this.A),2!=this.K&&(Rn(3),ni(17)),Ca(this),this.o=2,Kc(this)):mc(this,this.Y-t)},(ji=no.prototype).R=function(){yd(this);for(var t=[],i=0;i<this.g.length;i++)t.push(this.h[this.g[i]]);return t},ji.T=function(){return yd(this),this.g.concat()},ji.get=function(t,i){return tu(this.h,t)?this.h[t]:i},ji.set=function(t,i){tu(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=i},ji.forEach=function(t,i){for(var e=this.T(),s=0;s<e.length;s++){var a=e[s],l=this.get(a);t.call(i,l,a,this)}};var Cf=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function rl(t,i){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof rl){this.g=void 0!==i?i:t.g,Qd(this,t.j),this.s=t.s,sl(this,t.i),Mf(this,t.m),this.l=t.l,i=t.h;var e=new um;e.i=i.i,i.g&&(e.g=new no(i.g),e.h=i.h),vd(this,e),this.o=t.o}else t&&(e=String(t).match(Cf))?(this.g=!!i,Qd(this,e[1]||"",!0),this.s=pa(e[2]||""),sl(this,e[3]||"",!0),Mf(this,e[4]),this.l=pa(e[5]||"",!0),vd(this,e[6]||"",!0),this.o=pa(e[7]||"")):(this.g=!!i,this.h=new um(null,this.g))}function Ql(t){return new rl(t)}function Qd(t,i,e){t.j=e?pa(i,!0):i,t.j&&(t.j=t.j.replace(/:$/,""))}function sl(t,i,e){t.i=e?pa(i,!0):i}function Mf(t,i){if(i){if(i=Number(i),isNaN(i)||0>i)throw Error("Bad port number "+i);t.m=i}else t.m=null}function vd(t,i,e){i instanceof um?(t.h=i,function(t,i){i&&!t.j&&(hp(t),t.i=null,t.g.forEach(function(e,s){var a=s.toLowerCase();s!=a&&(D_(this,s),I_(this,a,e))},t)),t.j=i}(t.h,t.g)):(e||(i=_l(i,wx)),t.h=new um(i,t.g))}function Oo(t,i,e){t.h.set(i,e)}function Lh(t){return Oo(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function pa(t,i){return t?i?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function _l(t,i,e){return"string"==typeof t?(t=encodeURI(t).replace(i,yl),e&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function yl(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}rl.prototype.toString=function(){var t=[],i=this.j;i&&t.push(_l(i,Ph,!0),":");var e=this.i;return(e||"file"==i)&&(t.push("//"),(i=this.s)&&t.push(_l(i,Ph,!0),"@"),t.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&t.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&t.push("/"),t.push(_l(e,"/"==e.charAt(0)?Fc:E_,!0))),(e=this.h.toString())&&t.push("?",e),(e=this.o)&&t.push("#",_l(e,Oy)),t.join("")};var Ph=/[#\/\?@]/g,E_=/[#\?:]/g,Fc=/[#\?]/g,wx=/[#\?@]/g,Oy=/#/g;function um(t,i){this.h=this.g=null,this.i=t||null,this.j=!!i}function hp(t){t.g||(t.g=new no,t.h=0,t.i&&function(t,i){if(t){t=t.split("&");for(var e=0;e<t.length;e++){var s=t[e].indexOf("="),a=null;if(0<=s){var l=t[e].substring(0,s);a=t[e].substring(s+1)}else l=t[e];i(l,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(t.i,function(i,e){t.add(decodeURIComponent(i.replace(/\+/g," ")),e)}))}function D_(t,i){hp(t),i=Tf(t,i),tu(t.g.h,i)&&(t.i=null,t.h-=t.g.get(i).length,tu((t=t.g).h,i)&&(delete t.h[i],t.i--,t.g.length>2*t.i&&yd(t)))}function A_(t,i){return hp(t),i=Tf(t,i),tu(t.g.h,i)}function I_(t,i,e){D_(t,i),0<e.length&&(t.i=null,t.g.set(Tf(t,i),Tg(e)),t.h+=e.length)}function Tf(t,i){return i=String(i),t.j&&(i=i.toLowerCase()),i}(ji=um.prototype).add=function(t,i){hp(this),this.i=null,t=Tf(this,t);var e=this.g.get(t);return e||this.g.set(t,e=[]),e.push(i),this.h+=1,this},ji.forEach=function(t,i){hp(this),this.g.forEach(function(e,s){b_(e,function(a){t.call(i,a,s,this)},this)},this)},ji.T=function(){hp(this);for(var t=this.g.R(),i=this.g.T(),e=[],s=0;s<i.length;s++)for(var a=t[s],l=0;l<a.length;l++)e.push(i[s]);return e},ji.R=function(t){hp(this);var i=[];if("string"==typeof t)A_(this,t)&&(i=Vv(i,this.g.get(Tf(this,t))));else{t=this.g.R();for(var e=0;e<t.length;e++)i=Vv(i,t[e])}return i},ji.set=function(t,i){return hp(this),this.i=null,A_(this,t=Tf(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[i]),this.h+=1,this},ji.get=function(t,i){return t&&0<(t=this.R(t)).length?String(t[0]):i},ji.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],i=this.g.T(),e=0;e<i.length;e++){var s=i[e],a=encodeURIComponent(String(s));s=this.R(s);for(var l=0;l<s.length;l++){var h=a;""!==s[l]&&(h+="="+encodeURIComponent(String(s[l]))),t.push(h)}}return this.i=t.join("&")};var Fy=function(i,e){this.h=i,this.g=e};function Cx(t){this.l=t||_1,t=is.PerformanceNavigationTiming?0<(t=is.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(is.g&&is.g.Ea&&is.g.Ea()&&is.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var _1=10;function Mx(t){return!!t.h||!!t.g&&t.g.size>=t.j}function Tx(t){return t.h?1:t.g?t.g.size:0}function t0(t,i){return t.h?t.h==i:!!t.g&&t.g.has(i)}function n0(t,i){t.g?t.g.add(i):t.h=i}function Sx(t,i){t.h&&t.h==i?t.h=null:t.g&&t.g.has(i)&&t.g.delete(i)}function kx(t){var i,e;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var s=t.i;try{for(var a=Cy(t.g.values()),l=a.next();!l.done;l=a.next())s=s.concat(l.value.D)}catch(v){i={error:v}}finally{try{l&&!l.done&&(e=a.return)&&e.call(a)}finally{if(i)throw i.error}}return s}return Tg(t.i)}function r0(){}function I(){this.g=new r0}function H(t,i,e){var s=e||"";try{eu(t,function(a,l){var h=a;rm(a)&&(h=jv(a)),i.push(s+l+"="+encodeURIComponent(h))})}catch(a){throw i.push(s+"type="+encodeURIComponent("_badmap")),a}}function Se(t,i,e,s,a){try{i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null,a(s)}catch(l){}}function Xe(t){this.l=t.$b||null,this.j=t.ib||!1}function ht(t,i){ql.call(this),this.D=t,this.u=i,this.m=void 0,this.readyState=Yt,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Cx.prototype.cancel=function(){var t,i;if(this.i=kx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var e=Cy(this.g.values()),s=e.next();!s.done;s=e.next())s.value.cancel()}catch(l){t={error:l}}finally{try{s&&!s.done&&(i=e.return)&&i.call(e)}finally{if(t)throw t.error}}this.g.clear()}},r0.prototype.stringify=function(t){return is.JSON.stringify(t,void 0)},r0.prototype.parse=function(t){return is.JSON.parse(t,void 0)},go(Xe,zr),Xe.prototype.g=function(){return new ht(this.l,this.j)},Xe.prototype.i=function(t){return function(){return t}}({}),go(ht,ql);var Yt=0;function Kt(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function fn(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Qn(t)}function Qn(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(ji=ht.prototype).open=function(t,i){if(this.readyState!=Yt)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=i,this.readyState=1,Qn(this)},ji.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var i={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(i.body=t),(this.D||is).fetch(new Request(this.B,i)).then(this.Va.bind(this),this.ha.bind(this))},ji.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,fn(this)),this.readyState=Yt},ji.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==is.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Kt(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},ji.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var i=t.value?t.value:new Uint8Array(0);(i=this.A.decode(i,{stream:!t.done}))&&(this.response=this.responseText+=i)}t.done?fn(this):Qn(this),3==this.readyState&&Kt(this)}},ji.Ua=function(t){this.g&&(this.response=this.responseText=t,fn(this))},ji.Ta=function(t){this.g&&(this.response=t,fn(this))},ji.ha=function(){this.g&&fn(this)},ji.setRequestHeader=function(t,i){this.v.append(t,i)},ji.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},ji.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],i=this.h.entries(),e=i.next();!e.done;)t.push((e=e.value)[0]+": "+e[1]),e=i.next();return t.join("\r\n")},Object.defineProperty(ht.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Jn=is.JSON.parse;function Wn(t){ql.call(this),this.headers=new no,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Fi,this.K=this.L=!1}go(Wn,ql);var Fi="",dr=/^https?$/i,Ur=["POST","PUT"];function Wr(t){return"content-type"==t.toLowerCase()}function Ks(t,i){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=i,t.m=5,co(t),Zu(t)}function co(t){t.D||(t.D=!0,fc(t,"complete"),fc(t,"error"))}function Oh(t){if(t.h&&void 0!==v_&&(!t.C[1]||4!=fa(t)||2!=t.ba()))if(t.v&&4==fa(t))be(t.Fa,0,t);else if(fc(t,"readystatechange"),4==fa(t)){t.h=!1;try{var s,i=t.ba();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}if(!(s=e)){var a;if(a=0===i){var l=String(t.H).match(Cf)[1]||null;if(!l&&is.self&&is.self.location){var h=is.self.location.protocol;l=h.substr(0,h.length-1)}a=!dr.test(l?l.toLowerCase():"")}s=a}if(s)fc(t,"complete"),fc(t,"success");else{t.m=6;try{var v=2<fa(t)?t.g.statusText:""}catch(C){v=""}t.j=v+" ["+t.ba()+"]",co(t)}}finally{Zu(t)}}}function Zu(t,i){if(t.g){Rh(t);var e=t.g,s=t.C[0]?Um:null;t.g=null,t.C=null,i||fc(t,"ready");try{e.onreadystatechange=s}catch(a){}}}function Rh(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(is.clearTimeout(t.A),t.A=null)}function fa(t){return t.g?t.g.readyState:0}function Fh(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case Fi:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(i){return null}}function s0(t,i,e){e:{for(s in e){var s=!1;break e}s=!0}s||(e=function(t){var i="";return za(t,function(e,s){i+=s,i+=":",i+=e,i+="\r\n"}),i}(e),"string"==typeof t?null!=e&&encodeURIComponent(String(e)):Oo(t,i,e))}function y1(t,i,e){return e&&e.internalChannelParams&&e.internalChannelParams[t]||i}function $L(t){this.za=0,this.l=[],this.h=new Ht,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=y1("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=y1("baseRetryDelayMs",5e3,t),this.$a=y1("retryDelaySeedMs",1e4,t),this.Ya=y1("forwardChannelMaxRetries",2,t),this.ra=y1("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new Cx(t&&t.concurrentRequestLimit),this.Ca=new I,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function Fk(t){if(yM(t),3==t.G){var i=t.V++,e=Ql(t.F);Oo(e,"SID",t.J),Oo(e,"RID",i),Oo(e,"TYPE","terminate"),a0(t,e),(i=new ia(t,t.h,i,void 0)).K=2,i.v=Lh(Ql(e)),e=!1,is.navigator&&is.navigator.sendBeacon&&(e=is.navigator.sendBeacon(i.v.toString(),"")),!e&&is.Image&&((new Image).src=i.v,e=!0),e||(i.g=Uk(i.l,null),i.g.ea(i.v)),i.F=Date.now(),jo(i)}Vk(t)}function v1(t){t.g&&(bM(t),t.g.cancel(),t.g=null)}function yM(t){v1(t),t.u&&(is.clearTimeout(t.u),t.u=null),x1(t),t.i.cancel(),t.m&&("number"==typeof t.m&&is.clearTimeout(t.m),t.m=null)}function Nk(t,i){t.l.push(new Fy(t.Za++,i)),3==t.G&&b1(t)}function b1(t){Mx(t.i)||t.m||(t.m=!0,y(t.Ha,t),t.C=0)}function zk(t,i){var e;e=i?i.m:t.V++;var s=Ql(t.F);Oo(s,"SID",t.J),Oo(s,"RID",e),Oo(s,"AID",t.U),a0(t,s),t.o&&t.s&&s0(s,t.o,t.s),e=new ia(t,t.h,e,t.C+1),null===t.o&&(e.H=t.s),i&&(t.l=i.D.concat(t.l)),i=Bk(t,e,1e3),e.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),n0(t.i,e),gl(e,s,i)}function a0(t,i){t.j&&eu({},function(e,s){Oo(i,s,e)})}function Bk(t,i,e){e=Math.min(t.l.length,e);var s=t.j?Na(t.j.Oa,t.j,t):null;e:for(var a=t.l,l=-1;;){var h=["count="+e];-1==l?0<e?h.push("ofs="+(l=a[0].h)):l=0:h.push("ofs="+l);for(var v=!0,C=0;C<e;C++){var O=a[C].h,G=a[C].g;if(0>(O-=l))l=Math.max(0,a[C].h-100),v=!1;else try{H(G,h,"req"+O+"_")}catch(te){s&&s(G)}}if(v){s=h.join("&");break e}}return t=t.l.splice(0,e),i.D=t,s}function vM(t){t.g||t.u||(t.Y=1,y(t.Ga,t),t.A=0)}function l0(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=ur(Na(t.Ga,t),Hk(t,t.A)),t.A++,0))}function bM(t){null!=t.B&&(is.clearTimeout(t.B),t.B=null)}function xM(t){t.g=new ia(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var i=Ql(t.oa);Oo(i,"RID","rpc"),Oo(i,"SID",t.J),Oo(i,"CI",t.N?"0":"1"),Oo(i,"AID",t.U),a0(t,i),Oo(i,"TYPE","xmlhttp"),t.o&&t.s&&s0(i,t.o,t.s),t.K&&t.g.setTimeout(t.K);var e=t.g;t=t.la,e.K=1,e.v=Lh(Ql(i)),e.s=null,e.U=!0,Po(e,t)}function x1(t){null!=t.v&&(is.clearTimeout(t.v),t.v=null)}function Yk(t,i){var e=null;if(t.g==i){x1(t),bM(t),t.g=null;var s=2}else{if(!t0(t.i,i))return;e=i.D,Sx(t.i,i),s=1}if(t.I=i.N,0!=t.G)if(i.i)if(1==s){e=i.s?i.s.length:0,i=Date.now()-i.F;var a=t.C;fc(s=Zn(),new Pn(s,e,i,a)),b1(t)}else vM(t);else if(3==(a=i.o)||0==a&&0<t.I||!(1==s&&function(t,i){return!(Tx(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=i.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=ur(Na(t.Ha,t,i),Hk(t,t.C)),t.C++,0)))}(t,i)||2==s&&l0(t)))switch(e&&0<e.length&&(i=t.i,i.i=i.i.concat(e)),a){case 1:Gv(t,5);break;case 4:Gv(t,10);break;case 3:Gv(t,6);break;default:Gv(t,2)}}function Hk(t,i){var e=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(e*=2),e*i}function Gv(t,i){if(t.h.info("Error code "+i),2==i){var e=null;t.j&&(e=null);var s=Na(t.jb,t);e||(e=new rl("//www.google.com/images/cleardot.gif"),is.location&&"http"==is.location.protocol||Qd(e,"https"),Lh(e)),function(t,i){var e=new Ht;if(is.Image){var s=new Image;s.onload=Gr(Se,e,s,"TestLoadImage: loaded",!0,i),s.onerror=Gr(Se,e,s,"TestLoadImage: error",!1,i),s.onabort=Gr(Se,e,s,"TestLoadImage: abort",!1,i),s.ontimeout=Gr(Se,e,s,"TestLoadImage: timeout",!1,i),is.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=t}else i(!1)}(e.toString(),s)}else ni(2);t.G=0,t.j&&t.j.va(i),Vk(t),yM(t)}function Vk(t){t.G=0,t.I=-1,t.j&&((0!=kx(t.i).length||0!=t.l.length)&&(t.i.i.length=0,Tg(t.l),t.l.length=0),t.j.ua())}function wM(t,i,e){var s=function(t){return t instanceof rl?Ql(t):new rl(t,void 0)}(e);if(""!=s.i)i&&sl(s,i+"."+s.i),Mf(s,s.m);else{var a=is.location;s=function(t,i,e,s){var a=new rl(null,void 0);return t&&Qd(a,t),i&&sl(a,i),e&&Mf(a,e),s&&(a.l=s),a}(a.protocol,i?i+"."+a.hostname:a.hostname,+a.port,e)}return t.aa&&za(t.aa,function(l,h){Oo(s,h,l)}),e=t.sa,(i=t.D)&&e&&Oo(s,i,e),Oo(s,"VER",t.ma),a0(t,s),s}function Uk(t,i,e){if(i&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(i=new Wn(e&&t.Ba&&!t.qa?new Xe({ib:!0}):t.qa)).L=t.H,i}function CM(){}function Ex(){if(cp&&!(10<=Number(S_)))throw Error("Environmental error: no available transport.")}function pp(t,i){ql.call(this),this.g=new $L(i),this.l=t,this.h=i&&i.messageUrlParams||null,t=i&&i.messageHeaders||null,i&&i.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=i&&i.initMessageHeaders||null,i&&i.messageContentType&&(t?t["X-WebChannel-Content-Type"]=i.messageContentType:t={"X-WebChannel-Content-Type":i.messageContentType}),i&&i.ya&&(t?t["X-WebChannel-Client-Profile"]=i.ya:t={"X-WebChannel-Client-Profile":i.ya}),this.g.P=t,(t=i&&i.httpHeadersOverwriteParam)&&!Sg(t)&&(this.g.o=t),this.A=i&&i.supportsCrossDomainXhr||!1,this.v=i&&i.sendRawJson||!1,(i=i&&i.httpSessionIdParam)&&!Sg(i)&&(this.g.D=i,null!==(t=this.h)&&i in t&&i in(t=this.h)&&delete t[i]),this.j=new c0(this)}function QL(t){na.call(this);var i=t.__sm__;if(i){e:{for(var e in i){t=e;break e}t=void 0}(this.i=t)&&(t=this.i,i=null!==i&&t in i?i[t]:void 0),this.data=i}else this.data=t}function w1(){qa.call(this),this.status=1}function c0(t){this.g=t}(ji=Wn.prototype).ea=function(t,i,e,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);i=i?i.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ba.g(),this.C=function(t){return t.h||(t.h=t.i())}(this.u?this.u:Ba),this.g.onreadystatechange=Na(this.Fa,this);try{this.F=!0,this.g.open(i,String(t),!0),this.F=!1}catch(l){return void Ks(this,l)}t=e||"";var a=new no(this.headers);s&&eu(s,function(l,h){a.set(h,l)}),s=function(t){e:{for(var i=Wr,e=t.length,s="string"==typeof t?t.split(""):t,a=0;a<e;a++)if(a in s&&i.call(void 0,s[a],a,t)){i=a;break e}i=-1}return 0>i?null:"string"==typeof t?t.charAt(i):t[i]}(a.T()),e=is.FormData&&t instanceof is.FormData,!(0<=om(Ur,i))||s||e||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),a.forEach(function(l,h){this.g.setRequestHeader(h,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Rh(this),0<this.B&&((this.K=function(t){return cp&&ky()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Na(this.pa,this)):this.A=be(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(l){Ks(this,l)}},ji.pa=function(){void 0!==v_&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,fc(this,"timeout"),this.abort(8))},ji.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,fc(this,"complete"),fc(this,"abort"),Zu(this))},ji.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Zu(this,!0)),Wn.Z.M.call(this)},ji.Fa=function(){this.s||(this.F||this.v||this.l?Oh(this):this.cb())},ji.cb=function(){Oh(this)},ji.ba=function(){try{return 2<fa(this)?this.g.status:-1}catch(t){return-1}},ji.ga=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},ji.Qa=function(t){if(this.g){var i=this.g.responseText;return t&&0==i.indexOf(t)&&(i=i.substring(t.length)),Jn(i)}},ji.Da=function(){return this.m},ji.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ji=$L.prototype).ma=8,ji.G=1,ji.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(i){}},ji.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var i=new ia(this,this.h,t,void 0),e=this.s;if(this.P&&(e?Sy(e=My(e),this.P):e=this.P),null===this.o&&(i.H=e),this.ja)e:{for(var s=0,a=0;a<this.l.length;a++){var l=this.l[a];if(void 0===(l="__data__"in l.g&&"string"==typeof(l=l.g.__data__)?l.length:void 0))break;if(4096<(s+=l)){s=a;break e}if(4096===s||a===this.l.length-1){s=a+1;break e}}s=1e3}else s=1e3;s=Bk(this,i,s),Oo(a=Ql(this.F),"RID",t),Oo(a,"CVER",22),this.D&&Oo(a,"X-HTTP-Session-Id",this.D),a0(this,a),this.o&&e&&s0(a,this.o,e),n0(this.i,i),this.Ra&&Oo(a,"TYPE","init"),this.ja?(Oo(a,"$req",s),Oo(a,"SID","null"),i.$=!0,gl(i,a,null)):gl(i,a,s),this.G=2}}else 3==this.G&&(t?zk(this,t):0==this.l.length||Mx(this.i)||zk(this))},ji.Ga=function(){if(this.u=null,xM(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=ur(Na(this.bb,this),t)}},ji.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ni(10),v1(this),xM(this))},ji.ab=function(){null!=this.v&&(this.v=null,v1(this),l0(this),ni(19))},ji.jb=function(t){t?(this.h.info("Successfully pinged google.com"),ni(2)):(this.h.info("Failed to ping google.com"),ni(1))},(ji=CM.prototype).xa=function(){},ji.wa=function(){},ji.va=function(){},ji.ua=function(){},ji.Oa=function(){},Ex.prototype.g=function(t,i){return new pp(t,i)},go(pp,ql),pp.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,i=this.l,e=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),y(Na(t.hb,t,i))),ni(0),t.W=i,t.aa=e||{},t.N=t.X,t.F=wM(t,null,t.W),b1(t)},pp.prototype.close=function(){Fk(this.g)},pp.prototype.u=function(t){if("string"==typeof t){var i={};i.__data__=t,Nk(this.g,i)}else this.v?((i={}).__data__=jv(t),Nk(this.g,i)):Nk(this.g,t)},pp.prototype.M=function(){this.g.j=null,delete this.j,Fk(this.g),delete this.g,pp.Z.M.call(this)},go(QL,na),go(w1,qa),go(c0,CM),c0.prototype.xa=function(){fc(this.g,"a")},c0.prototype.wa=function(t){fc(this.g,new QL(t))},c0.prototype.va=function(t){fc(this.g,new w1(t))},c0.prototype.ua=function(){fc(this.g,"b")},Ex.prototype.createWebChannel=Ex.prototype.g,pp.prototype.send=pp.prototype.u,pp.prototype.open=pp.prototype.m,pp.prototype.close=pp.prototype.close,Nr.NO_ERROR=0,Nr.TIMEOUT=8,Nr.HTTP_ERROR=6,rs.COMPLETE="complete",yo.EventType=Wi,Wi.OPEN="a",Wi.CLOSE="b",Wi.ERROR="c",Wi.MESSAGE="d",ql.prototype.listen=ql.prototype.N,Wn.prototype.listenOnce=Wn.prototype.O,Wn.prototype.getLastError=Wn.prototype.La,Wn.prototype.getLastErrorCode=Wn.prototype.Da,Wn.prototype.getStatus=Wn.prototype.ba,Wn.prototype.getResponseJson=Wn.prototype.Qa,Wn.prototype.getResponseText=Wn.prototype.ga,Wn.prototype.send=Wn.prototype.ea;var C1=Nr,M1=rs,T1=Un,MM_PROXY=10,MM_NOPROXY=11,S1=Xe,Wv=yo,TM=Wn,fp=function(){function t(i,e){var s=this;this.previousValue=i,e&&(e.sequenceNumberHandler=function(a){return s.t(a)},this.i=function(a){return e.writeSequenceNumber(a)})}return t.prototype.t=function(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue},t.prototype.next=function(){var i=++this.previousValue;return this.i&&this.i(i),i},t}();fp.o=-1;var Ln={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},pi=function(t){function i(e,s){var a=this;return(a=t.call(this,s)||this).code=e,a.message=s,a.name="FirebaseError",a.toString=function(){return a.name+": [code="+a.code+"]: "+a.message},a}return(0,vt.ZT)(i,t),i}(Error),dm=new Ah.Yd("@firebase/firestore");function Dx(){return dm.logLevel}function Si(t){for(var i=[],e=1;e<arguments.length;e++)i[e-1]=arguments[e];if(dm.logLevel<=Ah.in.DEBUG){var s=i.map(Ax);dm.debug.apply(dm,(0,vt.ev)(["Firestore (8.8.1): "+t],s))}}function Nc(t){for(var i=[],e=1;e<arguments.length;e++)i[e-1]=arguments[e];if(dm.logLevel<=Ah.in.ERROR){var s=i.map(Ax);dm.error.apply(dm,(0,vt.ev)(["Firestore (8.8.1): "+t],s))}}function qv(t){for(var i=[],e=1;e<arguments.length;e++)i[e-1]=arguments[e];if(dm.logLevel<=Ah.in.WARN){var s=i.map(Ax);dm.warn.apply(dm,(0,vt.ev)(["Firestore (8.8.1): "+t],s))}}function Ax(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(e){return t}}function br(t){void 0===t&&(t="Unexpected state");var i="FIRESTORE (8.8.1) INTERNAL ASSERTION FAILED: "+t;throw Nc(i),new Error(i)}function cs(t,i){t||br()}function Ni(t,i){return t}function SM(t){var i="undefined"!=typeof self&&(self.crypto||self.msCrypto),e=new Uint8Array(t);if(i&&"function"==typeof i.getRandomValues)i.getRandomValues(e);else for(var s=0;s<t;s++)e[s]=Math.floor(256*Math.random());return e}var kM=function(){function t(){}return t.u=function(){for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/i.length)*i.length,s="";s.length<20;)for(var a=SM(40),l=0;l<a.length;++l)s.length<20&&a[l]<e&&(s+=i.charAt(a[l]%i.length));return s},t}();function vo(t,i){return t<i?-1:t>i?1:0}function $v(t,i,e){return t.length===i.length&&t.every(function(s,a){return e(s,i[a])})}function EM(t){return t+"\0"}var Nh=function(){function t(i,e){if(this.seconds=i,this.nanoseconds=e,e<0)throw new pi(Ln.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new pi(Ln.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(i<-62135596800)throw new pi(Ln.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i);if(i>=253402300800)throw new pi(Ln.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(i){return t.fromMillis(i.getTime())},t.fromMillis=function(i){var e=Math.floor(i/1e3);return new t(e,Math.floor(1e6*(i-1e3*e)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(i){return this.seconds===i.seconds?vo(this.nanoseconds,i.nanoseconds):vo(this.seconds,i.seconds)},t.prototype.isEqual=function(i){return i.seconds===this.seconds&&i.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Ys=function(){function t(i){this.timestamp=i}return t.fromTimestamp=function(i){return new t(i)},t.min=function(){return new t(new Nh(0,0))},t.prototype.compareTo=function(i){return this.timestamp._compareTo(i.timestamp)},t.prototype.isEqual=function(i){return this.timestamp.isEqual(i.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function DM(t){var i=0;for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&i++;return i}function Ny(t,i){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&i(e,t[e])}function AM(t){for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i))return!1;return!0}var IM=function(){function t(i,e,s){void 0===e?e=0:e>i.length&&br(),void 0===s?s=i.length-e:s>i.length-e&&br(),this.segments=i,this.offset=e,this.len=s}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(i){return 0===t.comparator(this,i)},t.prototype.child=function(i){var e=this.segments.slice(this.offset,this.limit());return i instanceof t?i.forEach(function(s){e.push(s)}):e.push(i),this.construct(e)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(i){return this.construct(this.segments,this.offset+(i=void 0===i?1:i),this.length-i)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(i){return this.segments[this.offset+i]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(i){if(i.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==i.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(i){if(this.length+1!==i.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==i.get(e))return!1;return!0},t.prototype.forEach=function(i){for(var e=this.offset,s=this.limit();e<s;e++)i(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(i,e){for(var s=Math.min(i.length,e.length),a=0;a<s;a++){var l=i.get(a),h=e.get(a);if(l<h)return-1;if(l>h)return 1}return i.length<e.length?-1:i.length>e.length?1:0},t}(),Zo=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return(0,vt.ZT)(i,t),i.prototype.construct=function(e,s,a){return new i(e,s,a)},i.prototype.canonicalString=function(){return this.toArray().join("/")},i.prototype.toString=function(){return this.canonicalString()},i.fromString=function(){for(var e=[],s=0;s<arguments.length;s++)e[s]=arguments[s];for(var a=[],l=0,h=e;l<h.length;l++){var v=h[l];if(v.indexOf("//")>=0)throw new pi(Ln.INVALID_ARGUMENT,"Invalid segment ("+v+"). Paths must not contain // in them.");a.push.apply(a,v.split("/").filter(function(C){return C.length>0}))}return new i(a)},i.emptyPath=function(){return new i([])},i}(IM),jk=/^[_a-zA-Z][_a-zA-Z0-9]*$/,hm=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return(0,vt.ZT)(i,t),i.prototype.construct=function(e,s,a){return new i(e,s,a)},i.isValidIdentifier=function(e){return jk.test(e)},i.prototype.canonicalString=function(){return this.toArray().map(function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),i.isValidIdentifier(e)||(e="`"+e+"`"),e}).join(".")},i.prototype.toString=function(){return this.canonicalString()},i.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},i.keyField=function(){return new i(["__name__"])},i.fromServerFormat=function(e){for(var s=[],a="",l=0,h=function(){if(0===a.length)throw new pi(Ln.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");s.push(a),a=""},v=!1;l<e.length;){var C=e[l];if("\\"===C){if(l+1===e.length)throw new pi(Ln.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var O=e[l+1];if("\\"!==O&&"."!==O&&"`"!==O)throw new pi(Ln.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=O,l+=2}else"`"===C?(v=!v,l++):"."!==C||v?(a+=C,l++):(h(),l++)}if(h(),v)throw new pi(Ln.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new i(s)},i.emptyPath=function(){return new i([])},i}(IM),Qv=function(){function t(i){this.fields=i,i.sort(hm.comparator)}return t.prototype.covers=function(i){for(var e=0,s=this.fields;e<s.length;e++)if(s[e].isPrefixOf(i))return!0;return!1},t.prototype.isEqual=function(i){return $v(this.fields,i.fields,function(e,s){return e.isEqual(s)})},t}(),$p=function(){function t(i){this.binaryString=i}return t.fromBase64String=function(i){return new t(atob(i))},t.fromUint8Array=function(i){return new t(function(e){for(var s="",a=0;a<e.length;++a)s+=String.fromCharCode(e[a]);return s}(i))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(i){for(var e=new Uint8Array(i.length),s=0;s<i.length;s++)e[s]=i.charCodeAt(s);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(i){return vo(this.binaryString,i.binaryString)},t.prototype.isEqual=function(i){return this.binaryString===i.binaryString},t}();$p.EMPTY_BYTE_STRING=new $p("");var JL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zy(t){if(cs(!!t),"string"==typeof t){var i=0,e=JL.exec(t);if(cs(!!e),e[1]){var s=e[1];s=(s+"000000000").substr(0,9),i=Number(s)}var a=new Date(t);return{seconds:Math.floor(a.getTime()/1e3),nanos:i}}return{seconds:nu(t.seconds),nanos:nu(t.nanos)}}function nu(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function d0(t){return"string"==typeof t?$p.fromBase64String(t):$p.fromUint8Array(t)}function iu(t){var i,e;return"server_timestamp"===(null===(e=((null===(i=null==t?void 0:t.mapValue)||void 0===i?void 0:i.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function LM(t){var i=t.mapValue.fields.__previous_value__;return iu(i)?LM(i):i}function Ix(t){var i=zy(t.mapValue.fields.__local_write_time__.timestampValue);return new Nh(i.seconds,i.nanos)}function Xv(t){return null==t}function Lx(t){return 0===t&&1/t==-1/0}function Zk(t){return"number"==typeof t&&Number.isInteger(t)&&!Lx(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Tr=function(){function t(i){this.path=i}return t.fromPath=function(i){return new t(Zo.fromString(i))},t.fromName=function(i){return new t(Zo.fromString(i).popFirst(5))},t.prototype.hasCollectionId=function(i){return this.path.length>=2&&this.path.get(this.path.length-2)===i},t.prototype.isEqual=function(i){return null!==i&&0===Zo.comparator(this.path,i.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(i,e){return Zo.comparator(i.path,e.path)},t.isDocumentKey=function(i){return i.length%2==0},t.fromSegments=function(i){return new t(new Zo(i.slice()))},t}();function By(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?iu(t)?4:10:br()}function mp(t,i){var a,e=By(t);if(e!==By(i))return!1;switch(e){case 0:return!0;case 1:return t.booleanValue===i.booleanValue;case 4:return Ix(t).isEqual(Ix(i));case 3:return function(s,a){if("string"==typeof s.timestampValue&&"string"==typeof a.timestampValue&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;var l=zy(s.timestampValue),h=zy(a.timestampValue);return l.seconds===h.seconds&&l.nanos===h.nanos}(t,i);case 5:return t.stringValue===i.stringValue;case 6:return a=i,d0(t.bytesValue).isEqual(d0(a.bytesValue));case 7:return t.referenceValue===i.referenceValue;case 8:return function(s,a){return nu(s.geoPointValue.latitude)===nu(a.geoPointValue.latitude)&&nu(s.geoPointValue.longitude)===nu(a.geoPointValue.longitude)}(t,i);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return nu(s.integerValue)===nu(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){var l=nu(s.doubleValue),h=nu(a.doubleValue);return l===h?Lx(l)===Lx(h):isNaN(l)&&isNaN(h)}return!1}(t,i);case 9:return $v(t.arrayValue.values||[],i.arrayValue.values||[],mp);case 10:return function(s,a){var l=s.mapValue.fields||{},h=a.mapValue.fields||{};if(DM(l)!==DM(h))return!1;for(var v in l)if(l.hasOwnProperty(v)&&(void 0===h[v]||!mp(l[v],h[v])))return!1;return!0}(t,i);default:return br()}}function Px(t,i){return void 0!==(t.values||[]).find(function(e){return mp(e,i)})}function h0(t,i){var a,l,h,v,e=By(t),s=By(i);if(e!==s)return vo(e,s);switch(e){case 0:return 0;case 1:return vo(t.booleanValue,i.booleanValue);case 2:return l=i,(h=nu((a=t).integerValue||a.doubleValue))<(v=nu(l.integerValue||l.doubleValue))?-1:h>v?1:h===v?0:isNaN(h)?isNaN(v)?0:-1:1;case 3:return PM(t.timestampValue,i.timestampValue);case 4:return PM(Ix(t),Ix(i));case 5:return vo(t.stringValue,i.stringValue);case 6:return function(a,l){var h=d0(a),v=d0(l);return h.compareTo(v)}(t.bytesValue,i.bytesValue);case 7:return function(a,l){for(var h=a.split("/"),v=l.split("/"),C=0;C<h.length&&C<v.length;C++){var O=vo(h[C],v[C]);if(0!==O)return O}return vo(h.length,v.length)}(t.referenceValue,i.referenceValue);case 8:return function(a,l){var h=vo(nu(a.latitude),nu(l.latitude));return 0!==h?h:vo(nu(a.longitude),nu(l.longitude))}(t.geoPointValue,i.geoPointValue);case 9:return function(a,l){for(var h=a.values||[],v=l.values||[],C=0;C<h.length&&C<v.length;++C){var O=h0(h[C],v[C]);if(O)return O}return vo(h.length,v.length)}(t.arrayValue,i.arrayValue);case 10:return function(a,l){var h=a.fields||{},v=Object.keys(h),C=l.fields||{},O=Object.keys(C);v.sort(),O.sort();for(var G=0;G<v.length&&G<O.length;++G){var te=vo(v[G],O[G]);if(0!==te)return te;var pe=h0(h[v[G]],C[O[G]]);if(0!==pe)return pe}return vo(v.length,O.length)}(t.mapValue,i.mapValue);default:throw br()}}function PM(t,i){if("string"==typeof t&&"string"==typeof i&&t.length===i.length)return vo(t,i);var e=zy(t),s=zy(i),a=vo(e.seconds,s.seconds);return 0!==a?a:vo(e.nanos,s.nanos)}function OM(t){return k1(t)}function k1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?"time("+(a=zy(t.timestampValue)).seconds+","+a.nanos+")":"stringValue"in t?t.stringValue:"bytesValue"in t?d0(t.bytesValue).toBase64():"referenceValue"in t?Tr.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(i=t.geoPointValue).latitude+","+i.longitude+")":"arrayValue"in t?function(s){for(var a="[",l=!0,h=0,v=s.values||[];h<v.length;h++)l?l=!1:a+=",",a+=k1(v[h]);return a+"]"}(t.arrayValue):"mapValue"in t?function(s){for(var a="{",l=!0,h=0,v=Object.keys(s.fields||{}).sort();h<v.length;h++){var C=v[h];l?l=!1:a+=",",a+=C+":"+k1(s.fields[C])}return a+"}"}(t.mapValue):br();var a,i}function RM(t,i){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+i.path.canonicalString()}}function Ox(t){return!!t&&"integerValue"in t}function Rx(t){return!!t&&"arrayValue"in t}function pm(t){return!!t&&"nullValue"in t}function Gk(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Fx(t){return!!t&&"mapValue"in t}function Qp(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var i={mapValue:{fields:{}}};return Ny(t.mapValue.fields,function(a,l){return i.mapValue.fields[a]=Qp(l)}),i}if(t.arrayValue){for(var e={arrayValue:{values:[]}},s=0;s<(t.arrayValue.values||[]).length;++s)e.arrayValue.values[s]=Qp(t.arrayValue.values[s]);return e}return Object.assign({},t)}var gc=function(){function t(i){this.value=i}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(i){if(i.isEmpty())return this.value;for(var e=this.value,s=0;s<i.length-1;++s)if(!Fx(e=(e.mapValue.fields||{})[i.get(s)]))return null;return(e=(e.mapValue.fields||{})[i.lastSegment()])||null},t.prototype.set=function(i,e){this.getFieldsMap(i.popLast())[i.lastSegment()]=Qp(e)},t.prototype.setAll=function(i){var e=this,s=hm.emptyPath(),a={},l=[];i.forEach(function(v,C){if(!s.isImmediateParentOf(C)){var O=e.getFieldsMap(s);e.applyChanges(O,a,l),a={},l=[],s=C.popLast()}v?a[C.lastSegment()]=Qp(v):l.push(C.lastSegment())});var h=this.getFieldsMap(s);this.applyChanges(h,a,l)},t.prototype.delete=function(i){var e=this.field(i.popLast());Fx(e)&&e.mapValue.fields&&delete e.mapValue.fields[i.lastSegment()]},t.prototype.isEqual=function(i){return mp(this.value,i.value)},t.prototype.getFieldsMap=function(i){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var s=0;s<i.length;++s){var a=e.mapValue.fields[i.get(s)];Fx(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},e.mapValue.fields[i.get(s)]=a),e=a}return e.mapValue.fields},t.prototype.applyChanges=function(i,e,s){Ny(e,function(v,C){return i[v]=C});for(var a=0,l=s;a<l.length;a++)delete i[l[a]]},t.prototype.clone=function(){return new t(Qp(this.value))},t}();function fm(t){var i=[];return Ny(t.fields,function(e,s){var a=new hm([e]);if(Fx(s)){var l=fm(s.mapValue).fields;if(0===l.length)i.push(a);else for(var h=0,v=l;h<v.length;h++)i.push(a.child(v[h]))}else i.push(a)}),new Qv(i)}var bd=function(){function t(i,e,s,a,l){this.key=i,this.documentType=e,this.version=s,this.data=a,this.documentState=l}return t.newInvalidDocument=function(i){return new t(i,0,Ys.min(),gc.empty(),0)},t.newFoundDocument=function(i,e,s){return new t(i,1,e,s,0)},t.newNoDocument=function(i,e){return new t(i,2,e,gc.empty(),0)},t.newUnknownDocument=function(i,e){return new t(i,3,e,gc.empty(),2)},t.prototype.convertToFoundDocument=function(i,e){return this.version=i,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(i){return this.version=i,this.documentType=2,this.data=gc.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(i){return this.version=i,this.documentType=3,this.data=gc.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(i){return i instanceof t&&this.key.isEqual(i.key)&&this.version.isEqual(i.version)&&this.documentType===i.documentType&&this.documentState===i.documentState&&this.data.isEqual(i.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Wk=function(t,i,e,s,a,l,h){void 0===i&&(i=null),void 0===e&&(e=[]),void 0===s&&(s=[]),void 0===a&&(a=null),void 0===l&&(l=null),void 0===h&&(h=null),this.path=t,this.collectionGroup=i,this.orderBy=e,this.filters=s,this.limit=a,this.startAt=l,this.endAt=h,this.h=null};function qk(t,i,e,s,a,l,h){return void 0===i&&(i=null),void 0===e&&(e=[]),void 0===s&&(s=[]),void 0===a&&(a=null),void 0===l&&(l=null),void 0===h&&(h=null),new Wk(t,i,e,s,a,l,h)}function Nx(t){var i=Ni(t);if(null===i.h){var e=i.path.canonicalString();null!==i.collectionGroup&&(e+="|cg:"+i.collectionGroup),e+="|f:",e+=i.filters.map(function(s){return(a=s).field.canonicalString()+a.op.toString()+OM(a.value);var a}).join(","),e+="|ob:",e+=i.orderBy.map(function(s){return(a=s).field.canonicalString()+a.dir;var a}).join(","),Xv(i.limit)||(e+="|l:",e+=i.limit),i.startAt&&(e+="|lb:",e+=Bx(i.startAt)),i.endAt&&(e+="|ub:",e+=Bx(i.endAt)),i.h=e}return i.h}function E1(t,i){if(t.limit!==i.limit||t.orderBy.length!==i.orderBy.length)return!1;for(var e=0;e<t.orderBy.length;e++)if(!I1(t.orderBy[e],i.orderBy[e]))return!1;if(t.filters.length!==i.filters.length)return!1;for(var s=0;s<t.filters.length;s++)if((a=t.filters[s]).op!==(l=i.filters[s]).op||!a.field.isEqual(l.field)||!mp(a.value,l.value))return!1;var a,l;return t.collectionGroup===i.collectionGroup&&!!t.path.isEqual(i.path)&&!!FM(t.startAt,i.startAt)&&FM(t.endAt,i.endAt)}function D1(t){return Tr.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var gp=function(t){function i(e,s,a){var l=this;return(l=t.call(this)||this).field=e,l.op=s,l.value=a,l}return(0,vt.ZT)(i,t),i.create=function(e,s,a){return e.isKeyField()?"in"===s||"not-in"===s?this.l(e,s,a):new zx(e,s,a):"array-contains"===s?new Xk(e,a):"in"===s?new Jk(e,a):"not-in"===s?new A1(e,a):"array-contains-any"===s?new e2(e,a):new i(e,s,a)},i.l=function(e,s,a){return"in"===s?new KL(e,a):new $k(e,a)},i.prototype.matches=function(e){var s=e.data.field(this.field);return"!="===this.op?null!==s&&this.m(h0(s,this.value)):null!==s&&By(this.value)===By(s)&&this.m(h0(s,this.value))},i.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return br()}},i.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},i}(function(){}),zx=function(t){function i(e,s,a){var l=this;return(l=t.call(this,e,s,a)||this).key=Tr.fromName(a.referenceValue),l}return(0,vt.ZT)(i,t),i.prototype.matches=function(e){var s=Tr.comparator(e.key,this.key);return this.m(s)},i}(gp),KL=function(t){function i(e,s){var a=this;return(a=t.call(this,e,"in",s)||this).keys=Qk(0,s),a}return(0,vt.ZT)(i,t),i.prototype.matches=function(e){return this.keys.some(function(s){return s.isEqual(e.key)})},i}(gp),$k=function(t){function i(e,s){var a=this;return(a=t.call(this,e,"not-in",s)||this).keys=Qk(0,s),a}return(0,vt.ZT)(i,t),i.prototype.matches=function(e){return!this.keys.some(function(s){return s.isEqual(e.key)})},i}(gp);function Qk(t,i){var e;return((null===(e=i.arrayValue)||void 0===e?void 0:e.values)||[]).map(function(s){return Tr.fromName(s.referenceValue)})}var Xk=function(t){function i(e,s){return t.call(this,e,"array-contains",s)||this}return(0,vt.ZT)(i,t),i.prototype.matches=function(e){var s=e.data.field(this.field);return Rx(s)&&Px(s.arrayValue,this.value)},i}(gp),Jk=function(t){function i(e,s){return t.call(this,e,"in",s)||this}return(0,vt.ZT)(i,t),i.prototype.matches=function(e){var s=e.data.field(this.field);return null!==s&&Px(this.value.arrayValue,s)},i}(gp),A1=function(t){function i(e,s){return t.call(this,e,"not-in",s)||this}return(0,vt.ZT)(i,t),i.prototype.matches=function(e){if(Px(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var s=e.data.field(this.field);return null!==s&&!Px(this.value.arrayValue,s)},i}(gp),e2=function(t){function i(e,s){return t.call(this,e,"array-contains-any",s)||this}return(0,vt.ZT)(i,t),i.prototype.matches=function(e){var s=this,a=e.data.field(this.field);return!(!Rx(a)||!a.arrayValue.values)&&a.arrayValue.values.some(function(l){return Px(s.value.arrayValue,l)})},i}(gp),p0=function(t,i){this.position=t,this.before=i};function Bx(t){return(t.before?"b":"a")+":"+t.position.map(function(i){return OM(i)}).join(",")}var Yy=function(t,i){void 0===i&&(i="asc"),this.field=t,this.dir=i};function I1(t,i){return t.dir===i.dir&&t.field.isEqual(i.field)}function L1(t,i,e){for(var s=0,a=0;a<t.position.length;a++){var l=i[a],h=t.position[a];if(s=l.field.isKeyField()?Tr.comparator(Tr.fromName(h.referenceValue),e.key):h0(h,e.data.field(l.field)),"desc"===l.dir&&(s*=-1),0!==s)break}return t.before?s<=0:s<0}function FM(t,i){if(null===t)return null===i;if(null===i||t.before!==i.before||t.position.length!==i.position.length)return!1;for(var e=0;e<t.position.length;e++)if(!mp(t.position[e],i.position[e]))return!1;return!0}var Pg=function(t,i,e,s,a,l,h,v){void 0===i&&(i=null),void 0===e&&(e=[]),void 0===s&&(s=[]),void 0===a&&(a=null),void 0===l&&(l="F"),void 0===h&&(h=null),void 0===v&&(v=null),this.path=t,this.collectionGroup=i,this.explicitOrderBy=e,this.filters=s,this.limit=a,this.limitType=l,this.startAt=h,this.endAt=v,this.p=null,this.T=null};function P1(t,i,e,s,a,l,h,v){return new Pg(t,i,e,s,a,l,h,v)}function Jv(t){return new Pg(t)}function Yx(t){return!Xv(t.limit)&&"F"===t.limitType}function Hx(t){return!Xv(t.limit)&&"L"===t.limitType}function O1(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function R1(t){for(var i=0,e=t.filters;i<e.length;i++){var s=e[i];if(s.g())return s.field}return null}function NM(t){return null!==t.collectionGroup}function f0(t){var i=Ni(t);if(null===i.p){i.p=[];var e=R1(i),s=O1(i);if(null!==e&&null===s)e.isKeyField()||i.p.push(new Yy(e)),i.p.push(new Yy(hm.keyField(),"asc"));else{for(var a=!1,l=0,h=i.explicitOrderBy;l<h.length;l++){var v=h[l];i.p.push(v),v.field.isKeyField()&&(a=!0)}if(!a){var C=i.explicitOrderBy.length>0?i.explicitOrderBy[i.explicitOrderBy.length-1].dir:"asc";i.p.push(new Yy(hm.keyField(),C))}}}return i.p}function mm(t){var i=Ni(t);if(!i.T)if("F"===i.limitType)i.T=qk(i.path,i.collectionGroup,f0(i),i.filters,i.limit,i.startAt,i.endAt);else{for(var e=[],s=0,a=f0(i);s<a.length;s++){var l=a[s];e.push(new Yy(l.field,"desc"===l.dir?"asc":"desc"))}var v=i.endAt?new p0(i.endAt.position,!i.endAt.before):null,C=i.startAt?new p0(i.startAt.position,!i.startAt.before):null;i.T=qk(i.path,i.collectionGroup,e,i.filters,i.limit,v,C)}return i.T}function Kk(t,i,e){return new Pg(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),i,e,t.startAt,t.endAt)}function Vx(t,i){return E1(mm(t),mm(i))&&t.limitType===i.limitType}function eE(t){return Nx(mm(t))+"|lt:"+t.limitType}function zM(t){return"Query(target="+(e=(i=mm(t)).path.canonicalString(),null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=", filters: ["+i.filters.map(function(s){return(a=s).field.canonicalString()+" "+a.op+" "+OM(a.value);var a}).join(", ")+"]"),Xv(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=", orderBy: ["+i.orderBy.map(function(s){return(a=s).field.canonicalString()+" ("+a.dir+")";var a}).join(", ")+"]"),i.startAt&&(e+=", startAt: "+Bx(i.startAt)),i.endAt&&(e+=", endAt: "+Bx(i.endAt)),"Target("+e+"); limitType=")+t.limitType+")";var i,e}function Ux(t,i){return i.isFoundDocument()&&(a=(s=i).key.path,null!==(e=t).collectionGroup?s.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(a):Tr.isDocumentKey(e.path)?e.path.isEqual(a):e.path.isImmediateParentOf(a))&&function(e,s){for(var a=0,l=e.explicitOrderBy;a<l.length;a++){var h=l[a];if(!h.field.isKeyField()&&null===s.data.field(h.field))return!1}return!0}(t,i)&&function(e,s){for(var a=0,l=e.filters;a<l.length;a++)if(!l[a].matches(s))return!1;return!0}(t,i)&&function(e,s){return!(e.startAt&&!L1(e.startAt,f0(e),s)||e.endAt&&L1(e.endAt,f0(e),s))}(t,i);var e,s,a}function tE(t){return function(i,e){for(var s=!1,a=0,l=f0(t);a<l.length;a++){var h=l[a],v=t2(h,i,e);if(0!==v)return v;s=s||h.field.isKeyField()}return 0}}function t2(t,i,e){var a,h,v,C,s=t.field.isKeyField()?Tr.comparator(i.key,e.key):(h=e,v=i.data.field(a=t.field),C=h.data.field(a),null!==v&&null!==C?h0(v,C):br());switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return br()}}function nE(t,i){if(t.I){if(isNaN(i))return{doubleValue:"NaN"};if(i===1/0)return{doubleValue:"Infinity"};if(i===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lx(i)?"-0":i}}function iE(t){return{integerValue:""+t}}function rE(t,i){return Zk(i)?iE(i):nE(t,i)}var F1=function(){this._=void 0};function n2(t,i,e){return t instanceof Kv?(l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(s=e).seconds,nanos:s.nanoseconds}}}},(a=i)&&(l.fields.__previous_value__=a),{mapValue:l}):t instanceof Hy?BM(t,i):t instanceof Vy?YM(t,i):function(s,a){var l=sE(s,a),h=HM(l)+HM(s.A);return Ox(l)&&Ox(s.A)?iE(h):nE(s.R,h)}(t,i);var s,a,l}function r2(t,i,e){return t instanceof Hy?BM(t,i):t instanceof Vy?YM(t,i):e}function sE(t,i){return t instanceof eb?Ox(e=i)||(s=e)&&"doubleValue"in s?i:{integerValue:0}:null;var s,e}var Kv=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return(0,vt.ZT)(i,t),i}(F1),Hy=function(t){function i(e){var s=this;return(s=t.call(this)||this).elements=e,s}return(0,vt.ZT)(i,t),i}(F1);function BM(t,i){for(var e=VM(i),s=function(h){e.some(function(v){return mp(v,h)})||e.push(h)},a=0,l=t.elements;a<l.length;a++)s(l[a]);return{arrayValue:{values:e}}}var Vy=function(t){function i(e){var s=this;return(s=t.call(this)||this).elements=e,s}return(0,vt.ZT)(i,t),i}(F1);function YM(t,i){for(var e=VM(i),s=function(h){e=e.filter(function(v){return!mp(v,h)})},a=0,l=t.elements;a<l.length;a++)s(l[a]);return{arrayValue:{values:e}}}var eb=function(t){function i(e,s){var a=this;return(a=t.call(this)||this).R=e,a.A=s,a}return(0,vt.ZT)(i,t),i}(F1);function HM(t){return nu(t.integerValue||t.doubleValue)}function VM(t){return Rx(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var m0=function(t,i){this.field=t,this.transform=i},UM=function(t,i){this.version=t,this.transformResults=i},xd=function(){function t(i,e){this.updateTime=i,this.exists=e}return t.none=function(){return new t},t.exists=function(i){return new t(void 0,i)},t.updateTime=function(i){return new t(i)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(i){return this.exists===i.exists&&(this.updateTime?!!i.updateTime&&this.updateTime.isEqual(i.updateTime):!i.updateTime)},t}();function Og(t,i){return void 0!==t.updateTime?i.isFoundDocument()&&i.version.isEqual(t.updateTime):void 0===t.exists||t.exists===i.isFoundDocument()}var N1=function(){};function s2(t,i,e){var s,a,l,h,v;t instanceof g0?(a=i,l=e,h=(s=t).value.clone(),v=Br(s.fieldTransforms,a,l.transformResults),h.setAll(v),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()):t instanceof L_?function(s,a,l){if(Og(s.precondition,a)){var h=Br(s.fieldTransforms,a,l.transformResults),v=a.data;v.setAll(a2(s)),v.setAll(h),a.convertToFoundDocument(l.version,v).setHasCommittedMutations()}else a.convertToUnknownDocument(l.version)}(t,i,e):function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,i,e)}function Uy(t,i,e){var a;t instanceof g0?function(s,a,l){if(Og(s.precondition,a)){var h=s.value.clone(),v=oE(s.fieldTransforms,l,a);h.setAll(v),a.convertToFoundDocument(o2(a),h).setHasLocalMutations()}}(t,i,e):t instanceof L_?function(s,a,l){if(Og(s.precondition,a)){var h=oE(s.fieldTransforms,l,a),v=a.data;v.setAll(a2(s)),v.setAll(h),a.convertToFoundDocument(o2(a),v).setHasLocalMutations()}}(t,i,e):Og(t.precondition,a=i)&&a.convertToNoDocument(Ys.min())}function tN(t,i){for(var e=null,s=0,a=t.fieldTransforms;s<a.length;s++){var l=a[s],h=i.data.field(l.field),v=sE(l.transform,h||null);null!=v&&(null==e&&(e=gc.empty()),e.set(l.field,v))}return e||null}function z1(t,i){return t.type===i.type&&!!t.key.isEqual(i.key)&&!!t.precondition.isEqual(i.precondition)&&(s=i.fieldTransforms,!!(void 0===(e=t.fieldTransforms)&&void 0===s||e&&s&&$v(e,s,function(a,l){return(h=a).field.isEqual((v=l).field)&&(O=v.transform,(C=h.transform)instanceof Hy&&O instanceof Hy||C instanceof Vy&&O instanceof Vy?$v(C.elements,O.elements,mp):C instanceof eb&&O instanceof eb?mp(C.A,O.A):C instanceof Kv&&O instanceof Kv);var h,v,C,O})))&&(0===t.type?t.value.isEqual(i.value):1!==t.type||t.data.isEqual(i.data)&&t.fieldMask.isEqual(i.fieldMask));var e,s}function o2(t){return t.isFoundDocument()?t.version:Ys.min()}var g0=function(t){function i(e,s,a,l){void 0===l&&(l=[]);var h=this;return(h=t.call(this)||this).key=e,h.value=s,h.precondition=a,h.fieldTransforms=l,h.type=0,h}return(0,vt.ZT)(i,t),i}(N1),L_=function(t){function i(e,s,a,l,h){void 0===h&&(h=[]);var v=this;return(v=t.call(this)||this).key=e,v.data=s,v.fieldMask=a,v.precondition=l,v.fieldTransforms=h,v.type=1,v}return(0,vt.ZT)(i,t),i}(N1);function a2(t){var i=new Map;return t.fieldMask.fields.forEach(function(e){if(!e.isEmpty()){var s=t.data.field(e);i.set(e,s)}}),i}function Br(t,i,e){var s=new Map;cs(t.length===e.length);for(var a=0;a<e.length;a++){var l=t[a],h=l.transform,v=i.data.field(l.field);s.set(l.field,r2(h,v,e[a]))}return s}function oE(t,i,e){for(var s=new Map,a=0,l=t;a<l.length;a++){var h=l[a],v=h.transform,C=e.data.field(h.field);s.set(h.field,n2(v,C,i))}return s}var _u,Ro,jy=function(t){function i(e,s){var a=this;return(a=t.call(this)||this).key=e,a.precondition=s,a.type=2,a.fieldTransforms=[],a}return(0,vt.ZT)(i,t),i}(N1),jM=function(t){function i(e,s){var a=this;return(a=t.call(this)||this).key=e,a.precondition=s,a.type=3,a.fieldTransforms=[],a}return(0,vt.ZT)(i,t),i}(N1),B1=function(t){this.count=t};function jx(t){switch(t){case Ln.OK:return br();case Ln.CANCELLED:case Ln.UNKNOWN:case Ln.DEADLINE_EXCEEDED:case Ln.RESOURCE_EXHAUSTED:case Ln.INTERNAL:case Ln.UNAVAILABLE:case Ln.UNAUTHENTICATED:return!1;case Ln.INVALID_ARGUMENT:case Ln.NOT_FOUND:case Ln.ALREADY_EXISTS:case Ln.PERMISSION_DENIED:case Ln.FAILED_PRECONDITION:case Ln.ABORTED:case Ln.OUT_OF_RANGE:case Ln.UNIMPLEMENTED:case Ln.DATA_LOSS:return!0;default:return br()}}function _c(t){if(void 0===t)return Nc("GRPC error has no .code"),Ln.UNKNOWN;switch(t){case _u.OK:return Ln.OK;case _u.CANCELLED:return Ln.CANCELLED;case _u.UNKNOWN:return Ln.UNKNOWN;case _u.DEADLINE_EXCEEDED:return Ln.DEADLINE_EXCEEDED;case _u.RESOURCE_EXHAUSTED:return Ln.RESOURCE_EXHAUSTED;case _u.INTERNAL:return Ln.INTERNAL;case _u.UNAVAILABLE:return Ln.UNAVAILABLE;case _u.UNAUTHENTICATED:return Ln.UNAUTHENTICATED;case _u.INVALID_ARGUMENT:return Ln.INVALID_ARGUMENT;case _u.NOT_FOUND:return Ln.NOT_FOUND;case _u.ALREADY_EXISTS:return Ln.ALREADY_EXISTS;case _u.PERMISSION_DENIED:return Ln.PERMISSION_DENIED;case _u.FAILED_PRECONDITION:return Ln.FAILED_PRECONDITION;case _u.ABORTED:return Ln.ABORTED;case _u.OUT_OF_RANGE:return Ln.OUT_OF_RANGE;case _u.UNIMPLEMENTED:return Ln.UNIMPLEMENTED;case _u.DATA_LOSS:return Ln.DATA_LOSS;default:return br()}}(Ro=_u||(_u={}))[Ro.OK=0]="OK",Ro[Ro.CANCELLED=1]="CANCELLED",Ro[Ro.UNKNOWN=2]="UNKNOWN",Ro[Ro.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ro[Ro.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ro[Ro.NOT_FOUND=5]="NOT_FOUND",Ro[Ro.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ro[Ro.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ro[Ro.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ro[Ro.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ro[Ro.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ro[Ro.ABORTED=10]="ABORTED",Ro[Ro.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ro[Ro.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ro[Ro.INTERNAL=13]="INTERNAL",Ro[Ro.UNAVAILABLE=14]="UNAVAILABLE",Ro[Ro.DATA_LOSS=15]="DATA_LOSS";var _p=function(){function t(i,e){this.comparator=i,this.root=e||Rg.EMPTY}return t.prototype.insert=function(i,e){return new t(this.comparator,this.root.insert(i,e,this.comparator).copy(null,null,Rg.BLACK,null,null))},t.prototype.remove=function(i){return new t(this.comparator,this.root.remove(i,this.comparator).copy(null,null,Rg.BLACK,null,null))},t.prototype.get=function(i){for(var e=this.root;!e.isEmpty();){var s=this.comparator(i,e.key);if(0===s)return e.value;s<0?e=e.left:s>0&&(e=e.right)}return null},t.prototype.indexOf=function(i){for(var e=0,s=this.root;!s.isEmpty();){var a=this.comparator(i,s.key);if(0===a)return e+s.left.size;a<0?s=s.left:(e+=s.left.size+1,s=s.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(i){return this.root.inorderTraversal(i)},t.prototype.forEach=function(i){this.inorderTraversal(function(e,s){return i(e,s),!1})},t.prototype.toString=function(){var i=[];return this.inorderTraversal(function(e,s){return i.push(e+":"+s),!1}),"{"+i.join(", ")+"}"},t.prototype.reverseTraversal=function(i){return this.root.reverseTraversal(i)},t.prototype.getIterator=function(){return new Zx(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(i){return new Zx(this.root,i,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Zx(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(i){return new Zx(this.root,i,this.comparator,!0)},t}(),Zx=function(){function t(i,e,s,a){this.isReverse=a,this.nodeStack=[];for(var l=1;!i.isEmpty();)if(l=e?s(i.key,e):1,a&&(l*=-1),l<0)i=this.isReverse?i.left:i.right;else{if(0===l){this.nodeStack.push(i);break}this.nodeStack.push(i),i=this.isReverse?i.right:i.left}}return t.prototype.getNext=function(){var i=this.nodeStack.pop(),e={key:i.key,value:i.value};if(this.isReverse)for(i=i.left;!i.isEmpty();)this.nodeStack.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack.push(i),i=i.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var i=this.nodeStack[this.nodeStack.length-1];return{key:i.key,value:i.value}},t}(),Rg=function(){function t(i,e,s,a,l){this.key=i,this.value=e,this.color=null!=s?s:t.RED,this.left=null!=a?a:t.EMPTY,this.right=null!=l?l:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(i,e,s,a,l){return new t(null!=i?i:this.key,null!=e?e:this.value,null!=s?s:this.color,null!=a?a:this.left,null!=l?l:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(i){return this.left.inorderTraversal(i)||i(this.key,this.value)||this.right.inorderTraversal(i)},t.prototype.reverseTraversal=function(i){return this.right.reverseTraversal(i)||i(this.key,this.value)||this.left.reverseTraversal(i)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(i,e,s){var a=this,l=s(i,a.key);return(a=l<0?a.copy(null,null,null,a.left.insert(i,e,s),null):0===l?a.copy(null,e,null,null,null):a.copy(null,null,null,null,a.right.insert(i,e,s))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var i=this;return i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),(i=i.copy(null,null,null,i.left.removeMin(),null)).fixUp()},t.prototype.remove=function(i,e){var s,a=this;if(e(i,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(i,e),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===e(i,a.key)){if(a.right.isEmpty())return t.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(i,e))}return a.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var i=this;return i.right.isRed()&&!i.left.isRed()&&(i=i.rotateLeft()),i.left.isRed()&&i.left.left.isRed()&&(i=i.rotateRight()),i.left.isRed()&&i.right.isRed()&&(i=i.colorFlip()),i},t.prototype.moveRedLeft=function(){var i=this.colorFlip();return i.right.left.isRed()&&(i=(i=(i=i.copy(null,null,null,null,i.right.rotateRight())).rotateLeft()).colorFlip()),i},t.prototype.moveRedRight=function(){var i=this.colorFlip();return i.left.left.isRed()&&(i=(i=i.rotateRight()).colorFlip()),i},t.prototype.rotateLeft=function(){var i=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,i,null)},t.prototype.rotateRight=function(){var i=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,i)},t.prototype.colorFlip=function(){var i=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,i,e)},t.prototype.checkMaxDepth=function(){var i=this.check();return Math.pow(2,i)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw br();var i=this.left.check();if(i!==this.right.check())throw br();return i+(this.isRed()?0:1)},t}();Rg.EMPTY=null,Rg.RED=!0,Rg.BLACK=!1,Rg.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw br()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw br()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw br()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw br()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw br()},enumerable:!1,configurable:!0}),t.prototype.copy=function(i,e,s,a,l){return this},t.prototype.insert=function(i,e,s){return new Rg(i,e)},t.prototype.remove=function(i,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(i){return!1},t.prototype.reverseTraversal=function(i){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var Gu=function(){function t(i){this.comparator=i,this.data=new _p(this.comparator)}return t.prototype.has=function(i){return null!==this.data.get(i)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(i){return this.data.indexOf(i)},t.prototype.forEach=function(i){this.data.inorderTraversal(function(e,s){return i(e),!1})},t.prototype.forEachInRange=function(i,e){for(var s=this.data.getIteratorFrom(i[0]);s.hasNext();){var a=s.getNext();if(this.comparator(a.key,i[1])>=0)return;e(a.key)}},t.prototype.forEachWhile=function(i,e){var s;for(s=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();s.hasNext();)if(!i(s.getNext().key))return},t.prototype.firstAfterOrEqual=function(i){var e=this.data.getIteratorFrom(i);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new ZM(this.data.getIterator())},t.prototype.getIteratorFrom=function(i){return new ZM(this.data.getIteratorFrom(i))},t.prototype.add=function(i){return this.copy(this.data.remove(i).insert(i,!0))},t.prototype.delete=function(i){return this.has(i)?this.copy(this.data.remove(i)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(i){var e=this;return e.size<i.size&&(e=i,i=this),i.forEach(function(s){e=e.add(s)}),e},t.prototype.isEqual=function(i){if(!(i instanceof t)||this.size!==i.size)return!1;for(var e=this.data.getIterator(),s=i.data.getIterator();e.hasNext();){var a=e.getNext().key,l=s.getNext().key;if(0!==this.comparator(a,l))return!1}return!0},t.prototype.toArray=function(){var i=[];return this.forEach(function(e){i.push(e)}),i},t.prototype.toString=function(){var i=[];return this.forEach(function(e){return i.push(e)}),"SortedSet("+i.toString()+")"},t.prototype.copy=function(i){var e=new t(this.comparator);return e.data=i,e},t}(),ZM=function(){function t(i){this.iter=i}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),aE=new _p(Tr.comparator);function kf(){return aE}var lE=new _p(Tr.comparator);function GM(){return lE}var l2=new _p(Tr.comparator);function cE(){return l2}var Gx=new Gu(Tr.comparator);function Ya(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];for(var e=Gx,s=0,a=t;s<a.length;s++){var l=a[s];e=e.add(l)}return e}var c2=new Gu(vo);function Y1(){return c2}var _0=function(){function t(i,e,s,a,l){this.snapshotVersion=i,this.targetChanges=e,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}return t.createSynthesizedRemoteEventForCurrentChange=function(i,e){var s=new Map;return s.set(i,H1.createSynthesizedTargetChangeForCurrentChange(i,e)),new t(Ys.min(),s,Y1(),kf(),Ya())},t}(),H1=function(){function t(i,e,s,a,l){this.resumeToken=i,this.current=e,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}return t.createSynthesizedTargetChangeForCurrentChange=function(i,e){return new t($p.EMPTY_BYTE_STRING,e,Ya(),Ya(),Ya())},t}(),Wx=function(t,i,e,s){this.v=t,this.removedTargetIds=i,this.key=e,this.P=s},WM=function(t,i){this.targetId=t,this.V=i},uE=function(t,i,e,s){void 0===e&&(e=$p.EMPTY_BYTE_STRING),void 0===s&&(s=null),this.state=t,this.targetIds=i,this.resumeToken=e,this.cause=s},y0=function(){function t(){this.S=0,this.D=hE(),this.C=$p.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.O=function(i){i.approximateByteSize()>0&&(this.F=!0,this.C=i)},t.prototype.M=function(){var i=Ya(),e=Ya(),s=Ya();return this.D.forEach(function(a,l){switch(l){case 0:i=i.add(a);break;case 2:e=e.add(a);break;case 1:s=s.add(a);break;default:br()}}),new H1(this.C,this.N,i,e,s)},t.prototype.L=function(){this.F=!1,this.D=hE()},t.prototype.B=function(i,e){this.F=!0,this.D=this.D.insert(i,e)},t.prototype.q=function(i){this.F=!0,this.D=this.D.remove(i)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),qx=function(){function t(i){this.W=i,this.G=new Map,this.H=kf(),this.J=dE(),this.Y=new Gu(vo)}return t.prototype.X=function(i){for(var e=0,s=i.v;e<s.length;e++){var a=s[e];i.P&&i.P.isFoundDocument()?this.Z(a,i.P):this.tt(a,i.key,i.P)}for(var l=0,h=i.removedTargetIds;l<h.length;l++)this.tt(a=h[l],i.key,i.P)},t.prototype.et=function(i){var e=this;this.forEachTarget(i,function(s){var a=e.nt(s);switch(i.state){case 0:e.st(s)&&a.O(i.resumeToken);break;case 1:a.K(),a.k||a.L(),a.O(i.resumeToken);break;case 2:a.K(),a.k||e.removeTarget(s);break;case 3:e.st(s)&&(a.j(),a.O(i.resumeToken));break;case 4:e.st(s)&&(e.it(s),a.O(i.resumeToken));break;default:br()}})},t.prototype.forEachTarget=function(i,e){var s=this;i.targetIds.length>0?i.targetIds.forEach(e):this.G.forEach(function(a,l){s.st(l)&&e(l)})},t.prototype.rt=function(i){var e=i.targetId,s=i.V.count,a=this.ot(e);if(a){var l=a.target;if(D1(l))if(0===s){var h=new Tr(l.path);this.tt(e,h,bd.newNoDocument(h,Ys.min()))}else cs(1===s);else this.ct(e)!==s&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(i){var e=this,s=new Map;this.G.forEach(function(h,v){var C=e.ot(v);if(C){if(h.current&&D1(C.target)){var O=new Tr(C.target.path);null!==e.H.get(O)||e.at(v,O)||e.tt(v,O,bd.newNoDocument(O,i))}h.$&&(s.set(v,h.M()),h.L())}});var a=Ya();this.J.forEach(function(h,v){var C=!0;v.forEachWhile(function(O){var G=e.ot(O);return!G||2===G.purpose||(C=!1,!1)}),C&&(a=a.add(h))});var l=new _0(i,s,this.Y,this.H,a);return this.H=kf(),this.J=dE(),this.Y=new Gu(vo),l},t.prototype.Z=function(i,e){if(this.st(i)){var s=this.at(i,e.key)?2:0;this.nt(i).B(e.key,s),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(i))}},t.prototype.tt=function(i,e,s){if(this.st(i)){var a=this.nt(i);this.at(i,e)?a.B(e,1):a.q(e),this.J=this.J.insert(e,this.ht(e).delete(i)),s&&(this.H=this.H.insert(e,s))}},t.prototype.removeTarget=function(i){this.G.delete(i)},t.prototype.ct=function(i){var e=this.nt(i).M();return this.W.getRemoteKeysForTarget(i).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(i){this.nt(i).U()},t.prototype.nt=function(i){var e=this.G.get(i);return e||(e=new y0,this.G.set(i,e)),e},t.prototype.ht=function(i){var e=this.J.get(i);return e||(e=new Gu(vo),this.J=this.J.insert(i,e)),e},t.prototype.st=function(i){var e=null!==this.ot(i);return e||Si("WatchChangeAggregator","Detected inactive target",i),e},t.prototype.ot=function(i){var e=this.G.get(i);return e&&e.k?null:this.W.lt(i)},t.prototype.it=function(i){var e=this;this.G.set(i,new y0),this.W.getRemoteKeysForTarget(i).forEach(function(s){e.tt(i,s,null)})},t.prototype.at=function(i,e){return this.W.getRemoteKeysForTarget(i).has(e)},t}();function dE(){return new _p(Tr.comparator)}function hE(){return new _p(Tr.comparator)}var u2={asc:"ASCENDING",desc:"DESCENDING"},pE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fE=function(t,i){this.databaseId=t,this.I=i};function v0(t,i){return t.I?new Date(1e3*i.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+i.nanoseconds).slice(-9)+"Z":{seconds:""+i.seconds,nanos:i.nanoseconds}}function mE(t,i){return t.I?i.toBase64():i.toUint8Array()}function gE(t,i){return v0(t,i.toTimestamp())}function wd(t){return cs(!!t),Ys.fromTimestamp((e=zy(t),new Nh(e.seconds,e.nanos)));var e}function qM(t,i){return(e=t,new Zo(["projects",e.projectId,"databases",e.database])).child("documents").child(i).canonicalString();var e}function d2(t){var i=Zo.fromString(t);return cs(JM(i)),i}function V1(t,i){return qM(t.databaseId,i.path)}function P_(t,i){var e=d2(i);if(e.get(1)!==t.databaseId.projectId)throw new pi(Ln.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+t.databaseId.projectId);if(e.get(3)!==t.databaseId.database)throw new pi(Ln.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+t.databaseId.database);return new Tr(yE(e))}function _E(t,i){return qM(t.databaseId,i)}function $M(t){var i=d2(t);return 4===i.length?Zo.emptyPath():yE(i)}function Zy(t){return new Zo(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function yE(t){return cs(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function vE(t,i,e){return{name:V1(t,i),fields:e.value.mapValue.fields}}function QM(t,i,e){var s=P_(t,i.name),a=wd(i.updateTime),l=new gc({mapValue:{fields:i.fields}}),h=bd.newFoundDocument(s,a,l);return e&&h.setHasCommittedMutations(),e?h.setHasCommittedMutations():h}function Gy(t,i){var e,a;if(i instanceof g0)e={update:vE(t,i.key,i.value)};else if(i instanceof jy)e={delete:V1(t,i.key)};else if(i instanceof L_)e={update:vE(t,i.key,i.data),updateMask:f2(i.fieldMask)};else{if(!(i instanceof jM))return br();e={verify:V1(t,i.key)}}return i.fieldTransforms.length>0&&(e.updateTransforms=i.fieldTransforms.map(function(s){return function(a,l){var h=l.transform;if(h instanceof Kv)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Hy)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Vy)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof eb)return{fieldPath:l.field.canonicalString(),increment:h.A};throw br()}(0,s)})),i.precondition.isNone||(e.currentDocument=void 0!==(a=i.precondition).updateTime?{updateTime:gE(t,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:br()),e}function bE(t,i){var O,e=i.currentDocument?void 0!==(O=i.currentDocument).updateTime?xd.updateTime(wd(O.updateTime)):void 0!==O.exists?xd.exists(O.exists):xd.none():xd.none(),s=i.updateTransforms?i.updateTransforms.map(function(O){return function(G,te){var pe=null;"setToServerValue"in te?(cs("REQUEST_TIME"===te.setToServerValue),pe=new Kv):"appendMissingElements"in te?pe=new Hy(te.appendMissingElements.values||[]):"removeAllFromArray"in te?pe=new Vy(te.removeAllFromArray.values||[]):"increment"in te?pe=new eb(G,te.increment):br();var je=hm.fromServerFormat(te.fieldPath);return new m0(je,pe)}(t,O)}):[];if(i.update){var a=P_(t,i.update.name),l=new gc({mapValue:{fields:i.update.fields}});if(i.updateMask){var h=function(O){return new Qv((O.fieldPaths||[]).map(function(te){return hm.fromServerFormat(te)}))}(i.updateMask);return new L_(a,l,h,e,s)}return new g0(a,l,e,s)}if(i.delete){var v=P_(t,i.delete);return new jy(v,e)}if(i.verify){var C=P_(t,i.verify);return new jM(C,e)}return br()}function xE(t,i){return{documents:[_E(t,i.path)]}}function wE(t,i){var e={structuredQuery:{}},s=i.path;null!==i.collectionGroup?(e.parent=_E(t,s),e.structuredQuery.from=[{collectionId:i.collectionGroup,allDescendants:!0}]):(e.parent=_E(t,s.popLast()),e.structuredQuery.from=[{collectionId:s.lastSegment()}]);var a=function(v){if(0!==v.length){var C=v.map(function(O){return function(G){if("=="===G.op){if(Gk(G.value))return{unaryFilter:{field:x0(G.field),op:"IS_NAN"}};if(pm(G.value))return{unaryFilter:{field:x0(G.field),op:"IS_NULL"}}}else if("!="===G.op){if(Gk(G.value))return{unaryFilter:{field:x0(G.field),op:"IS_NOT_NAN"}};if(pm(G.value))return{unaryFilter:{field:x0(G.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:x0(G.field),op:b0(G.op),value:G.value}}}(O)});return 1===C.length?C[0]:{compositeFilter:{op:"AND",filters:C}}}}(i.filters);a&&(e.structuredQuery.where=a);var l=function(v){if(0!==v.length)return v.map(function(C){return{field:x0((O=C).field),direction:h2(O.dir)};var O})}(i.orderBy);l&&(e.structuredQuery.orderBy=l);var C,h=(C=i.limit,t.I||Xv(C)?C:{value:C});return null!==h&&(e.structuredQuery.limit=h),i.startAt&&(e.structuredQuery.startAt=XM(i.startAt)),i.endAt&&(e.structuredQuery.endAt=XM(i.endAt)),e}function CE(t){var i=$M(t.parent),e=t.structuredQuery,s=e.from?e.from.length:0,a=null;if(s>0){cs(1===s);var l=e.from[0];l.allDescendants?a=l.collectionId:i=i.child(l.collectionId)}var h=[];e.where&&(h=ME(e.where));var v=[];e.orderBy&&(v=e.orderBy.map(function(te){return new Yy(tb((pe=te).field),function(we){switch(we){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(pe.direction));var pe}));var te,pe,C=null;e.limit&&(C=Xv(pe="object"==typeof(te=e.limit)?te.value:te)?null:pe);var O=null;e.startAt&&(O=TE(e.startAt));var G=null;return e.endAt&&(G=TE(e.endAt)),P1(i,a,v,h,C,"F",O,G)}function ME(t){return t?void 0!==t.unaryFilter?[SE(t)]:void 0!==t.fieldFilter?[p2(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(i){return ME(i)}).reduce(function(i,e){return i.concat(e)}):br():[]}function XM(t){return{before:t.before,values:t.position}}function TE(t){return new p0(t.values||[],!!t.before)}function h2(t){return u2[t]}function b0(t){return pE[t]}function x0(t){return{fieldPath:t.canonicalString()}}function tb(t){return hm.fromServerFormat(t.fieldPath)}function p2(t){return gp.create(tb(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return br()}}(t.fieldFilter.op),t.fieldFilter.value)}function SE(t){switch(t.unaryFilter.op){case"IS_NAN":var i=tb(t.unaryFilter.field);return gp.create(i,"==",{doubleValue:NaN});case"IS_NULL":var e=tb(t.unaryFilter.field);return gp.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var s=tb(t.unaryFilter.field);return gp.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var a=tb(t.unaryFilter.field);return gp.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return br()}}function f2(t){var i=[];return t.fields.forEach(function(e){return i.push(e.canonicalString())}),{fieldPaths:i}}function JM(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function qm(t){for(var i="",e=0;e<t.length;e++)i.length>0&&(i=kE(i)),i=KM(t.get(e),i);return kE(i)}function KM(t,i){for(var e=i,s=t.length,a=0;a<s;a++){var l=t.charAt(a);switch(l){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=l}}return e}function kE(t){return t+"\x01\x01"}function Fg(t){var i=t.length;if(cs(i>=2),2===i)return cs("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Zo.emptyPath();for(var e=i-2,s=[],a="",l=0;l<i;){var h=t.indexOf("\x01",l);switch((h<0||h>e)&&br(),t.charAt(h+1)){case"\x01":var v=t.substring(l,h),C=void 0;0===a.length?C=v:(C=a+=v,a=""),s.push(C);break;case"\x10":a+=t.substring(l,h),a+="\0";break;case"\x11":a+=t.substring(l,h+1);break;default:br()}l=h+2}return new Zo(s)}var EE=function(t,i){this.seconds=t,this.nanoseconds=i},Ef=function(t,i,e){this.ownerId=t,this.allowTabSynchronization=i,this.leaseTimestampMs=e};Ef.store="owner",Ef.key="owner";var Wy=function(t,i,e){this.userId=t,this.lastAcknowledgedBatchId=i,this.lastStreamToken=e};Wy.store="mutationQueues",Wy.keyPath="userId";var Ol=function(t,i,e,s,a){this.userId=t,this.batchId=i,this.localWriteTimeMs=e,this.baseMutations=s,this.mutations=a};Ol.store="mutations",Ol.keyPath="batchId",Ol.userMutationsIndex="userMutationsIndex",Ol.userMutationsKeyPath=["userId","batchId"];var Cd=function(){function t(){}return t.prefixForUser=function(i){return[i]},t.prefixForPath=function(i,e){return[i,qm(e)]},t.key=function(i,e,s){return[i,qm(e),s]},t}();Cd.store="documentMutations",Cd.PLACEHOLDER=new Cd;var m2=function(t,i){this.path=t,this.readTime=i},DE=function(t,i){this.path=t,this.version=i},zc=function(t,i,e,s,a,l){this.unknownDocument=t,this.noDocument=i,this.document=e,this.hasCommittedMutations=s,this.readTime=a,this.parentPath=l};zc.store="remoteDocuments",zc.readTimeIndex="readTimeIndex",zc.readTimeIndexPath="readTime",zc.collectionReadTimeIndex="collectionReadTimeIndex",zc.collectionReadTimeIndexPath=["parentPath","readTime"];var Ng=function(t){this.byteSize=t};Ng.store="remoteDocumentGlobal",Ng.key="remoteDocumentGlobalKey";var Xp=function(t,i,e,s,a,l,h){this.targetId=t,this.canonicalId=i,this.readTime=e,this.resumeToken=s,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=l,this.query=h};Xp.store="targets",Xp.keyPath="targetId",Xp.queryTargetsIndexName="queryTargetsIndex",Xp.queryTargetsKeyPath=["canonicalId","targetId"];var Xd=function(t,i,e){this.targetId=t,this.path=i,this.sequenceNumber=e};Xd.store="targetDocuments",Xd.keyPath=["targetId","path"],Xd.documentTargetsIndex="documentTargetsIndex",Xd.documentTargetsKeyPath=["path","targetId"];var Df=function(t,i,e,s){this.highestTargetId=t,this.highestListenSequenceNumber=i,this.lastRemoteSnapshotVersion=e,this.targetCount=s};Df.key="targetGlobalKey",Df.store="targetGlobal";var nb=function(t,i){this.collectionId=t,this.parent=i};nb.store="collectionParents",nb.keyPath=["collectionId","parent"];var O_=function(t,i,e,s){this.clientId=t,this.updateTimeMs=i,this.networkEnabled=e,this.inForeground=s};O_.store="clientMetadata",O_.keyPath="clientId";var w0=function(t,i,e){this.bundleId=t,this.createTime=i,this.version=e};w0.store="bundles",w0.keyPath="bundleId";var ib=function(t,i,e){this.name=t,this.readTime=i,this.bundledQuery=e};ib.store="namedQueries",ib.keyPath="name";var AE=(0,vt.ev)((0,vt.ev)([],(0,vt.ev)((0,vt.ev)([],(0,vt.ev)((0,vt.ev)([],(0,vt.ev)((0,vt.ev)([],[Wy.store,Ol.store,Cd.store,zc.store,Xp.store,Ef.store,Df.store,Xd.store]),[O_.store])),[Ng.store])),[nb.store])),[w0.store,ib.store]),IE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",LE=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(i){this.onCommittedListeners.push(i)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(i){return i()})},t}(),Jd=function(){var t=this;this.promise=new Promise(function(i,e){t.resolve=i,t.reject=e})},xi=function(){function t(i){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,i(function(s){e.isDone=!0,e.result=s,e.nextCallback&&e.nextCallback(s)},function(s){e.isDone=!0,e.error=s,e.catchCallback&&e.catchCallback(s)})}return t.prototype.catch=function(i){return this.next(void 0,i)},t.prototype.next=function(i,e){var s=this;return this.callbackAttached&&br(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(i,this.result):new t(function(a,l){s.nextCallback=function(h){s.wrapSuccess(i,h).next(a,l)},s.catchCallback=function(h){s.wrapFailure(e,h).next(a,l)}})},t.prototype.toPromise=function(){var i=this;return new Promise(function(e,s){i.next(e,s)})},t.prototype.wrapUserFunction=function(i){try{var e=i();return e instanceof t?e:t.resolve(e)}catch(s){return t.reject(s)}},t.prototype.wrapSuccess=function(i,e){return i?this.wrapUserFunction(function(){return i(e)}):t.resolve(e)},t.prototype.wrapFailure=function(i,e){return i?this.wrapUserFunction(function(){return i(e)}):t.reject(e)},t.resolve=function(i){return new t(function(e,s){e(i)})},t.reject=function(i){return new t(function(e,s){s(i)})},t.waitFor=function(i){return new t(function(e,s){var a=0,l=0,h=!1;i.forEach(function(v){++a,v.next(function(){++l,h&&l===a&&e()},function(C){return s(C)})}),h=!0,l===a&&e()})},t.or=function(i){for(var e=t.resolve(!1),s=function(h){e=e.next(function(v){return v?t.resolve(v):h()})},a=0,l=i;a<l.length;a++)s(l[a]);return e},t.forEach=function(i,e){var s=this,a=[];return i.forEach(function(l,h){a.push(e.call(s,l,h))}),this.waitFor(a)},t}(),PE=function(){function t(i,e){var s=this;this.action=i,this.transaction=e,this.aborted=!1,this.ft=new Jd,this.transaction.oncomplete=function(){s.ft.resolve()},this.transaction.onabort=function(){e.error?s.ft.reject(new rb(i,e.error)):s.ft.resolve()},this.transaction.onerror=function(a){var l=$x(a.target.error);s.ft.reject(new rb(i,l))}}return t.open=function(i,e,s,a){try{return new t(e,i.transaction(a,s))}catch(l){throw new rb(e,l)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(i){i&&this.ft.reject(i),this.aborted||(Si("SimpleDb","Aborting transaction:",i?i.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(i){var e=this.transaction.objectStore(i);return new tT(e)},t}(),C0=function(){function t(i,e,s){this.name=i,this.version=e,this.wt=s,12.2===t._t((0,Ls.z$)())&&Nc("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(i){return Si("SimpleDb","Removing database:",i),sb(window.indexedDB.deleteDatabase(i)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var i=(0,Ls.z$)(),e=t._t(i),s=0<e&&e<10,a=t.Et(i),l=0<a&&a<4.5;return!(i.indexOf("MSIE ")>0||i.indexOf("Trident/")>0||i.indexOf("Edge/")>0||s||l)},t.gt=function(){var i;return"undefined"!=typeof process&&"YES"===(null===(i=process.env)||void 0===i?void 0:i.Tt)},t.It=function(i,e){return i.store(e)},t._t=function(i){var e=i.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(s)},t.Et=function(i){var e=i.match(/Android ([\d.]+)/i),s=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(s)},t.prototype.At=function(i){return(0,vt.mG)(this,void 0,void 0,function(){var e,s=this;return(0,vt.Jh)(this,function(a){switch(a.label){case 0:return this.db?[3,2]:(Si("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(l,h){var v=indexedDB.open(s.name,s.version);v.onsuccess=function(C){l(C.target.result)},v.onblocked=function(){h(new rb(i,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},v.onerror=function(C){var O=C.target.error;h("VersionError"===O.name?new pi(Ln.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new rb(i,O))},v.onupgradeneeded=function(C){Si("SimpleDb",'Database "'+s.name+'" requires upgrade from version:',C.oldVersion),s.wt.Rt(C.target.result,v.transaction,C.oldVersion,s.version).next(function(){Si("SimpleDb","Database upgrade to version "+s.version+" complete")})}})]);case 1:e.db=a.sent(),a.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(l){return s.bt(l)}),this.db)]}})})},t.prototype.vt=function(i){this.bt=i,this.db&&(this.db.onversionchange=function(e){return i(e)})},t.prototype.runTransaction=function(i,e,s,a){return(0,vt.mG)(this,void 0,void 0,function(){var l,h,v,C,O;return(0,vt.Jh)(this,function(G){switch(G.label){case 0:l="readonly"===e,h=0,v=function(){var te,pe,we,Le,je;return(0,vt.Jh)(this,function(tt){switch(tt.label){case 0:++h,tt.label=1;case 1:return tt.trys.push([1,4,,5]),[4,C.At(i)];case 2:return C.db=tt.sent(),te=PE.open(C.db,i,l?"readonly":"readwrite",s),pe=a(te).catch(function(yt){return te.abort(yt),xi.reject(yt)}).toPromise(),we={},pe.catch(function(){}),[4,te.dt];case 3:return[2,(we.value=(tt.sent(),pe),we)];case 4:return Si("SimpleDb","Transaction failed with error:",(Le=tt.sent()).message,"Retrying:",je="FirebaseError"!==Le.name&&h<3),C.close(),je?[3,5]:[2,{value:Promise.reject(Le)}];case 5:return[2]}})},C=this,G.label=1;case 1:return[5,v()];case 2:if("object"==typeof(O=G.sent()))return[2,O.value];G.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),eT=function(){function t(i){this.Pt=i,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(i){this.Pt=i},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(i){this.St=i},t.prototype.delete=function(){return sb(this.Pt.delete())},t}(),rb=function(t){function i(e,s){var a=this;return(a=t.call(this,Ln.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+s)||this).name="IndexedDbTransactionError",a}return(0,vt.ZT)(i,t),i}(pi);function qy(t){return"IndexedDbTransactionError"===t.name}var tT=function(){function t(i){this.store=i}return t.prototype.put=function(i,e){var s;return void 0!==e?(Si("SimpleDb","PUT",this.store.name,i,e),s=this.store.put(e,i)):(Si("SimpleDb","PUT",this.store.name,"<auto-key>",i),s=this.store.put(i)),sb(s)},t.prototype.add=function(i){return Si("SimpleDb","ADD",this.store.name,i,i),sb(this.store.add(i))},t.prototype.get=function(i){var e=this;return sb(this.store.get(i)).next(function(s){return void 0===s&&(s=null),Si("SimpleDb","GET",e.store.name,i,s),s})},t.prototype.delete=function(i){return Si("SimpleDb","DELETE",this.store.name,i),sb(this.store.delete(i))},t.prototype.count=function(){return Si("SimpleDb","COUNT",this.store.name),sb(this.store.count())},t.prototype.Nt=function(i,e){var s=this.cursor(this.options(i,e)),a=[];return this.xt(s,function(l,h){a.push(h)}).next(function(){return a})},t.prototype.Ft=function(i,e){Si("SimpleDb","DELETE ALL",this.store.name);var s=this.options(i,e);s.kt=!1;var a=this.cursor(s);return this.xt(a,function(l,h,v){return v.delete()})},t.prototype.$t=function(i,e){var s;e?s=i:(s={},e=i);var a=this.cursor(s);return this.xt(a,e)},t.prototype.Ot=function(i){var e=this.cursor({});return new xi(function(s,a){e.onerror=function(l){var h=$x(l.target.error);a(h)},e.onsuccess=function(l){var h=l.target.result;h?i(h.primaryKey,h.value).next(function(v){v?h.continue():s()}):s()}})},t.prototype.xt=function(i,e){var s=[];return new xi(function(a,l){i.onerror=function(h){l(h.target.error)},i.onsuccess=function(h){var v=h.target.result;if(v){var C=new eT(v),O=e(v.primaryKey,v.value,C);if(O instanceof xi){var G=O.catch(function(te){return C.done(),xi.reject(te)});s.push(G)}C.isDone?a():null===C.Dt?v.continue():v.continue(C.Dt)}else a()}}).next(function(){return xi.waitFor(s)})},t.prototype.options=function(i,e){var s;return void 0!==i&&("string"==typeof i?s=i:e=i),{index:s,range:e}},t.prototype.cursor=function(i){var e="next";if(i.reverse&&(e="prev"),i.index){var s=this.store.index(i.index);return i.kt?s.openKeyCursor(i.range,e):s.openCursor(i.range,e)}return this.store.openCursor(i.range,e)},t}();function sb(t){return new xi(function(i,e){t.onsuccess=function(s){i(s.target.result)},t.onerror=function(s){var a=$x(s.target.error);e(a)}})}var OE=!1;function $x(t){var i=C0._t((0,Ls.z$)());if(i>=12.2&&i<13){var e="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(e)>=0){var s=new pi("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+e+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return OE||(OE=!0,setTimeout(function(){throw s},0)),s}}return t}var RE=function(t){function i(e,s){var a=this;return(a=t.call(this)||this).Mt=e,a.currentSequenceNumber=s,a}return(0,vt.ZT)(i,t),i}(LE);function yp(t,i){var e=Ni(t);return C0.It(e.Mt,i)}var nT=function(){function t(i,e,s,a){this.batchId=i,this.localWriteTime=e,this.baseMutations=s,this.mutations=a}return t.prototype.applyToRemoteDocument=function(i,e){for(var s=e.mutationResults,a=0;a<this.mutations.length;a++){var l=this.mutations[a];l.key.isEqual(i.key)&&s2(l,i,s[a])}},t.prototype.applyToLocalView=function(i){for(var e=0,s=this.baseMutations;e<s.length;e++)(h=s[e]).key.isEqual(i.key)&&Uy(h,i,this.localWriteTime);for(var a=0,l=this.mutations;a<l.length;a++){var h;(h=l[a]).key.isEqual(i.key)&&Uy(h,i,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(i){var e=this;this.mutations.forEach(function(s){var a=i.get(s.key),l=a;e.applyToLocalView(l),a.isValidDocument()||l.convertToNoDocument(Ys.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(i,e){return i.add(e.key)},Ya())},t.prototype.isEqual=function(i){return this.batchId===i.batchId&&$v(this.mutations,i.mutations,function(e,s){return z1(e,s)})&&$v(this.baseMutations,i.baseMutations,function(e,s){return z1(e,s)})},t}(),FE=function(){function t(i,e,s,a){this.batch=i,this.commitVersion=e,this.mutationResults=s,this.docVersions=a}return t.from=function(i,e,s){cs(i.mutations.length===s.length);for(var a=cE(),l=i.mutations,h=0;h<l.length;h++)a=a.insert(l[h].key,s[h].version);return new t(i,e,s,a)},t}(),Qx=function(){function t(i,e,s,a,l,h,v){void 0===l&&(l=Ys.min()),void 0===h&&(h=Ys.min()),void 0===v&&(v=$p.EMPTY_BYTE_STRING),this.target=i,this.targetId=e,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=v}return t.prototype.withSequenceNumber=function(i){return new t(this.target,this.targetId,this.purpose,i,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(i,e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,i)},t.prototype.withLastLimboFreeSnapshotVersion=function(i){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,i,this.resumeToken)},t}(),iT=function(t){this.Lt=t};function NE(t,i){if(i.document)return QM(t.Lt,i.document,!!i.hasCommittedMutations);if(i.noDocument){var e=Tr.fromSegments(i.noDocument.path),s=F_(i.noDocument.readTime),a=bd.newNoDocument(e,s);return i.hasCommittedMutations?a.setHasCommittedMutations():a}if(i.unknownDocument){var l=Tr.fromSegments(i.unknownDocument.path);return s=F_(i.unknownDocument.version),bd.newUnknownDocument(l,s)}return br()}function zE(t,i,e){var te,pe,s=R_(e),a=i.key.path.popLast().toArray();if(i.isFoundDocument()){var l={name:V1(te=t.Lt,(pe=i).key),fields:pe.data.value.mapValue.fields,updateTime:v0(te,pe.version.toTimestamp())},h=i.hasCommittedMutations;return new zc(null,null,l,h,s,a)}if(i.isNoDocument()){var v=i.key.path.toArray(),C=$y(i.version);return h=i.hasCommittedMutations,new zc(null,new m2(v,C),null,h,s,a)}if(i.isUnknownDocument()){var O=i.key.path.toArray(),G=$y(i.version);return new zc(new DE(O,G),null,null,!0,s,a)}return br()}function R_(t){var i=t.toTimestamp();return[i.seconds,i.nanoseconds]}function g2(t){var i=new Nh(t[0],t[1]);return Ys.fromTimestamp(i)}function $y(t){var i=t.toTimestamp();return new EE(i.seconds,i.nanoseconds)}function F_(t){var i=new Nh(t.seconds,t.nanoseconds);return Ys.fromTimestamp(i)}function M0(t,i){for(var e=(i.baseMutations||[]).map(function(C){return bE(t.Lt,C)}),s=0;s<i.mutations.length-1;++s)s+1<i.mutations.length&&void 0!==i.mutations[s+1].transform&&(i.mutations[s].updateTransforms=i.mutations[s+1].transform.fieldTransforms,i.mutations.splice(s+1,1),++s);var h=i.mutations.map(function(C){return bE(t.Lt,C)}),v=Nh.fromMillis(i.localWriteTimeMs);return new nT(i.batchId,v,e,h)}function zg(t){var i,e,s=F_(t.readTime),a=void 0!==t.lastLimboFreeSnapshotVersion?F_(t.lastLimboFreeSnapshotVersion):Ys.min();return void 0!==t.query.documents?(cs(1===(e=t.query).documents.length),i=mm(Jv($M(e.documents[0])))):i=mm(CE(t.query)),new Qx(i,t.targetId,0,t.lastListenSequenceNumber,s,a,$p.fromBase64String(t.resumeToken))}function BE(t,i){var e,s=$y(i.snapshotVersion),a=$y(i.lastLimboFreeSnapshotVersion);e=D1(i.target)?xE(t.Lt,i.target):wE(t.Lt,i.target);var l=i.resumeToken.toBase64();return new Xp(i.targetId,Nx(i.target),s,l,i.sequenceNumber,a,e)}function YE(t){var i=CE({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Kk(i,i.limit,"L"):i}var _2=function(){function t(){}return t.prototype.getBundleMetadata=function(i,e){return $m(i).get(e).next(function(s){if(s)return{id:(a=s).bundleId,createTime:F_(a.createTime),version:a.version};var a})},t.prototype.saveBundleMetadata=function(i,e){return $m(i).put({bundleId:(s=e).id,createTime:$y(wd(s.createTime)),version:s.version});var s},t.prototype.getNamedQuery=function(i,e){return rT(i).get(e).next(function(s){if(s)return{name:(a=s).name,query:YE(a.bundledQuery),readTime:F_(a.readTime)};var a})},t.prototype.saveNamedQuery=function(i,e){return rT(i).put({name:(s=e).name,readTime:$y(wd(s.readTime)),bundledQuery:s.bundledQuery});var s},t}();function $m(t){return yp(t,w0.store)}function rT(t){return yp(t,ib.store)}var nN=function(){function t(){this.Bt=new T0}return t.prototype.addToCollectionParentIndex=function(i,e){return this.Bt.add(e),xi.resolve()},t.prototype.getCollectionParents=function(i,e){return xi.resolve(this.Bt.getEntries(e))},t}(),T0=function(){function t(){this.index={}}return t.prototype.add=function(i){var e=i.lastSegment(),s=i.popLast(),a=this.index[e]||new Gu(Zo.comparator),l=!a.has(s);return this.index[e]=a.add(s),l},t.prototype.has=function(i){var e=i.lastSegment(),s=i.popLast(),a=this.index[e];return a&&a.has(s)},t.prototype.getEntries=function(i){return(this.index[i]||new Gu(Zo.comparator)).toArray()},t}(),y2=function(){function t(){this.qt=new T0}return t.prototype.addToCollectionParentIndex=function(i,e){var s=this;if(!this.qt.has(e)){var a=e.lastSegment(),l=e.popLast();i.addOnCommittedListener(function(){s.qt.add(e)});var h={collectionId:a,parent:qm(l)};return HE(i).put(h)}return xi.resolve()},t.prototype.getCollectionParents=function(i,e){var s=[],a=IDBKeyRange.bound([e,""],[EM(e),""],!1,!0);return HE(i).Nt(a).next(function(l){for(var h=0,v=l;h<v.length;h++){var C=v[h];if(C.collectionId!==e)break;s.push(Fg(C.parent))}return s})},t}();function HE(t){return yp(t,nb.store)}var v2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Bg=function(){function t(i,e,s){this.cacheSizeCollectionThreshold=i,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=s}return t.withCacheSize=function(i){return new t(i,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function VE(t,i,e){var s=t.store(Ol.store),a=t.store(Cd.store),l=[],h=IDBKeyRange.only(e.batchId),v=0,C=s.$t({range:h},function(Le,je,tt){return v++,tt.delete()});l.push(C.next(function(){cs(1===v)}));for(var O=[],G=0,te=e.mutations;G<te.length;G++){var pe=te[G],we=Cd.key(i,pe.key.path,e.batchId);l.push(a.delete(we)),O.push(pe.key)}return xi.waitFor(l).next(function(){return O})}function U1(t){if(!t)return 0;var i;if(t.document)i=t.document;else if(t.unknownDocument)i=t.unknownDocument;else{if(!t.noDocument)throw br();i=t.noDocument}return JSON.stringify(i).length}Bg.DEFAULT_COLLECTION_PERCENTILE=10,Bg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bg.DEFAULT=new Bg(41943040,Bg.DEFAULT_COLLECTION_PERCENTILE,Bg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bg.DISABLED=new Bg(-1,0,0);var sT=function(){function t(i,e,s,a){this.userId=i,this.R=e,this.Ut=s,this.referenceDelegate=a,this.Kt={}}return t.Qt=function(i,e,s,a){return cs(""!==i.uid),new t(i.isAuthenticated()?i.uid:"",e,s,a)},t.prototype.checkEmpty=function(i){var e=!0,s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Yg(i).$t({index:Ol.userMutationsIndex,range:s},function(a,l,h){e=!1,h.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(i,e,s,a){var l=this,h=ob(i),v=Yg(i);return v.add({}).next(function(C){cs("number"==typeof C);for(var O=new nT(C,e,s,a),G=function(yt,Zt,tn){var gn=tn.baseMutations.map(function(qn){return Gy(yt.Lt,qn)}),pn=tn.mutations.map(function(qn){return Gy(yt.Lt,qn)});return new Ol(Zt,tn.batchId,tn.localWriteTime.toMillis(),gn,pn)}(l.R,l.userId,O),te=[],pe=new Gu(function(yt,Zt){return vo(yt.canonicalString(),Zt.canonicalString())}),we=0,Le=a;we<Le.length;we++){var je=Le[we],tt=Cd.key(l.userId,je.key.path,C);pe=pe.add(je.key.path.popLast()),te.push(v.put(G)),te.push(h.put(tt,Cd.PLACEHOLDER))}return pe.forEach(function(yt){te.push(l.Ut.addToCollectionParentIndex(i,yt))}),i.addOnCommittedListener(function(){l.Kt[C]=O.keys()}),xi.waitFor(te).next(function(){return O})})},t.prototype.lookupMutationBatch=function(i,e){var s=this;return Yg(i).get(e).next(function(a){return a?(cs(a.userId===s.userId),M0(s.R,a)):null})},t.prototype.jt=function(i,e){var s=this;return this.Kt[e]?xi.resolve(this.Kt[e]):this.lookupMutationBatch(i,e).next(function(a){if(a){var l=a.keys();return s.Kt[e]=l,l}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(i,e){var s=this,a=e+1,l=IDBKeyRange.lowerBound([this.userId,a]),h=null;return Yg(i).$t({index:Ol.userMutationsIndex,range:l},function(v,C,O){C.userId===s.userId&&(cs(C.batchId>=a),h=M0(s.R,C)),O.done()}).next(function(){return h})},t.prototype.getHighestUnacknowledgedBatchId=function(i){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),s=-1;return Yg(i).$t({index:Ol.userMutationsIndex,range:e,reverse:!0},function(a,l,h){s=l.batchId,h.done()}).next(function(){return s})},t.prototype.getAllMutationBatches=function(i){var e=this,s=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Yg(i).Nt(Ol.userMutationsIndex,s).next(function(a){return a.map(function(l){return M0(e.R,l)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(i,e){var s=this,a=Cd.prefixForPath(this.userId,e.path),l=IDBKeyRange.lowerBound(a),h=[];return ob(i).$t({range:l},function(v,C,O){var G=v[0],pe=v[2],we=Fg(v[1]);if(G===s.userId&&e.path.isEqual(we))return Yg(i).get(pe).next(function(Le){if(!Le)throw br();cs(Le.userId===s.userId),h.push(M0(s.R,Le))});O.done()}).next(function(){return h})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(i,e){var s=this,a=new Gu(vo),l=[];return e.forEach(function(h){var v=Cd.prefixForPath(s.userId,h.path),C=IDBKeyRange.lowerBound(v),O=ob(i).$t({range:C},function(G,te,pe){var we=G[0],je=G[2],tt=Fg(G[1]);we===s.userId&&h.path.isEqual(tt)?a=a.add(je):pe.done()});l.push(O)}),xi.waitFor(l).next(function(){return s.Wt(i,a)})},t.prototype.getAllMutationBatchesAffectingQuery=function(i,e){var s=this,a=e.path,l=a.length+1,h=Cd.prefixForPath(this.userId,a),v=IDBKeyRange.lowerBound(h),C=new Gu(vo);return ob(i).$t({range:v},function(O,G,te){var pe=O[0],Le=O[2],je=Fg(O[1]);pe===s.userId&&a.isPrefixOf(je)?je.length===l&&(C=C.add(Le)):te.done()}).next(function(){return s.Wt(i,C)})},t.prototype.Wt=function(i,e){var s=this,a=[],l=[];return e.forEach(function(h){l.push(Yg(i).get(h).next(function(v){if(null===v)throw br();cs(v.userId===s.userId),a.push(M0(s.R,v))}))}),xi.waitFor(l).next(function(){return a})},t.prototype.removeMutationBatch=function(i,e){var s=this;return VE(i.Mt,this.userId,e).next(function(a){return i.addOnCommittedListener(function(){s.Gt(e.batchId)}),xi.forEach(a,function(l){return s.referenceDelegate.markPotentiallyOrphaned(i,l)})})},t.prototype.Gt=function(i){delete this.Kt[i]},t.prototype.performConsistencyCheck=function(i){var e=this;return this.checkEmpty(i).next(function(s){if(!s)return xi.resolve();var a=IDBKeyRange.lowerBound(Cd.prefixForUser(e.userId)),l=[];return ob(i).$t({range:a},function(h,v,C){if(h[0]===e.userId){var O=Fg(h[1]);l.push(O)}else C.done()}).next(function(){cs(0===l.length)})})},t.prototype.containsKey=function(i,e){return oT(i,this.userId,e)},t.prototype.zt=function(i){var e=this;return UE(i).get(this.userId).next(function(s){return s||new Wy(e.userId,-1,"")})},t}();function oT(t,i,e){var s=Cd.prefixForPath(i,e.path),a=s[1],l=IDBKeyRange.lowerBound(s),h=!1;return ob(t).$t({range:l,kt:!0},function(v,C,O){v[0]===i&&v[1]===a&&(h=!0),O.done()}).next(function(){return h})}function Yg(t){return yp(t,Ol.store)}function ob(t){return yp(t,Cd.store)}function UE(t){return yp(t,Wy.store)}var aT=function(){function t(i){this.Ht=i}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),b2=function(){function t(i,e){this.referenceDelegate=i,this.R=e}return t.prototype.allocateTargetId=function(i){var e=this;return this.Xt(i).next(function(s){var a=new aT(s.highestTargetId);return s.highestTargetId=a.next(),e.Zt(i,s).next(function(){return s.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(i){return this.Xt(i).next(function(e){return Ys.fromTimestamp(new Nh(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(i){return this.Xt(i).next(function(e){return e.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(i,e,s){var a=this;return this.Xt(i).next(function(l){return l.highestListenSequenceNumber=e,s&&(l.lastRemoteSnapshotVersion=s.toTimestamp()),e>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=e),a.Zt(i,l)})},t.prototype.addTargetData=function(i,e){var s=this;return this.te(i,e).next(function(){return s.Xt(i).next(function(a){return a.targetCount+=1,s.ee(e,a),s.Zt(i,a)})})},t.prototype.updateTargetData=function(i,e){return this.te(i,e)},t.prototype.removeTargetData=function(i,e){var s=this;return this.removeMatchingKeysForTargetId(i,e.targetId).next(function(){return S0(i).delete(e.targetId)}).next(function(){return s.Xt(i)}).next(function(a){return cs(a.targetCount>0),a.targetCount-=1,s.Zt(i,a)})},t.prototype.removeTargets=function(i,e,s){var a=this,l=0,h=[];return S0(i).$t(function(v,C){var O=zg(C);O.sequenceNumber<=e&&null===s.get(O.targetId)&&(l++,h.push(a.removeTargetData(i,O)))}).next(function(){return xi.waitFor(h)}).next(function(){return l})},t.prototype.forEachTarget=function(i,e){return S0(i).$t(function(s,a){var l=zg(a);e(l)})},t.prototype.Xt=function(i){return jE(i).get(Df.key).next(function(e){return cs(null!==e),e})},t.prototype.Zt=function(i,e){return jE(i).put(Df.key,e)},t.prototype.te=function(i,e){return S0(i).put(BE(this.R,e))},t.prototype.ee=function(i,e){var s=!1;return i.targetId>e.highestTargetId&&(e.highestTargetId=i.targetId,s=!0),i.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=i.sequenceNumber,s=!0),s},t.prototype.getTargetCount=function(i){return this.Xt(i).next(function(e){return e.targetCount})},t.prototype.getTargetData=function(i,e){var s=Nx(e),a=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]),l=null;return S0(i).$t({range:a,index:Xp.queryTargetsIndexName},function(h,v,C){var O=zg(v);E1(e,O.target)&&(l=O,C.done())}).next(function(){return l})},t.prototype.addMatchingKeys=function(i,e,s){var a=this,l=[],h=N_(i);return e.forEach(function(v){var C=qm(v.path);l.push(h.put(new Xd(s,C))),l.push(a.referenceDelegate.addReference(i,s,v))}),xi.waitFor(l)},t.prototype.removeMatchingKeys=function(i,e,s){var a=this,l=N_(i);return xi.forEach(e,function(h){var v=qm(h.path);return xi.waitFor([l.delete([s,v]),a.referenceDelegate.removeReference(i,s,h)])})},t.prototype.removeMatchingKeysForTargetId=function(i,e){var s=N_(i),a=IDBKeyRange.bound([e],[e+1],!1,!0);return s.delete(a)},t.prototype.getMatchingKeysForTargetId=function(i,e){var s=IDBKeyRange.bound([e],[e+1],!1,!0),a=N_(i),l=Ya();return a.$t({range:s,kt:!0},function(h,v,C){var O=Fg(h[1]),G=new Tr(O);l=l.add(G)}).next(function(){return l})},t.prototype.containsKey=function(i,e){var s=qm(e.path),a=IDBKeyRange.bound([s],[EM(s)],!1,!0),l=0;return N_(i).$t({index:Xd.documentTargetsIndex,kt:!0,range:a},function(h,v,C){0!==h[0]&&(l++,C.done())}).next(function(){return l>0})},t.prototype.lt=function(i,e){return S0(i).get(e).next(function(s){return s?zg(s):null})},t}();function S0(t){return yp(t,Xp.store)}function jE(t){return yp(t,Df.store)}function N_(t){return yp(t,Xd.store)}function Qy(t){return(0,vt.mG)(this,void 0,void 0,function(){return(0,vt.Jh)(this,function(i){if(t.code!==Ln.FAILED_PRECONDITION||t.message!==IE)throw t;return Si("LocalStore","Unexpectedly lost primary lease"),[2]})})}function lT(t,i){var s=t[1],l=i[1],h=vo(t[0],i[0]);return 0===h?vo(s,l):h}var x2=function(){function t(i){this.ne=i,this.buffer=new Gu(lT),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(i){var e=[i,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var s=this.buffer.last();lT(e,s)<0&&(this.buffer=this.buffer.delete(s).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),w2=function(){function t(i,e){this.garbageCollector=i,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(i){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(i)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(i){var e=this,s=this.oe?3e5:6e4;Si("LruGarbageCollector","Garbage collection scheduled in "+s+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",s,function(){return(0,vt.mG)(e,void 0,void 0,function(){var a;return(0,vt.Jh)(this,function(l){switch(l.label){case 0:this.ce=null,this.oe=!0,l.label=1;case 1:return l.trys.push([1,3,,7]),[4,i.collectGarbage(this.garbageCollector)];case 2:return l.sent(),[3,7];case 3:return qy(a=l.sent())?(Si("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a),[3,6]):[3,4];case 4:return[4,Qy(a)];case 5:l.sent(),l.label=6;case 6:return[3,7];case 7:return[4,this.ue(i)];case 8:return l.sent(),[2]}})})})},t}(),ZE=function(){function t(i,e){this.ae=i,this.params=e}return t.prototype.calculateTargetCount=function(i,e){return this.ae.he(i).next(function(s){return Math.floor(e/100*s)})},t.prototype.nthSequenceNumber=function(i,e){var s=this;if(0===e)return xi.resolve(fp.o);var a=new x2(e);return this.ae.forEachTarget(i,function(l){return a.re(l.sequenceNumber)}).next(function(){return s.ae.le(i,function(l){return a.re(l)})}).next(function(){return a.maxValue})},t.prototype.removeTargets=function(i,e,s){return this.ae.removeTargets(i,e,s)},t.prototype.removeOrphanedDocuments=function(i,e){return this.ae.removeOrphanedDocuments(i,e)},t.prototype.collect=function(i,e){var s=this;return-1===this.params.cacheSizeCollectionThreshold?(Si("LruGarbageCollector","Garbage collection skipped; disabled"),xi.resolve(v2)):this.getCacheSize(i).next(function(a){return a<s.params.cacheSizeCollectionThreshold?(Si("LruGarbageCollector","Garbage collection skipped; Cache size "+a+" is lower than threshold "+s.params.cacheSizeCollectionThreshold),v2):s.fe(i,e)})},t.prototype.getCacheSize=function(i){return this.ae.getCacheSize(i)},t.prototype.fe=function(i,e){var s,a,l,h,v,C,O,G=this,te=Date.now();return this.calculateTargetCount(i,this.params.percentileToCollect).next(function(pe){return pe>G.params.maximumSequenceNumbersToCollect?(Si("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+G.params.maximumSequenceNumbersToCollect+" from "+pe),a=G.params.maximumSequenceNumbersToCollect):a=pe,h=Date.now(),G.nthSequenceNumber(i,a)}).next(function(pe){return s=pe,v=Date.now(),G.removeTargets(i,s,e)}).next(function(pe){return l=pe,C=Date.now(),G.removeOrphanedDocuments(i,s)}).next(function(pe){return O=Date.now(),Dx()<=Ah.in.DEBUG&&Si("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(h-te)+"ms\n\tDetermined least recently used "+a+" in "+(v-h)+"ms\n\tRemoved "+l+" targets in "+(C-v)+"ms\n\tRemoved "+pe+" documents in "+(O-C)+"ms\nTotal Duration: "+(O-te)+"ms"),xi.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:pe})})},t}(),j1=function(){function t(i,e){this.db=i,this.garbageCollector=new ZE(this,e)}return t.prototype.he=function(i){var e=this.de(i);return this.db.getTargetCache().getTargetCount(i).next(function(s){return e.next(function(a){return s+a})})},t.prototype.de=function(i){var e=0;return this.le(i,function(s){e++}).next(function(){return e})},t.prototype.forEachTarget=function(i,e){return this.db.getTargetCache().forEachTarget(i,e)},t.prototype.le=function(i,e){return this.we(i,function(s,a){return e(a)})},t.prototype.addReference=function(i,e,s){return Z1(i,s)},t.prototype.removeReference=function(i,e,s){return Z1(i,s)},t.prototype.removeTargets=function(i,e,s){return this.db.getTargetCache().removeTargets(i,e,s)},t.prototype.markPotentiallyOrphaned=function(i,e){return Z1(i,e)},t.prototype._e=function(i,e){return a=e,l=!1,UE(s=i).Ot(function(h){return oT(s,h,a).next(function(v){return v&&(l=!0),xi.resolve(!v)})}).next(function(){return l});var s,a,l},t.prototype.removeOrphanedDocuments=function(i,e){var s=this,a=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[],h=0;return this.we(i,function(v,C){if(C<=e){var O=s._e(i,v).next(function(G){if(!G)return h++,a.getEntry(i,v).next(function(){return a.removeEntry(v),N_(i).delete([0,qm(v.path)])})});l.push(O)}}).next(function(){return xi.waitFor(l)}).next(function(){return a.apply(i)}).next(function(){return h})},t.prototype.removeTarget=function(i,e){var s=e.withSequenceNumber(i.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(i,s)},t.prototype.updateLimboDocument=function(i,e){return Z1(i,e)},t.prototype.we=function(i,e){var s,a=N_(i),l=fp.o;return a.$t({index:Xd.documentTargetsIndex},function(h,v){var O=v.path,G=v.sequenceNumber;0===h[0]?(l!==fp.o&&e(new Tr(Fg(s)),l),l=G,s=O):l=fp.o}).next(function(){l!==fp.o&&e(new Tr(Fg(s)),l)})},t.prototype.getCacheSize=function(i){return this.db.getRemoteDocumentCache().getSize(i)},t}();function Z1(t,i){return N_(t).put((s=t.currentSequenceNumber,new Xd(0,qm(i.path),s)));var s}var ab=function(){function t(i,e){this.mapKeyFn=i,this.equalsFn=e,this.inner={}}return t.prototype.get=function(i){var e=this.mapKeyFn(i),s=this.inner[e];if(void 0!==s)for(var a=0,l=s;a<l.length;a++){var h=l[a],C=h[1];if(this.equalsFn(h[0],i))return C}},t.prototype.has=function(i){return void 0!==this.get(i)},t.prototype.set=function(i,e){var s=this.mapKeyFn(i),a=this.inner[s];if(void 0!==a){for(var l=0;l<a.length;l++)if(this.equalsFn(a[l][0],i))return void(a[l]=[i,e]);a.push([i,e])}else this.inner[s]=[[i,e]]},t.prototype.delete=function(i){var e=this.mapKeyFn(i),s=this.inner[e];if(void 0===s)return!1;for(var a=0;a<s.length;a++)if(this.equalsFn(s[a][0],i))return 1===s.length?delete this.inner[e]:s.splice(a,1),!0;return!1},t.prototype.forEach=function(i){Ny(this.inner,function(e,s){for(var a=0,l=s;a<l.length;a++){var h=l[a];i(h[0],h[1])}})},t.prototype.isEmpty=function(){return AM(this.inner)},t}(),Xx=function(){function t(){this.changes=new ab(function(i){return i.toString()},function(i,e){return i.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(i){var e=this.changes.get(i);return e?e.readTime:Ys.min()},t.prototype.addEntry=function(i,e){this.assertNotApplied(),this.changes.set(i.key,{document:i,readTime:e})},t.prototype.removeEntry=function(i,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(i,{document:bd.newInvalidDocument(i),readTime:e})},t.prototype.getEntry=function(i,e){this.assertNotApplied();var s=this.changes.get(e);return void 0!==s?xi.resolve(s.document):this.getFromCache(i,e)},t.prototype.getEntries=function(i,e){return this.getAllFromCache(i,e)},t.prototype.apply=function(i){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(i)},t.prototype.assertNotApplied=function(){},t}(),G1=function(){function t(i,e){this.R=i,this.Ut=e}return t.prototype.addEntry=function(i,e,s){return Xy(i).put(cT(e),s)},t.prototype.removeEntry=function(i,e){var s=Xy(i),a=cT(e);return s.delete(a)},t.prototype.updateMetadata=function(i,e){var s=this;return this.getMetadata(i).next(function(a){return a.byteSize+=e,s.me(i,a)})},t.prototype.getEntry=function(i,e){var s=this;return Xy(i).get(cT(e)).next(function(a){return s.ye(e,a)})},t.prototype.ge=function(i,e){var s=this;return Xy(i).get(cT(e)).next(function(a){return{document:s.ye(e,a),size:U1(a)}})},t.prototype.getEntries=function(i,e){var s=this,a=kf();return this.pe(i,e,function(l,h){var v=s.ye(l,h);a=a.insert(l,v)}).next(function(){return a})},t.prototype.Ee=function(i,e){var s=this,a=kf(),l=new _p(Tr.comparator);return this.pe(i,e,function(h,v){var C=s.ye(h,v);a=a.insert(h,C),l=l.insert(h,U1(v))}).next(function(){return{documents:a,Te:l}})},t.prototype.pe=function(i,e,s){if(e.isEmpty())return xi.resolve();var a=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),l=e.getIterator(),h=l.getNext();return Xy(i).$t({range:a},function(v,C,O){for(var G=Tr.fromSegments(v);h&&Tr.comparator(h,G)<0;)s(h,null),h=l.getNext();h&&h.isEqual(G)&&(s(h,C),h=l.hasNext()?l.getNext():null),h?O.Ct(h.path.toArray()):O.done()}).next(function(){for(;h;)s(h,null),h=l.hasNext()?l.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(i,e,s){var a=this,l=kf(),h=e.path.length+1,v={};if(s.isEqual(Ys.min())){var C=e.path.toArray();v.range=IDBKeyRange.lowerBound(C)}else{var O=e.path.toArray(),G=R_(s);v.range=IDBKeyRange.lowerBound([O,G],!0),v.index=zc.collectionReadTimeIndex}return Xy(i).$t(v,function(te,pe,we){if(te.length===h){var Le=NE(a.R,pe);e.path.isPrefixOf(Le.key.path)?Ux(e,Le)&&(l=l.insert(Le.key,Le)):we.done()}}).next(function(){return l})},t.prototype.newChangeBuffer=function(i){return new Jx(this,!!i&&i.trackRemovals)},t.prototype.getSize=function(i){return this.getMetadata(i).next(function(e){return e.byteSize})},t.prototype.getMetadata=function(i){return GE(i).get(Ng.key).next(function(e){return cs(!!e),e})},t.prototype.me=function(i,e){return GE(i).put(Ng.key,e)},t.prototype.ye=function(i,e){if(e){var s=NE(this.R,e);if(!s.isNoDocument()||!s.version.isEqual(Ys.min()))return s}return bd.newInvalidDocument(i)},t}(),Jx=function(t){function i(e,s){var a=this;return(a=t.call(this)||this).Ie=e,a.trackRemovals=s,a.Ae=new ab(function(l){return l.toString()},function(l,h){return l.isEqual(h)}),a}return(0,vt.ZT)(i,t),i.prototype.applyChanges=function(e){var s=this,a=[],l=0,h=new Gu(function(v,C){return vo(v.canonicalString(),C.canonicalString())});return this.changes.forEach(function(v,C){var O=s.Ae.get(v);if(C.document.isValidDocument()){var G=zE(s.Ie.R,C.document,s.getReadTime(v));h=h.add(v.path.popLast());var te=U1(G);l+=te-O,a.push(s.Ie.addEntry(e,v,G))}else if(l-=O,s.trackRemovals){var pe=zE(s.Ie.R,bd.newNoDocument(v,Ys.min()),s.getReadTime(v));a.push(s.Ie.addEntry(e,v,pe))}else a.push(s.Ie.removeEntry(e,v))}),h.forEach(function(v){a.push(s.Ie.Ut.addToCollectionParentIndex(e,v))}),a.push(this.Ie.updateMetadata(e,l)),xi.waitFor(a)},i.prototype.getFromCache=function(e,s){var a=this;return this.Ie.ge(e,s).next(function(l){return a.Ae.set(s,l.size),l.document})},i.prototype.getAllFromCache=function(e,s){var a=this;return this.Ie.Ee(e,s).next(function(l){var h=l.documents;return l.Te.forEach(function(v,C){a.Ae.set(v,C)}),h})},i}(Xx);function GE(t){return yp(t,Ng.store)}function Xy(t){return yp(t,zc.store)}function cT(t){return t.path.toArray()}var C2=function(){function t(i){this.R=i}return t.prototype.Rt=function(i,e,s,a){var l=this;cs(s<a&&s>=0&&a<=11);var C,h=new PE("createOrUpgrade",e);s<1&&a>=1&&(i.createObjectStore(Ef.store),(C=i).createObjectStore(Wy.store,{keyPath:Wy.keyPath}),C.createObjectStore(Ol.store,{keyPath:Ol.keyPath,autoIncrement:!0}).createIndex(Ol.userMutationsIndex,Ol.userMutationsKeyPath,{unique:!0}),C.createObjectStore(Cd.store),WE(i),function(C){C.createObjectStore(zc.store)}(i));var v=xi.resolve();return s<3&&a>=3&&(0!==s&&(function(C){C.deleteObjectStore(Xd.store),C.deleteObjectStore(Xp.store),C.deleteObjectStore(Df.store)}(i),WE(i)),v=v.next(function(){return function(C){var O=C.store(Df.store),G=new Df(0,0,Ys.min().toTimestamp(),0);return O.put(Df.key,G)}(h)})),s<4&&a>=4&&(0!==s&&(v=v.next(function(){return function(C,O){return O.store(Ol.store).Nt().next(function(G){C.deleteObjectStore(Ol.store),C.createObjectStore(Ol.store,{keyPath:Ol.keyPath,autoIncrement:!0}).createIndex(Ol.userMutationsIndex,Ol.userMutationsKeyPath,{unique:!0});var te=O.store(Ol.store),pe=G.map(function(we){return te.put(we)});return xi.waitFor(pe)})}(i,h)})),v=v.next(function(){!function(C){C.createObjectStore(O_.store,{keyPath:O_.keyPath})}(i)})),s<5&&a>=5&&(v=v.next(function(){return l.Re(h)})),s<6&&a>=6&&(v=v.next(function(){return function(C){C.createObjectStore(Ng.store)}(i),l.be(h)})),s<7&&a>=7&&(v=v.next(function(){return l.ve(h)})),s<8&&a>=8&&(v=v.next(function(){return l.Pe(i,h)})),s<9&&a>=9&&(v=v.next(function(){(function(C){C.objectStoreNames.contains("remoteDocumentChanges")&&C.deleteObjectStore("remoteDocumentChanges")})(i),function(C){var O=C.objectStore(zc.store);O.createIndex(zc.readTimeIndex,zc.readTimeIndexPath,{unique:!1}),O.createIndex(zc.collectionReadTimeIndex,zc.collectionReadTimeIndexPath,{unique:!1})}(e)})),s<10&&a>=10&&(v=v.next(function(){return l.Ve(h)})),s<11&&a>=11&&(v=v.next(function(){(function(C){C.createObjectStore(w0.store,{keyPath:w0.keyPath})})(i),function(C){C.createObjectStore(ib.store,{keyPath:ib.keyPath})}(i)})),v},t.prototype.be=function(i){var e=0;return i.store(zc.store).$t(function(s,a){e+=U1(a)}).next(function(){var s=new Ng(e);return i.store(Ng.store).put(Ng.key,s)})},t.prototype.Re=function(i){var e=this,s=i.store(Wy.store),a=i.store(Ol.store);return s.Nt().next(function(l){return xi.forEach(l,function(h){var v=IDBKeyRange.bound([h.userId,-1],[h.userId,h.lastAcknowledgedBatchId]);return a.Nt(Ol.userMutationsIndex,v).next(function(C){return xi.forEach(C,function(O){cs(O.userId===h.userId);var G=M0(e.R,O);return VE(i,h.userId,G).next(function(){})})})})})},t.prototype.ve=function(i){var e=i.store(Xd.store),s=i.store(zc.store);return i.store(Df.store).get(Df.key).next(function(a){var l=[];return s.$t(function(h,v){var C=new Zo(h),O=[0,qm(C)];l.push(e.get(O).next(function(G){return G?xi.resolve():e.put(new Xd(0,qm(C),a.highestListenSequenceNumber))}))}).next(function(){return xi.waitFor(l)})})},t.prototype.Pe=function(i,e){i.createObjectStore(nb.store,{keyPath:nb.keyPath});var s=e.store(nb.store),a=new T0,l=function(h){if(a.add(h)){var v=h.lastSegment(),C=h.popLast();return s.put({collectionId:v,parent:qm(C)})}};return e.store(zc.store).$t({kt:!0},function(h,v){var C=new Zo(h);return l(C.popLast())}).next(function(){return e.store(Cd.store).$t({kt:!0},function(h,v){var O=Fg(h[1]);return l(O.popLast())})})},t.prototype.Ve=function(i){var e=this,s=i.store(Xp.store);return s.$t(function(a,l){var h=zg(l),v=BE(e.R,h);return s.put(v)})},t}();function WE(t){t.createObjectStore(Xd.store,{keyPath:Xd.keyPath}).createIndex(Xd.documentTargetsIndex,Xd.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Xp.store,{keyPath:Xp.keyPath}).createIndex(Xp.queryTargetsIndexName,Xp.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Df.store)}var uT="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",M2=function(){function t(i,e,s,a,l,h,v,C,O,G){if(this.allowTabSynchronization=i,this.persistenceKey=e,this.clientId=s,this.Se=l,this.window=h,this.document=v,this.De=O,this.Ce=G,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(te){return Promise.resolve()},!t.yt())throw new pi(Ln.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new j1(this,a),this.Le=e+"main",this.R=new iT(C),this.Be=new C0(this.Le,11,new C2(this.R)),this.qe=new b2(this.referenceDelegate,this.R),this.Ut=new y2,this.Ue=new G1(this.R,this.Ut),this.Ke=new _2,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===G&&Nc("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var i=this;return this.je().then(function(){if(!i.isPrimary&&!i.allowTabSynchronization)throw new pi(Ln.FAILED_PRECONDITION,uT);return i.We(),i.Ge(),i.ze(),i.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return i.qe.getHighestSequenceNumber(e)})}).then(function(e){i.Ne=new fp(e,i.De)}).then(function(){i.xe=!0}).catch(function(e){return i.Be&&i.Be.close(),Promise.reject(e)})},t.prototype.He=function(i){var e=this;return this.Me=function(s){return(0,vt.mG)(e,void 0,void 0,function(){return(0,vt.Jh)(this,function(a){return this.started?[2,i(s)]:[2]})})},i(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(i){var e=this;this.Be.vt(function(s){return(0,vt.mG)(e,void 0,void 0,function(){return(0,vt.Jh)(this,function(a){switch(a.label){case 0:return null===s.newVersion?[4,i()]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(i){var e=this;this.networkEnabled!==i&&(this.networkEnabled=i,this.Se.enqueueAndForget(function(){return(0,vt.mG)(e,void 0,void 0,function(){return(0,vt.Jh)(this,function(s){switch(s.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var i=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return W1(e).put(new O_(i.clientId,Date.now(),i.networkEnabled,i.inForeground)).next(function(){if(i.isPrimary)return i.Je(e).next(function(s){s||(i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}))})}).next(function(){return i.Ye(e)}).next(function(s){return i.isPrimary&&!s?i.Xe(e).next(function(){return!1}):!!s&&i.Ze(e).next(function(){return!0})})}).catch(function(e){if(qy(e))return Si("IndexedDbPersistence","Failed to extend owner lease: ",e),i.isPrimary;if(!i.allowTabSynchronization)throw e;return Si("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){i.isPrimary!==e&&i.Se.enqueueRetryable(function(){return i.Me(e)}),i.isPrimary=e})},t.prototype.Je=function(i){var e=this;return Kx(i).get(Ef.key).next(function(s){return xi.resolve(e.tn(s))})},t.prototype.en=function(i){return W1(i).delete(this.clientId)},t.prototype.nn=function(){return(0,vt.mG)(this,void 0,void 0,function(){var i,e,s,l=this;return(0,vt.Jh)(this,function(h){switch(h.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(v){var C=yp(v,O_.store);return C.Nt().next(function(O){var G=l.rn(O,18e5),te=O.filter(function(pe){return-1===G.indexOf(pe)});return xi.forEach(te,function(pe){return C.delete(pe.clientId)}).next(function(){return te})})}).catch(function(){return[]})]);case 1:if(i=h.sent(),this.Qe)for(e=0,s=i;e<s.length;e++)this.Qe.removeItem(this.on(s[e].clientId));h.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var i=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return i.je().then(function(){return i.nn()}).then(function(){return i.ze()})})},t.prototype.tn=function(i){return!!i&&i.ownerId===this.clientId},t.prototype.Ye=function(i){var e=this;return this.Ce?xi.resolve(!0):Kx(i).get(Ef.key).next(function(s){if(null!==s&&e.sn(s.leaseTimestampMs,5e3)&&!e.cn(s.ownerId)){if(e.tn(s)&&e.networkEnabled)return!0;if(!e.tn(s)){if(!s.allowTabSynchronization)throw new pi(Ln.FAILED_PRECONDITION,uT);return!1}}return!(!e.networkEnabled||!e.inForeground)||W1(i).Nt().next(function(a){return void 0===e.rn(a,5e3).find(function(l){return!(e.clientId===l.clientId||!(!e.networkEnabled&&l.networkEnabled||!e.inForeground&&l.inForeground&&e.networkEnabled===l.networkEnabled))})})}).next(function(s){return e.isPrimary!==s&&Si("IndexedDbPersistence","Client "+(s?"is":"is not")+" eligible for a primary lease."),s})},t.prototype.shutdown=function(){return(0,vt.mG)(this,void 0,void 0,function(){var i=this;return(0,vt.Jh)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Ef.store,O_.store],function(s){var a=new RE(s,fp.o);return i.Xe(a).next(function(){return i.en(a)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(i,e){var s=this;return i.filter(function(a){return s.sn(a.updateTimeMs,e)&&!s.cn(a.clientId)})},t.prototype.fn=function(){var i=this;return this.runTransaction("getActiveClients","readonly",function(e){return W1(e).Nt().next(function(s){return i.rn(s,18e5).map(function(a){return a.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(i){return sT.Qt(i,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(i,e,s){var l,a=this;return Si("IndexedDbPersistence","Starting transaction:",i),this.Be.runTransaction(i,"readonly"===e?"readonly":"readwrite",AE,function(v){return l=new RE(v,a.Ne?a.Ne.next():fp.o),"readwrite-primary"===e?a.Je(l).next(function(C){return!!C||a.Ye(l)}).next(function(C){if(!C)throw Nc("Failed to obtain primary lease for action '"+i+"'."),a.isPrimary=!1,a.Se.enqueueRetryable(function(){return a.Me(!1)}),new pi(Ln.FAILED_PRECONDITION,IE);return s(l)}).next(function(C){return a.Ze(l).next(function(){return C})}):a.dn(l).next(function(){return s(l)})}).then(function(v){return l.raiseOnCommittedEvent(),v})},t.prototype.dn=function(i){var e=this;return Kx(i).get(Ef.key).next(function(s){if(null!==s&&e.sn(s.leaseTimestampMs,5e3)&&!e.cn(s.ownerId)&&!e.tn(s)&&!(e.Ce||e.allowTabSynchronization&&s.allowTabSynchronization))throw new pi(Ln.FAILED_PRECONDITION,uT)})},t.prototype.Ze=function(i){var e=new Ef(this.clientId,this.allowTabSynchronization,Date.now());return Kx(i).put(Ef.key,e)},t.yt=function(){return C0.yt()},t.prototype.Xe=function(i){var e=this,s=Kx(i);return s.get(Ef.key).next(function(a){return e.tn(a)?(Si("IndexedDbPersistence","Releasing primary lease."),s.delete(Ef.key)):xi.resolve()})},t.prototype.sn=function(i,e){var s=Date.now();return!(i<s-e||i>s&&(Nc("Detected an update time that is in the future: "+i+" > "+s),1))},t.prototype.We=function(){var i=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){i.Se.enqueueAndForget(function(){return i.inForeground="visible"===i.document.visibilityState,i.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var i,e=this;"function"==typeof(null===(i=this.window)||void 0===i?void 0:i.addEventListener)&&(this.Fe=function(){e.un(),(0,Ls.G6)()&&navigator.appVersion.match("Version/14")&&e.Se.enterRestrictedMode(!0),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("pagehide",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},t.prototype.cn=function(i){var e;try{var s=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(i)));return Si("IndexedDbPersistence","Client '"+i+"' "+(s?"is":"is not")+" zombied in LocalStorage"),s}catch(a){return Nc("IndexedDbPersistence","Failed to get zombied client id.",a),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(i){Nc("Failed to set zombie client id.",i)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(i){}},t.prototype.on=function(i){return"firestore_zombie_"+this.persistenceKey+"_"+i},t}();function Kx(t){return yp(t,Ef.store)}function W1(t){return yp(t,O_.store)}function dT(t,i){var e=t.projectId;return t.isDefaultDatabase||(e+="."+t.database),"firestore/"+i+"/"+e+"/"}var T2=function(t,i){this.progress=t,this.wn=i},qE=function(){function t(i,e,s){this.Ue=i,this._n=e,this.Ut=s}return t.prototype.mn=function(i,e){var s=this;return this._n.getAllMutationBatchesAffectingDocumentKey(i,e).next(function(a){return s.yn(i,e,a)})},t.prototype.yn=function(i,e,s){return this.Ue.getEntry(i,e).next(function(a){for(var l=0,h=s;l<h.length;l++)h[l].applyToLocalView(a);return a})},t.prototype.gn=function(i,e){i.forEach(function(s,a){for(var l=0,h=e;l<h.length;l++)h[l].applyToLocalView(a)})},t.prototype.pn=function(i,e){var s=this;return this.Ue.getEntries(i,e).next(function(a){return s.En(i,a).next(function(){return a})})},t.prototype.En=function(i,e){var s=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(i,e).next(function(a){return s.gn(e,a)})},t.prototype.getDocumentsMatchingQuery=function(i,e,s){return Tr.isDocumentKey((a=e).path)&&null===a.collectionGroup&&0===a.filters.length?this.Tn(i,e.path):NM(e)?this.In(i,e,s):this.An(i,e,s);var a},t.prototype.Tn=function(i,e){return this.mn(i,new Tr(e)).next(function(s){var a=GM();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})},t.prototype.In=function(i,e,s){var a=this,l=e.collectionGroup,h=GM();return this.Ut.getCollectionParents(i,l).next(function(v){return xi.forEach(v,function(C){var G,te,O=(G=e,te=C.child(l),new Pg(te,null,G.explicitOrderBy.slice(),G.filters.slice(),G.limit,G.limitType,G.startAt,G.endAt));return a.An(i,O,s).next(function(G){G.forEach(function(te,pe){h=h.insert(te,pe)})})}).next(function(){return h})})},t.prototype.An=function(i,e,s){var a,l,h=this;return this.Ue.getDocumentsMatchingQuery(i,e,s).next(function(v){return a=v,h._n.getAllMutationBatchesAffectingQuery(i,e)}).next(function(v){return h.Rn(i,l=v,a).next(function(C){a=C;for(var O=0,G=l;O<G.length;O++)for(var te=G[O],pe=0,we=te.mutations;pe<we.length;pe++){var Le=we[pe],je=Le.key,tt=a.get(je);null==tt&&(tt=bd.newInvalidDocument(je),a=a.insert(je,tt)),Uy(Le,tt,te.localWriteTime),tt.isFoundDocument()||(a=a.remove(je))}})}).next(function(){return a.forEach(function(v,C){Ux(e,C)||(a=a.remove(v))}),a})},t.prototype.Rn=function(i,e,s){for(var a=Ya(),l=0,h=e;l<h.length;l++)for(var v=0,C=h[l].mutations;v<C.length;v++){var O=C[v];O instanceof L_&&null===s.get(O.key)&&(a=a.add(O.key))}var G=s;return this.Ue.getEntries(i,a).next(function(te){return te.forEach(function(pe,we){we.isFoundDocument()&&(G=G.insert(pe,we))}),G})},t}(),iN=function(){function t(i,e,s,a){this.targetId=i,this.fromCache=e,this.bn=s,this.vn=a}return t.Pn=function(i,e){for(var s=Ya(),a=Ya(),l=0,h=e.docChanges;l<h.length;l++){var v=h[l];switch(v.type){case 0:s=s.add(v.doc.key);break;case 1:a=a.add(v.doc.key)}}return new t(i,e.fromCache,s,a)},t}(),$E=function(){function t(){}return t.prototype.Vn=function(i){this.Sn=i},t.prototype.getDocumentsMatchingQuery=function(i,e,s,a){var h,l=this;return 0===(h=e).filters.length&&null===h.limit&&null==h.startAt&&null==h.endAt&&(0===h.explicitOrderBy.length||1===h.explicitOrderBy.length&&h.explicitOrderBy[0].field.isKeyField())||s.isEqual(Ys.min())?this.Dn(i,e):this.Sn.pn(i,a).next(function(h){var v=l.Cn(e,h);return(Yx(e)||Hx(e))&&l.Nn(e.limitType,v,a,s)?l.Dn(i,e):(Dx()<=Ah.in.DEBUG&&Si("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),zM(e)),l.Sn.getDocumentsMatchingQuery(i,e,s).next(function(C){return v.forEach(function(O){C=C.insert(O.key,O)}),C}))})},t.prototype.Cn=function(i,e){var s=new Gu(tE(i));return e.forEach(function(a,l){Ux(i,l)&&(s=s.add(l))}),s},t.prototype.Nn=function(i,e,s,a){if(s.size!==e.size)return!0;var l="F"===i?e.last():e.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)},t.prototype.Dn=function(i,e){return Dx()<=Ah.in.DEBUG&&Si("QueryEngine","Using full collection scan to execute query:",zM(e)),this.Sn.getDocumentsMatchingQuery(i,e,Ys.min())},t}(),ew=function(){function t(i,e,s,a){this.persistence=i,this.xn=e,this.R=a,this.Fn=new _p(vo),this.kn=new ab(function(l){return Nx(l)},E1),this.$n=Ys.min(),this._n=i.getMutationQueue(s),this.On=i.getRemoteDocumentCache(),this.qe=i.getTargetCache(),this.Mn=new qE(this.On,this._n,this.persistence.getIndexManager()),this.Ke=i.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(i){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(s){return i.collect(s,e.Fn)})},t}();function QE(t,i,e,s){return new ew(t,i,e,s)}function XE(t,i){return(0,vt.mG)(this,void 0,void 0,function(){var e,s,a,l;return(0,vt.Jh)(this,function(h){switch(h.label){case 0:return e=Ni(t),s=e._n,a=e.Mn,[4,e.persistence.runTransaction("Handle user change","readonly",function(v){var C;return e._n.getAllMutationBatches(v).next(function(O){return C=O,s=e.persistence.getMutationQueue(i),a=new qE(e.On,s,e.persistence.getIndexManager()),s.getAllMutationBatches(v)}).next(function(O){for(var G=[],te=[],pe=Ya(),we=0,Le=C;we<Le.length;we++){var je=Le[we];G.push(je.batchId);for(var tt=0,yt=je.mutations;tt<yt.length;tt++)pe=pe.add(yt[tt].key)}for(var tn=0,gn=O;tn<gn.length;tn++){var pn=gn[tn];te.push(pn.batchId);for(var qn=0,si=pn.mutations;qn<si.length;qn++)pe=pe.add(si[qn].key)}return a.pn(v,pe).next(function(Ii){return{Ln:Ii,removedBatchIds:G,addedBatchIds:te}})})})];case 1:return l=h.sent(),[2,(e._n=s,e.Mn=a,e.xn.Vn(e.Mn),l)]}})})}function S2(t,i){var e=Ni(t);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(s){var h,v,C,O,G,te,pe,a=i.batch.keys(),l=e.On.newChangeBuffer({trackRemovals:!0});return(h=e,v=s,C=i,O=l,G=C.batch,te=G.keys(),pe=xi.resolve(),te.forEach(function(we){pe=pe.next(function(){return O.getEntry(v,we)}).next(function(Le){var je=C.docVersions.get(we);cs(null!==je),Le.version.compareTo(je)<0&&(G.applyToRemoteDocument(Le,C),Le.isValidDocument()&&O.addEntry(Le,C.commitVersion))})}),pe.next(function(){return h._n.removeMutationBatch(v,G)})).next(function(){return l.apply(s)}).next(function(){return e._n.performConsistencyCheck(s)}).next(function(){return e.Mn.pn(s,a)})})}function tw(t){var i=Ni(t);return i.persistence.runTransaction("Get last remote snapshot version","readonly",function(e){return i.qe.getLastRemoteSnapshotVersion(e)})}function lb(t,i){var e=Ni(t),s=i.snapshotVersion,a=e.Fn;return e.persistence.runTransaction("Apply remote event","readwrite-primary",function(l){var h=e.On.newChangeBuffer({trackRemovals:!0});a=e.Fn;var v=[];i.targetChanges.forEach(function(G,te){var je,tt,yt,pe=a.get(te);if(pe){v.push(e.qe.removeMatchingKeys(l,G.removedDocuments,te).next(function(){return e.qe.addMatchingKeys(l,G.addedDocuments,te)}));var we=G.resumeToken;if(we.approximateByteSize()>0){var Le=pe.withResumeToken(we,s).withSequenceNumber(l.currentSequenceNumber);a=a.insert(te,Le),je=pe,yt=G,cs((tt=Le).resumeToken.approximateByteSize()>0),(0===je.resumeToken.approximateByteSize()||tt.snapshotVersion.toMicroseconds()-je.snapshotVersion.toMicroseconds()>=3e8||yt.addedDocuments.size+yt.modifiedDocuments.size+yt.removedDocuments.size>0)&&v.push(e.qe.updateTargetData(l,Le))}}});var C=kf();if(i.documentUpdates.forEach(function(G,te){i.resolvedLimboDocuments.has(G)&&v.push(e.persistence.referenceDelegate.updateLimboDocument(l,G))}),v.push(hT(l,h,i.documentUpdates,s,void 0).next(function(G){C=G})),!s.isEqual(Ys.min())){var O=e.qe.getLastRemoteSnapshotVersion(l).next(function(G){return e.qe.setTargetsMetadata(l,l.currentSequenceNumber,s)});v.push(O)}return xi.waitFor(v).next(function(){return h.apply(l)}).next(function(){return e.Mn.En(l,C)}).next(function(){return C})}).then(function(l){return e.Fn=a,l})}function hT(t,i,e,s,a){var l=Ya();return e.forEach(function(h){return l=l.add(h)}),i.getEntries(t,l).next(function(h){var v=kf();return e.forEach(function(C,O){var G=h.get(C),te=(null==a?void 0:a.get(C))||s;O.isNoDocument()&&O.version.isEqual(Ys.min())?(i.removeEntry(C,te),v=v.insert(C,O)):!G.isValidDocument()||O.version.compareTo(G.version)>0||0===O.version.compareTo(G.version)&&G.hasPendingWrites?(i.addEntry(O,te),v=v.insert(C,O)):Si("LocalStore","Ignoring outdated watch update for ",C,". Current version:",G.version," Watch version:",O.version)}),v})}function k2(t,i){var e=Ni(t);return e.persistence.runTransaction("Get next mutation batch","readonly",function(s){return void 0===i&&(i=-1),e._n.getNextMutationBatchAfterBatchId(s,i)})}function nw(t,i){var e=Ni(t);return e.persistence.runTransaction("Allocate target","readwrite",function(s){var a;return e.qe.getTargetData(s,i).next(function(l){return l?xi.resolve(a=l):e.qe.allocateTargetId(s).next(function(h){return a=new Qx(i,h,0,s.currentSequenceNumber),e.qe.addTargetData(s,a).next(function(){return a})})})}).then(function(s){var a=e.Fn.get(s.targetId);return(null===a||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(e.Fn=e.Fn.insert(s.targetId,s),e.kn.set(i,s.targetId)),s})}function k0(t,i,e){return(0,vt.mG)(this,void 0,void 0,function(){var s,a,l,h;return(0,vt.Jh)(this,function(v){switch(v.label){case 0:s=Ni(t),a=s.Fn.get(i),l=e?"readwrite":"readwrite-primary",v.label=1;case 1:return v.trys.push([1,4,,5]),e?[3,3]:[4,s.persistence.runTransaction("Release target",l,function(C){return s.persistence.referenceDelegate.removeTarget(C,a)})];case 2:v.sent(),v.label=3;case 3:return[3,5];case 4:if(!qy(h=v.sent()))throw h;return Si("LocalStore","Failed to update sequence numbers for target "+i+": "+h),[3,5];case 5:return s.Fn=s.Fn.remove(i),s.kn.delete(a.target),[2]}})})}function cb(t,i,e){var s=Ni(t),a=Ys.min(),l=Ya();return s.persistence.runTransaction("Execute query","readonly",function(h){return(v=s,C=h,O=mm(i),G=Ni(v),te=G.kn.get(O),void 0!==te?xi.resolve(G.Fn.get(te)):G.qe.getTargetData(C,O)).next(function(v){if(v)return a=v.lastLimboFreeSnapshotVersion,s.qe.getMatchingKeysForTargetId(h,v.targetId).next(function(C){l=C})}).next(function(){return s.xn.getDocumentsMatchingQuery(h,i,e?a:Ys.min(),e?l:Ya())}).next(function(v){return{documents:v,Bn:l}});var v,C,O,G,te})}function JE(t,i){var e=Ni(t),s=Ni(e.qe),a=e.Fn.get(i);return a?Promise.resolve(a.target):e.persistence.runTransaction("Get target data","readonly",function(l){return s.lt(l,i).next(function(h){return h?h.target:null})})}function KE(t){var i=Ni(t);return i.persistence.runTransaction("Get new document changes","readonly",function(e){return a=e,l=i.$n,h=Ni(i.On),v=kf(),C=R_(l),O=Xy(a),G=IDBKeyRange.lowerBound(C,!0),O.$t({index:zc.readTimeIndex,range:G},function(te,pe){var we=NE(h.R,pe);v=v.insert(we.key,we),C=pe.readTime}).next(function(){return{wn:v,readTime:g2(C)}});var a,l,h,v,C,O,G}).then(function(e){var s=e.wn;return i.$n=e.readTime,s})}function eD(t){return(0,vt.mG)(this,void 0,void 0,function(){var i;return(0,vt.Jh)(this,function(e){return[2,(i=Ni(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(s){return l=Xy(s),h=Ys.min(),l.$t({index:zc.readTimeIndex,reverse:!0},function(v,C,O){C.readTime&&(h=g2(C.readTime)),O.done()}).next(function(){return h});var l,h}).then(function(s){i.$n=s})]})})}function tD(t,i,e,s){return(0,vt.mG)(this,void 0,void 0,function(){var a,l,h,v,C,O,G,te,pe,we;return(0,vt.Jh)(this,function(Le){switch(Le.label){case 0:for(a=Ni(t),l=Ya(),h=kf(),v=cE(),C=0,O=e;C<O.length;C++)te=i.qn((G=O[C]).metadata.name),G.document&&(l=l.add(te)),h=h.insert(te,i.Un(G)),v=v.insert(te,i.Kn(G.metadata.readTime));return pe=a.On.newChangeBuffer({trackRemovals:!0}),[4,nw(a,(je=s,mm(Jv(Zo.fromString("__bundle__/docs/"+je)))))];case 1:return we=Le.sent(),[2,a.persistence.runTransaction("Apply bundle documents","readwrite",function(je){return hT(je,pe,h,Ys.min(),v).next(function(tt){return pe.apply(je),tt}).next(function(tt){return a.qe.removeMatchingKeysForTargetId(je,we.targetId).next(function(){return a.qe.addMatchingKeys(je,l,we.targetId)}).next(function(){return a.Mn.En(je,tt)}).next(function(){return tt})})})]}var je})})}function pT(t,i,e){return void 0===e&&(e=Ya()),(0,vt.mG)(this,void 0,void 0,function(){var s,a;return(0,vt.Jh)(this,function(l){switch(l.label){case 0:return[4,nw(t,mm(YE(i.bundledQuery)))];case 1:return s=l.sent(),[2,(a=Ni(t)).persistence.runTransaction("Save named query","readwrite",function(h){var v=wd(i.readTime);if(s.snapshotVersion.compareTo(v)>=0)return a.Ke.saveNamedQuery(h,i);var C=s.withResumeToken($p.EMPTY_BYTE_STRING,v);return a.Fn=a.Fn.insert(C.targetId,C),a.qe.updateTargetData(h,C).next(function(){return a.qe.removeMatchingKeysForTargetId(h,s.targetId)}).next(function(){return a.qe.addMatchingKeys(h,e,s.targetId)}).next(function(){return a.Ke.saveNamedQuery(h,i)})})]}})})}var nD=function(){function t(i){this.R=i,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(i,e){return xi.resolve(this.Qn.get(e))},t.prototype.saveBundleMetadata=function(i,e){var s;return this.Qn.set(e.id,{id:(s=e).id,version:s.version,createTime:wd(s.createTime)}),xi.resolve()},t.prototype.getNamedQuery=function(i,e){return xi.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(i,e){return this.jn.set(e.name,{name:(s=e).name,query:YE(s.bundledQuery),readTime:wd(s.readTime)}),xi.resolve();var s},t}(),q1=function(){function t(){this.Wn=new Gu(Md.Gn),this.zn=new Gu(Md.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(i,e){var s=new Md(i,e);this.Wn=this.Wn.add(s),this.zn=this.zn.add(s)},t.prototype.Jn=function(i,e){var s=this;i.forEach(function(a){return s.addReference(a,e)})},t.prototype.removeReference=function(i,e){this.Yn(new Md(i,e))},t.prototype.Xn=function(i,e){var s=this;i.forEach(function(a){return s.removeReference(a,e)})},t.prototype.Zn=function(i){var e=this,s=new Tr(new Zo([])),a=new Md(s,i),l=new Md(s,i+1),h=[];return this.zn.forEachInRange([a,l],function(v){e.Yn(v),h.push(v.key)}),h},t.prototype.ts=function(){var i=this;this.Wn.forEach(function(e){return i.Yn(e)})},t.prototype.Yn=function(i){this.Wn=this.Wn.delete(i),this.zn=this.zn.delete(i)},t.prototype.es=function(i){var e=new Tr(new Zo([])),s=new Md(e,i),a=new Md(e,i+1),l=Ya();return this.zn.forEachInRange([s,a],function(h){l=l.add(h.key)}),l},t.prototype.containsKey=function(i){var e=new Md(i,0),s=this.Wn.firstAfterOrEqual(e);return null!==s&&i.isEqual(s.key)},t}(),Md=function(){function t(i,e){this.key=i,this.ns=e}return t.Gn=function(i,e){return Tr.comparator(i.key,e.key)||vo(i.ns,e.ns)},t.Hn=function(i,e){return vo(i.ns,e.ns)||Tr.comparator(i.key,e.key)},t}(),E2=function(){function t(i,e){this.Ut=i,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Gu(Md.Gn)}return t.prototype.checkEmpty=function(i){return xi.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(i,e,s,a){var l=this.ss;this.ss++;var h=new nT(l,e,s,a);this._n.push(h);for(var v=0,C=a;v<C.length;v++){var O=C[v];this.rs=this.rs.add(new Md(O.key,l)),this.Ut.addToCollectionParentIndex(i,O.key.path.popLast())}return xi.resolve(h)},t.prototype.lookupMutationBatch=function(i,e){return xi.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(i,e){var a=this.cs(e+1),l=a<0?0:a;return xi.resolve(this._n.length>l?this._n[l]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return xi.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(i){return xi.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(i,e){var s=this,a=new Md(e,0),l=new Md(e,Number.POSITIVE_INFINITY),h=[];return this.rs.forEachInRange([a,l],function(v){var C=s.os(v.ns);h.push(C)}),xi.resolve(h)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(i,e){var s=this,a=new Gu(vo);return e.forEach(function(l){var h=new Md(l,0),v=new Md(l,Number.POSITIVE_INFINITY);s.rs.forEachInRange([h,v],function(C){a=a.add(C.ns)})}),xi.resolve(this.us(a))},t.prototype.getAllMutationBatchesAffectingQuery=function(i,e){var s=e.path,a=s.length+1,l=s;Tr.isDocumentKey(l)||(l=l.child(""));var h=new Md(new Tr(l),0),v=new Gu(vo);return this.rs.forEachWhile(function(C){var O=C.key.path;return!!s.isPrefixOf(O)&&(O.length===a&&(v=v.add(C.ns)),!0)},h),xi.resolve(this.us(v))},t.prototype.us=function(i){var e=this,s=[];return i.forEach(function(a){var l=e.os(a);null!==l&&s.push(l)}),s},t.prototype.removeMutationBatch=function(i,e){var s=this;cs(0===this.hs(e.batchId,"removed")),this._n.shift();var a=this.rs;return xi.forEach(e.mutations,function(l){var h=new Md(l.key,e.batchId);return a=a.delete(h),s.referenceDelegate.markPotentiallyOrphaned(i,l.key)}).next(function(){s.rs=a})},t.prototype.Gt=function(i){},t.prototype.containsKey=function(i,e){var s=new Md(e,0),a=this.rs.firstAfterOrEqual(s);return xi.resolve(e.isEqual(a&&a.key))},t.prototype.performConsistencyCheck=function(i){return xi.resolve()},t.prototype.hs=function(i,e){return this.cs(i)},t.prototype.cs=function(i){return 0===this._n.length?0:i-this._n[0].batchId},t.prototype.os=function(i){var e=this.cs(i);return e<0||e>=this._n.length?null:this._n[e]},t}(),iD=function(){function t(i,e){this.Ut=i,this.ls=e,this.docs=new _p(Tr.comparator),this.size=0}return t.prototype.addEntry=function(i,e,s){var a=e.key,l=this.docs.get(a),h=l?l.size:0,v=this.ls(e);return this.docs=this.docs.insert(a,{document:e.clone(),size:v,readTime:s}),this.size+=v-h,this.Ut.addToCollectionParentIndex(i,a.path.popLast())},t.prototype.removeEntry=function(i){var e=this.docs.get(i);e&&(this.docs=this.docs.remove(i),this.size-=e.size)},t.prototype.getEntry=function(i,e){var s=this.docs.get(e);return xi.resolve(s?s.document.clone():bd.newInvalidDocument(e))},t.prototype.getEntries=function(i,e){var s=this,a=kf();return e.forEach(function(l){var h=s.docs.get(l);a=a.insert(l,h?h.document.clone():bd.newInvalidDocument(l))}),xi.resolve(a)},t.prototype.getDocumentsMatchingQuery=function(i,e,s){for(var a=kf(),l=new Tr(e.path.child("")),h=this.docs.getIteratorFrom(l);h.hasNext();){var v=h.getNext(),O=v.value,G=O.document,te=O.readTime;if(!e.path.isPrefixOf(v.key.path))break;te.compareTo(s)<=0||Ux(e,G)&&(a=a.insert(G.key,G.clone()))}return xi.resolve(a)},t.prototype.fs=function(i,e){return xi.forEach(this.docs,function(s){return e(s)})},t.prototype.newChangeBuffer=function(i){return new D2(this)},t.prototype.getSize=function(i){return xi.resolve(this.size)},t}(),D2=function(t){function i(e){var s=this;return(s=t.call(this)||this).Ie=e,s}return(0,vt.ZT)(i,t),i.prototype.applyChanges=function(e){var s=this,a=[];return this.changes.forEach(function(l,h){h.document.isValidDocument()?a.push(s.Ie.addEntry(e,h.document,s.getReadTime(l))):s.Ie.removeEntry(l)}),xi.waitFor(a)},i.prototype.getFromCache=function(e,s){return this.Ie.getEntry(e,s)},i.prototype.getAllFromCache=function(e,s){return this.Ie.getEntries(e,s)},i}(Xx),rD=function(){function t(i){this.persistence=i,this.ds=new ab(function(e){return Nx(e)},E1),this.lastRemoteSnapshotVersion=Ys.min(),this.highestTargetId=0,this.ws=0,this._s=new q1,this.targetCount=0,this.ys=aT.Jt()}return t.prototype.forEachTarget=function(i,e){return this.ds.forEach(function(s,a){return e(a)}),xi.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(i){return xi.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(i){return xi.resolve(this.ws)},t.prototype.allocateTargetId=function(i){return this.highestTargetId=this.ys.next(),xi.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(i,e,s){return s&&(this.lastRemoteSnapshotVersion=s),e>this.ws&&(this.ws=e),xi.resolve()},t.prototype.te=function(i){this.ds.set(i.target,i);var e=i.targetId;e>this.highestTargetId&&(this.ys=new aT(e),this.highestTargetId=e),i.sequenceNumber>this.ws&&(this.ws=i.sequenceNumber)},t.prototype.addTargetData=function(i,e){return this.te(e),this.targetCount+=1,xi.resolve()},t.prototype.updateTargetData=function(i,e){return this.te(e),xi.resolve()},t.prototype.removeTargetData=function(i,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,xi.resolve()},t.prototype.removeTargets=function(i,e,s){var a=this,l=0,h=[];return this.ds.forEach(function(v,C){C.sequenceNumber<=e&&null===s.get(C.targetId)&&(a.ds.delete(v),h.push(a.removeMatchingKeysForTargetId(i,C.targetId)),l++)}),xi.waitFor(h).next(function(){return l})},t.prototype.getTargetCount=function(i){return xi.resolve(this.targetCount)},t.prototype.getTargetData=function(i,e){var s=this.ds.get(e)||null;return xi.resolve(s)},t.prototype.addMatchingKeys=function(i,e,s){return this._s.Jn(e,s),xi.resolve()},t.prototype.removeMatchingKeys=function(i,e,s){this._s.Xn(e,s);var a=this.persistence.referenceDelegate,l=[];return a&&e.forEach(function(h){l.push(a.markPotentiallyOrphaned(i,h))}),xi.waitFor(l)},t.prototype.removeMatchingKeysForTargetId=function(i,e){return this._s.Zn(e),xi.resolve()},t.prototype.getMatchingKeysForTargetId=function(i,e){var s=this._s.es(e);return xi.resolve(s)},t.prototype.containsKey=function(i,e){return xi.resolve(this._s.containsKey(e))},t}(),$1=function(){function t(i,e){var s=this;this.gs={},this.Ne=new fp(0),this.xe=!1,this.xe=!0,this.referenceDelegate=i(this),this.qe=new rD(this),this.Ut=new nN,this.Ue=new iD(this.Ut,function(h){return s.referenceDelegate.ps(h)}),this.R=new iT(e),this.Ke=new nD(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(i){var e=this.gs[i.toKey()];return e||(e=new E2(this.Ut,this.referenceDelegate),this.gs[i.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(i,e,s){var a=this;Si("MemoryPersistence","Starting transaction:",i);var l=new Q1(this.Ne.next());return this.referenceDelegate.Es(),s(l).next(function(h){return a.referenceDelegate.Ts(l).next(function(){return h})}).toPromise().then(function(h){return l.raiseOnCommittedEvent(),h})},t.prototype.Is=function(i,e){return xi.or(Object.values(this.gs).map(function(s){return function(){return s.containsKey(i,e)}}))},t}(),Q1=function(t){function i(e){var s=this;return(s=t.call(this)||this).currentSequenceNumber=e,s}return(0,vt.ZT)(i,t),i}(LE),rN=function(){function t(i){this.persistence=i,this.As=new q1,this.Rs=null}return t.bs=function(i){return new t(i)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw br()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(i,e,s){return this.As.addReference(s,e),this.vs.delete(s.toString()),xi.resolve()},t.prototype.removeReference=function(i,e,s){return this.As.removeReference(s,e),this.vs.add(s.toString()),xi.resolve()},t.prototype.markPotentiallyOrphaned=function(i,e){return this.vs.add(e.toString()),xi.resolve()},t.prototype.removeTarget=function(i,e){var s=this;this.As.Zn(e.targetId).forEach(function(l){return s.vs.add(l.toString())});var a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(i,e.targetId).next(function(l){l.forEach(function(h){return s.vs.add(h.toString())})}).next(function(){return a.removeTargetData(i,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(i){var e=this,s=this.persistence.getRemoteDocumentCache().newChangeBuffer();return xi.forEach(this.vs,function(a){var l=Tr.fromPath(a);return e.Ps(i,l).next(function(h){h||s.removeEntry(l)})}).next(function(){return e.Rs=null,s.apply(i)})},t.prototype.updateLimboDocument=function(i,e){var s=this;return this.Ps(i,e).next(function(a){a?s.vs.delete(e.toString()):s.vs.add(e.toString())})},t.prototype.ps=function(i){return 0},t.prototype.Ps=function(i,e){var s=this;return xi.or([function(){return xi.resolve(s.As.containsKey(e))},function(){return s.persistence.getTargetCache().containsKey(i,e)},function(){return s.persistence.Is(i,e)}])},t}(),Td=function(){function t(i){this.uid=i}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(i){return i.uid===this.uid},t}();function ma(t,i){return"firestore_clients_"+t+"_"+i}function z_(t,i,e){var s="firestore_mutations_"+t+"_"+e;return i.isAuthenticated()&&(s+="_"+i.uid),s}function Jy(t,i){return"firestore_targets_"+t+"_"+i}Td.UNAUTHENTICATED=new Td(null),Td.GOOGLE_CREDENTIALS=new Td("google-credentials-uid"),Td.FIRST_PARTY=new Td("first-party-uid");var E0=function(){function t(i,e,s,a){this.user=i,this.batchId=e,this.state=s,this.error=a}return t.Vs=function(i,e,s){var a,l=JSON.parse(s),h="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return h&&l.error&&(h="string"==typeof l.error.message&&"string"==typeof l.error.code)&&(a=new pi(l.error.code,l.error.message)),h?new t(i,e,l.state,a):(Nc("SharedClientState","Failed to parse mutation state for ID '"+e+"': "+s),null)},t.prototype.Ss=function(){var i={state:this.state,updateTimeMs:Date.now()};return this.error&&(i.error={code:this.error.code,message:this.error.message}),JSON.stringify(i)},t}(),sD=function(){function t(i,e,s){this.targetId=i,this.state=e,this.error=s}return t.Vs=function(i,e){var s,a=JSON.parse(e),l="object"==typeof a&&-1!==["not-current","current","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return l&&a.error&&(l="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(s=new pi(a.error.code,a.error.message)),l?new t(i,a.state,s):(Nc("SharedClientState","Failed to parse target state for ID '"+i+"': "+e),null)},t.prototype.Ss=function(){var i={state:this.state,updateTimeMs:Date.now()};return this.error&&(i.error={code:this.error.code,message:this.error.message}),JSON.stringify(i)},t}(),vs=function(){function t(i,e){this.clientId=i,this.activeTargetIds=e}return t.Vs=function(i,e){for(var s=JSON.parse(e),a="object"==typeof s&&s.activeTargetIds instanceof Array,l=Y1(),h=0;a&&h<s.activeTargetIds.length;++h)a=Zk(s.activeTargetIds[h]),l=l.add(s.activeTargetIds[h]);return a?new t(i,l):(Nc("SharedClientState","Failed to parse client data for instance '"+i+"': "+e),null)},t}(),gm=function(){function t(i,e){this.clientId=i,this.onlineState=e}return t.Vs=function(i){var e=JSON.parse(i);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new t(e.clientId,e.onlineState):(Nc("SharedClientState","Failed to parse online state: "+i),null)},t}(),iw=function(){function t(){this.activeTargetIds=Y1()}return t.prototype.Ds=function(i){this.activeTargetIds=this.activeTargetIds.add(i)},t.prototype.Cs=function(i){this.activeTargetIds=this.activeTargetIds.delete(i)},t.prototype.Ss=function(){var i={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(i)},t}(),B_=function(){function t(i,e,s,a,l){this.window=i,this.Se=e,this.persistenceKey=s,this.Ns=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new _p(vo),this.started=!1,this.$s=[];var h=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.Os=ma(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.ks=this.ks.insert(this.Ns,new iw),this.Ls=new RegExp("^firestore_clients_"+h+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+h+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+h+"_(\\d+)$"),this.Us="firestore_online_state_"+this.persistenceKey,this.Ks=function(v){return"firestore_bundle_loaded_"+v}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(i){return!(!i||!i.localStorage)},t.prototype.start=function(){return(0,vt.mG)(this,void 0,void 0,function(){var i,e,s,a,l,h,v,C,O,G,pe=this;return(0,vt.Jh)(this,function(we){switch(we.label){case 0:return[4,this.syncEngine.fn()];case 1:for(i=we.sent(),e=0,s=i;e<s.length;e++)(a=s[e])!==this.Ns&&(l=this.getItem(ma(this.persistenceKey,a)))&&(h=vs.Vs(a,l))&&(this.ks=this.ks.insert(h.clientId,h));for(this.Qs(),(v=this.storage.getItem(this.Us))&&(C=this.js(v))&&this.Ws(C),O=0,G=this.$s;O<G.length;O++)this.Fs(G[O]);return this.$s=[],this.window.addEventListener("pagehide",function(){return pe.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(i){this.setItem(this.Ms,JSON.stringify(i))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(i){var e=!1;return this.ks.forEach(function(s,a){a.activeTargetIds.has(i)&&(e=!0)}),e},t.prototype.addPendingMutation=function(i){this.zs(i,"pending")},t.prototype.updateMutationState=function(i,e,s){this.zs(i,e,s),this.Hs(i)},t.prototype.addLocalQueryTarget=function(i){var e="not-current";if(this.isActiveQueryTarget(i)){var s=this.storage.getItem(Jy(this.persistenceKey,i));if(s){var a=sD.Vs(i,s);a&&(e=a.state)}}return this.Js.Ds(i),this.Qs(),e},t.prototype.removeLocalQueryTarget=function(i){this.Js.Cs(i),this.Qs()},t.prototype.isLocalQueryTarget=function(i){return this.Js.activeTargetIds.has(i)},t.prototype.clearQueryState=function(i){this.removeItem(Jy(this.persistenceKey,i))},t.prototype.updateQueryState=function(i,e,s){this.Ys(i,e,s)},t.prototype.handleUserChange=function(i,e,s){var a=this;e.forEach(function(l){a.Hs(l)}),this.currentUser=i,s.forEach(function(l){a.addPendingMutation(l)})},t.prototype.setOnlineState=function(i){this.Xs(i)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(i){var e=this.storage.getItem(i);return Si("SharedClientState","READ",i,e),e},t.prototype.setItem=function(i,e){Si("SharedClientState","SET",i,e),this.storage.setItem(i,e)},t.prototype.removeItem=function(i){Si("SharedClientState","REMOVE",i),this.storage.removeItem(i)},t.prototype.Fs=function(i){var e=this,s=i;if(s.storageArea===this.storage){if(Si("SharedClientState","EVENT",s.key,s.newValue),s.key===this.Os)return void Nc("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,vt.mG)(e,void 0,void 0,function(){var a,l,h,v,C,O;return(0,vt.Jh)(this,function(G){if(this.started){if(null!==s.key)if(this.Ls.test(s.key)){if(null==s.newValue)return a=this.ti(s.key),[2,this.ei(a,null)];if(l=this.ni(s.key,s.newValue))return[2,this.ei(l.clientId,l)]}else if(this.Bs.test(s.key)){if(null!==s.newValue&&(h=this.si(s.key,s.newValue)))return[2,this.ii(h)]}else if(this.qs.test(s.key)){if(null!==s.newValue&&(v=this.ri(s.key,s.newValue)))return[2,this.oi(v)]}else if(s.key===this.Us){if(null!==s.newValue&&(C=this.js(s.newValue)))return[2,this.Ws(C)]}else if(s.key===this.Ms)(O=function(te){var pe=fp.o;if(null!=te)try{var we=JSON.parse(te);cs("number"==typeof we),pe=we}catch(Le){Nc("SharedClientState","Failed to read sequence number from WebStorage",Le)}return pe}(s.newValue))!==fp.o&&this.sequenceNumberHandler(O);else if(s.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(s);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(i,e,s){var a=new E0(this.currentUser,i,e,s),l=z_(this.persistenceKey,this.currentUser,i);this.setItem(l,a.Ss())},t.prototype.Hs=function(i){var e=z_(this.persistenceKey,this.currentUser,i);this.removeItem(e)},t.prototype.Xs=function(i){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:i}))},t.prototype.Ys=function(i,e,s){var a=Jy(this.persistenceKey,i),l=new sD(i,e,s);this.setItem(a,l.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(i){var e=this.Ls.exec(i);return e?e[1]:null},t.prototype.ni=function(i,e){var s=this.ti(i);return vs.Vs(s,e)},t.prototype.si=function(i,e){var s=this.Bs.exec(i),a=Number(s[1]);return E0.Vs(new Td(void 0!==s[2]?s[2]:null),a,e)},t.prototype.ri=function(i,e){var s=this.qs.exec(i),a=Number(s[1]);return sD.Vs(a,e)},t.prototype.js=function(i){return gm.Vs(i)},t.prototype.ii=function(i){return(0,vt.mG)(this,void 0,void 0,function(){return(0,vt.Jh)(this,function(e){return i.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(i.batchId,i.state,i.error)]:(Si("SharedClientState","Ignoring mutation for non-active user "+i.user.uid),[2])})})},t.prototype.oi=function(i){return this.syncEngine.ai(i.targetId,i.state,i.error)},t.prototype.ei=function(i,e){var s=this,a=e?this.ks.insert(i,e):this.ks.remove(i),l=this.Gs(this.ks),h=this.Gs(a),v=[],C=[];return h.forEach(function(O){l.has(O)||v.push(O)}),l.forEach(function(O){h.has(O)||C.push(O)}),this.syncEngine.hi(v,C).then(function(){s.ks=a})},t.prototype.Ws=function(i){this.ks.get(i.clientId)&&this.onlineStateHandler(i.onlineState)},t.prototype.Gs=function(i){var e=Y1();return i.forEach(function(s,a){e=e.unionWith(a.activeTargetIds)}),e},t}(),A2=function(){function t(){this.li=new iw,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(i){},t.prototype.updateMutationState=function(i,e,s){},t.prototype.addLocalQueryTarget=function(i){return this.li.Ds(i),this.fi[i]||"not-current"},t.prototype.updateQueryState=function(i,e,s){this.fi[i]=e},t.prototype.removeLocalQueryTarget=function(i){this.li.Cs(i)},t.prototype.isLocalQueryTarget=function(i){return this.li.activeTargetIds.has(i)},t.prototype.clearQueryState=function(i){delete this.fi[i]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(i){return this.li.activeTargetIds.has(i)},t.prototype.start=function(){return this.li=new iw,Promise.resolve()},t.prototype.handleUserChange=function(i,e,s){},t.prototype.setOnlineState=function(i){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(i){},t.prototype.notifyBundleLoaded=function(){},t}(),oD=function(){function t(){}return t.prototype.di=function(i){},t.prototype.shutdown=function(){},t}(),fT=function(){function t(){var i=this;this.wi=function(){return i._i()},this.mi=function(){return i.yi()},this.gi=[],this.pi()}return t.prototype.di=function(i){this.gi.push(i)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){Si("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var i=0,e=this.gi;i<e.length;i++)(0,e[i])(0)},t.prototype.yi=function(){Si("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var i=0,e=this.gi;i<e.length;i++)(0,e[i])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),sN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},I2=function(){function t(i){this.Ei=i.Ei,this.Ti=i.Ti}return t.prototype.Ii=function(i){this.Ai=i},t.prototype.Ri=function(i){this.bi=i},t.prototype.onMessage=function(i){this.vi=i},t.prototype.close=function(){this.Ti()},t.prototype.send=function(i){this.Ei(i)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(i){this.bi(i)},t.prototype.Si=function(i){this.vi(i)},t}(),L2=function(t){function i(e){var s=this;return(s=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,s.autoDetectLongPolling=e.autoDetectLongPolling,s.useFetchStreams=e.useFetchStreams,s}return(0,vt.ZT)(i,t),i.prototype.ki=function(e,s,a,l){return new Promise(function(h,v){var C=new TM;C.listenOnce(M1.COMPLETE,function(){try{switch(C.getLastErrorCode()){case C1.NO_ERROR:var G=C.getResponseJson();Si("Connection","XHR received:",JSON.stringify(G)),h(G);break;case C1.TIMEOUT:Si("Connection",'RPC "'+e+'" timed out'),v(new pi(Ln.DEADLINE_EXCEEDED,"Request time out"));break;case C1.HTTP_ERROR:var te=C.getStatus();if(Si("Connection",'RPC "'+e+'" failed with status:',te,"response text:",C.getResponseText()),te>0){var pe=C.getResponseJson().error;if(pe&&pe.status&&pe.message){var we=(je=pe.status.toLowerCase().replace(/_/g,"-"),Object.values(Ln).indexOf(je)>=0?je:Ln.UNKNOWN);v(new pi(we,pe.message))}else v(new pi(Ln.UNKNOWN,"Server responded with status "+C.getStatus()))}else v(new pi(Ln.UNAVAILABLE,"Connection failed."));break;default:br()}}finally{Si("Connection",'RPC "'+e+'" completed.')}var je});var O=JSON.stringify(l);C.send(s,"POST",O,a,15)})},i.prototype.Oi=function(e,s){var a=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=new Ex,h=Zn(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(v.xmlHttpFactory=new S1({})),this.Fi(v.initMessageHeaders,s),(0,Ls.uI)()||(0,Ls.b$)()||(0,Ls.d)()||(0,Ls.w1)()||(0,Ls.Mn)()||(0,Ls.ru)()||(v.httpHeadersOverwriteParam="$httpHeaders");var C=a.join("");Si("Connection","Creating WebChannel: "+C,v);var O=l.createWebChannel(C,v),G=!1,te=!1,pe=new I2({Ei:function(Le){te?Si("Connection","Not sending because WebChannel is closed:",Le):(G||(Si("Connection","Opening WebChannel transport."),O.open(),G=!0),Si("Connection","WebChannel sending:",Le),O.send(Le))},Ti:function(){return O.close()}}),we=function(Le,je,tt){Le.listen(je,function(yt){try{tt(yt)}catch(Zt){setTimeout(function(){throw Zt},0)}})};return we(O,Wv.EventType.OPEN,function(){te||Si("Connection","WebChannel transport opened.")}),we(O,Wv.EventType.CLOSE,function(){te||(te=!0,Si("Connection","WebChannel transport closed"),pe.Vi())}),we(O,Wv.EventType.ERROR,function(Le){te||(te=!0,qv("Connection","WebChannel transport errored:",Le),pe.Vi(new pi(Ln.UNAVAILABLE,"The operation could not be completed")))}),we(O,Wv.EventType.MESSAGE,function(Le){var je;if(!te){var tt=Le.data[0];cs(!!tt);var Zt=tt.error||(null===(je=tt[0])||void 0===je?void 0:je.error);if(Zt){Si("Connection","WebChannel received error:",Zt);var tn=Zt.status,gn=function(qn){var si=_u[qn];if(void 0!==si)return _c(si)}(tn),pn=Zt.message;void 0===gn&&(gn=Ln.INTERNAL,pn="Unknown error status: "+tn+" with message "+Zt.message),te=!0,pe.Vi(new pi(gn,pn)),O.close()}else Si("Connection","WebChannel received:",tt),pe.Si(tt)}}),we(h,T1.STAT_EVENT,function(Le){Le.stat===MM_PROXY?Si("Connection","Detected buffering proxy"):Le.stat===MM_NOPROXY&&Si("Connection","Detected no buffering proxy")}),setTimeout(function(){pe.Pi()},0),pe},i}(function(){function t(i){this.databaseInfo=i,this.databaseId=i.databaseId,this.Di=(i.ssl?"https":"http")+"://"+i.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(i,e,s,a){var l=this.xi(i,e);Si("RestConnection","Sending: ",l,s);var h={};return this.Fi(h,a),this.ki(i,l,h,s).then(function(v){return Si("RestConnection","Received: ",v),v},function(v){throw qv("RestConnection",i+" failed with error: ",v,"url: ",l,"request:",s),v})},t.prototype.$i=function(i,e,s,a){return this.Ni(i,e,s,a)},t.prototype.Fi=function(i,e){if(i["X-Goog-Api-Client"]="gl-js/ fire/8.8.1",i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var s in e.authHeaders)e.authHeaders.hasOwnProperty(s)&&(i[s]=e.authHeaders[s])},t.prototype.xi=function(i,e){return this.Di+"/v1/"+e+":"+sN[i]},t}());function Af(){return"undefined"!=typeof window?window:null}function vl(){return"undefined"!=typeof document?document:null}function vp(t){return new fE(t,!0)}var X1=function(){function t(i,e,s,a,l){void 0===s&&(s=1e3),void 0===a&&(a=1.5),void 0===l&&(l=6e4),this.Se=i,this.timerId=e,this.Mi=s,this.Li=a,this.Bi=l,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(i){var e=this;this.cancel();var s=Math.floor(this.qi+this.Wi()),a=Math.max(0,Date.now()-this.Ki),l=Math.max(0,s-a);l>0&&Si("ExponentialBackoff","Backing off for "+l+" ms (base delay: "+this.qi+" ms, delay with jitter: "+s+" ms, last attempt: "+a+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,l,function(){return e.Ki=Date.now(),i()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),aD=function(){function t(i,e,s,a,l,h){this.Se=i,this.zi=s,this.Hi=a,this.Ji=l,this.listener=h,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new X1(i,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return(0,vt.mG)(this,void 0,void 0,function(){return(0,vt.Jh)(this,function(i){switch(i.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var i=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return i.rr()}))},t.prototype.cr=function(i){this.ur(),this.stream.send(i)},t.prototype.rr=function(){return(0,vt.mG)(this,void 0,void 0,function(){return(0,vt.Jh)(this,function(i){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(i,e){return(0,vt.mG)(this,void 0,void 0,function(){return(0,vt.Jh)(this,function(s){switch(s.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==i?this.Zi.reset():e&&e.code===Ln.RESOURCE_EXHAUSTED?(Nc(e.toString()),Nc("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===Ln.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=i,[4,this.listener.Ri(e)];case 1:return s.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var i=this;this.state=1;var e=this.hr(this.Yi),s=this.Yi;this.Ji.getToken().then(function(a){i.Yi===s&&i.lr(a)},function(a){e(function(){var l=new pi(Ln.UNKNOWN,"Fetching auth token failed: "+a.message);return i.dr(l)})})},t.prototype.lr=function(i){var e=this,s=this.hr(this.Yi);this.stream=this.wr(i),this.stream.Ii(function(){s(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(a){s(function(){return e.dr(a)})}),this.stream.onMessage(function(a){s(function(){return e.onMessage(a)})})},t.prototype.nr=function(){var i=this;this.state=4,this.Zi.ji(function(){return(0,vt.mG)(i,void 0,void 0,function(){return(0,vt.Jh)(this,function(e){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(i){return Si("PersistentStream","close with error: "+i),this.stream=null,this.close(3,i)},t.prototype.hr=function(i){var e=this;return function(s){e.Se.enqueueAndForget(function(){return e.Yi===i?s():(Si("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),lD=function(t){function i(e,s,a,l,h){var v=this;return(v=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",s,a,h)||this).R=l,v}return(0,vt.ZT)(i,t),i.prototype.wr=function(e){return this.Hi.Oi("Listen",e)},i.prototype.onMessage=function(e){this.Zi.reset();var s=function(l,h){var v,tt;if("targetChange"in h){var C="NO_CHANGE"===(tt=h.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===tt?1:"REMOVE"===tt?2:"CURRENT"===tt?3:"RESET"===tt?4:br(),O=h.targetChange.targetIds||[],G=function(tt,yt){return tt.I?(cs(void 0===yt||"string"==typeof yt),$p.fromBase64String(yt||"")):(cs(void 0===yt||yt instanceof Uint8Array),$p.fromUint8Array(yt||new Uint8Array))}(l,h.targetChange.resumeToken),te=(pe=h.targetChange.cause)&&function(tt){var yt=void 0===tt.code?Ln.UNKNOWN:_c(tt.code);return new pi(yt,tt.message||"")}(pe);v=new uE(C,O,G,te||null)}else if("documentChange"in h){O=P_(l,(C=h.documentChange).document.name),G=wd(C.document.updateTime);var pe=new gc({mapValue:{fields:C.document.fields}}),we=(te=bd.newFoundDocument(O,G,pe),C.targetIds||[]);v=new Wx(we,C.removedTargetIds||[],te.key,te)}else if("documentDelete"in h)O=P_(l,(C=h.documentDelete).document),G=C.readTime?wd(C.readTime):Ys.min(),pe=bd.newNoDocument(O,G),v=new Wx([],te=C.removedTargetIds||[],pe.key,pe);else if("documentRemove"in h)O=P_(l,(C=h.documentRemove).document),v=new Wx([],G=C.removedTargetIds||[],O,null);else{if(!("filter"in h))return br();var je=h.filter;O=new B1(C=je.count||0),v=new WM(G=je.targetId,O)}return v}(this.R,e),a=function(l){if(!("targetChange"in l))return Ys.min();var h=l.targetChange;return h.targetIds&&h.targetIds.length?Ys.min():h.readTime?wd(h.readTime):Ys.min()}(e);return this.listener._r(s,a)},i.prototype.mr=function(e){var l,h,v,C,s={};s.database=Zy(this.R),s.addTarget=(l=this.R,(v=D1(C=(h=e).target)?{documents:xE(l,C)}:{query:wE(l,C)}).targetId=h.targetId,h.resumeToken.approximateByteSize()>0?v.resumeToken=mE(l,h.resumeToken):h.snapshotVersion.compareTo(Ys.min())>0&&(v.readTime=v0(l,h.snapshotVersion.toTimestamp())),v);var a=function(l,h){var v=function(C,O){switch(O){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return br()}}(0,h.purpose);return null==v?null:{"goog-listen-tags":v}}(0,e);a&&(s.labels=a),this.cr(s)},i.prototype.yr=function(e){var s={};s.database=Zy(this.R),s.removeTarget=e,this.cr(s)},i}(aD),mT=function(t){function i(e,s,a,l,h){var v=this;return(v=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",s,a,h)||this).R=l,v.gr=!1,v}return(0,vt.ZT)(i,t),Object.defineProperty(i.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),i.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},i.prototype.ar=function(){this.gr&&this.Er([])},i.prototype.wr=function(e){return this.Hi.Oi("Write",e)},i.prototype.onMessage=function(e){if(cs(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var s=(h=e.commitTime,(l=e.writeResults)&&l.length>0?(cs(void 0!==h),l.map(function(v){return O=h,(G=wd((C=v).updateTime?C.updateTime:O)).isEqual(Ys.min())&&(G=wd(O)),new UM(G,C.transformResults||[]);var C,O,G})):[]),a=wd(e.commitTime);return this.listener.Tr(a,s)}var l,h;return cs(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},i.prototype.Ar=function(){var e={};e.database=Zy(this.R),this.cr(e)},i.prototype.Er=function(e){var s=this,a={streamToken:this.lastStreamToken,writes:e.map(function(l){return Gy(s.R,l)})};this.cr(a)},i}(aD),D0=function(t){function i(e,s,a){var l=this;return(l=t.call(this)||this).credentials=e,l.Hi=s,l.R=a,l.Rr=!1,l}return(0,vt.ZT)(i,t),i.prototype.br=function(){if(this.Rr)throw new pi(Ln.FAILED_PRECONDITION,"The client has already been terminated.")},i.prototype.Ni=function(e,s,a){var l=this;return this.br(),this.credentials.getToken().then(function(h){return l.Hi.Ni(e,s,a,h)}).catch(function(h){throw"FirebaseError"===h.name?(h.code===Ln.UNAUTHENTICATED&&l.credentials.invalidateToken(),h):new pi(Ln.UNKNOWN,h.toString())})},i.prototype.$i=function(e,s,a){var l=this;return this.br(),this.credentials.getToken().then(function(h){return l.Hi.$i(e,s,a,h)}).catch(function(h){throw"FirebaseError"===h.name?(h.code===Ln.UNAUTHENTICATED&&l.credentials.invalidateToken(),h):new pi(Ln.UNKNOWN,h.toString())})},i.prototype.terminate=function(){this.Rr=!0},i}(function(){}),rw=function(){function t(i,e){this.asyncQueue=i,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var i=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return i.Pr=null,i.Cr("Backend didn't respond within 10 seconds."),i.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(i){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+i.toString()),this.Dr("Offline")))},t.prototype.set=function(i){this.Fr(),this.vr=0,"Online"===i&&(this.Vr=!1),this.Dr(i)},t.prototype.Dr=function(i){i!==this.state&&(this.state=i,this.onlineStateHandler(i))},t.prototype.Cr=function(i){var e="Could not reach Cloud Firestore backend. "+i+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Nc(e),this.Vr=!1):Si("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),P2=function(t,i,e,s,a){var l=this;this.localStore=t,this.datastore=i,this.asyncQueue=e,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=a,this.Lr.di(function(h){e.enqueueAndForget(function(){return(0,vt.mG)(l,void 0,void 0,function(){return(0,vt.Jh)(this,function(v){switch(v.label){case 0:return ev(this)?(Si("RemoteStore","Restarting streams for network reachability change."),[4,function(C){return(0,vt.mG)(this,void 0,void 0,function(){var O;return(0,vt.Jh)(this,function(G){switch(G.label){case 0:return(O=Ni(C)).Or.add(4),[4,A0(O)];case 1:return G.sent(),O.Br.set("Unknown"),O.Or.delete(4),[4,Qm(O)];case 2:return G.sent(),[2]}})})}(this)]):[3,2];case 1:v.sent(),v.label=2;case 2:return[2]}})})})}),this.Br=new rw(e,s)};function Qm(t){return(0,vt.mG)(this,void 0,void 0,function(){var i,e;return(0,vt.Jh)(this,function(s){switch(s.label){case 0:if(!ev(t))return[3,4];i=0,e=t.Mr,s.label=1;case 1:return i<e.length?[4,(0,e[i])(!0)]:[3,4];case 2:s.sent(),s.label=3;case 3:return i++,[3,1];case 4:return[2]}})})}function A0(t){return(0,vt.mG)(this,void 0,void 0,function(){var i,e;return(0,vt.Jh)(this,function(s){switch(s.label){case 0:i=0,e=t.Mr,s.label=1;case 1:return i<e.length?[4,(0,e[i])(!1)]:[3,4];case 2:s.sent(),s.label=3;case 3:return i++,[3,1];case 4:return[2]}})})}function sw(t,i){var e=Ni(t);e.$r.has(i.targetId)||(e.$r.set(i.targetId,i),Ky(e)?K1(e):I0(e).er()&&db(e,i))}function ub(t,i){var e=Ni(t),s=I0(e);e.$r.delete(i),s.er()&&J1(e,i),0===e.$r.size&&(s.er()?s.ir():ev(e)&&e.Br.set("Unknown"))}function db(t,i){t.qr.U(i.targetId),I0(t).mr(i)}function J1(t,i){t.qr.U(i),I0(t).yr(i)}function K1(t){t.qr=new qx({getRemoteKeysForTarget:function(i){return t.remoteSyncer.getRemoteKeysForTarget(i)},lt:function(i){return t.$r.get(i)||null}}),I0(t).start(),t.Br.Sr()}function Ky(t){return ev(t)&&!I0(t).tr()&&t.$r.size>0}function ev(t){return 0===Ni(t).Or.size}function ow(t){t.qr=void 0}function cD(t){return(0,vt.mG)(this,void 0,void 0,function(){return(0,vt.Jh)(this,function(i){return t.$r.forEach(function(e,s){db(t,e)}),[2]})})}function uD(t,i){return(0,vt.mG)(this,void 0,void 0,function(){return(0,vt.Jh)(this,function(e){return ow(t),Ky(t)?(t.Br.Nr(i),K1(t)):t.Br.set("Unknown"),[2]})})}function dD(t,i,e){return(0,vt.mG)(this,void 0,void 0,function(){var s,a,l;return(0,vt.Jh)(this,function(h){switch(h.label){case 0:if(t.Br.set("Online"),!(i instanceof uE&&2===i.state&&i.cause))return[3,6];h.label=1;case 1:return h.trys.push([1,3,,5]),[4,function(v,C){return(0,vt.mG)(this,void 0,void 0,function(){var O,G,te,pe;return(0,vt.Jh)(this,function(we){switch(we.label){case 0:O=C.cause,G=0,te=C.targetIds,we.label=1;case 1:return G<te.length?v.$r.has(pe=te[G])?[4,v.remoteSyncer.rejectListen(pe,O)]:[3,3]:[3,5];case 2:we.sent(),v.$r.delete(pe),v.qr.removeTarget(pe),we.label=3;case 3:we.label=4;case 4:return G++,[3,1];case 5:return[2]}})})}(t,i)];case 2:return h.sent(),[3,5];case 3:return s=h.sent(),Si("RemoteStore","Failed to remove targets %s: %s ",i.targetIds.join(","),s),[4,hb(t,s)];case 4:return h.sent(),[3,5];case 5:return[3,13];case 6:if(i instanceof Wx?t.qr.X(i):i instanceof WM?t.qr.rt(i):t.qr.et(i),e.isEqual(Ys.min()))return[3,13];h.label=7;case 7:return h.trys.push([7,11,,13]),[4,tw(t.localStore)];case 8:return a=h.sent(),e.compareTo(a)>=0?[4,(v=t,C=e,O=v.qr.ut(C),O.targetChanges.forEach(function(G,te){if(G.resumeToken.approximateByteSize()>0){var pe=v.$r.get(te);pe&&v.$r.set(te,pe.withResumeToken(G.resumeToken,C))}}),O.targetMismatches.forEach(function(G){var te=v.$r.get(G);if(te){v.$r.set(G,te.withResumeToken($p.EMPTY_BYTE_STRING,te.snapshotVersion)),J1(v,G);var pe=new Qx(te.target,G,1,te.sequenceNumber);db(v,pe)}}),v.remoteSyncer.applyRemoteEvent(O))]:[3,10];case 9:h.sent(),h.label=10;case 10:return[3,13];case 11:return Si("RemoteStore","Failed to raise snapshot:",l=h.sent()),[4,hb(t,l)];case 12:return h.sent(),[3,13];case 13:return[2]}var v,C,O})})}function hb(t,i,e){return(0,vt.mG)(this,void 0,void 0,function(){var s=this;return(0,vt.Jh)(this,function(a){switch(a.label){case 0:if(!qy(i))throw i;return t.Or.add(1),[4,A0(t)];case 1:return a.sent(),t.Br.set("Offline"),e||(e=function(){return tw(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return(0,vt.mG)(s,void 0,void 0,function(){return(0,vt.Jh)(this,function(l){switch(l.label){case 0:return Si("RemoteStore","Retrying IndexedDB access"),[4,e()];case 1:return l.sent(),t.Or.delete(1),[4,Qm(t)];case 2:return l.sent(),[2]}})})}),[2]}})})}function hD(t,i){return i().catch(function(e){return hb(t,e,i)})}function tv(t){return(0,vt.mG)(this,void 0,void 0,function(){var i,e,s,a,l;return(0,vt.Jh)(this,function(h){switch(h.label){case 0:i=Ni(t),e=nv(i),s=i.kr.length>0?i.kr[i.kr.length-1].batchId:-1,h.label=1;case 1:if(!(ev(v=i)&&v.kr.length<10))return[3,7];h.label=2;case 2:return h.trys.push([2,4,,6]),[4,k2(i.localStore,s)];case 3:return null===(a=h.sent())?(0===i.kr.length&&e.ir(),[3,7]):(s=a.batchId,function(v,C){v.kr.push(C);var O=nv(v);O.er()&&O.pr&&O.Er(C.mutations)}(i,a),[3,6]);case 4:return l=h.sent(),[4,hb(i,l)];case 5:return h.sent(),[3,6];case 6:return[3,1];case 7:return eC(i)&&O2(i),[2]}var v})})}function eC(t){return ev(t)&&!nv(t).tr()&&t.kr.length>0}function O2(t){nv(t).start()}function oN(t){return(0,vt.mG)(this,void 0,void 0,function(){return(0,vt.Jh)(this,function(i){return nv(t).Ar(),[2]})})}function bs(t){return(0,vt.mG)(this,void 0,void 0,function(){var i,e,s;return(0,vt.Jh)(this,function(l){for(i=nv(t),e=0,s=t.kr;e<s.length;e++)i.Er(s[e].mutations);return[2]})})}function aN(t,i,e){return(0,vt.mG)(this,void 0,void 0,function(){var s,a;return(0,vt.Jh)(this,function(l){switch(l.label){case 0:return s=t.kr.shift(),a=FE.from(s,i,e),[4,hD(t,function(){return t.remoteSyncer.applySuccessfulWrite(a)})];case 1:return l.sent(),[4,tv(t)];case 2:return l.sent(),[2]}})})}function aw(t,i){return(0,vt.mG)(this,void 0,void 0,function(){return(0,vt.Jh)(this,function(e){switch(e.label){case 0:return i&&nv(t).pr?[4,function(s,a){return(0,vt.mG)(this,void 0,void 0,function(){var l,h;return(0,vt.Jh)(this,function(v){switch(v.label){case 0:return jx(h=a.code)&&h!==Ln.ABORTED?(l=s.kr.shift(),nv(s).sr(),[4,hD(s,function(){return s.remoteSyncer.rejectFailedWrite(l.batchId,a)})]):[3,3];case 1:return v.sent(),[4,tv(s)];case 2:v.sent(),v.label=3;case 3:return[2]}})})}(t,i)]:[3,2];case 1:e.sent(),e.label=2;case 2:return eC(t)&&O2(t),[2]}})})}function gT(t,i){return(0,vt.mG)(this,void 0,void 0,function(){var e;return(0,vt.Jh)(this,function(s){switch(s.label){case 0:return e=Ni(t),i?(e.Or.delete(2),[4,Qm(e)]):[3,2];case 1:return s.sent(),[3,5];case 2:return i?[3,4]:(e.Or.add(2),[4,A0(e)]);case 3:s.sent(),e.Br.set("Unknown"),s.label=4;case 4:s.label=5;case 5:return[2]}})})}function I0(t){var e,s,a,l,i=this;return t.Ur||(t.Ur=(e=t.datastore,s=t.asyncQueue,a={Ii:cD.bind(null,t),Ri:uD.bind(null,t),_r:dD.bind(null,t)},(l=Ni(e)).br(),new lD(s,l.Hi,l.credentials,l.R,a)),t.Mr.push(function(e){return(0,vt.mG)(i,void 0,void 0,function(){return(0,vt.Jh)(this,function(s){switch(s.label){case 0:return e?(t.Ur.sr(),Ky(t)?K1(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:s.sent(),ow(t),s.label=3;case 3:return[2]}})})})),t.Ur}function nv(t){var e,s,a,l,i=this;return t.Kr||(t.Kr=(e=t.datastore,s=t.asyncQueue,a={Ii:oN.bind(null,t),Ri:aw.bind(null,t),Ir:bs.bind(null,t),Tr:aN.bind(null,t)},(l=Ni(e)).br(),new mT(s,l.Hi,l.credentials,l.R,a)),t.Mr.push(function(e){return(0,vt.mG)(i,void 0,void 0,function(){return(0,vt.Jh)(this,function(s){switch(s.label){case 0:return e?(t.Kr.sr(),[4,tv(t)]):[3,2];case 1:return s.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:s.sent(),t.kr.length>0&&(Si("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),s.label=4;case 4:return[2]}})})})),t.Kr}var lN=function(){function t(i,e,s,a,l){this.asyncQueue=i,this.timerId=e,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Jd,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(h){})}return t.createAndSchedule=function(i,e,s,a,l){var h=new t(i,e,Date.now()+s,a,l);return h.start(s),h},t.prototype.start=function(i){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},i)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(i){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new pi(Ln.CANCELLED,"Operation cancelled"+(i?": "+i:""))))},t.prototype.handleDelayElapsed=function(){var i=this;this.asyncQueue.enqueueAndForget(function(){return null!==i.timerHandle?(i.clearTimeout(),i.op().then(function(e){return i.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function lw(t,i){if(Nc("AsyncQueue",i+": "+t),qy(t))return new pi(Ln.UNAVAILABLE,i+": "+t);throw t}var pD=function(){function t(i){this.comparator=i?function(e,s){return i(e,s)||Tr.comparator(e.key,s.key)}:function(e,s){return Tr.comparator(e.key,s.key)},this.keyedMap=GM(),this.sortedSet=new _p(this.comparator)}return t.emptySet=function(i){return new t(i.comparator)},t.prototype.has=function(i){return null!=this.keyedMap.get(i)},t.prototype.get=function(i){return this.keyedMap.get(i)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(i){var e=this.keyedMap.get(i);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(i){this.sortedSet.inorderTraversal(function(e,s){return i(e),!1})},t.prototype.add=function(i){var e=this.delete(i.key);return e.copy(e.keyedMap.insert(i.key,i),e.sortedSet.insert(i,null))},t.prototype.delete=function(i){var e=this.get(i);return e?this.copy(this.keyedMap.remove(i),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(i){if(!(i instanceof t)||this.size!==i.size)return!1;for(var e=this.sortedSet.getIterator(),s=i.sortedSet.getIterator();e.hasNext();){var a=e.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0},t.prototype.toString=function(){var i=[];return this.forEach(function(e){i.push(e.toString())}),0===i.length?"DocumentSet ()":"DocumentSet (\n  "+i.join("  \n")+"\n)"},t.prototype.copy=function(i,e){var s=new t;return s.comparator=this.comparator,s.keyedMap=i,s.sortedSet=e,s},t}(),Kd=function(){function t(){this.Qr=new _p(Tr.comparator)}return t.prototype.track=function(i){var e=i.doc.key,s=this.Qr.get(e);s?0!==i.type&&3===s.type?this.Qr=this.Qr.insert(e,i):3===i.type&&1!==s.type?this.Qr=this.Qr.insert(e,{type:s.type,doc:i.doc}):2===i.type&&2===s.type?this.Qr=this.Qr.insert(e,{type:2,doc:i.doc}):2===i.type&&0===s.type?this.Qr=this.Qr.insert(e,{type:0,doc:i.doc}):1===i.type&&0===s.type?this.Qr=this.Qr.remove(e):1===i.type&&2===s.type?this.Qr=this.Qr.insert(e,{type:1,doc:s.doc}):0===i.type&&1===s.type?this.Qr=this.Qr.insert(e,{type:2,doc:i.doc}):br():this.Qr=this.Qr.insert(e,i)},t.prototype.jr=function(){var i=[];return this.Qr.inorderTraversal(function(e,s){i.push(s)}),i},t}(),tC=function(){function t(i,e,s,a,l,h,v,C){this.query=i,this.docs=e,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=v,this.excludesMetadataChanges=C}return t.fromInitialDocuments=function(i,e,s,a){var l=[];return e.forEach(function(h){l.push({type:0,doc:h})}),new t(i,e,pD.emptySet(e),l,s,a,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(i){if(!(this.fromCache===i.fromCache&&this.syncStateChanged===i.syncStateChanged&&this.mutatedKeys.isEqual(i.mutatedKeys)&&Vx(this.query,i.query)&&this.docs.isEqual(i.docs)&&this.oldDocs.isEqual(i.oldDocs)))return!1;var e=this.docChanges,s=i.docChanges;if(e.length!==s.length)return!1;for(var a=0;a<e.length;a++)if(e[a].type!==s[a].type||!e[a].doc.isEqual(s[a].doc))return!1;return!0},t}(),R2=function(){this.Wr=void 0,this.listeners=[]},_T=function(){this.queries=new ab(function(t){return eE(t)},Vx),this.onlineState="Unknown",this.Gr=new Set};function yT(t,i){return(0,vt.mG)(this,void 0,void 0,function(){var e,s,a,l,h,v,C;return(0,vt.Jh)(this,function(O){switch(O.label){case 0:if(e=Ni(t),a=!1,(l=e.queries.get(s=i.query))||(a=!0,l=new R2),!a)return[3,4];O.label=1;case 1:return O.trys.push([1,3,,4]),h=l,[4,e.onListen(s)];case 2:return h.Wr=O.sent(),[3,4];case 3:return v=O.sent(),C=lw(v,"Initialization of query '"+zM(i.query)+"' failed"),[2,void i.onError(C)];case 4:return e.queries.set(s,l),l.listeners.push(i),i.zr(e.onlineState),l.Wr&&i.Hr(l.Wr)&&bT(e),[2]}})})}function vT(t,i){return(0,vt.mG)(this,void 0,void 0,function(){var e,s,a,l,h;return(0,vt.Jh)(this,function(v){return e=Ni(t),a=!1,(l=e.queries.get(s=i.query))&&(h=l.listeners.indexOf(i))>=0&&(l.listeners.splice(h,1),a=0===l.listeners.length),a?[2,(e.queries.delete(s),e.onUnlisten(s))]:[2]})})}function F2(t,i){for(var e=Ni(t),s=!1,a=0,l=i;a<l.length;a++){var h=l[a],C=e.queries.get(h.query);if(C){for(var O=0,G=C.listeners;O<G.length;O++)G[O].Hr(h)&&(s=!0);C.Wr=h}}s&&bT(e)}function N2(t,i,e){var s=Ni(t),a=s.queries.get(i);if(a)for(var l=0,h=a.listeners;l<h.length;l++)h[l].onError(e);s.queries.delete(i)}function bT(t){t.Gr.forEach(function(i){i.next()})}var xT=function(){function t(i,e,s){this.query=i,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=s||{}}return t.prototype.Hr=function(i){if(!this.options.includeMetadataChanges){for(var e=[],s=0,a=i.docChanges;s<a.length;s++){var l=a[s];3!==l.type&&e.push(l)}i=new tC(i.query,i.docs,i.oldDocs,e,i.mutatedKeys,i.fromCache,i.syncStateChanged,!0)}var h=!1;return this.Yr?this.Zr(i)&&(this.Jr.next(i),h=!0):this.eo(i,this.onlineState)&&(this.no(i),h=!0),this.Xr=i,h},t.prototype.onError=function(i){this.Jr.error(i)},t.prototype.zr=function(i){this.onlineState=i;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,i)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(i,e){return!i.fromCache||!(this.options.so&&"Offline"!==e||i.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(i){return i.docChanges.length>0||!!(i.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==i.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(i){i=tC.fromInitialDocuments(i.query,i.docs,i.mutatedKeys,i.fromCache),this.Yr=!0,this.Jr.next(i)},t}(),wT=function(){function t(i,e){this.payload=i,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),fD=function(){function t(i){this.R=i}return t.prototype.qn=function(i){return P_(this.R,i)},t.prototype.Un=function(i){return i.metadata.exists?QM(this.R,i.document,!1):bd.newNoDocument(this.qn(i.metadata.name),this.Kn(i.metadata.readTime))},t.prototype.Kn=function(i){return wd(i)},t}();!function(){function t(i,e,s){this.ro=i,this.localStore=e,this.R=s,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(i)}t.prototype.oo=function(i){this.progress.bytesLoaded+=i.byteLength;var e=this.progress.documentsLoaded;return i.payload.namedQuery?this.queries.push(i.payload.namedQuery):i.payload.documentMetadata?(this.documents.push({metadata:i.payload.documentMetadata}),i.payload.documentMetadata.exists||++e):i.payload.document&&(this.documents[this.documents.length-1].document=i.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(i){for(var e=new Map,s=new fD(this.R),a=0,l=i;a<l.length;a++){var h=l[a];if(h.metadata.queries)for(var v=s.qn(h.metadata.name),C=0,O=h.metadata.queries;C<O.length;C++){var G=O[C],te=(e.get(G)||Ya()).add(v);e.set(G,te)}}return e},t.prototype.complete=function(){return(0,vt.mG)(this,void 0,void 0,function(){var i,e,s,a,l;return(0,vt.Jh)(this,function(h){switch(h.label){case 0:return[4,tD(this.localStore,new fD(this.R),this.documents,this.ro.id)];case 1:i=h.sent(),e=this.co(this.documents),s=0,a=this.queries,h.label=2;case 2:return s<a.length?[4,pT(this.localStore,l=a[s],e.get(l.name))]:[3,5];case 3:h.sent(),h.label=4;case 4:return s++,[3,2];case 5:return[2,(this.progress.taskState="Success",new T2(Object.assign({},this.progress),i))]}})})}}();var nC=function(t){this.key=t},mD=function(t){this.key=t},B2=function(){function t(i,e){this.query=i,this.uo=e,this.ao=null,this.current=!1,this.ho=Ya(),this.mutatedKeys=Ya(),this.lo=tE(i),this.fo=new pD(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(i,e){var s=this,a=e?e.mo:new Kd,l=e?e.fo:this.fo,h=e?e.mutatedKeys:this.mutatedKeys,v=l,C=!1,O=Yx(this.query)&&l.size===this.query.limit?l.last():null,G=Hx(this.query)&&l.size===this.query.limit?l.first():null;if(i.inorderTraversal(function(pe,we){var Le=l.get(pe),je=Ux(s.query,we)?we:null,tt=!!Le&&s.mutatedKeys.has(Le.key),yt=!!je&&(je.hasLocalMutations||s.mutatedKeys.has(je.key)&&je.hasCommittedMutations),Zt=!1;Le&&je?Le.data.isEqual(je.data)?tt!==yt&&(a.track({type:3,doc:je}),Zt=!0):s.yo(Le,je)||(a.track({type:2,doc:je}),Zt=!0,(O&&s.lo(je,O)>0||G&&s.lo(je,G)<0)&&(C=!0)):!Le&&je?(a.track({type:0,doc:je}),Zt=!0):Le&&!je&&(a.track({type:1,doc:Le}),Zt=!0,(O||G)&&(C=!0)),Zt&&(je?(v=v.add(je),h=yt?h.add(pe):h.delete(pe)):(v=v.delete(pe),h=h.delete(pe)))}),Yx(this.query)||Hx(this.query))for(;v.size>this.query.limit;){var te=Yx(this.query)?v.last():v.first();v=v.delete(te.key),h=h.delete(te.key),a.track({type:1,doc:te})}return{fo:v,mo:a,Nn:C,mutatedKeys:h}},t.prototype.yo=function(i,e){return i.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(i,e,s){var a=this,l=this.fo;this.fo=i.fo,this.mutatedKeys=i.mutatedKeys;var h=i.mo.jr();h.sort(function(G,te){return we=te.type,(Le=function(je){switch(je){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return br()}})(G.type)-Le(we)||a.lo(G.doc,te.doc);var we,Le}),this.po(s);var v=e?this.Eo():[],C=0===this.ho.size&&this.current?1:0,O=C!==this.ao;return this.ao=C,0!==h.length||O?{snapshot:new tC(this.query,i.fo,l,h,i.mutatedKeys,0===C,O,!1),To:v}:{To:v}},t.prototype.zr=function(i){return this.current&&"Offline"===i?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Kd,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(i){return!this.uo.has(i)&&!!this.fo.has(i)&&!this.fo.get(i).hasLocalMutations},t.prototype.po=function(i){var e=this;i&&(i.addedDocuments.forEach(function(s){return e.uo=e.uo.add(s)}),i.modifiedDocuments.forEach(function(s){}),i.removedDocuments.forEach(function(s){return e.uo=e.uo.delete(s)}),this.current=i.current)},t.prototype.Eo=function(){var i=this;if(!this.current)return[];var e=this.ho;this.ho=Ya(),this.fo.forEach(function(a){i.Io(a.key)&&(i.ho=i.ho.add(a.key))});var s=[];return e.forEach(function(a){i.ho.has(a)||s.push(new mD(a))}),this.ho.forEach(function(a){e.has(a)||s.push(new nC(a))}),s},t.prototype.Ao=function(i){this.uo=i.Bn,this.ho=Ya();var e=this._o(i.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return tC.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),Y2=function(t,i,e){this.query=t,this.targetId=i,this.view=e},H2=function(t){this.key=t,this.bo=!1},V2=function(){function t(i,e,s,a,l,h){this.localStore=i,this.remoteStore=e,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.vo={},this.Po=new ab(function(v){return eE(v)},Vx),this.Vo=new Map,this.So=new Set,this.Do=new _p(Tr.comparator),this.Co=new Map,this.No=new q1,this.xo={},this.Fo=new Map,this.ko=aT.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function U2(t,i){return(0,vt.mG)(this,void 0,void 0,function(){var e,a,l,h,v;return(0,vt.Jh)(this,function(C){switch(C.label){case 0:return e=dw(t),(l=e.Po.get(i))?(e.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.Ro(),[3,4]):[3,1];case 1:return[4,nw(e.localStore,mm(i))];case 2:return h=C.sent(),v=e.sharedClientState.addLocalQueryTarget(h.targetId),[4,MT(e,i,h.targetId,"current"===v)];case 3:a=C.sent(),e.isPrimaryClient&&sw(e.remoteStore,h),C.label=4;case 4:return[2,a]}})})}function MT(t,i,e,s){return(0,vt.mG)(this,void 0,void 0,function(){var a,l,h,v,C,O;return(0,vt.Jh)(this,function(G){switch(G.label){case 0:return t.Oo=function(te,pe,we){return function(Le,je,tt,yt){return(0,vt.mG)(this,void 0,void 0,function(){var Zt,tn,gn;return(0,vt.Jh)(this,function(pn){switch(pn.label){case 0:return(Zt=je.view._o(tt)).Nn?[4,cb(Le.localStore,je.query,!1).then(function(qn){return je.view._o(qn.documents,Zt)})]:[3,2];case 1:Zt=pn.sent(),pn.label=2;case 2:return tn=yt&&yt.targetChanges.get(je.targetId),gn=je.view.applyChanges(Zt,Le.isPrimaryClient,tn),[2,(kT(Le,je.targetId,gn.To),gn.snapshot)]}})})}(t,te,pe,we)},[4,cb(t.localStore,i,!0)];case 1:return a=G.sent(),l=new B2(i,a.Bn),h=l._o(a.documents),v=H1.createSynthesizedTargetChangeForCurrentChange(e,s&&"Offline"!==t.onlineState),C=l.applyChanges(h,t.isPrimaryClient,v),kT(t,e,C.To),O=new Y2(i,e,l),[2,(t.Po.set(i,O),t.Vo.has(e)?t.Vo.get(e).push(i):t.Vo.set(e,[i]),C.snapshot)]}})})}function j2(t,i){return(0,vt.mG)(this,void 0,void 0,function(){var e,s,a;return(0,vt.Jh)(this,function(l){switch(l.label){case 0:return e=Ni(t),s=e.Po.get(i),(a=e.Vo.get(s.targetId)).length>1?[2,(e.Vo.set(s.targetId,a.filter(function(h){return!Vx(h,i)})),void e.Po.delete(i))]:e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(s.targetId),e.sharedClientState.isActiveQueryTarget(s.targetId)?[3,2]:[4,k0(e.localStore,s.targetId,!1).then(function(){e.sharedClientState.clearQueryState(s.targetId),ub(e.remoteStore,s.targetId),L0(e,s.targetId)}).catch(Qy)]):[3,3];case 1:l.sent(),l.label=2;case 2:return[3,5];case 3:return L0(e,s.targetId),[4,k0(e.localStore,s.targetId,!0)];case 4:l.sent(),l.label=5;case 5:return[2]}})})}function cw(t,i,e){return(0,vt.mG)(this,void 0,void 0,function(){var s,a,l,h;return(0,vt.Jh)(this,function(v){switch(v.label){case 0:s=AT(t),v.label=1;case 1:return v.trys.push([1,5,,6]),[4,(C=s.localStore,O=i,te=Ni(C),pe=Nh.now(),we=O.reduce(function(Le,je){return Le.add(je.key)},Ya()),te.persistence.runTransaction("Locally write mutations","readwrite",function(Le){return te.Mn.pn(Le,we).next(function(je){G=je;for(var tt=[],yt=0,Zt=O;yt<Zt.length;yt++){var tn=Zt[yt],gn=tN(tn,G.get(tn.key));null!=gn&&tt.push(new L_(tn.key,gn,fm(gn.value.mapValue),xd.exists(!0)))}return te._n.addMutationBatch(Le,pe,tt,O)})}).then(function(Le){return Le.applyToLocalDocumentSet(G),{batchId:Le.batchId,changes:G}}))];case 2:return a=v.sent(),s.sharedClientState.addPendingMutation(a.batchId),function(C,O,G){var te=C.xo[C.currentUser.toKey()];te||(te=new _p(vo)),te=te.insert(O,G),C.xo[C.currentUser.toKey()]=te}(s,a.batchId,e),[4,Y_(s,a.changes)];case 3:return v.sent(),[4,tv(s.remoteStore)];case 4:return v.sent(),[3,6];case 5:return l=v.sent(),h=lw(l,"Failed to persist write"),e.reject(h),[3,6];case 6:return[2]}var C,O,G,te,pe,we})})}function gD(t,i){return(0,vt.mG)(this,void 0,void 0,function(){var e,s;return(0,vt.Jh)(this,function(a){switch(a.label){case 0:e=Ni(t),a.label=1;case 1:return a.trys.push([1,4,,6]),[4,lb(e.localStore,i)];case 2:return s=a.sent(),i.targetChanges.forEach(function(l,h){var v=e.Co.get(h);v&&(cs(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?v.bo=!0:l.modifiedDocuments.size>0?cs(v.bo):l.removedDocuments.size>0&&(cs(v.bo),v.bo=!1))}),[4,Y_(e,s,i)];case 3:return a.sent(),[3,6];case 4:return[4,Qy(a.sent())];case 5:return a.sent(),[3,6];case 6:return[2]}})})}function _D(t,i,e){var s=Ni(t);if(s.isPrimaryClient&&0===e||!s.isPrimaryClient&&1===e){var a=[];s.Po.forEach(function(l,h){var v=h.view.zr(i);v.snapshot&&a.push(v.snapshot)}),function(l,h){var v=Ni(l);v.onlineState=h;var C=!1;v.queries.forEach(function(O,G){for(var te=0,pe=G.listeners;te<pe.length;te++)pe[te].zr(h)&&(C=!0)}),C&&bT(v)}(s.eventManager,i),a.length&&s.vo._r(a),s.onlineState=i,s.isPrimaryClient&&s.sharedClientState.setOnlineState(i)}}function yD(t,i,e){return(0,vt.mG)(this,void 0,void 0,function(){var s,a,l,h,v,C;return(0,vt.Jh)(this,function(O){switch(O.label){case 0:return(s=Ni(t)).sharedClientState.updateQueryState(i,"rejected",e),a=s.Co.get(i),(l=a&&a.key)?(h=(h=new _p(Tr.comparator)).insert(l,bd.newNoDocument(l,Ys.min())),v=Ya().add(l),C=new _0(Ys.min(),new Map,new Gu(vo),h,v),[4,gD(s,C)]):[3,2];case 1:return O.sent(),s.Do=s.Do.remove(l),s.Co.delete(i),ET(s),[3,4];case 2:return[4,k0(s.localStore,i,!1).then(function(){return L0(s,i,e)}).catch(Qy)];case 3:O.sent(),O.label=4;case 4:return[2]}})})}function uw(t,i){return(0,vt.mG)(this,void 0,void 0,function(){var e,s,a;return(0,vt.Jh)(this,function(l){switch(l.label){case 0:e=Ni(t),s=i.batch.batchId,l.label=1;case 1:return l.trys.push([1,4,,6]),[4,S2(e.localStore,i)];case 2:return a=l.sent(),ST(e,s,null),TT(e,s),e.sharedClientState.updateMutationState(s,"acknowledged"),[4,Y_(e,a)];case 3:return l.sent(),[3,6];case 4:return[4,Qy(l.sent())];case 5:return l.sent(),[3,6];case 6:return[2]}})})}function cN(t,i,e){return(0,vt.mG)(this,void 0,void 0,function(){var s,a;return(0,vt.Jh)(this,function(l){switch(l.label){case 0:s=Ni(t),l.label=1;case 1:return l.trys.push([1,4,,6]),[4,(h=s.localStore,v=i,C=Ni(h),C.persistence.runTransaction("Reject batch","readwrite-primary",function(O){var G;return C._n.lookupMutationBatch(O,v).next(function(te){return cs(null!==te),G=te.keys(),C._n.removeMutationBatch(O,te)}).next(function(){return C._n.performConsistencyCheck(O)}).next(function(){return C.Mn.pn(O,G)})}))];case 2:return a=l.sent(),ST(s,i,e),TT(s,i),s.sharedClientState.updateMutationState(i,"rejected",e),[4,Y_(s,a)];case 3:return l.sent(),[3,6];case 4:return[4,Qy(l.sent())];case 5:return l.sent(),[3,6];case 6:return[2]}var h,v,C})})}function vD(t,i){return(0,vt.mG)(this,void 0,void 0,function(){var e,s,a,l,h;return(0,vt.Jh)(this,function(v){switch(v.label){case 0:ev((e=Ni(t)).remoteStore)||Si("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),v.label=1;case 1:return v.trys.push([1,3,,4]),[4,(C=e.localStore,O=Ni(C),O.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(G){return O._n.getHighestUnacknowledgedBatchId(G)}))];case 2:return-1===(s=v.sent())?[2,void i.resolve()]:((a=e.Fo.get(s)||[]).push(i),e.Fo.set(s,a),[3,4]);case 3:return l=v.sent(),h=lw(l,"Initialization of waitForPendingWrites() operation failed"),i.reject(h),[3,4];case 4:return[2]}var C,O})})}function TT(t,i){(t.Fo.get(i)||[]).forEach(function(e){e.resolve()}),t.Fo.delete(i)}function ST(t,i,e){var s=Ni(t),a=s.xo[s.currentUser.toKey()];if(a){var l=a.get(i);l&&(e?l.reject(e):l.resolve(),a=a.remove(i)),s.xo[s.currentUser.toKey()]=a}}function L0(t,i,e){void 0===e&&(e=null),t.sharedClientState.removeLocalQueryTarget(i);for(var s=0,a=t.Vo.get(i);s<a.length;s++){var l=a[s];t.Po.delete(l),e&&t.vo.Mo(l,e)}t.Vo.delete(i),t.isPrimaryClient&&t.No.Zn(i).forEach(function(h){t.No.containsKey(h)||bD(t,h)})}function bD(t,i){t.So.delete(i.path.canonicalString());var e=t.Do.get(i);null!==e&&(ub(t.remoteStore,e),t.Do=t.Do.remove(i),t.Co.delete(e),ET(t))}function kT(t,i,e){for(var s=0,a=e;s<a.length;s++){var l=a[s];l instanceof nC?(t.No.addReference(l.key,i),xD(t,l)):l instanceof mD?(Si("SyncEngine","Document no longer in limbo: "+l.key),t.No.removeReference(l.key,i),t.No.containsKey(l.key)||bD(t,l.key)):br()}}function xD(t,i){var e=i.key,s=e.path.canonicalString();t.Do.get(e)||t.So.has(s)||(Si("SyncEngine","New document in limbo: "+e),t.So.add(s),ET(t))}function ET(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var i=t.So.values().next().value;t.So.delete(i);var e=new Tr(Zo.fromString(i)),s=t.ko.next();t.Co.set(s,new H2(e)),t.Do=t.Do.insert(e,s),sw(t.remoteStore,new Qx(mm(Jv(e.path)),s,2,fp.o))}}function Y_(t,i,e){return(0,vt.mG)(this,void 0,void 0,function(){var s,a,l,h;return(0,vt.Jh)(this,function(v){switch(v.label){case 0:return s=Ni(t),a=[],l=[],h=[],s.Po.isEmpty()?[3,3]:(s.Po.forEach(function(C,O){h.push(s.Oo(O,i,e).then(function(G){if(G){s.isPrimaryClient&&s.sharedClientState.updateQueryState(O.targetId,G.fromCache?"not-current":"current"),a.push(G);var te=iN.Pn(O.targetId,G);l.push(te)}}))}),[4,Promise.all(h)]);case 1:return v.sent(),s.vo._r(a),[4,function(C,O){return(0,vt.mG)(this,void 0,void 0,function(){var G,te,pe,we,Le,je,tt,Zt;return(0,vt.Jh)(this,function(tn){switch(tn.label){case 0:G=Ni(C),tn.label=1;case 1:return tn.trys.push([1,3,,4]),[4,G.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(gn){return xi.forEach(O,function(pn){return xi.forEach(pn.bn,function(qn){return G.persistence.referenceDelegate.addReference(gn,pn.targetId,qn)}).next(function(){return xi.forEach(pn.vn,function(qn){return G.persistence.referenceDelegate.removeReference(gn,pn.targetId,qn)})})})})];case 2:return tn.sent(),[3,4];case 3:if(!qy(te=tn.sent()))throw te;return Si("LocalStore","Failed to update sequence numbers: "+te),[3,4];case 4:for(pe=0,we=O;pe<we.length;pe++)je=(Le=we[pe]).targetId,Le.fromCache||(tt=G.Fn.get(je),Zt=tt.withLastLimboFreeSnapshotVersion(tt.snapshotVersion),G.Fn=G.Fn.insert(je,Zt));return[2]}})})}(s.localStore,l)];case 2:v.sent(),v.label=3;case 3:return[2]}})})}function uN(t,i){return(0,vt.mG)(this,void 0,void 0,function(){var e,s;return(0,vt.Jh)(this,function(a){switch(a.label){case 0:return(e=Ni(t)).currentUser.isEqual(i)?[3,3]:(Si("SyncEngine","User change. New user:",i.toKey()),[4,XE(e.localStore,i)]);case 1:return s=a.sent(),e.currentUser=i,(l=e).Fo.forEach(function(v){v.forEach(function(C){C.reject(new pi(Ln.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.Fo.clear(),e.sharedClientState.handleUserChange(i,s.removedBatchIds,s.addedBatchIds),[4,Y_(e,s.Ln)];case 2:a.sent(),a.label=3;case 3:return[2]}var l})})}function dN(t,i){var e=Ni(t),s=e.Co.get(i);if(s&&s.bo)return Ya().add(s.key);var a=Ya(),l=e.Vo.get(i);if(!l)return a;for(var h=0,v=l;h<v.length;h++){var O=e.Po.get(v[h]);a=a.unionWith(O.view.wo)}return a}function hN(t,i){return(0,vt.mG)(this,void 0,void 0,function(){var e,s,a;return(0,vt.Jh)(this,function(l){switch(l.label){case 0:return[4,cb((e=Ni(t)).localStore,i.query,!0)];case 1:return s=l.sent(),a=i.view.Ao(s),[2,(e.isPrimaryClient&&kT(e,i.targetId,a.To),a)]}})})}function DT(t){return(0,vt.mG)(this,void 0,void 0,function(){var i;return(0,vt.Jh)(this,function(e){return[2,KE((i=Ni(t)).localStore).then(function(s){return Y_(i,s)})]})})}function Z2(t,i,e,s){return(0,vt.mG)(this,void 0,void 0,function(){var a,l;return(0,vt.Jh)(this,function(h){switch(h.label){case 0:return[4,(v=(a=Ni(t)).localStore,C=i,O=Ni(v),G=Ni(O._n),O.persistence.runTransaction("Lookup mutation documents","readonly",function(te){return G.jt(te,C).next(function(pe){return pe?O.Mn.pn(te,pe):xi.resolve(null)})}))];case 1:return null===(l=h.sent())?[3,6]:"pending"!==e?[3,3]:[4,tv(a.remoteStore)];case 2:return h.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(ST(a,i,s||null),TT(a,i),function(v,C){Ni(Ni(v)._n).Gt(C)}(a.localStore,i)):br(),h.label=4;case 4:return[4,Y_(a,l)];case 5:return h.sent(),[3,7];case 6:Si("SyncEngine","Cannot apply mutation batch with id: "+i),h.label=7;case 7:return[2]}var v,C,O,G})})}function G2(t,i){return(0,vt.mG)(this,void 0,void 0,function(){var e,s,a,l,h,C,O;return(0,vt.Jh)(this,function(G){switch(G.label){case 0:return dw(e=Ni(t)),AT(e),!0!==i||!0===e.$o?[3,3]:(s=e.sharedClientState.getAllActiveQueryTargets(),[4,wD(e,s.toArray())]);case 1:return a=G.sent(),e.$o=!0,[4,gT(e.remoteStore,!0)];case 2:for(G.sent(),l=0,h=a;l<h.length;l++)sw(e.remoteStore,h[l]);return[3,7];case 3:return!1!==i||!1===e.$o?[3,7]:(C=[],O=Promise.resolve(),e.Vo.forEach(function(te,pe){e.sharedClientState.isLocalQueryTarget(pe)?C.push(pe):O=O.then(function(){return L0(e,pe),k0(e.localStore,pe,!0)}),ub(e.remoteStore,pe)}),[4,O]);case 4:return G.sent(),[4,wD(e,C)];case 5:return G.sent(),(pe=Ni(e)).Co.forEach(function(we,Le){ub(pe.remoteStore,Le)}),pe.No.ts(),pe.Co=new Map,pe.Do=new _p(Tr.comparator),e.$o=!1,[4,gT(e.remoteStore,!1)];case 6:G.sent(),G.label=7;case 7:return[2]}var pe})})}function wD(t,i,e){return(0,vt.mG)(this,void 0,void 0,function(){var s,a,l,h,v,C,O,G,te,pe,Le,je,tt;return(0,vt.Jh)(this,function(yt){switch(yt.label){case 0:s=Ni(t),a=[],l=[],h=0,v=i,yt.label=1;case 1:return h<v.length?(O=void 0,(G=s.Vo.get(C=v[h]))&&0!==G.length?[4,nw(s.localStore,mm(G[0]))]:[3,7]):[3,13];case 2:O=yt.sent(),te=0,pe=G,yt.label=3;case 3:return te<pe.length?(Le=s.Po.get(pe[te]),[4,hN(s,Le)]):[3,6];case 4:(je=yt.sent()).snapshot&&l.push(je.snapshot),yt.label=5;case 5:return te++,[3,3];case 6:return[3,11];case 7:return[4,JE(s.localStore,C)];case 8:return tt=yt.sent(),[4,nw(s.localStore,tt)];case 9:return O=yt.sent(),[4,MT(s,CD(tt),C,!1)];case 10:yt.sent(),yt.label=11;case 11:a.push(O),yt.label=12;case 12:return h++,[3,1];case 13:return[2,(s.vo._r(l),a)]}})})}function CD(t){return P1(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function W2(t){var i=Ni(t);return Ni(Ni(i.localStore).persistence).fn()}function q2(t,i,e,s){return(0,vt.mG)(this,void 0,void 0,function(){var a,l,h;return(0,vt.Jh)(this,function(v){switch(v.label){case 0:return(a=Ni(t)).$o?(Si("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!a.Vo.has(i))return[3,8];switch(e){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,KE(a.localStore)];case 3:return l=v.sent(),h=_0.createSynthesizedRemoteEventForCurrentChange(i,"current"===e),[4,Y_(a,l,h)];case 4:return v.sent(),[3,8];case 5:return[4,k0(a.localStore,i,!0)];case 6:return v.sent(),L0(a,i,s),[3,8];case 7:br(),v.label=8;case 8:return[2]}})})}function MD(t,i,e){return(0,vt.mG)(this,void 0,void 0,function(){var s,a,l,h,v,C,O,G,te;return(0,vt.Jh)(this,function(we){switch(we.label){case 0:if(!(s=dw(t)).$o)return[3,10];a=0,l=i,we.label=1;case 1:return a<l.length?s.Vo.has(h=l[a])?(Si("SyncEngine","Adding an already active target "+h),[3,5]):[4,JE(s.localStore,h)]:[3,6];case 2:return v=we.sent(),[4,nw(s.localStore,v)];case 3:return C=we.sent(),[4,MT(s,CD(v),C.targetId,!1)];case 4:we.sent(),sw(s.remoteStore,C),we.label=5;case 5:return a++,[3,1];case 6:O=function(Le){return(0,vt.Jh)(this,function(je){switch(je.label){case 0:return s.Vo.has(Le)?[4,k0(s.localStore,Le,!1).then(function(){ub(s.remoteStore,Le),L0(s,Le)}).catch(Qy)]:[3,2];case 1:je.sent(),je.label=2;case 2:return[2]}})},G=0,te=e,we.label=7;case 7:return G<te.length?[5,O(te[G])]:[3,10];case 8:we.sent(),we.label=9;case 9:return G++,[3,7];case 10:return[2]}})})}function dw(t){var i=Ni(t);return i.remoteStore.remoteSyncer.applyRemoteEvent=gD.bind(null,i),i.remoteStore.remoteSyncer.getRemoteKeysForTarget=dN.bind(null,i),i.remoteStore.remoteSyncer.rejectListen=yD.bind(null,i),i.vo._r=F2.bind(null,i.eventManager),i.vo.Mo=N2.bind(null,i.eventManager),i}function AT(t){var i=Ni(t);return i.remoteStore.remoteSyncer.applySuccessfulWrite=uw.bind(null,i),i.remoteStore.remoteSyncer.rejectFailedWrite=cN.bind(null,i),i}var eh=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(i){return(0,vt.mG)(this,void 0,void 0,function(){return(0,vt.Jh)(this,function(e){switch(e.label){case 0:return this.R=vp(i.databaseInfo.databaseId),this.sharedClientState=this.Bo(i),this.persistence=this.qo(i),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(i),this.localStore=this.Ko(i),[2]}})})},t.prototype.Uo=function(i){return null},t.prototype.Ko=function(i){return QE(this.persistence,new $E,i.initialUser,this.R)},t.prototype.qo=function(i){return new $1(rN.bs,this.R)},t.prototype.Bo=function(i){return new A2},t.prototype.terminate=function(){return(0,vt.mG)(this,void 0,void 0,function(){return(0,vt.Jh)(this,function(i){switch(i.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return i.sent(),[4,this.persistence.shutdown()];case 2:return i.sent(),[2]}})})},t}(),IT=function(t){function i(e,s,a){var l=this;return(l=t.call(this)||this).Qo=e,l.cacheSizeBytes=s,l.forceOwnership=a,l.synchronizeTabs=!1,l}return(0,vt.ZT)(i,t),i.prototype.initialize=function(e){return(0,vt.mG)(this,void 0,void 0,function(){return(0,vt.Jh)(this,function(s){switch(s.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return s.sent(),[4,eD(this.localStore)];case 2:return s.sent(),[4,this.Qo.initialize(this,e)];case 3:return s.sent(),[4,AT(this.Qo.syncEngine)];case 4:return s.sent(),[4,tv(this.Qo.remoteStore)];case 5:return s.sent(),[2]}})})},i.prototype.Ko=function(e){return QE(this.persistence,new $E,e.initialUser,this.R)},i.prototype.Uo=function(e){return new w2(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)},i.prototype.qo=function(e){var s=dT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),a=void 0!==this.cacheSizeBytes?Bg.withCacheSize(this.cacheSizeBytes):Bg.DEFAULT;return new M2(this.synchronizeTabs,s,e.clientId,a,e.asyncQueue,Af(),vl(),this.R,this.sharedClientState,!!this.forceOwnership)},i.prototype.Bo=function(e){return new A2},i}(eh),Xm=function(t){function i(e,s){var a=this;return(a=t.call(this,e,s,!1)||this).Qo=e,a.cacheSizeBytes=s,a.synchronizeTabs=!0,a}return(0,vt.ZT)(i,t),i.prototype.initialize=function(e){return(0,vt.mG)(this,void 0,void 0,function(){var s,a=this;return(0,vt.Jh)(this,function(l){switch(l.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return l.sent(),s=this.Qo.syncEngine,this.sharedClientState instanceof B_?(this.sharedClientState.syncEngine={ui:Z2.bind(null,s),ai:q2.bind(null,s),hi:MD.bind(null,s),fn:W2.bind(null,s),ci:DT.bind(null,s)},[4,this.sharedClientState.start()]):[3,3];case 2:l.sent(),l.label=3;case 3:return[4,this.persistence.He(function(h){return(0,vt.mG)(a,void 0,void 0,function(){return(0,vt.Jh)(this,function(v){switch(v.label){case 0:return[4,G2(this.Qo.syncEngine,h)];case 1:return v.sent(),this.gcScheduler&&(h&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):h||this.gcScheduler.stop()),[2]}})})})];case 4:return l.sent(),[2]}})})},i.prototype.Bo=function(e){var s=Af();if(!B_.yt(s))throw new pi(Ln.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var a=dT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new B_(s,e.asyncQueue,a,e.clientId,e.initialUser)},i}(IT),hw=function(){function t(){}return t.prototype.initialize=function(i,e){return(0,vt.mG)(this,void 0,void 0,function(){var s=this;return(0,vt.Jh)(this,function(a){switch(a.label){case 0:return this.localStore?[3,2]:(this.localStore=i.localStore,this.sharedClientState=i.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!i.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(l){return _D(s.syncEngine,l,1)},this.remoteStore.remoteSyncer.handleCredentialChange=uN.bind(null,this.syncEngine),[4,gT(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:a.sent(),a.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(i){return new _T},t.prototype.createDatastore=function(i){var s=vp(i.databaseInfo.databaseId),a=new L2(i.databaseInfo);return new D0(i.credentials,a,s)},t.prototype.createRemoteStore=function(i){var e,s,a,l,h,v=this;return e=this.localStore,s=this.datastore,a=i.asyncQueue,l=function(C){return _D(v.syncEngine,C,0)},h=fT.yt()?new fT:new oD,new P2(e,s,a,l,h)},t.prototype.createSyncEngine=function(i,e){return O=e,G=new V2(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,i.initialUser,i.maxConcurrentLimboResolutions),O&&(G.$o=!0),G;var O,G},t.prototype.terminate=function(){return function(i){return(0,vt.mG)(this,void 0,void 0,function(){var e;return(0,vt.Jh)(this,function(s){switch(s.label){case 0:return e=Ni(i),Si("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,A0(e)];case 1:return s.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),pw=function(){function t(i){this.observer=i,this.muted=!1}return t.prototype.next=function(i){this.observer.next&&this.jo(this.observer.next,i)},t.prototype.error=function(i){this.observer.error?this.jo(this.observer.error,i):console.error("Uncaught Error in snapshot listener:",i)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(i,e){var s=this;this.muted||setTimeout(function(){s.muted||i(e)},0)},t}(),kD=(function(){function t(i,e){var s=this;this.Go=i,this.R=e,this.metadata=new Jd,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(a){a&&a.io()?s.metadata.resolve(a.payload.metadata):s.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==a?void 0:a.payload)))},function(a){return s.metadata.reject(a)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return(0,vt.mG)(this,void 0,void 0,function(){return(0,vt.Jh)(this,function(i){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return(0,vt.mG)(this,void 0,void 0,function(){return(0,vt.Jh)(this,function(i){switch(i.label){case 0:return[4,this.getMetadata()];case 1:return[2,(i.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return(0,vt.mG)(this,void 0,void 0,function(){var i,e,s,a;return(0,vt.Jh)(this,function(l){switch(l.label){case 0:return[4,this.Jo()];case 1:return null===(i=l.sent())?[2,null]:(e=this.zo.decode(i),s=Number(e),isNaN(s)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(s)]);case 2:return a=l.sent(),[2,new wT(JSON.parse(a),i.length+s)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(i){return i==="{".charCodeAt(0)})},t.prototype.Jo=function(){return(0,vt.mG)(this,void 0,void 0,function(){var i,e;return(0,vt.Jh)(this,function(s){switch(s.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(s.sent())return[3,3];s.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((i=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,i),[2,(this.buffer=this.buffer.slice(i),e)])}})})},t.prototype.Xo=function(i){return(0,vt.mG)(this,void 0,void 0,function(){var e;return(0,vt.Jh)(this,function(s){switch(s.label){case 0:return this.buffer.length<i?[4,this.tc()]:[3,3];case 1:s.sent()&&this.Yo("Reached the end of bundle when more is expected."),s.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,i)),[2,(this.buffer=this.buffer.slice(i),e)]}})})},t.prototype.Yo=function(i){throw this.Go.cancel(),new Error("Invalid bundle format: "+i)},t.prototype.tc=function(){return(0,vt.mG)(this,void 0,void 0,function(){var i,e;return(0,vt.Jh)(this,function(s){switch(s.label){case 0:return[4,this.Go.read()];case 1:return(i=s.sent()).done||((e=new Uint8Array(this.buffer.length+i.value.length)).set(this.buffer),e.set(i.value,this.buffer.length),this.buffer=e),[2,i.done]}})})}}(),function(){function t(i){this.datastore=i,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(i){return(0,vt.mG)(this,void 0,void 0,function(){var e,s=this;return(0,vt.Jh)(this,function(a){switch(a.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new pi(Ln.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(l,h){return(0,vt.mG)(this,void 0,void 0,function(){var v,C,O,G,te,pe;return(0,vt.Jh)(this,function(we){switch(we.label){case 0:return v=Ni(l),C=Zy(v.R)+"/documents",O={documents:h.map(function(Le){return V1(v.R,Le)})},[4,v.$i("BatchGetDocuments",C,O)];case 1:return G=we.sent(),te=new Map,G.forEach(function(Le){var tt,yt,je=(tt=v.R,"found"in(yt=Le)?function(Zt,tn){cs(!!tn.found);var gn=P_(Zt,tn.found.name),pn=wd(tn.found.updateTime),qn=new gc({mapValue:{fields:tn.found.fields}});return bd.newFoundDocument(gn,pn,qn)}(tt,yt):"missing"in yt?function(Zt,tn){cs(!!tn.missing),cs(!!tn.readTime);var gn=P_(Zt,tn.missing),pn=wd(tn.readTime);return bd.newNoDocument(gn,pn)}(tt,yt):br());te.set(je.key.toString(),je)}),pe=[],[2,(h.forEach(function(Le){var je=te.get(Le.toString());cs(!!je),pe.push(je)}),pe)]}})})}(this.datastore,i)];case 1:return[2,((e=a.sent()).forEach(function(l){return s.recordVersion(l)}),e)]}})})},t.prototype.set=function(i,e){this.write(e.toMutation(i,this.precondition(i))),this.writtenDocs.add(i.toString())},t.prototype.update=function(i,e){try{this.write(e.toMutation(i,this.preconditionForUpdate(i)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(i.toString())},t.prototype.delete=function(i){this.write(new jy(i,this.precondition(i))),this.writtenDocs.add(i.toString())},t.prototype.commit=function(){return(0,vt.mG)(this,void 0,void 0,function(){var i,e=this;return(0,vt.Jh)(this,function(s){switch(s.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return i=this.readVersions,this.mutations.forEach(function(a){i.delete(a.key.toString())}),i.forEach(function(a,l){var h=Tr.fromPath(l);e.mutations.push(new jM(h,e.precondition(h)))}),[4,function(a,l){return(0,vt.mG)(this,void 0,void 0,function(){var h,v,C;return(0,vt.Jh)(this,function(O){switch(O.label){case 0:return h=Ni(a),v=Zy(h.R)+"/documents",C={writes:l.map(function(G){return Gy(h.R,G)})},[4,h.Ni("Commit",v,C)];case 1:return O.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return s.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(i){var e;if(i.isFoundDocument())e=i.version;else{if(!i.isNoDocument())throw br();e=Ys.min()}var s=this.readVersions.get(i.key.toString());if(s){if(!e.isEqual(s))throw new pi(Ln.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(i.key.toString(),e)},t.prototype.precondition=function(i){var e=this.readVersions.get(i.toString());return!this.writtenDocs.has(i.toString())&&e?xd.updateTime(e):xd.none()},t.prototype.preconditionForUpdate=function(i){var e=this.readVersions.get(i.toString());if(!this.writtenDocs.has(i.toString())&&e){if(e.isEqual(Ys.min()))throw new pi(Ln.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return xd.updateTime(e)}return xd.exists(!0)},t.prototype.write=function(i){this.ensureCommitNotCalled(),this.mutations.push(i)},t.prototype.ensureCommitNotCalled=function(){},t}()),$2=function(){function t(i,e,s,a){this.asyncQueue=i,this.datastore=e,this.updateFunction=s,this.deferred=a,this.ec=5,this.Zi=new X1(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var i=this;this.Zi.ji(function(){return(0,vt.mG)(i,void 0,void 0,function(){var e,s,a=this;return(0,vt.Jh)(this,function(l){return e=new kD(this.datastore),(s=this.sc(e))&&s.then(function(h){a.asyncQueue.enqueueAndForget(function(){return e.commit().then(function(){a.deferred.resolve(h)}).catch(function(v){a.ic(v)})})}).catch(function(h){a.ic(h)}),[2]})})})},t.prototype.sc=function(i){try{var e=this.updateFunction(i);return!Xv(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(s){return this.deferred.reject(s),null}},t.prototype.ic=function(i){var e=this;this.ec>0&&this.rc(i)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(i)},t.prototype.rc=function(i){if("FirebaseError"===i.name){var e=i.code;return"aborted"===e||"failed-precondition"===e||!jx(e)}return!1},t}(),Q2=function(){function t(i,e,s){var a=this;this.credentials=i,this.asyncQueue=e,this.databaseInfo=s,this.user=Td.UNAUTHENTICATED,this.clientId=kM.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,function(l){return(0,vt.mG)(a,void 0,void 0,function(){return(0,vt.Jh)(this,function(h){switch(h.label){case 0:return Si("FirestoreClient","Received user=",l.uid),[4,this.credentialListener(l)];case 1:return h.sent(),this.user=l,[2]}})})})}return t.prototype.getConfiguration=function(){return(0,vt.mG)(this,void 0,void 0,function(){return(0,vt.Jh)(this,function(i){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(i){this.credentialListener=i},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new pi(Ln.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var i=this;this.asyncQueue.enterRestrictedMode();var e=new Jd;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,vt.mG)(i,void 0,void 0,function(){var s,a;return(0,vt.Jh)(this,function(l){switch(l.label){case 0:return l.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:l.sent(),l.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:l.sent(),l.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return s=l.sent(),a=lw(s,"Failed to shutdown persistence"),e.reject(a),[3,6];case 6:return[2]}})})}),e.promise},t}();function ED(t,i){return(0,vt.mG)(this,void 0,void 0,function(){var e,s,a=this;return(0,vt.Jh)(this,function(l){switch(l.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Si("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return e=l.sent(),[4,i.initialize(e)];case 2:return l.sent(),s=e.initialUser,t.setCredentialChangeListener(function(h){return(0,vt.mG)(a,void 0,void 0,function(){return(0,vt.Jh)(this,function(v){switch(v.label){case 0:return s.isEqual(h)?[3,2]:[4,XE(i.localStore,h)];case 1:v.sent(),s=h,v.label=2;case 2:return[2]}})})}),i.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=i,[2]}})})}function LT(t,i){return(0,vt.mG)(this,void 0,void 0,function(){var e,s;return(0,vt.Jh)(this,function(a){switch(a.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,PT(t)];case 1:return e=a.sent(),Si("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return s=a.sent(),[4,i.initialize(e,s)];case 3:return a.sent(),t.setCredentialChangeListener(function(l){return function(h,v){return(0,vt.mG)(this,void 0,void 0,function(){var C,O;return(0,vt.Jh)(this,function(G){switch(G.label){case 0:return(C=Ni(h)).asyncQueue.verifyOperationInProgress(),Si("RemoteStore","RemoteStore received new credentials"),O=ev(C),C.Or.add(3),[4,A0(C)];case 1:return G.sent(),O&&C.Br.set("Unknown"),[4,C.remoteSyncer.handleCredentialChange(v)];case 2:return G.sent(),C.Or.delete(3),[4,Qm(C)];case 3:return G.sent(),[2]}})})}(i.remoteStore,l)}),t.onlineComponents=i,[2]}})})}function PT(t){return(0,vt.mG)(this,void 0,void 0,function(){return(0,vt.Jh)(this,function(i){switch(i.label){case 0:return t.offlineComponents?[3,2]:(Si("FirestoreClient","Using default OfflineComponentProvider"),[4,ED(t,new eh)]);case 1:i.sent(),i.label=2;case 2:return[2,t.offlineComponents]}})})}function OT(t){return(0,vt.mG)(this,void 0,void 0,function(){return(0,vt.Jh)(this,function(i){switch(i.label){case 0:return t.onlineComponents?[3,2]:(Si("FirestoreClient","Using default OnlineComponentProvider"),[4,LT(t,new hw)]);case 1:i.sent(),i.label=2;case 2:return[2,t.onlineComponents]}})})}function DD(t){return PT(t).then(function(i){return i.persistence})}function RT(t){return PT(t).then(function(i){return i.localStore})}function pb(t){return OT(t).then(function(i){return i.remoteStore})}function AD(t){return OT(t).then(function(i){return i.syncEngine})}function fb(t){return(0,vt.mG)(this,void 0,void 0,function(){var i,e;return(0,vt.Jh)(this,function(s){switch(s.label){case 0:return[4,OT(t)];case 1:return i=s.sent(),[2,((e=i.eventManager).onListen=U2.bind(null,i.syncEngine),e.onUnlisten=j2.bind(null,i.syncEngine),e)]}})})}function ID(t,i,e){var s=this;void 0===e&&(e={});var a=new Jd;return t.asyncQueue.enqueueAndForget(function(){return(0,vt.mG)(s,void 0,void 0,function(){var l;return(0,vt.Jh)(this,function(h){switch(h.label){case 0:return l=function(v,C,O,G,te){var pe=new pw({next:function(Le){C.enqueueAndForget(function(){return vT(v,we)});var je=Le.docs.has(O);!je&&Le.fromCache?te.reject(new pi(Ln.UNAVAILABLE,"Failed to get document because the client is offline.")):je&&Le.fromCache&&G&&"server"===G.source?te.reject(new pi(Ln.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):te.resolve(Le)},error:function(Le){return te.reject(Le)}}),we=new xT(Jv(O.path),pe,{includeMetadataChanges:!0,so:!0});return yT(v,we)},[4,fb(t)];case 1:return[2,l.apply(void 0,[h.sent(),t.asyncQueue,i,e,a])]}})})}),a.promise}function X2(t,i,e){var s=this;void 0===e&&(e={});var a=new Jd;return t.asyncQueue.enqueueAndForget(function(){return(0,vt.mG)(s,void 0,void 0,function(){var l;return(0,vt.Jh)(this,function(h){switch(h.label){case 0:return l=function(v,C,O,G,te){var pe=new pw({next:function(Le){C.enqueueAndForget(function(){return vT(v,we)}),Le.fromCache&&"server"===G.source?te.reject(new pi(Ln.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):te.resolve(Le)},error:function(Le){return te.reject(Le)}}),we=new xT(O,pe,{includeMetadataChanges:!0,so:!0});return yT(v,we)},[4,fb(t)];case 1:return[2,l.apply(void 0,[h.sent(),t.asyncQueue,i,e,a])]}})})}),a.promise}var LD=function(t,i,e,s,a,l,h,v){this.databaseId=t,this.appId=i,this.persistenceKey=e,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=h,this.useFetchStreams=v},iC=function(){function t(i,e){this.projectId=i,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(i){return i instanceof t&&i.projectId===this.projectId&&i.database===this.database},t}(),rC=new Map,FT=function(t,i){this.user=i,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},NT=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(i,e){this.changeListener=e,i.enqueueRetryable(function(){return e(Td.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),PD=function(){function t(i){this.token=i,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(i,e){var s=this;this.changeListener=e,i.enqueueRetryable(function(){return e(s.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),OD=function(){function t(i){var e=this;this.currentUser=Td.UNAUTHENTICATED,this.oc=new Jd,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)})};var s=function(a){Si("FirebaseCredentialsProvider","Auth detected"),e.auth=a,e.auth.addAuthTokenListener(e.uc)};i.onInit(function(a){return s(a)}),setTimeout(function(){if(!e.auth){var a=i.getImmediate({optional:!0});a?s(a):(Si("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}},0)}return t.prototype.getToken=function(){var i=this,e=this.cc,s=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(s).then(function(a){return i.cc!==e?(Si("FirebaseCredentialsProvider","getToken aborted due to token change."),i.getToken()):a?(cs("string"==typeof a.accessToken),new FT(a.accessToken,i.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(i,e){var s=this;this.asyncQueue=i,this.asyncQueue.enqueueRetryable(function(){return(0,vt.mG)(s,void 0,void 0,function(){return(0,vt.Jh)(this,function(a){switch(a.label){case 0:return[4,this.oc.promise];case 1:return a.sent(),[4,e(this.currentUser)];case 2:return a.sent(),this.changeListener=e,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var i=this.auth&&this.auth.getUid();return cs(null===i||"string"==typeof i),new Td(i)},t}(),RD=function(){function t(i,e,s){this.hc=i,this.lc=e,this.fc=s,this.type="FirstParty",this.user=Td.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var i={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(i.Authorization=e),this.fc&&(i["X-Goog-Iam-Authorization-Token"]=this.fc),i},enumerable:!1,configurable:!0}),t}(),FD=function(){function t(i,e,s){this.hc=i,this.lc=e,this.fc=s}return t.prototype.getToken=function(){return Promise.resolve(new RD(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(i,e){i.enqueueRetryable(function(){return e(Td.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function sC(t,i,e){if(!e)throw new pi(Ln.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+i+".")}function oC(t,i){if(void 0===i)return{merge:!1};if(void 0!==i.mergeFields&&void 0!==i.merge)throw new pi(Ln.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return i}function ND(t,i,e,s){if(!0===i&&!0===s)throw new pi(Ln.INVALID_ARGUMENT,t+" and "+e+" cannot be used together.")}function zT(t){if(!Tr.isDocumentKey(t))throw new pi(Ln.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function O0(t){if(Tr.isDocumentKey(t))throw new pi(Ln.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function fw(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var i=function(e){if(e.constructor){var s=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(s&&s.length>1)return s[1]}return null}(t);return i?"a custom "+i+" object":"an object"}return"function"==typeof t?"a function":br()}function Go(t,i){if("_delegate"in t&&(t=t._delegate),!(t instanceof i)){if(i.name===t.constructor.name)throw new pi(Ln.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var e=fw(t);throw new pi(Ln.INVALID_ARGUMENT,"Expected type '"+i.name+"', but it was: "+e)}return t}function BT(t,i){if(i<=0)throw new pi(Ln.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+i+".")}var YT=function(){function t(i){var e;if(void 0===i.host){if(void 0!==i.ssl)throw new pi(Ln.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=i.host,this.ssl=null===(e=i.ssl)||void 0===e||e;if(this.credentials=i.credentials,this.ignoreUndefinedProperties=!!i.ignoreUndefinedProperties,void 0===i.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==i.cacheSizeBytes&&i.cacheSizeBytes<1048576)throw new pi(Ln.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=i.cacheSizeBytes}this.experimentalForceLongPolling=!!i.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!i.experimentalAutoDetectLongPolling,this.useFetchStreams=!!i.useFetchStreams,ND("experimentalForceLongPolling",i.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",i.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(i){return this.host===i.host&&this.ssl===i.ssl&&this.credentials===i.credentials&&this.cacheSizeBytes===i.cacheSizeBytes&&this.experimentalForceLongPolling===i.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===i.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===i.ignoreUndefinedProperties&&this.useFetchStreams===i.useFetchStreams},t}(),R0=function(){function t(i,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new YT({}),this._settingsFrozen=!1,i instanceof iC?(this._databaseId=i,this._credentials=new NT):(this._app=i,this._databaseId=function(s){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new pi(Ln.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new iC(s.options.projectId)}(i),this._credentials=new OD(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new pi(Ln.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(i){if(this._settingsFrozen)throw new pi(Ln.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new YT(i),void 0!==i.credentials&&(this._credentials=function(e){if(!e)return new NT;switch(e.type){case"gapi":var s=e.client;return cs(!("object"!=typeof s||null===s||!s.auth||!s.auth.getAuthHeaderValueForFirstParty)),new FD(s,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new pi(Ln.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(i.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(e=rC.get(this))&&(Si("ComponentProvider","Removing Datastore"),rC.delete(this),e.terminate()),Promise.resolve();var e},t}(),Xl=function(){function t(i,e,s){this.converter=e,this._key=s,this.type="document",this.firestore=i}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new H_(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(i){return new t(this.firestore,i,this._key)},t}(),Jp=function(){function t(i,e,s){this.converter=e,this._query=s,this.type="query",this.firestore=i}return t.prototype.withConverter=function(i){return new t(this.firestore,i,this._query)},t}(),H_=function(t){function i(e,s,a){var l=this;return(l=t.call(this,e,s,Jv(a))||this)._path=a,l.type="collection",l}return(0,vt.ZT)(i,t),Object.defineProperty(i.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Xl(this.firestore,null,new Tr(e))},enumerable:!1,configurable:!0}),i.prototype.withConverter=function(e){return new i(this.firestore,e,this._path)},i}(Jp);function HT(t,i){for(var e,s=[],a=2;a<arguments.length;a++)s[a-2]=arguments[a];if(t=(0,Ls.m9)(t),sC("collection","path",i),t instanceof R0)return O0(e=Zo.fromString.apply(Zo,(0,vt.ev)([i],s))),new H_(t,null,e);if(!(t instanceof Xl||t instanceof H_))throw new pi(Ln.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return O0(e=Zo.fromString.apply(Zo,(0,vt.ev)([t.path],s)).child(Zo.fromString(i))),new H_(t.firestore,null,e)}function aC(t,i){for(var e,s=[],a=2;a<arguments.length;a++)s[a-2]=arguments[a];if(t=(0,Ls.m9)(t),1===arguments.length&&(i=kM.u()),sC("doc","path",i),t instanceof R0)return zT(e=Zo.fromString.apply(Zo,(0,vt.ev)([i],s))),new Xl(t,null,new Tr(e));if(!(t instanceof Xl||t instanceof H_))throw new pi(Ln.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return zT(e=t._path.child(Zo.fromString.apply(Zo,(0,vt.ev)([i],s)))),new Xl(t.firestore,t instanceof H_?t.converter:null,new Tr(e))}function zD(t,i){return t=(0,Ls.m9)(t),i=(0,Ls.m9)(i),(t instanceof Xl||t instanceof H_)&&(i instanceof Xl||i instanceof H_)&&t.firestore===i.firestore&&t.path===i.path&&t.converter===i.converter}function BD(t,i){return t=(0,Ls.m9)(t),i=(0,Ls.m9)(i),t instanceof Jp&&i instanceof Jp&&t.firestore===i.firestore&&Vx(t._query,i._query)&&t.converter===i.converter}var mw=function(){function t(){var i=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new X1(this,"async_queue_retry"),this.Ic=function(){var s=vl();s&&Si("AsyncQueue","Visibility state changed to "+s.visibilityState),i.Zi.Gi()};var e=vl();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(i){this.enqueue(i)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(i){this.Ac(),this.Rc(i)},t.prototype.enterRestrictedMode=function(i){if(!this._c){this._c=!0,this.Ec=i||!1;var e=vl();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(i){var e=this;if(this.Ac(),this._c)return new Promise(function(){});var s=new Jd;return this.Rc(function(){return e._c&&e.Ec?Promise.resolve():(i().then(s.resolve,s.reject),s.promise)}).then(function(){return s.promise})},t.prototype.enqueueRetryable=function(i){var e=this;this.enqueueAndForget(function(){return e.wc.push(i),e.bc()})},t.prototype.bc=function(){return(0,vt.mG)(this,void 0,void 0,function(){var i,e=this;return(0,vt.Jh)(this,function(s){switch(s.label){case 0:if(0===this.wc.length)return[3,5];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return s.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!qy(i=s.sent()))throw i;return Si("AsyncQueue","Operation failed with retryable error: "+i),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return e.bc()}),s.label=5;case 5:return[2]}})})},t.prototype.Rc=function(i){var e=this,s=this.dc.then(function(){return e.gc=!0,i().catch(function(a){throw e.yc=a,e.gc=!1,Nc("INTERNAL UNHANDLED ERROR: ",(h=(l=a).message||"",l.stack&&(h=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),h)),a;var l,h}).then(function(a){return e.gc=!1,a})});return this.dc=s,s},t.prototype.enqueueAfterDelay=function(i,e,s){var a=this;this.Ac(),this.Tc.indexOf(i)>-1&&(e=0);var l=lN.createAndSchedule(this,i,e,s,function(h){return a.vc(h)});return this.mc.push(l),l},t.prototype.Ac=function(){this.yc&&br()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return(0,vt.mG)(this,void 0,void 0,function(){var i;return(0,vt.Jh)(this,function(e){switch(e.label){case 0:return[4,i=this.dc];case 1:e.sent(),e.label=2;case 2:if(i!==this.dc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Vc=function(i){for(var e=0,s=this.mc;e<s.length;e++)if(s[e].timerId===i)return!0;return!1},t.prototype.Sc=function(i){var e=this;return this.Pc().then(function(){e.mc.sort(function(h,v){return h.targetTimeMs-v.targetTimeMs});for(var s=0,a=e.mc;s<a.length;s++){var l=a[s];if(l.skipDelay(),"all"!==i&&l.timerId===i)break}return e.Pc()})},t.prototype.Dc=function(i){this.Tc.push(i)},t.prototype.vc=function(i){var e=this.mc.indexOf(i);this.mc.splice(e,1)},t}();function Hg(t){return function(i,e){if("object"!=typeof i||null===i)return!1;for(var s=i,a=0,l=["next","error","complete"];a<l.length;a++){var h=l[a];if(h in s&&"function"==typeof s[h])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Jd,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(i,e,s){this._progressObserver={next:i,error:e,complete:s}},t.prototype.catch=function(i){return this._taskCompletionResolver.promise.catch(i)},t.prototype.then=function(i,e){return this._taskCompletionResolver.promise.then(i,e)},t.prototype._completeWith=function(i){this._updateProgress(i),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(i)},t.prototype._failWith=function(i){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(i),this._taskCompletionResolver.reject(i)},t.prototype._updateProgress=function(i){this._lastProgress=i,this._progressObserver.next&&this._progressObserver.next(i)}}();var Ta=function(t){function i(e,s){var a=this;return(a=t.call(this,e,s)||this).type="firestore",a._queue=new mw,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return(0,vt.ZT)(i,t),i.prototype._terminate=function(){return this._firestoreClient||F0(this),this._firestoreClient.terminate()},i}(R0);function Sd(t){return t._firestoreClient||F0(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function F0(t){var i,l,v,e=t._freezeSettings(),s=(l=(null===(i=t._app)||void 0===i?void 0:i.options.appId)||"",new LD(t._databaseId,l,t._persistenceKey,(v=e).host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,v.useFetchStreams));t._firestoreClient=new Q2(t._credentials,t._queue,s)}function YD(t,i,e){var s=this,a=new Jd;return t.asyncQueue.enqueue(function(){return(0,vt.mG)(s,void 0,void 0,function(){var l;return(0,vt.Jh)(this,function(h){switch(h.label){case 0:return h.trys.push([0,3,,4]),[4,ED(t,e)];case 1:return h.sent(),[4,LT(t,i)];case 2:return h.sent(),a.resolve(),[3,4];case 3:if(!("FirebaseError"===(v=l=h.sent()).name?v.code===Ln.FAILED_PRECONDITION||v.code===Ln.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&v instanceof DOMException)||22===v.code||20===v.code||11===v.code))throw l;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+l),a.reject(l),[3,4];case 4:return[2]}var v})})}).then(function(){return a.promise})}function HD(t){if(t._initialized||t._terminated)throw new pi(Ln.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var V_=function(){function t(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];for(var s=0;s<i.length;++s)if(0===i[s].length)throw new pi(Ln.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hm(i)}return t.prototype.isEqual=function(i){return this._internalPath.isEqual(i._internalPath)},t}(),U_=function(){function t(i){this._byteString=i}return t.fromBase64String=function(i){try{return new t($p.fromBase64String(i))}catch(e){throw new pi(Ln.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(i){return new t($p.fromUint8Array(i))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(i){return this._byteString.isEqual(i._byteString)},t}(),j_=function(t){this._methodName=t},gw=function(){function t(i,e){if(!isFinite(i)||i<-90||i>90)throw new pi(Ln.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+i);if(!isFinite(e)||e<-180||e>180)throw new pi(Ln.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=i,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(i){return this._lat===i._lat&&this._long===i._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(i){return vo(this._lat,i._lat)||vo(this._long,i._long)},t}(),UT=/^__.*__$/,jT=function(){function t(i,e,s){this.data=i,this.fieldMask=e,this.fieldTransforms=s}return t.prototype.toMutation=function(i,e){return null!==this.fieldMask?new L_(i,this.data,this.fieldMask,e,this.fieldTransforms):new g0(i,this.data,e,this.fieldTransforms)},t}(),VD=function(){function t(i,e,s){this.data=i,this.fieldMask=e,this.fieldTransforms=s}return t.prototype.toMutation=function(i,e){return new L_(i,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function UD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw br()}}var jD=function(){function t(i,e,s,a,l,h){this.settings=i,this.databaseId=e,this.R=s,this.ignoreUndefinedProperties=a,void 0===l&&this.Cc(),this.fieldTransforms=l||[],this.fieldMask=h||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(i){return new t(Object.assign(Object.assign({},this.settings),i),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.Fc=function(i){var e,s=null===(e=this.path)||void 0===e?void 0:e.child(i),a=this.xc({path:s,kc:!1});return a.$c(i),a},t.prototype.Oc=function(i){var e,s=null===(e=this.path)||void 0===e?void 0:e.child(i),a=this.xc({path:s,kc:!1});return a.Cc(),a},t.prototype.Mc=function(i){return this.xc({path:void 0,kc:!0})},t.prototype.Lc=function(i){return ov(i,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(i){return void 0!==this.fieldMask.find(function(e){return i.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return i.isPrefixOf(e.field)})},t.prototype.Cc=function(){if(this.path)for(var i=0;i<this.path.length;i++)this.$c(this.path.get(i))},t.prototype.$c=function(i){if(0===i.length)throw this.Lc("Document fields must not be empty");if(UD(this.Nc)&&UT.test(i))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),K2=function(){function t(i,e,s){this.databaseId=i,this.ignoreUndefinedProperties=e,this.R=s||vp(i)}return t.prototype.Uc=function(i,e,s,a){return void 0===a&&(a=!1),new jD({Nc:i,methodName:e,qc:s,path:hm.emptyPath(),kc:!1,Bc:a},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function iv(t){var i=t._freezeSettings(),e=vp(t._databaseId);return new K2(t._databaseId,!!i.ignoreUndefinedProperties,e)}function N0(t,i,e,s,a,l){void 0===l&&(l={});var h=t.Uc(l.merge||l.mergeFields?2:0,i,e,a);sv("Data must be an object, but it was:",h,s);var v,C,O=tP(s,h);if(l.merge)v=new Qv(h.fieldMask),C=h.fieldTransforms;else if(l.mergeFields){for(var G=[],te=0,pe=l.mergeFields;te<pe.length;te++){var we=qT(i,pe[te],e);if(!h.contains(we))throw new pi(Ln.INVALID_ARGUMENT,"Field '"+we+"' is specified in your field mask but missing from your input data.");$D(G,we)||G.push(we)}v=new Qv(G),C=h.fieldTransforms.filter(function(Le){return v.covers(Le.field)})}else v=null,C=h.fieldTransforms;return new jT(new gc(O),v,C)}var lC=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return(0,vt.ZT)(i,t),i.prototype._toFieldTransform=function(e){if(2!==e.Nc)throw e.Lc(1===e.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},i.prototype.isEqual=function(e){return e instanceof i},i}(j_);function ZT(t,i,e){return new jD({Nc:3,qc:i.settings.qc,methodName:t._methodName,kc:e},i.databaseId,i.R,i.ignoreUndefinedProperties)}var ZD=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return(0,vt.ZT)(i,t),i.prototype._toFieldTransform=function(e){return new m0(e.path,new Kv)},i.prototype.isEqual=function(e){return e instanceof i},i}(j_),GD=function(t){function i(e,s){var a=this;return(a=t.call(this,e)||this).Kc=s,a}return(0,vt.ZT)(i,t),i.prototype._toFieldTransform=function(e){var s=ZT(this,e,!0),a=this.Kc.map(function(h){return rv(h,s)}),l=new Hy(a);return new m0(e.path,l)},i.prototype.isEqual=function(e){return this===e},i}(j_),eP=function(t){function i(e,s){var a=this;return(a=t.call(this,e)||this).Kc=s,a}return(0,vt.ZT)(i,t),i.prototype._toFieldTransform=function(e){var s=ZT(this,e,!0),a=this.Kc.map(function(h){return rv(h,s)}),l=new Vy(a);return new m0(e.path,l)},i.prototype.isEqual=function(e){return this===e},i}(j_),WD=function(t){function i(e,s){var a=this;return(a=t.call(this,e)||this).Qc=s,a}return(0,vt.ZT)(i,t),i.prototype._toFieldTransform=function(e){var s=new eb(e.R,rE(e.R,this.Qc));return new m0(e.path,s)},i.prototype.isEqual=function(e){return this===e},i}(j_);function cC(t,i,e,s){var a=t.Uc(1,i,e);sv("Data must be an object, but it was:",a,s);var l=[],h=gc.empty();Ny(s,function(C,O){var G=qD(i,C,e);O=(0,Ls.m9)(O);var te=a.Oc(G);if(O instanceof lC)l.push(G);else{var pe=rv(O,te);null!=pe&&(l.push(G),h.set(G,pe))}});var v=new Qv(l);return new VD(h,v,a.fieldTransforms)}function GT(t,i,e,s,a,l){var h=t.Uc(1,i,e),v=[qT(i,s,e)],C=[a];if(l.length%2!=0)throw new pi(Ln.INVALID_ARGUMENT,"Function "+i+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var O=0;O<l.length;O+=2)v.push(qT(i,l[O])),C.push(l[O+1]);for(var G=[],te=gc.empty(),pe=v.length-1;pe>=0;--pe)if(!$D(G,v[pe])){var we=v[pe],Le=C[pe];Le=(0,Ls.m9)(Le);var je=h.Oc(we);if(Le instanceof lC)G.push(we);else{var tt=rv(Le,je);null!=tt&&(G.push(we),te.set(we,tt))}}var yt=new Qv(G);return new VD(te,yt,h.fieldTransforms)}function WT(t,i,e,s){return void 0===s&&(s=!1),rv(e,t.Uc(s?4:3,i))}function rv(t,i){if(zh(t=(0,Ls.m9)(t)))return sv("Unsupported field value:",i,t),tP(t,i);if(t instanceof j_)return function(e,s){if(!UD(s.Nc))throw s.Lc(e._methodName+"() can only be used with update() and set()");if(!s.path)throw s.Lc(e._methodName+"() is not currently supported inside arrays");var a=e._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(t,i),null;if(void 0===t&&i.ignoreUndefinedProperties)return null;if(i.path&&i.fieldMask.push(i.path),t instanceof Array){if(i.settings.kc&&4!==i.Nc)throw i.Lc("Nested arrays are not supported");return function(e,s){for(var a=[],l=0,h=0,v=e;h<v.length;h++){var C=rv(v[h],s.Mc(l));null==C&&(C={nullValue:"NULL_VALUE"}),a.push(C),l++}return{arrayValue:{values:a}}}(t,i)}return function(e,s){if(null===(e=(0,Ls.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return rE(s.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var a=Nh.fromDate(e);return{timestampValue:v0(s.R,a)}}if(e instanceof Nh)return a=new Nh(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:v0(s.R,a)};if(e instanceof gw)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof U_)return{bytesValue:mE(s.R,e._byteString)};if(e instanceof Xl){var l=e.firestore._databaseId;if(!l.isEqual(a=s.databaseId))throw s.Lc("Document reference is for database "+l.projectId+"/"+l.database+" but should be for database "+a.projectId+"/"+a.database);return{referenceValue:qM(e.firestore._databaseId||s.databaseId,e._key.path)}}throw s.Lc("Unsupported field value: "+fw(e))}(t,i)}function tP(t,i){var e={};return AM(t)?i.path&&i.path.length>0&&i.fieldMask.push(i.path):Ny(t,function(s,a){var l=rv(a,i.Fc(s));null!=l&&(e[s]=l)}),{mapValue:{fields:e}}}function zh(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Nh||t instanceof gw||t instanceof U_||t instanceof Xl||t instanceof j_)}function sv(t,i,e){if(!zh(e)||"object"!=typeof(a=e)||null===a||Object.getPrototypeOf(a)!==Object.prototype&&null!==Object.getPrototypeOf(a)){var s=fw(e);throw i.Lc("an object"===s?t+" a custom object":t+" "+s)}var a}function qT(t,i,e){if((i=(0,Ls.m9)(i))instanceof V_)return i._internalPath;if("string"==typeof i)return qD(t,i);throw ov("Field path arguments must be of type string or FieldPath.",t,!1,void 0,e)}var nP=new RegExp("[~\\*/\\[\\]]");function qD(t,i,e){if(i.search(nP)>=0)throw ov("Invalid field path ("+i+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,e);try{return(new(V_.bind.apply(V_,(0,vt.ev)([void 0],i.split(".")))))._internalPath}catch(s){throw ov("Invalid field path ("+i+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,e)}}function ov(t,i,e,s,a){var l=s&&!s.isEmpty(),h=void 0!==a,v="Function "+i+"() called with invalid data";e&&(v+=" (via `toFirestore()`)");var C="";return(l||h)&&(C+=" (found",l&&(C+=" in field "+s),h&&(C+=" in document "+a),C+=")"),new pi(Ln.INVALID_ARGUMENT,(v+=". ")+t+C)}function $D(t,i){return t.some(function(e){return e.isEqual(i)})}var mb=function(){function t(i,e,s,a,l){this._firestore=i,this._userDataWriter=e,this._key=s,this._document=a,this._converter=l}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Xl(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var i=new iP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(i)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(i){if(this._document){var e=this._document.data.field(_w("DocumentSnapshot.get",i));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),iP=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return(0,vt.ZT)(i,t),i.prototype.data=function(){return t.prototype.data.call(this)},i}(mb);function _w(t,i){return"string"==typeof i?qD(t,i):i instanceof V_?i._internalPath:i._delegate._internalPath}var gb=function(){function t(i,e){this.hasPendingWrites=i,this.fromCache=e}return t.prototype.isEqual=function(i){return this.hasPendingWrites===i.hasPendingWrites&&this.fromCache===i.fromCache},t}(),Z_=function(t){function i(e,s,a,l,h,v){var C=this;return(C=t.call(this,e,s,a,l,v)||this)._firestore=e,C._firestoreImpl=e,C.metadata=h,C}return(0,vt.ZT)(i,t),i.prototype.exists=function(){return t.prototype.exists.call(this)},i.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var s=new _b(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(s,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}},i.prototype.get=function(e,s){if(void 0===s&&(s={}),this._document){var a=this._document.data.field(_w("DocumentSnapshot.get",e));if(null!==a)return this._userDataWriter.convertValue(a,s.serverTimestamps)}},i}(mb),_b=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return(0,vt.ZT)(i,t),i.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},i}(Z_),G_=function(){function t(i,e,s,a){this._firestore=i,this._userDataWriter=e,this._snapshot=a,this.metadata=new gb(a.hasPendingWrites,a.fromCache),this.query=s}return Object.defineProperty(t.prototype,"docs",{get:function(){var i=[];return this.forEach(function(e){return i.push(e)}),i},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(i,e){var s=this;this._snapshot.docs.forEach(function(a){i.call(e,new _b(s._firestore,s._userDataWriter,a.key,a,new gb(s._snapshot.mutatedKeys.has(a.key),s._snapshot.fromCache),s.query.converter))})},t.prototype.docChanges=function(i){void 0===i&&(i={});var e=!!i.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new pi(Ln.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){var l=0;return s._snapshot.docChanges.map(function(v){return{type:"added",doc:new _b(s._firestore,s._userDataWriter,v.doc.key,v.doc,new gb(s._snapshot.mutatedKeys.has(v.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:l++}})}var h=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(function(v){return a||3!==v.type}).map(function(v){var C=new _b(s._firestore,s._userDataWriter,v.doc.key,v.doc,new gb(s._snapshot.mutatedKeys.has(v.doc.key),s._snapshot.fromCache),s.query.converter),O=-1,G=-1;return 0!==v.type&&(O=h.indexOf(v.doc.key),h=h.delete(v.doc.key)),1!==v.type&&(G=(h=h.add(v.doc)).indexOf(v.doc.key)),{type:QD(v.type),doc:C,oldIndex:O,newIndex:G}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function QD(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return br()}}function yw(t,i){return t instanceof Z_&&i instanceof Z_?t._firestore===i._firestore&&t._key.isEqual(i._key)&&(null===t._document?null===i._document:t._document.isEqual(i._document))&&t._converter===i._converter:t instanceof G_&&i instanceof G_&&t._firestore===i._firestore&&BD(t.query,i.query)&&t.metadata.isEqual(i.metadata)&&t._snapshot.isEqual(i._snapshot)}function uC(t){if(Hx(t)&&0===t.explicitOrderBy.length)throw new pi(Ln.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var dC=function(){};function W_(t){for(var i=[],e=1;e<arguments.length;e++)i[e-1]=arguments[e];for(var s=0,a=i;s<a.length;s++){var l=a[s];t=l._apply(t)}return t}var rP=function(t){function i(e,s,a){var l=this;return(l=t.call(this)||this).jc=e,l.Wc=s,l.Gc=a,l.type="where",l}return(0,vt.ZT)(i,t),i.prototype._apply=function(e){var l,v,s=iv(e.firestore),a=function(l,h,v,C,O,G,te){var pe;if(O.isKeyField()){if("array-contains"===G||"array-contains-any"===G)throw new pi(Ln.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+G+"' queries on FieldPath.documentId().");if("in"===G||"not-in"===G){KD(te,G);for(var we=[],Le=0,je=te;Le<je.length;Le++)we.push(pC(C,l,je[Le]));pe={arrayValue:{values:we}}}else pe=pC(C,l,te)}else"in"!==G&&"not-in"!==G&&"array-contains-any"!==G||KD(te,G),pe=WT(v,"where",te,"in"===G||"not-in"===G);var yt=gp.create(O,G,pe);return function(Zt,tn){if(tn.g()){var gn=R1(Zt);if(null!==gn&&!gn.isEqual(tn.field))throw new pi(Ln.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+gn.toString()+"' and '"+tn.field.toString()+"'");var pn=O1(Zt);null!==pn&&eA(0,tn.field,pn)}var qn=function(si,Li){for(var Ii=0,xs=si.filters;Ii<xs.length;Ii++){var ro=xs[Ii];if(Li.indexOf(ro.op)>=0)return ro.op}return null}(Zt,function(si){switch(si){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(tn.op));if(null!==qn)throw new pi(Ln.INVALID_ARGUMENT,qn===tn.op?"Invalid query. You cannot use more than one '"+tn.op.toString()+"' filter.":"Invalid query. You cannot use '"+tn.op.toString()+"' filters with '"+qn.toString()+"' filters.")}(l,yt),yt}(e._query,0,s,e.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Jp(e.firestore,e.converter,(v=(l=e._query).filters.concat([a]),new Pg(l.path,l.collectionGroup,l.explicitOrderBy.slice(),v,l.limit,l.limitType,l.startAt,l.endAt)))},i}(dC),XD=function(t){function i(e,s){var a=this;return(a=t.call(this)||this).jc=e,a.zc=s,a.type="orderBy",a}return(0,vt.ZT)(i,t),i.prototype._apply=function(e){var a,h,s=function(a,l,h){if(null!==a.startAt)throw new pi(Ln.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==a.endAt)throw new pi(Ln.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var v=new Yy(l,h);return function(C,O){if(null===O1(C)){var G=R1(C);null!==G&&eA(0,G,O.field)}}(a,v),v}(e._query,this.jc,this.zc);return new Jp(e.firestore,e.converter,(h=(a=e._query).explicitOrderBy.concat([s]),new Pg(a.path,a.collectionGroup,h,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)))},i}(dC),vw=function(t){function i(e,s,a){var l=this;return(l=t.call(this)||this).type=e,l.Hc=s,l.Jc=a,l}return(0,vt.ZT)(i,t),i.prototype._apply=function(e){return new Jp(e.firestore,e.converter,Kk(e._query,this.Hc,this.Jc))},i}(dC),$T=function(t){function i(e,s,a){var l=this;return(l=t.call(this)||this).type=e,l.Yc=s,l.Xc=a,l}return(0,vt.ZT)(i,t),i.prototype._apply=function(e){var a,l,s=hC(e,this.type,this.Yc,this.Xc);return new Jp(e.firestore,e.converter,(l=s,new Pg((a=e._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,l,a.endAt)))},i}(dC),JD=function(t){function i(e,s,a){var l=this;return(l=t.call(this)||this).type=e,l.Yc=s,l.Xc=a,l}return(0,vt.ZT)(i,t),i.prototype._apply=function(e){var a,l,s=hC(e,this.type,this.Yc,this.Xc);return new Jp(e.firestore,e.converter,(l=s,new Pg((a=e._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,l)))},i}(dC);function hC(t,i,e,s){if(e[0]=(0,Ls.m9)(e[0]),e[0]instanceof mb)return function(l,h,v,C,O){if(!C)throw new pi(Ln.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+v+"().");for(var G=[],te=0,pe=f0(l);te<pe.length;te++){var we=pe[te];if(we.field.isKeyField())G.push(RM(h,C.key));else{var Le=C.data.field(we.field);if(iu(Le))throw new pi(Ln.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+we.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Le){var je=we.field.canonicalString();throw new pi(Ln.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+je+"' (used as the orderBy) does not exist.")}G.push(Le)}}return new p0(G,O)}(t._query,t.firestore._databaseId,i,e[0]._document,s);var a=iv(t.firestore);return function(l,h,v,C,O,G){var te=l.explicitOrderBy;if(O.length>te.length)throw new pi(Ln.INVALID_ARGUMENT,"Too many arguments provided to "+C+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var pe=[],we=0;we<O.length;we++){var Le=O[we];if(te[we].field.isKeyField()){if("string"!=typeof Le)throw new pi(Ln.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+C+"(), but got a "+typeof Le);if(!NM(l)&&-1!==Le.indexOf("/"))throw new pi(Ln.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+C+"() must be a plain document ID, but '"+Le+"' contains a slash.");var je=l.path.child(Zo.fromString(Le));if(!Tr.isDocumentKey(je))throw new pi(Ln.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+C+"() must result in a valid document path, but '"+je+"' is not because it contains an odd number of segments.");var tt=new Tr(je);pe.push(RM(h,tt))}else{var yt=WT(v,C,Le);pe.push(yt)}}return new p0(pe,G)}(t._query,t.firestore._databaseId,a,i,e,s)}function pC(t,i,e){if("string"==typeof(e=(0,Ls.m9)(e))){if(""===e)throw new pi(Ln.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!NM(i)&&-1!==e.indexOf("/"))throw new pi(Ln.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+e+"' contains a '/' character.");var s=i.path.child(Zo.fromString(e));if(!Tr.isDocumentKey(s))throw new pi(Ln.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+s+"' is not because it has an odd number of segments ("+s.length+").");return RM(t,new Tr(s))}if(e instanceof Xl)return RM(t,e._key);throw new pi(Ln.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+fw(e)+".")}function KD(t,i){if(!Array.isArray(t)||0===t.length)throw new pi(Ln.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+i.toString()+"' filters.");if(t.length>10)throw new pi(Ln.INVALID_ARGUMENT,"Invalid Query. '"+i.toString()+"' filters support a maximum of 10 elements in the value array.")}function eA(t,i,e){if(!e.isEqual(i))throw new pi(Ln.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+i.toString()+"' and so you must also use '"+i.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+e.toString()+"' instead.")}var fC=function(){function t(){}return t.prototype.convertValue=function(i,e){switch(void 0===e&&(e="none"),By(i)){case 0:return null;case 1:return i.booleanValue;case 2:return nu(i.integerValue||i.doubleValue);case 3:return this.convertTimestamp(i.timestampValue);case 4:return this.convertServerTimestamp(i,e);case 5:return i.stringValue;case 6:return this.convertBytes(d0(i.bytesValue));case 7:return this.convertReference(i.referenceValue);case 8:return this.convertGeoPoint(i.geoPointValue);case 9:return this.convertArray(i.arrayValue,e);case 10:return this.convertObject(i.mapValue,e);default:throw br()}},t.prototype.convertObject=function(i,e){var s=this,a={};return Ny(i.fields,function(l,h){a[l]=s.convertValue(h,e)}),a},t.prototype.convertGeoPoint=function(i){return new gw(nu(i.latitude),nu(i.longitude))},t.prototype.convertArray=function(i,e){var s=this;return(i.values||[]).map(function(a){return s.convertValue(a,e)})},t.prototype.convertServerTimestamp=function(i,e){switch(e){case"previous":var s=LM(i);return null==s?null:this.convertValue(s,e);case"estimate":return this.convertTimestamp(Ix(i));default:return null}},t.prototype.convertTimestamp=function(i){var e=zy(i);return new Nh(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(i,e){var s=Zo.fromString(i);cs(JM(s));var a=new iC(s.get(1),s.get(3)),l=new Tr(s.popFirst(5));return a.isEqual(e)||Nc("Document "+l+" contains a document reference within a different database ("+a.projectId+"/"+a.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),l},t}();function bw(t,i,e){return t?e&&(e.merge||e.mergeFields)?t.toFirestore(i,e):t.toFirestore(i):i}var tA=function(t){function i(e){var s=this;return(s=t.call(this)||this).firestore=e,s}return(0,vt.ZT)(i,t),i.prototype.convertBytes=function(e){return new U_(e)},i.prototype.convertReference=function(e){var s=this.convertDocumentKey(e,this.firestore._databaseId);return new Xl(this.firestore,null,s)},i}(fC),sP=function(){function t(i,e){this._firestore=i,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=iv(i)}return t.prototype.set=function(i,e,s){this._verifyNotCommitted();var a=q_(i,this._firestore),l=bw(a.converter,e,s),h=N0(this._dataReader,"WriteBatch.set",a._key,l,null!==a.converter,s);return this._mutations.push(h.toMutation(a._key,xd.none())),this},t.prototype.update=function(i,e,s){for(var a=[],l=3;l<arguments.length;l++)a[l-3]=arguments[l];this._verifyNotCommitted();var h,v=q_(i,this._firestore);return h="string"==typeof(e=(0,Ls.m9)(e))||e instanceof V_?GT(this._dataReader,"WriteBatch.update",v._key,e,s,a):cC(this._dataReader,"WriteBatch.update",v._key,e),this._mutations.push(h.toMutation(v._key,xd.exists(!0))),this},t.prototype.delete=function(i){this._verifyNotCommitted();var e=q_(i,this._firestore);return this._mutations=this._mutations.concat(new jy(e._key,xd.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new pi(Ln.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function q_(t,i){if((t=(0,Ls.m9)(t)).firestore!==i)throw new pi(Ln.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var av=function(t){function i(e){var s=this;return(s=t.call(this)||this).firestore=e,s}return(0,vt.ZT)(i,t),i.prototype.convertBytes=function(e){return new U_(e)},i.prototype.convertReference=function(e){var s=this.convertDocumentKey(e,this.firestore._databaseId);return new Xl(this.firestore,null,s)},i}(fC);function nA(t,i,e){for(var s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];t=Go(t,Xl);var l=Go(t.firestore,Ta),h=iv(l);return z0(l,[("string"==typeof(i=(0,Ls.m9)(i))||i instanceof V_?GT(h,"updateDoc",t._key,i,e,s):cC(h,"updateDoc",t._key,i)).toMutation(t._key,xd.exists(!0))])}function iA(t){for(var i,e,s,a=[],l=1;l<arguments.length;l++)a[l-1]=arguments[l];t=(0,Ls.m9)(t);var h={includeMetadataChanges:!1},v=0;"object"!=typeof a[v]||Hg(a[v])||(h=a[v],v++);var C,O,G,te={includeMetadataChanges:h.includeMetadataChanges};if(Hg(a[v])){var pe=a[v];a[v]=null===(i=pe.next)||void 0===i?void 0:i.bind(pe),a[v+1]=null===(e=pe.error)||void 0===e?void 0:e.bind(pe),a[v+2]=null===(s=pe.complete)||void 0===s?void 0:s.bind(pe)}if(t instanceof Xl)O=Go(t.firestore,Ta),G=Jv(t._key.path),C={next:function(je){a[v]&&a[v](QT(O,t,je))},error:a[v+1],complete:a[v+2]};else{var we=Go(t,Jp);O=Go(we.firestore,Ta),G=we._query;var Le=new av(O);C={next:function(je){a[v]&&a[v](new G_(O,Le,we,je))},error:a[v+1],complete:a[v+2]},uC(t._query)}return function(je,tt,yt,Zt){var tn=this,gn=new pw(Zt),pn=new xT(tt,gn,yt);return je.asyncQueue.enqueueAndForget(function(){return(0,vt.mG)(tn,void 0,void 0,function(){var qn;return(0,vt.Jh)(this,function(si){switch(si.label){case 0:return qn=yT,[4,fb(je)];case 1:return[2,qn.apply(void 0,[si.sent(),pn])]}})})}),function(){gn.Wo(),je.asyncQueue.enqueueAndForget(function(){return(0,vt.mG)(tn,void 0,void 0,function(){var qn;return(0,vt.Jh)(this,function(si){switch(si.label){case 0:return qn=vT,[4,fb(je)];case 1:return[2,qn.apply(void 0,[si.sent(),pn])]}})})})}}(Sd(O),G,te,C)}function z0(t,i){return function(e,s){var a=this,l=new Jd;return e.asyncQueue.enqueueAndForget(function(){return(0,vt.mG)(a,void 0,void 0,function(){var h;return(0,vt.Jh)(this,function(v){switch(v.label){case 0:return h=cw,[4,AD(e)];case 1:return[2,h.apply(void 0,[v.sent(),s,l])]}})})}),l.promise}(Sd(t),i)}function QT(t,i,e){var s=e.docs.get(i._key),a=new av(t);return new Z_(t,a,i._key,s,new gb(e.hasPendingWrites,e.fromCache),i.converter)}var rA=function(t){function i(e,s){var a=this;return(a=t.call(this,e,s)||this)._firestore=e,a}return(0,vt.ZT)(i,t),i.prototype.get=function(e){var s=this,a=q_(e,this._firestore),l=new av(this._firestore);return t.prototype.get.call(this,e).then(function(h){return new Z_(s._firestore,l,a._key,h._document,new gb(!1,!1),a.converter)})},i}(function(){function t(i,e){this._firestore=i,this._transaction=e,this._dataReader=iv(i)}return t.prototype.get=function(i){var e=this,s=q_(i,this._firestore),a=new tA(this._firestore);return this._transaction.lookup([s._key]).then(function(l){if(!l||1!==l.length)return br();var h=l[0];if(h.isFoundDocument())return new mb(e._firestore,a,h.key,h,s.converter);if(h.isNoDocument())return new mb(e._firestore,a,s._key,null,s.converter);throw br()})},t.prototype.set=function(i,e,s){var a=q_(i,this._firestore),l=bw(a.converter,e,s),h=N0(this._dataReader,"Transaction.set",a._key,l,null!==a.converter,s);return this._transaction.set(a._key,h),this},t.prototype.update=function(i,e,s){for(var a=[],l=3;l<arguments.length;l++)a[l-3]=arguments[l];var h,v=q_(i,this._firestore);return h="string"==typeof(e=(0,Ls.m9)(e))||e instanceof V_?GT(this._dataReader,"Transaction.update",v._key,e,s,a):cC(this._dataReader,"Transaction.update",v._key,e),this._transaction.update(v._key,h),this},t.prototype.delete=function(i){var e=q_(i,this._firestore);return this._transaction.delete(e._key),this},t}());function XT(){if("undefined"==typeof Uint8Array)throw new pi(Ln.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function JT(){if("undefined"==typeof atob)throw new pi(Ln.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var KT=function(){function t(i){this._delegate=i}return t.fromBase64String=function(i){return JT(),new t(U_.fromBase64String(i))},t.fromUint8Array=function(i){return XT(),new t(U_.fromUint8Array(i))},t.prototype.toBase64=function(){return JT(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return XT(),this._delegate.toUint8Array()},t.prototype.isEqual=function(i){return this._delegate.isEqual(i._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),oP=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(i,e){return function(s,a){HD(s=Go(s,Ta));var l=Sd(s),h=s._freezeSettings(),v=new hw;return YD(l,v,new IT(v,h.cacheSizeBytes,null==a?void 0:a.forceOwnership))}(i._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(i){return function(e){HD(e=Go(e,Ta));var s=Sd(e),a=e._freezeSettings(),l=new hw;return YD(s,l,new Xm(l,a.cacheSizeBytes))}(i._delegate)},t.prototype.clearIndexedDbPersistence=function(i){return function(e){var s=this;if(e._initialized&&!e._terminated)throw new pi(Ln.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var a=new Jd;return e._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,vt.mG)(s,void 0,void 0,function(){var l;return(0,vt.Jh)(this,function(h){switch(h.label){case 0:return h.trys.push([0,2,,3]),[4,function(v){return(0,vt.mG)(this,void 0,void 0,function(){return(0,vt.Jh)(this,function(O){switch(O.label){case 0:return C0.yt()?[4,C0.delete(v+"main")]:[2,Promise.resolve()];case 1:return O.sent(),[2]}})})}(dT(e._databaseId,e._persistenceKey))];case 1:return h.sent(),a.resolve(),[3,3];case 2:return l=h.sent(),a.reject(l),[3,3];case 3:return[2]}})})}),a.promise}(i._delegate)},t}(),sA=function(){function t(i,e,s){var a=this;this._delegate=e,this.Zc=s,this.INTERNAL={delete:function(){return a.terminate()}},i instanceof iC||(this.tu=i)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(i){var e=this._delegate._getSettings();i.merge||e.host===i.host||qv("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),i.merge&&delete(i=Object.assign(Object.assign({},e),i)).merge,this._delegate._setSettings(i)},t.prototype.useEmulator=function(i,e,s){void 0===s&&(s={}),function(a,l,h,v){void 0===v&&(v={});var C=(a=Go(a,R0))._getSettings();if("firestore.googleapis.com"!==C.host&&C.host!==l&&qv("Host has been set in both settings() and useEmulator(), emulator host will be used"),a._setSettings(Object.assign(Object.assign({},C),{host:l+":"+h,ssl:!1})),v.mockUserToken){var O=(0,Ls.Sg)(v.mockUserToken),G=v.mockUserToken.sub||v.mockUserToken.user_id;if(!G)throw new pi(Ln.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a._credentials=new PD(new FT(O,new Td(G)))}}(this._delegate,i,e,s)},t.prototype.enableNetwork=function(){return function(i){var e=this;return i.asyncQueue.enqueue(function(){return(0,vt.mG)(e,void 0,void 0,function(){var s,a;return(0,vt.Jh)(this,function(l){switch(l.label){case 0:return[4,DD(i)];case 1:return s=l.sent(),[4,pb(i)];case 2:return a=l.sent(),[2,(s.setNetworkEnabled(!0),h=a,v=Ni(h),v.Or.delete(0),Qm(v))]}var h,v})})})}(Sd(Go(this._delegate,Ta)))},t.prototype.disableNetwork=function(){return function(i){var e=this;return i.asyncQueue.enqueue(function(){return(0,vt.mG)(e,void 0,void 0,function(){var s,a;return(0,vt.Jh)(this,function(l){switch(l.label){case 0:return[4,DD(i)];case 1:return s=l.sent(),[4,pb(i)];case 2:return a=l.sent(),[2,(s.setNetworkEnabled(!1),function(h){return(0,vt.mG)(this,void 0,void 0,function(){var v;return(0,vt.Jh)(this,function(C){switch(C.label){case 0:return(v=Ni(h)).Or.add(0),[4,A0(v)];case 1:return C.sent(),v.Br.set("Offline"),[2]}})})}(a))]}})})})}(Sd(Go(this._delegate,Ta)))},t.prototype.enablePersistence=function(i){var e=!1,s=!1;return i&&ND("synchronizeTabs",e=!!i.synchronizeTabs,"experimentalForceOwningTab",s=!!i.experimentalForceOwningTab),e?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,s)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(i){var e=this,s=new Jd;return i.asyncQueue.enqueueAndForget(function(){return(0,vt.mG)(e,void 0,void 0,function(){var a;return(0,vt.Jh)(this,function(l){switch(l.label){case 0:return a=vD,[4,AD(i)];case 1:return[2,a.apply(void 0,[l.sent(),s])]}})})}),s.promise}(Sd(Go(this._delegate,Ta)))},t.prototype.onSnapshotsInSync=function(i){return s=i,function(a,l){var h=this,v=new pw(l);return a.asyncQueue.enqueueAndForget(function(){return(0,vt.mG)(h,void 0,void 0,function(){var C;return(0,vt.Jh)(this,function(O){switch(O.label){case 0:return C=function(G,te){Ni(G).Gr.add(te),te.next()},[4,fb(a)];case 1:return[2,C.apply(void 0,[O.sent(),v])]}})})}),function(){v.Wo(),a.asyncQueue.enqueueAndForget(function(){return(0,vt.mG)(h,void 0,void 0,function(){var C;return(0,vt.Jh)(this,function(O){switch(O.label){case 0:return C=function(G,te){Ni(G).Gr.delete(te)},[4,fb(a)];case 1:return[2,C.apply(void 0,[O.sent(),v])]}})})})}}(Sd(Go(this._delegate,Ta)),Hg(s)?s:{next:s});var s},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new pi(Ln.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(i){try{return new tS(this,HT(this._delegate,i))}catch(e){throw Kp(e,"collection()","Firestore.collection()")}},t.prototype.doc=function(i){try{return new B0(this,aC(this._delegate,i))}catch(e){throw Kp(e,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(i){try{return new yC(this,function(e,s){if(e=Go(e,R0),sC("collectionGroup","collection id",s),s.indexOf("/")>=0)throw new pi(Ln.INVALID_ARGUMENT,"Invalid collection ID '"+s+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Jp(e,null,(a=s,new Pg(Zo.emptyPath(),a)));var a}(this._delegate,i))}catch(e){throw Kp(e,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(i){var s,e=this;return function(l,h){var v=this,C=new Jd;return l.asyncQueue.enqueueAndForget(function(){return(0,vt.mG)(v,void 0,void 0,function(){var O;return(0,vt.Jh)(this,function(G){switch(G.label){case 0:return[4,(te=l,OT(te).then(function(pe){return pe.datastore}))];case 1:return O=G.sent(),new $2(l.asyncQueue,O,h,C).run(),[2]}var te})})}),C.promise}(Sd(s=this._delegate),function(l){return function(s){return i(new aP(e,s))}(new rA(s,l))})},t.prototype.batch=function(){var i=this;return Sd(this._delegate),new lP(new sP(this._delegate,function(e){return z0(i._delegate,e)}))},t.prototype.loadBundle=function(i){throw new pi(Ln.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(i){throw new pi(Ln.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),mC=function(t){function i(e){var s=this;return(s=t.call(this)||this).firestore=e,s}return(0,vt.ZT)(i,t),i.prototype.convertBytes=function(e){return new KT(new U_(e))},i.prototype.convertReference=function(e){var s=this.convertDocumentKey(e,this.firestore._databaseId);return B0.eu(s,this.firestore,null)},i}(fC),aP=function(){function t(i,e){this._firestore=i,this._delegate=e,this._userDataWriter=new mC(i)}return t.prototype.get=function(i){var e=this,s=Y0(i);return this._delegate.get(s).then(function(a){return new gC(e._firestore,new Z_(e._firestore._delegate,e._userDataWriter,a._key,a._document,a.metadata,s.converter))})},t.prototype.set=function(i,e,s){var a=Y0(i);return s?(oC("Transaction.set",s),this._delegate.set(a,e,s)):this._delegate.set(a,e),this},t.prototype.update=function(i,e,s){for(var a,l=[],h=3;h<arguments.length;h++)l[h-3]=arguments[h];var v=Y0(i);return 2===arguments.length?this._delegate.update(v,e):(a=this._delegate).update.apply(a,(0,vt.ev)([v,e,s],l)),this},t.prototype.delete=function(i){var e=Y0(i);return this._delegate.delete(e),this},t}(),lP=function(){function t(i){this._delegate=i}return t.prototype.set=function(i,e,s){var a=Y0(i);return s?(oC("WriteBatch.set",s),this._delegate.set(a,e,s)):this._delegate.set(a,e),this},t.prototype.update=function(i,e,s){for(var a,l=[],h=3;h<arguments.length;h++)l[h-3]=arguments[h];var v=Y0(i);return 2===arguments.length?this._delegate.update(v,e):(a=this._delegate).update.apply(a,(0,vt.ev)([v,e,s],l)),this},t.prototype.delete=function(i){var e=Y0(i);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),eS=function(){function t(i,e,s){this._firestore=i,this._userDataWriter=e,this._delegate=s}return t.prototype.fromFirestore=function(i,e){var s=new _b(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,null);return this._delegate.fromFirestore(new _C(this._firestore,s),null!=e?e:{})},t.prototype.toFirestore=function(i,e){return e?this._delegate.toFirestore(i,e):this._delegate.toFirestore(i)},t.nu=function(i,e){var s=t.su,a=s.get(i);a||(a=new WeakMap,s.set(i,a));var l=a.get(e);return l||(l=new t(i,new mC(i),e),a.set(e,l)),l},t}();eS.su=new WeakMap;var B0=function(){function t(i,e){this.firestore=i,this._delegate=e,this._userDataWriter=new mC(i)}return t.iu=function(i,e,s){if(i.length%2!=0)throw new pi(Ln.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+i.canonicalString()+" has "+i.length);return new t(e,new Xl(e._delegate,s,new Tr(i)))},t.eu=function(i,e,s){return new t(e,new Xl(e._delegate,s,i))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new tS(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(i){try{return new tS(this.firestore,HT(this._delegate,i))}catch(e){throw Kp(e,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(i){return(i=(0,Ls.m9)(i))instanceof Xl&&zD(this._delegate,i)},t.prototype.set=function(i,e){e=oC("DocumentReference.set",e);try{return function(s,a,l){s=Go(s,Xl);var h=Go(s.firestore,Ta),v=bw(s.converter,a,l);return z0(h,[N0(iv(h),"setDoc",s._key,v,null!==s.converter,l).toMutation(s._key,xd.none())])}(this._delegate,i,e)}catch(s){throw Kp(s,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(i,e){for(var s=[],a=2;a<arguments.length;a++)s[a-2]=arguments[a];try{return 1===arguments.length?nA(this._delegate,i):nA.apply(void 0,(0,vt.ev)([this._delegate,i,e],s))}catch(l){throw Kp(l,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return z0(Go((i=this._delegate).firestore,Ta),[new jy(i._key,xd.none())]);var i},t.prototype.onSnapshot=function(){for(var i=this,e=[],s=0;s<arguments.length;s++)e[s]=arguments[s];var a=cP(e),l=uP(e,function(h){return new gC(i.firestore,new Z_(i.firestore._delegate,i._userDataWriter,h._key,h._document,h.metadata,i._delegate.converter))});return iA(this._delegate,a,l)},t.prototype.get=function(i){var e=this;return("cache"===(null==i?void 0:i.source)?function(s){s=Go(s,Xl);var a=Go(s.firestore,Ta),l=Sd(a),h=new av(a);return function(v,C){var O=this,G=new Jd;return v.asyncQueue.enqueueAndForget(function(){return(0,vt.mG)(O,void 0,void 0,function(){var te;return(0,vt.Jh)(this,function(pe){switch(pe.label){case 0:return te=function(we,Le,je){return(0,vt.mG)(this,void 0,void 0,function(){var tt,yt;return(0,vt.Jh)(this,function(Zt){switch(Zt.label){case 0:return Zt.trys.push([0,2,,3]),[4,(tn=we,gn=Le,pn=Ni(tn),pn.persistence.runTransaction("read document","readonly",function(qn){return pn.Mn.mn(qn,gn)}))];case 1:return(yt=Zt.sent()).isFoundDocument()?je.resolve(yt):yt.isNoDocument()?je.resolve(null):je.reject(new pi(Ln.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return tt=Zt.sent(),yt=lw(tt,"Failed to get document '"+Le+" from cache"),je.reject(yt),[3,3];case 3:return[2]}var tn,gn,pn})})},[4,RT(v)];case 1:return[2,te.apply(void 0,[pe.sent(),C,G])]}})})}),G.promise}(l,s._key).then(function(v){return new Z_(a,h,s._key,v,new gb(null!==v&&v.hasLocalMutations,!0),s.converter)})}(this._delegate):"server"===(null==i?void 0:i.source)?function(s){s=Go(s,Xl);var a=Go(s.firestore,Ta);return ID(Sd(a),s._key,{source:"server"}).then(function(l){return QT(a,s,l)})}(this._delegate):function(s){s=Go(s,Xl);var a=Go(s.firestore,Ta);return ID(Sd(a),s._key).then(function(l){return QT(a,s,l)})}(this._delegate)).then(function(s){return new gC(e.firestore,new Z_(e.firestore._delegate,e._userDataWriter,s._key,s._document,s.metadata,e._delegate.converter))})},t.prototype.withConverter=function(i){return new t(this.firestore,this._delegate.withConverter(i?eS.nu(this.firestore,i):null))},t}();function Kp(t,i,e){return t.message=t.message.replace(i,e),t}function cP(t){for(var i=0,e=t;i<e.length;i++){var s=e[i];if("object"==typeof s&&!Hg(s))return s}return{}}function uP(t,i){var e,s,a;return{next:function(l){a.next&&a.next(i(l))},error:null===(e=(a=Hg(t[0])?t[0]:Hg(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===e?void 0:e.bind(a),complete:null===(s=a.complete)||void 0===s?void 0:s.bind(a)}}var gC=function(){function t(i,e){this._firestore=i,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new B0(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(i){return this._delegate.data(i)},t.prototype.get=function(i,e){return this._delegate.get(i,e)},t.prototype.isEqual=function(i){return yw(this._delegate,i._delegate)},t}(),_C=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return(0,vt.ZT)(i,t),i.prototype.data=function(e){return this._delegate.data(e)},i}(gC),yC=function(){function t(i,e){this.firestore=i,this._delegate=e,this._userDataWriter=new mC(i)}return t.prototype.where=function(i,e,s){try{return new t(this.firestore,W_(this._delegate,(h=s,v=e,C=_w("where",a=i),new rP(C,v,h))))}catch(a){throw Kp(a,/(orderBy|where)\(\)/,"Query.$1()")}var a,h,v,C},t.prototype.orderBy=function(i,e){try{return new t(this.firestore,W_(this._delegate,function(s,a){void 0===a&&(a="asc");var l=a,h=_w("orderBy",s);return new XD(h,l)}(i,e)))}catch(s){throw Kp(s,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(i){try{return new t(this.firestore,W_(this._delegate,(BT("limit",e=i),new vw("limit",e,"F"))))}catch(e){throw Kp(e,"limit()","Query.limit()")}var e},t.prototype.limitToLast=function(i){try{return new t(this.firestore,W_(this._delegate,(BT("limitToLast",e=i),new vw("limitToLast",e,"L"))))}catch(e){throw Kp(e,"limitToLast()","Query.limitToLast()")}var e},t.prototype.startAt=function(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];try{return new t(this.firestore,W_(this._delegate,function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return new $T("startAt",s,!0)}.apply(void 0,i)))}catch(s){throw Kp(s,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];try{return new t(this.firestore,W_(this._delegate,function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return new $T("startAfter",s,!1)}.apply(void 0,i)))}catch(s){throw Kp(s,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];try{return new t(this.firestore,W_(this._delegate,function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return new JD("endBefore",s,!0)}.apply(void 0,i)))}catch(s){throw Kp(s,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];try{return new t(this.firestore,W_(this._delegate,function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return new JD("endAt",s,!1)}.apply(void 0,i)))}catch(s){throw Kp(s,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(i){return BD(this._delegate,i._delegate)},t.prototype.get=function(i){var e=this;return("cache"===(null==i?void 0:i.source)?function(s){s=Go(s,Jp);var a=Go(s.firestore,Ta),l=Sd(a),h=new av(a);return function(v,C){var O=this,G=new Jd;return v.asyncQueue.enqueueAndForget(function(){return(0,vt.mG)(O,void 0,void 0,function(){var te;return(0,vt.Jh)(this,function(pe){switch(pe.label){case 0:return te=function(we,Le,je){return(0,vt.mG)(this,void 0,void 0,function(){var tt,yt,Zt,tn,gn;return(0,vt.Jh)(this,function(pn){switch(pn.label){case 0:return pn.trys.push([0,2,,3]),[4,cb(we,Le,!0)];case 1:return gn=pn.sent(),tt=new B2(Le,gn.Bn),yt=tt._o(gn.documents),Zt=tt.applyChanges(yt,!1),je.resolve(Zt.snapshot),[3,3];case 2:return tn=pn.sent(),gn=lw(tn,"Failed to execute query '"+Le+" against cache"),je.reject(gn),[3,3];case 3:return[2]}})})},[4,RT(v)];case 1:return[2,te.apply(void 0,[pe.sent(),C,G])]}})})}),G.promise}(l,s._query).then(function(v){return new G_(a,h,s,v)})}(this._delegate):"server"===(null==i?void 0:i.source)?function(s){s=Go(s,Jp);var a=Go(s.firestore,Ta),l=Sd(a),h=new av(a);return X2(l,s._query,{source:"server"}).then(function(v){return new G_(a,h,s,v)})}(this._delegate):function(s){s=Go(s,Jp);var a=Go(s.firestore,Ta),l=Sd(a),h=new av(a);return uC(s._query),X2(l,s._query).then(function(v){return new G_(a,h,s,v)})}(this._delegate)).then(function(s){return new aA(e.firestore,new G_(e.firestore._delegate,e._userDataWriter,e._delegate,s._snapshot))})},t.prototype.onSnapshot=function(){for(var i=this,e=[],s=0;s<arguments.length;s++)e[s]=arguments[s];var a=cP(e),l=uP(e,function(h){return new aA(i.firestore,new G_(i.firestore._delegate,i._userDataWriter,i._delegate,h._snapshot))});return iA(this._delegate,a,l)},t.prototype.withConverter=function(i){return new t(this.firestore,this._delegate.withConverter(i?eS.nu(this.firestore,i):null))},t}(),pN=function(){function t(i,e){this._firestore=i,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new _C(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),aA=function(){function t(i,e){this._firestore=i,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new yC(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var i=this;return this._delegate.docs.map(function(e){return new _C(i._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(i){var e=this;return this._delegate.docChanges(i).map(function(s){return new pN(e._firestore,s)})},t.prototype.forEach=function(i,e){var s=this;this._delegate.forEach(function(a){i.call(e,new _C(s._firestore,a))})},t.prototype.isEqual=function(i){return yw(this._delegate,i._delegate)},t}(),tS=function(t){function i(e,s){var a=this;return(a=t.call(this,e,s)||this).firestore=e,a._delegate=s,a}return(0,vt.ZT)(i,t),Object.defineProperty(i.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new B0(this.firestore,e):null},enumerable:!1,configurable:!0}),i.prototype.doc=function(e){try{return new B0(this.firestore,void 0===e?aC(this._delegate):aC(this._delegate,e))}catch(s){throw Kp(s,"doc()","CollectionReference.doc()")}},i.prototype.add=function(e){var a,l,h,v,C,s=this;return(a=this._delegate,l=e,h=Go(a.firestore,Ta),v=aC(a),C=bw(a.converter,l),z0(h,[N0(iv(a.firestore),"addDoc",v._key,C,null!==a.converter,{}).toMutation(v._key,xd.exists(!1))]).then(function(){return v})).then(function(a){return new B0(s.firestore,a)})},i.prototype.isEqual=function(e){return zD(this._delegate,e._delegate)},i.prototype.withConverter=function(e){return new i(this.firestore,this._delegate.withConverter(e?eS.nu(this.firestore,e):null))},i}(yC);function Y0(t){return Go(t,Xl)}var fN=function(){function t(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];this._delegate=new(V_.bind.apply(V_,(0,vt.ev)([void 0],i)))}return t.documentId=function(){return new t(hm.keyField().canonicalString())},t.prototype.isEqual=function(i){return(i=(0,Ls.m9)(i))instanceof V_&&this._delegate._internalPath.isEqual(i._internalPath)},t}(),mN=function(){function t(i){this._delegate=i}return t.serverTimestamp=function(){var i=new ZD("serverTimestamp");return i._methodName="FieldValue.serverTimestamp",new t(i)},t.delete=function(){var i=new lC("deleteField");return i._methodName="FieldValue.delete",new t(i)},t.arrayUnion=function(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];var s=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return new GD("arrayUnion",a)}.apply(void 0,i);return s._methodName="FieldValue.arrayUnion",new t(s)},t.arrayRemove=function(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];var s=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return new eP("arrayRemove",a)}.apply(void 0,i);return s._methodName="FieldValue.arrayRemove",new t(s)},t.increment=function(i){var e=new WD("increment",i);return e._methodName="FieldValue.increment",new t(e)},t.prototype.isEqual=function(i){return this._delegate.isEqual(i._delegate)},t}(),dP=Ae(6034),hP={Firestore:sA,GeoPoint:gw,Timestamp:Nh,Blob:KT,Transaction:aP,WriteBatch:lP,DocumentReference:B0,DocumentSnapshot:gC,Query:yC,QueryDocumentSnapshot:_C,QuerySnapshot:aA,CollectionReference:tS,FieldPath:fN,FieldValue:mN,setLogLevel:function(t){dm.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};function pP(t,i){return function(t,i=$s.z){return new Rr.y(e=>{let s;return null!=i?i.schedule(()=>{s=t.onSnapshot({includeMetadataChanges:!0},e)}):s=t.onSnapshot({includeMetadataChanges:!0},e),()=>{null!=s&&s()}})}(t,i)}function nS(t,i){return pP(t,i).pipe((0,Ri.U)(e=>({payload:e,type:"query"})))}function vC(t,i){return nS(t,i).pipe(Tn(void 0),vf(),(0,Ri.U)(([e,s])=>{const a=s.payload.docChanges(),l=a.map(h=>({type:h.type,payload:h}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((h,v)=>{const C=a.find(G=>G.doc.ref.isEqual(h.ref)),O=null==e?void 0:e.payload.docs.find(G=>G.ref.isEqual(h.ref));C&&JSON.stringify(C.doc.metadata)===JSON.stringify(h.metadata)||!C&&O&&JSON.stringify(O.metadata)===JSON.stringify(h.metadata)||l.push({type:"modified",payload:{oldIndex:v,newIndex:v,type:"modified",doc:h}})}),l}))}function mP(t,i,e){return vC(t,e).pipe(el((s,a)=>function(t,i,e){return i.forEach(s=>{e.indexOf(s.type)>-1&&(t=function(t,i){switch(i.type){case"added":if(!t[i.newIndex]||!t[i.newIndex].doc.ref.isEqual(i.doc.ref))return lA(t,i.newIndex,0,i);break;case"modified":if(null==t[i.oldIndex]||t[i.oldIndex].doc.ref.isEqual(i.doc.ref)){if(i.oldIndex!==i.newIndex){const e=t.slice();return e.splice(i.oldIndex,1),e.splice(i.newIndex,0,i),e}return lA(t,i.newIndex,1,i)}break;case"removed":if(t[i.oldIndex]&&t[i.oldIndex].doc.ref.isEqual(i.doc.ref))return lA(t,i.oldIndex,1)}return t}(t,s))}),t}(s,a.map(l=>l.payload),i),[]),cu(),(0,Ri.U)(s=>s.map(a=>({type:a.type,payload:a}))))}function lA(t,i,e,...s){const a=t.slice();return a.splice(i,e,...s),a}function cA(t){return(!t||0===t.length)&&(t=["added","removed","modified"]),t}!function(t){t.INTERNAL.registerComponent(new dP.wA("firestore",function(s){return i=s.getProvider("app").getImmediate(),e=s.getProvider("auth-internal"),new sA(i,new Ta(i,e),new oP);var i,e},"PUBLIC").setServiceProps(Object.assign({},hP))),t.registerVersion("@firebase/firestore","2.3.10")}(Vm.Z);class gP{constructor(i,e,s){this.ref=i,this.query=e,this.afs=s}stateChanges(i){let e=vC(this.query,this.afs.schedulers.outsideAngular);return i&&i.length>0&&(e=e.pipe((0,Ri.U)(s=>s.filter(a=>i.indexOf(a.type)>-1)))),e.pipe(Tn(void 0),vf(),T(([s,a])=>a.length>0||!s),(0,Ri.U)(([s,a])=>a),this.afs.keepUnstableUntilFirst)}auditTrail(i){return this.stateChanges(i).pipe(el((e,s)=>[...e,...s],[]))}snapshotChanges(i){const e=cA(i);return mP(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(i={}){return nS(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ri.U)(e=>e.payload.docs.map(s=>i.idField?Object.assign(Object.assign({},s.data()),{[i.idField]:s.id}):s.data())),this.afs.keepUnstableUntilFirst)}get(i){return(0,Vs.D)(this.query.get(i)).pipe((0,Jo.QV)(this.afs.schedulers.insideAngular))}add(i){return this.ref.add(i)}doc(i){return new uA(this.ref.doc(i),this.afs)}}class uA{constructor(i,e){this.ref=i,this.afs=e}set(i,e){return this.ref.set(i,e)}update(i){return this.ref.update(i)}delete(){return this.ref.delete()}collection(i,e){const s=this.ref.collection(i),{ref:a,query:l}=xC(s,e);return new gP(a,l,this.afs)}snapshotChanges(){return function(t,i){return pP(t,i).pipe(Tn(void 0),vf(),(0,Ri.U)(([e,s])=>s.exists?(null==e?void 0:e.exists)?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(i={}){return this.snapshotChanges().pipe((0,Ri.U)(({payload:e})=>i.idField?Object.assign(Object.assign({},e.data()),{[i.idField]:e.id}):e.data()))}get(i){return(0,Vs.D)(this.ref.get(i)).pipe((0,Jo.QV)(this.afs.schedulers.insideAngular))}}class iS{constructor(i,e){this.query=i,this.afs=e}stateChanges(i){return i&&0!==i.length?vC(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ri.U)(e=>e.filter(s=>i.indexOf(s.type)>-1)),T(e=>e.length>0),this.afs.keepUnstableUntilFirst):vC(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(i){return this.stateChanges(i).pipe(el((e,s)=>[...e,...s],[]))}snapshotChanges(i){const e=cA(i);return mP(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(i={}){return nS(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ri.U)(s=>s.payload.docs.map(a=>i.idField?Object.assign({[i.idField]:a.id},a.data()):a.data())),this.afs.keepUnstableUntilFirst)}get(i){return(0,Vs.D)(this.query.get(i)).pipe((0,Jo.QV)(this.afs.schedulers.insideAngular))}}const lv=new o.OlP("angularfire2.enableFirestorePersistence"),bC=new o.OlP("angularfire2.firestore.persistenceSettings"),dA=new o.OlP("angularfire2.firestore.settings"),hA=new o.OlP("angularfire2.firestore.use-emulator");function xC(t,i=(e=>e)){return{query:i(t),ref:t}}let Sa=(()=>{class t{constructor(e,s,a,l,h,v,C,O,G){this.schedulers=new wr.HU(v),this.keepUnstableUntilFirst=(0,wr.ss)(this.schedulers);const te=(0,wr.on)(e,v,s);!Xn.Z.auth&&G&&(0,wr.yq)();const pe=O;[this.firestore,this.persistenceEnabled$]=(0,wr.sI)(`${te.name}.firestore`,"AngularFirestore",te,()=>{const we=v.runOutsideAngular(()=>te.firestore());if(l&&we.settings(l),pe&&we.useEmulator(...pe),a&&!Pd(h)){const Le=()=>{try{return(0,Vs.D)(we.enablePersistence(C||void 0).then(()=>!0,()=>!1))}catch(je){return"undefined"!=typeof console&&console.warn(je),(0,Ai.of)(!1)}};return[we,v.runOutsideAngular(Le)]}return[we,(0,Ai.of)(!1)]},[l,pe,a])}collection(e,s){let a;a="string"==typeof e?this.firestore.collection(e):e;const{ref:l,query:h}=xC(a,s),v=this.schedulers.ngZone.run(()=>l);return new gP(v,h,this)}collectionGroup(e,s){const a=s||(h=>h),l=this.firestore.collectionGroup(e);return new iS(a(l),this)}doc(e){let s;s="string"==typeof e?this.firestore.doc(e):e;const a=this.schedulers.ngZone.run(()=>s);return new uA(a,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(wr.Dh),o.LFG(wr.xv,8),o.LFG(lv,8),o.LFG(dA,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(bC,8),o.LFG(hA,8),o.LFG(kn,8))},t.\u0275prov=o.Yz7({factory:function(){return new t(o.LFG(wr.Dh),o.LFG(wr.xv,8),o.LFG(lv,8),o.LFG(dA,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(bC,8),o.LFG(hA,8),o.LFG(kn,8))},token:t,providedIn:"any"}),t})(),pA=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:lv,useValue:!0},{provide:bC,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[Sa]}),t})(),H0=(()=>{class t{constructor(e,s,a){this.fauth=e,this.router=s,this.af=a,this.fauth.authState.subscribe(l=>{let h=null==l?void 0:l.uid;this.username$=this.af.collection("Supplier").doc(h).valueChanges(),this.username$.subscribe(v=>{console.log(v)})})}ngOnInit(){}logout(){this.fauth.signOut(),this.router.navigateByUrl("")}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(ui),o.Y36(Eo),o.Y36(Sa))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-suppliernavbarpage"]],decls:32,vars:5,consts:[[1,"navbar","navbar-expand-lg","navbar-light","shadow-sm"],[1,"container-fluid"],["src","https://i.ibb.co/v1fQ3JN/Whats-App-Image-2021-08-20-at-11-40-42-AM.jpg","alt",""],["routerLink","/supplierpage",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNavDropdown","aria-controls","navbarNavDropdown","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNavDropdown",1,"collapse","navbar-collapse"],[1,"navbar-nav"],[1,"nav-item"],["routerLinkActive","active","aria-current","page","routerLink","/supplierpage",1,"nav-link","active"],["routerLinkActive","active","routerLink","/supplierproduct",1,"nav-link"],[1,"nav-item","dropdown"],["href","#","id","navbarDropdownMenuLink","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],["aria-labelledby","navbarDropdownMenuLink",1,"dropdown-menu"],["routerLink","/supplierprofile",1,"dropdown-item"],["routerLink","/supplierorder",1,"dropdown-item"],["routerLink","/suppliertracking",1,"dropdown-item"],[1,"dropdown-item",3,"click"]],template:function(e,s){if(1&e&&(o.TgZ(0,"nav",0),o.TgZ(1,"div",1),o._UZ(2,"img",2),o.TgZ(3,"a",3),o._uU(4,"UMP SCMS"),o.qZA(),o.TgZ(5,"button",4),o._UZ(6,"span",5),o.qZA(),o.TgZ(7,"div",6),o.TgZ(8,"ul",7),o.TgZ(9,"li",8),o.TgZ(10,"a",9),o._uU(11,"Home"),o.qZA(),o.qZA(),o.TgZ(12,"li",8),o.TgZ(13,"a",10),o._uU(14,"Manage Product"),o.qZA(),o.qZA(),o.TgZ(15,"li",11),o.TgZ(16,"a",12),o._uU(17),o.ALo(18,"async"),o.qZA(),o.TgZ(19,"ul",13),o.TgZ(20,"li"),o.TgZ(21,"a",14),o._uU(22,"My Profile"),o.qZA(),o.qZA(),o.TgZ(23,"li"),o.TgZ(24,"a",15),o._uU(25,"Manage Order"),o.qZA(),o.qZA(),o.TgZ(26,"li"),o.TgZ(27,"a",16),o._uU(28,"Manage Tracking"),o.qZA(),o.qZA(),o.TgZ(29,"li"),o.TgZ(30,"a",17),o.NdJ("click",function(){return s.logout()}),o._uU(31,"Logout"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e){let a;o.Udp("background","#557A95"),o.xp6(17),o.hij(" ",null==(a=o.lcZ(18,3,s.username$))?null:a.compname," ")}},directives:[Gp,xg],pipes:[Nl],styles:["img[_ngcontent-%COMP%]{height:50px;width:50px;border-radius:50%;margin-right:10px}"]}),t})(),xN=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-supplier-home-page"]],decls:1,vars:0,template:function(e,s){1&e&&o._UZ(0,"app-suppliernavbarpage")},directives:[H0],styles:[""]}),t})();function rS(t,i,e,s,a,l,h){try{var v=t[l](h),C=v.value}catch(O){return void e(O)}v.done?i(C):Promise.resolve(C).then(s,a)}function Qs(t){return function(){var i=this,e=arguments;return new Promise(function(s,a){var l=t.apply(i,e);function h(C){rS(l,s,a,h,v,"next",C)}function v(C){rS(l,s,a,h,v,"throw",C)}h(void 0)})}}let $_=(()=>{class t{constructor(e,s,a,l){this.fauth=e,this.route=s,this.router=a,this.firestore=l,this.tempo="",this.user$=this.fauth.authState,this.user$.subscribe(h=>{this.uid=null==h?void 0:h.uid,console.log("User Logged in "+this.uid)}),e.setPersistence("local").then(h=>{console.log("local session")})}login(e,s){var a=this;return Qs(function*(){return new Promise(l=>{a.fauth.signInWithEmailAndPassword(e,s).then(h=>{var v,C;a.uid=null===(v=h.user)||void 0===v?void 0:v.uid,a.firestore.collection("Admin").doc(a.uid).valueChanges().subscribe(O=>{O&&a.router.navigateByUrl("/adminpage")}),a.firestore.collection("Student").doc(a.uid).valueChanges().subscribe(O=>{O&&a.router.navigateByUrl("/studentpage")}),a.firestore.collection("Supplier").doc(a.uid).valueChanges().subscribe(O=>{O&&a.router.navigateByUrl("/supplierpage")}),(null===(C=h.user)||void 0===C?void 0:C.emailVerified)||(a.emailVerified=!1),l(!0)}).catch(h=>{"auth/wrong-password"===h.code&&(console.log("wrong password"),a.passwordVerified=!1,a.passwordVerified||(a.passwordVerified=!1)),"auth/user-not-found"===h.code&&(a.userVerified=!1),l(!1)})})})()}register(e,s,a,l,h,v,C,O,G){var te=this;return Qs(function*(){return new Promise((pe,we)=>{te.fauth.createUserWithEmailAndPassword(e,s).then(Le=>{var je,tt;console.log(Le),pe({validate:!0}),te.fauth.currentUser.then(yt=>{null==yt||yt.sendEmailVerification()}).then(yt=>{console.log(yt)}),"1"===a?(console.log("student"),te.firestore.collection("Student").doc(null===(je=Le.user)||void 0===je?void 0:je.uid).set({name:l,email:e,dob:h,phone:v,gender:C,matrixid:O,isStudent:!1})):"2"===a&&(console.log("supplier"),te.firestore.collection("Supplier").doc(null===(tt=Le.user)||void 0===tt?void 0:tt.uid).set({name:l,email:e,dob:h,phone:v,gender:C,compname:G,isSupplier:!1}))}).catch(Le=>{console.log(Le),"auth/email-already-in-use"===Le.code&&pe({validate:!1})})})})()}getAdminStatus(){var e=this;return Qs(function*(){return new Promise(s=>{e.admin$=e.firestore.collection("Admin").doc(e.uid).valueChanges(),e.admin$.subscribe(a=>{s(null==a?void 0:a.isAdmin)})})})()}getStudentStatus(){var e=this;return Qs(function*(){return new Promise(s=>{e.student$=e.firestore.collection("Student").doc(e.uid).valueChanges(),e.student$.subscribe(a=>{s(null==a?void 0:a.isStudent)})})})()}getSupplierStatus(){var e=this;return Qs(function*(){return new Promise(s=>{e.supplier$=e.firestore.collection("Supplier").doc(e.uid).valueChanges(),e.supplier$.subscribe(a=>{s(null==a?void 0:a.isSupplier)})})})()}verificationemail(){this.fauth.user.subscribe(e=>{null==e||e.sendEmailVerification(),console.log("Verification email sent")},e=>{console.log(e)})}checkExistedEmail(e){var s=this;return Qs(function*(){return new Promise(a=>{s.fauth.fetchSignInMethodsForEmail(e).then(l=>{console.log(l),s.emailExistedStatus=!0,a(!0)},l=>{console.log(l)})})})()}forgotPassword(e){var s=this;return Qs(function*(){return new Promise(a=>{s.fauth.sendPasswordResetEmail(e).then(l=>{console.log("success"),a(!0)},l=>{console.log(l.code),"auth/user-not-found"===l.code&&a(!1)})})})()}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(ui),o.LFG(dc),o.LFG(Eo),o.LFG(Sa))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),xw=(()=>{class t{constructor(e,s){this.auth=e,this.router=s}canActivate(e,s){var a=this;return Qs(function*(){let l=yield a.auth.getAdminStatus();return console.log(l),0!=l||(a.router.navigateByUrl(""),!1)})()}}return t.\u0275fac=function(e){return new(e||t)(o.LFG($_),o.LFG(Eo))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var sS=Ae(6738);class _P{}class fA{}class cv{constructor(i){this.normalizedNames=new Map,this.lazyUpdate=null,i?this.lazyInit="string"==typeof i?()=>{this.headers=new Map,i.split("\n").forEach(e=>{const s=e.indexOf(":");if(s>0){const a=e.slice(0,s),l=a.toLowerCase(),h=e.slice(s+1).trim();this.maybeSetNormalizedName(a,l),this.headers.has(l)?this.headers.get(l).push(h):this.headers.set(l,[h])}})}:()=>{this.headers=new Map,Object.keys(i).forEach(e=>{let s=i[e];const a=e.toLowerCase();"string"==typeof s&&(s=[s]),s.length>0&&(this.headers.set(a,s),this.maybeSetNormalizedName(e,a))})}:this.headers=new Map}has(i){return this.init(),this.headers.has(i.toLowerCase())}get(i){this.init();const e=this.headers.get(i.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(i){return this.init(),this.headers.get(i.toLowerCase())||null}append(i,e){return this.clone({name:i,value:e,op:"a"})}set(i,e){return this.clone({name:i,value:e,op:"s"})}delete(i,e){return this.clone({name:i,value:e,op:"d"})}maybeSetNormalizedName(i,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,i)}init(){this.lazyInit&&(this.lazyInit instanceof cv?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(i=>this.applyUpdate(i)),this.lazyUpdate=null))}copyFrom(i){i.init(),Array.from(i.headers.keys()).forEach(e=>{this.headers.set(e,i.headers.get(e)),this.normalizedNames.set(e,i.normalizedNames.get(e))})}clone(i){const e=new cv;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof cv?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([i]),e}applyUpdate(i){const e=i.name.toLowerCase();switch(i.op){case"a":case"s":let s=i.value;if("string"==typeof s&&(s=[s]),0===s.length)return;this.maybeSetNormalizedName(i.name,e);const a=("a"===i.op?this.headers.get(e):void 0)||[];a.push(...s),this.headers.set(e,a);break;case"d":const l=i.value;if(l){let h=this.headers.get(e);if(!h)return;h=h.filter(v=>-1===l.indexOf(v)),0===h.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,h)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(i){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>i(this.normalizedNames.get(e),this.headers.get(e)))}}class wC{encodeKey(i){return vP(i)}encodeValue(i){return vP(i)}decodeKey(i){return decodeURIComponent(i)}decodeValue(i){return decodeURIComponent(i)}}function vP(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function bP(t){return`${t}`}class Vg{constructor(i={}){if(this.updates=null,this.cloneFrom=null,this.encoder=i.encoder||new wC,i.fromString){if(i.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,i){const e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(a=>{const l=a.indexOf("="),[h,v]=-1==l?[i.decodeKey(a),""]:[i.decodeKey(a.slice(0,l)),i.decodeValue(a.slice(l+1))],C=e.get(h)||[];C.push(v),e.set(h,C)}),e}(i.fromString,this.encoder)}else i.fromObject?(this.map=new Map,Object.keys(i.fromObject).forEach(e=>{const s=i.fromObject[e];this.map.set(e,Array.isArray(s)?s:[s])})):this.map=null}has(i){return this.init(),this.map.has(i)}get(i){this.init();const e=this.map.get(i);return e?e[0]:null}getAll(i){return this.init(),this.map.get(i)||null}keys(){return this.init(),Array.from(this.map.keys())}append(i,e){return this.clone({param:i,value:e,op:"a"})}appendAll(i){const e=[];return Object.keys(i).forEach(s=>{const a=i[s];Array.isArray(a)?a.forEach(l=>{e.push({param:s,value:l,op:"a"})}):e.push({param:s,value:a,op:"a"})}),this.clone(e)}set(i,e){return this.clone({param:i,value:e,op:"s"})}delete(i,e){return this.clone({param:i,value:e,op:"d"})}toString(){return this.init(),this.keys().map(i=>{const e=this.encoder.encodeKey(i);return this.map.get(i).map(s=>e+"="+this.encoder.encodeValue(s)).join("&")}).filter(i=>""!==i).join("&")}clone(i){const e=new Vg({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(i),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(i=>this.map.set(i,this.cloneFrom.map.get(i))),this.updates.forEach(i=>{switch(i.op){case"a":case"s":const e=("a"===i.op?this.map.get(i.param):void 0)||[];e.push(bP(i.value)),this.map.set(i.param,e);break;case"d":if(void 0===i.value){this.map.delete(i.param);break}{let s=this.map.get(i.param)||[];const a=s.indexOf(bP(i.value));-1!==a&&s.splice(a,1),s.length>0?this.map.set(i.param,s):this.map.delete(i.param)}}}),this.cloneFrom=this.updates=null)}}class CN{constructor(){this.map=new Map}set(i,e){return this.map.set(i,e),this}get(i){return this.map.has(i)||this.map.set(i,i.defaultValue()),this.map.get(i)}delete(i){return this.map.delete(i),this}keys(){return this.map.keys()}}function mA(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function xP(t){return"undefined"!=typeof Blob&&t instanceof Blob}function oS(t){return"undefined"!=typeof FormData&&t instanceof FormData}class CC{constructor(i,e,s,a){let l;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=i.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||a?(this.body=void 0!==s?s:null,l=a):l=s,l&&(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.context&&(this.context=l.context),l.params&&(this.params=l.params)),this.headers||(this.headers=new cv),this.context||(this.context=new CN),this.params){const h=this.params.toString();if(0===h.length)this.urlWithParams=e;else{const v=e.indexOf("?");this.urlWithParams=e+(-1===v?"?":v<e.length-1?"&":"")+h}}else this.params=new Vg,this.urlWithParams=e}serializeBody(){return null===this.body?null:mA(this.body)||xP(this.body)||oS(this.body)||function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Vg?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||oS(this.body)?null:xP(this.body)?this.body.type||null:mA(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Vg?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(i={}){var e;const s=i.method||this.method,a=i.url||this.url,l=i.responseType||this.responseType,h=void 0!==i.body?i.body:this.body,v=void 0!==i.withCredentials?i.withCredentials:this.withCredentials,C=void 0!==i.reportProgress?i.reportProgress:this.reportProgress;let O=i.headers||this.headers,G=i.params||this.params;const te=null!==(e=i.context)&&void 0!==e?e:this.context;return void 0!==i.setHeaders&&(O=Object.keys(i.setHeaders).reduce((pe,we)=>pe.set(we,i.setHeaders[we]),O)),i.setParams&&(G=Object.keys(i.setParams).reduce((pe,we)=>pe.set(we,i.setParams[we]),G)),new CC(s,a,h,{params:G,headers:O,context:te,reportProgress:C,responseType:l,withCredentials:v})}}var Wu=(()=>((Wu=Wu||{})[Wu.Sent=0]="Sent",Wu[Wu.UploadProgress=1]="UploadProgress",Wu[Wu.ResponseHeader=2]="ResponseHeader",Wu[Wu.DownloadProgress=3]="DownloadProgress",Wu[Wu.Response=4]="Response",Wu[Wu.User=5]="User",Wu))();class aS{constructor(i,e=200,s="OK"){this.headers=i.headers||new cv,this.status=void 0!==i.status?i.status:e,this.statusText=i.statusText||s,this.url=i.url||null,this.ok=this.status>=200&&this.status<300}}class yb extends aS{constructor(i={}){super(i),this.type=Wu.ResponseHeader}clone(i={}){return new yb({headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}class MC extends aS{constructor(i={}){super(i),this.type=Wu.Response,this.body=void 0!==i.body?i.body:null}clone(i={}){return new MC({body:void 0!==i.body?i.body:this.body,headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}class gA extends aS{constructor(i){super(i,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${i.url||"(unknown url)"}`:`Http failure response for ${i.url||"(unknown url)"}: ${i.status} ${i.statusText}`,this.error=i.error||null}}function lS(t,i){return{body:i,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let Ug=(()=>{class t{constructor(e){this.handler=e}request(e,s,a={}){let l;if(e instanceof CC)l=e;else{let C,O;C=a.headers instanceof cv?a.headers:new cv(a.headers),a.params&&(O=a.params instanceof Vg?a.params:new Vg({fromObject:a.params})),l=new CC(e,s,void 0!==a.body?a.body:null,{headers:C,context:a.context,params:O,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials})}const h=(0,Ai.of)(l).pipe(ea(C=>this.handler.handle(C)));if(e instanceof CC||"events"===a.observe)return h;const v=h.pipe(T(C=>C instanceof MC));switch(a.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return v.pipe((0,Ri.U)(C=>{if(null!==C.body&&!(C.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return C.body}));case"blob":return v.pipe((0,Ri.U)(C=>{if(null!==C.body&&!(C.body instanceof Blob))throw new Error("Response is not a Blob.");return C.body}));case"text":return v.pipe((0,Ri.U)(C=>{if(null!==C.body&&"string"!=typeof C.body)throw new Error("Response is not a string.");return C.body}));case"json":default:return v.pipe((0,Ri.U)(C=>C.body))}case"response":return v;default:throw new Error(`Unreachable: unhandled observe type ${a.observe}}`)}}delete(e,s={}){return this.request("DELETE",e,s)}get(e,s={}){return this.request("GET",e,s)}head(e,s={}){return this.request("HEAD",e,s)}jsonp(e,s){return this.request("JSONP",e,{params:(new Vg).append(s,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,s={}){return this.request("OPTIONS",e,s)}patch(e,s,a={}){return this.request("PATCH",e,lS(a,s))}post(e,s,a={}){return this.request("POST",e,lS(a,s))}put(e,s,a={}){return this.request("PUT",e,lS(a,s))}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(_P))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();class _A{constructor(i,e){this.next=i,this.interceptor=e}handle(i){return this.interceptor.intercept(i,this.next)}}const bp=new o.OlP("HTTP_INTERCEPTORS");let CP=(()=>{class t{intercept(e,s){return s.handle(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();const bA=/^\)\]\}',?\n/;let wA=(()=>{class t{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Rr.y(s=>{const a=this.xhrFactory.build();if(a.open(e.method,e.urlWithParams),e.withCredentials&&(a.withCredentials=!0),e.headers.forEach((we,Le)=>a.setRequestHeader(we,Le.join(","))),e.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const we=e.detectContentTypeHeader();null!==we&&a.setRequestHeader("Content-Type",we)}if(e.responseType){const we=e.responseType.toLowerCase();a.responseType="json"!==we?we:"text"}const l=e.serializeBody();let h=null;const v=()=>{if(null!==h)return h;const we=1223===a.status?204:a.status,Le=a.statusText||"OK",je=new cv(a.getAllResponseHeaders()),tt=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(a)||e.url;return h=new yb({headers:je,status:we,statusText:Le,url:tt}),h},C=()=>{let{headers:we,status:Le,statusText:je,url:tt}=v(),yt=null;204!==Le&&(yt=void 0===a.response?a.responseText:a.response),0===Le&&(Le=yt?200:0);let Zt=Le>=200&&Le<300;if("json"===e.responseType&&"string"==typeof yt){const tn=yt;yt=yt.replace(bA,"");try{yt=""!==yt?JSON.parse(yt):null}catch(gn){yt=tn,Zt&&(Zt=!1,yt={error:gn,text:yt})}}Zt?(s.next(new MC({body:yt,headers:we,status:Le,statusText:je,url:tt||void 0})),s.complete()):s.error(new gA({error:yt,headers:we,status:Le,statusText:je,url:tt||void 0}))},O=we=>{const{url:Le}=v(),je=new gA({error:we,status:a.status||0,statusText:a.statusText||"Unknown Error",url:Le||void 0});s.error(je)};let G=!1;const te=we=>{G||(s.next(v()),G=!0);let Le={type:Wu.DownloadProgress,loaded:we.loaded};we.lengthComputable&&(Le.total=we.total),"text"===e.responseType&&!!a.responseText&&(Le.partialText=a.responseText),s.next(Le)},pe=we=>{let Le={type:Wu.UploadProgress,loaded:we.loaded};we.lengthComputable&&(Le.total=we.total),s.next(Le)};return a.addEventListener("load",C),a.addEventListener("error",O),a.addEventListener("timeout",O),a.addEventListener("abort",O),e.reportProgress&&(a.addEventListener("progress",te),null!==l&&a.upload&&a.upload.addEventListener("progress",pe)),a.send(l),s.next({type:Wu.Sent}),()=>{a.removeEventListener("error",O),a.removeEventListener("abort",O),a.removeEventListener("load",C),a.removeEventListener("timeout",O),e.reportProgress&&(a.removeEventListener("progress",te),null!==l&&a.upload&&a.upload.removeEventListener("progress",pe)),a.readyState!==a.DONE&&a.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Vc))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();const cS=new o.OlP("XSRF_COOKIE_NAME"),ww=new o.OlP("XSRF_HEADER_NAME");class uS{}let CA=(()=>{class t{constructor(e,s,a){this.doc=e,this.platform=s,this.cookieName=a,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=X(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Ee),o.LFG(o.Lbi),o.LFG(cS))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})(),Cw=(()=>{class t{constructor(e,s){this.tokenService=e,this.headerName=s}intercept(e,s){const a=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||a.startsWith("http://")||a.startsWith("https://"))return s.handle(e);const l=this.tokenService.getToken();return null!==l&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,l)})),s.handle(e)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(uS),o.LFG(ww))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})(),SP=(()=>{class t{constructor(e,s){this.backend=e,this.injector=s,this.chain=null}handle(e){if(null===this.chain){const s=this.injector.get(bp,[]);this.chain=s.reduceRight((a,l)=>new _A(a,l),this.backend)}return this.chain.handle(e)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(fA),o.LFG(o.zs3))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})(),DN=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:Cw,useClass:CP}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:cS,useValue:e.cookieName}:[],e.headerName?{provide:ww,useValue:e.headerName}:[]]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[Cw,{provide:bp,useExisting:Cw,multi:!0},{provide:uS,useClass:CA},{provide:cS,useValue:"XSRF-TOKEN"},{provide:ww,useValue:"X-XSRF-TOKEN"}]}),t})(),MA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[Ug,{provide:_P,useClass:SP},wA,{provide:fA,useExisting:wA}],imports:[[DN.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})(),Zg=(()=>{class t{constructor(e,s,a){this.fauth=e,this.router=s,this.af=a,this.fauth.authState.subscribe(l=>{let h=null==l?void 0:l.uid;this.username$=this.af.collection("Admin").doc(h).valueChanges()})}ngOnInit(){}logout(){this.fauth.signOut(),localStorage.removeItem("admin"),this.router.navigateByUrl("")}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(ui),o.Y36(Eo),o.Y36(Sa))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-adminnavbarpage"]],decls:35,vars:5,consts:[[1,"navbar","navbar-expand-lg","navbar-light","shadow-sm"],[1,"container-fluid"],["src","https://i.ibb.co/v1fQ3JN/Whats-App-Image-2021-08-20-at-11-40-42-AM.jpg","alt",""],["routerLink","/adminpage",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNavDropdown","aria-controls","navbarNavDropdown","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNavDropdown",1,"collapse","navbar-collapse"],[1,"navbar-nav"],[1,"nav-item"],["routerLinkActive","active","aria-current","page","routerLink","/adminpage",1,"nav-link","active"],["routerLinkActive","active","routerLink","/adminmanageinv",1,"nav-link"],[1,"nav-item","dropdown"],["href","#","id","navbarDropdownMenuLink","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],["aria-labelledby","navbarDropdownMenuLink",1,"dropdown-menu"],["routerLink","/adminprofile",1,"dropdown-item"],["routerLink","/adminpermissionpage",1,"dropdown-item"],["routerLink","/adminmenupage",1,"dropdown-item"],["routerLink","/admintrackingpage",1,"dropdown-item"],[1,"dropdown-item",3,"click"]],template:function(e,s){if(1&e&&(o.TgZ(0,"nav",0),o.TgZ(1,"div",1),o._UZ(2,"img",2),o.TgZ(3,"a",3),o._uU(4,"UMP SCMS"),o.qZA(),o.TgZ(5,"button",4),o._UZ(6,"span",5),o.qZA(),o.TgZ(7,"div",6),o.TgZ(8,"ul",7),o.TgZ(9,"li",8),o.TgZ(10,"a",9),o._uU(11,"Home"),o.qZA(),o.qZA(),o.TgZ(12,"li",8),o.TgZ(13,"a",10),o._uU(14,"Manage Inventory"),o.qZA(),o.qZA(),o.TgZ(15,"li",11),o.TgZ(16,"a",12),o._uU(17),o.ALo(18,"async"),o.qZA(),o.TgZ(19,"ul",13),o.TgZ(20,"li"),o.TgZ(21,"a",14),o._uU(22,"My Profile"),o.qZA(),o.qZA(),o.TgZ(23,"li"),o.TgZ(24,"a",15),o._uU(25,"Manage Permission"),o.qZA(),o.qZA(),o.TgZ(26,"li"),o.TgZ(27,"a",16),o._uU(28,"Manage Menu"),o.qZA(),o.qZA(),o.TgZ(29,"li"),o.TgZ(30,"a",17),o._uU(31,"Manage Tracking"),o.qZA(),o.qZA(),o.TgZ(32,"li"),o.TgZ(33,"a",18),o.NdJ("click",function(){return s.logout()}),o._uU(34,"Logout"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e){let a;o.Udp("background","#b8ab97"),o.xp6(17),o.hij(" ",null==(a=o.lcZ(18,3,s.username$))?null:a.username," ")}},directives:[Gp,xg],pipes:[Nl],styles:["img[_ngcontent-%COMP%]{height:50px;width:50px;border-radius:50%;margin-right:10px}"]}),t})();class TA{}const Q_="*";function oa(t,i){return{type:7,name:t,definitions:i,options:{}}}function qr(t,i=null){return{type:4,styles:i,timings:t}}function dS(t,i=null){return{type:2,steps:t,options:i}}function oi(t){return{type:6,styles:t,offset:null}}function bo(t,i,e){return{type:0,name:t,styles:i,options:e}}function X_(t){return{type:5,steps:t}}function Ir(t,i,e=null){return{type:1,expr:t,animation:i,options:e}}function uv(t,i=null){return{type:8,animation:t,options:i}}function TC(t=null){return{type:9,options:t}}function dv(t,i=null){return{type:10,animation:t,options:i}}function hv(t,i,e=null){return{type:11,selector:t,animation:i,options:e}}function pS(t){Promise.resolve(null).then(t)}class V0{constructor(i=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=i+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}onStart(i){this._onStartFns.push(i)}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){pS(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(i=>i()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(i){this._position=this.totalTime?i*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(i){const e="start"==i?this._onStartFns:this._onDoneFns;e.forEach(s=>s()),e.length=0}}class SA{constructor(i){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=i;let e=0,s=0,a=0;const l=this.players.length;0==l?pS(()=>this._onFinish()):this.players.forEach(h=>{h.onDone(()=>{++e==l&&this._onFinish()}),h.onDestroy(()=>{++s==l&&this._onDestroy()}),h.onStart(()=>{++a==l&&this._onStart()})}),this.totalTime=this.players.reduce((h,v)=>Math.max(h,v.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this.players.forEach(i=>i.init())}onStart(i){this._onStartFns.push(i)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(i=>i()),this._onStartFns=[])}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(i=>i.play())}pause(){this.players.forEach(i=>i.pause())}restart(){this.players.forEach(i=>i.restart())}finish(){this._onFinish(),this.players.forEach(i=>i.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(i=>i.destroy()),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this.players.forEach(i=>i.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(i){const e=i*this.totalTime;this.players.forEach(s=>{const a=s.totalTime?Math.min(1,e/s.totalTime):1;s.setPosition(a)})}getPosition(){const i=this.players.reduce((e,s)=>null===e||s.totalTime>e.totalTime?s:e,null);return null!=i?i.getPosition():0}beforeDestroy(){this.players.forEach(i=>{i.beforeDestroy&&i.beforeDestroy()})}triggerCallback(i){const e="start"==i?this._onStartFns:this._onDoneFns;e.forEach(s=>s()),e.length=0}}let cn=(()=>{class t{static addClass(e,s){e.classList?e.classList.add(s):e.className+=" "+s}static addMultipleClasses(e,s){if(e.classList){let a=s.trim().split(" ");for(let l=0;l<a.length;l++)e.classList.add(a[l])}else{let a=s.split(" ");for(let l=0;l<a.length;l++)e.className+=" "+a[l]}}static removeClass(e,s){e.classList?e.classList.remove(s):e.className=e.className.replace(new RegExp("(^|\\b)"+s.split(" ").join("|")+"(\\b|$)","gi")," ")}static hasClass(e,s){return e.classList?e.classList.contains(s):new RegExp("(^| )"+s+"( |$)","gi").test(e.className)}static siblings(e){return Array.prototype.filter.call(e.parentNode.children,function(s){return s!==e})}static find(e,s){return Array.from(e.querySelectorAll(s))}static findSingle(e,s){return e?e.querySelector(s):null}static index(e){let s=e.parentNode.childNodes,a=0;for(var l=0;l<s.length;l++){if(s[l]==e)return a;1==s[l].nodeType&&a++}return-1}static indexWithinGroup(e,s){let a=e.parentNode?e.parentNode.childNodes:[],l=0;for(var h=0;h<a.length;h++){if(a[h]==e)return l;a[h].attributes&&a[h].attributes[s]&&1==a[h].nodeType&&l++}return-1}static relativePosition(e,s){let a=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e);const l=s.offsetHeight,h=s.getBoundingClientRect(),v=this.getViewport();let C,O;h.top+l+a.height>v.height?(C=-1*a.height,e.style.transformOrigin="bottom",h.top+C<0&&(C=-1*h.top)):(C=l,e.style.transformOrigin="top"),O=a.width>v.width?-1*h.left:h.left+a.width>v.width?-1*(h.left+a.width-v.width):0,e.style.top=C+"px",e.style.left=O+"px"}static absolutePosition(e,s){let we,Le,a=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),l=a.height,h=a.width,v=s.offsetHeight,C=s.offsetWidth,O=s.getBoundingClientRect(),G=this.getWindowScrollTop(),te=this.getWindowScrollLeft(),pe=this.getViewport();O.top+v+l>pe.height?(we=O.top+G-l,e.style.transformOrigin="bottom",we<0&&(we=G)):(we=v+O.top+G,e.style.transformOrigin="top"),Le=O.left+h>pe.width?Math.max(0,O.left+te+C-h):O.left+te,e.style.top=we+"px",e.style.left=Le+"px"}static getParents(e,s=[]){return null===e.parentNode?s:this.getParents(e.parentNode,s.concat([e.parentNode]))}static getScrollableParents(e){let s=[];if(e){let a=this.getParents(e);const l=/(auto|scroll)/,h=v=>{let C=window.getComputedStyle(v,null);return l.test(C.getPropertyValue("overflow"))||l.test(C.getPropertyValue("overflowX"))||l.test(C.getPropertyValue("overflowY"))};for(let v of a){let C=1===v.nodeType&&v.dataset.scrollselectors;if(C){let O=C.split(",");for(let G of O){let te=this.findSingle(v,G);te&&h(te)&&s.push(te)}}9!==v.nodeType&&h(v)&&s.push(v)}}return s}static getHiddenElementOuterHeight(e){e.style.visibility="hidden",e.style.display="block";let s=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",s}static getHiddenElementOuterWidth(e){e.style.visibility="hidden",e.style.display="block";let s=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",s}static getHiddenElementDimensions(e){let s={};return e.style.visibility="hidden",e.style.display="block",s.width=e.offsetWidth,s.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",s}static scrollInView(e,s){let a=getComputedStyle(e).getPropertyValue("borderTopWidth"),l=a?parseFloat(a):0,h=getComputedStyle(e).getPropertyValue("paddingTop"),v=h?parseFloat(h):0,C=e.getBoundingClientRect(),G=s.getBoundingClientRect().top+document.body.scrollTop-(C.top+document.body.scrollTop)-l-v,te=e.scrollTop,pe=e.clientHeight,we=this.getOuterHeight(s);G<0?e.scrollTop=te+G:G+we>pe&&(e.scrollTop=te+G-pe+we)}static fadeIn(e,s){e.style.opacity=0;let a=+new Date,l=0,h=function(){l=+e.style.opacity.replace(",",".")+((new Date).getTime()-a)/s,e.style.opacity=l,a=+new Date,+l<1&&(window.requestAnimationFrame&&requestAnimationFrame(h)||setTimeout(h,16))};h()}static fadeOut(e,s){var a=1,v=50/s;let C=setInterval(()=>{(a-=v)<=0&&(a=0,clearInterval(C)),e.style.opacity=a},50)}static getWindowScrollTop(){let e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}static getWindowScrollLeft(){let e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}static matches(e,s){var a=Element.prototype;return(a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.msMatchesSelector||function(h){return-1!==[].indexOf.call(document.querySelectorAll(h),this)}).call(e,s)}static getOuterWidth(e,s){let a=e.offsetWidth;if(s){let l=getComputedStyle(e);a+=parseFloat(l.marginLeft)+parseFloat(l.marginRight)}return a}static getHorizontalPadding(e){let s=getComputedStyle(e);return parseFloat(s.paddingLeft)+parseFloat(s.paddingRight)}static getHorizontalMargin(e){let s=getComputedStyle(e);return parseFloat(s.marginLeft)+parseFloat(s.marginRight)}static innerWidth(e){let s=e.offsetWidth,a=getComputedStyle(e);return s+=parseFloat(a.paddingLeft)+parseFloat(a.paddingRight),s}static width(e){let s=e.offsetWidth,a=getComputedStyle(e);return s-=parseFloat(a.paddingLeft)+parseFloat(a.paddingRight),s}static getInnerHeight(e){let s=e.offsetHeight,a=getComputedStyle(e);return s+=parseFloat(a.paddingTop)+parseFloat(a.paddingBottom),s}static getOuterHeight(e,s){let a=e.offsetHeight;if(s){let l=getComputedStyle(e);a+=parseFloat(l.marginTop)+parseFloat(l.marginBottom)}return a}static getHeight(e){let s=e.offsetHeight,a=getComputedStyle(e);return s-=parseFloat(a.paddingTop)+parseFloat(a.paddingBottom)+parseFloat(a.borderTopWidth)+parseFloat(a.borderBottomWidth),s}static getWidth(e){let s=e.offsetWidth,a=getComputedStyle(e);return s-=parseFloat(a.paddingLeft)+parseFloat(a.paddingRight)+parseFloat(a.borderLeftWidth)+parseFloat(a.borderRightWidth),s}static getViewport(){let e=window,s=document,a=s.documentElement,l=s.getElementsByTagName("body")[0];return{width:e.innerWidth||a.clientWidth||l.clientWidth,height:e.innerHeight||a.clientHeight||l.clientHeight}}static getOffset(e){var s=e.getBoundingClientRect();return{top:s.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:s.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(e,s){let a=e.parentNode;if(!a)throw"Can't replace element";return a.replaceChild(s,e)}static getUserAgent(){return navigator.userAgent}static isIE(){var e=window.navigator.userAgent;return e.indexOf("MSIE ")>0||(e.indexOf("Trident/")>0?(e.indexOf("rv:"),!0):e.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static appendChild(e,s){if(this.isElement(s))s.appendChild(e);else{if(!s.el||!s.el.nativeElement)throw"Cannot append "+s+" to "+e;s.el.nativeElement.appendChild(e)}}static removeChild(e,s){if(this.isElement(s))s.removeChild(e);else{if(!s.el||!s.el.nativeElement)throw"Cannot remove "+e+" from "+s;s.el.nativeElement.removeChild(e)}}static removeElement(e){"remove"in Element.prototype?e.remove():e.parentNode.removeChild(e)}static isElement(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}static calculateScrollbarWidth(e){if(e){let s=getComputedStyle(e);return e.offsetWidth-e.clientWidth-parseFloat(s.borderLeftWidth)-parseFloat(s.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let s=document.createElement("div");s.className="p-scrollbar-measure",document.body.appendChild(s);let a=s.offsetWidth-s.clientWidth;return document.body.removeChild(s),this.calculatedScrollbarWidth=a,a}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let e=document.createElement("div");e.className="p-scrollbar-measure",document.body.appendChild(e);let s=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),this.calculatedScrollbarWidth=s,s}static invokeElementMethod(e,s,a){e[s].apply(e,a)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(e){}}static getBrowser(){if(!this.browser){let e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let e=navigator.userAgent.toLowerCase(),s=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:s[1]||"",version:s[2]||"0"}}static isInteger(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}static isHidden(e){return null===e.offsetParent}static getFocusableElements(e){let s=t.find(e,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'),a=[];for(let l of s)"none"!=getComputedStyle(l).display&&"hidden"!=getComputedStyle(l).visibility&&a.push(l);return a}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}}return t.zindex=1e3,t.calculatedScrollbarWidth=null,t.calculatedScrollbarHeight=null,t})();class SC{constructor(i,e=(()=>{})){this.element=i,this.listener=e}bindScrollListener(){this.scrollableParents=cn.getScrollableParents(this.element);for(let i=0;i<this.scrollableParents.length;i++)this.scrollableParents[i].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let i=0;i<this.scrollableParents.length;i++)this.scrollableParents[i].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}class gr{static equals(i,e,s){return s?this.resolveFieldData(i,s)===this.resolveFieldData(e,s):this.equalsByValue(i,e)}static equalsByValue(i,e){if(i===e)return!0;if(i&&e&&"object"==typeof i&&"object"==typeof e){var l,h,v,s=Array.isArray(i),a=Array.isArray(e);if(s&&a){if((h=i.length)!=e.length)return!1;for(l=h;0!=l--;)if(!this.equalsByValue(i[l],e[l]))return!1;return!0}if(s!=a)return!1;var C=i instanceof Date,O=e instanceof Date;if(C!=O)return!1;if(C&&O)return i.getTime()==e.getTime();var G=i instanceof RegExp,te=e instanceof RegExp;if(G!=te)return!1;if(G&&te)return i.toString()==e.toString();var pe=Object.keys(i);if((h=pe.length)!==Object.keys(e).length)return!1;for(l=h;0!=l--;)if(!Object.prototype.hasOwnProperty.call(e,pe[l]))return!1;for(l=h;0!=l--;)if(!this.equalsByValue(i[v=pe[l]],e[v]))return!1;return!0}return i!=i&&e!=e}static resolveFieldData(i,e){if(i&&e){if(this.isFunction(e))return e(i);if(-1==e.indexOf("."))return i[e];{let s=e.split("."),a=i;for(let l=0,h=s.length;l<h;++l){if(null==a)return null;a=a[s[l]]}return a}}return null}static isFunction(i){return!!(i&&i.constructor&&i.call&&i.apply)}static reorderArray(i,e,s){i&&e!==s&&(s>=i.length&&(s%=i.length,e%=i.length),i.splice(s,0,i.splice(e,1)[0]))}static insertIntoOrderedArray(i,e,s,a){if(s.length>0){let l=!1;for(let h=0;h<s.length;h++)if(this.findIndexInList(s[h],a)>e){s.splice(h,0,i),l=!0;break}l||s.push(i)}else s.push(i)}static findIndexInList(i,e){let s=-1;if(e)for(let a=0;a<e.length;a++)if(e[a]==i){s=a;break}return s}static removeAccents(i){return i&&i.search(/[\xC0-\xFF]/g)>-1&&(i=i.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),i}}var fS=0;function kC(){return"pr_id_"+ ++fS}var ru=function(){let t=[];const a=l=>l&&parseInt(l.style.zIndex,10)||0;return{get:a,set:(l,h,v)=>{h&&(h.style.zIndex=String(((l,h)=>{let v=t.length>0?t[t.length-1]:{key:l,value:h},C=v.value+(v.key===l?0:h)+1;return t.push({key:l,value:C}),C})(l,v)))},clear:l=>{l&&((l=>{t=t.filter(h=>h.value!==l)})(a(l)),l.style.zIndex="")},getCurrent:()=>t.length>0?t[t.length-1].value:0}}();const EA=["*"];let kd=(()=>{class t{}return t.STARTS_WITH="startsWith",t.CONTAINS="contains",t.NOT_CONTAINS="notContains",t.ENDS_WITH="endsWith",t.EQUALS="equals",t.NOT_EQUALS="notEquals",t.IN="in",t.LESS_THAN="lt",t.LESS_THAN_OR_EQUAL_TO="lte",t.GREATER_THAN="gt",t.GREATER_THAN_OR_EQUAL_TO="gte",t.BETWEEN="between",t.IS="is",t.IS_NOT="isNot",t.BEFORE="before",t.AFTER="after",t.DATE_IS="dateIs",t.DATE_IS_NOT="dateIsNot",t.DATE_BEFORE="dateBefore",t.DATE_AFTER="dateAfter",t})(),_m=(()=>{class t{constructor(){this.ripple=!1,this.filterMatchModeOptions={text:[kd.STARTS_WITH,kd.CONTAINS,kd.NOT_CONTAINS,kd.ENDS_WITH,kd.EQUALS,kd.NOT_EQUALS],numeric:[kd.EQUALS,kd.NOT_EQUALS,kd.LESS_THAN,kd.LESS_THAN_OR_EQUAL_TO,kd.GREATER_THAN,kd.GREATER_THAN_OR_EQUAL_TO],date:[kd.DATE_IS,kd.DATE_IS_NOT,kd.DATE_BEFORE,kd.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new li.xQ,this.translationObserver=this.translationSource.asObservable()}getTranslation(e){return this.translation[e]}setTranslation(e){this.translation=Object.assign(Object.assign({},this.translation),e),this.translationSource.next(this.translation)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),qu=(()=>{class t{}return t.STARTS_WITH="startsWith",t.CONTAINS="contains",t.NOT_CONTAINS="notContains",t.ENDS_WITH="endsWith",t.EQUALS="equals",t.NOT_EQUALS="notEquals",t.NO_FILTER="noFilter",t.LT="lt",t.LTE="lte",t.GT="gt",t.GTE="gte",t.IS="is",t.IS_NOT="isNot",t.BEFORE="before",t.AFTER="after",t.CLEAR="clear",t.APPLY="apply",t.MATCH_ALL="matchAll",t.MATCH_ANY="matchAny",t.ADD_RULE="addRule",t.REMOVE_RULE="removeRule",t.ACCEPT="accept",t.REJECT="reject",t.CHOOSE="choose",t.UPLOAD="upload",t.CANCEL="cancel",t.DAY_NAMES="dayNames",t.DAY_NAMES_SHORT="dayNamesShort",t.DAY_NAMES_MIN="dayNamesMin",t.MONTH_NAMES="monthNames",t.MONTH_NAMES_SHORT="monthNamesShort",t.TODAY="today",t.WEEK_HEADER="weekHeader",t.WEAK="weak",t.MEDIUM="medium",t.STRONG="strong",t.PASSWORD_PROMPT="passwordPrompt",t.EMPTY_MESSAGE="emptyMessage",t.EMPTY_FILTER_MESSAGE="emptyFilterMessage",t})();var pv=(()=>(function(t){t[t.ACCEPT=0]="ACCEPT",t[t.REJECT=1]="REJECT",t[t.CANCEL=2]="CANCEL"}(pv||(pv={})),pv))();let Jm=(()=>{class t{constructor(){this.requireConfirmationSource=new li.xQ,this.acceptConfirmationSource=new li.xQ,this.requireConfirmation$=this.requireConfirmationSource.asObservable(),this.accept=this.acceptConfirmationSource.asObservable()}confirm(e){return this.requireConfirmationSource.next(e),this}close(){return this.requireConfirmationSource.next(null),this}onAccept(){this.acceptConfirmationSource.next()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})(),$u=(()=>{class t{constructor(){this.filters={startsWith:(e,s,a)=>{if(null==s||""===s.trim())return!0;if(null==e)return!1;let l=gr.removeAccents(s.toString()).toLocaleLowerCase(a);return gr.removeAccents(e.toString()).toLocaleLowerCase(a).slice(0,l.length)===l},contains:(e,s,a)=>{if(null==s||"string"==typeof s&&""===s.trim())return!0;if(null==e)return!1;let l=gr.removeAccents(s.toString()).toLocaleLowerCase(a);return-1!==gr.removeAccents(e.toString()).toLocaleLowerCase(a).indexOf(l)},notContains:(e,s,a)=>{if(null==s||"string"==typeof s&&""===s.trim())return!0;if(null==e)return!1;let l=gr.removeAccents(s.toString()).toLocaleLowerCase(a);return-1===gr.removeAccents(e.toString()).toLocaleLowerCase(a).indexOf(l)},endsWith:(e,s,a)=>{if(null==s||""===s.trim())return!0;if(null==e)return!1;let l=gr.removeAccents(s.toString()).toLocaleLowerCase(a),h=gr.removeAccents(e.toString()).toLocaleLowerCase(a);return-1!==h.indexOf(l,h.length-l.length)},equals:(e,s,a)=>null==s||"string"==typeof s&&""===s.trim()||null!=e&&(e.getTime&&s.getTime?e.getTime()===s.getTime():gr.removeAccents(e.toString()).toLocaleLowerCase(a)==gr.removeAccents(s.toString()).toLocaleLowerCase(a)),notEquals:(e,s,a)=>!(null==s||"string"==typeof s&&""===s.trim()||null!=e&&(e.getTime&&s.getTime?e.getTime()===s.getTime():gr.removeAccents(e.toString()).toLocaleLowerCase(a)==gr.removeAccents(s.toString()).toLocaleLowerCase(a))),in:(e,s)=>{if(null==s||0===s.length)return!0;for(let a=0;a<s.length;a++)if(gr.equals(e,s[a]))return!0;return!1},between:(e,s)=>null==s||null==s[0]||null==s[1]||null!=e&&(e.getTime?s[0].getTime()<=e.getTime()&&e.getTime()<=s[1].getTime():s[0]<=e&&e<=s[1]),lt:(e,s,a)=>null==s||null!=e&&(e.getTime&&s.getTime?e.getTime()<s.getTime():e<s),lte:(e,s,a)=>null==s||null!=e&&(e.getTime&&s.getTime?e.getTime()<=s.getTime():e<=s),gt:(e,s,a)=>null==s||null!=e&&(e.getTime&&s.getTime?e.getTime()>s.getTime():e>s),gte:(e,s,a)=>null==s||null!=e&&(e.getTime&&s.getTime?e.getTime()>=s.getTime():e>=s),is:(e,s,a)=>this.filters.equals(e,s,a),isNot:(e,s,a)=>this.filters.notEquals(e,s,a),before:(e,s,a)=>this.filters.lt(e,s,a),after:(e,s,a)=>this.filters.gt(e,s,a),dateIs:(e,s)=>null==s||null!=e&&e.toDateString()===s.toDateString(),dateIsNot:(e,s)=>null==s||null!=e&&e.toDateString()!==s.toDateString(),dateBefore:(e,s)=>null==s||null!=e&&e.getTime()<s.getTime(),dateAfter:(e,s)=>null==s||null!=e&&e.getTime()>s.getTime()}}filter(e,s,a,l,h){let v=[];if(e)for(let C of e)for(let O of s){let G=gr.resolveFieldData(C,O);if(this.filters[l](G,a,h)){v.push(C);break}}return v}register(e,s){this.filters[e]=s}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),vb=(()=>{class t{constructor(){this.messageSource=new li.xQ,this.clearSource=new li.xQ,this.messageObserver=this.messageSource.asObservable(),this.clearObserver=this.clearSource.asObservable()}add(e){e&&this.messageSource.next(e)}addAll(e){e&&e.length&&this.messageSource.next(e)}clear(e){this.clearSource.next(e||null)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})(),U0=(()=>{class t{constructor(){this.clickSource=new li.xQ,this.clickObservable=this.clickSource.asObservable()}add(e){e&&this.clickSource.next(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ym=(()=>{class t{}return t.ALIGN_CENTER="pi pi-align-center",t.ALIGN_JUSTIFY="pi pi-align-justify",t.ALIGN_LEFT="pi pi-align-left",t.ALIGN_RIGHT="pi pi-align-right",t.AMAZON="pi pi-amazon",t.ANDROID="pi pi-android",t.ANGLE_DOUBLE_DOWN="pi pi-angle-double-down",t.ANGLE_DOUBLE_LEFT="pi pi-angle-double-left",t.ANGLE_DOUBLE_RIGHT="pi pi-angle-double-right",t.ANGLE_DOUBLE_UP="pi pi-angle-double-up",t.ANGLE_DOWN="pi pi-angle-down",t.ANGLE_LEFT="pi pi-angle-left",t.ANGLE_RIGHT="pi pi-angle-right",t.ANGLE_UP="pi pi-angle-up",t.APPLE="pi pi-apple",t.ARROW_CIRCLE_DOWN="pi pi-arrow-circle-down",t.ARROW_CIRCLE_LEFT="pi pi-arrow-circle-left",t.ARROW_CIRCLE_RIGHT="pi pi-arrow-circle-right",t.ARROW_CIRCLE_UP="pi pi-arrow-circle-up",t.ARROW_DOWN="pi pi-arrow-down",t.ARROW_LEFT="pi pi-arrow-left",t.ARROW_RIGHT="pi pi-arrow-right",t.ARROW_UP="pi pi-arrow-up",t.BACKWARD="pi pi-backward",t.BAN="pi pi-ban",t.BARS="pi pi-bars",t.BELL="pi pi-bell",t.BOOK="pi pi-book",t.BOOKMARK="pi pi-bookmark",t.BRIEFCASE="pi pi-briefcase",t.CALENDAR_MINUS="pi pi-calendar-minus",t.CALENDAR_PLUS="pi pi-calendar-plus",t.CALENDAR_TIMES="pi pi-calendar-times",t.CALENDAR="pi pi-calendar",t.CAMERA="pi pi-camera",t.CARET_DOWN="pi pi-caret-down",t.CARET_LEFT="pi pi-caret-left",t.CARET_RIGHT="pi pi-caret-right",t.CARET_UP="pi pi-caret-up",t.CHART_BAR="pi pi-chart-bar",t.CHART_LINE="pi pi-chart-line",t.CHECK_CIRCLE="pi pi-check-circle",t.CHECK_SQUARE="pi pi-check-square",t.CHECK="pi pi-check",t.CHEVRON_CIRCLE_DOWN="pi pi-chevron-circle-down",t.CHEVRON_CIRCLE_LEFT="pi pi-chevron-circle-left",t.CHEVRON_CIRCLE_RIGHT="pi pi-chevron-circle-right",t.CHEVRON_CIRCLE_UP="pi pi-chevron-circle-up",t.CHEVRON_DOWN="pi pi-chevron-down",t.CHEVRON_LEFT="pi pi-chevron-left",t.CHEVRON_RIGHT="pi pi-chevron-right",t.CHEVRON_UP="pi pi-chevron-up",t.CLOCK="pi pi-clock",t.CLONE="pi pi-clone",t.CLOUD_DOWNLOAD="pi pi-cloud-download",t.CLOUD_UPLOAD="pi pi-cloud-upload",t.CLOUD="pi pi-cloud",t.COG="pi pi-cog",t.COMMENT="pi pi-comment",t.COMMENTS="pi pi-comments",t.COMPASS="pi pi-compass",t.COPY="pi pi-copy",t.CREDIT_CARD="pi pi-credit-card",t.DESKTOP="pi pi-desktop",t.DISCORD="pi pi-discord",t.DIRECTIONS_ALT="pi pi-directions-alt",t.DIRECTIONS="pi pi-directions",t.DOLLAR="pi pi-dollar",t.DOWNLOAD="pi pi-download",t.EJECT="pi pi-eject",t.ELLIPSIS_H="pi pi-ellipsis-h",t.ELLIPSIS_V="pi pi-ellipsis-v",t.ENVELOPE="pi pi-envelope",t.EXCLAMATION_CIRCLE="pi pi-exclamation-circle",t.EXCLAMATION_TRIANGLE="pi pi-exclamation-triangle ",t.EXTERNAL_LINK="pi pi-external-link",t.EYE_SLASH="pi pi-eye-slash",t.EYE="pi pi-eye",t.FACEBOOK="pi pi-facebook",t.FAST_BACKWARD="pi pi-fast-backward",t.FAST_FORWARD="pi pi-fast-forward",t.FILE_EXCEL="pi pi-file-excel",t.FILE_O="pi pi-file-o",t.FILE_PDF="pi pi-file-pdf",t.FILE="pi pi-file",t.FILTER="pi pi-filter",t.FILTER_SLASH="pi pi-filter-slash",t.FLAG="pi pi-flag",t.FOLDER_OPEN="pi pi-folder-open",t.FOLDER="pi pi-folder",t.FORWARD="pi pi-forward",t.GITHUB="pi pi-github",t.GLOBE="pi pi-globe",t.GOOGLE="pi pi-google",t.HEART="pi pi-heart",t.HOME="pi pi-home",t.ID_CARD="pi pi-id-card",t.IMAGE="pi pi-image",t.IMAGES="pi pi-images",t.INBOX="pi pi-inbox",t.INFO_CIRCLE="pi pi-info-circle",t.INFO="pi pi-info",t.KEY="pi pi-key",t.LINK="pi pi-link",t.LIST="pi pi-list",t.LOCK_OPEN="pi pi-lock-open",t.LOCK="pi pi-lock",t.MAP="pi pi-map",t.MAP_MARKER="pi pi-map-marker",t.MICROSOFT="pi pi-microsoft",t.MINUS_CIRCLE="pi pi-minus-circle",t.MINUS="pi pi-minus",t.MOBILE="pi pi-mobile",t.MONEY_BILL="pi pi-money-bill",t.MOON="pi pi-moon",t.PALETTE="pi pi-palette",t.PAPERCLIP="pi pi-paperclip",t.PAUSE="pi pi-pause",t.PAYPAL="pi pi-paypal",t.PENCIL="pi pi-pencil",t.PERCENTAGE="pi pi-percentage",t.PHONE="pi pi-phone",t.PLAY="pi pi-play",t.PLUS_CIRCLE="pi pi-plus-circle",t.PLUS="pi pi-plus",t.POWER_OFF="pi pi-power-off",t.PRINT="pi pi-print",t.QUESTION_CIRCLE="pi pi-question-circle",t.QUESTION="pi pi-question",t.RADIO_OFF="pi pi-radio-off",t.RADIO_ON="pi pi-radio-on",t.REFRESH="pi pi-refresh",t.REPLAY="pi pi-replay",t.REPLY="pi pi-reply",t.SAVE="pi pi-save",t.SEARCH_MINUS="pi pi-search-minus",t.SEARCH_PLUS="pi pi-search-plus",t.SEARCH="pi pi-search",t.SEND="pi pi-send",t.SHARE_ALT="pi pi-share-alt",t.SHIELD="pi pi-shield",t.SHOPPING_CART="pi pi-shopping-cart",t.SIGN_IN="pi pi-sign-in",t.SIGN_OUT="pi pi-sign-out",t.SITEMAP="pi pi-sitemap",t.SLACK="pi pi-slack",t.SLIDERS_H="pi pi-sliders-h",t.SLIDERS_V="pi pi-sliders-v",t.SORT_ALPHA_ALT_DOWN="pi pi-sort-alpha-alt-down",t.SORT_ALPHA_ALT_UP="pi pi-sort-alpha-alt-up",t.SORT_ALPHA_DOWN="pi pi-sort-alpha-down",t.SORT_ALPHA_UP="pi pi-sort-alpha-up",t.SORT_ALT="pi pi-sort-alt",t.SORT_AMOUNT_DOWN_ALT="pi pi-sort-amount-down-alt",t.SORT_AMOUNT_DOWN="pi pi-sort-amount-down",t.SORT_AMOUNT_UP_ALT="pi pi-sort-amount-up-alt",t.SORT_AMOUNT_UP="pi pi-sort-amount-up",t.SORT_DOWN="pi pi-sort-down",t.SORT_NUMERIC_ALT_DOWN="pi pi-sort-numeric-alt-down",t.SORT_NUMERIC_ALT_UP="pi pi-sort-numeric-alt-up",t.SORT_NUMERIC_DOWN="pi pi-sort-numeric-down",t.SORT_NUMERIC_UP="pi pi-sort-numeric-up",t.SORT_UP="pi pi-sort-up",t.SORT="pi pi-sort",t.SPINNER="pi pi-spinner",t.STAR_O="pi pi-star-o",t.STAR="pi pi-star",t.STEP_BACKWARD_ALT="pi pi-step-backward-alt",t.STEP_BACKWARD="pi pi-step-backward",t.STEP_FORWARD_ALT="pi pi-step-forward-alt",t.STEP_FORWARD="pi pi-step-forward",t.SUN="pi pi-sun",t.TABLE="pi pi-table",t.TABLET="pi pi-tablet",t.TAG="pi pi-tag",t.TAGS="pi pi-tags",t.TH_LARGE="pi pi-th-large",t.THUMBS_DOWN="pi pi-thumbs-down",t.THUMBS_UP="pi pi-thumbs-up",t.TICKET="pi pi-ticket",t.TIMES_CIRCLE="pi pi-times-circle",t.TIMES="pi pi-times",t.TRASH="pi pi-trash",t.TWITTER="pi pi-twitter",t.UNDO="pi pi-undo",t.UNLOCK="pi pi-unlock",t.UPLOAD="pi pi-upload",t.USER_EDIT="pi pi-user-edit",t.USER_MINUS="pi pi-user-minus",t.USER_PLUS="pi pi-user-plus",t.USER="pi pi-user",t.USERS="pi pi-users",t.VIDEO="pi pi-video",t.VIMEO="pi pi-vimeo",t.VOLUME_DOWN="pi pi-volume-down",t.VOLUME_OFF="pi pi-volume-off",t.VOLUME_UP="pi pi-volume-up",t.YOUTUBE="pi pi-youtube",t.WALLET="pi pi-wallet",t.WIFI="pi pi-wifi",t.WINDOW_MAXIMIZE="pi pi-window-maximize",t.WINDOW_MINIMIZE="pi pi-window-minimize",t})(),Mw=(()=>{class t{}return t.AND="and",t.OR="or",t})(),mS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-header"]],ngContentSelectors:EA,decls:1,vars:0,template:function(e,s){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2}),t})(),EC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-footer"]],ngContentSelectors:EA,decls:1,vars:0,template:function(e,s){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2}),t})(),Rl=(()=>{class t{constructor(e){this.template=e}getType(){return this.name}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.Rgc))},t.\u0275dir=o.lG2({type:t,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),t})(),Ha=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Ji]]}),t})(),gS=(()=>{class t{constructor(e){this.el=e}onkeydown(e){if(!0!==this.pFocusTrapDisabled){e.preventDefault();let s=cn.getFocusableElements(this.el.nativeElement);if(s&&s.length>0)if(s[0].ownerDocument.activeElement){let a=s.indexOf(s[0].ownerDocument.activeElement);e.shiftKey?-1==a||0===a?s[s.length-1].focus():s[a-1].focus():-1==a||a===s.length-1?s[0].focus():s[a+1].focus()}else s[0].focus()}}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq))},t.\u0275dir=o.lG2({type:t,selectors:[["","pFocusTrap",""]],hostBindings:function(e,s){1&e&&o.NdJ("keydown.tab",function(l){return s.onkeydown(l)})("keydown.shift.tab",function(l){return s.onkeydown(l)})},inputs:{pFocusTrapDisabled:"pFocusTrapDisabled"}}),t})(),_S=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Ji]]}),t})(),Km=(()=>{class t{constructor(e,s,a){this.el=e,this.zone=s,this.config=a}ngAfterViewInit(){this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.onMouseDown.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener)})}onMouseDown(e){let s=this.getInk();if(!s||"none"===getComputedStyle(s,null).display)return;if(cn.removeClass(s,"p-ink-active"),!cn.getHeight(s)&&!cn.getWidth(s)){let v=Math.max(cn.getOuterWidth(this.el.nativeElement),cn.getOuterHeight(this.el.nativeElement));s.style.height=v+"px",s.style.width=v+"px"}let a=cn.getOffset(this.el.nativeElement),l=e.pageX-a.left+document.body.scrollTop-cn.getWidth(s)/2,h=e.pageY-a.top+document.body.scrollLeft-cn.getHeight(s)/2;s.style.top=h+"px",s.style.left=l+"px",cn.addClass(s,"p-ink-active")}getInk(){for(let e=0;e<this.el.nativeElement.children.length;e++)if(-1!==this.el.nativeElement.children[e].className.indexOf("p-ink"))return this.el.nativeElement.children[e];return null}resetInk(){let e=this.getInk();e&&cn.removeClass(e,"p-ink-active")}onAnimationEnd(e){cn.removeClass(e.currentTarget,"p-ink-active")}create(){let e=document.createElement("span");e.className="p-ink",this.el.nativeElement.appendChild(e),this.animationListener=this.onAnimationEnd.bind(this),e.addEventListener("animationend",this.animationListener)}remove(){let e=this.getInk();e&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),e.removeEventListener("animationend",this.animationListener),cn.removeElement(e))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(_m,8))},t.\u0275dir=o.lG2({type:t,selectors:[["","pRipple",""]],hostVars:2,hostBindings:function(e,s){2&e&&o.ekj("p-ripple",!0)}}),t})(),Bh=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Ji]]}),t})();const DP=["titlebar"],yS=["content"],DA=["footer"];function Ed(t,i){if(1&t&&(o.TgZ(0,"span",16),o._uU(1),o.qZA()),2&t){const e=o.oxw(4);o.uIk("id",e.id+"-label"),o.xp6(1),o.Oqu(e.header)}}function PN(t,i){if(1&t&&(o.TgZ(0,"span",16),o.Hsn(1,1),o.qZA()),2&t){const e=o.oxw(4);o.uIk("id",e.id+"-label")}}function AP(t,i){1&t&&o.GkF(0)}const IP=function(){return{"p-dialog-header-icon p-dialog-header-maximize p-link":!0}};function ON(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",17),o.NdJ("click",function(){return o.CHM(e),o.oxw(4).maximize()})("keydown.enter",function(){return o.CHM(e),o.oxw(4).maximize()}),o._UZ(1,"span",18),o.qZA()}if(2&t){const e=o.oxw(4);o.Q6J("ngClass",o.DdM(2,IP)),o.xp6(1),o.Q6J("ngClass",e.maximized?e.minimizeIcon:e.maximizeIcon)}}const DC=function(){return{"p-dialog-header-icon p-dialog-header-close p-link":!0}};function LP(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",17),o.NdJ("click",function(a){return o.CHM(e),o.oxw(4).close(a)})("keydown.enter",function(a){return o.CHM(e),o.oxw(4).close(a)}),o._UZ(1,"span",19),o.qZA()}if(2&t){const e=o.oxw(4);o.Q6J("ngClass",o.DdM(2,DC)),o.xp6(1),o.Q6J("ngClass",e.closeIcon)}}function RN(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",11,12),o.NdJ("mousedown",function(a){return o.CHM(e),o.oxw(3).initDrag(a)}),o.YNc(2,Ed,2,2,"span",13),o.YNc(3,PN,2,1,"span",13),o.YNc(4,AP,1,0,"ng-container",8),o.TgZ(5,"div",14),o.YNc(6,ON,2,3,"button",15),o.YNc(7,LP,2,3,"button",15),o.qZA(),o.qZA()}if(2&t){const e=o.oxw(3);o.xp6(2),o.Q6J("ngIf",!e.headerFacet&&!e.headerTemplate),o.xp6(1),o.Q6J("ngIf",e.headerFacet),o.xp6(1),o.Q6J("ngTemplateOutlet",e.headerTemplate),o.xp6(2),o.Q6J("ngIf",e.maximizable),o.xp6(1),o.Q6J("ngIf",e.closable)}}function FN(t,i){1&t&&o.GkF(0)}function NN(t,i){1&t&&o.GkF(0)}function PP(t,i){if(1&t&&(o.TgZ(0,"div",20,21),o.Hsn(2,2),o.YNc(3,NN,1,0,"ng-container",8),o.qZA()),2&t){const e=o.oxw(3);o.xp6(3),o.Q6J("ngTemplateOutlet",e.footerTemplate)}}function OP(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",22),o.NdJ("mousedown",function(a){return o.CHM(e),o.oxw(3).initResize(a)}),o.qZA()}}const RP=function(t,i,e,s){return{"p-dialog p-component":!0,"p-dialog-rtl":t,"p-dialog-draggable":i,"p-dialog-resizable":e,"p-dialog-maximized":s}},FP=function(t,i){return{transform:t,transition:i}},NP=function(t){return{value:"visible",params:t}};function zN(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",3,4),o.NdJ("@animation.start",function(a){return o.CHM(e),o.oxw(2).onAnimationStart(a)})("@animation.done",function(a){return o.CHM(e),o.oxw(2).onAnimationEnd(a)}),o.YNc(2,RN,8,5,"div",5),o.TgZ(3,"div",6,7),o.Hsn(5),o.YNc(6,FN,1,0,"ng-container",8),o.qZA(),o.YNc(7,PP,4,1,"div",9),o.YNc(8,OP,1,0,"div",10),o.qZA()}if(2&t){const e=o.oxw(2);o.Tol(e.styleClass),o.Q6J("ngClass",o.l5B(15,RP,e.rtl,e.draggable,e.resizable,e.maximized))("ngStyle",e.style)("pFocusTrapDisabled",!1===e.focusTrap)("@animation",o.VKq(23,NP,o.WLB(20,FP,e.transformOptions,e.transitionOptions))),o.uIk("aria-labelledby",e.id+"-label"),o.xp6(2),o.Q6J("ngIf",e.showHeader),o.xp6(1),o.Tol(e.contentStyleClass),o.Q6J("ngClass","p-dialog-content")("ngStyle",e.contentStyle),o.xp6(3),o.Q6J("ngTemplateOutlet",e.contentTemplate),o.xp6(1),o.Q6J("ngIf",e.footerFacet||e.footerTemplate),o.xp6(1),o.Q6J("ngIf",e.resizable)}}const zP=function(t,i,e,s,a,l,h,v,C,O){return{"p-dialog-mask":!0,"p-component-overlay":t,"p-dialog-mask-scrollblocker":i,"p-dialog-left":e,"p-dialog-right":s,"p-dialog-top":a,"p-dialog-top-left":l,"p-dialog-top-right":h,"p-dialog-bottom":v,"p-dialog-bottom-left":C,"p-dialog-bottom-right":O}};function BP(t,i){if(1&t&&(o.TgZ(0,"div",1),o.YNc(1,zN,9,25,"div",2),o.qZA()),2&t){const e=o.oxw();o.Tol(e.maskStyleClass),o.Q6J("ngClass",o.rFY(4,zP,[e.modal,e.modal||e.blockScroll,"left"===e.position,"right"===e.position,"top"===e.position,"topleft"===e.position||"top-left"===e.position,"topright"===e.position||"top-right"===e.position,"bottom"===e.position,"bottomleft"===e.position||"bottom-left"===e.position,"bottomright"===e.position||"bottom-right"===e.position])),o.xp6(1),o.Q6J("ngIf",e.visible)}}const YP=["*",[["p-header"]],[["p-footer"]]],BN=["*","p-header","p-footer"],YN=uv([oi({transform:"{{transform}}",opacity:0}),qr("{{transition}}")]),HP=uv([qr("{{transition}}",oi({transform:"{{transform}}",opacity:0}))]);let AC=(()=>{class t{constructor(e,s,a,l,h){this.el=e,this.renderer=s,this.zone=a,this.cd=l,this.config=h,this.draggable=!0,this.resizable=!0,this.closeOnEscape=!0,this.closable=!0,this.showHeader=!0,this.blockScroll=!1,this.autoZIndex=!0,this.baseZIndex=0,this.minX=0,this.minY=0,this.focusOnShow=!0,this.keepInViewport=!0,this.focusTrap=!0,this.transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.closeIcon="pi pi-times",this.minimizeIcon="pi pi-window-minimize",this.maximizeIcon="pi pi-window-maximize",this.onShow=new o.vpe,this.onHide=new o.vpe,this.visibleChange=new o.vpe,this.onResizeInit=new o.vpe,this.onResizeEnd=new o.vpe,this.onDragEnd=new o.vpe,this.onMaximize=new o.vpe,this.id=kC(),this._style={},this._position="center",this.transformOptions="scale(0.7)"}get positionLeft(){return 0}set positionLeft(e){console.log("positionLeft property is deprecated.")}get positionTop(){return 0}set positionTop(e){console.log("positionTop property is deprecated.")}get responsive(){return!1}set responsive(e){console.log("Responsive property is deprecated.")}get breakpoint(){return 649}set breakpoint(e){console.log("Breakpoint property is not utilized and deprecated, use breakpoints or CSS media queries instead.")}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"content":this.contentTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;default:this.contentTemplate=e.template}})}ngOnInit(){this.breakpoints&&this.createStyle()}get visible(){return this._visible}set visible(e){this._visible=e,this._visible&&!this.maskVisible&&(this.maskVisible=!0)}get style(){return this._style}set style(e){e&&(this._style=Object.assign({},e),this.originalStyle=e)}get position(){return this._position}set position(e){switch(this._position=e,e){case"topleft":case"bottomleft":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"topright":case"bottomright":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)"}}focus(){let e=cn.findSingle(this.container,"[autofocus]");e&&this.zone.runOutsideAngular(()=>{setTimeout(()=>e.focus(),5)})}close(e){this.visibleChange.emit(!1),e.preventDefault()}enableModality(){this.closable&&this.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",e=>{this.wrapper&&this.wrapper.isSameNode(e.target)&&this.close(e)})),this.modal&&cn.addClass(document.body,"p-overflow-hidden")}disableModality(){this.wrapper&&(this.dismissableMask&&this.unbindMaskClickListener(),this.modal&&cn.removeClass(document.body,"p-overflow-hidden"),this.cd.destroyed||this.cd.detectChanges())}maximize(){this.maximized=!this.maximized,!this.modal&&!this.blockScroll&&(this.maximized?cn.addClass(document.body,"p-overflow-hidden"):cn.removeClass(document.body,"p-overflow-hidden")),this.onMaximize.emit({maximized:this.maximized})}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}moveOnTop(){this.autoZIndex&&(ru.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let e="";for(let s in this.breakpoints)e+=`\n                    @media screen and (max-width: ${s}) {\n                        .p-dialog[${this.id}] {\n                            width: ${this.breakpoints[s]} !important;\n                        }\n                    }\n                `;this.styleElement.innerHTML=e}}initDrag(e){cn.hasClass(e.target,"p-dialog-header-icon")||cn.hasClass(e.target.parentElement,"p-dialog-header-icon")||this.draggable&&(this.dragging=!0,this.lastPageX=e.pageX,this.lastPageY=e.pageY,this.container.style.margin="0",cn.addClass(document.body,"p-unselectable-text"))}onKeydown(e){if(this.focusTrap&&9===e.which){e.preventDefault();let s=cn.getFocusableElements(this.container);if(s&&s.length>0)if(s[0].ownerDocument.activeElement){let a=s.indexOf(s[0].ownerDocument.activeElement);e.shiftKey?-1==a||0===a?s[s.length-1].focus():s[a-1].focus():-1==a||a===s.length-1?s[0].focus():s[a+1].focus()}else s[0].focus()}}onDrag(e){if(this.dragging){let s=cn.getOuterWidth(this.container),a=cn.getOuterHeight(this.container),l=e.pageX-this.lastPageX,h=e.pageY-this.lastPageY,v=cn.getOffset(this.container),C=v.left+l,O=v.top+h,G=cn.getViewport();this.container.style.position="fixed",this.keepInViewport?(C>=this.minX&&C+s<G.width&&(this._style.left=C+"px",this.lastPageX=e.pageX,this.container.style.left=C+"px"),O>=this.minY&&O+a<G.height&&(this._style.top=O+"px",this.lastPageY=e.pageY,this.container.style.top=O+"px")):(this.lastPageX=e.pageX,this.container.style.left=C+"px",this.lastPageY=e.pageY,this.container.style.top=O+"px")}}endDrag(e){this.dragging&&(this.dragging=!1,cn.removeClass(document.body,"p-unselectable-text"),this.cd.detectChanges(),this.onDragEnd.emit(e))}resetPosition(){this.container.style.position="",this.container.style.left="",this.container.style.top="",this.container.style.margin=""}center(){this.resetPosition()}initResize(e){this.resizable&&(this.resizing=!0,this.lastPageX=e.pageX,this.lastPageY=e.pageY,cn.addClass(document.body,"p-unselectable-text"),this.onResizeInit.emit(e))}onResize(e){if(this.resizing){let s=e.pageX-this.lastPageX,a=e.pageY-this.lastPageY,l=cn.getOuterWidth(this.container),h=cn.getOuterHeight(this.container),v=cn.getOuterHeight(this.contentViewChild.nativeElement),C=l+s,O=h+a,G=this.container.style.minWidth,te=this.container.style.minHeight,pe=cn.getOffset(this.container),we=cn.getViewport();(!parseInt(this.container.style.top)||!parseInt(this.container.style.left))&&(C+=s,O+=a),(!G||C>parseInt(G))&&pe.left+C<we.width&&(this._style.width=C+"px",this.container.style.width=this._style.width),(!te||O>parseInt(te))&&pe.top+O<we.height&&(this.contentViewChild.nativeElement.style.height=v+O-h+"px",this._style.height&&(this._style.height=O+"px",this.container.style.height=this._style.height)),this.lastPageX=e.pageX,this.lastPageY=e.pageY}}resizeEnd(e){this.resizing&&(this.resizing=!1,cn.removeClass(document.body,"p-unselectable-text"),this.onResizeEnd.emit(e))}bindGlobalListeners(){this.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener()),this.resizable&&this.bindDocumentResizeListeners(),this.closeOnEscape&&this.closable&&this.bindDocumentEscapeListener()}unbindGlobalListeners(){this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentEscapeListener()}bindDocumentDragListener(){this.zone.runOutsideAngular(()=>{this.documentDragListener=this.onDrag.bind(this),window.document.addEventListener("mousemove",this.documentDragListener)})}unbindDocumentDragListener(){this.documentDragListener&&(window.document.removeEventListener("mousemove",this.documentDragListener),this.documentDragListener=null)}bindDocumentDragEndListener(){this.zone.runOutsideAngular(()=>{this.documentDragEndListener=this.endDrag.bind(this),window.document.addEventListener("mouseup",this.documentDragEndListener)})}unbindDocumentDragEndListener(){this.documentDragEndListener&&(window.document.removeEventListener("mouseup",this.documentDragEndListener),this.documentDragEndListener=null)}bindDocumentResizeListeners(){this.zone.runOutsideAngular(()=>{this.documentResizeListener=this.onResize.bind(this),this.documentResizeEndListener=this.resizeEnd.bind(this),window.document.addEventListener("mousemove",this.documentResizeListener),window.document.addEventListener("mouseup",this.documentResizeEndListener)})}unbindDocumentResizeListeners(){this.documentResizeListener&&this.documentResizeEndListener&&(window.document.removeEventListener("mousemove",this.documentResizeListener),window.document.removeEventListener("mouseup",this.documentResizeEndListener),this.documentResizeListener=null,this.documentResizeEndListener=null)}bindDocumentEscapeListener(){this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",s=>{27==s.which&&this.close(s)})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.wrapper):cn.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.wrapper)}onAnimationStart(e){switch(e.toState){case"visible":this.container=e.element,this.wrapper=this.container.parentElement,this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.container.setAttribute(this.id,""),this.modal&&this.enableModality(),!this.modal&&this.blockScroll&&cn.addClass(document.body,"p-overflow-hidden"),this.focusOnShow&&this.focus()}}onAnimationEnd(e){switch(e.toState){case"void":this.onContainerDestroy(),this.onHide.emit({});break;case"visible":this.onShow.emit({})}}onContainerDestroy(){this.unbindGlobalListeners(),this.dragging=!1,this.maskVisible=!1,this.maximized&&(cn.removeClass(document.body,"p-overflow-hidden"),this.maximized=!1),this.modal&&this.disableModality(),this.blockScroll&&cn.removeClass(document.body,"p-overflow-hidden"),this.container&&this.autoZIndex&&ru.clear(this.container),this.container=null,this.wrapper=null,this._style=this.originalStyle?Object.assign({},this.originalStyle):{}}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.destroyStyle()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(o.R0b),o.Y36(o.sBO),o.Y36(_m))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-dialog"]],contentQueries:function(e,s,a){if(1&e&&(o.Suo(a,mS,5),o.Suo(a,EC,5),o.Suo(a,Rl,4)),2&e){let l;o.iGM(l=o.CRH())&&(s.headerFacet=l.first),o.iGM(l=o.CRH())&&(s.footerFacet=l.first),o.iGM(l=o.CRH())&&(s.templates=l)}},viewQuery:function(e,s){if(1&e&&(o.Gf(DP,5),o.Gf(yS,5),o.Gf(DA,5)),2&e){let a;o.iGM(a=o.CRH())&&(s.headerViewChild=a.first),o.iGM(a=o.CRH())&&(s.contentViewChild=a.first),o.iGM(a=o.CRH())&&(s.footerViewChild=a.first)}},inputs:{header:"header",draggable:"draggable",resizable:"resizable",positionLeft:"positionLeft",positionTop:"positionTop",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",modal:"modal",closeOnEscape:"closeOnEscape",dismissableMask:"dismissableMask",rtl:"rtl",closable:"closable",responsive:"responsive",appendTo:"appendTo",breakpoints:"breakpoints",styleClass:"styleClass",maskStyleClass:"maskStyleClass",showHeader:"showHeader",breakpoint:"breakpoint",blockScroll:"blockScroll",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",minX:"minX",minY:"minY",focusOnShow:"focusOnShow",maximizable:"maximizable",keepInViewport:"keepInViewport",focusTrap:"focusTrap",transitionOptions:"transitionOptions",closeIcon:"closeIcon",minimizeIcon:"minimizeIcon",maximizeIcon:"maximizeIcon",visible:"visible",style:"style",position:"position"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange",onResizeInit:"onResizeInit",onResizeEnd:"onResizeEnd",onDragEnd:"onDragEnd",onMaximize:"onMaximize"},ngContentSelectors:BN,decls:1,vars:1,consts:[[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","class","pFocusTrapDisabled",4,"ngIf"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","pFocusTrapDisabled"],["container",""],["class","p-dialog-header",3,"mousedown",4,"ngIf"],[3,"ngClass","ngStyle"],["content",""],[4,"ngTemplateOutlet"],["class","p-dialog-footer",4,"ngIf"],["class","p-resizable-handle","style","z-index: 90;",3,"mousedown",4,"ngIf"],[1,"p-dialog-header",3,"mousedown"],["titlebar",""],["class","p-dialog-title",4,"ngIf"],[1,"p-dialog-header-icons"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-maximize-icon",3,"ngClass"],[1,"p-dialog-header-close-icon",3,"ngClass"],[1,"p-dialog-footer"],["footer",""],[1,"p-resizable-handle",2,"z-index","90",3,"mousedown"]],template:function(e,s){1&e&&(o.F$t(YP),o.YNc(0,BP,2,15,"div",0)),2&e&&o.Q6J("ngIf",s.maskVisible)},directives:[un,he,gS,qi,jr,Km],styles:[".p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none;background-color:transparent;transition-property:background-color}.p-dialog,.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-dialog-mask.p-dialog-mask-leave{background-color:transparent}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-top .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{transition:none;transform:none;width:100vw!important;height:100vh!important;top:0!important;left:0!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top,.p-dialog-top-left{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}"],encapsulation:2,data:{animation:[oa("animation",[Ir("void => visible",[dv(YN)]),Ir("visible => void",[dv(HP)])])]},changeDetection:0}),t})(),VP=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Ji,_S,Bh],Ha]}),t})();function ps(t){return null!=t&&"false"!=`${t}`}function yu(t,i=0){return vm(t)?Number(t):i}function vm(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function IC(t){return Array.isArray(t)?t:[t]}function vu(t){return null==t?"":"string"==typeof t?t:`${t}px`}function J_(t){return t instanceof o.SBq?t.nativeElement:t}var VN=Ae(9105);function fv(t,i,e,s){return(0,VN.m)(e)&&(s=e,e=void 0),s?fv(t,i,e).pipe((0,Ri.U)(a=>(0,Iu.k)(a)?s(...a):s(a))):new Rr.y(a=>{AA(t,i,function(h){a.next(arguments.length>1?Array.prototype.slice.call(arguments):h)},a,e)})}function AA(t,i,e,s,a){let l;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const h=t;t.addEventListener(i,e,a),l=()=>h.removeEventListener(i,e,a)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const h=t;t.on(i,e),l=()=>h.off(i,e)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const h=t;t.addListener(i,e),l=()=>h.removeListener(i,e)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let h=0,v=t.length;h<v;h++)AA(t[h],i,e,s,a)}s.add(l)}var UP=Ae(6465),GN=Ae(6102);const vS=new class extends GN.v{flush(i){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let s,a=-1,l=e.length;i=i||e.shift();do{if(s=i.execute(i.state,i.delay))break}while(++a<l&&(i=e.shift()));if(this.active=!1,s){for(;++a<l&&(i=e.shift());)i.unsubscribe();throw s}}}(class extends UP.o{constructor(i,e){super(i,e),this.scheduler=i,this.work=e}requestAsyncId(i,e,s=0){return null!==s&&s>0?super.requestAsyncId(i,e,s):(i.actions.push(this),i.scheduled||(i.scheduled=requestAnimationFrame(()=>i.flush(null))))}recycleAsyncId(i,e,s=0){if(null!==s&&s>0||null===s&&this.delay>0)return super.recycleAsyncId(i,e,s);0===i.actions.length&&(cancelAnimationFrame(e),i.scheduled=void 0)}});var Sw=Ae(4581);function bS(t){return!!t&&(t instanceof Rr.y||"function"==typeof t.lift&&"function"==typeof t.subscribe)}class jP{constructor(i){this.durationSelector=i}call(i,e){return e.subscribe(new ZP(i,this.durationSelector))}}class ZP extends Ho.Ds{constructor(i,e){super(i),this.durationSelector=e,this.hasValue=!1}_next(i){if(this.value=i,this.hasValue=!0,!this.throttled){let e;try{const{durationSelector:a}=this;e=a(i)}catch(a){return this.destination.error(a)}const s=(0,Ho.ft)(e,new Ho.IY(this));!s||s.closed?this.clearThrottle():this.add(this.throttled=s)}}clearThrottle(){const{value:i,hasValue:e,throttled:s}=this;s&&(this.remove(s),this.throttled=void 0,s.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(i))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var LA=Ae(6561);function bm(t=0,i,e){let s=-1;return(0,LA.k)(i)?s=Number(i)<1?1:Number(i):(0,hu.K)(i)&&(e=i),(0,hu.K)(e)||(e=$s.P),new Rr.y(a=>{const l=(0,LA.k)(t)?t:+t-e.now();return e.schedule(QN,l,{index:0,period:s,subscriber:a})})}function QN(t){const{index:i,period:e,subscriber:s}=t;if(s.next(i),!s.closed){if(-1===e)return s.complete();t.index=i+1,this.schedule(t,e)}}function kw(t,i=$s.P){return function(t){return function(e){return e.lift(new jP(t))}}(()=>bm(t,i))}function Fo(t){return i=>i.lift(new PA(t))}class PA{constructor(i){this.notifier=i}call(i,e){const s=new OA(i),a=(0,Ho.ft)(this.notifier,new Ho.IY(s));return a&&!s.seenValue?(s.add(a),e.subscribe(s)):s}}class OA extends Ho.Ds{constructor(i){super(i),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}let LC;try{LC="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(t){LC=!1}let mv,aa=(()=>{class t{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function(t){return"browser"===t}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!LC)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(o.Lbi))},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t((0,o.LFG)(o.Lbi))},token:t,providedIn:"root"}),t})(),bb=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({}),t})();const Ew=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Dw(){if(mv)return mv;if("object"!=typeof document||!document)return mv=new Set(Ew),mv;let t=document.createElement("input");return mv=new Set(Ew.filter(i=>(t.setAttribute("type",i),t.type===i))),mv}let j0,PC,gv,xS;function Aw(t){return function(){if(null==j0&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>j0=!0}))}finally{j0=j0||!1}return j0}()?t:!!t.capture}function FA(){if(null==gv){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return gv=!1,gv;if("scrollBehavior"in document.documentElement.style)gv=!0;else{const t=Element.prototype.scrollTo;gv=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return gv}function Iw(){if("object"!=typeof document||!document)return 0;if(null==PC){const t=document.createElement("div"),i=t.style;t.dir="rtl",i.width="1px",i.overflow="auto",i.visibility="hidden",i.pointerEvents="none",i.position="absolute";const e=document.createElement("div"),s=e.style;s.width="2px",s.height="1px",t.appendChild(e),document.body.appendChild(t),PC=0,0===t.scrollLeft&&(t.scrollLeft=1,PC=0===t.scrollLeft?1:2),t.parentNode.removeChild(t)}return PC}function NA(t){if(function(){if(null==xS){const t="undefined"!=typeof document?document.head:null;xS=!(!t||!t.createShadowRoot&&!t.attachShadow)}return xS}()){const i=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&i instanceof ShadowRoot)return i}return null}const Yh=new o.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,o.f3M)(Ee)}});let Hh=(()=>{class t{constructor(e){if(this.value="ltr",this.change=new o.vpe,e){const a=e.documentElement?e.documentElement.dir:null,l=(e.body?e.body.dir:null)||a;this.value="ltr"===l||"rtl"===l?l:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Yh,8))},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t((0,o.LFG)(Yh,8))},token:t,providedIn:"root"}),t})(),_v=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({}),t})();class OC{}function Pw(t){return t&&"function"==typeof t.connect}class RC extends OC{constructor(i){super(),this._data=i}connect(){return bS(this._data)?this._data:(0,Ai.of)(this._data)}disconnect(){}}class zA{applyChanges(i,e,s,a,l){i.forEachOperation((h,v,C)=>{let O,G;if(null==h.previousIndex){const te=s(h,v,C);O=e.createEmbeddedView(te.templateRef,te.context,te.index),G=1}else null==C?(e.remove(v),G=3):(O=e.get(v),e.move(O,C),G=2);l&&l({context:null==O?void 0:O.context,operation:G,record:h})})}detach(){}}class WP{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(i,e,s,a,l){i.forEachOperation((h,v,C)=>{let O,G;null==h.previousIndex?(O=this._insertView(()=>s(h,v,C),C,e,a(h)),G=O?1:0):null==C?(this._detachAndCacheView(v,e),G=3):(O=this._moveView(v,C,e,a(h)),G=2),l&&l({context:null==O?void 0:O.context,operation:G,record:h})})}detach(){for(const i of this._viewCache)i.destroy();this._viewCache=[]}_insertView(i,e,s,a){const l=this._insertViewFromCache(e,s);if(l)return void(l.context.$implicit=a);const h=i();return s.createEmbeddedView(h.templateRef,h.context,h.index)}_detachAndCacheView(i,e){const s=e.detach(i);this._maybeCacheView(s,e)}_moveView(i,e,s,a){const l=s.get(i);return s.move(l,e),l.context.$implicit=a,l}_maybeCacheView(i,e){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(i);else{const s=e.indexOf(i);-1===s?i.destroy():e.remove(s)}}_insertViewFromCache(i,e){const s=this._viewCache.pop();return s&&e.insert(s,i),s||null}}class CS{constructor(i=!1,e,s=!0){this._multiple=i,this._emitChanges=s,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new li.xQ,e&&e.length&&(i?e.forEach(a=>this._markSelected(a)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...i){this._verifyValueAssignment(i),i.forEach(e=>this._markSelected(e)),this._emitChangeEvent()}deselect(...i){this._verifyValueAssignment(i),i.forEach(e=>this._unmarkSelected(e)),this._emitChangeEvent()}toggle(i){this.isSelected(i)?this.deselect(i):this.select(i)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(i){return this._selection.has(i)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(i){this._multiple&&this.selected&&this._selected.sort(i)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(i){this.isSelected(i)||(this._multiple||this._unmarkAll(),this._selection.add(i),this._emitChanges&&this._selectedToEmit.push(i))}_unmarkSelected(i){this.isSelected(i)&&(this._selection.delete(i),this._emitChanges&&this._deselectedToEmit.push(i))}_unmarkAll(){this.isEmpty()||this._selection.forEach(i=>this._unmarkSelected(i))}_verifyValueAssignment(i){}}const Ow=new o.OlP("_ViewRepeater"),qP=["contentWrapper"],$P=["*"],K_=new o.OlP("VIRTUAL_SCROLL_STRATEGY");class Rw{constructor(i,e,s){this._scrolledIndexChange=new li.xQ,this.scrolledIndexChange=this._scrolledIndexChange.pipe(cu()),this._viewport=null,this._itemSize=i,this._minBufferPx=e,this._maxBufferPx=s}attach(i){this._viewport=i,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(i,e,s){this._itemSize=i,this._minBufferPx=e,this._maxBufferPx=s,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(i,e){this._viewport&&this._viewport.scrollToOffset(i*this._itemSize,e)}_updateTotalContentSize(){!this._viewport||this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const i=this._viewport.getRenderedRange(),e={start:i.start,end:i.end},s=this._viewport.getViewportSize(),a=this._viewport.getDataLength();let l=this._viewport.measureScrollOffset(),h=this._itemSize>0?l/this._itemSize:0;if(e.end>a){const C=Math.ceil(s/this._itemSize),O=Math.max(0,Math.min(h,a-C));h!=O&&(h=O,l=O*this._itemSize,e.start=Math.floor(h)),e.end=Math.max(0,Math.min(a,e.start+C))}const v=l-e.start*this._itemSize;if(v<this._minBufferPx&&0!=e.start){const C=Math.ceil((this._maxBufferPx-v)/this._itemSize);e.start=Math.max(0,e.start-C),e.end=Math.min(a,Math.ceil(h+(s+this._minBufferPx)/this._itemSize))}else{const C=e.end*this._itemSize-(l+s);if(C<this._minBufferPx&&e.end!=a){const O=Math.ceil((this._maxBufferPx-C)/this._itemSize);O>0&&(e.end=Math.min(a,e.end+O),e.start=Math.max(0,Math.floor(h-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(e),this._viewport.setRenderedContentOffset(this._itemSize*e.start),this._scrolledIndexChange.next(Math.floor(h))}}function TS(t){return t._scrollStrategy}let BA=(()=>{class t{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new Rw(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=yu(e)}get minBufferPx(){return this._minBufferPx}set minBufferPx(e){this._minBufferPx=yu(e)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(e){this._maxBufferPx=yu(e)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=o.lG2({type:t,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[o._Bn([{provide:K_,useFactory:TS,deps:[(0,o.Gpc)(()=>t)]}]),o.TTD]}),t})(),Fw=(()=>{class t{constructor(e,s,a){this._ngZone=e,this._platform=s,this._scrolled=new li.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=a}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const s=this.scrollContainers.get(e);s&&(s.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Rr.y(s=>{this._globalSubscription||this._addGlobalListener();const a=e>0?this._scrolled.pipe(kw(e)).subscribe(s):this._scrolled.subscribe(s);return this._scrolledCount++,()=>{a.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Ai.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,s)=>this.deregister(s)),this._scrolled.complete()}ancestorScrolled(e,s){const a=this.getAncestorScrollContainers(e);return this.scrolled(s).pipe(T(l=>!l||a.indexOf(l)>-1))}getAncestorScrollContainers(e){const s=[];return this.scrollContainers.forEach((a,l)=>{this._scrollableContainsElement(l,e)&&s.push(l)}),s}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,s){let a=J_(s),l=e.getElementRef().nativeElement;do{if(a==l)return!0}while(a=a.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>fv(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(o.R0b),o.LFG(aa),o.LFG(Ee,8))},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t((0,o.LFG)(o.R0b),(0,o.LFG)(aa),(0,o.LFG)(Ee,8))},token:t,providedIn:"root"}),t})(),FC=(()=>{class t{constructor(e,s,a,l){this.elementRef=e,this.scrollDispatcher=s,this.ngZone=a,this.dir=l,this._destroyed=new li.xQ,this._elementScrolled=new Rr.y(h=>this.ngZone.runOutsideAngular(()=>fv(this.elementRef.nativeElement,"scroll").pipe(Fo(this._destroyed)).subscribe(h)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const s=this.elementRef.nativeElement,a=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=a?e.end:e.start),null==e.right&&(e.right=a?e.start:e.end),null!=e.bottom&&(e.top=s.scrollHeight-s.clientHeight-e.bottom),a&&0!=Iw()?(null!=e.left&&(e.right=s.scrollWidth-s.clientWidth-e.left),2==Iw()?e.left=e.right:1==Iw()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=s.scrollWidth-s.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const s=this.elementRef.nativeElement;FA()?s.scrollTo(e):(null!=e.top&&(s.scrollTop=e.top),null!=e.left&&(s.scrollLeft=e.left))}measureScrollOffset(e){const s="left",a="right",l=this.elementRef.nativeElement;if("top"==e)return l.scrollTop;if("bottom"==e)return l.scrollHeight-l.clientHeight-l.scrollTop;const h=this.dir&&"rtl"==this.dir.value;return"start"==e?e=h?a:s:"end"==e&&(e=h?s:a),h&&2==Iw()?e==s?l.scrollWidth-l.clientWidth-l.scrollLeft:l.scrollLeft:h&&1==Iw()?e==s?l.scrollLeft+l.scrollWidth-l.clientWidth:-l.scrollLeft:e==s?l.scrollLeft:l.scrollWidth-l.clientWidth-l.scrollLeft}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(Fw),o.Y36(o.R0b),o.Y36(Hh,8))},t.\u0275dir=o.lG2({type:t,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),t})(),yv=(()=>{class t{constructor(e,s,a){this._platform=e,this._change=new li.xQ,this._changeListener=l=>{this._change.next(l)},this._document=a,s.runOutsideAngular(()=>{if(e.isBrowser){const l=this._getWindow();l.addEventListener("resize",this._changeListener),l.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:s,height:a}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+a,right:e.left+s,height:a,width:s}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,s=this._getWindow(),a=e.documentElement,l=a.getBoundingClientRect();return{top:-l.top||e.body.scrollTop||s.scrollY||a.scrollTop||0,left:-l.left||e.body.scrollLeft||s.scrollX||a.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(kw(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(aa),o.LFG(o.R0b),o.LFG(Ee,8))},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t((0,o.LFG)(aa),(0,o.LFG)(o.R0b),(0,o.LFG)(Ee,8))},token:t,providedIn:"root"}),t})();const JP="undefined"!=typeof requestAnimationFrame?vS:Sw.E;let Nw=(()=>{class t extends FC{constructor(e,s,a,l,h,v,C){super(e,v,a,h),this.elementRef=e,this._changeDetectorRef=s,this._scrollStrategy=l,this._detachedSubject=new li.xQ,this._renderedRangeSubject=new li.xQ,this._orientation="vertical",this.scrolledIndexChange=new Rr.y(O=>this._scrollStrategy.scrolledIndexChange.subscribe(G=>Promise.resolve().then(()=>this.ngZone.run(()=>O.next(G))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=Ua.w.EMPTY,this._viewportChanges=C.change().subscribe(()=>{this.checkViewportSize()})}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this._calculateSpacerSize())}ngOnInit(){super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.elementScrolled().pipe(Tn(null),kw(0,JP)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()}))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(e){this.ngZone.runOutsideAngular(()=>{this._forOf=e,this._forOf.dataStream.pipe(Fo(this._detachedSubject)).subscribe(s=>{const a=s.length;a!==this._dataLength&&(this._dataLength=a,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}setTotalContentSize(e){this._totalContentSize!==e&&(this._totalContentSize=e,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(e){(function(t,i){return t.start==i.start&&t.end==i.end})(this._renderedRange,e)||(this._renderedRangeSubject.next(this._renderedRange=e),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(e,s="to-start"){const l="horizontal"==this.orientation,h=l?"X":"Y";let C=`translate${h}(${Number((l&&this.dir&&"rtl"==this.dir.value?-1:1)*e)}px)`;this._renderedContentOffset=e,"to-end"===s&&(C+=` translate${h}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=C&&(this._renderedContentTransform=C,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(e,s="auto"){const a={behavior:s};"horizontal"===this.orientation?a.start=e:a.top=e,this.scrollTo(a)}scrollToIndex(e,s="auto"){this._scrollStrategy.scrollToIndex(e,s)}measureScrollOffset(e){return super.measureScrollOffset(e||("horizontal"===this.orientation?"start":"top"))}measureRenderedContentSize(){const e=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?e.offsetWidth:e.offsetHeight}measureRangeSize(e){return this._forOf?this._forOf.measureRangeSize(e,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){const e=this.elementRef.nativeElement;this._viewportSize="horizontal"===this.orientation?e.clientWidth:e.clientHeight}_markChangeDetectionNeeded(e){e&&this._runAfterChangeDetection.push(e),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const e=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const s of e)s()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(o.R0b),o.Y36(K_,8),o.Y36(Hh,8),o.Y36(Fw),o.Y36(yv))},t.\u0275cmp=o.Xpm({type:t,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(e,s){if(1&e&&o.Gf(qP,7),2&e){let a;o.iGM(a=o.CRH())&&(s._contentWrapper=a.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(e,s){2&e&&o.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===s.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==s.orientation)},inputs:{orientation:"orientation"},outputs:{scrolledIndexChange:"scrolledIndexChange"},features:[o._Bn([{provide:FC,useExisting:t}]),o.qOj],ngContentSelectors:$P,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(e,s){1&e&&(o.F$t(),o.TgZ(0,"div",0,1),o.Hsn(2),o.qZA(),o._UZ(3,"div",2)),2&e&&(o.xp6(3),o.Udp("width",s._totalContentWidth)("height",s._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0}[dir=rtl] .cdk-virtual-scroll-spacer{right:0;left:auto;transform-origin:100% 0}\n"],encapsulation:2,changeDetection:0}),t})();function HA(t,i,e){if(!e.getBoundingClientRect)return 0;const a=e.getBoundingClientRect();return"horizontal"===t?"start"===i?a.left:a.right:"start"===i?a.top:a.bottom}let Gg=(()=>{class t{constructor(e,s,a,l,h,v){this._viewContainerRef=e,this._template=s,this._differs=a,this._viewRepeater=l,this._viewport=h,this.viewChange=new li.xQ,this._dataSourceChanges=new li.xQ,this.dataStream=this._dataSourceChanges.pipe(Tn(null),vf(),Os(([C,O])=>this._changeDataSource(C,O)),Jh(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new li.xQ,this.dataStream.subscribe(C=>{this._data=C,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe(Fo(this._destroyed)).subscribe(C=>{this._renderedRange=C,v.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(e){this._cdkVirtualForOf=e,Pw(e)?this._dataSourceChanges.next(e):this._dataSourceChanges.next(new RC(bS(e)?e:Array.from(e||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(e){this._needsUpdate=!0,this._cdkVirtualForTrackBy=e?(s,a)=>e(s+(this._renderedRange?this._renderedRange.start:0),a):void 0}set cdkVirtualForTemplate(e){e&&(this._needsUpdate=!0,this._template=e)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(e){this._viewRepeater.viewCacheSize=yu(e)}measureRangeSize(e,s){if(e.start>=e.end)return 0;const a=e.start-this._renderedRange.start,l=e.end-e.start;let h,v;for(let C=0;C<l;C++){const O=this._viewContainerRef.get(C+a);if(O&&O.rootNodes.length){h=v=O.rootNodes[0];break}}for(let C=l-1;C>-1;C--){const O=this._viewContainerRef.get(C+a);if(O&&O.rootNodes.length){v=O.rootNodes[O.rootNodes.length-1];break}}return h&&v?HA(s,"end",v)-HA(s,"start",h):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const e=this._differ.diff(this._renderedItems);e?this._applyChanges(e):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){!this._renderedRange||(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((e,s)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(e,s):s)),this._needsUpdate=!0)}_changeDataSource(e,s){return e&&e.disconnect(this),this._needsUpdate=!0,s?s.connect(this):(0,Ai.of)()}_updateContext(){const e=this._data.length;let s=this._viewContainerRef.length;for(;s--;){const a=this._viewContainerRef.get(s);a.context.index=this._renderedRange.start+s,a.context.count=e,this._updateComputedContextProperties(a.context),a.detectChanges()}}_applyChanges(e){this._viewRepeater.applyChanges(e,this._viewContainerRef,(l,h,v)=>this._getEmbeddedViewArgs(l,v),l=>l.item),e.forEachIdentityChange(l=>{this._viewContainerRef.get(l.currentIndex).context.$implicit=l.item});const s=this._data.length;let a=this._viewContainerRef.length;for(;a--;){const l=this._viewContainerRef.get(a);l.context.index=this._renderedRange.start+a,l.context.count=s,this._updateComputedContextProperties(l.context)}}_updateComputedContextProperties(e){e.first=0===e.index,e.last=e.index===e.count-1,e.even=e.index%2==0,e.odd=!e.even}_getEmbeddedViewArgs(e,s){return{templateRef:this._template,context:{$implicit:e.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:s}}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(o.ZZ4),o.Y36(Ow),o.Y36(Nw,4),o.Y36(o.R0b))},t.\u0275dir=o.lG2({type:t,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},features:[o._Bn([{provide:Ow,useClass:WP}])]}),t})(),ey=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({}),t})(),ef=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[_v,bb,ey],_v,ey]}),t})();var NC=Ae(1555);function xb(...t){if(1===t.length){const i=t[0];if((0,Iu.k)(i))return zC(i,null);if((0,NC.K)(i)&&Object.getPrototypeOf(i)===Object.prototype){const e=Object.keys(i);return zC(e.map(s=>i[s]),e)}}if("function"==typeof t[t.length-1]){const i=t.pop();return zC(t=1===t.length&&(0,Iu.k)(t[0])?t[0]:t,null).pipe((0,Ri.U)(e=>i(...e)))}return zC(t,null)}function zC(t,i){return new Rr.y(e=>{const s=t.length;if(0===s)return void e.complete();const a=new Array(s);let l=0,h=0;for(let v=0;v<s;v++){const C=(0,Vs.D)(t[v]);let O=!1;e.add(C.subscribe({next:G=>{O||(O=!0,h++),a[v]=G},error:G=>e.error(G),complete:()=>{l++,(l===s||!O)&&(h===s&&e.next(i?i.reduce((G,te,pe)=>(G[te]=a[pe],G),{}):a),e.complete())}}))}})}let VA=(()=>{class t{constructor(e,s){this._renderer=e,this._elementRef=s,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(e,s){this._renderer.setProperty(this._elementRef.nativeElement,e,s)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.Qsj),o.Y36(o.SBq))},t.\u0275dir=o.lG2({type:t}),t})(),wb=(()=>{class t extends VA{}return t.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(t)))(s||t)}}(),t.\u0275dir=o.lG2({type:t,features:[o.qOj]}),t})();const Jl=new o.OlP("NgValueAccessor"),jA={provide:Jl,useExisting:(0,o.Gpc)(()=>xm),multi:!0},KP=new o.OlP("CompositionEventMode");let xm=(()=>{class t extends VA{constructor(e,s,a){super(e,s),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=ee()?ee().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(KP,8))},t.\u0275dir=o.lG2({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,s){1&e&&o.NdJ("input",function(l){return s._handleInput(l.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(l){return s._compositionEnd(l.target.value)})},features:[o._Bn([jA]),o.qOj]}),t})();function ty(t){return null==t||0===t.length}function vv(t){return null!=t&&"number"==typeof t.length}const Qu=new o.OlP("NgValidators"),bv=new o.OlP("NgAsyncValidators"),eO=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class bl{static min(i){return function(t){return i=>{if(ty(i.value)||ty(t))return null;const e=parseFloat(i.value);return!isNaN(e)&&e<t?{min:{min:t,actual:i.value}}:null}}(i)}static max(i){return function(t){return i=>{if(ty(i.value)||ty(t))return null;const e=parseFloat(i.value);return!isNaN(e)&&e>t?{max:{max:t,actual:i.value}}:null}}(i)}static required(i){return iO(i)}static requiredTrue(i){return function(t){return!0===t.value?null:{required:!0}}(i)}static email(i){return function(t){return ty(t.value)||eO.test(t.value)?null:{email:!0}}(i)}static minLength(i){return rO(i)}static maxLength(i){return function(t){return i=>vv(i.value)&&i.value.length>t?{maxlength:{requiredLength:t,actualLength:i.value.length}}:null}(i)}static pattern(i){return function(t){if(!t)return Cb;let i,e;return"string"==typeof t?(e="","^"!==t.charAt(0)&&(e+="^"),e+=t,"$"!==t.charAt(t.length-1)&&(e+="$"),i=new RegExp(e)):(e=t.toString(),i=t),s=>{if(ty(s.value))return null;const a=s.value;return i.test(a)?null:{pattern:{requiredPattern:e,actualValue:a}}}}(i)}static nullValidator(i){return null}static compose(i){return d(i)}static composeAsync(i){return w(i)}}function iO(t){return ty(t.value)?{required:!0}:null}function rO(t){return i=>ty(i.value)||!vv(i.value)?null:i.value.length<t?{minlength:{requiredLength:t,actualLength:i.value.length}}:null}function Cb(t){return null}function WA(t){return null!=t}function aO(t){const i=(0,o.QGY)(t)?(0,Vs.D)(t):t;return(0,o.CqO)(i),i}function lO(t){let i={};return t.forEach(e=>{i=null!=e?Object.assign(Object.assign({},i),e):i}),0===Object.keys(i).length?null:i}function cO(t,i){return i.map(e=>e(t))}function u(t){return t.map(i=>function(t){return!t.validate}(i)?i:e=>i.validate(e))}function d(t){if(!t)return null;const i=t.filter(WA);return 0==i.length?null:function(e){return lO(cO(e,i))}}function g(t){return null!=t?d(u(t)):null}function w(t){if(!t)return null;const i=t.filter(WA);return 0==i.length?null:function(e){return xb(cO(e,i).map(aO)).pipe((0,Ri.U)(lO))}}function A(t){return null!=t?w(u(t)):null}function Y(t,i){return null===t?[i]:Array.isArray(t)?[...t,i]:[t,i]}function Q(t){return t._rawValidators}function ne(t){return t._rawAsyncValidators}function fe(t){return t?Array.isArray(t)?t:[t]:[]}function ke(t,i){return Array.isArray(t)?t.includes(i):t===i}function Ze(t,i){const e=fe(i);return fe(t).forEach(a=>{ke(e,a)||e.push(a)}),e}function ot(t,i){return fe(i).filter(e=>!ke(t,e))}let gt=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=g(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=A(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,s){return!!this.control&&this.control.hasError(e,s)}getError(e,s){return this.control?this.control.getError(e,s):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=o.lG2({type:t}),t})(),Ft=(()=>{class t extends gt{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(t)))(s||t)}}(),t.\u0275dir=o.lG2({type:t,features:[o.qOj]}),t})();class Jt extends gt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class In{constructor(i){this._cd=i}is(i){var e,s,a;return"submitted"===i?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(a=null===(s=this._cd)||void 0===s?void 0:s.control)||void 0===a?void 0:a[i])}}let On=(()=>{class t extends In{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Jt,2))},t.\u0275dir=o.lG2({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,s){2&e&&o.ekj("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))},features:[o.qOj]}),t})(),$i=(()=>{class t extends In{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Ft,10))},t.\u0275dir=o.lG2({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,s){2&e&&o.ekj("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))("ng-submitted",s.is("submitted"))},features:[o.qOj]}),t})();function Bc(t,i){return[...i.path,t]}function Vh(t,i){wv(t,i),i.valueAccessor.writeValue(t.value),function(t,i){i.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&BC(t,i)})}(t,i),function(t,i){const e=(s,a)=>{i.valueAccessor.writeValue(s),a&&i.viewToModelUpdate(s)};t.registerOnChange(e),i._registerOnDestroy(()=>{t._unregisterOnChange(e)})}(t,i),function(t,i){i.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&BC(t,i),"submit"!==t.updateOn&&t.markAsTouched()})}(t,i),function(t,i){if(i.valueAccessor.setDisabledState){const e=s=>{i.valueAccessor.setDisabledState(s)};t.registerOnDisabledChange(e),i._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}(t,i)}function xv(t,i,e=!0){const s=()=>{};i.valueAccessor&&(i.valueAccessor.registerOnChange(s),i.valueAccessor.registerOnTouched(s)),G0(t,i),t&&(i._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function ny(t,i){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(i)})}function wv(t,i){const e=Q(t);null!==i.validator?t.setValidators(Y(e,i.validator)):"function"==typeof e&&t.setValidators([e]);const s=ne(t);null!==i.asyncValidator?t.setAsyncValidators(Y(s,i.asyncValidator)):"function"==typeof s&&t.setAsyncValidators([s]);const a=()=>t.updateValueAndValidity();ny(i._rawValidators,a),ny(i._rawAsyncValidators,a)}function G0(t,i){let e=!1;if(null!==t){if(null!==i.validator){const a=Q(t);if(Array.isArray(a)&&a.length>0){const l=a.filter(h=>h!==i.validator);l.length!==a.length&&(e=!0,t.setValidators(l))}}if(null!==i.asyncValidator){const a=ne(t);if(Array.isArray(a)&&a.length>0){const l=a.filter(h=>h!==i.asyncValidator);l.length!==a.length&&(e=!0,t.setAsyncValidators(l))}}}const s=()=>{};return ny(i._rawValidators,s),ny(i._rawAsyncValidators,s),e}function BC(t,i){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),i.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function KN(t,i){wv(t,i)}function uO(t,i){if(!t.hasOwnProperty("model"))return!1;const e=t.model;return!!e.isFirstChange()||!Object.is(i,e.currentValue)}function e3(t,i){t._syncPendingControls(),i.forEach(e=>{const s=e.control;"submit"===s.updateOn&&s._pendingChange&&(e.viewToModelUpdate(s._pendingValue),s._pendingChange=!1)})}function dO(t,i){if(!i)return null;let e,s,a;return Array.isArray(i),i.forEach(l=>{l.constructor===xm?e=l:function(t){return Object.getPrototypeOf(t.constructor)===wb}(l)?s=l:a=l}),a||s||e||null}function qA(t,i){const e=t.indexOf(i);e>-1&&t.splice(e,1)}const IS="VALID",$A="INVALID",YC="PENDING",LS="DISABLED";function hO(t){return(fO(t)?t.validators:t)||null}function t3(t){return Array.isArray(t)?g(t):t||null}function pO(t,i){return(fO(i)?i.asyncValidators:t)||null}function n3(t){return Array.isArray(t)?A(t):t||null}function fO(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class mO{constructor(i,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=i,this._rawAsyncValidators=e,this._composedValidatorFn=t3(this._rawValidators),this._composedAsyncValidatorFn=n3(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(i){this._rawValidators=this._composedValidatorFn=i}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(i){this._rawAsyncValidators=this._composedAsyncValidatorFn=i}get parent(){return this._parent}get valid(){return this.status===IS}get invalid(){return this.status===$A}get pending(){return this.status==YC}get disabled(){return this.status===LS}get enabled(){return this.status!==LS}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(i){this._rawValidators=i,this._composedValidatorFn=t3(i)}setAsyncValidators(i){this._rawAsyncValidators=i,this._composedAsyncValidatorFn=n3(i)}addValidators(i){this.setValidators(Ze(i,this._rawValidators))}addAsyncValidators(i){this.setAsyncValidators(Ze(i,this._rawAsyncValidators))}removeValidators(i){this.setValidators(ot(i,this._rawValidators))}removeAsyncValidators(i){this.setAsyncValidators(ot(i,this._rawAsyncValidators))}hasValidator(i){return ke(this._rawValidators,i)}hasAsyncValidator(i){return ke(this._rawAsyncValidators,i)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(i={}){this.touched=!0,this._parent&&!i.onlySelf&&this._parent.markAsTouched(i)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(i=>i.markAllAsTouched())}markAsUntouched(i={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}markAsDirty(i={}){this.pristine=!1,this._parent&&!i.onlySelf&&this._parent.markAsDirty(i)}markAsPristine(i={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}markAsPending(i={}){this.status=YC,!1!==i.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!i.onlySelf&&this._parent.markAsPending(i)}disable(i={}){const e=this._parentMarkedDirty(i.onlySelf);this.status=LS,this.errors=null,this._forEachChild(s=>{s.disable(Object.assign(Object.assign({},i),{onlySelf:!0}))}),this._updateValue(),!1!==i.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},i),{skipPristineCheck:e})),this._onDisabledChange.forEach(s=>s(!0))}enable(i={}){const e=this._parentMarkedDirty(i.onlySelf);this.status=IS,this._forEachChild(s=>{s.enable(Object.assign(Object.assign({},i),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},i),{skipPristineCheck:e})),this._onDisabledChange.forEach(s=>s(!1))}_updateAncestors(i){this._parent&&!i.onlySelf&&(this._parent.updateValueAndValidity(i),i.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(i){this._parent=i}updateValueAndValidity(i={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===IS||this.status===YC)&&this._runAsyncValidator(i.emitEvent)),!1!==i.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.updateValueAndValidity(i)}_updateTreeValidity(i={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(i)),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?LS:IS}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(i){if(this.asyncValidator){this.status=YC,this._hasOwnPendingAsyncValidator=!0;const e=aO(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(s=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(s,{emitEvent:i})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(i,e={}){this.errors=i,this._updateControlsErrors(!1!==e.emitEvent)}get(i){return function(t,i,e){if(null==i||(Array.isArray(i)||(i=i.split(".")),Array.isArray(i)&&0===i.length))return null;let s=t;return i.forEach(a=>{s=s instanceof PS?s.controls.hasOwnProperty(a)?s.controls[a]:null:s instanceof gO&&s.at(a)||null}),s}(this,i)}getError(i,e){const s=e?this.get(e):this;return s&&s.errors?s.errors[i]:null}hasError(i,e){return!!this.getError(i,e)}get root(){let i=this;for(;i._parent;)i=i._parent;return i}_updateControlsErrors(i){this.status=this._calculateStatus(),i&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(i)}_initObservables(){this.valueChanges=new o.vpe,this.statusChanges=new o.vpe}_calculateStatus(){return this._allControlsDisabled()?LS:this.errors?$A:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(YC)?YC:this._anyControlsHaveStatus($A)?$A:IS}_anyControlsHaveStatus(i){return this._anyControls(e=>e.status===i)}_anyControlsDirty(){return this._anyControls(i=>i.dirty)}_anyControlsTouched(){return this._anyControls(i=>i.touched)}_updatePristine(i={}){this.pristine=!this._anyControlsDirty(),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}_updateTouched(i={}){this.touched=this._anyControlsTouched(),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}_isBoxedValue(i){return"object"==typeof i&&null!==i&&2===Object.keys(i).length&&"value"in i&&"disabled"in i}_registerOnCollectionChange(i){this._onCollectionChange=i}_setUpdateStrategy(i){fO(i)&&null!=i.updateOn&&(this._updateOn=i.updateOn)}_parentMarkedDirty(i){return!i&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class W0 extends mO{constructor(i=null,e,s){super(hO(e),pO(s,e)),this._onChange=[],this._applyFormState(i),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(i,e={}){this.value=this._pendingValue=i,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(s=>s(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(i,e={}){this.setValue(i,e)}reset(i=null,e={}){this._applyFormState(i),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(i){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(i){this._onChange.push(i)}_unregisterOnChange(i){qA(this._onChange,i)}registerOnDisabledChange(i){this._onDisabledChange.push(i)}_unregisterOnDisabledChange(i){qA(this._onDisabledChange,i)}_forEachChild(i){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(i){this._isBoxedValue(i)?(this.value=this._pendingValue=i.value,i.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=i}}class PS extends mO{constructor(i,e,s){super(hO(e),pO(s,e)),this.controls=i,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(i,e){return this.controls[i]?this.controls[i]:(this.controls[i]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(i,e,s={}){this.registerControl(i,e),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}removeControl(i,e={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(i,e,s={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],e&&this.registerControl(i,e),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}contains(i){return this.controls.hasOwnProperty(i)&&this.controls[i].enabled}setValue(i,e={}){this._checkAllValuesPresent(i),Object.keys(i).forEach(s=>{this._throwIfControlMissing(s),this.controls[s].setValue(i[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(i,e={}){null!=i&&(Object.keys(i).forEach(s=>{this.controls[s]&&this.controls[s].patchValue(i[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(i={},e={}){this._forEachChild((s,a)=>{s.reset(i[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(i,e,s)=>(i[s]=e instanceof W0?e.value:e.getRawValue(),i))}_syncPendingControls(){let i=this._reduceChildren(!1,(e,s)=>!!s._syncPendingControls()||e);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_throwIfControlMissing(i){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[i])throw new Error(`Cannot find form control with name: ${i}.`)}_forEachChild(i){Object.keys(this.controls).forEach(e=>{const s=this.controls[e];s&&i(s,e)})}_setUpControls(){this._forEachChild(i=>{i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(i){for(const e of Object.keys(this.controls)){const s=this.controls[e];if(this.contains(e)&&i(s))return!0}return!1}_reduceValue(){return this._reduceChildren({},(i,e,s)=>((e.enabled||this.disabled)&&(i[s]=e.value),i))}_reduceChildren(i,e){let s=i;return this._forEachChild((a,l)=>{s=e(s,a,l)}),s}_allControlsDisabled(){for(const i of Object.keys(this.controls))if(this.controls[i].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(i){this._forEachChild((e,s)=>{if(void 0===i[s])throw new Error(`Must supply a value for form control with name: '${s}'.`)})}}class gO extends mO{constructor(i,e,s){super(hO(e),pO(s,e)),this.controls=i,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(i){return this.controls[i]}push(i,e={}){this.controls.push(i),this._registerControl(i),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(i,e,s={}){this.controls.splice(i,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:s.emitEvent})}removeAt(i,e={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(i,e,s={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),e&&(this.controls.splice(i,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(i,e={}){this._checkAllValuesPresent(i),i.forEach((s,a)=>{this._throwIfControlMissing(a),this.at(a).setValue(s,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(i,e={}){null!=i&&(i.forEach((s,a)=>{this.at(a)&&this.at(a).patchValue(s,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(i=[],e={}){this._forEachChild((s,a)=>{s.reset(i[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(i=>i instanceof W0?i.value:i.getRawValue())}clear(i={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:i.emitEvent}))}_syncPendingControls(){let i=this.controls.reduce((e,s)=>!!s._syncPendingControls()||e,!1);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_throwIfControlMissing(i){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(i))throw new Error(`Cannot find form control at index ${i}`)}_forEachChild(i){this.controls.forEach((e,s)=>{i(e,s)})}_updateValue(){this.value=this.controls.filter(i=>i.enabled||this.disabled).map(i=>i.value)}_anyControls(i){return this.controls.some(e=>e.enabled&&i(e))}_setUpControls(){this._forEachChild(i=>this._registerControl(i))}_checkAllValuesPresent(i){this._forEachChild((e,s)=>{if(void 0===i[s])throw new Error(`Must supply a value for form control at index: ${s}.`)})}_allControlsDisabled(){for(const i of this.controls)if(i.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(i){i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)}}const BV={provide:Ft,useExisting:(0,o.Gpc)(()=>zw)},OS=(()=>Promise.resolve(null))();let zw=(()=>{class t extends Ft{constructor(e,s){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new o.vpe,this.form=new PS({},g(e),A(s))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){OS.then(()=>{const s=this._findContainer(e.path);e.control=s.registerControl(e.name,e.control),Vh(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){OS.then(()=>{const s=this._findContainer(e.path);s&&s.removeControl(e.name),qA(this._directives,e)})}addFormGroup(e){OS.then(()=>{const s=this._findContainer(e.path),a=new PS({});KN(a,e),s.registerControl(e.name,a),a.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){OS.then(()=>{const s=this._findContainer(e.path);s&&s.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,s){OS.then(()=>{this.form.get(e.path).setValue(s)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,e3(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Qu,10),o.Y36(bv,10))},t.\u0275dir=o.lG2({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,s){1&e&&o.NdJ("submit",function(l){return s.onSubmit(l)})("reset",function(){return s.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([BV]),o.qOj]}),t})();const HV={provide:Jt,useExisting:(0,o.Gpc)(()=>Wg)},o3=(()=>Promise.resolve(null))();let Wg=(()=>{class t extends Jt{constructor(e,s,a,l){super(),this.control=new W0,this._registered=!1,this.update=new o.vpe,this._parent=e,this._setValidators(s),this._setAsyncValidators(a),this.valueAccessor=dO(0,l)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),uO(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?Bc(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Vh(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){o3.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const s=e.isDisabled.currentValue,a=""===s||s&&"false"!==s;o3.then(()=>{a&&!this.control.disabled?this.control.disable():!a&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Ft,9),o.Y36(Qu,10),o.Y36(bv,10),o.Y36(Jl,10))},t.\u0275dir=o.lG2({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[o._Bn([HV]),o.qOj,o.TTD]}),t})(),iy=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=o.lG2({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),l3=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({}),t})();const _O=new o.OlP("NgModelWithFormControlWarning"),WV={provide:Ft,useExisting:(0,o.Gpc)(()=>eg)};let eg=(()=>{class t extends Ft{constructor(e,s){super(),this.validators=e,this.asyncValidators=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new o.vpe,this._setValidators(e),this._setAsyncValidators(s)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(G0(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const s=this.form.get(e.path);return Vh(s,e),s.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),s}getControl(e){return this.form.get(e.path)}removeControl(e){xv(e.control||null,e,!1),qA(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,s){this.form.get(e.path).setValue(s)}onSubmit(e){return this.submitted=!0,e3(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const s=e.control,a=this.form.get(e.path);s!==a&&(xv(s||null,e),a instanceof W0&&(Vh(a,e),e.control=a))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const s=this.form.get(e.path);KN(s,e),s.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const s=this.form.get(e.path);s&&function(t,i){return G0(t,i)}(s,e)&&s.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){wv(this.form,this),this._oldForm&&G0(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Qu,10),o.Y36(bv,10))},t.\u0275dir=o.lG2({type:t,selectors:[["","formGroup",""]],hostBindings:function(e,s){1&e&&o.NdJ("submit",function(l){return s.onSubmit(l)})("reset",function(){return s.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([WV]),o.qOj,o.TTD]}),t})();const QV={provide:Jt,useExisting:(0,o.Gpc)(()=>Cv)};let Cv=(()=>{class t extends Jt{constructor(e,s,a,l,h){super(),this._ngModelWarningConfig=h,this._added=!1,this.update=new o.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(s),this._setAsyncValidators(a),this.valueAccessor=dO(0,l)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),uO(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return Bc(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Ft,13),o.Y36(Qu,10),o.Y36(bv,10),o.Y36(Jl,10),o.Y36(_O,8))},t.\u0275dir=o.lG2({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[o._Bn([QV]),o.qOj,o.TTD]}),t._ngModelWarningSentOnce=!1,t})();const XV={provide:Jl,useExisting:(0,o.Gpc)(()=>QA),multi:!0};function p3(t,i){return null==t?`${i}`:(i&&"object"==typeof i&&(i="Object"),`${t}: ${i}`.slice(0,50))}let QA=(()=>{class t extends wb{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const s=this._getOptionId(e);null==s&&this.setProperty("selectedIndex",-1);const a=p3(s,e);this.setProperty("value",a)}registerOnChange(e){this.onChange=s=>{this.value=this._getOptionValue(s),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const s of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(s),e))return s;return null}_getOptionValue(e){const s=function(t){return t.split(":")[0]}(e);return this._optionMap.has(s)?this._optionMap.get(s):e}}return t.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(t)))(s||t)}}(),t.\u0275dir=o.lG2({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,s){1&e&&o.NdJ("change",function(l){return s.onChange(l.target.value)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[o._Bn([XV]),o.qOj]}),t})(),f3=(()=>{class t{constructor(e,s,a){this._element=e,this._renderer=s,this._select=a,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(p3(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(QA,9))},t.\u0275dir=o.lG2({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const KV={provide:Jl,useExisting:(0,o.Gpc)(()=>bO),multi:!0};function m3(t,i){return null==t?`${i}`:("string"==typeof i&&(i=`'${i}'`),i&&"object"==typeof i&&(i="Object"),`${t}: ${i}`.slice(0,50))}let bO=(()=>{class t extends wb{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let s;if(this.value=e,Array.isArray(e)){const a=e.map(l=>this._getOptionId(l));s=(l,h)=>{l._setSelected(a.indexOf(h.toString())>-1)}}else s=(a,l)=>{a._setSelected(!1)};this._optionMap.forEach(s)}registerOnChange(e){this.onChange=s=>{const a=[];if(void 0!==s.selectedOptions){const l=s.selectedOptions;for(let h=0;h<l.length;h++){const v=l.item(h),C=this._getOptionValue(v.value);a.push(C)}}else{const l=s.options;for(let h=0;h<l.length;h++){const v=l.item(h);if(v.selected){const C=this._getOptionValue(v.value);a.push(C)}}}this.value=a,e(a)}}_registerOption(e){const s=(this._idCounter++).toString();return this._optionMap.set(s,e),s}_getOptionId(e){for(const s of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(s)._value,e))return s;return null}_getOptionValue(e){const s=function(t){return t.split(":")[0]}(e);return this._optionMap.has(s)?this._optionMap.get(s)._value:e}}return t.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(t)))(s||t)}}(),t.\u0275dir=o.lG2({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,s){1&e&&o.NdJ("change",function(l){return s.onChange(l.target)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[o._Bn([KV]),o.qOj]}),t})(),g3=(()=>{class t{constructor(e,s,a){this._element=e,this._renderer=s,this._select=a,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(m3(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(m3(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(bO,9))},t.\u0275dir=o.lG2({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const iU={provide:Qu,useExisting:(0,o.Gpc)(()=>HC),multi:!0};let HC=(()=>{class t{constructor(){this._required=!1}get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!=`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?iO(e):null}registerOnValidatorChange(e){this._onChange=e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=o.lG2({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,s){2&e&&o.uIk("required",s.required?"":null)},inputs:{required:"required"},features:[o._Bn([iU])]}),t})();const oU={provide:Qu,useExisting:(0,o.Gpc)(()=>wO),multi:!0};let wO=(()=>{class t{constructor(){this._validator=Cb}ngOnChanges(e){"minlength"in e&&(this._createValidator(),this._onChange&&this._onChange())}validate(e){return this.enabled()?this._validator(e):null}registerOnValidatorChange(e){this._onChange=e}_createValidator(){this._validator=this.enabled()?rO(function(t){return"number"==typeof t?t:parseInt(t,10)}(this.minlength)):Cb}enabled(){return null!=this.minlength}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=o.lG2({type:t,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(e,s){2&e&&o.uIk("minlength",s.enabled()?s.minlength:null)},inputs:{minlength:"minlength"},features:[o._Bn([oU]),o.TTD]}),t})(),M3=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[l3]]}),t})(),XA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[M3]}),t})(),T3=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:_O,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[M3]}),t})(),q0=(()=>{class t{group(e,s=null){const a=this._reduceControls(e);let v,l=null,h=null;return null!=s&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(s)?(l=null!=s.validators?s.validators:null,h=null!=s.asyncValidators?s.asyncValidators:null,v=null!=s.updateOn?s.updateOn:void 0):(l=null!=s.validator?s.validator:null,h=null!=s.asyncValidator?s.asyncValidator:null)),new PS(a,{asyncValidators:h,updateOn:v,validators:l})}control(e,s,a){return new W0(e,s,a)}array(e,s,a){const l=e.map(h=>this._createControl(h));return new gO(l,s,a)}_reduceControls(e){const s={};return Object.keys(e).forEach(a=>{s[a]=this._createControl(e[a])}),s}_createControl(e){return e instanceof W0||e instanceof PS||e instanceof gO?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t},token:t,providedIn:T3}),t})(),S3=(()=>{class t{constructor(e,s,a){this.el=e,this.zone=s,this.config=a,this.escape=!0,this._tooltipOptions={tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",tooltipZIndex:"auto",escape:!1,positionTop:0,positionLeft:0}}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this.deactivate()}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{"hover"===this.getOption("tooltipEvent")?(this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.addEventListener("click",this.clickListener)):"focus"===this.getOption("tooltipEvent")&&(this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this),this.el.nativeElement.addEventListener("focus",this.focusListener),this.el.nativeElement.addEventListener("blur",this.blurListener))})}ngOnChanges(e){e.tooltipPosition&&this.setOption({tooltipPosition:e.tooltipPosition.currentValue}),e.tooltipEvent&&this.setOption({tooltipEvent:e.tooltipEvent.currentValue}),e.appendTo&&this.setOption({appendTo:e.appendTo.currentValue}),e.positionStyle&&this.setOption({positionStyle:e.positionStyle.currentValue}),e.tooltipStyleClass&&this.setOption({tooltipStyleClass:e.tooltipStyleClass.currentValue}),e.tooltipZIndex&&this.setOption({tooltipZIndex:e.tooltipZIndex.currentValue}),e.escape&&this.setOption({escape:e.escape.currentValue}),e.showDelay&&this.setOption({showDelay:e.showDelay.currentValue}),e.hideDelay&&this.setOption({showDelay:e.hideDelay.currentValue}),e.life&&this.setOption({life:e.life.currentValue}),e.positionTop&&this.setOption({positionTop:e.positionTop.currentValue}),e.positionLeft&&this.setOption({positionLeft:e.positionLeft.currentValue}),e.disabled&&this.setOption({disabled:e.disabled.currentValue}),e.text&&(this.setOption({tooltipLabel:e.text.currentValue}),this.active&&(e.text.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),e.tooltipOptions&&(this._tooltipOptions=Object.assign(Object.assign({},this._tooltipOptions),e.tooltipOptions.currentValue),this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}onMouseEnter(e){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(e){this.deactivate()}onFocus(e){this.activate()}onBlur(e){this.deactivate()}onClick(e){this.deactivate()}activate(){if(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life")){let e=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},e)}}deactivate(){this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div");let e=document.createElement("div");e.className="p-tooltip-arrow",this.container.appendChild(e),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),"body"===this.getOption("appendTo")?document.body.appendChild(this.container):"target"===this.getOption("appendTo")?cn.appendChild(this.container,this.el.nativeElement):cn.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block"}show(){!this.getOption("tooltipLabel")||this.getOption("disabled")||(this.create(),this.align(),cn.fadeIn(this.container,250),"auto"===this.getOption("tooltipZIndex")?ru.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener())}hide(){"auto"===this.getOption("tooltipZIndex")&&ru.clear(this.container),this.remove()}updateText(){this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(this.getOption("tooltipLabel")))):this.tooltipText.innerHTML=this.getOption("tooltipLabel")}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}getHostOffset(){if("body"===this.getOption("appendTo")||"target"===this.getOption("appendTo")){let e=this.el.nativeElement.getBoundingClientRect();return{left:e.left+cn.getWindowScrollLeft(),top:e.top+cn.getWindowScrollTop()}}return{left:0,top:0}}alignRight(){this.preAlign("right");let e=this.getHostOffset(),s=e.left+cn.getOuterWidth(this.el.nativeElement),a=e.top+(cn.getOuterHeight(this.el.nativeElement)-cn.getOuterHeight(this.container))/2;this.container.style.left=s+this.getOption("positionLeft")+"px",this.container.style.top=a+this.getOption("positionTop")+"px"}alignLeft(){this.preAlign("left");let e=this.getHostOffset(),s=e.left-cn.getOuterWidth(this.container),a=e.top+(cn.getOuterHeight(this.el.nativeElement)-cn.getOuterHeight(this.container))/2;this.container.style.left=s+this.getOption("positionLeft")+"px",this.container.style.top=a+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let e=this.getHostOffset(),s=e.left+(cn.getOuterWidth(this.el.nativeElement)-cn.getOuterWidth(this.container))/2,a=e.top-cn.getOuterHeight(this.container);this.container.style.left=s+this.getOption("positionLeft")+"px",this.container.style.top=a+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let e=this.getHostOffset(),s=e.left+(cn.getOuterWidth(this.el.nativeElement)-cn.getOuterWidth(this.container))/2,a=e.top+cn.getOuterHeight(this.el.nativeElement);this.container.style.left=s+this.getOption("positionLeft")+"px",this.container.style.top=a+this.getOption("positionTop")+"px"}setOption(e){this._tooltipOptions=Object.assign(Object.assign({},this._tooltipOptions),e)}getOption(e){return this._tooltipOptions[e]}preAlign(e){this.container.style.left="-999px",this.container.style.top="-999px";let s="p-tooltip p-component p-tooltip-"+e;this.container.className=this.getOption("tooltipStyleClass")?s+" "+this.getOption("tooltipStyleClass"):s}isOutOfBounds(){let e=this.container.getBoundingClientRect(),s=e.top,a=e.left,l=cn.getOuterWidth(this.container),h=cn.getOuterHeight(this.container),v=cn.getViewport();return a+l>v.width||a<0||s<0||s+h>v.height}onWindowResize(e){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new SC(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){"hover"===this.getOption("tooltipEvent")?(this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener)):"focus"===this.getOption("tooltipEvent")&&(this.el.nativeElement.removeEventListener("focus",this.focusListener),this.el.nativeElement.removeEventListener("blur",this.blurListener)),this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&("body"===this.getOption("appendTo")?document.body.removeChild(this.container):"target"===this.getOption("appendTo")?this.el.nativeElement.removeChild(this.container):cn.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&ru.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(_m))},t.\u0275dir=o.lG2({type:t,selectors:[["","pTooltip",""]],inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:"escape",showDelay:"showDelay",hideDelay:"hideDelay",life:"life",positionTop:"positionTop",positionLeft:"positionLeft",text:["pTooltip","text"],disabled:["tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[o.TTD]}),t})(),k3=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Ji]]}),t})();function uU(t,i){if(1&t&&(o.TgZ(0,"span"),o._uU(1),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Oqu(e.label||"empty")}}function dU(t,i){1&t&&o.GkF(0)}const E3=function(t){return{height:t}},hU=function(t,i){return{"p-dropdown-item":!0,"p-highlight":t,"p-disabled":i}},CO=function(t){return{$implicit:t}},pU=["container"],fU=["filter"],mU=["in"],gU=["editableInput"];function _U(t,i){if(1&t&&(o.ynx(0),o._uU(1),o.BQk()),2&t){const e=o.oxw(2);o.xp6(1),o.Oqu(e.label||"empty")}}function yU(t,i){1&t&&o.GkF(0)}const vU=function(t){return{"p-dropdown-label p-inputtext":!0,"p-dropdown-label-empty":t}};function bU(t,i){if(1&t&&(o.TgZ(0,"span",12),o.YNc(1,_U,2,1,"ng-container",13),o.YNc(2,yU,1,0,"ng-container",14),o.qZA()),2&t){const e=o.oxw();o.Q6J("ngClass",o.VKq(8,vU,null==e.label||0===e.label.length))("pTooltip",e.tooltip)("tooltipPosition",e.tooltipPosition)("positionStyle",e.tooltipPositionStyle)("tooltipStyleClass",e.tooltipStyleClass),o.xp6(1),o.Q6J("ngIf",!e.selectedItemTemplate),o.xp6(1),o.Q6J("ngTemplateOutlet",e.selectedItemTemplate)("ngTemplateOutletContext",o.VKq(10,CO,e.selectedOption))}}const xU=function(t){return{"p-dropdown-label p-inputtext p-placeholder":!0,"p-dropdown-label-empty":t}};function wU(t,i){if(1&t&&(o.TgZ(0,"span",15),o._uU(1),o.qZA()),2&t){const e=o.oxw();o.Q6J("ngClass",o.VKq(2,xU,null==e.placeholder||0===e.placeholder.length)),o.xp6(1),o.Oqu(e.placeholder||"empty")}}function CU(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"input",16,17),o.NdJ("click",function(){return o.CHM(e),o.oxw().onEditableInputClick()})("input",function(a){return o.CHM(e),o.oxw().onEditableInputChange(a)})("focus",function(a){return o.CHM(e),o.oxw().onEditableInputFocus(a)})("blur",function(a){return o.CHM(e),o.oxw().onInputBlur(a)}),o.qZA()}if(2&t){const e=o.oxw();o.Q6J("disabled",e.disabled),o.uIk("maxlength",e.maxlength)("placeholder",e.placeholder)("aria-expanded",e.overlayVisible)}}function MU(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"i",18),o.NdJ("click",function(a){return o.CHM(e),o.oxw().clear(a)}),o.qZA()}}function TU(t,i){1&t&&o.GkF(0)}function SU(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",26),o.TgZ(1,"div",27),o.NdJ("click",function(a){return a.stopPropagation()}),o.TgZ(2,"input",28,29),o.NdJ("keydown.enter",function(a){return a.preventDefault()})("keydown",function(a){return o.CHM(e),o.oxw(2).onKeydown(a,!1)})("input",function(a){return o.CHM(e),o.oxw(2).onFilterInputChange(a)}),o.qZA(),o._UZ(4,"span",30),o.qZA(),o.qZA()}if(2&t){const e=o.oxw(2);o.xp6(2),o.Q6J("value",e.filterValue||""),o.uIk("placeholder",e.filterPlaceholder)("aria-label",e.ariaFilterLabel)}}function kU(t,i){if(1&t&&(o.TgZ(0,"span"),o._uU(1),o.qZA()),2&t){const e=o.oxw().$implicit,s=o.oxw(3);o.xp6(1),o.Oqu(s.getOptionGroupLabel(e)||"empty")}}function EU(t,i){1&t&&o.GkF(0)}function DU(t,i){1&t&&o.GkF(0)}const D3=function(t,i){return{$implicit:t,selectedOption:i}};function AU(t,i){if(1&t&&(o.TgZ(0,"li",32),o.YNc(1,kU,2,1,"span",13),o.YNc(2,EU,1,0,"ng-container",14),o.qZA(),o.YNc(3,DU,1,0,"ng-container",14)),2&t){const e=i.$implicit;o.oxw(2);const s=o.MAs(8),a=o.oxw();o.xp6(1),o.Q6J("ngIf",!a.groupTemplate),o.xp6(1),o.Q6J("ngTemplateOutlet",a.groupTemplate)("ngTemplateOutletContext",o.VKq(5,CO,e)),o.xp6(1),o.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",o.WLB(7,D3,a.getOptionGroupChildren(e),a.selectedOption))}}function IU(t,i){if(1&t&&(o.ynx(0),o.YNc(1,AU,4,10,"ng-template",31),o.BQk()),2&t){const e=o.oxw(2);o.xp6(1),o.Q6J("ngForOf",e.optionsToDisplay)}}function LU(t,i){1&t&&o.GkF(0)}function PU(t,i){if(1&t&&(o.ynx(0),o.YNc(1,LU,1,0,"ng-container",14),o.BQk()),2&t){o.oxw();const e=o.MAs(8),s=o.oxw();o.xp6(1),o.Q6J("ngTemplateOutlet",e)("ngTemplateOutletContext",o.WLB(2,D3,s.optionsToDisplay,s.selectedOption))}}function OU(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"p-dropdownItem",35),o.NdJ("onClick",function(a){return o.CHM(e),o.oxw(4).onItemClick(a)}),o.qZA()}if(2&t){const e=i.$implicit,s=o.oxw(2).selectedOption,a=o.oxw(2);o.Q6J("option",e)("selected",s==e)("label",a.getOptionLabel(e))("disabled",a.isOptionDisabled(e))("template",a.itemTemplate)}}function RU(t,i){if(1&t&&(o.ynx(0),o.YNc(1,OU,1,5,"ng-template",31),o.BQk()),2&t){const e=o.oxw().$implicit;o.xp6(1),o.Q6J("ngForOf",e)}}function FU(t,i){if(1&t){const e=o.EpF();o.ynx(0),o.TgZ(1,"p-dropdownItem",35),o.NdJ("onClick",function(a){return o.CHM(e),o.oxw(5).onItemClick(a)}),o.qZA(),o.BQk()}if(2&t){const e=i.$implicit,s=o.oxw(3).selectedOption,a=o.oxw(2);o.xp6(1),o.Q6J("option",e)("selected",s==e)("label",a.getOptionLabel(e))("disabled",a.isOptionDisabled(e))("template",a.itemTemplate)}}function NU(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"cdk-virtual-scroll-viewport",37,38),o.NdJ("scrolledIndexChange",function(){return o.CHM(e),o.oxw(4).scrollToSelectedVirtualScrollElement()}),o.YNc(2,FU,2,5,"ng-container",39),o.qZA()}if(2&t){const e=o.oxw(2).$implicit,s=o.oxw(2);o.Q6J("ngStyle",o.VKq(3,E3,s.scrollHeight))("itemSize",s.itemSize),o.xp6(2),o.Q6J("cdkVirtualForOf",e)}}function zU(t,i){if(1&t&&o.YNc(0,NU,3,5,"cdk-virtual-scroll-viewport",36),2&t){const e=o.oxw(3);o.Q6J("ngIf",e.virtualScroll&&e.optionsToDisplay&&e.optionsToDisplay.length)}}function BU(t,i){if(1&t&&(o.YNc(0,RU,2,1,"ng-container",33),o.YNc(1,zU,1,1,"ng-template",null,34,o.W1O)),2&t){const e=o.MAs(2),s=o.oxw(2);o.Q6J("ngIf",!s.virtualScroll)("ngIfElse",e)}}function YU(t,i){if(1&t&&(o.ynx(0),o._uU(1),o.BQk()),2&t){const e=o.oxw(3);o.xp6(1),o.hij(" ",e.emptyFilterMessageLabel," ")}}function HU(t,i){1&t&&o.GkF(0,null,41)}function VU(t,i){if(1&t&&(o.TgZ(0,"li",40),o.YNc(1,YU,2,1,"ng-container",33),o.YNc(2,HU,2,0,"ng-container",20),o.qZA()),2&t){const e=o.oxw(2);o.xp6(1),o.Q6J("ngIf",!e.emptyFilterTemplate&&!e.emptyTemplate)("ngIfElse",e.emptyFilter),o.xp6(1),o.Q6J("ngTemplateOutlet",e.emptyFilterTemplate||e.emptyTemplate)}}function UU(t,i){if(1&t&&(o.ynx(0),o._uU(1),o.BQk()),2&t){const e=o.oxw(3);o.xp6(1),o.hij(" ",e.emptyMessageLabel," ")}}function jU(t,i){1&t&&o.GkF(0,null,42)}function ZU(t,i){if(1&t&&(o.TgZ(0,"li",40),o.YNc(1,UU,2,1,"ng-container",33),o.YNc(2,jU,2,0,"ng-container",20),o.qZA()),2&t){const e=o.oxw(2);o.xp6(1),o.Q6J("ngIf",!e.emptyTemplate)("ngIfElse",e.empty),o.xp6(1),o.Q6J("ngTemplateOutlet",e.emptyTemplate)}}function GU(t,i){1&t&&o.GkF(0)}const WU=function(t,i){return{showTransitionParams:t,hideTransitionParams:i}},qU=function(t){return{value:"visible",params:t}},$U=function(t){return{"p-dropdown-virtualscroll":t}};function QU(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",19),o.NdJ("click",function(a){return o.CHM(e),o.oxw().onOverlayClick(a)})("@overlayAnimation.start",function(a){return o.CHM(e),o.oxw().onOverlayAnimationStart(a)})("@overlayAnimation.start",function(a){return o.CHM(e),o.oxw().onOverlayAnimationEnd(a)}),o.YNc(1,TU,1,0,"ng-container",20),o.YNc(2,SU,5,3,"div",21),o.TgZ(3,"div",22),o.TgZ(4,"ul",23),o.YNc(5,IU,2,1,"ng-container",13),o.YNc(6,PU,2,5,"ng-container",13),o.YNc(7,BU,3,2,"ng-template",null,24,o.W1O),o.YNc(9,VU,3,3,"li",25),o.YNc(10,ZU,3,3,"li",25),o.qZA(),o.qZA(),o.YNc(11,GU,1,0,"ng-container",20),o.qZA()}if(2&t){const e=o.oxw();o.Tol(e.panelStyleClass),o.Q6J("ngClass","p-dropdown-panel p-component")("@overlayAnimation",o.VKq(18,qU,o.WLB(15,WU,e.showTransitionOptions,e.hideTransitionOptions)))("ngStyle",e.panelStyle),o.xp6(1),o.Q6J("ngTemplateOutlet",e.headerTemplate),o.xp6(1),o.Q6J("ngIf",e.filter),o.xp6(1),o.Udp("max-height",e.virtualScroll?"auto":e.scrollHeight||"auto"),o.xp6(1),o.Q6J("ngClass",o.VKq(20,$U,e.virtualScroll)),o.xp6(1),o.Q6J("ngIf",e.group),o.xp6(1),o.Q6J("ngIf",!e.group),o.xp6(3),o.Q6J("ngIf",e.filterValue&&e.isEmpty()),o.xp6(1),o.Q6J("ngIf",!e.filterValue&&e.isEmpty()),o.xp6(1),o.Q6J("ngTemplateOutlet",e.footerTemplate)}}const XU=function(t,i,e,s){return{"p-dropdown p-component":!0,"p-disabled":t,"p-dropdown-open":i,"p-focus":e,"p-dropdown-clearable":s}},JU={provide:Jl,useExisting:(0,o.Gpc)(()=>JA),multi:!0};let KU=(()=>{class t{constructor(){this.onClick=new o.vpe}onOptionClick(e){this.onClick.emit({originalEvent:e,option:this.option})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-dropdownItem"]],inputs:{option:"option",selected:"selected",label:"label",disabled:"disabled",visible:"visible",itemSize:"itemSize",template:"template"},outputs:{onClick:"onClick"},decls:3,vars:14,consts:[["role","option","pRipple","",3,"ngStyle","ngClass","click"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,s){1&e&&(o.TgZ(0,"li",0),o.NdJ("click",function(l){return s.onOptionClick(l)}),o.YNc(1,uU,2,1,"span",1),o.YNc(2,dU,1,0,"ng-container",2),o.qZA()),2&e&&(o.Q6J("ngStyle",o.VKq(7,E3,s.itemSize+"px"))("ngClass",o.WLB(9,hU,s.selected,s.disabled)),o.uIk("aria-label",s.label)("aria-selected",s.selected),o.xp6(1),o.Q6J("ngIf",!s.template),o.xp6(1),o.Q6J("ngTemplateOutlet",s.template)("ngTemplateOutletContext",o.VKq(12,CO,s.option)))},directives:[Km,qi,he,un,jr],encapsulation:2}),t})(),JA=(()=>{class t{constructor(e,s,a,l,h,v,C){this.el=e,this.renderer=s,this.cd=a,this.zone=l,this.filterService=h,this.config=v,this.overlayService=C,this.scrollHeight="200px",this.appendTo="body",this.resetFilterOnHide=!1,this.dropdownIcon="pi pi-chevron-down",this.optionGroupChildren="items",this.autoDisplayFirst=!0,this.emptyFilterMessage="",this.emptyMessage="",this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.filterMatchMode="contains",this.tooltip="",this.tooltipPosition="right",this.tooltipPositionStyle="absolute",this.autofocusFilter=!0,this.onChange=new o.vpe,this.onFilter=new o.vpe,this.onFocus=new o.vpe,this.onBlur=new o.vpe,this.onClick=new o.vpe,this.onShow=new o.vpe,this.onHide=new o.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.viewPortOffsetTop=0}get disabled(){return this._disabled}set disabled(e){e&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=e,this.cd.destroyed||this.cd.detectChanges()}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":this.itemTemplate=e.template;break;case"selectedItem":this.selectedItemTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"emptyfilter":this.emptyFilterTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;case"group":this.groupTemplate=e.template;break;default:this.itemTemplate=e.template}})}ngOnInit(){this.optionsToDisplay=this.options,this.updateSelectedOption(null)}get options(){return this._options}set options(e){this._options=e,this.optionsToDisplay=this._options,this.updateSelectedOption(this.value),this.optionsChanged=!0,this._filterValue&&this._filterValue.length&&this.activateFilter()}get filterValue(){return this._filterValue}set filterValue(e){this._filterValue=e,this.activateFilter()}ngAfterViewInit(){this.editable&&this.updateEditableLabel()}get label(){return this.selectedOption?this.getOptionLabel(this.selectedOption):null}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(qu.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(qu.EMPTY_FILTER_MESSAGE)}get filled(){return this.value||null!=this.value||null!=this.value}updateEditableLabel(){this.editableInputViewChild&&this.editableInputViewChild.nativeElement&&(this.editableInputViewChild.nativeElement.value=this.selectedOption?this.getOptionLabel(this.selectedOption):this.value||"")}getOptionLabel(e){return this.optionLabel?gr.resolveFieldData(e,this.optionLabel):null!=e.label?e.label:e}getOptionValue(e){return this.optionValue?gr.resolveFieldData(e,this.optionValue):this.optionLabel||void 0===e.value?e:e.value}isOptionDisabled(e){return this.optionDisabled?gr.resolveFieldData(e,this.optionDisabled):void 0!==e.disabled&&e.disabled}getOptionGroupLabel(e){return this.optionGroupLabel?gr.resolveFieldData(e,this.optionGroupLabel):null!=e.label?e.label:e}getOptionGroupChildren(e){return this.optionGroupChildren?gr.resolveFieldData(e,this.optionGroupChildren):e.items}onItemClick(e){const s=e.option;this.isOptionDisabled(s)||(this.selectItem(e,s),this.accessibleViewChild.nativeElement.focus()),setTimeout(()=>{this.hide()},150)}selectItem(e,s){this.selectedOption!=s&&(this.selectedOption=s,this.value=this.getOptionValue(s),this.onModelChange(this.value),this.updateEditableLabel(),this.onChange.emit({originalEvent:e.originalEvent,value:this.value}),this.virtualScroll&&setTimeout(()=>{this.viewPortOffsetTop=this.viewPort?this.viewPort.measureScrollOffset():0},1))}ngAfterViewChecked(){if(this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.virtualScroll&&this.updateVirtualScrollSelectedIndex(!0),this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper){if(this.virtualScroll&&this.viewPort){let s=this.viewPort.getRenderedRange();this.updateVirtualScrollSelectedIndex(!1),(s.start>this.virtualScrollSelectedIndex||s.end<this.virtualScrollSelectedIndex)&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)}cn.findSingle(this.overlay,"li.p-highlight")&&cn.scrollInView(this.itemsWrapper,cn.findSingle(this.overlay,"li.p-highlight")),this.selectedOptionUpdated=!1}}writeValue(e){this.filter&&this.resetFilter(),this.value=e,this.updateSelectedOption(e),this.updateEditableLabel(),this.cd.markForCheck()}resetFilter(){this._filterValue=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this.optionsToDisplay=this.options}updateSelectedOption(e){this.selectedOption=this.findOption(e,this.optionsToDisplay),this.autoDisplayFirst&&!this.placeholder&&!this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&!this.editable&&(this.selectedOption=this.optionsToDisplay[0]),this.selectedOptionUpdated=!0}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onMouseclick(e){this.disabled||this.readonly||this.isInputClick(e)||(this.onClick.emit(e),this.accessibleViewChild.nativeElement.focus(),this.overlayVisible?this.hide():this.show(),this.cd.detectChanges())}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}isInputClick(e){return cn.hasClass(e.target,"p-dropdown-clear-icon")||e.target.isSameNode(this.accessibleViewChild.nativeElement)||this.editableInputViewChild&&e.target.isSameNode(this.editableInputViewChild.nativeElement)}isOutsideClicked(e){return!(this.el.nativeElement.isSameNode(e.target)||this.el.nativeElement.contains(e.target)||this.overlay&&this.overlay.contains(e.target))}isEmpty(){return!this.optionsToDisplay||this.optionsToDisplay&&0===this.optionsToDisplay.length}onEditableInputClick(){this.bindDocumentClickListener()}onEditableInputFocus(e){this.focused=!0,this.hide(),this.onFocus.emit(e)}onEditableInputChange(e){this.value=e.target.value,this.updateSelectedOption(this.value),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value})}show(){this.overlayVisible=!0}onOverlayAnimationStart(e){switch(e.toState){case"visible":if(this.overlay=e.element,this.itemsWrapper=cn.findSingle(this.overlay,this.virtualScroll?".cdk-virtual-scroll-viewport":".p-dropdown-items-wrapper"),this.appendOverlay(),this.autoZIndex&&ru.set("overlay",this.overlay,this.config.zIndex.overlay),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.options&&this.options.length&&!this.virtualScroll){let a=cn.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");a&&cn.scrollInView(this.itemsWrapper,a)}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(e);break;case"void":this.onOverlayHide(),this.onHide.emit(e)}}onOverlayAnimationEnd(e){switch(e.toState){case"void":ru.clear(e.element)}}scrollToSelectedVirtualScrollElement(){this.virtualAutoScrolled||(this.viewPortOffsetTop?this.viewPort.scrollToOffset(this.viewPortOffsetTop):this.virtualScrollSelectedIndex>-1&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)),this.virtualAutoScrolled=!0}updateVirtualScrollSelectedIndex(e){this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&(e&&(this.viewPortOffsetTop=0),this.virtualScrollSelectedIndex=this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay))}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):cn.appendChild(this.overlay,this.appendTo),this.overlay.style.minWidth||(this.overlay.style.minWidth=cn.getWidth(this.containerViewChild.nativeElement)+"px"))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}hide(){this.overlayVisible=!1,this.filter&&this.resetFilterOnHide&&this.resetFilter(),this.virtualScroll&&(this.virtualAutoScrolled=!1),this.cd.markForCheck()}alignOverlay(){this.overlay&&(this.appendTo?cn.absolutePosition(this.overlay,this.containerViewChild.nativeElement):cn.relativePosition(this.overlay,this.containerViewChild.nativeElement))}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.onBlur.emit(e),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}findPrevEnabledOption(e){let s;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let a=e-1;0<=a;a--){let l=this.optionsToDisplay[a];if(!l.disabled){s=l;break}}if(!s)for(let a=this.optionsToDisplay.length-1;a>=e;a--){let l=this.optionsToDisplay[a];if(!this.isOptionDisabled(l)){s=l;break}}}return s}findNextEnabledOption(e){let s;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let a=e+1;a<this.optionsToDisplay.length;a++){let l=this.optionsToDisplay[a];if(!this.isOptionDisabled(l)){s=l;break}}if(!s)for(let a=0;a<e;a++){let l=this.optionsToDisplay[a];if(!this.isOptionDisabled(l)){s=l;break}}}return s}onKeydown(e,s){if(!this.readonly&&this.optionsToDisplay&&null!==this.optionsToDisplay.length)switch(e.which){case 40:if(!this.overlayVisible&&e.altKey)this.show();else if(this.group){let a=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==a){let l=a.itemIndex+1;l<this.getOptionGroupChildren(this.optionsToDisplay[a.groupIndex]).length?(this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[a.groupIndex])[l]),this.selectedOptionUpdated=!0):this.optionsToDisplay[a.groupIndex+1]&&(this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[a.groupIndex+1])[0]),this.selectedOptionUpdated=!0)}else this.optionsToDisplay&&this.optionsToDisplay.length>0&&this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[0])[0])}else{let a=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,l=this.findNextEnabledOption(a);l&&(this.selectItem(e,l),this.selectedOptionUpdated=!0)}e.preventDefault();break;case 38:if(this.group){let a=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==a){let l=a.itemIndex-1;if(l>=0)this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[a.groupIndex])[l]),this.selectedOptionUpdated=!0;else if(l<0){let h=this.optionsToDisplay[a.groupIndex-1];h&&(this.selectItem(e,this.getOptionGroupChildren(h)[this.getOptionGroupChildren(h).length-1]),this.selectedOptionUpdated=!0)}}}else{let a=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,l=this.findPrevEnabledOption(a);l&&(this.selectItem(e,l),this.selectedOptionUpdated=!0)}e.preventDefault();break;case 32:case 32:this.overlayVisible||(this.show(),e.preventDefault());break;case 13:(!this.filter||this.optionsToDisplay&&this.optionsToDisplay.length>0)&&this.hide(),e.preventDefault();break;case 27:case 9:this.hide();break;default:s&&!e.metaKey&&this.search(e)}}search(e){this.searchTimeout&&clearTimeout(this.searchTimeout);const s=e.key;let a;if(this.previousSearchChar=this.currentSearchChar,this.currentSearchChar=s,this.searchValue=this.previousSearchChar===this.currentSearchChar?this.currentSearchChar:this.searchValue?this.searchValue+s:s,this.group){let l=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):{groupIndex:0,itemIndex:0};a=this.searchOptionWithinGroup(l)}else{let l=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;a=this.searchOption(++l)}a&&!this.isOptionDisabled(a)&&(this.selectItem(e,a),this.selectedOptionUpdated=!0),this.searchTimeout=setTimeout(()=>{this.searchValue=null},250)}searchOption(e){let s;return this.searchValue&&(s=this.searchOptionInRange(e,this.optionsToDisplay.length),s||(s=this.searchOptionInRange(0,e))),s}searchOptionInRange(e,s){for(let a=e;a<s;a++){let l=this.optionsToDisplay[a];if(this.getOptionLabel(l).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(l))return l}return null}searchOptionWithinGroup(e){if(this.searchValue){for(let a=e.groupIndex;a<this.optionsToDisplay.length;a++)for(let l=e.groupIndex===a?e.itemIndex+1:0;l<this.getOptionGroupChildren(this.optionsToDisplay[a]).length;l++){let h=this.getOptionGroupChildren(this.optionsToDisplay[a])[l];if(this.getOptionLabel(h).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(h))return h}for(let a=0;a<=e.groupIndex;a++)for(let l=0;l<(e.groupIndex===a?e.itemIndex:this.getOptionGroupChildren(this.optionsToDisplay[a]).length);l++){let h=this.getOptionGroupChildren(this.optionsToDisplay[a])[l];if(this.getOptionLabel(h).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(h))return h}}return null}findOptionIndex(e,s){let a=-1;if(s)for(let l=0;l<s.length;l++)if(null==e&&null==this.getOptionValue(s[l])||gr.equals(e,this.getOptionValue(s[l]),this.dataKey)){a=l;break}return a}findOptionGroupIndex(e,s){let a,l;if(s)for(let h=0;h<s.length&&(a=h,l=this.findOptionIndex(e,this.getOptionGroupChildren(s[h])),-1===l);h++);return-1!==l?{groupIndex:a,itemIndex:l}:-1}findOption(e,s,a){if(this.group&&!a){let l;if(s&&s.length)for(let h of s)if(l=this.findOption(e,this.getOptionGroupChildren(h),!0),l)break;return l}{let l=this.findOptionIndex(e,s);return-1!=l?s[l]:null}}onFilterInputChange(e){let s=e.target.value;s&&s.length?(this._filterValue=s,this.activateFilter()):(this._filterValue=null,this.optionsToDisplay=this.options),this.optionsChanged=!0,this.onFilter.emit({originalEvent:e,filter:this._filterValue})}activateFilter(){let e=(this.filterBy||this.optionLabel||"label").split(",");if(this.options&&this.options.length){if(this.group){let s=[];for(let a of this.options){let l=this.filterService.filter(this.getOptionGroupChildren(a),e,this.filterValue,this.filterMatchMode,this.filterLocale);l&&l.length&&s.push(Object.assign(Object.assign({},a),{[this.optionGroupChildren]:l}))}this.optionsToDisplay=s}else this.optionsToDisplay=this.filterService.filter(this.options,e,this.filterValue,this.filterMatchMode,this.filterLocale);this.optionsChanged=!0}}applyFocus(){this.editable?cn.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():cn.findSingle(this.el.nativeElement,"input[readonly]").focus()}focus(){this.applyFocus()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",s=>{this.isOutsideClicked(s)&&(this.hide(),this.unbindDocumentClickListener()),this.cd.markForCheck()}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}onWindowResize(){cn.isAndroid()||this.hide()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new SC(this.containerViewChild.nativeElement,e=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}clear(e){this.value=null,this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}),this.updateSelectedOption(this.value),this.updateEditableLabel()}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null,this.itemsWrapper=null,this.onModelTouched()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&ru.clear(this.overlay),this.restoreOverlayAppend(),this.onOverlayHide()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(o.sBO),o.Y36(o.R0b),o.Y36($u),o.Y36(_m),o.Y36(U0))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-dropdown"]],contentQueries:function(e,s,a){if(1&e&&o.Suo(a,Rl,4),2&e){let l;o.iGM(l=o.CRH())&&(s.templates=l)}},viewQuery:function(e,s){if(1&e&&(o.Gf(pU,5),o.Gf(fU,5),o.Gf(mU,5),o.Gf(Nw,5),o.Gf(gU,5)),2&e){let a;o.iGM(a=o.CRH())&&(s.containerViewChild=a.first),o.iGM(a=o.CRH())&&(s.filterViewChild=a.first),o.iGM(a=o.CRH())&&(s.accessibleViewChild=a.first),o.iGM(a=o.CRH())&&(s.viewPort=a.first),o.iGM(a=o.CRH())&&(s.editableInputViewChild=a.first)}},hostVars:4,hostBindings:function(e,s){2&e&&o.ekj("p-inputwrapper-filled",s.filled)("p-inputwrapper-focus",s.focused||s.overlayVisible)},inputs:{scrollHeight:"scrollHeight",filter:"filter",name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:"readonly",required:"required",editable:"editable",appendTo:"appendTo",tabindex:"tabindex",placeholder:"placeholder",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",inputId:"inputId",selectId:"selectId",dataKey:"dataKey",filterBy:"filterBy",autofocus:"autofocus",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:"autoDisplayFirst",group:"group",showClear:"showClear",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",virtualScroll:"virtualScroll",itemSize:"itemSize",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:"maxlength",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:"autofocusFilter",disabled:"disabled",options:"options",filterValue:"filterValue"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide"},features:[o._Bn([JU])],decls:12,vars:22,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","","aria-haspopup","listbox","aria-haspopup","listbox",3,"disabled","focus","blur","keydown"],["in",""],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],["type","text","class","p-dropdown-label p-inputtext","aria-haspopup","listbox",3,"disabled","click","input","focus","blur",4,"ngIf"],["class","p-dropdown-clear-icon pi pi-times",3,"click",4,"ngIf"],["role","button","aria-haspopup","listbox",1,"p-dropdown-trigger"],[1,"p-dropdown-trigger-icon",3,"ngClass"],["onOverlayAnimationEnd","",3,"ngClass","ngStyle","class","click",4,"ngIf"],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["type","text","aria-haspopup","listbox",1,"p-dropdown-label","p-inputtext",3,"disabled","click","input","focus","blur"],["editableInput",""],[1,"p-dropdown-clear-icon","pi","pi-times",3,"click"],["onOverlayAnimationEnd","",3,"ngClass","ngStyle","click"],[4,"ngTemplateOutlet"],["class","p-dropdown-header",4,"ngIf"],[1,"p-dropdown-items-wrapper"],["role","listbox",1,"p-dropdown-items",3,"ngClass"],["itemslist",""],["class","p-dropdown-empty-message",4,"ngIf"],[1,"p-dropdown-header"],[1,"p-dropdown-filter-container",3,"click"],["type","text","autocomplete","off",1,"p-dropdown-filter","p-inputtext","p-component",3,"value","keydown.enter","keydown","input"],["filter",""],[1,"p-dropdown-filter-icon","pi","pi-search"],["ngFor","",3,"ngForOf"],[1,"p-dropdown-item-group"],[4,"ngIf","ngIfElse"],["virtualScrollList",""],[3,"option","selected","label","disabled","template","onClick"],[3,"ngStyle","itemSize","scrolledIndexChange",4,"ngIf"],[3,"ngStyle","itemSize","scrolledIndexChange"],["viewport",""],[4,"cdkVirtualFor","cdkVirtualForOf"],[1,"p-dropdown-empty-message"],["emptyFilter",""],["empty",""]],template:function(e,s){1&e&&(o.TgZ(0,"div",0,1),o.NdJ("click",function(l){return s.onMouseclick(l)}),o.TgZ(2,"div",2),o.TgZ(3,"input",3,4),o.NdJ("focus",function(l){return s.onInputFocus(l)})("blur",function(l){return s.onInputBlur(l)})("keydown",function(l){return s.onKeydown(l,!0)}),o.qZA(),o.qZA(),o.YNc(5,bU,3,12,"span",5),o.YNc(6,wU,2,4,"span",6),o.YNc(7,CU,2,4,"input",7),o.YNc(8,MU,1,0,"i",8),o.TgZ(9,"div",9),o._UZ(10,"span",10),o.qZA(),o.YNc(11,QU,12,22,"div",11),o.qZA()),2&e&&(o.Tol(s.styleClass),o.Q6J("ngClass",o.l5B(17,XU,s.disabled,s.overlayVisible,s.focused,s.showClear&&!s.disabled))("ngStyle",s.style),o.xp6(3),o.Q6J("disabled",s.disabled),o.uIk("id",s.inputId)("aria-expanded",s.overlayVisible)("aria-labelledby",s.ariaLabelledBy)("tabindex",s.tabindex)("autofocus",s.autofocus),o.xp6(2),o.Q6J("ngIf",!s.editable&&null!=s.label),o.xp6(1),o.Q6J("ngIf",!s.editable&&null==s.label),o.xp6(1),o.Q6J("ngIf",s.editable),o.xp6(1),o.Q6J("ngIf",null!=s.value&&s.showClear&&!s.disabled),o.xp6(1),o.uIk("aria-expanded",s.overlayVisible),o.xp6(1),o.Q6J("ngClass",s.dropdownIcon),o.xp6(1),o.Q6J("ngIf",s.overlayVisible))},directives:[he,qi,un,S3,jr,mt,KU,Nw,BA,Gg],styles:[".p-dropdown{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;-ms-user-select:none;user-select:none}.p-dropdown-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-dropdown-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-dropdown-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-dropdown-label-empty{overflow:hidden;visibility:hidden}input.p-dropdown-label{cursor:default}.p-dropdown .p-dropdown-panel{min-width:100%}.p-dropdown-panel{position:absolute;top:0;left:0}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-dropdown-items{margin:0;padding:0;list-style-type:none}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-dropdown{display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}"],encapsulation:2,data:{animation:[oa("overlayAnimation",[Ir(":enter",[oi({opacity:0,transform:"scaleY(0.8)"}),qr("{{showTransitionParams}}")]),Ir(":leave",[qr("{{hideTransitionParams}}",oi({opacity:0}))])])]},changeDetection:0}),t})(),KA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Ji,Ha,ef,k3,Bh],Ha,ef]}),t})();const A3="undefined"==typeof window?function(t){return t()}:window.requestAnimationFrame;function I3(t,i,e){const s=e||(h=>Array.prototype.slice.call(h));let a=!1,l=[];return function(...h){l=s(h),a||(a=!0,A3.call(window,()=>{a=!1,t.apply(i,l)}))}}const MO=t=>"start"===t?"left":"end"===t?"right":"center",tf=(t,i,e)=>"start"===t?i:"end"===t?e:(i+e)/2;function Mb(){}const n5=function(){let t=0;return function(){return t++}}();function ka(t){return null==t}function Kl(t){if(Array.isArray&&Array.isArray(t))return!0;const i=Object.prototype.toString.call(t);return"[object"===i.substr(0,7)&&"Array]"===i.substr(-6)}function No(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}const Xu=t=>("number"==typeof t||t instanceof Number)&&isFinite(+t);function qg(t,i){return Xu(t)?t:i}function io(t,i){return void 0===t?i:t}const L3=(t,i)=>"string"==typeof t&&t.endsWith("%")?parseFloat(t)/100*i:+t;function ec(t,i,e){if(t&&"function"==typeof t.call)return t.apply(e,i)}function ol(t,i,e,s){let a,l,h;if(Kl(t))if(l=t.length,s)for(a=l-1;a>=0;a--)i.call(e,t[a],a);else for(a=0;a<l;a++)i.call(e,t[a],a);else if(No(t))for(h=Object.keys(t),l=h.length,a=0;a<l;a++)i.call(e,t[h[a]],h[a])}function eI(t,i){let e,s,a,l;if(!t||!i||t.length!==i.length)return!1;for(e=0,s=t.length;e<s;++e)if(a=t[e],l=i[e],a.datasetIndex!==l.datasetIndex||a.index!==l.index)return!1;return!0}function tI(t){if(Kl(t))return t.map(tI);if(No(t)){const i=Object.create(null),e=Object.keys(t),s=e.length;let a=0;for(;a<s;++a)i[e[a]]=tI(t[e[a]]);return i}return t}function P3(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}function s5(t,i,e,s){if(!P3(t))return;const a=i[t],l=e[t];No(a)&&No(l)?RS(a,l,s):i[t]=tI(l)}function RS(t,i,e){const s=Kl(i)?i:[i],a=s.length;if(!No(t))return t;const l=(e=e||{}).merger||s5;for(let h=0;h<a;++h){if(!No(i=s[h]))continue;const v=Object.keys(i);for(let C=0,O=v.length;C<O;++C)l(v[C],t,i,e)}return t}function FS(t,i){return RS(t,i,{merger:o5})}function o5(t,i,e){if(!P3(t))return;const s=i[t],a=e[t];No(s)&&No(a)?FS(s,a):Object.prototype.hasOwnProperty.call(i,t)||(i[t]=tI(a))}function O3(t,i){const e=t.indexOf(".",i);return-1===e?t.length:e}function Bw(t,i){if(""===i)return t;let e=0,s=O3(i,e);for(;t&&s>e;)t=t[i.substr(e,s-e)],e=s+1,s=O3(i,e);return t}function TO(t){return t.charAt(0).toUpperCase()+t.slice(1)}const $g=t=>void 0!==t,$0=t=>"function"==typeof t,bu=Math.PI,Fl=2*bu,u5=Fl+bu,nI=Number.POSITIVE_INFINITY,d5=bu/180,Ju=bu/2,NS=bu/4,R3=2*bu/3,Qg=Math.log10,Mv=Math.sign;function F3(t){const i=Math.round(t);t=zS(t,i,t/1e3)?i:t;const e=Math.pow(10,Math.floor(Qg(t))),s=t/e;return(s<=1?1:s<=2?2:s<=5?5:10)*e}function VC(t){return!isNaN(parseFloat(t))&&isFinite(t)}function zS(t,i,e){return Math.abs(t-i)<e}function N3(t,i,e){let s,a,l;for(s=0,a=t.length;s<a;s++)l=t[s][e],isNaN(l)||(i.min=Math.min(i.min,l),i.max=Math.max(i.max,l))}function ry(t){return t*(bu/180)}function SO(t){return t*(180/bu)}function z3(t){if(!Xu(t))return;let i=1,e=0;for(;Math.round(t*i)/i!==t;)i*=10,e++;return e}function kO(t,i){return Math.sqrt(Math.pow(i.x-t.x,2)+Math.pow(i.y-t.y,2))}function m5(t,i){return(t-i+u5)%Fl-bu}function sy(t){return(t%Fl+Fl)%Fl}function iI(t,i,e,s){const a=sy(t),l=sy(i),h=sy(e),v=sy(l-a),C=sy(h-a),O=sy(a-l),G=sy(a-h);return a===l||a===h||s&&l===h||v>C&&O<G}function Uh(t,i,e){return Math.max(i,Math.min(e,t))}const rI=t=>0===t||1===t,B3=(t,i,e)=>-Math.pow(2,10*(t-=1))*Math.sin((t-i)*Fl/e),Y3=(t,i,e)=>Math.pow(2,-10*t)*Math.sin((t-i)*Fl/e)+1,BS={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>1-Math.cos(t*Ju),easeOutSine:t=>Math.sin(t*Ju),easeInOutSine:t=>-.5*(Math.cos(bu*t)-1),easeInExpo:t=>0===t?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>1===t?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>rI(t)?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,-10*(2*t-1))),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>rI(t)?t:B3(t,.075,.3),easeOutElastic:t=>rI(t)?t:Y3(t,.075,.3),easeInOutElastic(t){const i=.1125;return rI(t)?t:t<.5?.5*B3(2*t,i,.45):.5+.5*Y3(2*t-1,i,.45)},easeInBack(t){const i=1.70158;return t*t*((i+1)*t-i)},easeOutBack(t){const i=1.70158;return(t-=1)*t*((i+1)*t+i)+1},easeInOutBack(t){let i=1.70158;return(t/=.5)<1?t*t*((1+(i*=1.525))*t-i)*.5:.5*((t-=2)*t*((1+(i*=1.525))*t+i)+2)},easeInBounce:t=>1-BS.easeOutBounce(1-t),easeOutBounce(t){const i=7.5625,e=2.75;return t<1/e?i*t*t:t<2/e?i*(t-=1.5/e)*t+.75:t<2.5/e?i*(t-=2.25/e)*t+.9375:i*(t-=2.625/e)*t+.984375},easeInOutBounce:t=>t<.5?.5*BS.easeInBounce(2*t):.5*BS.easeOutBounce(2*t-1)+.5},Xg={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},EO="0123456789ABCDEF",_5=t=>EO[15&t],y5=t=>EO[(240&t)>>4]+EO[15&t],sI=t=>(240&t)>>4==(15&t);function YS(t){return t+.5|0}const oI=(t,i,e)=>Math.max(Math.min(t,e),i);function HS(t){return oI(YS(2.55*t),0,255)}function VS(t){return oI(YS(255*t),0,255)}function DO(t){return oI(YS(t/2.55)/100,0,1)}function H3(t){return oI(YS(100*t),0,100)}const w5=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,T5=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function V3(t,i,e){const s=i*Math.min(e,1-e),a=(l,h=(l+t/30)%12)=>e-s*Math.max(Math.min(h-3,9-h,1),-1);return[a(0),a(8),a(4)]}function S5(t,i,e){const s=(a,l=(a+t/60)%6)=>e-e*i*Math.max(Math.min(l,4-l,1),0);return[s(5),s(3),s(1)]}function k5(t,i,e){const s=V3(t,1,.5);let a;for(i+e>1&&(a=1/(i+e),i*=a,e*=a),a=0;a<3;a++)s[a]*=1-i-e,s[a]+=i;return s}function AO(t){const e=t.r/255,s=t.g/255,a=t.b/255,l=Math.max(e,s,a),h=Math.min(e,s,a),v=(l+h)/2;let C,O,G;return l!==h&&(G=l-h,O=v>.5?G/(2-l-h):G/(l+h),C=l===e?(s-a)/G+(s<a?6:0):l===s?(a-e)/G+2:(e-s)/G+4,C=60*C+.5),[0|C,O||0,v]}function IO(t,i,e,s){return(Array.isArray(i)?t(i[0],i[1],i[2]):t(i,e,s)).map(VS)}function LO(t,i,e){return IO(V3,t,i,e)}function U3(t){return(t%360+360)%360}const j3={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Z3={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let aI;function lI(t,i,e){if(t){let s=AO(t);s[i]=Math.max(0,Math.min(s[i]+s[i]*e,0===i?360:1)),s=LO(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function G3(t,i){return t&&Object.assign(i||{},t)}function W3(t){var i={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(i={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(i.a=VS(t[3]))):(i=G3(t,{r:0,g:0,b:0,a:1})).a=VS(i.a),i}function R5(t){return"r"===t.charAt(0)?function(t){const i=w5.exec(t);let s,a,l,e=255;if(i){if(i[7]!==s){const h=+i[7];e=255&(i[8]?HS(h):255*h)}return s=+i[1],a=+i[3],l=+i[5],s=255&(i[2]?HS(s):s),a=255&(i[4]?HS(a):a),l=255&(i[6]?HS(l):l),{r:s,g:a,b:l,a:e}}}(t):function(t){const i=T5.exec(t);let s,e=255;if(!i)return;i[5]!==s&&(e=i[6]?HS(+i[5]):VS(+i[5]));const a=U3(+i[2]),l=+i[3]/100,h=+i[4]/100;return s="hwb"===i[1]?function(t,i,e){return IO(k5,t,i,e)}(a,l,h):"hsv"===i[1]?function(t,i,e){return IO(S5,t,i,e)}(a,l,h):LO(a,l,h),{r:s[0],g:s[1],b:s[2],a:e}}(t)}class cI{constructor(i){if(i instanceof cI)return i;const e=typeof i;let s;"object"===e?s=W3(i):"string"===e&&(s=function(t){var e,i=t.length;return"#"===t[0]&&(4===i||5===i?e={r:255&17*Xg[t[1]],g:255&17*Xg[t[2]],b:255&17*Xg[t[3]],a:5===i?17*Xg[t[4]]:255}:(7===i||9===i)&&(e={r:Xg[t[1]]<<4|Xg[t[2]],g:Xg[t[3]]<<4|Xg[t[4]],b:Xg[t[5]]<<4|Xg[t[6]],a:9===i?Xg[t[7]]<<4|Xg[t[8]]:255})),e}(i)||function(t){aI||(aI=function(){const t={},i=Object.keys(Z3),e=Object.keys(j3);let s,a,l,h,v;for(s=0;s<i.length;s++){for(h=v=i[s],a=0;a<e.length;a++)l=e[a],v=v.replace(l,j3[l]);l=parseInt(Z3[h],16),t[v]=[l>>16&255,l>>8&255,255&l]}return t}(),aI.transparent=[0,0,0,0]);const i=aI[t.toLowerCase()];return i&&{r:i[0],g:i[1],b:i[2],a:4===i.length?i[3]:255}}(i)||R5(i)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var i=G3(this._rgb);return i&&(i.a=DO(i.a)),i}set rgb(i){this._rgb=W3(i)}rgbString(){return this._valid?function(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${DO(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}(this._rgb):this._rgb}hexString(){return this._valid?function(t){var i=function(t){return sI(t.r)&&sI(t.g)&&sI(t.b)&&sI(t.a)}(t)?_5:y5;return t&&"#"+i(t.r)+i(t.g)+i(t.b)+(t.a<255?i(t.a):"")}(this._rgb):this._rgb}hslString(){return this._valid?function(t){if(!t)return;const i=AO(t),e=i[0],s=H3(i[1]),a=H3(i[2]);return t.a<255?`hsla(${e}, ${s}%, ${a}%, ${DO(t.a)})`:`hsl(${e}, ${s}%, ${a}%)`}(this._rgb):this._rgb}mix(i,e){const s=this;if(i){const a=s.rgb,l=i.rgb;let h;const v=e===h?.5:e,C=2*v-1,O=a.a-l.a,G=((C*O==-1?C:(C+O)/(1+C*O))+1)/2;h=1-G,a.r=255&G*a.r+h*l.r+.5,a.g=255&G*a.g+h*l.g+.5,a.b=255&G*a.b+h*l.b+.5,a.a=v*a.a+(1-v)*l.a,s.rgb=a}return s}clone(){return new cI(this.rgb)}alpha(i){return this._rgb.a=VS(i),this}clearer(i){return this._rgb.a*=1-i,this}greyscale(){const i=this._rgb,e=YS(.3*i.r+.59*i.g+.11*i.b);return i.r=i.g=i.b=e,this}opaquer(i){return this._rgb.a*=1+i,this}negate(){const i=this._rgb;return i.r=255-i.r,i.g=255-i.g,i.b=255-i.b,this}lighten(i){return lI(this._rgb,2,i),this}darken(i){return lI(this._rgb,2,-i),this}saturate(i){return lI(this._rgb,1,i),this}desaturate(i){return lI(this._rgb,1,-i),this}rotate(i){return function(t,i){var e=AO(t);e[0]=U3(e[0]+i),e=LO(e),t.r=e[0],t.g=e[1],t.b=e[2]}(this._rgb,i),this}}function q3(t){return new cI(t)}const $3=t=>t instanceof CanvasGradient||t instanceof CanvasPattern;function Q3(t){return $3(t)?t:q3(t)}function PO(t){return $3(t)?t:q3(t).saturate(.5).darken(.1).hexString()}const Yw=Object.create(null),OO=Object.create(null);function US(t,i){if(!i)return t;const e=i.split(".");for(let s=0,a=e.length;s<a;++s){const l=e[s];t=t[l]||(t[l]=Object.create(null))}return t}function RO(t,i,e){return"string"==typeof i?RS(US(t,i),e):RS(US(t,""),i)}var zo=new class{constructor(i){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,s)=>PO(s.backgroundColor),this.hoverBorderColor=(e,s)=>PO(s.borderColor),this.hoverColor=(e,s)=>PO(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.describe(i)}set(i,e){return RO(this,i,e)}get(i){return US(this,i)}describe(i,e){return RO(OO,i,e)}override(i,e){return RO(Yw,i,e)}route(i,e,s,a){const l=US(this,i),h=US(this,s),v="_"+e;Object.defineProperties(l,{[v]:{value:l[e],writable:!0},[e]:{enumerable:!0,get(){const C=this[v],O=h[a];return No(C)?Object.assign({},O,C):io(C,O)},set(C){this[v]=C}}})}}({_scriptable:t=>!t.startsWith("on"),_indexable:t=>"events"!==t,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function uI(t,i,e,s,a){let l=i[a];return l||(l=i[a]=t.measureText(a).width,e.push(a)),l>s&&(s=l),s}function z5(t,i,e,s){let a=(s=s||{}).data=s.data||{},l=s.garbageCollect=s.garbageCollect||[];s.font!==i&&(a=s.data={},l=s.garbageCollect=[],s.font=i),t.save(),t.font=i;let h=0;const v=e.length;let C,O,G,te,pe;for(C=0;C<v;C++)if(te=e[C],null!=te&&!0!==Kl(te))h=uI(t,a,l,h,te);else if(Kl(te))for(O=0,G=te.length;O<G;O++)pe=te[O],null!=pe&&!Kl(pe)&&(h=uI(t,a,l,h,pe));t.restore();const we=l.length/2;if(we>e.length){for(C=0;C<we;C++)delete a[l[C]];l.splice(0,we)}return h}function Hw(t,i,e){const s=t.currentDevicePixelRatio,a=0!==e?Math.max(e/2,.5):0;return Math.round((i-a)*s)/s+a}function X3(t,i){(i=i||t.getContext("2d")).save(),i.resetTransform(),i.clearRect(0,0,t.width,t.height),i.restore()}function dI(t,i,e,s){let a,l,h,v,C;const O=i.pointStyle,G=i.rotation,te=i.radius;let pe=(G||0)*d5;if(O&&"object"==typeof O&&(a=O.toString(),"[object HTMLImageElement]"===a||"[object HTMLCanvasElement]"===a))return t.save(),t.translate(e,s),t.rotate(pe),t.drawImage(O,-O.width/2,-O.height/2,O.width,O.height),void t.restore();if(!(isNaN(te)||te<=0)){switch(t.beginPath(),O){default:t.arc(e,s,te,0,Fl),t.closePath();break;case"triangle":t.moveTo(e+Math.sin(pe)*te,s-Math.cos(pe)*te),pe+=R3,t.lineTo(e+Math.sin(pe)*te,s-Math.cos(pe)*te),pe+=R3,t.lineTo(e+Math.sin(pe)*te,s-Math.cos(pe)*te),t.closePath();break;case"rectRounded":C=.516*te,v=te-C,l=Math.cos(pe+NS)*v,h=Math.sin(pe+NS)*v,t.arc(e-l,s-h,C,pe-bu,pe-Ju),t.arc(e+h,s-l,C,pe-Ju,pe),t.arc(e+l,s+h,C,pe,pe+Ju),t.arc(e-h,s+l,C,pe+Ju,pe+bu),t.closePath();break;case"rect":if(!G){v=Math.SQRT1_2*te,t.rect(e-v,s-v,2*v,2*v);break}pe+=NS;case"rectRot":l=Math.cos(pe)*te,h=Math.sin(pe)*te,t.moveTo(e-l,s-h),t.lineTo(e+h,s-l),t.lineTo(e+l,s+h),t.lineTo(e-h,s+l),t.closePath();break;case"crossRot":pe+=NS;case"cross":l=Math.cos(pe)*te,h=Math.sin(pe)*te,t.moveTo(e-l,s-h),t.lineTo(e+l,s+h),t.moveTo(e+h,s-l),t.lineTo(e-h,s+l);break;case"star":l=Math.cos(pe)*te,h=Math.sin(pe)*te,t.moveTo(e-l,s-h),t.lineTo(e+l,s+h),t.moveTo(e+h,s-l),t.lineTo(e-h,s+l),pe+=NS,l=Math.cos(pe)*te,h=Math.sin(pe)*te,t.moveTo(e-l,s-h),t.lineTo(e+l,s+h),t.moveTo(e+h,s-l),t.lineTo(e-h,s+l);break;case"line":l=Math.cos(pe)*te,h=Math.sin(pe)*te,t.moveTo(e-l,s-h),t.lineTo(e+l,s+h);break;case"dash":t.moveTo(e,s),t.lineTo(e+Math.cos(pe)*te,s+Math.sin(pe)*te)}t.fill(),i.borderWidth>0&&t.stroke()}}function Vw(t,i,e){return e=e||.5,!i||t&&t.x>i.left-e&&t.x<i.right+e&&t.y>i.top-e&&t.y<i.bottom+e}function hI(t,i){t.save(),t.beginPath(),t.rect(i.left,i.top,i.right-i.left,i.bottom-i.top),t.clip()}function pI(t){t.restore()}function B5(t,i,e,s,a){if(!i)return t.lineTo(e.x,e.y);if("middle"===a){const l=(i.x+e.x)/2;t.lineTo(l,i.y),t.lineTo(l,e.y)}else"after"===a!=!!s?t.lineTo(i.x,e.y):t.lineTo(e.x,i.y);t.lineTo(e.x,e.y)}function Y5(t,i,e,s){if(!i)return t.lineTo(e.x,e.y);t.bezierCurveTo(s?i.cp1x:i.cp2x,s?i.cp1y:i.cp2y,s?e.cp2x:e.cp1x,s?e.cp2y:e.cp1y,e.x,e.y)}function Uw(t,i,e,s,a,l={}){const h=Kl(i)?i:[i],v=l.strokeWidth>0&&""!==l.strokeColor;let C,O;for(t.save(),t.font=a.string,function(t,i){i.translation&&t.translate(i.translation[0],i.translation[1]),ka(i.rotation)||t.rotate(i.rotation),i.color&&(t.fillStyle=i.color),i.textAlign&&(t.textAlign=i.textAlign),i.textBaseline&&(t.textBaseline=i.textBaseline)}(t,l),C=0;C<h.length;++C)O=h[C],v&&(l.strokeColor&&(t.strokeStyle=l.strokeColor),ka(l.strokeWidth)||(t.lineWidth=l.strokeWidth),t.strokeText(O,e,s,l.maxWidth)),t.fillText(O,e,s,l.maxWidth),V5(t,e,s,O,l),s+=a.lineHeight;t.restore()}function V5(t,i,e,s,a){if(a.strikethrough||a.underline){const l=t.measureText(s),h=i-l.actualBoundingBoxLeft,v=i+l.actualBoundingBoxRight,C=e-l.actualBoundingBoxAscent,O=e+l.actualBoundingBoxDescent,G=a.strikethrough?(C+O)/2:O;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=a.decorationWidth||2,t.moveTo(h,G),t.lineTo(v,G),t.stroke()}}function fI(t,i){const{x:e,y:s,w:a,h:l,radius:h}=i;t.arc(e+h.topLeft,s+h.topLeft,h.topLeft,-Ju,bu,!0),t.lineTo(e,s+l-h.bottomLeft),t.arc(e+h.bottomLeft,s+l-h.bottomLeft,h.bottomLeft,bu,Ju,!0),t.lineTo(e+a-h.bottomRight,s+l),t.arc(e+a-h.bottomRight,s+l-h.bottomRight,h.bottomRight,Ju,0,!0),t.lineTo(e+a,s+h.topRight),t.arc(e+a-h.topRight,s+h.topRight,h.topRight,0,-Ju,!0),t.lineTo(e+h.topLeft,s)}const U5=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),j5=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function Z5(t,i){const e=(""+t).match(U5);if(!e||"normal"===e[1])return 1.2*i;switch(t=+e[2],e[3]){case"px":return t;case"%":t/=100}return i*t}const G5=t=>+t||0;function FO(t,i){const e={},s=No(i),a=s?Object.keys(i):i,l=No(t)?s?h=>io(t[h],t[i[h]]):h=>t[h]:()=>t;for(const h of a)e[h]=G5(l(h));return e}function J3(t){return FO(t,{top:"y",right:"x",bottom:"y",left:"x"})}function UC(t){return FO(t,["topLeft","topRight","bottomLeft","bottomRight"])}function If(t){const i=J3(t);return i.width=i.left+i.right,i.height=i.top+i.bottom,i}function th(t,i){let e=io((t=t||{}).size,(i=i||zo.font).size);"string"==typeof e&&(e=parseInt(e,10));let s=io(t.style,i.style);s&&!(""+s).match(j5)&&(console.warn('Invalid font style specified: "'+s+'"'),s="");const a={family:io(t.family,i.family),lineHeight:Z5(io(t.lineHeight,i.lineHeight),e),size:e,style:s,weight:io(t.weight,i.weight),string:""};return a.string=function(t){return!t||ka(t.size)||ka(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}(a),a}function jS(t,i,e,s){let l,h,v,a=!0;for(l=0,h=t.length;l<h;++l)if(v=t[l],void 0!==v&&(void 0!==i&&"function"==typeof v&&(v=v(i),a=!1),void 0!==e&&Kl(v)&&(v=v[e%v.length],a=!1),void 0!==v))return s&&!a&&(s.cacheable=!1),v}function Q0(t,i){return Object.assign(Object.create(t),i)}function NO(t,i,e){e=e||(h=>t[h]<i);let l,s=t.length-1,a=0;for(;s-a>1;)l=a+s>>1,e(l)?a=l:s=l;return{lo:a,hi:s}}const Tb=(t,i,e)=>NO(t,e,s=>t[s][i]<e),q5=(t,i,e)=>NO(t,e,s=>t[s][i]>=e),K3=["push","pop","shift","splice","unshift"];function ez(t,i){const e=t._chartjs;if(!e)return;const s=e.listeners,a=s.indexOf(i);-1!==a&&s.splice(a,1),!(s.length>0)&&(K3.forEach(l=>{delete t[l]}),delete t._chartjs)}function tz(t){const i=new Set;let e,s;for(e=0,s=t.length;e<s;++e)i.add(t[e]);return i.size===s?t:Array.from(i)}function zO(t,i=[""],e=t,s,a=(()=>t[0])){$g(s)||(s=az("_fallback",t));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:e,_fallback:s,_getTarget:a,override:h=>zO([h,...t],i,e,s)};return new Proxy(l,{deleteProperty:(h,v)=>(delete h[v],delete h._keys,delete t[0][v],!0),get:(h,v)=>rz(h,v,()=>function(t,i,e,s){let a;for(const l of i)if(a=az(X5(l,t),e),$g(a))return iz(t,a)?BO(e,s,t,a):a}(v,i,t,h)),getOwnPropertyDescriptor:(h,v)=>Reflect.getOwnPropertyDescriptor(h._scopes[0],v),getPrototypeOf:()=>Reflect.getPrototypeOf(t[0]),has:(h,v)=>lz(h).includes(v),ownKeys:h=>lz(h),set:(h,v,C)=>((h._storage||(h._storage=a()))[v]=C,delete h[v],delete h._keys,!0)})}function jC(t,i,e,s){const a={_cacheable:!1,_proxy:t,_context:i,_subProxy:e,_stack:new Set,_descriptors:nz(t,s),setContext:l=>jC(t,l,e,s),override:l=>jC(t.override(l),i,e,s)};return new Proxy(a,{deleteProperty:(l,h)=>(delete l[h],delete t[h],!0),get:(l,h,v)=>rz(l,h,()=>function(t,i,e){const{_proxy:s,_context:a,_subProxy:l,_descriptors:h}=t;let v=s[i];return $0(v)&&h.isScriptable(i)&&(v=function(t,i,e,s){const{_proxy:a,_context:l,_subProxy:h,_stack:v}=e;if(v.has(t))throw new Error("Recursion detected: "+Array.from(v).join("->")+"->"+t);return v.add(t),i=i(l,h||s),v.delete(t),No(i)&&(i=BO(a._scopes,a,t,i)),i}(i,v,t,e)),Kl(v)&&v.length&&(v=function(t,i,e,s){const{_proxy:a,_context:l,_subProxy:h,_descriptors:v}=e;if($g(l.index)&&s(t))i=i[l.index%i.length];else if(No(i[0])){const C=i,O=a._scopes.filter(G=>G!==C);i=[];for(const G of C){const te=BO(O,a,t,G);i.push(jC(te,l,h&&h[t],v))}}return i}(i,v,t,h.isIndexable)),iz(i,v)&&(v=jC(v,a,l&&l[i],h)),v}(l,h,v)),getOwnPropertyDescriptor:(l,h)=>l._descriptors.allKeys?Reflect.has(t,h)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,h),getPrototypeOf:()=>Reflect.getPrototypeOf(t),has:(l,h)=>Reflect.has(t,h),ownKeys:()=>Reflect.ownKeys(t),set:(l,h,v)=>(t[h]=v,delete l[h],!0)})}function nz(t,i={scriptable:!0,indexable:!0}){const{_scriptable:e=i.scriptable,_indexable:s=i.indexable,_allKeys:a=i.allKeys}=t;return{allKeys:a,scriptable:e,indexable:s,isScriptable:$0(e)?e:()=>e,isIndexable:$0(s)?s:()=>s}}const X5=(t,i)=>t?t+TO(i):i,iz=(t,i)=>No(i)&&"adapters"!==t;function rz(t,i,e){if(Object.prototype.hasOwnProperty.call(t,i))return t[i];const s=e();return t[i]=s,s}function sz(t,i,e){return $0(t)?t(i,e):t}const tj=(t,i)=>!0===t?i:"string"==typeof t?Bw(i,t):void 0;function nj(t,i,e,s){for(const a of i){const l=tj(e,a);if(l){t.add(l);const h=sz(l._fallback,e,l);if($g(h)&&h!==e&&h!==s)return h}else if(!1===l&&$g(s)&&e!==s)return null}return!1}function BO(t,i,e,s){const a=i._rootScopes,l=sz(i._fallback,e,s),h=[...t,...a],v=new Set;v.add(s);let C=oz(v,h,e,l||e);return!(null===C||$g(l)&&l!==e&&(C=oz(v,h,l,C),null===C))&&zO(Array.from(v),[""],a,l,()=>function(t,i,e){const s=t._getTarget();i in s||(s[i]={});const a=s[i];return Kl(a)&&No(e)?e:a}(i,e,s))}function oz(t,i,e,s){for(;e;)e=nj(t,i,e,s);return e}function az(t,i){for(const e of i){if(!e)continue;const s=e[t];if($g(s))return s}}function lz(t){let i=t._keys;return i||(i=t._keys=function(t){const i=new Set;for(const e of t)for(const s of Object.keys(e).filter(a=>!a.startsWith("_")))i.add(s);return Array.from(i)}(t._scopes)),i}const oj=Number.EPSILON||1e-14,ZC=(t,i)=>i<t.length&&!t[i].skip&&t[i],cz=t=>"x"===t?"y":"x";function aj(t,i,e,s){const a=t.skip?i:t,l=i,h=e.skip?i:e,v=kO(l,a),C=kO(h,l);let O=v/(v+C),G=C/(v+C);O=isNaN(O)?0:O,G=isNaN(G)?0:G;const te=s*O,pe=s*G;return{previous:{x:l.x-te*(h.x-a.x),y:l.y-te*(h.y-a.y)},next:{x:l.x+pe*(h.x-a.x),y:l.y+pe*(h.y-a.y)}}}function mI(t,i,e){return Math.max(Math.min(t,e),i)}function hj(t,i,e,s,a){let l,h,v,C;if(i.spanGaps&&(t=t.filter(O=>!O.skip)),"monotone"===i.cubicInterpolationMode)!function(t,i="x"){const e=cz(i),s=t.length,a=Array(s).fill(0),l=Array(s);let h,v,C,O=ZC(t,0);for(h=0;h<s;++h)if(v=C,C=O,O=ZC(t,h+1),C){if(O){const G=O[i]-C[i];a[h]=0!==G?(O[e]-C[e])/G:0}l[h]=v?O?Mv(a[h-1])!==Mv(a[h])?0:(a[h-1]+a[h])/2:a[h-1]:a[h]}(function(t,i,e){const s=t.length;let a,l,h,v,C,O=ZC(t,0);for(let G=0;G<s-1;++G)if(C=O,O=ZC(t,G+1),C&&O){if(zS(i[G],0,oj)){e[G]=e[G+1]=0;continue}a=e[G]/i[G],l=e[G+1]/i[G],v=Math.pow(a,2)+Math.pow(l,2),!(v<=9)&&(h=3/Math.sqrt(v),e[G]=a*h*i[G],e[G+1]=l*h*i[G])}})(t,a,l),function(t,i,e="x"){const s=cz(e),a=t.length;let l,h,v,C=ZC(t,0);for(let O=0;O<a;++O){if(h=v,v=C,C=ZC(t,O+1),!v)continue;const G=v[e],te=v[s];h&&(l=(G-h[e])/3,v[`cp1${e}`]=G-l,v[`cp1${s}`]=te-l*i[O]),C&&(l=(C[e]-G)/3,v[`cp2${e}`]=G+l,v[`cp2${s}`]=te+l*i[O])}}(t,l,i)}(t,a);else{let O=s?t[t.length-1]:t[0];for(l=0,h=t.length;l<h;++l)v=t[l],C=aj(O,v,t[Math.min(l+1,h-(s?0:1))%h],i.tension),v.cp1x=C.previous.x,v.cp1y=C.previous.y,v.cp2x=C.next.x,v.cp2y=C.next.y,O=v}i.capBezierPoints&&function(t,i){let e,s,a,l,h,v=Vw(t[0],i);for(e=0,s=t.length;e<s;++e)h=l,l=v,v=e<s-1&&Vw(t[e+1],i),l&&(a=t[e],h&&(a.cp1x=mI(a.cp1x,i.left,i.right),a.cp1y=mI(a.cp1y,i.top,i.bottom)),v&&(a.cp2x=mI(a.cp2x,i.left,i.right),a.cp2y=mI(a.cp2y,i.top,i.bottom)))}(t,e)}function uz(){return"undefined"!=typeof window&&"undefined"!=typeof document}function YO(t){let i=t.parentNode;return i&&"[object ShadowRoot]"===i.toString()&&(i=i.host),i}function gI(t,i,e){let s;return"string"==typeof t?(s=parseInt(t,10),-1!==t.indexOf("%")&&(s=s/100*i.parentNode[e])):s=t,s}const _I=t=>window.getComputedStyle(t,null),fj=["top","right","bottom","left"];function jw(t,i,e){const s={};e=e?"-"+e:"";for(let a=0;a<4;a++){const l=fj[a];s[l]=parseFloat(t[i+"-"+l+e])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}function dz(t,i){const{canvas:e,currentDevicePixelRatio:s}=i,a=_I(e),l="border-box"===a.boxSizing,h=jw(a,"padding"),v=jw(a,"border","width"),{x:C,y:O,box:G}=function(t,i){const e=t.native||t,s=e.touches,a=s&&s.length?s[0]:e,{offsetX:l,offsetY:h}=a;let C,O,v=!1;if(((t,i,e)=>(t>0||i>0)&&(!e||!e.shadowRoot))(l,h,e.target))C=l,O=h;else{const G=i.getBoundingClientRect();C=a.clientX-G.left,O=a.clientY-G.top,v=!0}return{x:C,y:O,box:v}}(t,e),te=h.left+(G&&v.left),pe=h.top+(G&&v.top);let{width:we,height:Le}=i;return l&&(we-=h.width+v.width,Le-=h.height+v.height),{x:Math.round((C-te)/we*e.width/s),y:Math.round((O-pe)/Le*e.height/s)}}const HO=t=>Math.round(10*t)/10;function hz(t,i,e){const s=i||1,a=Math.floor(t.height*s),l=Math.floor(t.width*s);t.height=a/s,t.width=l/s;const h=t.canvas;return h.style&&(e||!h.style.height&&!h.style.width)&&(h.style.height=`${t.height}px`,h.style.width=`${t.width}px`),(t.currentDevicePixelRatio!==s||h.height!==a||h.width!==l)&&(t.currentDevicePixelRatio=s,h.height=a,h.width=l,t.ctx.setTransform(s,0,0,s,0,0),!0)}const vj=function(){let t=!1;try{const i={get passive(){return t=!0,!1}};window.addEventListener("test",null,i),window.removeEventListener("test",null,i)}catch(i){}return t}();function pz(t,i){const e=function(t,i){return _I(t).getPropertyValue(i)}(t,i),s=e&&e.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function Zw(t,i,e,s){return{x:t.x+e*(i.x-t.x),y:t.y+e*(i.y-t.y)}}function bj(t,i,e,s){return{x:t.x+e*(i.x-t.x),y:"middle"===s?e<.5?t.y:i.y:"after"===s?e<1?t.y:i.y:e>0?i.y:t.y}}function xj(t,i,e,s){const a={x:t.cp2x,y:t.cp2y},l={x:i.cp1x,y:i.cp1y},h=Zw(t,a,e),v=Zw(a,l,e),C=Zw(l,i,e),O=Zw(h,v,e),G=Zw(v,C,e);return Zw(O,G,e)}const fz=new Map;function ZS(t,i,e){return function(t,i){i=i||{};const e=t+JSON.stringify(i);let s=fz.get(e);return s||(s=new Intl.NumberFormat(t,i),fz.set(e,s)),s}(i,e).format(t)}function GC(t,i,e){return t?function(t,i){return{x:e=>t+t+i-e,setWidth(e){i=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,s)=>e-s,leftForLtr:(e,s)=>e-s}}(i,e):{x:t=>t,setWidth(t){},textAlign:t=>t,xPlus:(t,i)=>t+i,leftForLtr:(t,i)=>t}}function mz(t,i){let e,s;("ltr"===i||"rtl"===i)&&(e=t.canvas.style,s=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",i,"important"),t.prevTextDirection=s)}function gz(t,i){void 0!==i&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",i[0],i[1]))}function _z(t){return"angle"===t?{between:iI,compare:m5,normalize:sy}:{between:(i,e,s)=>i>=Math.min(e,s)&&i<=Math.max(s,e),compare:(i,e)=>i-e,normalize:i=>i}}function yz({start:t,end:i,count:e,loop:s,style:a}){return{start:t%e,end:i%e,loop:s&&(i-t+1)%e==0,style:a}}function vz(t,i,e){if(!e)return[t];const{property:s,start:a,end:l}=e,h=i.length,{compare:v,between:C,normalize:O}=_z(s),{start:G,end:te,loop:pe,style:we}=function(t,i,e){const{property:s,start:a,end:l}=e,{between:h,normalize:v}=_z(s),C=i.length;let pe,we,{start:O,end:G,loop:te}=t;if(te){for(O+=C,G+=C,pe=0,we=C;pe<we&&h(v(i[O%C][s]),a,l);++pe)O--,G--;O%=C,G%=C}return G<O&&(G+=C),{start:O,end:G,loop:te,style:t.style}}(t,i,e),Le=[];let yt,Zt,tn,je=!1,tt=null;for(let Li=G,Ii=G;Li<=te;++Li)Zt=i[Li%h],!Zt.skip&&(yt=O(Zt[s]),yt!==tn&&(je=C(yt,a,l),null===tt&&(je||C(a,tn,yt)&&0!==v(a,tn))&&(tt=0===v(yt,a)?Li:Ii),null!==tt&&(!je||0===v(l,yt)||C(l,tn,yt))&&(Le.push(yz({start:tt,end:Li,loop:pe,count:h,style:we})),tt=null),Ii=Li,tn=yt));return null!==tt&&Le.push(yz({start:tt,end:te,loop:pe,count:h,style:we})),Le}function bz(t,i){const e=[],s=t.segments;for(let a=0;a<s.length;a++){const l=vz(s[a],t.points,i);l.length&&e.push(...l)}return e}function wz(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Aj(t,i){return i&&JSON.stringify(t)!==JSON.stringify(i)}var Sb=new class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(i,e,s,a){const h=e.duration;e.listeners[a].forEach(v=>v({chart:i,initial:e.initial,numSteps:h,currentStep:Math.min(s-e.start,h)}))}_refresh(){this._request||(this._running=!0,this._request=A3.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(i=Date.now()){let e=0;this._charts.forEach((s,a)=>{if(!s.running||!s.items.length)return;const l=s.items;let C,h=l.length-1,v=!1;for(;h>=0;--h)C=l[h],C._active?(C._total>s.duration&&(s.duration=C._total),C.tick(i),v=!0):(l[h]=l[l.length-1],l.pop());v&&(a.draw(),this._notify(a,s,i,"progress")),l.length||(s.running=!1,this._notify(a,s,i,"complete"),s.initial=!1),e+=l.length}),this._lastDate=i,0===e&&(this._running=!1)}_getAnims(i){const e=this._charts;let s=e.get(i);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(i,s)),s}listen(i,e,s){this._getAnims(i).listeners[e].push(s)}add(i,e){!e||!e.length||this._getAnims(i).items.push(...e)}has(i){return this._getAnims(i).items.length>0}start(i){const e=this._charts.get(i);!e||(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((s,a)=>Math.max(s,a._duration),0),this._refresh())}running(i){if(!this._running)return!1;const e=this._charts.get(i);return!(!e||!e.running||!e.items.length)}stop(i){const e=this._charts.get(i);if(!e||!e.items.length)return;const s=e.items;let a=s.length-1;for(;a>=0;--a)s[a].cancel();e.items=[],this._notify(i,e,Date.now(),"complete")}remove(i){return this._charts.delete(i)}};const Cz="transparent",Lj={boolean:(t,i,e)=>e>.5?i:t,color(t,i,e){const s=Q3(t||Cz),a=s.valid&&Q3(i||Cz);return a&&a.valid?a.mix(s,e).hexString():i},number:(t,i,e)=>t+(i-t)*e};class Pj{constructor(i,e,s,a){const l=e[s];a=jS([i.to,a,l,i.from]);const h=jS([i.from,l,a]);this._active=!0,this._fn=i.fn||Lj[i.type||typeof h],this._easing=BS[i.easing]||BS.linear,this._start=Math.floor(Date.now()+(i.delay||0)),this._duration=this._total=Math.floor(i.duration),this._loop=!!i.loop,this._target=e,this._prop=s,this._from=h,this._to=a,this._promises=void 0}active(){return this._active}update(i,e,s){if(this._active){this._notify(!1);const a=this._target[this._prop],l=s-this._start,h=this._duration-l;this._start=s,this._duration=Math.floor(Math.max(h,i.duration)),this._total+=l,this._loop=!!i.loop,this._to=jS([i.to,e,a,i.from]),this._from=jS([i.from,a,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(i){const e=i-this._start,s=this._duration,a=this._prop,l=this._from,h=this._loop,v=this._to;let C;if(this._active=l!==v&&(h||e<s),!this._active)return this._target[a]=v,void this._notify(!0);e<0?this._target[a]=l:(C=e/s%2,C=h&&C>1?2-C:C,C=this._easing(Math.min(1,Math.max(0,C))),this._target[a]=this._fn(l,v,C))}wait(){const i=this._promises||(this._promises=[]);return new Promise((e,s)=>{i.push({res:e,rej:s})})}_notify(i){const e=i?"res":"rej",s=this._promises||[];for(let a=0;a<s.length;a++)s[a][e]()}}zo.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const Fj=Object.keys(zo.animation);zo.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),zo.set("animations",{colors:{type:"color",properties:["color","borderColor","backgroundColor"]},numbers:{type:"number",properties:["x","y","borderWidth","radius","tension"]}}),zo.describe("animations",{_fallback:"animation"}),zo.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}});class Mz{constructor(i,e){this._chart=i,this._properties=new Map,this.configure(e)}configure(i){if(!No(i))return;const e=this._properties;Object.getOwnPropertyNames(i).forEach(s=>{const a=i[s];if(!No(a))return;const l={};for(const h of Fj)l[h]=a[h];(Kl(a.properties)&&a.properties||[s]).forEach(h=>{(h===s||!e.has(h))&&e.set(h,l)})})}_animateOptions(i,e){const s=e.options,a=function(t,i){if(!i)return;let e=t.options;if(e)return e.$shared&&(t.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e;t.options=i}(i,s);if(!a)return[];const l=this._createAnimations(a,s);return s.$shared&&function(t,i){const e=[],s=Object.keys(i);for(let a=0;a<s.length;a++){const l=t[s[a]];l&&l.active()&&e.push(l.wait())}return Promise.all(e)}(i.options.$animations,s).then(()=>{i.options=s},()=>{}),l}_createAnimations(i,e){const s=this._properties,a=[],l=i.$animations||(i.$animations={}),h=Object.keys(e),v=Date.now();let C;for(C=h.length-1;C>=0;--C){const O=h[C];if("$"===O.charAt(0))continue;if("options"===O){a.push(...this._animateOptions(i,e));continue}const G=e[O];let te=l[O];const pe=s.get(O);if(te){if(pe&&te.active()){te.update(pe,G,v);continue}te.cancel()}pe&&pe.duration?(l[O]=te=new Pj(pe,i,O,G),a.push(te)):i[O]=G}return a}update(i,e){if(0===this._properties.size)return void Object.assign(i,e);const s=this._createAnimations(i,e);return s.length?(Sb.add(this._chart,s),!0):void 0}}function Tz(t,i){const e=t&&t.options||{},s=e.reverse,a=void 0===e.min?i:0,l=void 0===e.max?i:0;return{start:s?l:a,end:s?a:l}}function Sz(t,i){const e=[],s=t._getSortedDatasetMetas(i);let a,l;for(a=0,l=s.length;a<l;++a)e.push(s[a].index);return e}function kz(t,i,e,s={}){const a=t.keys,l="single"===s.mode;let h,v,C,O;if(null!==i){for(h=0,v=a.length;h<v;++h){if(C=+a[h],C===e){if(s.all)continue;break}O=t.values[C],Xu(O)&&(l||0===i||Mv(i)===Mv(O))&&(i+=O)}return i}}function Ez(t,i){const e=t&&t.options.stacked;return e||void 0===e&&void 0!==i.stack}function jj(t,i,e){const s=t[i]||(t[i]={});return s[e]||(s[e]={})}function Dz(t,i,e,s){for(const a of i.getMatchingVisibleMetas(s).reverse()){const l=t[a.index];if(e&&l>0||!e&&l<0)return a.index}return null}function Az(t,i){const{chart:e,_cachedMeta:s}=t,a=e._stacks||(e._stacks={}),{iScale:l,vScale:h,index:v}=s,C=l.axis,O=h.axis,G=function(t,i,e){return`${t.id}.${i.id}.${e.stack||e.type}`}(l,h,s),te=i.length;let pe;for(let we=0;we<te;++we){const Le=i[we],{[C]:je,[O]:tt}=Le;pe=(Le._stacks||(Le._stacks={}))[O]=jj(a,G,je),pe[v]=tt,pe._top=Dz(pe,h,!0,s.type),pe._bottom=Dz(pe,h,!1,s.type)}}function VO(t,i){const e=t.scales;return Object.keys(e).filter(s=>e[s].axis===i).shift()}function GS(t,i){const e=t.controller.index,s=t.vScale&&t.vScale.axis;if(s){i=i||t._parsed;for(const a of i){const l=a._stacks;if(!l||void 0===l[s]||void 0===l[s][e])return;delete l[s][e]}}}const UO=t=>"reset"===t||"none"===t,Iz=(t,i)=>i?t:Object.assign({},t);let kb=(()=>{class t{constructor(e,s){this.chart=e,this._ctx=e.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Ez(e.vScale,e),this.addElements()}updateIndex(e){this.index!==e&&GS(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,s=this._cachedMeta,a=this.getDataset(),l=(pe,we,Le,je)=>"x"===pe?we:"r"===pe?je:Le,h=s.xAxisID=io(a.xAxisID,VO(e,"x")),v=s.yAxisID=io(a.yAxisID,VO(e,"y")),C=s.rAxisID=io(a.rAxisID,VO(e,"r")),O=s.indexAxis,G=s.iAxisID=l(O,h,v,C),te=s.vAxisID=l(O,v,h,C);s.xScale=this.getScaleForId(h),s.yScale=this.getScaleForId(v),s.rScale=this.getScaleForId(C),s.iScale=this.getScaleForId(G),s.vScale=this.getScaleForId(te)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const s=this._cachedMeta;return e===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&ez(this._data,this),e._stacked&&GS(e)}_dataCheck(){const e=this.getDataset(),s=e.data||(e.data=[]),a=this._data;if(No(s))this._data=function(t){const i=Object.keys(t),e=new Array(i.length);let s,a,l;for(s=0,a=i.length;s<a;++s)l=i[s],e[s]={x:l,y:t[l]};return e}(s);else if(a!==s){if(a){ez(a,this);const l=this._cachedMeta;GS(l),l._parsed=[]}s&&Object.isExtensible(s)&&function(t,i){t._chartjs?t._chartjs.listeners.push(i):(Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[i]}}),K3.forEach(e=>{const s="_onData"+TO(e),a=t[e];Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value(...l){const h=a.apply(this,l);return t._chartjs.listeners.forEach(v=>{"function"==typeof v[s]&&v[s](...l)}),h}})}))}(s,this),this._syncList=[],this._data=s}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const s=this._cachedMeta,a=this.getDataset();let l=!1;this._dataCheck();const h=s._stacked;s._stacked=Ez(s.vScale,s),s.stack!==a.stack&&(l=!0,GS(s),s.stack=a.stack),this._resyncElements(e),(l||h!==s._stacked)&&Az(this,s._parsed)}configure(){const e=this.chart.config,s=e.datasetScopeKeys(this._type),a=e.getOptionScopes(this.getDataset(),s,!0);this.options=e.createResolver(a,this.getContext()),this._parsing=this.options.parsing}parse(e,s){const{_cachedMeta:a,_data:l}=this,{iScale:h,_stacked:v}=a,C=h.axis;let te,pe,we,O=0===e&&s===l.length||a._sorted,G=e>0&&a._parsed[e-1];if(!1===this._parsing)a._parsed=l,a._sorted=!0,we=l;else{we=Kl(l[e])?this.parseArrayData(a,l,e,s):No(l[e])?this.parseObjectData(a,l,e,s):this.parsePrimitiveData(a,l,e,s);const Le=()=>null===pe[C]||G&&pe[C]<G[C];for(te=0;te<s;++te)a._parsed[te+e]=pe=we[te],O&&(Le()&&(O=!1),G=pe);a._sorted=O}v&&Az(this,we)}parsePrimitiveData(e,s,a,l){const{iScale:h,vScale:v}=e,C=h.axis,O=v.axis,G=h.getLabels(),te=h===v,pe=new Array(l);let we,Le,je;for(we=0,Le=l;we<Le;++we)je=we+a,pe[we]={[C]:te||h.parse(G[je],je),[O]:v.parse(s[je],je)};return pe}parseArrayData(e,s,a,l){const{xScale:h,yScale:v}=e,C=new Array(l);let O,G,te,pe;for(O=0,G=l;O<G;++O)te=O+a,pe=s[te],C[O]={x:h.parse(pe[0],te),y:v.parse(pe[1],te)};return C}parseObjectData(e,s,a,l){const{xScale:h,yScale:v}=e,{xAxisKey:C="x",yAxisKey:O="y"}=this._parsing,G=new Array(l);let te,pe,we,Le;for(te=0,pe=l;te<pe;++te)we=te+a,Le=s[we],G[te]={x:h.parse(Bw(Le,C),we),y:v.parse(Bw(Le,O),we)};return G}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,s,a){const h=this._cachedMeta,v=s[e.axis];return kz({keys:Sz(this.chart,!0),values:s._stacks[e.axis]},v,h.index,{mode:a})}updateRangeFromParsed(e,s,a,l){const h=a[s.axis];let v=null===h?NaN:h;const C=l&&a._stacks[s.axis];l&&C&&(l.values=C,v=kz(l,h,this._cachedMeta.index)),e.min=Math.min(e.min,v),e.max=Math.max(e.max,v)}getMinMax(e,s){const a=this._cachedMeta,l=a._parsed,h=a._sorted&&e===a.iScale,v=l.length,C=this._getOtherScale(e),O=((t,i,e)=>t&&!i.hidden&&i._stacked&&{keys:Sz(this.chart,!0),values:null})(s,a),G={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:te,max:pe}=function(t){const{min:i,max:e,minDefined:s,maxDefined:a}=t.getUserBounds();return{min:s?i:Number.NEGATIVE_INFINITY,max:a?e:Number.POSITIVE_INFINITY}}(C);let we,Le;function je(){Le=l[we];const tt=Le[C.axis];return!Xu(Le[e.axis])||te>tt||pe<tt}for(we=0;we<v&&(je()||(this.updateRangeFromParsed(G,e,Le,O),!h));++we);if(h)for(we=v-1;we>=0;--we)if(!je()){this.updateRangeFromParsed(G,e,Le,O);break}return G}getAllParsedValues(e){const s=this._cachedMeta._parsed,a=[];let l,h,v;for(l=0,h=s.length;l<h;++l)v=s[l][e.axis],Xu(v)&&a.push(v);return a}getMaxOverflow(){return!1}getLabelAndValue(e){const s=this._cachedMeta,a=s.iScale,l=s.vScale,h=this.getParsed(e);return{label:a?""+a.getLabelForValue(h[a.axis]):"",value:l?""+l.getLabelForValue(h[l.axis]):""}}_update(e){const s=this._cachedMeta;this.configure(),this._cachedDataOpts={},this.update(e||"default"),s._clip=function(t){let i,e,s,a;return No(t)?(i=t.top,e=t.right,s=t.bottom,a=t.left):i=e=s=a=t,{top:i,right:e,bottom:s,left:a,disabled:!1===t}}(io(this.options.clip,function(t,i,e){if(!1===e)return!1;const s=Tz(t,e),a=Tz(i,e);return{top:a.end,right:s.end,bottom:a.start,left:s.start}}(s.xScale,s.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,a=this._cachedMeta,l=a.data||[],h=this.chart.chartArea,v=[],C=this._drawStart||0,O=this._drawCount||l.length-C;let G;for(a.dataset&&a.dataset.draw(e,h,C,O),G=C;G<C+O;++G){const te=l[G];te.hidden||(te.active?v.push(te):te.draw(e,h))}for(G=0;G<v.length;++G)v[G].draw(e,h)}getStyle(e,s){const a=s?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(a):this.resolveDataElementOptions(e||0,a)}getContext(e,s,a){const l=this.getDataset();let h;if(e>=0&&e<this._cachedMeta.data.length){const v=this._cachedMeta.data[e];h=v.$context||(v.$context=function(t,i,e){return Q0(t,{active:!1,dataIndex:i,parsed:void 0,raw:void 0,element:e,index:i,mode:"default",type:"data"})}(this.getContext(),e,v)),h.parsed=this.getParsed(e),h.raw=l.data[e],h.index=h.dataIndex=e}else h=this.$context||(this.$context=function(t,i){return Q0(t,{active:!1,dataset:void 0,datasetIndex:i,index:i,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),h.dataset=l,h.index=h.datasetIndex=this.index;return h.active=!!s,h.mode=a,h}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,s){return this._resolveElementOptions(this.dataElementType.id,s,e)}_resolveElementOptions(e,s="default",a){const l="active"===s,h=this._cachedDataOpts,v=e+"-"+s,C=h[v],O=this.enableOptionSharing&&$g(a);if(C)return Iz(C,O);const G=this.chart.config,te=G.datasetElementScopeKeys(this._type,e),pe=l?[`${e}Hover`,"hover",e,""]:[e,""],we=G.getOptionScopes(this.getDataset(),te),Le=Object.keys(zo.elements[e]),tt=G.resolveNamedOptions(we,Le,()=>this.getContext(a,l),pe);return tt.$shared&&(tt.$shared=O,h[v]=Object.freeze(Iz(tt,O))),tt}_resolveAnimations(e,s,a){const l=this.chart,h=this._cachedDataOpts,v=`animation-${s}`,C=h[v];if(C)return C;let O;if(!1!==l.options.animation){const te=this.chart.config,pe=te.datasetAnimationScopeKeys(this._type,s),we=te.getOptionScopes(this.getDataset(),pe);O=te.createResolver(we,this.getContext(e,a,s))}const G=new Mz(l,O&&O.animations);return O&&O._cacheable&&(h[v]=Object.freeze(G)),G}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,s){return!s||UO(e)||this.chart._animationsDisabled}updateElement(e,s,a,l){UO(l)?Object.assign(e,a):this._resolveAnimations(s,l).update(e,a)}updateSharedOptions(e,s,a){e&&!UO(s)&&this._resolveAnimations(void 0,s).update(e,a)}_setStyle(e,s,a,l){e.active=l;const h=this.getStyle(s,l);this._resolveAnimations(s,a,l).update(e,{options:!l&&this.getSharedOptions(h)||h})}removeHoverStyle(e,s,a){this._setStyle(e,a,"active",!1)}setHoverStyle(e,s,a){this._setStyle(e,a,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const s=this._data,a=this._cachedMeta.data;for(const[C,O,G]of this._syncList)this[C](O,G);this._syncList=[];const l=a.length,h=s.length,v=Math.min(h,l);v&&this.parse(0,v),h>l?this._insertElements(l,h-l,e):h<l&&this._removeElements(h,l-h)}_insertElements(e,s,a=!0){const l=this._cachedMeta,h=l.data,v=e+s;let C;const O=G=>{for(G.length+=s,C=G.length-1;C>=v;C--)G[C]=G[C-s]};for(O(h),C=e;C<v;++C)h[C]=new this.dataElementType;this._parsing&&O(l._parsed),this.parse(e,s),a&&this.updateElements(h,e,s,"reset")}updateElements(e,s,a,l){}_removeElements(e,s){const a=this._cachedMeta;if(this._parsing){const l=a._parsed.splice(e,s);a._stacked&&GS(a,l)}a.data.splice(e,s)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[s,a,l]=e;this[s](a,l)}}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,s){this._sync(["_removeElements",e,s]),this._sync(["_insertElements",e,arguments.length-2])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return t.defaults={},t})();function $j(t){const i=t.iScale,e=function(t,i){if(!t._cache.$bar){const e=t.getMatchingVisibleMetas(i);let s=[];for(let a=0,l=e.length;a<l;a++)s=s.concat(e[a].controller.getAllParsedValues(t));t._cache.$bar=tz(s.sort((a,l)=>a-l))}return t._cache.$bar}(i,t.type);let a,l,h,v,s=i._length;const C=()=>{32767===h||-32768===h||($g(v)&&(s=Math.min(s,Math.abs(h-v)||s)),v=h)};for(a=0,l=e.length;a<l;++a)h=i.getPixelForValue(e[a]),C();for(v=void 0,a=0,l=i.ticks.length;a<l;++a)h=i.getPixelForTick(a),C();return s}function Lz(t,i,e,s){return Kl(t)?function(t,i,e,s){const a=e.parse(t[0],s),l=e.parse(t[1],s),h=Math.min(a,l),v=Math.max(a,l);let C=h,O=v;Math.abs(h)>Math.abs(v)&&(C=v,O=h),i[e.axis]=O,i._custom={barStart:C,barEnd:O,start:a,end:l,min:h,max:v}}(t,i,e,s):i[e.axis]=e.parse(t,s),i}function Pz(t,i,e,s){const a=t.iScale,l=t.vScale,h=a.getLabels(),v=a===l,C=[];let O,G,te,pe;for(O=e,G=e+s;O<G;++O)pe=i[O],te={},te[a.axis]=v||a.parse(h[O],O),C.push(Lz(pe,te,l,O));return C}function jO(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}function tZ(t,i,e,s){let a=i.borderSkipped;const l={};if(!a)return void(t.borderSkipped=l);const{start:h,end:v,reverse:C,top:O,bottom:G}=function(t){let i,e,s,a,l;return t.horizontal?(i=t.base>t.x,e="left",s="right"):(i=t.base<t.y,e="bottom",s="top"),i?(a="end",l="start"):(a="start",l="end"),{start:e,end:s,reverse:i,top:a,bottom:l}}(t);"middle"===a&&e&&(t.enableBorderRadius=!0,(e._top||0)===s?a=O:(e._bottom||0)===s?a=G:(l[Oz(G,h,v,C)]=!0,a=O)),l[Oz(a,h,v,C)]=!0,t.borderSkipped=l}function Oz(t,i,e,s){return t=s?Rz(t=function(t,i,e){return t===i?e:t===e?i:t}(t,i,e),e,i):Rz(t,i,e)}function Rz(t,i,e){return"start"===t?i:"end"===t?e:t}function iZ(t,{inflateAmount:i},e){t.inflateAmount="auto"===i?1===e?.33:0:i}kb.prototype.datasetElementType=null,kb.prototype.dataElementType=null;let Fz=(()=>{class t extends kb{parsePrimitiveData(e,s,a,l){return Pz(e,s,a,l)}parseArrayData(e,s,a,l){return Pz(e,s,a,l)}parseObjectData(e,s,a,l){const{iScale:h,vScale:v}=e,{xAxisKey:C="x",yAxisKey:O="y"}=this._parsing,G="x"===h.axis?C:O,te="x"===v.axis?C:O,pe=[];let we,Le,je,tt;for(we=a,Le=a+l;we<Le;++we)tt=s[we],je={},je[h.axis]=h.parse(Bw(tt,G),we),pe.push(Lz(Bw(tt,te),je,v,we));return pe}updateRangeFromParsed(e,s,a,l){super.updateRangeFromParsed(e,s,a,l);const h=a._custom;h&&s===this._cachedMeta.vScale&&(e.min=Math.min(e.min,h.min),e.max=Math.max(e.max,h.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const s=this._cachedMeta,{iScale:a,vScale:l}=s,h=this.getParsed(e),v=h._custom,C=jO(v)?"["+v.start+", "+v.end+"]":""+l.getLabelForValue(h[l.axis]);return{label:""+a.getLabelForValue(h[a.axis]),value:C}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(e){const s=this._cachedMeta;this.updateElements(s.data,0,s.data.length,e)}updateElements(e,s,a,l){const h="reset"===l,{index:v,_cachedMeta:{vScale:C}}=this,O=C.getBasePixel(),G=C.isHorizontal(),te=this._getRuler(),pe=this.resolveDataElementOptions(s,l),we=this.getSharedOptions(pe),Le=this.includeOptions(l,we);this.updateSharedOptions(we,l,pe);for(let je=s;je<s+a;je++){const tt=this.getParsed(je),yt=h||ka(tt[C.axis])?{base:O,head:O}:this._calculateBarValuePixels(je),Zt=this._calculateBarIndexPixels(je,te),tn=(tt._stacks||{})[C.axis],gn={horizontal:G,base:yt.base,enableBorderRadius:!tn||jO(tt._custom)||v===tn._top||v===tn._bottom,x:G?yt.head:Zt.center,y:G?Zt.center:yt.head,height:G?Zt.size:Math.abs(yt.size),width:G?Math.abs(yt.size):Zt.size};Le&&(gn.options=we||this.resolveDataElementOptions(je,e[je].active?"active":l));const pn=gn.options||e[je].options;tZ(gn,pn,tn,v),iZ(gn,pn,te.ratio),this.updateElement(e[je],je,gn,l)}}_getStacks(e,s){const l=this._cachedMeta.iScale,h=l.getMatchingVisibleMetas(this._type),v=l.options.stacked,C=h.length,O=[];let G,te;for(G=0;G<C;++G)if(te=h[G],te.controller.options.grouped){if(void 0!==s){const pe=te.controller.getParsed(s)[te.controller._cachedMeta.vScale.axis];if(ka(pe)||isNaN(pe))continue}if((!1===v||-1===O.indexOf(te.stack)||void 0===v&&void 0===te.stack)&&O.push(te.stack),te.index===e)break}return O.length||O.push(void 0),O}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,s,a){const l=this._getStacks(e,a),h=void 0!==s?l.indexOf(s):-1;return-1===h?l.length-1:h}_getRuler(){const e=this.options,s=this._cachedMeta,a=s.iScale,l=[];let h,v;for(h=0,v=s.data.length;h<v;++h)l.push(a.getPixelForValue(this.getParsed(h)[a.axis],h));const C=e.barThickness;return{min:C||$j(s),pixels:l,start:a._startPixel,end:a._endPixel,stackCount:this._getStackCount(),scale:a,grouped:e.grouped,ratio:C?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:s,_stacked:a},options:{base:l,minBarLength:h}}=this,v=l||0,C=this.getParsed(e),O=C._custom,G=jO(O);let Le,je,te=C[s.axis],pe=0,we=a?this.applyStack(s,C,a):te;we!==te&&(pe=we-te,we=te),G&&(te=O.barStart,we=O.barEnd-O.barStart,0!==te&&Mv(te)!==Mv(O.barEnd)&&(pe=0),pe+=te);const tt=ka(l)||G?pe:l;let yt=s.getPixelForValue(tt);if(Le=this.chart.getDataVisibility(e)?s.getPixelForValue(pe+we):yt,je=Le-yt,Math.abs(je)<h&&(je=function(t,i,e){return 0!==t?Mv(t):(i.isHorizontal()?1:-1)*(i.min>=e?1:-1)}(je,s,v)*h,te===v&&(yt-=je/2),Le=yt+je),yt===s.getPixelForValue(v)){const Zt=Mv(je)*s.getLineWidthForValue(v)/2;yt+=Zt,je-=Zt}return{size:je,base:yt,head:Le,center:Le+je/2}}_calculateBarIndexPixels(e,s){const a=s.scale,l=this.options,h=l.skipNull,v=io(l.maxBarThickness,1/0);let C,O;if(s.grouped){const G=h?this._getStackCount(e):s.stackCount,te="flex"===l.barThickness?function(t,i,e,s){const a=i.pixels,l=a[t];let h=t>0?a[t-1]:null,v=t<a.length-1?a[t+1]:null;const C=e.categoryPercentage;null===h&&(h=l-(null===v?i.end-i.start:v-l)),null===v&&(v=l+l-h);const O=l-(l-Math.min(h,v))/2*C;return{chunk:Math.abs(v-h)/2*C/s,ratio:e.barPercentage,start:O}}(e,s,l,G):function(t,i,e,s){const a=e.barThickness;let l,h;return ka(a)?(l=i.min*e.categoryPercentage,h=e.barPercentage):(l=a*s,h=1),{chunk:l/s,ratio:h,start:i.pixels[t]-l/2}}(e,s,l,G),pe=this._getStackIndex(this.index,this._cachedMeta.stack,h?e:void 0);C=te.start+te.chunk*pe+te.chunk/2,O=Math.min(v,te.chunk*te.ratio)}else C=a.getPixelForValue(this.getParsed(e)[a.axis],e),O=Math.min(v,s.min*s.ratio);return{base:C-O/2,head:C+O/2,center:C,size:O}}draw(){const e=this._cachedMeta,s=e.vScale,a=e.data,l=a.length;let h=0;for(;h<l;++h)null!==this.getParsed(h)[s.axis]&&a[h].draw(this._ctx)}}return t.id="bar",t.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},t.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}},t})(),Nz=(()=>{class t extends kb{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,s,a,l){const h=super.parsePrimitiveData(e,s,a,l);for(let v=0;v<h.length;v++)h[v]._custom=this.resolveDataElementOptions(v+a).radius;return h}parseArrayData(e,s,a,l){const h=super.parseArrayData(e,s,a,l);for(let v=0;v<h.length;v++)h[v]._custom=io(s[a+v][2],this.resolveDataElementOptions(v+a).radius);return h}parseObjectData(e,s,a,l){const h=super.parseObjectData(e,s,a,l);for(let v=0;v<h.length;v++){const C=s[a+v];h[v]._custom=io(C&&C.r&&+C.r,this.resolveDataElementOptions(v+a).radius)}return h}getMaxOverflow(){const e=this._cachedMeta.data;let s=0;for(let a=e.length-1;a>=0;--a)s=Math.max(s,e[a].size(this.resolveDataElementOptions(a))/2);return s>0&&s}getLabelAndValue(e){const s=this._cachedMeta,{xScale:a,yScale:l}=s,h=this.getParsed(e),v=a.getLabelForValue(h.x),C=l.getLabelForValue(h.y),O=h._custom;return{label:s.label,value:"("+v+", "+C+(O?", "+O:"")+")"}}update(e){const s=this._cachedMeta.data;this.updateElements(s,0,s.length,e)}updateElements(e,s,a,l){const h="reset"===l,{iScale:v,vScale:C}=this._cachedMeta,O=this.resolveDataElementOptions(s,l),G=this.getSharedOptions(O),te=this.includeOptions(l,G),pe=v.axis,we=C.axis;for(let Le=s;Le<s+a;Le++){const je=e[Le],tt=!h&&this.getParsed(Le),yt={},Zt=yt[pe]=h?v.getPixelForDecimal(.5):v.getPixelForValue(tt[pe]),tn=yt[we]=h?C.getBasePixel():C.getPixelForValue(tt[we]);yt.skip=isNaN(Zt)||isNaN(tn),te&&(yt.options=this.resolveDataElementOptions(Le,je.active?"active":l),h&&(yt.options.radius=0)),this.updateElement(je,Le,yt,l)}this.updateSharedOptions(G,l,O)}resolveDataElementOptions(e,s){const a=this.getParsed(e);let l=super.resolveDataElementOptions(e,s);l.$shared&&(l=Object.assign({},l,{$shared:!1}));const h=l.radius;return"active"!==s&&(l.radius=0),l.radius+=io(a&&a._custom,h),l}}return t.id="bubble",t.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},t.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title:()=>""}}}},t})(),ZO=(()=>{class t extends kb{constructor(e,s){super(e,s),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,s){const a=this.getDataset().data,l=this._cachedMeta;if(!1===this._parsing)l._parsed=a;else{let v,C,h=O=>+a[O];if(No(a[e])){const{key:O="value"}=this._parsing;h=G=>+Bw(a[G],O)}for(v=e,C=e+s;v<C;++v)l._parsed[v]=h(v)}}_getRotation(){return ry(this.options.rotation-90)}_getCircumference(){return ry(this.options.circumference)}_getRotationExtents(){let e=Fl,s=-Fl;for(let a=0;a<this.chart.data.datasets.length;++a)if(this.chart.isDatasetVisible(a)){const l=this.chart.getDatasetMeta(a).controller,h=l._getRotation(),v=l._getCircumference();e=Math.min(e,h),s=Math.max(s,h+v)}return{rotation:e,circumference:s-e}}update(e){const s=this.chart,{chartArea:a}=s,l=this._cachedMeta,h=l.data,v=this.getMaxBorderWidth()+this.getMaxOffset(h)+this.options.spacing,C=Math.max((Math.min(a.width,a.height)-v)/2,0),O=Math.min(((t,i)=>"string"==typeof t&&t.endsWith("%")?parseFloat(t)/100:t/i)(this.options.cutout,C),1),G=this._getRingWeight(this.index),{circumference:te,rotation:pe}=this._getRotationExtents(),{ratioX:we,ratioY:Le,offsetX:je,offsetY:tt}=function(t,i,e){let s=1,a=1,l=0,h=0;if(i<Fl){const v=t,C=v+i,O=Math.cos(v),G=Math.sin(v),te=Math.cos(C),pe=Math.sin(C),we=(tn,gn,pn)=>iI(tn,v,C,!0)?1:Math.max(gn,gn*e,pn,pn*e),Le=(tn,gn,pn)=>iI(tn,v,C,!0)?-1:Math.min(gn,gn*e,pn,pn*e),je=we(0,O,te),tt=we(Ju,G,pe),yt=Le(bu,O,te),Zt=Le(bu+Ju,G,pe);s=(je-yt)/2,a=(tt-Zt)/2,l=-(je+yt)/2,h=-(tt+Zt)/2}return{ratioX:s,ratioY:a,offsetX:l,offsetY:h}}(pe,te,O),tn=Math.max(Math.min((a.width-v)/we,(a.height-v)/Le)/2,0),gn=L3(this.options.radius,tn),qn=(gn-Math.max(gn*O,0))/this._getVisibleDatasetWeightTotal();this.offsetX=je*gn,this.offsetY=tt*gn,l.total=this.calculateTotal(),this.outerRadius=gn-qn*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-qn*G,0),this.updateElements(h,0,h.length,e)}_circumference(e,s){const a=this.options,l=this._cachedMeta,h=this._getCircumference();return s&&a.animation.animateRotate||!this.chart.getDataVisibility(e)||null===l._parsed[e]||l.data[e].hidden?0:this.calculateCircumference(l._parsed[e]*h/Fl)}updateElements(e,s,a,l){const h="reset"===l,v=this.chart,C=v.chartArea,te=(C.left+C.right)/2,pe=(C.top+C.bottom)/2,we=h&&v.options.animation.animateScale,Le=we?0:this.innerRadius,je=we?0:this.outerRadius,tt=this.resolveDataElementOptions(s,l),yt=this.getSharedOptions(tt),Zt=this.includeOptions(l,yt);let gn,tn=this._getRotation();for(gn=0;gn<s;++gn)tn+=this._circumference(gn,h);for(gn=s;gn<s+a;++gn){const pn=this._circumference(gn,h),qn=e[gn],si={x:te+this.offsetX,y:pe+this.offsetY,startAngle:tn,endAngle:tn+pn,circumference:pn,outerRadius:je,innerRadius:Le};Zt&&(si.options=yt||this.resolveDataElementOptions(gn,qn.active?"active":l)),tn+=pn,this.updateElement(qn,gn,si,l)}this.updateSharedOptions(yt,l,tt)}calculateTotal(){const e=this._cachedMeta,s=e.data;let l,a=0;for(l=0;l<s.length;l++){const h=e._parsed[l];null!==h&&!isNaN(h)&&this.chart.getDataVisibility(l)&&!s[l].hidden&&(a+=Math.abs(h))}return a}calculateCircumference(e){const s=this._cachedMeta.total;return s>0&&!isNaN(e)?Fl*(Math.abs(e)/s):0}getLabelAndValue(e){const a=this.chart,l=a.data.labels||[],h=ZS(this._cachedMeta._parsed[e],a.options.locale);return{label:l[e]||"",value:h}}getMaxBorderWidth(e){let s=0;const a=this.chart;let l,h,v,C,O;if(!e)for(l=0,h=a.data.datasets.length;l<h;++l)if(a.isDatasetVisible(l)){v=a.getDatasetMeta(l),e=v.data,C=v.controller,C!==this&&C.configure();break}if(!e)return 0;for(l=0,h=e.length;l<h;++l)O=C.resolveDataElementOptions(l),"inner"!==O.borderAlign&&(s=Math.max(s,O.borderWidth||0,O.hoverBorderWidth||0));return s}getMaxOffset(e){let s=0;for(let a=0,l=e.length;a<l;++a){const h=this.resolveDataElementOptions(a);s=Math.max(s,h.offset||0,h.hoverOffset||0)}return s}_getRingWeightOffset(e){let s=0;for(let a=0;a<e;++a)this.chart.isDatasetVisible(a)&&(s+=this._getRingWeight(a));return s}_getRingWeight(e){return Math.max(io(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return t.id="doughnut",t.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},t.descriptors={_scriptable:i=>"spacing"!==i,_indexable:i=>"spacing"!==i},t.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(i){const e=i.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:s}}=i.legend.options;return e.labels.map((a,l)=>{const v=i.getDatasetMeta(0).controller.getStyle(l);return{text:a,fillStyle:v.backgroundColor,strokeStyle:v.borderColor,lineWidth:v.borderWidth,pointStyle:s,hidden:!i.getDataVisibility(l),index:l}})}return[]}},onClick(i,e,s){s.chart.toggleDataVisibility(e.index),s.chart.update()}},tooltip:{callbacks:{title:()=>"",label(i){let e=i.label;const s=": "+i.formattedValue;return Kl(e)?(e=e.slice(),e[0]+=s):e+=s,e}}}}},t})(),GO=(()=>{class t extends kb{initialize(){this.enableOptionSharing=!0,super.initialize()}update(e){const s=this._cachedMeta,{dataset:a,data:l=[],_dataset:h}=s,v=this.chart._animationsDisabled;let{start:C,count:O}=function(t,i,e){const s=i.length;let a=0,l=s;if(t._sorted){const{iScale:h,_parsed:v}=t,C=h.axis,{min:O,max:G,minDefined:te,maxDefined:pe}=h.getUserBounds();te&&(a=Uh(Math.min(Tb(v,h.axis,O).lo,e?s:Tb(i,C,h.getPixelForValue(O)).lo),0,s-1)),l=pe?Uh(Math.max(Tb(v,h.axis,G).hi+1,e?0:Tb(i,C,h.getPixelForValue(G)).hi+1),a,s)-a:s-a}return{start:a,count:l}}(s,l,v);this._drawStart=C,this._drawCount=O,function(t){const{xScale:i,yScale:e,_scaleRanges:s}=t,a={xmin:i.min,xmax:i.max,ymin:e.min,ymax:e.max};if(!s)return t._scaleRanges=a,!0;const l=s.xmin!==i.min||s.xmax!==i.max||s.ymin!==e.min||s.ymax!==e.max;return Object.assign(s,a),l}(s)&&(C=0,O=l.length),a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!h._decimated,a.points=l;const G=this.resolveDatasetElementOptions(e);this.options.showLine||(G.borderWidth=0),G.segment=this.options.segment,this.updateElement(a,void 0,{animated:!v,options:G},e),this.updateElements(l,C,O,e)}updateElements(e,s,a,l){const h="reset"===l,{iScale:v,vScale:C,_stacked:O,_dataset:G}=this._cachedMeta,te=this.resolveDataElementOptions(s,l),pe=this.getSharedOptions(te),we=this.includeOptions(l,pe),Le=v.axis,je=C.axis,{spanGaps:tt,segment:yt}=this.options,Zt=VC(tt)?tt:Number.POSITIVE_INFINITY,tn=this.chart._animationsDisabled||h||"none"===l;let gn=s>0&&this.getParsed(s-1);for(let pn=s;pn<s+a;++pn){const qn=e[pn],si=this.getParsed(pn),Li=tn?qn:{},Ii=ka(si[je]),xs=Li[Le]=v.getPixelForValue(si[Le],pn),ro=Li[je]=h||Ii?C.getBasePixel():C.getPixelForValue(O?this.applyStack(C,si,O):si[je],pn);Li.skip=isNaN(xs)||isNaN(ro)||Ii,Li.stop=pn>0&&si[Le]-gn[Le]>Zt,yt&&(Li.parsed=si,Li.raw=G.data[pn]),we&&(Li.options=pe||this.resolveDataElementOptions(pn,qn.active?"active":l)),tn||this.updateElement(qn,pn,Li,l),gn=si}this.updateSharedOptions(pe,l,te)}getMaxOverflow(){const e=this._cachedMeta,s=e.dataset,a=s.options&&s.options.borderWidth||0,l=e.data||[];if(!l.length)return a;const h=l[0].size(this.resolveDataElementOptions(0)),v=l[l.length-1].size(this.resolveDataElementOptions(l.length-1));return Math.max(a,h,v)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}return t.id="line",t.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},t.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}},t})(),zz=(()=>{class t extends kb{constructor(e,s){super(e,s),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const a=this.chart,l=a.data.labels||[],h=ZS(this._cachedMeta._parsed[e].r,a.options.locale);return{label:l[e]||"",value:h}}update(e){const s=this._cachedMeta.data;this._updateRadius(),this.updateElements(s,0,s.length,e)}_updateRadius(){const e=this.chart,s=e.chartArea,a=e.options,l=Math.min(s.right-s.left,s.bottom-s.top),h=Math.max(l/2,0),C=(h-Math.max(a.cutoutPercentage?h/100*a.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=h-C*this.index,this.innerRadius=this.outerRadius-C}updateElements(e,s,a,l){const h="reset"===l,v=this.chart,C=this.getDataset(),G=v.options.animation,te=this._cachedMeta.rScale,pe=te.xCenter,we=te.yCenter,Le=te.getIndexAngle(0)-.5*bu;let tt,je=Le;const yt=360/this.countVisibleElements();for(tt=0;tt<s;++tt)je+=this._computeAngle(tt,l,yt);for(tt=s;tt<s+a;tt++){const Zt=e[tt];let tn=je,gn=je+this._computeAngle(tt,l,yt),pn=v.getDataVisibility(tt)?te.getDistanceFromCenterForValue(C.data[tt]):0;je=gn,h&&(G.animateScale&&(pn=0),G.animateRotate&&(tn=gn=Le));const qn={x:pe,y:we,innerRadius:0,outerRadius:pn,startAngle:tn,endAngle:gn,options:this.resolveDataElementOptions(tt,Zt.active?"active":l)};this.updateElement(Zt,tt,qn,l)}}countVisibleElements(){const e=this.getDataset();let a=0;return this._cachedMeta.data.forEach((l,h)=>{!isNaN(e.data[h])&&this.chart.getDataVisibility(h)&&a++}),a}_computeAngle(e,s,a){return this.chart.getDataVisibility(e)?ry(this.resolveDataElementOptions(e,s).angle||a):0}}return t.id="polarArea",t.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},t.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(i){const e=i.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:s}}=i.legend.options;return e.labels.map((a,l)=>{const v=i.getDatasetMeta(0).controller.getStyle(l);return{text:a,fillStyle:v.backgroundColor,strokeStyle:v.borderColor,lineWidth:v.borderWidth,pointStyle:s,hidden:!i.getDataVisibility(l),index:l}})}return[]}},onClick(i,e,s){s.chart.toggleDataVisibility(e.index),s.chart.update()}},tooltip:{callbacks:{title:()=>"",label:i=>i.chart.data.labels[i.dataIndex]+": "+i.formattedValue}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}},t})(),Bz=(()=>{class t extends ZO{}return t.id="pie",t.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"},t})(),Yz=(()=>{class t extends kb{getLabelAndValue(e){const s=this._cachedMeta.vScale,a=this.getParsed(e);return{label:s.getLabels()[e],value:""+s.getLabelForValue(a[s.axis])}}update(e){const s=this._cachedMeta,a=s.dataset,l=s.data||[],h=s.iScale.getLabels();if(a.points=l,"resize"!==e){const v=this.resolveDatasetElementOptions(e);this.options.showLine||(v.borderWidth=0),this.updateElement(a,void 0,{_loop:!0,_fullLoop:h.length===l.length,options:v},e)}this.updateElements(l,0,l.length,e)}updateElements(e,s,a,l){const h=this.getDataset(),v=this._cachedMeta.rScale,C="reset"===l;for(let O=s;O<s+a;O++){const G=e[O],te=this.resolveDataElementOptions(O,G.active?"active":l),pe=v.getPointPositionForValue(O,h.data[O]),we=C?v.xCenter:pe.x,Le=C?v.yCenter:pe.y,je={x:we,y:Le,angle:pe.angle,skip:isNaN(we)||isNaN(Le),options:te};this.updateElement(G,O,je,l)}}}return t.id="radar",t.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},t.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}},t})(),Hz=(()=>{class t extends GO{}return t.id="scatter",t.defaults={showLine:!1,fill:!1},t.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title:()=>"",label:i=>"("+i.label+", "+i.formattedValue+")"}}},scales:{x:{type:"linear"},y:{type:"linear"}}},t})();function Gw(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var lZ={_date:(()=>{class t{constructor(e){this.options=e||{}}formats(){return Gw()}parse(e,s){return Gw()}format(e,s){return Gw()}add(e,s,a){return Gw()}diff(e,s,a){return Gw()}startOf(e,s,a){return Gw()}endOf(e,s){return Gw()}}return t.override=function(i){Object.assign(t.prototype,i)},t})()};function WS(t,i){return"native"in t?{x:t.x,y:t.y}:dz(t,i)}function uZ(t,i,e,s){const{controller:a,data:l,_sorted:h}=t,v=a._cachedMeta.iScale;if(v&&i===v.axis&&h&&l.length){const C=v._reversePixels?q5:Tb;if(!s)return C(l,i,e);if(a._sharedOptions){const O=l[0],G="function"==typeof O.getRange&&O.getRange(i);if(G){const te=C(l,i,e-G),pe=C(l,i,e+G);return{lo:te.lo,hi:pe.hi}}}}return{lo:0,hi:l.length-1}}function Vz(t,i,e,s,a){const l=t.getSortedVisibleDatasetMetas(),h=e[i];for(let v=0,C=l.length;v<C;++v){const{index:O,data:G}=l[v],{lo:te,hi:pe}=uZ(l[v],i,h,a);for(let we=te;we<=pe;++we){const Le=G[we];Le.skip||s(Le,O,we)}}}function WO(t,i,e,s){const a=[];return Vw(i,t.chartArea,t._minPadding)&&Vz(t,e,i,function(h,v,C){h.inRange(i.x,i.y,s)&&a.push({element:h,datasetIndex:v,index:C})},!0),a}function qO(t,i,e,s,a){const l=function(t){const i=-1!==t.indexOf("x"),e=-1!==t.indexOf("y");return function(s,a){const l=i?Math.abs(s.x-a.x):0,h=e?Math.abs(s.y-a.y):0;return Math.sqrt(Math.pow(l,2)+Math.pow(h,2))}}(e);let h=Number.POSITIVE_INFINITY,v=[];return Vw(i,t.chartArea,t._minPadding)&&Vz(t,e,i,function(O,G,te){if(s&&!O.inRange(i.x,i.y,a))return;const pe=O.getCenterPoint(a);if(!Vw(pe,t.chartArea,t._minPadding)&&!O.inRange(i.x,i.y,a))return;const we=l(i,pe);we<h?(v=[{element:O,datasetIndex:G,index:te}],h=we):we===h&&v.push({element:O,datasetIndex:G,index:te})}),v}function Uz(t,i,e,s){const a=WS(i,t),l=[],h=e.axis,v="x"===h?"inXRange":"inYRange";let C=!1;return function(t,i){const e=t.getSortedVisibleDatasetMetas();let s,a,l;for(let h=0,v=e.length;h<v;++h){({index:s,data:a}=e[h]);for(let C=0,O=a.length;C<O;++C)l=a[C],l.skip||i(l,s,C)}}(t,(O,G,te)=>{O[v](a[h],s)&&l.push({element:O,datasetIndex:G,index:te}),O.inRange(a.x,a.y,s)&&(C=!0)}),e.intersect&&!C?[]:l}var hZ={modes:{index(t,i,e,s){const a=WS(i,t),l=e.axis||"x",h=e.intersect?WO(t,a,l,s):qO(t,a,l,!1,s),v=[];return h.length?(t.getSortedVisibleDatasetMetas().forEach(C=>{const O=h[0].index,G=C.data[O];G&&!G.skip&&v.push({element:G,datasetIndex:C.index,index:O})}),v):[]},dataset(t,i,e,s){const a=WS(i,t),l=e.axis||"xy";let h=e.intersect?WO(t,a,l,s):qO(t,a,l,!1,s);if(h.length>0){const v=h[0].datasetIndex,C=t.getDatasetMeta(v).data;h=[];for(let O=0;O<C.length;++O)h.push({element:C[O],datasetIndex:v,index:O})}return h},point:(t,i,e,s)=>WO(t,WS(i,t),e.axis||"xy",s),nearest:(t,i,e,s)=>qO(t,WS(i,t),e.axis||"xy",e.intersect,s),x:(t,i,e,s)=>(e.axis="x",Uz(t,i,e,s)),y:(t,i,e,s)=>(e.axis="y",Uz(t,i,e,s))}};const jz=["left","top","right","bottom"];function qS(t,i){return t.filter(e=>e.pos===i)}function Zz(t,i){return t.filter(e=>-1===jz.indexOf(e.pos)&&e.box.axis===i)}function $S(t,i){return t.sort((e,s)=>{const a=i?s:e,l=i?e:s;return a.weight===l.weight?a.index-l.index:a.weight-l.weight})}function Gz(t,i,e,s){return Math.max(t[e],i[e])+Math.max(t[s],i[s])}function Wz(t,i){t.top=Math.max(t.top,i.top),t.left=Math.max(t.left,i.left),t.bottom=Math.max(t.bottom,i.bottom),t.right=Math.max(t.right,i.right)}function _Z(t,i,e,s){const{pos:a,box:l}=e,h=t.maxPadding;if(!No(a)){e.size&&(t[a]-=e.size);const te=s[e.stack]||{size:0,count:1};te.size=Math.max(te.size,e.horizontal?l.height:l.width),e.size=te.size/te.count,t[a]+=e.size}l.getPadding&&Wz(h,l.getPadding());const v=Math.max(0,i.outerWidth-Gz(h,t,"left","right")),C=Math.max(0,i.outerHeight-Gz(h,t,"top","bottom")),O=v!==t.w,G=C!==t.h;return t.w=v,t.h=C,e.horizontal?{same:O,other:G}:{same:G,other:O}}function vZ(t,i){const e=i.maxPadding;return function(a){const l={left:0,top:0,right:0,bottom:0};return a.forEach(h=>{l[h]=Math.max(i[h],e[h])}),l}(t?["left","right"]:["top","bottom"])}function QS(t,i,e,s){const a=[];let l,h,v,C,O,G;for(l=0,h=t.length,O=0;l<h;++l){v=t[l],C=v.box,C.update(v.width||i.w,v.height||i.h,vZ(v.horizontal,i));const{same:te,other:pe}=_Z(i,e,v,s);O|=te&&a.length,G=G||pe,C.fullSize||a.push(v)}return O&&QS(a,i,e,s)||G}function yI(t,i,e,s,a){t.top=e,t.left=i,t.right=i+s,t.bottom=e+a,t.width=s,t.height=a}function qz(t,i,e,s){const a=e.padding;let{x:l,y:h}=i;for(const v of t){const C=v.box,O=s[v.stack]||{count:1,placed:0,weight:1},G=v.stackWeight/O.weight||1;if(v.horizontal){const te=i.w*G,pe=O.size||C.height;$g(O.start)&&(h=O.start),C.fullSize?yI(C,a.left,h,e.outerWidth-a.right-a.left,pe):yI(C,i.left+O.placed,h,te,pe),O.start=h,O.placed+=te,h=C.bottom}else{const te=i.h*G,pe=O.size||C.width;$g(O.start)&&(l=O.start),C.fullSize?yI(C,l,a.top,pe,e.outerHeight-a.bottom-a.top):yI(C,l,i.top+O.placed,pe,te),O.start=l,O.placed+=te,l=C.right}}i.x=l,i.y=h}zo.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var nf={addBox(t,i){t.boxes||(t.boxes=[]),i.fullSize=i.fullSize||!1,i.position=i.position||"top",i.weight=i.weight||0,i._layers=i._layers||function(){return[{z:0,draw(e){i.draw(e)}}]},t.boxes.push(i)},removeBox(t,i){const e=t.boxes?t.boxes.indexOf(i):-1;-1!==e&&t.boxes.splice(e,1)},configure(t,i,e){i.fullSize=e.fullSize,i.position=e.position,i.weight=e.weight},update(t,i,e,s){if(!t)return;const a=If(t.options.layout.padding),l=Math.max(i-a.width,0),h=Math.max(e-a.height,0),v=function(t){const i=function(t){const i=[];let e,s,a,l,h,v;for(e=0,s=(t||[]).length;e<s;++e)a=t[e],({position:l,options:{stack:h,stackWeight:v=1}}=a),i.push({index:e,box:a,pos:l,horizontal:a.isHorizontal(),weight:a.weight,stack:h&&l+h,stackWeight:v});return i}(t),e=$S(i.filter(O=>O.box.fullSize),!0),s=$S(qS(i,"left"),!0),a=$S(qS(i,"right")),l=$S(qS(i,"top"),!0),h=$S(qS(i,"bottom")),v=Zz(i,"x"),C=Zz(i,"y");return{fullSize:e,leftAndTop:s.concat(l),rightAndBottom:a.concat(C).concat(h).concat(v),chartArea:qS(i,"chartArea"),vertical:s.concat(a).concat(C),horizontal:l.concat(h).concat(v)}}(t.boxes),C=v.vertical,O=v.horizontal;ol(t.boxes,je=>{"function"==typeof je.beforeLayout&&je.beforeLayout()});const G=C.reduce((je,tt)=>tt.box.options&&!1===tt.box.options.display?je:je+1,0)||1,te=Object.freeze({outerWidth:i,outerHeight:e,padding:a,availableWidth:l,availableHeight:h,vBoxMaxWidth:l/2/G,hBoxMaxHeight:h/2}),pe=Object.assign({},a);Wz(pe,If(s));const we=Object.assign({maxPadding:pe,w:l,h,x:a.left,y:a.top},a),Le=function(t,i){const e=function(t){const i={};for(const e of t){const{stack:s,pos:a,stackWeight:l}=e;if(!s||!jz.includes(a))continue;const h=i[s]||(i[s]={count:0,placed:0,weight:0,size:0});h.count++,h.weight+=l}return i}(t),{vBoxMaxWidth:s,hBoxMaxHeight:a}=i;let l,h,v;for(l=0,h=t.length;l<h;++l){v=t[l];const{fullSize:C}=v.box,O=e[v.stack],G=O&&v.stackWeight/O.weight;v.horizontal?(v.width=G?G*s:C&&i.availableWidth,v.height=a):(v.width=s,v.height=G?G*a:C&&i.availableHeight)}return e}(C.concat(O),te);QS(v.fullSize,we,te,Le),QS(C,we,te,Le),QS(O,we,te,Le)&&QS(C,we,te,Le),function(t){const i=t.maxPadding;function e(s){const a=Math.max(i[s]-t[s],0);return t[s]+=a,a}t.y+=e("top"),t.x+=e("left"),e("right"),e("bottom")}(we),qz(v.leftAndTop,we,te,Le),we.x+=we.w,we.y+=we.h,qz(v.rightAndBottom,we,te,Le),t.chartArea={left:we.left,top:we.top,right:we.left+we.w,bottom:we.top+we.h,height:we.h,width:we.w},ol(v.chartArea,je=>{const tt=je.box;Object.assign(tt,t.chartArea),tt.update(we.w,we.h)})}};class $z{acquireContext(i,e){}releaseContext(i){return!1}addEventListener(i,e,s){}removeEventListener(i,e,s){}getDevicePixelRatio(){return 1}getMaximumSize(i,e,s,a){return e=Math.max(0,e||i.width),s=s||i.height,{width:e,height:Math.max(0,a?Math.floor(e/a):s)}}isAttached(i){return!0}updateConfig(i){}}class bZ extends $z{acquireContext(i){return i&&i.getContext&&i.getContext("2d")||null}updateConfig(i){i.options.animation=!1}}const vI="$chartjs",xZ={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Qz=t=>null===t||""===t,Xz=!!vj&&{passive:!0};function MZ(t,i,e){t.canvas.removeEventListener(i,e,Xz)}function SZ(t,i,e){const s=t.canvas,a=new MutationObserver(l=>{for(const h of l)for(const v of h.addedNodes)if(v===s||v.contains(s))return e()});return a.observe(document,{childList:!0,subtree:!0}),a}function kZ(t,i,e){const s=t.canvas,a=new MutationObserver(l=>{for(const h of l)for(const v of h.removedNodes)if(v===s||v.contains(s))return e()});return a.observe(document,{childList:!0,subtree:!0}),a}const XS=new Map;let Jz=0;function Kz(){const t=window.devicePixelRatio;t!==Jz&&(Jz=t,XS.forEach((i,e)=>{e.currentDevicePixelRatio!==t&&i()}))}function AZ(t,i,e){const s=t.canvas,a=s&&YO(s);if(!a)return;const l=I3((v,C)=>{const O=a.clientWidth;e(v,C),O<a.clientWidth&&e()},window),h=new ResizeObserver(v=>{const C=v[0],O=C.contentRect.width,G=C.contentRect.height;0===O&&0===G||l(O,G)});return h.observe(a),function(t,i){XS.size||window.addEventListener("resize",Kz),XS.set(t,i)}(t,l),h}function $O(t,i,e){e&&e.disconnect(),"resize"===i&&function(t){XS.delete(t),XS.size||window.removeEventListener("resize",Kz)}(t)}function IZ(t,i,e){const s=t.canvas,a=I3(l=>{null!==t.ctx&&e(function(t,i){const e=xZ[t.type]||t.type,{x:s,y:a}=dz(t,i);return{type:e,chart:i,native:t,x:void 0!==s?s:null,y:void 0!==a?a:null}}(l,t))},t,l=>{const h=l[0];return[h,h.offsetX,h.offsetY]});return function(t,i,e){t.addEventListener(i,e,Xz)}(s,i,a),a}class LZ extends $z{acquireContext(i,e){const s=i&&i.getContext&&i.getContext("2d");return s&&s.canvas===i?(function(t,i){const e=t.style,s=t.getAttribute("height"),a=t.getAttribute("width");if(t[vI]={initial:{height:s,width:a,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",Qz(a)){const l=pz(t,"width");void 0!==l&&(t.width=l)}if(Qz(s))if(""===t.style.height)t.height=t.width/(i||2);else{const l=pz(t,"height");void 0!==l&&(t.height=l)}}(i,e),s):null}releaseContext(i){const e=i.canvas;if(!e[vI])return!1;const s=e[vI].initial;["height","width"].forEach(l=>{const h=s[l];ka(h)?e.removeAttribute(l):e.setAttribute(l,h)});const a=s.style||{};return Object.keys(a).forEach(l=>{e.style[l]=a[l]}),e.width=e.width,delete e[vI],!0}addEventListener(i,e,s){this.removeEventListener(i,e),(i.$proxies||(i.$proxies={}))[e]=({attach:SZ,detach:kZ,resize:AZ}[e]||IZ)(i,e,s)}removeEventListener(i,e){const s=i.$proxies||(i.$proxies={}),a=s[e];a&&(({attach:$O,detach:$O,resize:$O}[e]||MZ)(i,e,a),s[e]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(i,e,s,a){return function(t,i,e,s){const a=_I(t),l=jw(a,"margin"),h=gI(a.maxWidth,t,"clientWidth")||nI,v=gI(a.maxHeight,t,"clientHeight")||nI,C=function(t,i,e){let s,a;if(void 0===i||void 0===e){const l=YO(t);if(l){const h=l.getBoundingClientRect(),v=_I(l),C=jw(v,"border","width"),O=jw(v,"padding");i=h.width-O.width-C.width,e=h.height-O.height-C.height,s=gI(v.maxWidth,l,"clientWidth"),a=gI(v.maxHeight,l,"clientHeight")}else i=t.clientWidth,e=t.clientHeight}return{width:i,height:e,maxWidth:s||nI,maxHeight:a||nI}}(t,i,e);let{width:O,height:G}=C;if("content-box"===a.boxSizing){const te=jw(a,"border","width"),pe=jw(a,"padding");O-=pe.width+te.width,G-=pe.height+te.height}return O=Math.max(0,O-l.width),G=Math.max(0,s?Math.floor(O/s):G-l.height),O=HO(Math.min(O,h,C.maxWidth)),G=HO(Math.min(G,v,C.maxHeight)),O&&!G&&(G=HO(O/2)),{width:O,height:G}}(i,e,s,a)}isAttached(i){const e=YO(i);return!(!e||!e.isConnected)}}class oy{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(i){const{x:e,y:s}=this.getProps(["x","y"],i);return{x:e,y:s}}hasValue(){return VC(this.x)&&VC(this.y)}getProps(i,e){const s=this.$animations;if(!e||!s)return this;const a={};return i.forEach(l=>{a[l]=s[l]&&s[l].active()?s[l]._to:this[l]}),a}}oy.defaults={},oy.defaultRoutes=void 0;const eB={values:t=>Kl(t)?t:""+t,numeric(t,i,e){if(0===t)return"0";const s=this.chart.options.locale;let a,l=t;if(e.length>1){const O=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(O<1e-4||O>1e15)&&(a="scientific"),l=function(t,i){let e=i.length>3?i[2].value-i[1].value:i[1].value-i[0].value;return Math.abs(e)>=1&&t!==Math.floor(t)&&(e=t-Math.floor(t)),e}(t,e)}const h=Qg(Math.abs(l)),v=Math.max(Math.min(-1*Math.floor(h),20),0),C={notation:a,minimumFractionDigits:v,maximumFractionDigits:v};return Object.assign(C,this.options.ticks.format),ZS(t,s,C)},logarithmic(t,i,e){if(0===t)return"0";const s=t/Math.pow(10,Math.floor(Qg(t)));return 1===s||2===s||5===s?eB.numeric.call(this,t,i,e):""}};var bI={formatters:eB};function xI(t,i,e,s,a){const l=io(s,0),h=Math.min(io(a,t.length),t.length);let C,O,G,v=0;for(e=Math.ceil(e),a&&(C=a-s,e=C/Math.floor(C/e)),G=l;G<0;)v++,G=Math.round(l+v*e);for(O=Math.max(l,0);O<h;O++)O===G&&(i.push(t[O]),v++,G=Math.round(l+v*e))}zo.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,i)=>i.lineWidth,tickColor:(t,i)=>i.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:bI.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),zo.route("scale.ticks","color","","color"),zo.route("scale.grid","color","","borderColor"),zo.route("scale.grid","borderColor","","borderColor"),zo.route("scale.title","color","","color"),zo.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t}),zo.describe("scales",{_fallback:"scale"}),zo.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t});const tB=(t,i,e)=>"top"===i||"left"===i?t[i]+e:t[i]-e;function nB(t,i){const e=[],s=t.length/i,a=t.length;let l=0;for(;l<a;l+=s)e.push(t[Math.floor(l)]);return e}function VZ(t,i,e){const s=t.ticks.length,a=Math.min(i,s-1),l=t._startPixel,h=t._endPixel,v=1e-6;let O,C=t.getPixelForTick(a);if(!(e&&(O=1===s?Math.max(C-l,h-C):0===i?(t.getPixelForTick(1)-C)/2:(C-t.getPixelForTick(a-1))/2,C+=a<i?O:-O,C<l-v||C>h+v)))return C}function JS(t){return t.drawTicks?t.tickLength:0}function iB(t,i){if(!t.display)return 0;const e=th(t.font,i),s=If(t.padding);return(Kl(t.text)?t.text.length:1)*e.lineHeight+s.height}function GZ(t,i,e){let s=MO(t);return(e&&"right"!==i||!e&&"right"===i)&&(s=(t=>"left"===t?"right":"right"===t?"left":t)(s)),s}class Ww extends oy{constructor(i){super(),this.id=i.id,this.type=i.type,this.options=void 0,this.ctx=i.ctx,this.chart=i.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(i){this.options=i.setContext(this.getContext()),this.axis=i.axis,this._userMin=this.parse(i.min),this._userMax=this.parse(i.max),this._suggestedMin=this.parse(i.suggestedMin),this._suggestedMax=this.parse(i.suggestedMax)}parse(i,e){return i}getUserBounds(){let{_userMin:i,_userMax:e,_suggestedMin:s,_suggestedMax:a}=this;return i=qg(i,Number.POSITIVE_INFINITY),e=qg(e,Number.NEGATIVE_INFINITY),s=qg(s,Number.POSITIVE_INFINITY),a=qg(a,Number.NEGATIVE_INFINITY),{min:qg(i,s),max:qg(e,a),minDefined:Xu(i),maxDefined:Xu(e)}}getMinMax(i){let h,{min:e,max:s,minDefined:a,maxDefined:l}=this.getUserBounds();if(a&&l)return{min:e,max:s};const v=this.getMatchingVisibleMetas();for(let C=0,O=v.length;C<O;++C)h=v[C].controller.getMinMax(this,i),a||(e=Math.min(e,h.min)),l||(s=Math.max(s,h.max));return e=l&&e>s?s:e,s=a&&e>s?e:s,{min:qg(e,qg(s,e)),max:qg(s,qg(e,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const i=this.chart.data;return this.options.labels||(this.isHorizontal()?i.xLabels:i.yLabels)||i.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ec(this.options.beforeUpdate,[this])}update(i,e,s){const{beginAtZero:a,grace:l,ticks:h}=this.options,v=h.sampleSize;this.beforeUpdate(),this.maxWidth=i,this.maxHeight=e,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(t,i,e){const{min:s,max:a}=t,l=L3(i,(a-s)/2),h=(v,C)=>e&&0===v?0:v+C;return{min:h(s,-Math.abs(l)),max:h(a,l)}}(this,l,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const C=v<this.ticks.length;this._convertTicksToLabels(C?nB(this.ticks,v):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),h.display&&(h.autoSkip||"auto"===h.source)&&(this.ticks=function(t,i){const e=t.options.ticks,s=e.maxTicksLimit||function(t){const i=t.options.offset,e=t._tickSize();return Math.floor(Math.min(t._length/e+(i?0:1),t._maxLength/e))}(t),a=e.major.enabled?function(t){const i=[];let e,s;for(e=0,s=t.length;e<s;e++)t[e].major&&i.push(e);return i}(i):[],l=a.length,h=a[0],v=a[l-1],C=[];if(l>s)return function(t,i,e,s){let h,a=0,l=e[0];for(s=Math.ceil(s),h=0;h<t.length;h++)h===l&&(i.push(t[h]),a++,l=e[a*s])}(i,C,a,l/s),C;const O=function(t,i,e){const s=function(t){const i=t.length;let e,s;if(i<2)return!1;for(s=t[0],e=1;e<i;++e)if(t[e]-t[e-1]!==s)return!1;return s}(t),a=i.length/e;if(!s)return Math.max(a,1);const l=function(t){const i=[],e=Math.sqrt(t);let s;for(s=1;s<e;s++)t%s==0&&(i.push(s),i.push(t/s));return e===(0|e)&&i.push(e),i.sort((a,l)=>a-l).pop(),i}(s);for(let h=0,v=l.length-1;h<v;h++){const C=l[h];if(C>a)return C}return Math.max(a,1)}(a,i,s);if(l>0){let G,te;const pe=l>1?Math.round((v-h)/(l-1)):null;for(xI(i,C,O,ka(pe)?0:h-pe,h),G=0,te=l-1;G<te;G++)xI(i,C,O,a[G],a[G+1]);return xI(i,C,O,v,ka(pe)?i.length:v+pe),C}return xI(i,C,O),C}(this,this.ticks),this._labelSizes=null),C&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,s,i=this.options.reverse;this.isHorizontal()?(e=this.left,s=this.right):(e=this.top,s=this.bottom,i=!i),this._startPixel=e,this._endPixel=s,this._reversePixels=i,this._length=s-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ec(this.options.afterUpdate,[this])}beforeSetDimensions(){ec(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ec(this.options.afterSetDimensions,[this])}_callHooks(i){this.chart.notifyPlugins(i,this.getContext()),ec(this.options[i],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ec(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(i){const e=this.options.ticks;let s,a,l;for(s=0,a=i.length;s<a;s++)l=i[s],l.label=ec(e.callback,[l.value,s,i],this)}afterTickToLabelConversion(){ec(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ec(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const i=this.options,e=i.ticks,s=this.ticks.length,a=e.minRotation||0,l=e.maxRotation;let v,C,O,h=a;if(!this._isVisible()||!e.display||a>=l||s<=1||!this.isHorizontal())return void(this.labelRotation=a);const G=this._getLabelSizes(),te=G.widest.width,pe=G.highest.height,we=Uh(this.chart.width-te,0,this.maxWidth);v=i.offset?this.maxWidth/s:we/(s-1),te+6>v&&(v=we/(s-(i.offset?.5:1)),C=this.maxHeight-JS(i.grid)-e.padding-iB(i.title,this.chart.options.font),O=Math.sqrt(te*te+pe*pe),h=SO(Math.min(Math.asin(Uh((G.highest.height+6)/v,-1,1)),Math.asin(Uh(C/O,-1,1))-Math.asin(Uh(pe/O,-1,1)))),h=Math.max(a,Math.min(l,h))),this.labelRotation=h}afterCalculateLabelRotation(){ec(this.options.afterCalculateLabelRotation,[this])}beforeFit(){ec(this.options.beforeFit,[this])}fit(){const i={width:0,height:0},{chart:e,options:{ticks:s,title:a,grid:l}}=this,h=this._isVisible(),v=this.isHorizontal();if(h){const C=iB(a,e.options.font);if(v?(i.width=this.maxWidth,i.height=JS(l)+C):(i.height=this.maxHeight,i.width=JS(l)+C),s.display&&this.ticks.length){const{first:O,last:G,widest:te,highest:pe}=this._getLabelSizes(),we=2*s.padding,Le=ry(this.labelRotation),je=Math.cos(Le),tt=Math.sin(Le);v?i.height=Math.min(this.maxHeight,i.height+(s.mirror?0:tt*te.width+je*pe.height)+we):i.width=Math.min(this.maxWidth,i.width+(s.mirror?0:je*te.width+tt*pe.height)+we),this._calculatePadding(O,G,tt,je)}}this._handleMargins(),v?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=i.height):(this.width=i.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(i,e,s,a){const{ticks:{align:l,padding:h},position:v}=this.options,C=0!==this.labelRotation,O="top"!==v&&"x"===this.axis;if(this.isHorizontal()){const G=this.getPixelForTick(0)-this.left,te=this.right-this.getPixelForTick(this.ticks.length-1);let pe=0,we=0;C?O?(pe=a*i.width,we=s*e.height):(pe=s*i.height,we=a*e.width):"start"===l?we=e.width:"end"===l?pe=i.width:(pe=i.width/2,we=e.width/2),this.paddingLeft=Math.max((pe-G+h)*this.width/(this.width-G),0),this.paddingRight=Math.max((we-te+h)*this.width/(this.width-te),0)}else{let G=e.height/2,te=i.height/2;"start"===l?(G=0,te=i.height):"end"===l&&(G=e.height,te=0),this.paddingTop=G+h,this.paddingBottom=te+h}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ec(this.options.afterFit,[this])}isHorizontal(){const{axis:i,position:e}=this.options;return"top"===e||"bottom"===e||"x"===i}isFullSize(){return this.options.fullSize}_convertTicksToLabels(i){let e,s;for(this.beforeTickToLabelConversion(),this.generateTickLabels(i),e=0,s=i.length;e<s;e++)ka(i[e].label)&&(i.splice(e,1),s--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let i=this._labelSizes;if(!i){const e=this.options.ticks.sampleSize;let s=this.ticks;e<s.length&&(s=nB(s,e)),this._labelSizes=i=this._computeLabelSizes(s,s.length)}return i}_computeLabelSizes(i,e){const{ctx:s,_longestTextCache:a}=this,l=[],h=[];let O,G,te,pe,we,Le,je,tt,yt,Zt,tn,v=0,C=0;for(O=0;O<e;++O){if(pe=i[O].label,we=this._resolveTickFontOptions(O),s.font=Le=we.string,je=a[Le]=a[Le]||{data:{},gc:[]},tt=we.lineHeight,yt=Zt=0,ka(pe)||Kl(pe)){if(Kl(pe))for(G=0,te=pe.length;G<te;++G)tn=pe[G],!ka(tn)&&!Kl(tn)&&(yt=uI(s,je.data,je.gc,yt,tn),Zt+=tt)}else yt=uI(s,je.data,je.gc,yt,pe),Zt=tt;l.push(yt),h.push(Zt),v=Math.max(yt,v),C=Math.max(Zt,C)}!function(t,i){ol(t,e=>{const s=e.gc,a=s.length/2;let l;if(a>i){for(l=0;l<a;++l)delete e.data[s[l]];s.splice(0,a)}})}(a,e);const gn=l.indexOf(v),pn=h.indexOf(C),qn=si=>({width:l[si]||0,height:h[si]||0});return{first:qn(0),last:qn(e-1),widest:qn(gn),highest:qn(pn),widths:l,heights:h}}getLabelForValue(i){return i}getPixelForValue(i,e){return NaN}getValueForPixel(i){}getPixelForTick(i){const e=this.ticks;return i<0||i>e.length-1?null:this.getPixelForValue(e[i].value)}getPixelForDecimal(i){this._reversePixels&&(i=1-i);const e=this._startPixel+i*this._length;return function(t){return Uh(t,-32768,32767)}(this._alignToPixels?Hw(this.chart,e,0):e)}getDecimalForPixel(i){const e=(i-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:i,max:e}=this;return i<0&&e<0?e:i>0&&e>0?i:0}getContext(i){const e=this.ticks||[];if(i>=0&&i<e.length){const s=e[i];return s.$context||(s.$context=function(t,i,e){return Q0(t,{tick:e,index:i,type:"tick"})}(this.getContext(),i,s))}return this.$context||(this.$context=function(t,i){return Q0(t,{scale:i,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const i=this.options.ticks,e=ry(this.labelRotation),s=Math.abs(Math.cos(e)),a=Math.abs(Math.sin(e)),l=this._getLabelSizes(),h=i.autoSkipPadding||0,v=l?l.widest.width+h:0,C=l?l.highest.height+h:0;return this.isHorizontal()?C*s>v*a?v/s:C/a:C*a<v*s?C/s:v/a}_isVisible(){const i=this.options.display;return"auto"!==i?!!i:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(i){const e=this.axis,s=this.chart,a=this.options,{grid:l,position:h}=a,v=l.offset,C=this.isHorizontal(),G=this.ticks.length+(v?1:0),te=JS(l),pe=[],we=l.setContext(this.getContext()),Le=we.drawBorder?we.borderWidth:0,je=Le/2,tt=function(oo){return Hw(s,oo,Le)};let yt,Zt,tn,gn,pn,qn,si,Li,Ii,xs,ro,so;if("top"===h)yt=tt(this.bottom),qn=this.bottom-te,Li=yt-je,xs=tt(i.top)+je,so=i.bottom;else if("bottom"===h)yt=tt(this.top),xs=i.top,so=tt(i.bottom)-je,qn=yt+je,Li=this.top+te;else if("left"===h)yt=tt(this.right),pn=this.right-te,si=yt-je,Ii=tt(i.left)+je,ro=i.right;else if("right"===h)yt=tt(this.left),Ii=i.left,ro=tt(i.right)-je,pn=yt+je,si=this.left+te;else if("x"===e){if("center"===h)yt=tt((i.top+i.bottom)/2+.5);else if(No(h)){const oo=Object.keys(h)[0];yt=tt(this.chart.scales[oo].getPixelForValue(h[oo]))}xs=i.top,so=i.bottom,qn=yt+je,Li=qn+te}else if("y"===e){if("center"===h)yt=tt((i.left+i.right)/2);else if(No(h)){const oo=Object.keys(h)[0];yt=tt(this.chart.scales[oo].getPixelForValue(h[oo]))}pn=yt-je,si=pn-te,Ii=i.left,ro=i.right}const xl=io(a.ticks.maxTicksLimit,G),jh=Math.max(1,Math.ceil(G/xl));for(Zt=0;Zt<G;Zt+=jh){const oo=l.setContext(this.getContext(Zt)),Mi=oo.lineWidth,Sr=oo.color,$r=l.borderDash||[],ho=oo.borderDashOffset,su=oo.tickWidth,wp=oo.tickColor,ih=oo.tickBorderDash||[],Mm=oo.tickBorderDashOffset;tn=VZ(this,Zt,v),void 0!==tn&&(gn=Hw(s,tn,Mi),C?pn=si=Ii=ro=gn:qn=Li=xs=so=gn,pe.push({tx1:pn,ty1:qn,tx2:si,ty2:Li,x1:Ii,y1:xs,x2:ro,y2:so,width:Mi,color:Sr,borderDash:$r,borderDashOffset:ho,tickWidth:su,tickColor:wp,tickBorderDash:ih,tickBorderDashOffset:Mm}))}return this._ticksLength=G,this._borderValue=yt,pe}_computeLabelItems(i){const e=this.axis,s=this.options,{position:a,ticks:l}=s,h=this.isHorizontal(),v=this.ticks,{align:C,crossAlign:O,padding:G,mirror:te}=l,pe=JS(s.grid),we=pe+G,Le=te?-G:we,je=-ry(this.labelRotation),tt=[];let yt,Zt,tn,gn,pn,qn,si,Li,Ii,xs,ro,so,xl="middle";if("top"===a)qn=this.bottom-Le,si=this._getXAxisLabelAlignment();else if("bottom"===a)qn=this.top+Le,si=this._getXAxisLabelAlignment();else if("left"===a){const oo=this._getYAxisLabelAlignment(pe);si=oo.textAlign,pn=oo.x}else if("right"===a){const oo=this._getYAxisLabelAlignment(pe);si=oo.textAlign,pn=oo.x}else if("x"===e){if("center"===a)qn=(i.top+i.bottom)/2+we;else if(No(a)){const oo=Object.keys(a)[0];qn=this.chart.scales[oo].getPixelForValue(a[oo])+we}si=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===a)pn=(i.left+i.right)/2-we;else if(No(a)){const oo=Object.keys(a)[0];pn=this.chart.scales[oo].getPixelForValue(a[oo])}si=this._getYAxisLabelAlignment(pe).textAlign}"y"===e&&("start"===C?xl="top":"end"===C&&(xl="bottom"));const jh=this._getLabelSizes();for(yt=0,Zt=v.length;yt<Zt;++yt){tn=v[yt],gn=tn.label;const oo=l.setContext(this.getContext(yt));Li=this.getPixelForTick(yt)+l.labelOffset,Ii=this._resolveTickFontOptions(yt),xs=Ii.lineHeight,ro=Kl(gn)?gn.length:1;const Mi=ro/2,Sr=oo.color,$r=oo.textStrokeColor,ho=oo.textStrokeWidth;let su;if(h?(pn=Li,so="top"===a?"near"===O||0!==je?-ro*xs+xs/2:"center"===O?-jh.highest.height/2-Mi*xs+xs:xs/2-jh.highest.height:"near"===O||0!==je?xs/2:"center"===O?jh.highest.height/2-Mi*xs:jh.highest.height-ro*xs,te&&(so*=-1)):(qn=Li,so=(1-ro)*xs/2),oo.showLabelBackdrop){const wp=If(oo.backdropPadding),ih=jh.heights[yt],Mm=jh.widths[yt];let tc=qn+so-wp.top,Ok=pn-wp.left;switch(xl){case"middle":tc-=ih/2;break;case"bottom":tc-=ih}switch(si){case"center":Ok-=Mm/2;break;case"right":Ok-=Mm}su={left:Ok,top:tc,width:Mm+wp.width,height:ih+wp.height,color:oo.backdropColor}}tt.push({rotation:je,label:gn,font:Ii,color:Sr,strokeColor:$r,strokeWidth:ho,textOffset:so,textAlign:si,textBaseline:xl,translation:[pn,qn],backdrop:su})}return tt}_getXAxisLabelAlignment(){const{position:i,ticks:e}=this.options;if(-ry(this.labelRotation))return"top"===i?"left":"right";let a="center";return"start"===e.align?a="left":"end"===e.align&&(a="right"),a}_getYAxisLabelAlignment(i){const{position:e,ticks:{crossAlign:s,mirror:a,padding:l}}=this.options,v=i+l,C=this._getLabelSizes().widest.width;let O,G;return"left"===e?a?(G=this.right+l,"near"===s?O="left":"center"===s?(O="center",G+=C/2):(O="right",G+=C)):(G=this.right-v,"near"===s?O="right":"center"===s?(O="center",G-=C/2):(O="left",G=this.left)):"right"===e?a?(G=this.left+l,"near"===s?O="right":"center"===s?(O="center",G-=C/2):(O="left",G-=C)):(G=this.left+v,"near"===s?O="left":"center"===s?(O="center",G+=C/2):(O="right",G=this.right)):O="right",{textAlign:O,x:G}}_computeLabelArea(){if(this.options.ticks.mirror)return;const i=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:i.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:i.width}:void 0}drawBackground(){const{ctx:i,options:{backgroundColor:e},left:s,top:a,width:l,height:h}=this;e&&(i.save(),i.fillStyle=e,i.fillRect(s,a,l,h),i.restore())}getLineWidthForValue(i){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const a=this.ticks.findIndex(l=>l.value===i);return a>=0?e.setContext(this.getContext(a)).lineWidth:0}drawGrid(i){const e=this.options.grid,s=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(i));let l,h;const v=(C,O,G)=>{!G.width||!G.color||(s.save(),s.lineWidth=G.width,s.strokeStyle=G.color,s.setLineDash(G.borderDash||[]),s.lineDashOffset=G.borderDashOffset,s.beginPath(),s.moveTo(C.x,C.y),s.lineTo(O.x,O.y),s.stroke(),s.restore())};if(e.display)for(l=0,h=a.length;l<h;++l){const C=a[l];e.drawOnChartArea&&v({x:C.x1,y:C.y1},{x:C.x2,y:C.y2},C),e.drawTicks&&v({x:C.tx1,y:C.ty1},{x:C.tx2,y:C.ty2},{color:C.tickColor,width:C.tickWidth,borderDash:C.tickBorderDash,borderDashOffset:C.tickBorderDashOffset})}}drawBorder(){const{chart:i,ctx:e,options:{grid:s}}=this,a=s.setContext(this.getContext()),l=s.drawBorder?a.borderWidth:0;if(!l)return;const h=s.setContext(this.getContext(0)).lineWidth,v=this._borderValue;let C,O,G,te;this.isHorizontal()?(C=Hw(i,this.left,l)-l/2,O=Hw(i,this.right,h)+h/2,G=te=v):(G=Hw(i,this.top,l)-l/2,te=Hw(i,this.bottom,h)+h/2,C=O=v),e.save(),e.lineWidth=a.borderWidth,e.strokeStyle=a.borderColor,e.beginPath(),e.moveTo(C,G),e.lineTo(O,te),e.stroke(),e.restore()}drawLabels(i){if(!this.options.ticks.display)return;const s=this.ctx,a=this._computeLabelArea();a&&hI(s,a);const l=this._labelItems||(this._labelItems=this._computeLabelItems(i));let h,v;for(h=0,v=l.length;h<v;++h){const C=l[h],O=C.font,G=C.label;C.backdrop&&(s.fillStyle=C.backdrop.color,s.fillRect(C.backdrop.left,C.backdrop.top,C.backdrop.width,C.backdrop.height)),Uw(s,G,0,C.textOffset,O,C)}a&&pI(s)}drawTitle(){const{ctx:i,options:{position:e,title:s,reverse:a}}=this;if(!s.display)return;const l=th(s.font),h=If(s.padding),v=s.align;let C=l.lineHeight/2;"bottom"===e||"center"===e||No(e)?(C+=h.bottom,Kl(s.text)&&(C+=l.lineHeight*(s.text.length-1))):C+=h.top;const{titleX:O,titleY:G,maxWidth:te,rotation:pe}=function(t,i,e,s){const{top:a,left:l,bottom:h,right:v,chart:C}=t,{chartArea:O,scales:G}=C;let pe,we,Le,te=0;const je=h-a,tt=v-l;if(t.isHorizontal()){if(we=tf(s,l,v),No(e)){const yt=Object.keys(e)[0];Le=G[yt].getPixelForValue(e[yt])+je-i}else Le="center"===e?(O.bottom+O.top)/2+je-i:tB(t,e,i);pe=v-l}else{if(No(e)){const yt=Object.keys(e)[0];we=G[yt].getPixelForValue(e[yt])-tt+i}else we="center"===e?(O.left+O.right)/2-tt+i:tB(t,e,i);Le=tf(s,h,a),te="left"===e?-Ju:Ju}return{titleX:we,titleY:Le,maxWidth:pe,rotation:te}}(this,C,e,v);Uw(i,s.text,0,0,l,{color:s.color,maxWidth:te,rotation:pe,textAlign:GZ(v,e,a),textBaseline:"middle",translation:[O,G]})}draw(i){!this._isVisible()||(this.drawBackground(),this.drawGrid(i),this.drawBorder(),this.drawTitle(),this.drawLabels(i))}_layers(){const i=this.options,e=i.ticks&&i.ticks.z||0,s=io(i.grid&&i.grid.z,-1);return this._isVisible()&&this.draw===Ww.prototype.draw?[{z:s,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:s+1,draw:()=>{this.drawBorder()}},{z:e,draw:a=>{this.drawLabels(a)}}]:[{z:e,draw:a=>{this.draw(a)}}]}getMatchingVisibleMetas(i){const e=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",a=[];let l,h;for(l=0,h=e.length;l<h;++l){const v=e[l];v[s]===this.id&&(!i||v.type===i)&&a.push(v)}return a}_resolveTickFontOptions(i){return th(this.options.ticks.setContext(this.getContext(i)).font)}_maxDigits(){const i=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/i}}class wI{constructor(i,e,s){this.type=i,this.scope=e,this.override=s,this.items=Object.create(null)}isForType(i){return Object.prototype.isPrototypeOf.call(this.type.prototype,i.prototype)}register(i){const e=Object.getPrototypeOf(i);let s;(function(t){return"id"in t&&"defaults"in t})(e)&&(s=this.register(e));const a=this.items,l=i.id,h=this.scope+"."+l;if(!l)throw new Error("class does not have id: "+i);return l in a||(a[l]=i,function(t,i,e){const s=RS(Object.create(null),[e?zo.get(e):{},zo.get(i),t.defaults]);zo.set(i,s),t.defaultRoutes&&function(t,i){Object.keys(i).forEach(e=>{const s=e.split("."),a=s.pop(),l=[t].concat(s).join("."),h=i[e].split("."),v=h.pop(),C=h.join(".");zo.route(l,a,C,v)})}(i,t.defaultRoutes),t.descriptors&&zo.describe(i,t.descriptors)}(i,h,s),this.override&&zo.override(i.id,i.overrides)),h}get(i){return this.items[i]}unregister(i){const e=this.items,s=i.id,a=this.scope;s in e&&delete e[s],a&&s in zo[a]&&(delete zo[a][s],this.override&&delete Yw[s])}}var Eb=new class{constructor(){this.controllers=new wI(kb,"datasets",!0),this.elements=new wI(oy,"elements"),this.plugins=new wI(Object,"plugins"),this.scales=new wI(Ww,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...i){this._each("register",i)}remove(...i){this._each("unregister",i)}addControllers(...i){this._each("register",i,this.controllers)}addElements(...i){this._each("register",i,this.elements)}addPlugins(...i){this._each("register",i,this.plugins)}addScales(...i){this._each("register",i,this.scales)}getController(i){return this._get(i,this.controllers,"controller")}getElement(i){return this._get(i,this.elements,"element")}getPlugin(i){return this._get(i,this.plugins,"plugin")}getScale(i){return this._get(i,this.scales,"scale")}removeControllers(...i){this._each("unregister",i,this.controllers)}removeElements(...i){this._each("unregister",i,this.elements)}removePlugins(...i){this._each("unregister",i,this.plugins)}removeScales(...i){this._each("unregister",i,this.scales)}_each(i,e,s){[...e].forEach(a=>{const l=s||this._getRegistryForType(a);s||l.isForType(a)||l===this.plugins&&a.id?this._exec(i,l,a):ol(a,h=>{const v=s||this._getRegistryForType(h);this._exec(i,v,h)})})}_exec(i,e,s){const a=TO(i);ec(s["before"+a],[],s),e[i](s),ec(s["after"+a],[],s)}_getRegistryForType(i){for(let e=0;e<this._typedRegistries.length;e++){const s=this._typedRegistries[e];if(s.isForType(i))return s}return this.plugins}_get(i,e,s){const a=e.get(i);if(void 0===a)throw new Error('"'+i+'" is not a registered '+s+".");return a}};class JZ{constructor(){this._init=[]}notify(i,e,s,a){"beforeInit"===e&&(this._init=this._createDescriptors(i,!0),this._notify(this._init,i,"install"));const l=a?this._descriptors(i).filter(a):this._descriptors(i),h=this._notify(l,i,e,s);return"destroy"===e&&(this._notify(l,i,"stop"),this._notify(this._init,i,"uninstall")),h}_notify(i,e,s,a){a=a||{};for(const l of i){const h=l.plugin;if(!1===ec(h[s],[e,a,l.options],h)&&a.cancelable)return!1}return!0}invalidate(){ka(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(i){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(i);return this._notifyStateChanges(i),e}_createDescriptors(i,e){const s=i&&i.config,a=io(s.options&&s.options.plugins,{}),l=function(t){const i=[],e=Object.keys(Eb.plugins.items);for(let a=0;a<e.length;a++)i.push(Eb.getPlugin(e[a]));const s=t.plugins||[];for(let a=0;a<s.length;a++){const l=s[a];-1===i.indexOf(l)&&i.push(l)}return i}(s);return!1!==a||e?function(t,i,e,s){const a=[],l=t.getContext();for(let h=0;h<i.length;h++){const v=i[h],O=eG(e[v.id],s);null!==O&&a.push({plugin:v,options:nG(t.config,v,O,l)})}return a}(i,l,a,e):[]}_notifyStateChanges(i){const e=this._oldCache||[],s=this._cache,a=(l,h)=>l.filter(v=>!h.some(C=>v.plugin.id===C.plugin.id));this._notify(a(e,s),i,"stop"),this._notify(a(s,e),i,"start")}}function eG(t,i){return i||!1!==t?!0===t?{}:t:null}function nG(t,i,e,s){const a=t.pluginScopeKeys(i),l=t.getOptionScopes(e,a);return t.createResolver(l,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function QO(t,i){return((i.datasets||{})[t]||{}).indexAxis||i.indexAxis||(zo.datasets[t]||{}).indexAxis||"x"}function XO(t,i){return"x"===t||"y"===t?t:i.axis||function(t){return"top"===t||"bottom"===t?"x":"left"===t||"right"===t?"y":void 0}(i.position)||t.charAt(0).toLowerCase()}function rB(t){const i=t.options||(t.options={});i.plugins=io(i.plugins,{}),i.scales=function(t,i){const e=Yw[t.type]||{scales:{}},s=i.scales||{},a=QO(t.type,i),l=Object.create(null),h=Object.create(null);return Object.keys(s).forEach(v=>{const C=s[v];if(!No(C))return console.error(`Invalid scale configuration for scale: ${v}`);if(C._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${v}`);const O=XO(v,C),G=function(t,i){return t===i?"_index_":"_value_"}(O,a),te=e.scales||{};l[O]=l[O]||v,h[v]=FS(Object.create(null),[{axis:O},C,te[O],te[G]])}),t.data.datasets.forEach(v=>{const C=v.type||t.type,O=v.indexAxis||QO(C,i),te=(Yw[C]||{}).scales||{};Object.keys(te).forEach(pe=>{const we=function(t,i){let e=t;return"_index_"===t?e=i:"_value_"===t&&(e="x"===i?"y":"x"),e}(pe,O),Le=v[we+"AxisID"]||l[we]||we;h[Le]=h[Le]||Object.create(null),FS(h[Le],[{axis:we},s[Le],te[pe]])})}),Object.keys(h).forEach(v=>{const C=h[v];FS(C,[zo.scales[C.type],zo.scale])}),h}(t,i)}function sB(t){return(t=t||{}).datasets=t.datasets||[],t.labels=t.labels||[],t}const oB=new Map,aB=new Set;function CI(t,i){let e=oB.get(t);return e||(e=i(),oB.set(t,e),aB.add(e)),e}const KS=(t,i,e)=>{const s=Bw(i,e);void 0!==s&&t.add(s)};class lG{constructor(i){this._config=function(t){return(t=t||{}).data=sB(t.data),rB(t),t}(i),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(i){this._config.type=i}get data(){return this._config.data}set data(i){this._config.data=sB(i)}get options(){return this._config.options}set options(i){this._config.options=i}get plugins(){return this._config.plugins}update(){const i=this._config;this.clearCache(),rB(i)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(i){return CI(i,()=>[[`datasets.${i}`,""]])}datasetAnimationScopeKeys(i,e){return CI(`${i}.transition.${e}`,()=>[[`datasets.${i}.transitions.${e}`,`transitions.${e}`],[`datasets.${i}`,""]])}datasetElementScopeKeys(i,e){return CI(`${i}-${e}`,()=>[[`datasets.${i}.elements.${e}`,`datasets.${i}`,`elements.${e}`,""]])}pluginScopeKeys(i){const e=i.id;return CI(`${this.type}-plugin-${e}`,()=>[[`plugins.${e}`,...i.additionalOptionScopes||[]]])}_cachedScopes(i,e){const s=this._scopeCache;let a=s.get(i);return(!a||e)&&(a=new Map,s.set(i,a)),a}getOptionScopes(i,e,s){const{options:a,type:l}=this,h=this._cachedScopes(i,s),v=h.get(e);if(v)return v;const C=new Set;e.forEach(G=>{i&&(C.add(i),G.forEach(te=>KS(C,i,te))),G.forEach(te=>KS(C,a,te)),G.forEach(te=>KS(C,Yw[l]||{},te)),G.forEach(te=>KS(C,zo,te)),G.forEach(te=>KS(C,OO,te))});const O=Array.from(C);return 0===O.length&&O.push(Object.create(null)),aB.has(e)&&h.set(e,O),O}chartOptionScopes(){const{options:i,type:e}=this;return[i,Yw[e]||{},zo.datasets[e]||{},{type:e},zo,OO]}resolveNamedOptions(i,e,s,a=[""]){const l={$shared:!0},{resolver:h,subPrefixes:v}=lB(this._resolverCache,i,a);let C=h;(function(t,i){const{isScriptable:e,isIndexable:s}=nz(t);for(const a of i){const l=e(a),h=s(a),v=(h||l)&&t[a];if(l&&($0(v)||cG(v))||h&&Kl(v))return!0}return!1})(h,e)&&(l.$shared=!1,C=jC(h,s=$0(s)?s():s,this.createResolver(i,s,v)));for(const O of e)l[O]=C[O];return l}createResolver(i,e,s=[""],a){const{resolver:l}=lB(this._resolverCache,i,s);return No(e)?jC(l,e,void 0,a):l}}function lB(t,i,e){let s=t.get(i);s||(s=new Map,t.set(i,s));const a=e.join();let l=s.get(a);return l||(l={resolver:zO(i,e),subPrefixes:e.filter(v=>!v.toLowerCase().includes("hover"))},s.set(a,l)),l}const cG=t=>No(t)&&Object.getOwnPropertyNames(t).reduce((i,e)=>i||$0(t[e]),!1),hG=["top","bottom","left","right","chartArea"];function cB(t,i){return"top"===t||"bottom"===t||-1===hG.indexOf(t)&&"x"===i}function uB(t,i){return function(e,s){return e[t]===s[t]?e[i]-s[i]:e[t]-s[t]}}function dB(t){const i=t.chart,e=i.options.animation;i.notifyPlugins("afterRender"),ec(e&&e.onComplete,[t],i)}function pG(t){const i=t.chart,e=i.options.animation;ec(e&&e.onProgress,[t],i)}function hB(t){return uz()&&"string"==typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const MI={},pB=t=>{const i=hB(t);return Object.values(MI).filter(e=>e.canvas===i).pop()};class ek{constructor(i,e){const s=this.config=new lG(e),a=hB(i),l=pB(a);if(l)throw new Error("Canvas is already in use. Chart with ID '"+l.id+"' must be destroyed before the canvas can be reused.");const h=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||function(t){return!uz()||"undefined"!=typeof OffscreenCanvas&&t instanceof OffscreenCanvas?bZ:LZ}(a)),this.platform.updateConfig(s);const v=this.platform.acquireContext(a,h.aspectRatio),C=v&&v.canvas,O=C&&C.height,G=C&&C.width;this.id=n5(),this.ctx=v,this.canvas=C,this.width=G,this.height=O,this._options=h,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new JZ,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(t,i){let e;return function(...s){return i?(clearTimeout(e),e=setTimeout(t,i,s)):t.apply(this,s),i}}(te=>this.update(te),h.resizeDelay||0),MI[this.id]=this,v&&C?(Sb.listen(this,"complete",dB),Sb.listen(this,"progress",pG),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:i,maintainAspectRatio:e},width:s,height:a,_aspectRatio:l}=this;return ka(i)?e&&l?l:a?s/a:null:i}get data(){return this.config.data}set data(i){this.config.data=i}get options(){return this._options}set options(i){this.config.options=i}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():hz(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return X3(this.canvas,this.ctx),this}stop(){return Sb.stop(this),this}resize(i,e){Sb.running(this)?this._resizeBeforeDraw={width:i,height:e}:this._resize(i,e)}_resize(i,e){const s=this.options,h=this.platform.getMaximumSize(this.canvas,i,e,s.maintainAspectRatio&&this.aspectRatio),v=s.devicePixelRatio||this.platform.getDevicePixelRatio(),C=this.width?"resize":"attach";this.width=h.width,this.height=h.height,this._aspectRatio=this.aspectRatio,hz(this,v,!0)&&(this.notifyPlugins("resize",{size:h}),ec(s.onResize,[this,h],this),this.attached&&this._doResize(C)&&this.render())}ensureScalesHaveIDs(){ol(this.options.scales||{},(s,a)=>{s.id=a})}buildOrUpdateScales(){const i=this.options,e=i.scales,s=this.scales,a=Object.keys(s).reduce((h,v)=>(h[v]=!1,h),{});let l=[];e&&(l=l.concat(Object.keys(e).map(h=>{const v=e[h],C=XO(h,v),O="r"===C,G="x"===C;return{options:v,dposition:O?"chartArea":G?"bottom":"left",dtype:O?"radialLinear":G?"category":"linear"}}))),ol(l,h=>{const v=h.options,C=v.id,O=XO(C,v),G=io(v.type,h.dtype);(void 0===v.position||cB(v.position,O)!==cB(h.dposition))&&(v.position=h.dposition),a[C]=!0;let te=null;C in s&&s[C].type===G?te=s[C]:(te=new(Eb.getScale(G))({id:C,type:G,ctx:this.ctx,chart:this}),s[te.id]=te),te.init(v,i)}),ol(a,(h,v)=>{h||delete s[v]}),ol(s,h=>{nf.configure(this,h,h.options),nf.addBox(this,h)})}_updateMetasets(){const i=this._metasets,e=this.data.datasets.length,s=i.length;if(i.sort((a,l)=>a.index-l.index),s>e){for(let a=e;a<s;++a)this._destroyDatasetMeta(a);i.splice(e,s-e)}this._sortedMetasets=i.slice(0).sort(uB("order","index"))}_removeUnreferencedMetasets(){const{_metasets:i,data:{datasets:e}}=this;i.length>e.length&&delete this._stacks,i.forEach((s,a)=>{0===e.filter(l=>l===s._dataset).length&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const i=[],e=this.data.datasets;let s,a;for(this._removeUnreferencedMetasets(),s=0,a=e.length;s<a;s++){const l=e[s];let h=this.getDatasetMeta(s);const v=l.type||this.config.type;if(h.type&&h.type!==v&&(this._destroyDatasetMeta(s),h=this.getDatasetMeta(s)),h.type=v,h.indexAxis=l.indexAxis||QO(v,this.options),h.order=l.order||0,h.index=s,h.label=""+l.label,h.visible=this.isDatasetVisible(s),h.controller)h.controller.updateIndex(s),h.controller.linkScales();else{const C=Eb.getController(v),{datasetElementType:O,dataElementType:G}=zo.datasets[v];Object.assign(C.prototype,{dataElementType:Eb.getElement(G),datasetElementType:O&&Eb.getElement(O)}),h.controller=new C(this,s),i.push(h.controller)}}return this._updateMetasets(),i}_resetElements(){ol(this.data.datasets,(i,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(i){const e=this.config;e.update();const s=this._options=e.createResolver(e.chartOptionScopes(),this.getContext());ol(this.scales,O=>{nf.removeBox(this,O)});const a=this._animationsDisabled=!s.animation;if(this.ensureScalesHaveIDs(),this.buildOrUpdateScales(),(!((t,i)=>{if(t.size!==i.size)return!1;for(const e of t)if(!i.has(e))return!1;return!0})(new Set(Object.keys(this._listeners)),new Set(s.events))||!!this._responsiveListeners!==s.responsive)&&(this.unbindEvents(),this.bindEvents()),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:i,cancelable:!0}))return;const v=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let C=0;for(let O=0,G=this.data.datasets.length;O<G;O++){const{controller:te}=this.getDatasetMeta(O),pe=!a&&-1===v.indexOf(te);te.buildOrUpdateElements(pe),C=Math.max(+te.getMaxOverflow(),C)}C=this._minPadding=s.layout.autoPadding?C:0,this._updateLayout(C),a||ol(v,O=>{O.reset()}),this._updateDatasets(i),this.notifyPlugins("afterUpdate",{mode:i}),this._layers.sort(uB("z","_idx")),this._lastEvent&&this._eventHandler(this._lastEvent,!0),this.render()}_updateLayout(i){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;nf.update(this,this.width,this.height,i);const e=this.chartArea,s=e.width<=0||e.height<=0;this._layers=[],ol(this.boxes,a=>{s&&"chartArea"===a.position||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,l)=>{a._idx=l}),this.notifyPlugins("afterLayout")}_updateDatasets(i){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:i,cancelable:!0})){for(let e=0,s=this.data.datasets.length;e<s;++e)this._updateDataset(e,$0(i)?i({datasetIndex:e}):i);this.notifyPlugins("afterDatasetsUpdate",{mode:i})}}_updateDataset(i,e){const s=this.getDatasetMeta(i),a={meta:s,index:i,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",a)&&(s.controller._update(e),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Sb.has(this)?this.attached&&!Sb.running(this)&&Sb.start(this):(this.draw(),dB({chart:this})))}draw(){let i;if(this._resizeBeforeDraw){const{width:s,height:a}=this._resizeBeforeDraw;this._resize(s,a),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this._layers;for(i=0;i<e.length&&e[i].z<=0;++i)e[i].draw(this.chartArea);for(this._drawDatasets();i<e.length;++i)e[i].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(i){const e=this._sortedMetasets,s=[];let a,l;for(a=0,l=e.length;a<l;++a){const h=e[a];(!i||h.visible)&&s.push(h)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const i=this.getSortedVisibleDatasetMetas();for(let e=i.length-1;e>=0;--e)this._drawDataset(i[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(i){const e=this.ctx,s=i._clip,a=!s.disabled,l=this.chartArea,h={meta:i,index:i.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",h)&&(a&&hI(e,{left:!1===s.left?0:l.left-s.left,right:!1===s.right?this.width:l.right+s.right,top:!1===s.top?0:l.top-s.top,bottom:!1===s.bottom?this.height:l.bottom+s.bottom}),i.controller.draw(),a&&pI(e),h.cancelable=!1,this.notifyPlugins("afterDatasetDraw",h))}getElementsAtEventForMode(i,e,s,a){const l=hZ.modes[e];return"function"==typeof l?l(this,i,s,a):[]}getDatasetMeta(i){const e=this.data.datasets[i],s=this._metasets;let a=s.filter(l=>l&&l._dataset===e).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:i,_dataset:e,_parsed:[],_sorted:!1},s.push(a)),a}getContext(){return this.$context||(this.$context=Q0(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(i){const e=this.data.datasets[i];if(!e)return!1;const s=this.getDatasetMeta(i);return"boolean"==typeof s.hidden?!s.hidden:!e.hidden}setDatasetVisibility(i,e){this.getDatasetMeta(i).hidden=!e}toggleDataVisibility(i){this._hiddenIndices[i]=!this._hiddenIndices[i]}getDataVisibility(i){return!this._hiddenIndices[i]}_updateVisibility(i,e,s){const a=s?"show":"hide",l=this.getDatasetMeta(i),h=l.controller._resolveAnimations(void 0,a);$g(e)?(l.data[e].hidden=!s,this.update()):(this.setDatasetVisibility(i,s),h.update(l,{visible:s}),this.update(v=>v.datasetIndex===i?a:void 0))}hide(i,e){this._updateVisibility(i,e,!1)}show(i,e){this._updateVisibility(i,e,!0)}_destroyDatasetMeta(i){const e=this._metasets[i];e&&e.controller&&e.controller._destroy(),delete this._metasets[i]}_stop(){let i,e;for(this.stop(),Sb.remove(this),i=0,e=this.data.datasets.length;i<e;++i)this._destroyDatasetMeta(i)}destroy(){const{canvas:i,ctx:e}=this;this._stop(),this.config.clearCache(),i&&(this.unbindEvents(),X3(i,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete MI[this.id]}toBase64Image(...i){return this.canvas.toDataURL(...i)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const i=this._listeners,e=this.platform,s=(l,h)=>{e.addEventListener(this,l,h),i[l]=h},a=(l,h,v)=>{l.offsetX=h,l.offsetY=v,this._eventHandler(l)};ol(this.options.events,l=>s(l,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const i=this._responsiveListeners,e=this.platform,s=(C,O)=>{e.addEventListener(this,C,O),i[C]=O},a=(C,O)=>{i[C]&&(e.removeEventListener(this,C,O),delete i[C])},l=(C,O)=>{this.canvas&&this.resize(C,O)};let h;const v=()=>{a("attach",v),this.attached=!0,this.resize(),s("resize",l),s("detach",h)};h=()=>{this.attached=!1,a("resize",l),this._stop(),this._resize(0,0),s("attach",v)},e.isAttached(this.canvas)?v():h()}unbindEvents(){ol(this._listeners,(i,e)=>{this.platform.removeEventListener(this,e,i)}),this._listeners={},ol(this._responsiveListeners,(i,e)=>{this.platform.removeEventListener(this,e,i)}),this._responsiveListeners=void 0}updateHoverStyle(i,e,s){const a=s?"set":"remove";let l,h,v,C;for("dataset"===e&&(l=this.getDatasetMeta(i[0].datasetIndex),l.controller["_"+a+"DatasetHoverStyle"]()),v=0,C=i.length;v<C;++v){h=i[v];const O=h&&this.getDatasetMeta(h.datasetIndex).controller;O&&O[a+"HoverStyle"](h.element,h.datasetIndex,h.index)}}getActiveElements(){return this._active||[]}setActiveElements(i){const e=this._active||[],s=i.map(({datasetIndex:l,index:h})=>{const v=this.getDatasetMeta(l);if(!v)throw new Error("No dataset found at index "+l);return{datasetIndex:l,element:v.data[h],index:h}});!eI(s,e)&&(this._active=s,this._updateHoverStyles(s,e))}notifyPlugins(i,e,s){return this._plugins.notify(this,i,e,s)}_updateHoverStyles(i,e,s){const a=this.options.hover,l=(C,O)=>C.filter(G=>!O.some(te=>G.datasetIndex===te.datasetIndex&&G.index===te.index)),h=l(e,i),v=s?i:l(i,e);h.length&&this.updateHoverStyle(h,a.mode,!1),v.length&&a.mode&&this.updateHoverStyle(v,a.mode,!0)}_eventHandler(i,e){const s={event:i,replay:e,cancelable:!0},a=h=>(h.options.events||this.options.events).includes(i.native.type);if(!1===this.notifyPlugins("beforeEvent",s,a))return;const l=this._handleEvent(i,e);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,a),(l||s.changed)&&this.render(),this}_handleEvent(i,e){const{_active:s=[],options:a}=this,l=a.hover;let v=[],C=!1,O=null;return"mouseout"!==i.type&&(v=this.getElementsAtEventForMode(i,l.mode,l,e),O="click"===i.type?this._lastEvent:i),this._lastEvent=null,Vw(i,this.chartArea,this._minPadding)&&(ec(a.onHover,[i,v,this],this),("mouseup"===i.type||"click"===i.type||"contextmenu"===i.type)&&ec(a.onClick,[i,v,this],this)),C=!eI(v,s),(C||e)&&(this._active=v,this._updateHoverStyles(v,s,e)),this._lastEvent=O,C}}const fB=()=>ol(ek.instances,t=>t._plugins.invalidate()),X0=!0;function mB(t,i,e){const{startAngle:s,pixelMargin:a,x:l,y:h,outerRadius:v,innerRadius:C}=i;let O=a/v;t.beginPath(),t.arc(l,h,v,s-O,e+O),C>a?(O=a/C,t.arc(l,h,C,e+O,s-O,!0)):t.arc(l,h,a,e+Ju,s-Ju),t.closePath(),t.clip()}function WC(t,i,e,s){return{x:e+t*Math.cos(i),y:s+t*Math.sin(i)}}function JO(t,i,e,s,a){const{x:l,y:h,startAngle:v,pixelMargin:C,innerRadius:O}=i,G=Math.max(i.outerRadius+s+e-C,0),te=O>0?O+s+e+C:0;let pe=0;const we=a-v;if(s){const $r=((O>0?O-s:0)+(G>0?G-s:0))/2;pe=(we-(0!==$r?we*$r/($r+s):we))/2}const je=(we-Math.max(.001,we*G-e/bu)/G)/2,tt=v+je+pe,yt=a-je-pe,{outerStart:Zt,outerEnd:tn,innerStart:gn,innerEnd:pn}=function(t,i,e,s){const a=function(t){return FO(t,["outerStart","outerEnd","innerStart","innerEnd"])}(t.options.borderRadius),l=(e-i)/2,h=Math.min(l,s*i/2),v=C=>{const O=(e-Math.min(l,C))*s/2;return Uh(C,0,Math.min(l,O))};return{outerStart:v(a.outerStart),outerEnd:v(a.outerEnd),innerStart:Uh(a.innerStart,0,h),innerEnd:Uh(a.innerEnd,0,h)}}(i,te,G,yt-tt),qn=G-Zt,si=G-tn,Li=tt+Zt/qn,Ii=yt-tn/si,xs=te+gn,ro=te+pn,so=tt+gn/xs,xl=yt-pn/ro;if(t.beginPath(),t.arc(l,h,G,Li,Ii),tn>0){const Mi=WC(si,Ii,l,h);t.arc(Mi.x,Mi.y,tn,Ii,yt+Ju)}const jh=WC(ro,yt,l,h);if(t.lineTo(jh.x,jh.y),pn>0){const Mi=WC(ro,xl,l,h);t.arc(Mi.x,Mi.y,pn,yt+Ju,xl+Math.PI)}if(t.arc(l,h,te,yt-pn/te,tt+gn/te,!0),gn>0){const Mi=WC(xs,so,l,h);t.arc(Mi.x,Mi.y,gn,so+Math.PI,tt-Ju)}const oo=WC(qn,tt,l,h);if(t.lineTo(oo.x,oo.y),Zt>0){const Mi=WC(qn,Li,l,h);t.arc(Mi.x,Mi.y,Zt,tt-Ju,Li)}t.closePath()}Object.defineProperties(ek,{defaults:{enumerable:X0,value:zo},instances:{enumerable:X0,value:MI},overrides:{enumerable:X0,value:Yw},registry:{enumerable:X0,value:Eb},version:{enumerable:X0,value:"3.6.0"},getChart:{enumerable:X0,value:pB},register:{enumerable:X0,value:(...t)=>{Eb.add(...t),fB()}},unregister:{enumerable:X0,value:(...t)=>{Eb.remove(...t),fB()}}});class tk extends oy{constructor(i){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,i&&Object.assign(this,i)}inRange(i,e,s){const a=this.getProps(["x","y"],s),{angle:l,distance:h}=function(t,i){const e=i.x-t.x,s=i.y-t.y,a=Math.sqrt(e*e+s*s);let l=Math.atan2(s,e);return l<-.5*bu&&(l+=Fl),{angle:l,distance:a}}(a,{x:i,y:e}),{startAngle:v,endAngle:C,innerRadius:O,outerRadius:G,circumference:te}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),pe=this.options.spacing/2;return(te>=Fl||iI(l,v,C))&&h>=O+pe&&h<=G+pe}getCenterPoint(i){const{x:e,y:s,startAngle:a,endAngle:l,innerRadius:h,outerRadius:v}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],i),{offset:C,spacing:O}=this.options,G=(a+l)/2,te=(h+v+O+C)/2;return{x:e+Math.cos(G)*te,y:s+Math.sin(G)*te}}tooltipPosition(i){return this.getCenterPoint(i)}draw(i){const{options:e,circumference:s}=this,a=(e.offset||0)/2,l=(e.spacing||0)/2;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=s>Fl?Math.floor(s/Fl):0,0===s||this.innerRadius<0||this.outerRadius<0)return;i.save();let h=0;if(a){h=a/2;const C=(this.startAngle+this.endAngle)/2;i.translate(Math.cos(C)*h,Math.sin(C)*h),this.circumference>=bu&&(h=a)}i.fillStyle=e.backgroundColor,i.strokeStyle=e.borderColor,function(t,i,e,s,a){const{options:l}=i,h="inner"===l.borderAlign;!l.borderWidth||(h?(t.lineWidth=2*l.borderWidth,t.lineJoin="round"):(t.lineWidth=l.borderWidth,t.lineJoin="bevel"),i.fullCircles&&function(t,i,e){const{x:s,y:a,startAngle:l,pixelMargin:h,fullCircles:v}=i,C=Math.max(i.outerRadius-h,0),O=i.innerRadius+h;let G;for(e&&mB(t,i,l+Fl),t.beginPath(),t.arc(s,a,O,l+Fl,l,!0),G=0;G<v;++G)t.stroke();for(t.beginPath(),t.arc(s,a,C,l,l+Fl),G=0;G<v;++G)t.stroke()}(t,i,h),h&&mB(t,i,a),JO(t,i,e,s,a),t.stroke())}(i,this,h,l,function(t,i,e,s){const{fullCircles:a,startAngle:l,circumference:h}=i;let v=i.endAngle;if(a){JO(t,i,e,s,l+Fl);for(let C=0;C<a;++C)t.fill();isNaN(h)||(v=l+h%Fl,h%Fl==0&&(v+=Fl))}return JO(t,i,e,s,v),t.fill(),v}(i,this,h,l)),i.restore()}}function gB(t,i,e=i){t.lineCap=io(e.borderCapStyle,i.borderCapStyle),t.setLineDash(io(e.borderDash,i.borderDash)),t.lineDashOffset=io(e.borderDashOffset,i.borderDashOffset),t.lineJoin=io(e.borderJoinStyle,i.borderJoinStyle),t.lineWidth=io(e.borderWidth,i.borderWidth),t.strokeStyle=io(e.borderColor,i.borderColor)}function vG(t,i,e){t.lineTo(e.x,e.y)}function _B(t,i,e={}){const s=t.length,{start:a=0,end:l=s-1}=e,{start:h,end:v}=i,C=Math.max(a,h),O=Math.min(l,v);return{count:s,start:C,loop:i.loop,ilen:O<C&&!(a<h&&l<h||a>v&&l>v)?s+O-C:O-C}}function xG(t,i,e,s){const{points:a,options:l}=i,{count:h,start:v,loop:C,ilen:O}=_B(a,e,s),G=function(t){return t.stepped?B5:t.tension||"monotone"===t.cubicInterpolationMode?Y5:vG}(l);let we,Le,je,{move:te=!0,reverse:pe}=s||{};for(we=0;we<=O;++we)Le=a[(v+(pe?O-we:we))%h],!Le.skip&&(te?(t.moveTo(Le.x,Le.y),te=!1):G(t,je,Le,pe,l.stepped),je=Le);return C&&(Le=a[(v+(pe?O:0))%h],G(t,je,Le,pe,l.stepped)),!!C}function wG(t,i,e,s){const a=i.points,{count:l,start:h,ilen:v}=_B(a,e,s),{move:C=!0,reverse:O}=s||{};let pe,we,Le,je,tt,yt,G=0,te=0;const Zt=gn=>(h+(O?v-gn:gn))%l,tn=()=>{je!==tt&&(t.lineTo(G,tt),t.lineTo(G,je),t.lineTo(G,yt))};for(C&&(we=a[Zt(0)],t.moveTo(we.x,we.y)),pe=0;pe<=v;++pe){if(we=a[Zt(pe)],we.skip)continue;const gn=we.x,pn=we.y,qn=0|gn;qn===Le?(pn<je?je=pn:pn>tt&&(tt=pn),G=(te*G+gn)/++te):(tn(),t.lineTo(gn,pn),Le=qn,te=0,je=tt=pn),yt=pn}tn()}function KO(t){const i=t.options;return t._decimated||t._loop||i.tension||"monotone"===i.cubicInterpolationMode||i.stepped||i.borderDash&&i.borderDash.length?xG:wG}tk.id="arc",tk.defaults={borderAlign:"center",borderColor:"#fff",borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0},tk.defaultRoutes={backgroundColor:"backgroundColor"};const SG="function"==typeof Path2D;let nk=(()=>{class t extends oy{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,s){const a=this.options;!a.tension&&"monotone"!==a.cubicInterpolationMode||a.stepped||this._pointsUpdated||(hj(this._points,a,e,a.spanGaps?this._loop:this._fullLoop,s),this._pointsUpdated=!0)}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(t,i){const e=t.points,s=t.options.spanGaps,a=e.length;if(!a)return[];const l=!!t._loop,{start:h,end:v}=function(t,i,e,s){let a=0,l=i-1;if(e&&!s)for(;a<i&&!t[a].skip;)a++;for(;a<i&&t[a].skip;)a++;for(a%=i,e&&(l+=a);l>a&&t[l%i].skip;)l--;return l%=i,{start:a,end:l}}(e,a,l,s);return function(t,i,e,s){return s&&s.setContext&&e?function(t,i,e,s){const a=t._chart.getContext(),l=wz(t.options),{_datasetIndex:h,options:{spanGaps:v}}=t,C=e.length,O=[];let G=l,te=i[0].start,pe=te;function we(Le,je,tt,yt){const Zt=v?-1:1;if(Le!==je){for(Le+=C;e[Le%C].skip;)Le-=Zt;for(;e[je%C].skip;)je+=Zt;Le%C!=je%C&&(O.push({start:Le%C,end:je%C,loop:tt,style:yt}),G=yt,te=je%C)}}for(const Le of i){te=v?te:Le.start;let tt,je=e[te%C];for(pe=te+1;pe<=Le.end;pe++){const yt=e[pe%C];tt=wz(s.setContext(Q0(a,{type:"segment",p0:je,p1:yt,p0DataIndex:(pe-1)%C,p1DataIndex:pe%C,datasetIndex:h}))),Aj(tt,G)&&we(te,pe-1,Le.loop,G),je=yt,G=tt}te<pe-1&&we(te,pe-1,Le.loop,G)}return O}(t,i,e,s):i}(t,!0===s?[{start:h,end:v,loop:l}]:function(t,i,e,s){const a=t.length,l=[];let C,h=i,v=t[i];for(C=i+1;C<=e;++C){const O=t[C%a];O.skip||O.stop?v.skip||(l.push({start:i%a,end:(C-1)%a,loop:s=!1}),i=h=O.stop?C:null):(h=C,v.skip&&(i=C)),v=O}return null!==h&&l.push({start:i%a,end:h%a,loop:s}),l}(e,h,v<h?v+a:v,!!t._fullLoop&&0===h&&v===a-1),e,i)}(this,this.options.segment))}first(){const e=this.segments;return e.length&&this.points[e[0].start]}last(){const e=this.segments,a=e.length;return a&&this.points[e[a-1].end]}interpolate(e,s){const a=this.options,l=e[s],h=this.points,v=bz(this,{property:s,start:l,end:l});if(!v.length)return;const C=[],O=function(t){return t.stepped?bj:t.tension||"monotone"===t.cubicInterpolationMode?xj:Zw}(a);let G,te;for(G=0,te=v.length;G<te;++G){const{start:pe,end:we}=v[G],Le=h[pe],je=h[we];if(Le===je){C.push(Le);continue}const yt=O(Le,je,Math.abs((l-Le[s])/(je[s]-Le[s])),a.stepped);yt[s]=e[s],C.push(yt)}return 1===C.length?C[0]:C}pathSegment(e,s,a){return KO(this)(e,this,s,a)}path(e,s,a){const l=this.segments,h=KO(this);let v=this._loop;s=s||0,a=a||this.points.length-s;for(const C of l)v&=h(e,this,C,{start:s,end:s+a-1});return!!v}draw(e,s,a,l){(this.points||[]).length&&(this.options||{}).borderWidth&&(e.save(),function(t,i,e,s){SG&&!i.options.segment?function(t,i,e,s){let a=i._path;a||(a=i._path=new Path2D,i.path(a,e,s)&&a.closePath()),gB(t,i.options),t.stroke(a)}(t,i,e,s):function(t,i,e,s){const{segments:a,options:l}=i,h=KO(i);for(const v of a)gB(t,l,v.style),t.beginPath(),h(t,i,v,{start:e,end:e+s-1})&&t.closePath(),t.stroke()}(t,i,e,s)}(e,this,a,l),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return t.id="line",t.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},t.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},t.descriptors={_scriptable:!0,_indexable:i=>"borderDash"!==i&&"fill"!==i},t})();function yB(t,i,e,s){const a=t.options,{[e]:l}=t.getProps([e],s);return Math.abs(i-l)<a.radius+a.hitRadius}let vB=(()=>{class t extends oy{constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,s,a){const l=this.options,{x:h,y:v}=this.getProps(["x","y"],a);return Math.pow(e-h,2)+Math.pow(s-v,2)<Math.pow(l.hitRadius+l.radius,2)}inXRange(e,s){return yB(this,e,"x",s)}inYRange(e,s){return yB(this,e,"y",s)}getCenterPoint(e){const{x:s,y:a}=this.getProps(["x","y"],e);return{x:s,y:a}}size(e){let s=(e=e||this.options||{}).radius||0;return s=Math.max(s,s&&e.hoverRadius||0),2*(s+(s&&e.borderWidth||0))}draw(e,s){const a=this.options;this.skip||a.radius<.1||!Vw(this,s,this.size(a)/2)||(e.strokeStyle=a.borderColor,e.lineWidth=a.borderWidth,e.fillStyle=a.backgroundColor,dI(e,a,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}return t.id="point",t.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},t.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},t})();function bB(t,i){const{x:e,y:s,base:a,width:l,height:h}=t.getProps(["x","y","base","width","height"],i);let v,C,O,G,te;return t.horizontal?(te=h/2,v=Math.min(e,a),C=Math.max(e,a),O=s-te,G=s+te):(te=l/2,v=e-te,C=e+te,O=Math.min(s,a),G=Math.max(s,a)),{left:v,top:O,right:C,bottom:G}}function J0(t,i,e,s){return t?0:Uh(i,e,s)}function eR(t,i,e,s){const a=null===i,l=null===e,v=t&&!(a&&l)&&bB(t,s);return v&&(a||i>=v.left&&i<=v.right)&&(l||e>=v.top&&e<=v.bottom)}function LG(t,i){t.rect(i.x,i.y,i.w,i.h)}function tR(t,i,e={}){const s=t.x!==e.x?-i:0,a=t.y!==e.y?-i:0;return{x:t.x+s,y:t.y+a,w:t.w+((t.x+t.w!==e.x+e.w?i:0)-s),h:t.h+((t.y+t.h!==e.y+e.h?i:0)-a),radius:t.radius}}class ik extends oy{constructor(i){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,i&&Object.assign(this,i)}draw(i){const{inflateAmount:e,options:{borderColor:s,backgroundColor:a}}=this,{inner:l,outer:h}=function(t){const i=bB(t),e=i.right-i.left,s=i.bottom-i.top,a=function(t,i,e){const a=t.borderSkipped,l=J3(t.options.borderWidth);return{t:J0(a.top,l.top,0,e),r:J0(a.right,l.right,0,i),b:J0(a.bottom,l.bottom,0,e),l:J0(a.left,l.left,0,i)}}(t,e/2,s/2),l=function(t,i,e){const{enableBorderRadius:s}=t.getProps(["enableBorderRadius"]),a=t.options.borderRadius,l=UC(a),h=Math.min(i,e),v=t.borderSkipped,C=s||No(a);return{topLeft:J0(!C||v.top||v.left,l.topLeft,0,h),topRight:J0(!C||v.top||v.right,l.topRight,0,h),bottomLeft:J0(!C||v.bottom||v.left,l.bottomLeft,0,h),bottomRight:J0(!C||v.bottom||v.right,l.bottomRight,0,h)}}(t,e/2,s/2);return{outer:{x:i.left,y:i.top,w:e,h:s,radius:l},inner:{x:i.left+a.l,y:i.top+a.t,w:e-a.l-a.r,h:s-a.t-a.b,radius:{topLeft:Math.max(0,l.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,l.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,l.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,l.bottomRight-Math.max(a.b,a.r))}}}}(this),v=function(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}(h.radius)?fI:LG;i.save(),(h.w!==l.w||h.h!==l.h)&&(i.beginPath(),v(i,tR(h,e,l)),i.clip(),v(i,tR(l,-e,h)),i.fillStyle=s,i.fill("evenodd")),i.beginPath(),v(i,tR(l,e)),i.fillStyle=a,i.fill(),i.restore()}inRange(i,e,s){return eR(this,i,e,s)}inXRange(i,e){return eR(this,i,null,e)}inYRange(i,e){return eR(this,null,i,e)}getCenterPoint(i){const{x:e,y:s,base:a,horizontal:l}=this.getProps(["x","y","base","horizontal"],i);return{x:l?(e+a)/2:e,y:l?s:(s+a)/2}}getRange(i){return"x"===i?this.width/2:this.height/2}}function YG(t,i,e){const s=function(t){const i=t.options,e=i.fill;let s=io(e&&e.target,e);return void 0===s&&(s=!!i.backgroundColor),!1!==s&&null!==s&&(!0===s?"origin":s)}(t);if(No(s))return!isNaN(s.value)&&s;let a=parseFloat(s);return Xu(a)&&Math.floor(a)===a?(("-"===s[0]||"+"===s[0])&&(a=i+a),!(a===i||a<0||a>=e)&&a):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}ik.id="bar",ik.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},ik.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};class CB{constructor(i){this.x=i.x,this.y=i.y,this.radius=i.radius}pathSegment(i,e,s){const{x:a,y:l,radius:h}=this;return i.arc(a,l,h,(e=e||{start:0,end:Fl}).end,e.start,!0),!s.bounds}interpolate(i){const{x:e,y:s,radius:a}=this,l=i.angle;return{x:e+Math.cos(l)*a,y:s+Math.sin(l)*a,angle:l}}}function MB(t,i,e){for(;i>t;i--){const s=e[i];if(!isNaN(s.x)&&!isNaN(s.y))break}return i}function WG(t,i,e){const s=[];for(let a=0;a<e.length;a++){const l=e[a],{first:h,last:v,point:C}=qG(l,i,"x");if(!(!C||h&&v))if(h)s.unshift(C);else if(t.push(C),!v)break}t.push(...s)}function qG(t,i,e){const s=t.interpolate(i,e);if(!s)return{};const a=s[e],l=t.segments,h=t.points;let v=!1,C=!1;for(let O=0;O<l.length;O++){const G=l[O],te=h[G.start][e],pe=h[G.end][e];if(a>=te&&a<=pe){v=a===te,C=a===pe;break}}return{first:v,last:C,point:s}}function $G(t){const{chart:i,fill:e,line:s}=t;if(Xu(e))return function(t,i){const e=t.getDatasetMeta(i);return e&&t.isDatasetVisible(i)?e.dataset:null}(i,e);if("stack"===e)return function(t){const{scale:i,index:e,line:s}=t,a=[],l=s.segments,h=s.points,v=function(t,i){const e=[],s=t.getMatchingVisibleMetas("line");for(let a=0;a<s.length;a++){const l=s[a];if(l.index===i)break;l.hidden||e.unshift(l.dataset)}return e}(i,e);v.push(TB({x:null,y:i.bottom},s));for(let C=0;C<l.length;C++){const O=l[C];for(let G=O.start;G<=O.end;G++)WG(a,h[G],v)}return new nk({points:a,options:{}})}(t);if("shape"===e)return!0;const a=function(t){return(t.scale||{}).getPointPositionForValue?function(t){const{scale:i,fill:e}=t,s=i.options,a=i.getLabels().length,l=[],h=s.reverse?i.max:i.min;let C,O,G;if(G="start"===e?h:"end"===e?s.reverse?i.min:i.max:No(e)?e.value:i.getBaseValue(),s.grid.circular)return O=i.getPointPositionForValue(0,h),new CB({x:O.x,y:O.y,radius:i.getDistanceFromCenterForValue(G)});for(C=0;C<a;++C)l.push(i.getPointPositionForValue(C,G));return l}(t):function(t){const{scale:i={},fill:e}=t;let a,s=null;return"start"===e?s=i.bottom:"end"===e?s=i.top:No(e)?s=i.getPixelForValue(e.value):i.getBasePixel&&(s=i.getBasePixel()),Xu(s)?(a=i.isHorizontal(),{x:a?s:null,y:a?null:s}):null}(t)}(t);return a instanceof CB?a:TB(a,s)}function TB(t,i){let e=[],s=!1;return Kl(t)?(s=!0,e=t):e=function(t,i){const{x:e=null,y:s=null}=t||{},a=i.points,l=[];return i.segments.forEach(({start:h,end:v})=>{v=MB(h,v,a);const C=a[h],O=a[v];null!==s?(l.push({x:C.x,y:s}),l.push({x:O.x,y:s})):null!==e&&(l.push({x:e,y:C.y}),l.push({x:e,y:O.y}))}),l}(t,i),e.length?new nk({points:e,options:{tension:0},_loop:s,_fullLoop:s}):null}function QG(t,i,e){let a=t[i].fill;const l=[i];let h;if(!e)return a;for(;!1!==a&&-1===l.indexOf(a);){if(!Xu(a))return a;if(h=t[a],!h)return!1;if(h.visible)return a;l.push(a),a=h.fill}return!1}function SB(t,i,e){t.beginPath(),i.path(t),t.lineTo(i.last().x,e),t.lineTo(i.first().x,e),t.closePath(),t.clip()}function nR(t,i,e,s){if(s)return;let a=i[t],l=e[t];return"angle"===t&&(a=sy(a),l=sy(l)),{property:t,start:a,end:l}}function kB(t,i,e,s){return t&&i?s(t[e],i[e]):t?t[e]:i?i[e]:0}function JG(t,i,e){const{top:s,bottom:a}=i.chart.chartArea,{property:l,start:h,end:v}=e||{};"x"===l&&(t.beginPath(),t.rect(h,s,v-h,a-s),t.clip())}function EB(t,i,e,s){const a=i.interpolate(e,s);a&&t.lineTo(a.x,a.y)}function DB(t,i){const{line:e,target:s,property:a,color:l,scale:h}=i,v=function(t,i,e){const s=t.segments,a=t.points,l=i.points,h=[];for(const v of s){let{start:C,end:O}=v;O=MB(C,O,a);const G=nR(e,a[C],a[O],v.loop);if(!i.segments){h.push({source:v,target:G,start:a[C],end:a[O]});continue}const te=bz(i,G);for(const pe of te){const we=nR(e,l[pe.start],l[pe.end],pe.loop),Le=vz(v,a,we);for(const je of Le)h.push({source:je,target:pe,start:{[e]:kB(G,we,"start",Math.max)},end:{[e]:kB(G,we,"end",Math.min)}})}}return h}(e,s,a);for(const{source:C,target:O,start:G,end:te}of v){const{style:{backgroundColor:pe=l}={}}=C,we=!0!==s;t.save(),t.fillStyle=pe,JG(t,h,we&&nR(a,G,te)),t.beginPath();const Le=!!e.pathSegment(t,C);let je;if(we){Le?t.closePath():EB(t,s,te,a);const tt=!!s.pathSegment(t,O,{move:Le,reverse:!0});je=Le&&tt,je||EB(t,s,G,a)}t.closePath(),t.fill(je?"evenodd":"nonzero"),t.restore()}}function iR(t,i,e){const s=$G(i),{line:a,scale:l,axis:h}=i,v=a.options,C=v.fill,O=v.backgroundColor,{above:G=O,below:te=O}=C||{};s&&a.points.length&&(hI(t,e),function(t,i){const{line:e,target:s,above:a,below:l,area:h,scale:v}=i,C=e._loop?"angle":i.axis;t.save(),"x"===C&&l!==a&&(SB(t,s,h.top),DB(t,{line:e,target:s,color:a,scale:v,property:C}),t.restore(),t.save(),SB(t,s,h.bottom)),DB(t,{line:e,target:s,color:l,scale:v,property:C}),t.restore()}(t,{line:a,target:s,above:G,below:te,area:e,scale:l,axis:h}),pI(t))}var AB={id:"filler",afterDatasetsUpdate(t,i,e){const s=(t.data.datasets||[]).length,a=[];let l,h,v,C;for(h=0;h<s;++h)l=t.getDatasetMeta(h),v=l.dataset,C=null,v&&v.options&&v instanceof nk&&(C={visible:t.isDatasetVisible(h),index:h,fill:YG(v,h,s),chart:t,axis:l.controller.options.indexAxis,scale:l.vScale,line:v}),l.$filler=C,a.push(C);for(h=0;h<s;++h)C=a[h],C&&!1!==C.fill&&(C.fill=QG(a,h,e.propagate))},beforeDraw(t,i,e){const s="beforeDraw"===e.drawTime,a=t.getSortedVisibleDatasetMetas(),l=t.chartArea;for(let h=a.length-1;h>=0;--h){const v=a[h].$filler;!v||(v.line.updateControlPoints(l,v.axis),s&&iR(t.ctx,v,l))}},beforeDatasetsDraw(t,i,e){if("beforeDatasetsDraw"!==e.drawTime)return;const s=t.getSortedVisibleDatasetMetas();for(let a=s.length-1;a>=0;--a){const l=s[a].$filler;l&&iR(t.ctx,l,t.chartArea)}},beforeDatasetDraw(t,i,e){const s=i.meta.$filler;!s||!1===s.fill||"beforeDatasetDraw"!==e.drawTime||iR(t.ctx,s,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const IB=(t,i)=>{let{boxHeight:e=i,boxWidth:s=i}=t;return t.usePointStyle&&(e=Math.min(e,i),s=Math.min(s,i)),{boxWidth:s,boxHeight:e,itemHeight:Math.max(i,e)}};class LB extends oy{constructor(i){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=i.chart,this.options=i.options,this.ctx=i.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(i,e,s){this.maxWidth=i,this.maxHeight=e,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const i=this.options.labels||{};let e=ec(i.generateLabels,[this.chart],this)||[];i.filter&&(e=e.filter(s=>i.filter(s,this.chart.data))),i.sort&&(e=e.sort((s,a)=>i.sort(s,a,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:i,ctx:e}=this;if(!i.display)return void(this.width=this.height=0);const s=i.labels,a=th(s.font),l=a.size,h=this._computeTitleHeight(),{boxWidth:v,itemHeight:C}=IB(s,l);let O,G;e.font=a.string,this.isHorizontal()?(O=this.maxWidth,G=this._fitRows(h,l,v,C)+10):(G=this.maxHeight,O=this._fitCols(h,l,v,C)+10),this.width=Math.min(O,i.maxWidth||this.maxWidth),this.height=Math.min(G,i.maxHeight||this.maxHeight)}_fitRows(i,e,s,a){const{ctx:l,maxWidth:h,options:{labels:{padding:v}}}=this,C=this.legendHitBoxes=[],O=this.lineWidths=[0],G=a+v;let te=i;l.textAlign="left",l.textBaseline="middle";let pe=-1,we=-G;return this.legendItems.forEach((Le,je)=>{const tt=s+e/2+l.measureText(Le.text).width;(0===je||O[O.length-1]+tt+2*v>h)&&(te+=G,O[O.length-(je>0?0:1)]=0,we+=G,pe++),C[je]={left:0,top:we,row:pe,width:tt,height:a},O[O.length-1]+=tt+v}),te}_fitCols(i,e,s,a){const{ctx:l,maxHeight:h,options:{labels:{padding:v}}}=this,C=this.legendHitBoxes=[],O=this.columnSizes=[],G=h-i;let te=v,pe=0,we=0,Le=0,je=0;return this.legendItems.forEach((tt,yt)=>{const Zt=s+e/2+l.measureText(tt.text).width;yt>0&&we+a+2*v>G&&(te+=pe+v,O.push({width:pe,height:we}),Le+=pe+v,je++,pe=we=0),C[yt]={left:Le,top:we,col:je,width:Zt,height:a},pe=Math.max(pe,Zt),we+=a+v}),te+=pe,O.push({width:pe,height:we}),te}adjustHitBoxes(){if(!this.options.display)return;const i=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:s,labels:{padding:a},rtl:l}}=this,h=GC(l,this.left,this.width);if(this.isHorizontal()){let v=0,C=tf(s,this.left+a,this.right-this.lineWidths[v]);for(const O of e)v!==O.row&&(v=O.row,C=tf(s,this.left+a,this.right-this.lineWidths[v])),O.top+=this.top+i+a,O.left=h.leftForLtr(h.x(C),O.width),C+=O.width+a}else{let v=0,C=tf(s,this.top+i+a,this.bottom-this.columnSizes[v].height);for(const O of e)O.col!==v&&(v=O.col,C=tf(s,this.top+i+a,this.bottom-this.columnSizes[v].height)),O.top=C,O.left+=this.left+a,O.left=h.leftForLtr(h.x(O.left),O.width),C+=O.height+a}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const i=this.ctx;hI(i,this),this._draw(),pI(i)}}_draw(){const{options:i,columnSizes:e,lineWidths:s,ctx:a}=this,{align:l,labels:h}=i,v=zo.color,C=GC(i.rtl,this.left,this.width),O=th(h.font),{color:G,padding:te}=h,pe=O.size,we=pe/2;let Le;this.drawTitle(),a.textAlign=C.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=O.string;const{boxWidth:je,boxHeight:tt,itemHeight:yt}=IB(h,pe),gn=this.isHorizontal(),pn=this._computeTitleHeight();Le=gn?{x:tf(l,this.left+te,this.right-s[0]),y:this.top+te+pn,line:0}:{x:this.left+te,y:tf(l,this.top+pn+te,this.bottom-e[0].height),line:0},mz(this.ctx,i.textDirection);const qn=yt+te;this.legendItems.forEach((si,Li)=>{a.strokeStyle=si.fontColor||G,a.fillStyle=si.fontColor||G;const Ii=a.measureText(si.text).width,xs=C.textAlign(si.textAlign||(si.textAlign=h.textAlign)),ro=je+we+Ii;let so=Le.x,xl=Le.y;C.setWidth(this.width),gn?Li>0&&so+ro+te>this.right&&(xl=Le.y+=qn,Le.line++,so=Le.x=tf(l,this.left+te,this.right-s[Le.line])):Li>0&&xl+qn>this.bottom&&(so=Le.x=so+e[Le.line].width+te,Le.line++,xl=Le.y=tf(l,this.top+pn+te,this.bottom-e[Le.line].height)),function(si,Li,Ii){if(isNaN(je)||je<=0||isNaN(tt)||tt<0)return;a.save();const xs=io(Ii.lineWidth,1);if(a.fillStyle=io(Ii.fillStyle,v),a.lineCap=io(Ii.lineCap,"butt"),a.lineDashOffset=io(Ii.lineDashOffset,0),a.lineJoin=io(Ii.lineJoin,"miter"),a.lineWidth=xs,a.strokeStyle=io(Ii.strokeStyle,v),a.setLineDash(io(Ii.lineDash,[])),h.usePointStyle){const ro={radius:je*Math.SQRT2/2,pointStyle:Ii.pointStyle,rotation:Ii.rotation,borderWidth:xs},so=C.xPlus(si,je/2);dI(a,ro,so,Li+we)}else{const ro=Li+Math.max((pe-tt)/2,0),so=C.leftForLtr(si,je),xl=UC(Ii.borderRadius);a.beginPath(),Object.values(xl).some(jh=>0!==jh)?fI(a,{x:so,y:ro,w:je,h:tt,radius:xl}):a.rect(so,ro,je,tt),a.fill(),0!==xs&&a.stroke()}a.restore()}(C.x(so),xl,si),so=((t,i,e,s)=>t===(s?"left":"right")?e:"center"===t?(i+e)/2:i)(xs,so+je+we,gn?so+ro:this.right,i.rtl),function(si,Li,Ii){Uw(a,Ii.text,si,Li+yt/2,O,{strikethrough:Ii.hidden,textAlign:C.textAlign(Ii.textAlign)})}(C.x(so),xl,si),gn?Le.x+=ro+te:Le.y+=qn}),gz(this.ctx,i.textDirection)}drawTitle(){const i=this.options,e=i.title,s=th(e.font),a=If(e.padding);if(!e.display)return;const l=GC(i.rtl,this.left,this.width),h=this.ctx,v=e.position,O=a.top+s.size/2;let G,te=this.left,pe=this.width;if(this.isHorizontal())pe=Math.max(...this.lineWidths),G=this.top+O,te=tf(i.align,te,this.right-pe);else{const Le=this.columnSizes.reduce((je,tt)=>Math.max(je,tt.height),0);G=O+tf(i.align,this.top,this.bottom-Le-i.labels.padding-this._computeTitleHeight())}const we=tf(v,te,te+pe);h.textAlign=l.textAlign(MO(v)),h.textBaseline="middle",h.strokeStyle=e.color,h.fillStyle=e.color,h.font=s.string,Uw(h,e.text,we,G,s)}_computeTitleHeight(){const i=this.options.title,e=th(i.font),s=If(i.padding);return i.display?e.lineHeight+s.height:0}_getLegendItemAt(i,e){let s,a,l;if(i>=this.left&&i<=this.right&&e>=this.top&&e<=this.bottom)for(l=this.legendHitBoxes,s=0;s<l.length;++s)if(a=l[s],i>=a.left&&i<=a.left+a.width&&e>=a.top&&e<=a.top+a.height)return this.legendItems[s];return null}handleEvent(i){const e=this.options;if(!function(t,i){return!!("mousemove"===t&&(i.onHover||i.onLeave)||i.onClick&&("click"===t||"mouseup"===t))}(i.type,e))return;const s=this._getLegendItemAt(i.x,i.y);if("mousemove"===i.type){const a=this._hoveredItem,l=((t,i)=>null!==t&&null!==i&&t.datasetIndex===i.datasetIndex&&t.index===i.index)(a,s);a&&!l&&ec(e.onLeave,[i,a,this],this),this._hoveredItem=s,s&&!l&&ec(e.onHover,[i,s,this],this)}else s&&ec(e.onClick,[i,s,this],this)}}var PB={id:"legend",_element:LB,start(t,i,e){const s=t.legend=new LB({ctx:t.ctx,options:e,chart:t});nf.configure(t,s,e),nf.addBox(t,s)},stop(t){nf.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,i,e){const s=t.legend;nf.configure(t,s,e),s.options=e},afterUpdate(t){const i=t.legend;i.buildLabels(),i.adjustHitBoxes()},afterEvent(t,i){i.replay||t.legend.handleEvent(i.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,i,e){const s=i.datasetIndex,a=e.chart;a.isDatasetVisible(s)?(a.hide(s),i.hidden=!0):(a.show(s),i.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const i=t.data.datasets,{labels:{usePointStyle:e,pointStyle:s,textAlign:a,color:l}}=t.legend.options;return t._getSortedDatasetMetas().map(h=>{const v=h.controller.getStyle(e?0:void 0),C=If(v.borderWidth);return{text:i[h.index].label,fillStyle:v.backgroundColor,fontColor:l,hidden:!h.visible,lineCap:v.borderCapStyle,lineDash:v.borderDash,lineDashOffset:v.borderDashOffset,lineJoin:v.borderJoinStyle,lineWidth:(C.width+C.height)/4,strokeStyle:v.borderColor,pointStyle:s||v.pointStyle,rotation:v.rotation,textAlign:a||v.textAlign,borderRadius:0,datasetIndex:h.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class rR extends oy{constructor(i){super(),this.chart=i.chart,this.options=i.options,this.ctx=i.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(i,e){const s=this.options;if(this.left=0,this.top=0,!s.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=i,this.height=this.bottom=e;const a=Kl(s.text)?s.text.length:1;this._padding=If(s.padding);const l=a*th(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=l:this.width=l}isHorizontal(){const i=this.options.position;return"top"===i||"bottom"===i}_drawArgs(i){const{top:e,left:s,bottom:a,right:l,options:h}=this,v=h.align;let O,G,te,C=0;return this.isHorizontal()?(G=tf(v,s,l),te=e+i,O=l-s):("left"===h.position?(G=s+i,te=tf(v,a,e),C=-.5*bu):(G=l-i,te=tf(v,e,a),C=.5*bu),O=a-e),{titleX:G,titleY:te,maxWidth:O,rotation:C}}draw(){const i=this.ctx,e=this.options;if(!e.display)return;const s=th(e.font),l=s.lineHeight/2+this._padding.top,{titleX:h,titleY:v,maxWidth:C,rotation:O}=this._drawArgs(l);Uw(i,e.text,0,0,s,{color:e.color,maxWidth:C,rotation:O,textAlign:MO(e.align),textBaseline:"middle",translation:[h,v]})}}var OB={id:"title",_element:rR,start(t,i,e){!function(t,i){const e=new rR({ctx:t.ctx,options:i,chart:t});nf.configure(t,e,i),nf.addBox(t,e),t.titleBlock=e}(t,e)},stop(t){nf.removeBox(t,t.titleBlock),delete t.titleBlock},beforeUpdate(t,i,e){const s=t.titleBlock;nf.configure(t,s,e),s.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};new WeakMap;const rk={average(t){if(!t.length)return!1;let i,e,s=0,a=0,l=0;for(i=0,e=t.length;i<e;++i){const h=t[i].element;if(h&&h.hasValue()){const v=h.tooltipPosition();s+=v.x,a+=v.y,++l}}return{x:s/l,y:a/l}},nearest(t,i){if(!t.length)return!1;let l,h,v,e=i.x,s=i.y,a=Number.POSITIVE_INFINITY;for(l=0,h=t.length;l<h;++l){const C=t[l].element;if(C&&C.hasValue()){const G=kO(i,C.getCenterPoint());G<a&&(a=G,v=C)}}if(v){const C=v.tooltipPosition();e=C.x,s=C.y}return{x:e,y:s}}};function Tv(t,i){return i&&(Kl(i)?Array.prototype.push.apply(t,i):t.push(i)),t}function Db(t){return("string"==typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function rW(t,i){const{element:e,datasetIndex:s,index:a}=i,l=t.getDatasetMeta(s).controller,{label:h,value:v}=l.getLabelAndValue(a);return{chart:t,label:h,parsed:l.getParsed(a),raw:t.data.datasets[s].data[a],formattedValue:v,dataset:l.getDataset(),dataIndex:a,datasetIndex:s,element:e}}function RB(t,i){const e=t._chart.ctx,{body:s,footer:a,title:l}=t,{boxWidth:h,boxHeight:v}=i,C=th(i.bodyFont),O=th(i.titleFont),G=th(i.footerFont),te=l.length,pe=a.length,we=s.length,Le=If(i.padding);let je=Le.height,tt=0,yt=s.reduce((gn,pn)=>gn+pn.before.length+pn.lines.length+pn.after.length,0);yt+=t.beforeBody.length+t.afterBody.length,te&&(je+=te*O.lineHeight+(te-1)*i.titleSpacing+i.titleMarginBottom),yt&&(je+=we*(i.displayColors?Math.max(v,C.lineHeight):C.lineHeight)+(yt-we)*C.lineHeight+(yt-1)*i.bodySpacing),pe&&(je+=i.footerMarginTop+pe*G.lineHeight+(pe-1)*i.footerSpacing);let Zt=0;const tn=function(gn){tt=Math.max(tt,e.measureText(gn).width+Zt)};return e.save(),e.font=O.string,ol(t.title,tn),e.font=C.string,ol(t.beforeBody.concat(t.afterBody),tn),Zt=i.displayColors?h+2+i.boxPadding:0,ol(s,gn=>{ol(gn.before,tn),ol(gn.lines,tn),ol(gn.after,tn)}),Zt=0,e.font=G.string,ol(t.footer,tn),e.restore(),tt+=Le.width,{width:tt,height:je}}function aW(t,i,e,s){const{x:a,width:l}=e,{width:h,chartArea:{left:v,right:C}}=t;let O="center";return"center"===s?O=a<=(v+C)/2?"left":"right":a<=l/2?O="left":a>=h-l/2&&(O="right"),function(t,i,e,s){const{x:a,width:l}=s,h=e.caretSize+e.caretPadding;if("left"===t&&a+l+h>i.width||"right"===t&&a-l-h<0)return!0}(O,t,i,e)&&(O="center"),O}function FB(t,i,e){const s=i.yAlign||function(t,i){const{y:e,height:s}=i;return e<s/2?"top":e>t.height-s/2?"bottom":"center"}(t,e);return{xAlign:i.xAlign||aW(t,i,e,s),yAlign:s}}function NB(t,i,e,s){const{caretSize:a,caretPadding:l,cornerRadius:h}=t,{xAlign:v,yAlign:C}=e,O=a+l,{topLeft:G,topRight:te,bottomLeft:pe,bottomRight:we}=UC(h);let Le=function(t,i){let{x:e,width:s}=t;return"right"===i?e-=s:"center"===i&&(e-=s/2),e}(i,v);const je=function(t,i,e){let{y:s,height:a}=t;return"top"===i?s+=e:s-="bottom"===i?a+e:a/2,s}(i,C,O);return"center"===C?"left"===v?Le+=O:"right"===v&&(Le-=O):"left"===v?Le-=Math.max(G,pe)+l:"right"===v&&(Le+=Math.max(te,we)+l),{x:Uh(Le,0,s.width-i.width),y:Uh(je,0,s.height-i.height)}}function SI(t,i,e){const s=If(e.padding);return"center"===i?t.x+t.width/2:"right"===i?t.x+t.width-s.right:t.x+s.left}function zB(t){return Tv([],Db(t))}function BB(t,i){const e=i&&i.dataset&&i.dataset.tooltip&&i.dataset.tooltip.callbacks;return e?t.override(e):t}let YB=(()=>{class t extends oy{constructor(e){super(),this.opacity=0,this._active=[],this._chart=e._chart,this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const s=this._chart,a=this.options.setContext(this.getContext()),l=a.enabled&&s.options.animation&&a.animations,h=new Mz(this._chart,l);return l._cacheable&&(this._cachedAnimations=Object.freeze(h)),h}getContext(){return this.$context||(this.$context=function(t,i,e){return Q0(t,{tooltip:i,tooltipItems:e,type:"tooltip"})}(this._chart.getContext(),this,this._tooltipItems))}getTitle(e,s){const{callbacks:a}=s,l=a.beforeTitle.apply(this,[e]),h=a.title.apply(this,[e]),v=a.afterTitle.apply(this,[e]);let C=[];return C=Tv(C,Db(l)),C=Tv(C,Db(h)),C=Tv(C,Db(v)),C}getBeforeBody(e,s){return zB(s.callbacks.beforeBody.apply(this,[e]))}getBody(e,s){const{callbacks:a}=s,l=[];return ol(e,h=>{const v={before:[],lines:[],after:[]},C=BB(a,h);Tv(v.before,Db(C.beforeLabel.call(this,h))),Tv(v.lines,C.label.call(this,h)),Tv(v.after,Db(C.afterLabel.call(this,h))),l.push(v)}),l}getAfterBody(e,s){return zB(s.callbacks.afterBody.apply(this,[e]))}getFooter(e,s){const{callbacks:a}=s,l=a.beforeFooter.apply(this,[e]),h=a.footer.apply(this,[e]),v=a.afterFooter.apply(this,[e]);let C=[];return C=Tv(C,Db(l)),C=Tv(C,Db(h)),C=Tv(C,Db(v)),C}_createItems(e){const s=this._active,a=this._chart.data,l=[],h=[],v=[];let O,G,C=[];for(O=0,G=s.length;O<G;++O)C.push(rW(this._chart,s[O]));return e.filter&&(C=C.filter((te,pe,we)=>e.filter(te,pe,we,a))),e.itemSort&&(C=C.sort((te,pe)=>e.itemSort(te,pe,a))),ol(C,te=>{const pe=BB(e.callbacks,te);l.push(pe.labelColor.call(this,te)),h.push(pe.labelPointStyle.call(this,te)),v.push(pe.labelTextColor.call(this,te))}),this.labelColors=l,this.labelPointStyles=h,this.labelTextColors=v,this.dataPoints=C,C}update(e,s){const a=this.options.setContext(this.getContext()),l=this._active;let h,v=[];if(l.length){const C=rk[a.position].call(this,l,this._eventPosition);v=this._createItems(a),this.title=this.getTitle(v,a),this.beforeBody=this.getBeforeBody(v,a),this.body=this.getBody(v,a),this.afterBody=this.getAfterBody(v,a),this.footer=this.getFooter(v,a);const O=this._size=RB(this,a),G=Object.assign({},C,O),te=FB(this._chart,a,G),pe=NB(a,G,te,this._chart);this.xAlign=te.xAlign,this.yAlign=te.yAlign,h={opacity:1,x:pe.x,y:pe.y,width:O.width,height:O.height,caretX:C.x,caretY:C.y}}else 0!==this.opacity&&(h={opacity:0});this._tooltipItems=v,this.$context=void 0,h&&this._resolveAnimations().update(this,h),e&&a.external&&a.external.call(this,{chart:this._chart,tooltip:this,replay:s})}drawCaret(e,s,a,l){const h=this.getCaretPosition(e,a,l);s.lineTo(h.x1,h.y1),s.lineTo(h.x2,h.y2),s.lineTo(h.x3,h.y3)}getCaretPosition(e,s,a){const{xAlign:l,yAlign:h}=this,{caretSize:v,cornerRadius:C}=a,{topLeft:O,topRight:G,bottomLeft:te,bottomRight:pe}=UC(C),{x:we,y:Le}=e,{width:je,height:tt}=s;let yt,Zt,tn,gn,pn,qn;return"center"===h?(pn=Le+tt/2,"left"===l?(yt=we,Zt=yt-v,gn=pn+v,qn=pn-v):(yt=we+je,Zt=yt+v,gn=pn-v,qn=pn+v),tn=yt):(Zt="left"===l?we+Math.max(O,te)+v:"right"===l?we+je-Math.max(G,pe)-v:this.caretX,"top"===h?(gn=Le,pn=gn-v,yt=Zt-v,tn=Zt+v):(gn=Le+tt,pn=gn+v,yt=Zt+v,tn=Zt-v),qn=gn),{x1:yt,x2:Zt,x3:tn,y1:gn,y2:pn,y3:qn}}drawTitle(e,s,a){const l=this.title,h=l.length;let v,C,O;if(h){const G=GC(a.rtl,this.x,this.width);for(e.x=SI(this,a.titleAlign,a),s.textAlign=G.textAlign(a.titleAlign),s.textBaseline="middle",v=th(a.titleFont),C=a.titleSpacing,s.fillStyle=a.titleColor,s.font=v.string,O=0;O<h;++O)s.fillText(l[O],G.x(e.x),e.y+v.lineHeight/2),e.y+=v.lineHeight+C,O+1===h&&(e.y+=a.titleMarginBottom-C)}}_drawColorBox(e,s,a,l,h){const v=this.labelColors[a],C=this.labelPointStyles[a],{boxHeight:O,boxWidth:G,boxPadding:te}=h,pe=th(h.bodyFont),we=SI(this,"left",h),Le=l.x(we),tt=s.y+(O<pe.lineHeight?(pe.lineHeight-O)/2:0);if(h.usePointStyle){const yt={radius:Math.min(G,O)/2,pointStyle:C.pointStyle,rotation:C.rotation,borderWidth:1},Zt=l.leftForLtr(Le,G)+G/2,tn=tt+O/2;e.strokeStyle=h.multiKeyBackground,e.fillStyle=h.multiKeyBackground,dI(e,yt,Zt,tn),e.strokeStyle=v.borderColor,e.fillStyle=v.backgroundColor,dI(e,yt,Zt,tn)}else{e.lineWidth=v.borderWidth||1,e.strokeStyle=v.borderColor,e.setLineDash(v.borderDash||[]),e.lineDashOffset=v.borderDashOffset||0;const yt=l.leftForLtr(Le,G-te),Zt=l.leftForLtr(l.xPlus(Le,1),G-te-2),tn=UC(v.borderRadius);Object.values(tn).some(gn=>0!==gn)?(e.beginPath(),e.fillStyle=h.multiKeyBackground,fI(e,{x:yt,y:tt,w:G,h:O,radius:tn}),e.fill(),e.stroke(),e.fillStyle=v.backgroundColor,e.beginPath(),fI(e,{x:Zt,y:tt+1,w:G-2,h:O-2,radius:tn}),e.fill()):(e.fillStyle=h.multiKeyBackground,e.fillRect(yt,tt,G,O),e.strokeRect(yt,tt,G,O),e.fillStyle=v.backgroundColor,e.fillRect(Zt,tt+1,G-2,O-2))}e.fillStyle=this.labelTextColors[a]}drawBody(e,s,a){const{body:l}=this,{bodySpacing:h,bodyAlign:v,displayColors:C,boxHeight:O,boxWidth:G,boxPadding:te}=a,pe=th(a.bodyFont);let we=pe.lineHeight,Le=0;const je=GC(a.rtl,this.x,this.width),tt=function(Ii){s.fillText(Ii,je.x(e.x+Le),e.y+we/2),e.y+=we+h},yt=je.textAlign(v);let Zt,tn,gn,pn,qn,si,Li;for(s.textAlign=v,s.textBaseline="middle",s.font=pe.string,e.x=SI(this,yt,a),s.fillStyle=a.bodyColor,ol(this.beforeBody,tt),Le=C&&"right"!==yt?"center"===v?G/2+te:G+2+te:0,pn=0,si=l.length;pn<si;++pn){for(Zt=l[pn],tn=this.labelTextColors[pn],s.fillStyle=tn,ol(Zt.before,tt),gn=Zt.lines,C&&gn.length&&(this._drawColorBox(s,e,pn,je,a),we=Math.max(pe.lineHeight,O)),qn=0,Li=gn.length;qn<Li;++qn)tt(gn[qn]),we=pe.lineHeight;ol(Zt.after,tt)}Le=0,we=pe.lineHeight,ol(this.afterBody,tt),e.y-=h}drawFooter(e,s,a){const l=this.footer,h=l.length;let v,C;if(h){const O=GC(a.rtl,this.x,this.width);for(e.x=SI(this,a.footerAlign,a),e.y+=a.footerMarginTop,s.textAlign=O.textAlign(a.footerAlign),s.textBaseline="middle",v=th(a.footerFont),s.fillStyle=a.footerColor,s.font=v.string,C=0;C<h;++C)s.fillText(l[C],O.x(e.x),e.y+v.lineHeight/2),e.y+=v.lineHeight+a.footerSpacing}}drawBackground(e,s,a,l){const{xAlign:h,yAlign:v}=this,{x:C,y:O}=e,{width:G,height:te}=a,{topLeft:pe,topRight:we,bottomLeft:Le,bottomRight:je}=UC(l.cornerRadius);s.fillStyle=l.backgroundColor,s.strokeStyle=l.borderColor,s.lineWidth=l.borderWidth,s.beginPath(),s.moveTo(C+pe,O),"top"===v&&this.drawCaret(e,s,a,l),s.lineTo(C+G-we,O),s.quadraticCurveTo(C+G,O,C+G,O+we),"center"===v&&"right"===h&&this.drawCaret(e,s,a,l),s.lineTo(C+G,O+te-je),s.quadraticCurveTo(C+G,O+te,C+G-je,O+te),"bottom"===v&&this.drawCaret(e,s,a,l),s.lineTo(C+Le,O+te),s.quadraticCurveTo(C,O+te,C,O+te-Le),"center"===v&&"left"===h&&this.drawCaret(e,s,a,l),s.lineTo(C,O+pe),s.quadraticCurveTo(C,O,C+pe,O),s.closePath(),s.fill(),l.borderWidth>0&&s.stroke()}_updateAnimationTarget(e){const s=this._chart,a=this.$animations,l=a&&a.x,h=a&&a.y;if(l||h){const v=rk[e.position].call(this,this._active,this._eventPosition);if(!v)return;const C=this._size=RB(this,e),O=Object.assign({},v,this._size),G=FB(s,e,O),te=NB(e,O,G,s);(l._to!==te.x||h._to!==te.y)&&(this.xAlign=G.xAlign,this.yAlign=G.yAlign,this.width=C.width,this.height=C.height,this.caretX=v.x,this.caretY=v.y,this._resolveAnimations().update(this,te))}}draw(e){const s=this.options.setContext(this.getContext());let a=this.opacity;if(!a)return;this._updateAnimationTarget(s);const l={width:this.width,height:this.height},h={x:this.x,y:this.y};a=Math.abs(a)<.001?0:a;const v=If(s.padding);s.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(e.save(),e.globalAlpha=a,this.drawBackground(h,e,l,s),mz(e,s.textDirection),h.y+=v.top,this.drawTitle(h,e,s),this.drawBody(h,e,s),this.drawFooter(h,e,s),gz(e,s.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,s){const a=this._active,l=e.map(({datasetIndex:C,index:O})=>{const G=this._chart.getDatasetMeta(C);if(!G)throw new Error("Cannot find a dataset at index "+C);return{datasetIndex:C,element:G.data[O],index:O}}),h=!eI(a,l),v=this._positionChanged(l,s);(h||v)&&(this._active=l,this._eventPosition=s,this.update(!0))}handleEvent(e,s){const a=this.options,l=this._active||[];let h=!1,v=[];"mouseout"!==e.type&&(v=this._chart.getElementsAtEventForMode(e,a.mode,a,s),a.reverse&&v.reverse());const C=this._positionChanged(v,e);return h=s||!eI(v,l)||C,h&&(this._active=v,(a.enabled||a.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,s))),h}_positionChanged(e,s){const{caretX:a,caretY:l,options:h}=this,v=rk[h.position].call(this,e,s);return!1!==v&&(a!==v.x||l!==v.y)}}return t.positioners=rk,t})();var HB={id:"tooltip",_element:YB,positioners:rk,afterInit(t,i,e){e&&(t.tooltip=new YB({_chart:t,options:e}))},beforeUpdate(t,i,e){t.tooltip&&t.tooltip.initialize(e)},reset(t,i,e){t.tooltip&&t.tooltip.initialize(e)},afterDraw(t){const i=t.tooltip,e={tooltip:i};!1!==t.notifyPlugins("beforeTooltipDraw",e)&&(i&&i.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",e))},afterEvent(t,i){t.tooltip&&t.tooltip.handleEvent(i.event,i.replay)&&(i.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,i)=>i.bodyFont.size,boxWidth:(t,i)=>i.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:Mb,title(t){if(t.length>0){const i=t[0],e=i.chart.data.labels,s=e?e.length:0;if(this&&this.options&&"dataset"===this.options.mode)return i.dataset.label||"";if(i.label)return i.label;if(s>0&&i.dataIndex<s)return e[i.dataIndex]}return""},afterTitle:Mb,beforeBody:Mb,beforeLabel:Mb,label(t){if(this&&this.options&&"dataset"===this.options.mode)return t.label+": "+t.formattedValue||t.formattedValue;let i=t.dataset.label||"";i&&(i+=": ");const e=t.formattedValue;return ka(e)||(i+=e),i},labelColor(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Mb,afterBody:Mb,beforeFooter:Mb,footer:Mb,afterFooter:Mb}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>"filter"!==t&&"itemSort"!==t&&"external"!==t,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};class sk extends Ww{constructor(i){super(i),this._startValue=void 0,this._valueRange=0}parse(i,e){if(ka(i))return null;const s=this.getLabels();return((t,i)=>null===t?null:Uh(Math.round(t),0,i))(e=isFinite(e)&&s[e]===i?e:function(t,i,e){const s=t.indexOf(i);return-1===s?((t,i,e)=>"string"==typeof i?t.push(i)-1:isNaN(i)?null:e)(t,i,e):s!==t.lastIndexOf(i)?e:s}(s,i,io(e,i)),s.length-1)}determineDataLimits(){const{minDefined:i,maxDefined:e}=this.getUserBounds();let{min:s,max:a}=this.getMinMax(!0);"ticks"===this.options.bounds&&(i||(s=0),e||(a=this.getLabels().length-1)),this.min=s,this.max=a}buildTicks(){const i=this.min,e=this.max,s=this.options.offset,a=[];let l=this.getLabels();l=0===i&&e===l.length-1?l:l.slice(i,e+1),this._valueRange=Math.max(l.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let h=i;h<=e;h++)a.push({value:h});return a}getLabelForValue(i){const e=this.getLabels();return i>=0&&i<e.length?e[i]:i}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(i){return"number"!=typeof i&&(i=this.parse(i)),null===i?NaN:this.getPixelForDecimal((i-this._startValue)/this._valueRange)}getPixelForTick(i){const e=this.ticks;return i<0||i>e.length-1?null:this.getPixelForValue(e[i].value)}getValueForPixel(i){return Math.round(this._startValue+this.getDecimalForPixel(i)*this._valueRange)}getBasePixel(){return this.bottom}}function VB(t,i,{horizontal:e,minRotation:s}){const a=ry(s),l=(e?Math.sin(a):Math.cos(a))||.001;return Math.min(i/l,.75*i*(""+t).length)}sk.id="category",sk.defaults={ticks:{callback:sk.prototype.getLabelForValue}};class kI extends Ww{constructor(i){super(i),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(i,e){return ka(i)||("number"==typeof i||i instanceof Number)&&!isFinite(+i)?null:+i}handleTickRangeOptions(){const{beginAtZero:i}=this.options,{minDefined:e,maxDefined:s}=this.getUserBounds();let{min:a,max:l}=this;const h=C=>a=e?a:C,v=C=>l=s?l:C;if(i){const C=Mv(a),O=Mv(l);C<0&&O<0?v(0):C>0&&O>0&&h(0)}if(a===l){let C=1;(l>=Number.MAX_SAFE_INTEGER||a<=Number.MIN_SAFE_INTEGER)&&(C=Math.abs(.05*l)),v(l+C),i||h(a-C)}this.min=a,this.max=l}getTickLimit(){const i=this.options.ticks;let a,{maxTicksLimit:e,stepSize:s}=i;return s?(a=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),e=e||11),e&&(a=Math.min(e,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const i=this.options,e=i.ticks;let s=this.getTickLimit();s=Math.max(2,s);const h=function(t,i){const e=[],{bounds:a,step:l,min:h,max:v,precision:C,count:O,maxTicks:G,maxDigits:te,includeBounds:pe}=t,we=l||1,Le=G-1,{min:je,max:tt}=i,yt=!ka(h),Zt=!ka(v),tn=!ka(O),gn=(tt-je)/(te+1);let qn,si,Li,Ii,pn=F3((tt-je)/Le/we)*we;if(pn<1e-14&&!yt&&!Zt)return[{value:je},{value:tt}];Ii=Math.ceil(tt/pn)-Math.floor(je/pn),Ii>Le&&(pn=F3(Ii*pn/Le/we)*we),ka(C)||(qn=Math.pow(10,C),pn=Math.ceil(pn*qn)/qn),"ticks"===a?(si=Math.floor(je/pn)*pn,Li=Math.ceil(tt/pn)*pn):(si=je,Li=tt),yt&&Zt&&l&&function(t,i){const e=Math.round(t);return e-i<=t&&e+i>=t}((v-h)/l,pn/1e3)?(Ii=Math.round(Math.min((v-h)/pn,G)),pn=(v-h)/Ii,si=h,Li=v):tn?(si=yt?h:si,Li=Zt?v:Li,Ii=O-1,pn=(Li-si)/Ii):(Ii=(Li-si)/pn,Ii=zS(Ii,Math.round(Ii),pn/1e3)?Math.round(Ii):Math.ceil(Ii));const xs=Math.max(z3(pn),z3(si));qn=Math.pow(10,ka(C)?xs:C),si=Math.round(si*qn)/qn,Li=Math.round(Li*qn)/qn;let ro=0;for(yt&&(pe&&si!==h?(e.push({value:h}),si<h&&ro++,zS(Math.round((si+ro*pn)*qn)/qn,h,VB(h,gn,t))&&ro++):si<h&&ro++);ro<Ii;++ro)e.push({value:Math.round((si+ro*pn)*qn)/qn});return Zt&&pe&&Li!==v?e.length&&zS(e[e.length-1].value,v,VB(v,gn,t))?e[e.length-1].value=v:e.push({value:v}):(!Zt||Li===v)&&e.push({value:Li}),e}({maxTicks:s,bounds:i.bounds,min:i.min,max:i.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===i.bounds&&N3(h,this,"value"),i.reverse?(h.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),h}configure(){const i=this.ticks;let e=this.min,s=this.max;if(super.configure(),this.options.offset&&i.length){const a=(s-e)/Math.max(i.length-1,1)/2;e-=a,s+=a}this._startValue=e,this._endValue=s,this._valueRange=s-e}getLabelForValue(i){return ZS(i,this.chart.options.locale)}}class EI extends kI{determineDataLimits(){const{min:i,max:e}=this.getMinMax(!0);this.min=Xu(i)?i:0,this.max=Xu(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const i=this.isHorizontal(),e=i?this.width:this.height,s=ry(this.options.ticks.minRotation),a=(i?Math.sin(s):Math.cos(s))||.001,l=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,l.lineHeight/a))}getPixelForValue(i){return null===i?NaN:this.getPixelForDecimal((i-this._startValue)/this._valueRange)}getValueForPixel(i){return this._startValue+this.getDecimalForPixel(i)*this._valueRange}}function UB(t){return t/Math.pow(10,Math.floor(Qg(t)))==1}EI.id="linear",EI.defaults={ticks:{callback:bI.formatters.numeric}};class sR extends Ww{constructor(i){super(i),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(i,e){const s=kI.prototype.parse.apply(this,[i,e]);if(0!==s)return Xu(s)&&s>0?s:null;this._zero=!0}determineDataLimits(){const{min:i,max:e}=this.getMinMax(!0);this.min=Xu(i)?Math.max(0,i):null,this.max=Xu(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:i,maxDefined:e}=this.getUserBounds();let s=this.min,a=this.max;const l=C=>s=i?s:C,h=C=>a=e?a:C,v=(C,O)=>Math.pow(10,Math.floor(Qg(C))+O);s===a&&(s<=0?(l(1),h(10)):(l(v(s,-1)),h(v(a,1)))),s<=0&&l(v(a,-1)),a<=0&&h(v(s,1)),this._zero&&this.min!==this._suggestedMin&&s===v(this.min,0)&&l(v(s,-1)),this.min=s,this.max=a}buildTicks(){const i=this.options,s=function(t,i){const e=Math.floor(Qg(i.max)),s=Math.ceil(i.max/Math.pow(10,e)),a=[];let l=qg(t.min,Math.pow(10,Math.floor(Qg(i.min)))),h=Math.floor(Qg(l)),v=Math.floor(l/Math.pow(10,h)),C=h<0?Math.pow(10,Math.abs(h)):1;do{a.push({value:l,major:UB(l)}),++v,10===v&&(v=1,++h,C=h>=0?1:C),l=Math.round(v*Math.pow(10,h)*C)/C}while(h<e||h===e&&v<s);const O=qg(t.max,l);return a.push({value:O,major:UB(l)}),a}({min:this._userMin,max:this._userMax},this);return"ticks"===i.bounds&&N3(s,this,"value"),i.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}getLabelForValue(i){return void 0===i?"0":ZS(i,this.chart.options.locale)}configure(){const i=this.min;super.configure(),this._startValue=Qg(i),this._valueRange=Qg(this.max)-Qg(i)}getPixelForValue(i){return(void 0===i||0===i)&&(i=this.min),null===i||isNaN(i)?NaN:this.getPixelForDecimal(i===this.min?0:(Qg(i)-this._startValue)/this._valueRange)}getValueForPixel(i){const e=this.getDecimalForPixel(i);return Math.pow(10,this._startValue+e*this._valueRange)}}function oR(t){const i=t.ticks;if(i.display&&t.display){const e=If(i.backdropPadding);return io(i.font&&i.font.size,zo.font.size)+e.height}return 0}function _W(t,i,e){return e=Kl(e)?e:[e],{w:z5(t,i.string,e),h:e.length*i.lineHeight}}function jB(t,i,e,s,a){return t===s||t===a?{start:i-e/2,end:i+e/2}:t<s||t>a?{start:i-e,end:i}:{start:i,end:i+e}}function bW(t){return 0===t||180===t?"center":t<180?"left":"right"}function xW(t,i,e){return"right"===e?t-=i:"center"===e&&(t-=i/2),t}function wW(t,i,e){return 90===e||270===e?t-=i/2:(e>270||e<90)&&(t-=i),t}function ZB(t,i,e,s){const{ctx:a}=t;if(e)a.arc(t.xCenter,t.yCenter,i,0,Fl);else{let l=t.getPointPosition(0,i);a.moveTo(l.x,l.y);for(let h=1;h<s;h++)l=t.getPointPosition(h,i),a.lineTo(l.x,l.y)}}function DI(t){return VC(t)?t:0}sR.id="logarithmic",sR.defaults={ticks:{callback:bI.formatters.logarithmic,major:{enabled:!0}}};class qC extends kI{constructor(i){super(i),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){this.width=this.maxWidth,this.height=this.maxHeight,this.paddingTop=oR(this.options)/2,this.xCenter=Math.floor(this.width/2),this.yCenter=Math.floor((this.height-this.paddingTop)/2),this.drawingArea=Math.min(this.height-this.paddingTop,this.width)/2}determineDataLimits(){const{min:i,max:e}=this.getMinMax(!1);this.min=Xu(i)&&!isNaN(i)?i:0,this.max=Xu(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/oR(this.options))}generateTickLabels(i){kI.prototype.generateTickLabels.call(this,i),this._pointLabels=this.getLabels().map((e,s)=>{const a=ec(this.options.pointLabels.callback,[e,s],this);return a||0===a?a:""})}fit(){const i=this.options;i.display&&i.pointLabels.display?function(t){const i={l:0,r:t.width,t:0,b:t.height-t.paddingTop},e={},s=[],a=[],l=t.getLabels().length;for(let h=0;h<l;h++){const v=t.options.pointLabels.setContext(t.getPointLabelContext(h));a[h]=v.padding;const C=t.getPointPosition(h,t.drawingArea+a[h]),O=th(v.font),G=_W(t.ctx,O,t._pointLabels[h]);s[h]=G;const te=t.getIndexAngle(h),pe=SO(te),we=jB(pe,C.x,G.w,0,180),Le=jB(pe,C.y,G.h,90,270);we.start<i.l&&(i.l=we.start,e.l=te),we.end>i.r&&(i.r=we.end,e.r=te),Le.start<i.t&&(i.t=Le.start,e.t=te),Le.end>i.b&&(i.b=Le.end,e.b=te)}t._setReductions(t.drawingArea,i,e),t._pointLabelItems=function(t,i,e){const s=[],a=t.getLabels().length,l=t.options,h=oR(l),v=t.getDistanceFromCenterForValue(l.ticks.reverse?t.min:t.max);for(let C=0;C<a;C++){const G=t.getPointPosition(C,v+(0===C?h/2:0)+e[C]),te=SO(t.getIndexAngle(C)),pe=i[C],we=wW(G.y,pe.h,te),Le=bW(te),je=xW(G.x,pe.w,Le);s.push({x:G.x,y:we,textAlign:Le,left:je,top:we,right:je+pe.w,bottom:we+pe.h})}return s}(t,s,a)}(this):this.setCenterPoint(0,0,0,0)}_setReductions(i,e,s){let a=e.l/Math.sin(s.l),l=Math.max(e.r-this.width,0)/Math.sin(s.r),h=-e.t/Math.cos(s.t),v=-Math.max(e.b-(this.height-this.paddingTop),0)/Math.cos(s.b);a=DI(a),l=DI(l),h=DI(h),v=DI(v),this.drawingArea=Math.max(i/2,Math.min(Math.floor(i-(a+l)/2),Math.floor(i-(h+v)/2))),this.setCenterPoint(a,l,h,v)}setCenterPoint(i,e,s,a){const v=s+this.drawingArea,C=this.height-this.paddingTop-a-this.drawingArea;this.xCenter=Math.floor((i+this.drawingArea+(this.width-e-this.drawingArea))/2+this.left),this.yCenter=Math.floor((v+C)/2+this.top+this.paddingTop)}getIndexAngle(i){return sy(i*(Fl/this.getLabels().length)+ry(this.options.startAngle||0))}getDistanceFromCenterForValue(i){if(ka(i))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-i)*e:(i-this.min)*e}getValueForDistanceFromCenter(i){if(ka(i))return NaN;const e=i/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(i){const e=this._pointLabels||[];if(i>=0&&i<e.length){const s=e[i];return function(t,i,e){return Q0(t,{label:e,index:i,type:"pointLabel"})}(this.getContext(),i,s)}}getPointPosition(i,e){const s=this.getIndexAngle(i)-Ju;return{x:Math.cos(s)*e+this.xCenter,y:Math.sin(s)*e+this.yCenter,angle:s}}getPointPositionForValue(i,e){return this.getPointPosition(i,this.getDistanceFromCenterForValue(e))}getBasePosition(i){return this.getPointPositionForValue(i||0,this.getBaseValue())}getPointLabelPosition(i){const{left:e,top:s,right:a,bottom:l}=this._pointLabelItems[i];return{left:e,top:s,right:a,bottom:l}}drawBackground(){const{backgroundColor:i,grid:{circular:e}}=this.options;if(i){const s=this.ctx;s.save(),s.beginPath(),ZB(this,this.getDistanceFromCenterForValue(this._endValue),e,this.getLabels().length),s.closePath(),s.fillStyle=i,s.fill(),s.restore()}}drawGrid(){const i=this.ctx,e=this.options,{angleLines:s,grid:a}=e,l=this.getLabels().length;let h,v,C;if(e.pointLabels.display&&function(t,i){const{ctx:e,options:{pointLabels:s}}=t;for(let a=i-1;a>=0;a--){const l=s.setContext(t.getPointLabelContext(a)),h=th(l.font),{x:v,y:C,textAlign:O,left:G,top:te,right:pe,bottom:we}=t._pointLabelItems[a],{backdropColor:Le}=l;if(!ka(Le)){const je=If(l.backdropPadding);e.fillStyle=Le,e.fillRect(G-je.left,te-je.top,pe-G+je.width,we-te+je.height)}Uw(e,t._pointLabels[a],v,C+h.lineHeight/2,h,{color:l.color,textAlign:O,textBaseline:"middle"})}}(this,l),a.display&&this.ticks.forEach((O,G)=>{0!==G&&(v=this.getDistanceFromCenterForValue(O.value),function(t,i,e,s){const a=t.ctx,l=i.circular,{color:h,lineWidth:v}=i;!l&&!s||!h||!v||e<0||(a.save(),a.strokeStyle=h,a.lineWidth=v,a.setLineDash(i.borderDash),a.lineDashOffset=i.borderDashOffset,a.beginPath(),ZB(t,e,l,s),a.closePath(),a.stroke(),a.restore())}(this,a.setContext(this.getContext(G-1)),v,l))}),s.display){for(i.save(),h=this.getLabels().length-1;h>=0;h--){const O=s.setContext(this.getPointLabelContext(h)),{color:G,lineWidth:te}=O;!te||!G||(i.lineWidth=te,i.strokeStyle=G,i.setLineDash(O.borderDash),i.lineDashOffset=O.borderDashOffset,v=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),C=this.getPointPosition(h,v),i.beginPath(),i.moveTo(this.xCenter,this.yCenter),i.lineTo(C.x,C.y),i.stroke())}i.restore()}}drawBorder(){}drawLabels(){const i=this.ctx,e=this.options,s=e.ticks;if(!s.display)return;const a=this.getIndexAngle(0);let l,h;i.save(),i.translate(this.xCenter,this.yCenter),i.rotate(a),i.textAlign="center",i.textBaseline="middle",this.ticks.forEach((v,C)=>{if(0===C&&!e.reverse)return;const O=s.setContext(this.getContext(C)),G=th(O.font);if(l=this.getDistanceFromCenterForValue(this.ticks[C].value),O.showLabelBackdrop){i.font=G.string,h=i.measureText(v.label).width,i.fillStyle=O.backdropColor;const te=If(O.backdropPadding);i.fillRect(-h/2-te.left,-l-G.size/2-te.top,h+te.width,G.size+te.height)}Uw(i,v.label,0,-l,G,{color:O.color})}),i.restore()}drawTitle(){}}qC.id="radialLinear",qC.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:bI.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:t=>t,padding:5}},qC.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},qC.descriptors={angleLines:{_fallback:"grid"}};const AI={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},wm=Object.keys(AI);function SW(t,i){return t-i}function GB(t,i){if(ka(i))return null;const e=t._adapter,{parser:s,round:a,isoWeekday:l}=t._parseOpts;let h=i;return"function"==typeof s&&(h=s(h)),Xu(h)||(h="string"==typeof s?e.parse(h,s):e.parse(h)),null===h?null:(a&&(h="week"!==a||!VC(l)&&!0!==l?e.startOf(h,a):e.startOf(h,"isoWeek",l)),+h)}function WB(t,i,e,s){const a=wm.length;for(let l=wm.indexOf(t);l<a-1;++l){const h=AI[wm[l]],v=h.steps?h.steps:Number.MAX_SAFE_INTEGER;if(h.common&&Math.ceil((e-i)/(v*h.size))<=s)return wm[l]}return wm[a-1]}function qB(t,i,e){if(e){if(e.length){const{lo:s,hi:a}=NO(e,i);t[e[s]>=i?e[s]:e[a]]=!0}}else t[i]=!0}function $B(t,i,e){const s=[],a={},l=i.length;let h,v;for(h=0;h<l;++h)v=i[h],a[v]=h,s.push({value:v,major:!1});return 0!==l&&e?function(t,i,e,s){const a=t._adapter,l=+a.startOf(i[0].value,s),h=i[i.length-1].value;let v,C;for(v=l;v<=h;v=+a.add(v,1,s))C=e[v],C>=0&&(i[C].major=!0);return i}(t,s,a,e):s}let aR=(()=>{class t extends Ww{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,s){const a=e.time||(e.time={}),l=this._adapter=new lZ._date(e.adapters.date);FS(a.displayFormats,l.formats()),this._parseOpts={parser:a.parser,round:a.round,isoWeekday:a.isoWeekday},super.init(e),this._normalized=s.normalized}parse(e,s){return void 0===e?null:GB(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,s=this._adapter,a=e.time.unit||"day";let{min:l,max:h,minDefined:v,maxDefined:C}=this.getUserBounds();function O(G){!v&&!isNaN(G.min)&&(l=Math.min(l,G.min)),!C&&!isNaN(G.max)&&(h=Math.max(h,G.max))}(!v||!C)&&(O(this._getLabelBounds()),("ticks"!==e.bounds||"labels"!==e.ticks.source)&&O(this.getMinMax(!1))),l=Xu(l)&&!isNaN(l)?l:+s.startOf(Date.now(),a),h=Xu(h)&&!isNaN(h)?h:+s.endOf(Date.now(),a)+1,this.min=Math.min(l,h-1),this.max=Math.max(l+1,h)}_getLabelBounds(){const e=this.getLabelTimestamps();let s=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY;return e.length&&(s=e[0],a=e[e.length-1]),{min:s,max:a}}buildTicks(){const e=this.options,s=e.time,a=e.ticks,l="labels"===a.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&l.length&&(this.min=this._userMin||l[0],this.max=this._userMax||l[l.length-1]);const h=this.min,C=function(t,i,e){let s=0,a=t.length;for(;s<a&&t[s]<i;)s++;for(;a>s&&t[a-1]>e;)a--;return s>0||a<t.length?t.slice(s,a):t}(l,h,this.max);return this._unit=s.unit||(a.autoSkip?WB(s.minUnit,this.min,this.max,this._getLabelCapacity(h)):function(t,i,e,s,a){for(let l=wm.length-1;l>=wm.indexOf(e);l--){const h=wm[l];if(AI[h].common&&t._adapter.diff(a,s,h)>=i-1)return h}return wm[e?wm.indexOf(e):0]}(this,C.length,s.minUnit,this.min,this.max)),this._majorUnit=a.major.enabled&&"year"!==this._unit?function(t){for(let i=wm.indexOf(t)+1,e=wm.length;i<e;++i)if(AI[wm[i]].common)return wm[i]}(this._unit):void 0,this.initOffsets(l),e.reverse&&C.reverse(),$B(this,C,this._majorUnit)}initOffsets(e){let l,h,s=0,a=0;this.options.offset&&e.length&&(l=this.getDecimalForValue(e[0]),s=1===e.length?1-l:(this.getDecimalForValue(e[1])-l)/2,h=this.getDecimalForValue(e[e.length-1]),a=1===e.length?h:(h-this.getDecimalForValue(e[e.length-2]))/2);const v=e.length<3?.5:.25;s=Uh(s,0,v),a=Uh(a,0,v),this._offsets={start:s,end:a,factor:1/(s+1+a)}}_generate(){const e=this._adapter,s=this.min,a=this.max,l=this.options,h=l.time,v=h.unit||WB(h.minUnit,s,a,this._getLabelCapacity(s)),C=io(h.stepSize,1),O="week"===v&&h.isoWeekday,G=VC(O)||!0===O,te={};let we,Le,pe=s;if(G&&(pe=+e.startOf(pe,"isoWeek",O)),pe=+e.startOf(pe,G?"day":v),e.diff(a,s,v)>1e5*C)throw new Error(s+" and "+a+" are too far apart with stepSize of "+C+" "+v);const je="data"===l.ticks.source&&this.getDataTimestamps();for(we=pe,Le=0;we<a;we=+e.add(we,C,v),Le++)qB(te,we,je);return(we===a||"ticks"===l.bounds||1===Le)&&qB(te,we,je),Object.keys(te).sort((tt,yt)=>tt-yt).map(tt=>+tt)}getLabelForValue(e){const a=this.options.time;return this._adapter.format(e,a.tooltipFormat?a.tooltipFormat:a.displayFormats.datetime)}_tickFormatFunction(e,s,a,l){const h=this.options,v=h.time.displayFormats,C=this._unit,O=this._majorUnit,te=O&&v[O],pe=a[s],Le=this._adapter.format(e,l||(O&&te&&pe&&pe.major?te:C&&v[C])),je=h.ticks.callback;return je?ec(je,[Le,s,a],this):Le}generateTickLabels(e){let s,a,l;for(s=0,a=e.length;s<a;++s)l=e[s],l.label=this._tickFormatFunction(l.value,s,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const s=this._offsets,a=this.getDecimalForValue(e);return this.getPixelForDecimal((s.start+a)*s.factor)}getValueForPixel(e){const s=this._offsets,a=this.getDecimalForPixel(e)/s.factor-s.end;return this.min+a*(this.max-this.min)}_getLabelSize(e){const s=this.options.ticks,a=this.ctx.measureText(e).width,l=ry(this.isHorizontal()?s.maxRotation:s.minRotation),h=Math.cos(l),v=Math.sin(l),C=this._resolveTickFontOptions(0).size;return{w:a*h+C*v,h:a*v+C*h}}_getLabelCapacity(e){const s=this.options.time,a=s.displayFormats,l=a[s.unit]||a.millisecond,h=this._tickFormatFunction(e,0,$B(this,[e],this._majorUnit),l),v=this._getLabelSize(h),C=Math.floor(this.isHorizontal()?this.width/v.w:this.height/v.h)-1;return C>0?C:1}getDataTimestamps(){let s,a,e=this._cache.data||[];if(e.length)return e;const l=this.getMatchingVisibleMetas();if(this._normalized&&l.length)return this._cache.data=l[0].controller.getAllParsedValues(this);for(s=0,a=l.length;s<a;++s)e=e.concat(l[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let s,a;if(e.length)return e;const l=this.getLabels();for(s=0,a=l.length;s<a;++s)e.push(GB(this,l[s]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return tz(e.sort(SW))}}return t.id="time",t.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}},t})();function II(t,i,e){let l,h,v,C,s=0,a=t.length-1;e?(i>=t[s].pos&&i<=t[a].pos&&({lo:s,hi:a}=Tb(t,"pos",i)),({pos:l,time:v}=t[s]),({pos:h,time:C}=t[a])):(i>=t[s].time&&i<=t[a].time&&({lo:s,hi:a}=Tb(t,"time",i)),({time:l,pos:v}=t[s]),({time:h,pos:C}=t[a]));const O=h-l;return O?v+(C-v)*(i-l)/O:v}class LI extends aR{constructor(i){super(i),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const i=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(i);this._minPos=II(e,this.min),this._tableRange=II(e,this.max)-this._minPos,super.initOffsets(i)}buildLookupTable(i){const{min:e,max:s}=this,a=[],l=[];let h,v,C,O,G;for(h=0,v=i.length;h<v;++h)O=i[h],O>=e&&O<=s&&a.push(O);if(a.length<2)return[{time:e,pos:0},{time:s,pos:1}];for(h=0,v=a.length;h<v;++h)G=a[h+1],C=a[h-1],O=a[h],Math.round((G+C)/2)!==O&&l.push({time:O,pos:h/(v-1)});return l}_getTimestampsForTable(){let i=this._cache.all||[];if(i.length)return i;const e=this.getDataTimestamps(),s=this.getLabelTimestamps();return i=e.length&&s.length?this.normalize(e.concat(s)):e.length?e:s,i=this._cache.all=i,i}getDecimalForValue(i){return(II(this._table,i)-this._minPos)/this._tableRange}getValueForPixel(i){const e=this._offsets,s=this.getDecimalForPixel(i)/e.factor-e.end;return II(this._table,s*this._tableRange+this._minPos,!0)}}LI.id="timeseries",LI.defaults=aR.defaults;const PI=function(t,i){return t===i||t!=t&&i!=i},OI=function(t,i){for(var e=t.length;e--;)if(PI(t[e][0],i))return e;return-1};var FW=Array.prototype.splice;function $C(t){var i=-1,e=null==t?0:t.length;for(this.clear();++i<e;){var s=t[i];this.set(s[0],s[1])}}$C.prototype.clear=function(){this.__data__=[],this.size=0},$C.prototype.delete=function(t){var i=this.__data__,e=OI(i,t);return!(e<0||(e==i.length-1?i.pop():FW.call(i,e,1),--this.size,0))},$C.prototype.get=function(t){var i=this.__data__,e=OI(i,t);return e<0?void 0:i[e][1]},$C.prototype.has=function(t){return OI(this.__data__,t)>-1},$C.prototype.set=function(t,i){var e=this.__data__,s=OI(e,t);return s<0?(++this.size,e.push([t,i])):e[s][1]=i,this};const RI=$C,QB="object"==typeof global&&global&&global.Object===Object&&global;var eq="object"==typeof self&&self&&self.Object===Object&&self;const QC=QB||eq||Function("return this")();var nq=QC.Symbol,XB=Object.prototype,iq=XB.hasOwnProperty,rq=XB.toString,ok=nq?nq.toStringTag:void 0;var lq=Object.prototype.toString;var JB=nq?nq.toStringTag:void 0;const NI=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":JB&&JB in Object(t)?function(t){var i=iq.call(t,ok),e=t[ok];try{t[ok]=void 0;var s=!0}catch(l){}var a=rq.call(t);return s&&(i?t[ok]=e:delete t[ok]),a}(t):function(t){return lq.call(t)}(t)},qw=function(t){var i=typeof t;return null!=t&&("object"==i||"function"==i)},lR=function(t){if(!qw(t))return!1;var i=NI(t);return"[object Function]"==i||"[object GeneratorFunction]"==i||"[object AsyncFunction]"==i||"[object Proxy]"==i},cR=QC["__core-js_shared__"];var KB=function(){var t=/[^.]+$/.exec(cR&&cR.keys&&cR.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();var Mq=Function.prototype.toString;var Eq=/^\[object .+?Constructor\]$/,Pq=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Rq=function(t){return!(!qw(t)||function(t){return!!KB&&KB in t}(t))&&(lR(t)?Pq:Eq).test(function(t){if(null!=t){try{return Mq.call(t)}catch(i){}try{return t+""}catch(i){}}return""}(t))},uR=function(t,i){var e=function(t,i){return null==t?void 0:t[i]}(t,i);return Rq(e)?e:void 0},eY=uR(QC,"Map"),ak=uR(Object,"create");var Wq=Object.prototype.hasOwnProperty;var Xq=Object.prototype.hasOwnProperty;function XC(t){var i=-1,e=null==t?0:t.length;for(this.clear();++i<e;){var s=t[i];this.set(s[0],s[1])}}XC.prototype.clear=function(){this.__data__=ak?ak(null):{},this.size=0},XC.prototype.delete=function(t){var i=this.has(t)&&delete this.__data__[t];return this.size-=i?1:0,i},XC.prototype.get=function(t){var i=this.__data__;if(ak){var e=i[t];return"__lodash_hash_undefined__"===e?void 0:e}return Wq.call(i,t)?i[t]:void 0},XC.prototype.has=function(t){var i=this.__data__;return ak?void 0!==i[t]:Xq.call(i,t)},XC.prototype.set=function(t,i){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=ak&&void 0===i?"__lodash_hash_undefined__":i,this};const tY=XC,zI=function(t,i){var e=t.__data__;return function(t){var i=typeof t;return"string"==i||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==t:null===t}(i)?e["string"==typeof i?"string":"hash"]:e.map};function JC(t){var i=-1,e=null==t?0:t.length;for(this.clear();++i<e;){var s=t[i];this.set(s[0],s[1])}}JC.prototype.clear=function(){this.size=0,this.__data__={hash:new tY,map:new(eY||RI),string:new tY}},JC.prototype.delete=function(t){var i=zI(this,t).delete(t);return this.size-=i?1:0,i},JC.prototype.get=function(t){return zI(this,t).get(t)},JC.prototype.has=function(t){return zI(this,t).has(t)},JC.prototype.set=function(t,i){var e=zI(this,t),s=e.size;return e.set(t,i),this.size+=e.size==s?0:1,this};const _8=JC;function KC(t){var i=this.__data__=new RI(t);this.size=i.size}KC.prototype.clear=function(){this.__data__=new RI,this.size=0},KC.prototype.delete=function(t){var i=this.__data__,e=i.delete(t);return this.size=i.size,e},KC.prototype.get=function(t){return this.__data__.get(t)},KC.prototype.has=function(t){return this.__data__.has(t)},KC.prototype.set=function(t,i){var e=this.__data__;if(e instanceof RI){var s=e.__data__;if(!eY||s.length<199)return s.push([t,i]),this.size=++e.size,this;e=this.__data__=new _8(s)}return e.set(t,i),this.size=e.size,this};const x8=KC,BI=function(){try{var t=uR(Object,"defineProperty");return t({},"",{}),t}catch(i){}}(),dR=function(t,i,e){"__proto__"==i&&BI?BI(t,i,{configurable:!0,enumerable:!0,value:e,writable:!0}):t[i]=e},hR=function(t,i,e){(void 0!==e&&!PI(t[i],e)||void 0===e&&!(i in t))&&dR(t,i,e)},k8=function(i,e,s){for(var a=-1,l=Object(i),h=s(i),v=h.length;v--;){var C=h[++a];if(!1===e(l[C],C,l))break}return i};var nY="object"==typeof exports&&exports&&!exports.nodeType&&exports,iY=nY&&"object"==typeof module&&module&&!module.nodeType&&module,rY=iY&&iY.exports===nY?QC.Buffer:void 0,sY=rY?rY.allocUnsafe:void 0;const oY=QC.Uint8Array,R8=function(t,i){var e=i?function(t){var i=new t.constructor(t.byteLength);return new oY(i).set(new oY(t)),i}(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)};var aY=Object.create;const B8=function(){function t(){}return function(i){if(!qw(i))return{};if(aY)return aY(i);t.prototype=i;var e=new t;return t.prototype=void 0,e}}(),lY=function(t,i){return function(e){return t(i(e))}}(Object.getPrototypeOf,Object);var V8=Object.prototype;const cY=function(t){var i=t&&t.constructor;return t===("function"==typeof i&&i.prototype||V8)},lk=function(t){return null!=t&&"object"==typeof t},uY=function(t){return lk(t)&&"[object Arguments]"==NI(t)};var dY=Object.prototype,$8=dY.hasOwnProperty,Q8=dY.propertyIsEnumerable;const pR=uY(function(){return arguments}())?uY:function(t){return lk(t)&&$8.call(t,"callee")&&!Q8.call(t,"callee")},fR=Array.isArray,hY=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},mR=function(t){return null!=t&&hY(t.length)&&!lR(t)};var pY="object"==typeof exports&&exports&&!exports.nodeType&&exports,fY=pY&&"object"==typeof module&&module&&!module.nodeType&&module,mY=fY&&fY.exports===pY?QC.Buffer:void 0;const gY=(mY?mY.isBuffer:void 0)||function(){return!1};var _Y=Function.prototype.toString,p9=Object.prototype.hasOwnProperty,f9=_Y.call(Object);var yc={};yc["[object Float32Array]"]=yc["[object Float64Array]"]=yc["[object Int8Array]"]=yc["[object Int16Array]"]=yc["[object Int32Array]"]=yc["[object Uint8Array]"]=yc["[object Uint8ClampedArray]"]=yc["[object Uint16Array]"]=yc["[object Uint32Array]"]=!0,yc["[object Arguments]"]=yc["[object Array]"]=yc["[object ArrayBuffer]"]=yc["[object Boolean]"]=yc["[object DataView]"]=yc["[object Date]"]=yc["[object Error]"]=yc["[object Function]"]=yc["[object Map]"]=yc["[object Number]"]=yc["[object Object]"]=yc["[object RegExp]"]=yc["[object Set]"]=yc["[object String]"]=yc["[object WeakMap]"]=!1;var yY="object"==typeof exports&&exports&&!exports.nodeType&&exports,ck=yY&&"object"==typeof module&&module&&!module.nodeType&&module,gR=ck&&ck.exports===yY&&QB.process,G9=function(){try{return ck&&ck.require&&ck.require("util").types||gR&&gR.binding&&gR.binding("util")}catch(i){}}(),bY=G9&&G9.isTypedArray;const xY=bY?function(t){return function(i){return t(i)}}(bY):function(t){return lk(t)&&hY(t.length)&&!!yc[NI(t)]},_R=function(t,i){if(("constructor"!==i||"function"!=typeof t[i])&&"__proto__"!=i)return t[i]};var Q9=Object.prototype.hasOwnProperty;const J9=function(t,i,e){var s=t[i];(!Q9.call(t,i)||!PI(s,e)||void 0===e&&!(i in t))&&dR(t,i,e)};var s7=/^(?:0|[1-9]\d*)$/;const wY=function(t,i){var e=typeof t;return!!(i=null==i?9007199254740991:i)&&("number"==e||"symbol"!=e&&s7.test(t))&&t>-1&&t%1==0&&t<i};var l7=Object.prototype.hasOwnProperty;const u7=function(t,i){var e=fR(t),s=!e&&pR(t),a=!e&&!s&&gY(t),l=!e&&!s&&!a&&xY(t),h=e||s||a||l,v=h?function(t,i){for(var e=-1,s=Array(t);++e<t;)s[e]=i(e);return s}(t.length,String):[],C=v.length;for(var O in t)(i||l7.call(t,O))&&(!h||!("length"==O||a&&("offset"==O||"parent"==O)||l&&("buffer"==O||"byteLength"==O||"byteOffset"==O)||wY(O,C)))&&v.push(O);return v};var f7=Object.prototype.hasOwnProperty;const g7=function(t){if(!qw(t))return function(t){var i=[];if(null!=t)for(var e in Object(t))i.push(e);return i}(t);var i=cY(t),e=[];for(var s in t)"constructor"==s&&(i||!f7.call(t,s))||e.push(s);return e},CY=function(t){return mR(t)?u7(t,!0):g7(t)},v7=function(t){return function(t,i,e,s){var a=!e;e||(e={});for(var l=-1,h=i.length;++l<h;){var v=i[l],C=s?s(e[v],t[v],v,e,t):void 0;void 0===C&&(C=t[v]),a?dR(e,v,C):J9(e,v,C)}return e}(t,CY(t))},x7=function(t,i,e,s,a,l,h){var v=_R(t,e),C=_R(i,e),O=h.get(C);if(O)hR(t,e,O);else{var G=l?l(v,C,e+"",t,i,h):void 0,te=void 0===G;if(te){var pe=fR(C),we=!pe&&gY(C),Le=!pe&&!we&&xY(C);G=C,pe||we||Le?fR(v)?G=v:function(t){return lk(t)&&mR(t)}(v)?G=function(t,i){var e=-1,s=t.length;for(i||(i=Array(s));++e<s;)i[e]=t[e];return i}(v):we?(te=!1,G=function(t,i){if(i)return t.slice();var e=t.length,s=sY?sY(e):new t.constructor(e);return t.copy(s),s}(C,!0)):Le?(te=!1,G=R8(C,!0)):G=[]:function(t){if(!lk(t)||"[object Object]"!=NI(t))return!1;var i=lY(t);if(null===i)return!0;var e=p9.call(i,"constructor")&&i.constructor;return"function"==typeof e&&e instanceof e&&_Y.call(e)==f9}(C)||pR(C)?(G=v,pR(v)?G=v7(v):(!qw(v)||lR(v))&&(G=function(t){return"function"!=typeof t.constructor||cY(t)?{}:B8(lY(t))}(C))):te=!1}te&&(h.set(C,G),a(G,C,s,l,h),h.delete(C)),hR(t,e,G)}},w7=function MY(t,i,e,s,a){t!==i&&k8(i,function(l,h){if(a||(a=new x8),qw(l))x7(t,i,h,e,MY,s,a);else{var v=s?s(_R(t,h),l,h+"",t,i,a):void 0;void 0===v&&(v=l),hR(t,h,v)}},CY)},TY=function(t){return t},T7=function(t,i,e){switch(e.length){case 0:return t.call(i);case 1:return t.call(i,e[0]);case 2:return t.call(i,e[0],e[1]);case 3:return t.call(i,e[0],e[1],e[2])}return t.apply(i,e)};var SY=Math.max;const D7=function(t){return function(){return t}};var O7=Date.now;const N7=function(t){var i=0,e=0;return function(){var s=O7(),a=16-(s-e);if(e=s,a>0){if(++i>=800)return arguments[0]}else i=0;return t.apply(void 0,arguments)}}(BI?function(t,i){return BI(t,"toString",{configurable:!0,enumerable:!1,value:D7(i),writable:!0})}:TY),B7=function(t,i){return N7(function(t,i,e){return i=SY(void 0===i?t.length-1:i,0),function(){for(var s=arguments,a=-1,l=SY(s.length-i,0),h=Array(l);++a<l;)h[a]=s[i+a];a=-1;for(var v=Array(i+1);++a<i;)v[a]=s[a];return v[i]=e(h),T7(t,this,v)}}(t,i,TY),t+"")},kY=function(t){return B7(function(i,e){var s=-1,a=e.length,l=a>1?e[a-1]:void 0,h=a>2?e[2]:void 0;for(l=t.length>3&&"function"==typeof l?(a--,l):void 0,h&&function(t,i,e){if(!qw(e))return!1;var s=typeof i;return!!("number"==s?mR(e)&&wY(i,e.length):"string"==s&&i in e)&&PI(e[i],t)}(e[0],e[1],h)&&(l=a<3?void 0:l,a=1),i=Object(i);++s<a;){var v=e[s];v&&t(i,v,s)}return i})}(function(t,i,e){w7(t,i,e)});let j7=(()=>{class t{constructor(){this.colorschemesOptions=new To(void 0)}setColorschemesOptions(e){this.pColorschemesOptions=e,this.colorschemesOptions.next(e)}getColorschemesOptions(){return this.pColorschemesOptions}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Yz7({factory:function(){return new t},token:t,providedIn:"root"}),t})(),Z7=(()=>{class t{constructor(e,s,a){this.element=e,this.zone=s,this.themeService=a,this.type="bar",this.plugins=[],this.chartClick=new o.vpe,this.chartHover=new o.vpe,this.subs=[],this.ctx=e.nativeElement.getContext("2d"),this.subs.push(this.themeService.colorschemesOptions.pipe(cu()).subscribe(l=>this.themeChanged(l)))}ngOnChanges(e){const s=["type"],a=Object.getOwnPropertyNames(e);if(a.some(l=>s.includes(l))||a.every(l=>e[l].isFirstChange()))this.render();else{const l=this.getChartConfiguration();this.chart&&(Object.assign(this.chart.config.data,l.data),Object.assign(this.chart.config.plugins,l.plugins),Object.assign(this.chart.config.options,l.options)),this.update()}}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.chart=void 0),this.subs.forEach(e=>e.unsubscribe())}render(){return this.chart&&this.chart.destroy(),this.zone.runOutsideAngular(()=>this.chart=new ek(this.ctx,this.getChartConfiguration()))}update(e){this.chart&&this.zone.runOutsideAngular(()=>{var s;return null===(s=this.chart)||void 0===s?void 0:s.update(e)})}hideDataset(e,s){this.chart&&(this.chart.getDatasetMeta(e).hidden=s,this.update())}isDatasetHidden(e){var s,a;return null===(a=null===(s=this.chart)||void 0===s?void 0:s.getDatasetMeta(e))||void 0===a?void 0:a.hidden}toBase64Image(){var e;return null===(e=this.chart)||void 0===e?void 0:e.toBase64Image()}themeChanged(e){this.themeOverrides=e,this.chart&&(Object.assign(this.chart.config.options,this.getChartOptions()),this.update())}getChartOptions(){return kY({onHover:(e,s)=>{s&&!s.length||this.chartHover.emit({event:e,active:s})},onClick:(e,s)=>{this.chartClick.emit({event:e,active:s})}},this.themeOverrides,this.options,{plugins:{legend:{display:this.legend}}})}getChartConfiguration(){return{type:this.type,data:this.getChartData(),plugins:this.plugins,options:this.getChartOptions()}}getChartData(){return this.data?this.data:{labels:this.labels||[],datasets:this.datasets||[]}}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(j7))},t.\u0275dir=o.lG2({type:t,selectors:[["canvas","baseChart",""]],inputs:{type:"type",plugins:"plugins",legend:"legend",data:"data",options:"options",labels:"labels",datasets:"datasets"},outputs:{chartClick:"chartClick",chartHover:"chartHover"},exportAs:["base-chart"],features:[o.TTD]}),t})();const G7=[[255,99,132],[54,162,235],[255,206,86],[231,233,237],[75,192,192],[151,187,205],[220,220,220],[247,70,74],[70,191,189],[253,180,92],[148,159,177],[77,83,96]],W7={datasets:{line:{backgroundColor:t=>Lf(Pf(t.datasetIndex),.4),borderColor:t=>Lf(Pf(t.datasetIndex),1),pointBackgroundColor:t=>Lf(Pf(t.datasetIndex),1),pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:t=>Lf(Pf(t.datasetIndex),.8)},bar:{backgroundColor:t=>Lf(Pf(t.datasetIndex),.6),borderColor:t=>Lf(Pf(t.datasetIndex),1),hoverBackgroundColor:t=>Lf(Pf(t.datasetIndex),.8),hoverBorderColor:t=>Lf(Pf(t.datasetIndex),1)},get radar(){return this.line},doughnut:{backgroundColor:t=>Lf(Pf(t.dataIndex),.6),borderColor:"#fff",hoverBackgroundColor:t=>Lf(Pf(t.dataIndex),1),hoverBorderColor:t=>Lf(Pf(t.dataIndex),1)},get pie(){return this.doughnut},polarArea:{backgroundColor:t=>Lf(Pf(t.dataIndex),.6),borderColor:t=>Lf(Pf(t.dataIndex),1),hoverBackgroundColor:t=>Lf(Pf(t.dataIndex),.8),hoverBorderColor:t=>Lf(Pf(t.dataIndex),1)},get bubble(){return this.doughnut},get scatter(){return this.doughnut},get area(){return this.polarArea}}};function Lf(t,i){return"rgba("+t.concat(i).join(",")+")"}function yR(t,i){return Math.floor(Math.random()*(i-t+1))+t}function Pf(t=0){return G7[t]||[yR(0,255),yR(0,255),yR(0,255)]}ek.register(OB,HB,AB,PB,GO,nk,vB,EI,sk,Fz,ik,ZO,tk,Yz,qC,Bz,zz,Nz,Hz,LI);let $7=(()=>{class t{constructor(e){(null==e?void 0:e.plugins)&&ek.register(null==e?void 0:e.plugins);const s=kY(W7,(null==e?void 0:e.defaults)||{});zo.set(s)}static forRoot(e){return{ngModule:t,providers:[{provide:EY,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(EY,8))},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[]]}),t})(),EY=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Yz7({factory:function(){return new t},token:t,providedIn:"root"}),t})();function ay(t,...i){return i.length?i.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}function hk(t,i=$s.P){return e=>e.lift(new n$(t,i))}class n${constructor(i,e){this.dueTime=i,this.scheduler=e}call(i,e){return e.subscribe(new i$(i,this.dueTime,this.scheduler))}}class i$ extends Ao.L{constructor(i,e,s){super(i),this.dueTime=e,this.scheduler=s,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(i){this.clearDebounce(),this.lastValue=i,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(r$,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:i}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(i)}}clearDebounce(){const i=this.debouncedSubscription;null!==i&&(this.remove(i),i.unsubscribe(),this.debouncedSubscription=null)}}function r$(t){t.debouncedNext()}let bR=(()=>{class t{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),DY=(()=>{class t{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,s)=>this._cleanupObserver(s))}observe(e){const s=J_(e);return new Rr.y(a=>{const h=this._observeElement(s).subscribe(a);return()=>{h.unsubscribe(),this._unobserveElement(s)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const s=new li.xQ,a=this._mutationObserverFactory.create(l=>s.next(l));a&&a.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:a,stream:s,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:s,stream:a}=this._observedElements.get(e);s&&s.disconnect(),a.complete(),this._observedElements.delete(e)}}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(bR))},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t((0,o.LFG)(bR))},token:t,providedIn:"root"}),t})(),AY=(()=>{class t{constructor(e,s,a){this._contentObserver=e,this._elementRef=s,this._ngZone=a,this.event=new o.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=ps(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=yu(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(hk(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(DY),o.Y36(o.SBq),o.Y36(o.R0b))},t.\u0275dir=o.lG2({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),xR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[bR]}),t})();function UI(t,i){return(t.getAttribute(i)||"").match(/\S+/g)||[]}const LY="cdk-describedby-message-container",PY="cdk-describedby-message",jI="cdk-describedby-host";let a$=0;const Sv=new Map;let xp=null,OY=(()=>{class t{constructor(e){this._document=e}describe(e,s,a){if(!this._canBeDescribed(e,s))return;const l=wR(s,a);"string"!=typeof s?(RY(s),Sv.set(l,{messageElement:s,referenceCount:0})):Sv.has(l)||this._createMessageElement(s,a),this._isElementDescribedByMessage(e,l)||this._addMessageReference(e,l)}removeDescription(e,s,a){if(!s||!this._isElementNode(e))return;const l=wR(s,a);if(this._isElementDescribedByMessage(e,l)&&this._removeMessageReference(e,l),"string"==typeof s){const h=Sv.get(l);h&&0===h.referenceCount&&this._deleteMessageElement(l)}xp&&0===xp.childNodes.length&&this._deleteMessagesContainer()}ngOnDestroy(){const e=this._document.querySelectorAll(`[${jI}]`);for(let s=0;s<e.length;s++)this._removeCdkDescribedByReferenceIds(e[s]),e[s].removeAttribute(jI);xp&&this._deleteMessagesContainer(),Sv.clear()}_createMessageElement(e,s){const a=this._document.createElement("div");RY(a),a.textContent=e,s&&a.setAttribute("role",s),this._createMessagesContainer(),xp.appendChild(a),Sv.set(wR(e,s),{messageElement:a,referenceCount:0})}_deleteMessageElement(e){const s=Sv.get(e),a=s&&s.messageElement;xp&&a&&xp.removeChild(a),Sv.delete(e)}_createMessagesContainer(){if(!xp){const e=this._document.getElementById(LY);e&&e.parentNode&&e.parentNode.removeChild(e),xp=this._document.createElement("div"),xp.id=LY,xp.style.visibility="hidden",xp.classList.add("cdk-visually-hidden"),this._document.body.appendChild(xp)}}_deleteMessagesContainer(){xp&&xp.parentNode&&(xp.parentNode.removeChild(xp),xp=null)}_removeCdkDescribedByReferenceIds(e){const s=UI(e,"aria-describedby").filter(a=>0!=a.indexOf(PY));e.setAttribute("aria-describedby",s.join(" "))}_addMessageReference(e,s){const a=Sv.get(s);(function(t,i,e){const s=UI(t,i);s.some(a=>a.trim()==e.trim())||(s.push(e.trim()),t.setAttribute(i,s.join(" ")))})(e,"aria-describedby",a.messageElement.id),e.setAttribute(jI,""),a.referenceCount++}_removeMessageReference(e,s){const a=Sv.get(s);a.referenceCount--,function(t,i,e){const a=UI(t,i).filter(l=>l!=e.trim());a.length?t.setAttribute(i,a.join(" ")):t.removeAttribute(i)}(e,"aria-describedby",a.messageElement.id),e.removeAttribute(jI)}_isElementDescribedByMessage(e,s){const a=UI(e,"aria-describedby"),l=Sv.get(s),h=l&&l.messageElement.id;return!!h&&-1!=a.indexOf(h)}_canBeDescribed(e,s){if(!this._isElementNode(e))return!1;if(s&&"object"==typeof s)return!0;const a=null==s?"":`${s}`.trim(),l=e.getAttribute("aria-label");return!(!a||l&&l.trim()===a)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Ee))},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t((0,o.LFG)(Ee))},token:t,providedIn:"root"}),t})();function wR(t,i){return"string"==typeof t?`${i||""}/${t}`:t}function RY(t){t.id||(t.id=`${PY}-${a$++}`)}class FY{constructor(i){this._items=i,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new li.xQ,this._typeaheadSubscription=Ua.w.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new li.xQ,this.change=new li.xQ,i instanceof o.n_E&&i.changes.subscribe(e=>{if(this._activeItem){const a=e.toArray().indexOf(this._activeItem);a>-1&&a!==this._activeItemIndex&&(this._activeItemIndex=a)}})}skipPredicate(i){return this._skipPredicateFn=i,this}withWrap(i=!0){return this._wrap=i,this}withVerticalOrientation(i=!0){return this._vertical=i,this}withHorizontalOrientation(i){return this._horizontal=i,this}withAllowedModifierKeys(i){return this._allowedModifierKeys=i,this}withTypeAhead(i=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Ga.b)(e=>this._pressedLetters.push(e)),hk(i),T(()=>this._pressedLetters.length>0),(0,Ri.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const s=this._getItemsArray();for(let a=1;a<s.length+1;a++){const l=(this._activeItemIndex+a)%s.length,h=s[l];if(!this._skipPredicateFn(h)&&0===h.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(l);break}}this._pressedLetters=[]}),this}withHomeAndEnd(i=!0){return this._homeAndEnd=i,this}setActiveItem(i){const e=this._activeItem;this.updateActiveItem(i),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(i){const e=i.keyCode,a=["altKey","ctrlKey","metaKey","shiftKey"].every(l=>!i[l]||this._allowedModifierKeys.indexOf(l)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&a){this.setNextItemActive();break}return;case 38:if(this._vertical&&a){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&a){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&a){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&a){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&a){this.setLastItemActive();break}return;default:return void((a||ay(i,"shiftKey"))&&(i.key&&1===i.key.length?this._letterKeyStream.next(i.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],i.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(i){const e=this._getItemsArray(),s="number"==typeof i?i:e.indexOf(i),a=e[s];this._activeItem=null==a?null:a,this._activeItemIndex=s}_setActiveItemByDelta(i){this._wrap?this._setActiveInWrapMode(i):this._setActiveInDefaultMode(i)}_setActiveInWrapMode(i){const e=this._getItemsArray();for(let s=1;s<=e.length;s++){const a=(this._activeItemIndex+i*s+e.length)%e.length;if(!this._skipPredicateFn(e[a]))return void this.setActiveItem(a)}}_setActiveInDefaultMode(i){this._setActiveItemByIndex(this._activeItemIndex+i,i)}_setActiveItemByIndex(i,e){const s=this._getItemsArray();if(s[i]){for(;this._skipPredicateFn(s[i]);)if(!s[i+=e])return;this.setActiveItem(i)}}_getItemsArray(){return this._items instanceof o.n_E?this._items.toArray():this._items}}class l$ extends FY{setActiveItem(i){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(i),this.activeItem&&this.activeItem.setActiveStyles()}}class CR extends FY{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(i){return this._origin=i,this}setActiveItem(i){super.setActiveItem(i),this.activeItem&&this.activeItem.focus(this._origin)}}let NY=(()=>{class t{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const s=function(t){try{return t.frameElement}catch(i){return null}}(function(t){return t.ownerDocument&&t.ownerDocument.defaultView||window}(e));if(s&&(-1===BY(s)||!this.isVisible(s)))return!1;let a=e.nodeName.toLowerCase(),l=BY(e);return e.hasAttribute("contenteditable")?-1!==l:!("iframe"===a||"object"===a||this._platform.WEBKIT&&this._platform.IOS&&!function(t){let i=t.nodeName.toLowerCase(),e="input"===i&&t.type;return"text"===e||"password"===e||"select"===i||"textarea"===i}(e))&&("audio"===a?!!e.hasAttribute("controls")&&-1!==l:"video"===a?-1!==l&&(null!==l||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,s){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){let i=t.nodeName.toLowerCase();return"input"===i||"select"===i||"button"===i||"textarea"===i}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||zY(t))}(e)&&!this.isDisabled(e)&&((null==s?void 0:s.ignoreVisibility)||this.isVisible(e))}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(aa))},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t((0,o.LFG)(aa))},token:t,providedIn:"root"}),t})();function zY(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let i=t.getAttribute("tabindex");return"-32768"!=i&&!(!i||isNaN(parseInt(i,10)))}function BY(t){if(!zY(t))return null;const i=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(i)?-1:i}class v${constructor(i,e,s,a,l=!1){this._element=i,this._checker=e,this._ngZone=s,this._document=a,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,l||this.attachAnchors()}get enabled(){return this._enabled}set enabled(i){this._enabled=i,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(i,this._startAnchor),this._toggleAnchorTabIndex(i,this._endAnchor))}destroy(){const i=this._startAnchor,e=this._endAnchor;i&&(i.removeEventListener("focus",this.startAnchorListener),i.parentNode&&i.parentNode.removeChild(i)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(i=>{this._executeOnStable(()=>i(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(i=>{this._executeOnStable(()=>i(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(i=>{this._executeOnStable(()=>i(this.focusLastTabbableElement()))})}_getRegionBoundary(i){let e=this._element.querySelectorAll(`[cdk-focus-region-${i}], [cdkFocusRegion${i}], [cdk-focus-${i}]`);for(let s=0;s<e.length;s++)e[s].hasAttribute(`cdk-focus-${i}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${i}', use 'cdkFocusRegion${i}' instead. The deprecated attribute will be removed in 8.0.0.`,e[s]):e[s].hasAttribute(`cdk-focus-region-${i}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${i}', use 'cdkFocusRegion${i}' instead. The deprecated attribute will be removed in 8.0.0.`,e[s]);return"start"==i?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const i=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(i){if(i.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",i),!this._checker.isFocusable(i)){const e=this._getFirstTabbableElement(i);return null==e||e.focus(),!!e}return i.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){const i=this._getRegionBoundary("start");return i&&i.focus(),!!i}focusLastTabbableElement(){const i=this._getRegionBoundary("end");return i&&i.focus(),!!i}hasAttached(){return this._hasAttached}_getFirstTabbableElement(i){if(this._checker.isFocusable(i)&&this._checker.isTabbable(i))return i;let e=i.children||i.childNodes;for(let s=0;s<e.length;s++){let a=e[s].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[s]):null;if(a)return a}return null}_getLastTabbableElement(i){if(this._checker.isFocusable(i)&&this._checker.isTabbable(i))return i;let e=i.children||i.childNodes;for(let s=e.length-1;s>=0;s--){let a=e[s].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[s]):null;if(a)return a}return null}_createAnchor(){const i=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,i),i.classList.add("cdk-visually-hidden"),i.classList.add("cdk-focus-trap-anchor"),i.setAttribute("aria-hidden","true"),i}_toggleAnchorTabIndex(i,e){i?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(i){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(i,this._startAnchor),this._toggleAnchorTabIndex(i,this._endAnchor))}_executeOnStable(i){this._ngZone.isStable?i():this._ngZone.onStable.pipe(xe(1)).subscribe(i)}}let YY=(()=>{class t{constructor(e,s,a){this._checker=e,this._ngZone=s,this._document=a}create(e,s=!1){return new v$(e,this._checker,this._ngZone,this._document,s)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(NY),o.LFG(o.R0b),o.LFG(Ee))},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t((0,o.LFG)(NY),(0,o.LFG)(o.R0b),(0,o.LFG)(Ee))},token:t,providedIn:"root"}),t})();"undefined"!=typeof Element&&Element;const HY=new o.OlP("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),VY=new o.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let ZI=(()=>{class t{constructor(e,s,a,l){this._ngZone=s,this._defaultOptions=l,this._document=a,this._liveElement=e||this._createLiveElement()}announce(e,...s){const a=this._defaultOptions;let l,h;return 1===s.length&&"number"==typeof s[0]?h=s[0]:[l,h]=s,this.clear(),clearTimeout(this._previousTimeout),l||(l=a&&a.politeness?a.politeness:"polite"),null==h&&a&&(h=a.duration),this._liveElement.setAttribute("aria-live",l),this._ngZone.runOutsideAngular(()=>new Promise(v=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,v(),"number"==typeof h&&(this._previousTimeout=setTimeout(()=>this.clear(),h))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const e="cdk-live-announcer-element",s=this._document.getElementsByClassName(e),a=this._document.createElement("div");for(let l=0;l<s.length;l++)s[l].parentNode.removeChild(s[l]);return a.classList.add(e),a.classList.add("cdk-visually-hidden"),a.setAttribute("aria-atomic","true"),a.setAttribute("aria-live","polite"),this._document.body.appendChild(a),a}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(HY,8),o.LFG(o.R0b),o.LFG(Ee),o.LFG(VY,8))},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t((0,o.LFG)(HY,8),(0,o.LFG)(o.R0b),(0,o.LFG)(Ee),(0,o.LFG)(VY,8))},token:t,providedIn:"root"}),t})();function MR(t){return 0===t.buttons}function TR(t){const i=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!i||-1!==i.identifier||null!=i.radiusX&&1!==i.radiusX||null!=i.radiusY&&1!==i.radiusY)}const UY=new o.OlP("cdk-focus-monitor-default-options"),kv=Aw({passive:!0,capture:!0});let ly=(()=>{class t{constructor(e,s,a,l){this._ngZone=e,this._platform=s,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=h=>{if(!this._lastTouchTarget){const v=MR(h)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(v)}},this._documentTouchstartListener=h=>{TR(h)?this._lastTouchTarget||this._setOriginForCurrentEventQueue("keyboard"):(null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=GI(h),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650))},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=h=>{const v=GI(h),C="focus"===h.type?this._onFocus:this._onBlur;for(let O=v;O;O=O.parentElement)C.call(this,h,O)},this._document=a,this._detectionMode=(null==l?void 0:l.detectionMode)||0}monitor(e,s=!1){const a=J_(e);if(!this._platform.isBrowser||1!==a.nodeType)return(0,Ai.of)(null);const l=NA(a)||this._getDocument(),h=this._elementInfo.get(a);if(h)return s&&(h.checkChildren=!0),h.subject;const v={checkChildren:s,subject:new li.xQ,rootNode:l};return this._elementInfo.set(a,v),this._registerGlobalListeners(v),v.subject}stopMonitoring(e){const s=J_(e),a=this._elementInfo.get(s);a&&(a.subject.complete(),this._setClasses(s),this._elementInfo.delete(s),this._removeGlobalListeners(a))}focusVia(e,s,a){const l=J_(e);l===this._getDocument().activeElement?this._getClosestElementsInfo(l).forEach(([v,C])=>this._originChanged(v,s,C)):(this._setOriginForCurrentEventQueue(s),"function"==typeof l.focus&&l.focus(a))}ngOnDestroy(){this._elementInfo.forEach((e,s)=>this.stopMonitoring(s))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(e,s,a){a?e.classList.add(s):e.classList.remove(s)}_getFocusOrigin(e){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(e)?"touch":"program"}_setClasses(e,s){this._toggleClass(e,"cdk-focused",!!s),this._toggleClass(e,"cdk-touch-focused","touch"===s),this._toggleClass(e,"cdk-keyboard-focused","keyboard"===s),this._toggleClass(e,"cdk-mouse-focused","mouse"===s),this._toggleClass(e,"cdk-program-focused","program"===s)}_setOriginForCurrentEventQueue(e){this._ngZone.runOutsideAngular(()=>{this._origin=e,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(e){const s=GI(e);return this._lastTouchTarget instanceof Node&&s instanceof Node&&(s===this._lastTouchTarget||s.contains(this._lastTouchTarget))}_onFocus(e,s){const a=this._elementInfo.get(s);!a||!a.checkChildren&&s!==GI(e)||this._originChanged(s,this._getFocusOrigin(e),a)}_onBlur(e,s){const a=this._elementInfo.get(s);!a||a.checkChildren&&e.relatedTarget instanceof Node&&s.contains(e.relatedTarget)||(this._setClasses(s),this._emitOrigin(a.subject,null))}_emitOrigin(e,s){this._ngZone.run(()=>e.next(s))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const s=e.rootNode,a=this._rootNodeFocusListenerCount.get(s)||0;a||this._ngZone.runOutsideAngular(()=>{s.addEventListener("focus",this._rootNodeFocusAndBlurListener,kv),s.addEventListener("blur",this._rootNodeFocusAndBlurListener,kv)}),this._rootNodeFocusListenerCount.set(s,a+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const l=this._getDocument(),h=this._getWindow();l.addEventListener("keydown",this._documentKeydownListener,kv),l.addEventListener("mousedown",this._documentMousedownListener,kv),l.addEventListener("touchstart",this._documentTouchstartListener,kv),h.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(e){const s=e.rootNode;if(this._rootNodeFocusListenerCount.has(s)){const a=this._rootNodeFocusListenerCount.get(s);a>1?this._rootNodeFocusListenerCount.set(s,a-1):(s.removeEventListener("focus",this._rootNodeFocusAndBlurListener,kv),s.removeEventListener("blur",this._rootNodeFocusAndBlurListener,kv),this._rootNodeFocusListenerCount.delete(s))}if(!--this._monitoredElementCount){const a=this._getDocument(),l=this._getWindow();a.removeEventListener("keydown",this._documentKeydownListener,kv),a.removeEventListener("mousedown",this._documentMousedownListener,kv),a.removeEventListener("touchstart",this._documentTouchstartListener,kv),l.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}_originChanged(e,s,a){this._setClasses(e,s),this._emitOrigin(a.subject,s),this._lastFocusOrigin=s}_getClosestElementsInfo(e){const s=[];return this._elementInfo.forEach((a,l)=>{(l===e||a.checkChildren&&l.contains(e))&&s.push([l,a])}),s}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(o.R0b),o.LFG(aa),o.LFG(Ee,8),o.LFG(UY,8))},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t((0,o.LFG)(o.R0b),(0,o.LFG)(aa),(0,o.LFG)(Ee,8),(0,o.LFG)(UY,8))},token:t,providedIn:"root"}),t})();function GI(t){return t.composedPath?t.composedPath()[0]:t.target}const jY="cdk-high-contrast-black-on-white",ZY="cdk-high-contrast-white-on-black",SR="cdk-high-contrast-active";let GY=(()=>{class t{constructor(e,s){this._platform=e,this._document=s}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const s=this._document.defaultView||window,a=s&&s.getComputedStyle?s.getComputedStyle(e):null,l=(a&&a.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(e),l){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(SR),e.remove(jY),e.remove(ZY);const s=this.getHighContrastMode();1===s?(e.add(SR),e.add(jY)):2===s&&(e.add(SR),e.add(ZY))}}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(aa),o.LFG(Ee))},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t((0,o.LFG)(aa),(0,o.LFG)(Ee))},token:t,providedIn:"root"}),t})(),WY=(()=>{class t{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(GY))},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[bb,xR]]}),t})();const qY=new o.GfV("11.2.13");function $Y(){return"undefined"!=typeof window&&void 0!==window.document}function kR(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function K0(t){switch(t.length){case 0:return new V0;case 1:return t[0];default:return new SA(t)}}function QY(t,i,e,s,a={},l={}){const h=[],v=[];let C=-1,O=null;if(s.forEach(G=>{const te=G.offset,pe=te==C,we=pe&&O||{};Object.keys(G).forEach(Le=>{let je=Le,tt=G[Le];if("offset"!==Le)switch(je=i.normalizePropertyName(je,h),tt){case"!":tt=a[Le];break;case Q_:tt=l[Le];break;default:tt=i.normalizeStyleValue(Le,je,tt,h)}we[je]=tt}),pe||v.push(we),O=we,C=te}),h.length){const G="\n - ";throw new Error(`Unable to animate due to the following errors:${G}${h.join(G)}`)}return v}function ER(t,i,e,s){switch(i){case"start":t.onStart(()=>s(e&&DR(e,"start",t)));break;case"done":t.onDone(()=>s(e&&DR(e,"done",t)));break;case"destroy":t.onDestroy(()=>s(e&&DR(e,"destroy",t)))}}function DR(t,i,e){const s=e.totalTime,l=AR(t.element,t.triggerName,t.fromState,t.toState,i||t.phaseName,null==s?t.totalTime:s,!!e.disabled),h=t._data;return null!=h&&(l._data=h),l}function AR(t,i,e,s,a="",l=0,h){return{element:t,triggerName:i,fromState:e,toState:s,phaseName:a,totalTime:l,disabled:!!h}}function tg(t,i,e){let s;return t instanceof Map?(s=t.get(i),s||t.set(i,s=e)):(s=t[i],s||(s=t[i]=e)),s}function XY(t){const i=t.indexOf(":");return[t.substring(1,i),t.substr(i+1)]}let IR=(t,i)=>!1,LR=(t,i)=>!1,JY=(t,i,e)=>[];const KY=kR();(KY||"undefined"!=typeof Element)&&(IR=$Y()?(t,i)=>{for(;i&&i!==document.documentElement;){if(i===t)return!0;i=i.parentNode||i.host}return!1}:(t,i)=>t.contains(i),LR=(()=>{if(KY||Element.prototype.matches)return(t,i)=>t.matches(i);{const t=Element.prototype,i=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return i?(e,s)=>i.apply(e,[s]):LR}})(),JY=(t,i,e)=>{let s=[];if(e){const a=t.querySelectorAll(i);for(let l=0;l<a.length;l++)s.push(a[l])}else{const a=t.querySelector(i);a&&s.push(a)}return s});let Xw=null,e6=!1;function PR(t){Xw||(Xw=("undefined"!=typeof document?document.body:null)||{},e6=!!Xw.style&&"WebkitAppearance"in Xw.style);let i=!0;return Xw.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(i=t in Xw.style,!i&&e6&&(i="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Xw.style)),i}const OR=LR,RR=IR,FR=JY;function t6(t){const i={};return Object.keys(t).forEach(e=>{const s=e.replace(/([a-z])([A-Z])/g,"$1-$2");i[s]=t[e]}),i}let n6=(()=>{class t{validateStyleProperty(e){return PR(e)}matchesElement(e,s){return OR(e,s)}containsElement(e,s){return RR(e,s)}query(e,s,a){return FR(e,s,a)}computeStyle(e,s,a){return a||""}animate(e,s,a,l,h,v=[],C){return new V0(a,l)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();class WI{}WI.NOOP=new n6;const NR="ng-enter",qI="ng-leave",$I="ng-trigger",QI=".ng-trigger",s6="ng-animating",zR=".ng-animating";function Jw(t){if("number"==typeof t)return t;const i=t.match(/^(-?[\.\d]+)(m?s)/);return!i||i.length<2?0:BR(parseFloat(i[1]),i[2])}function BR(t,i){switch(i){case"s":return 1e3*t;default:return t}}function XI(t,i,e){return t.hasOwnProperty("duration")?t:function(t,i,e){let a,l=0,h="";if("string"==typeof t){const v=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===v)return i.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};a=BR(parseFloat(v[1]),v[2]);const C=v[3];null!=C&&(l=BR(parseFloat(C),v[4]));const O=v[5];O&&(h=O)}else a=t;if(!e){let v=!1,C=i.length;a<0&&(i.push("Duration values below 0 are not allowed for this animation step."),v=!0),l<0&&(i.push("Delay values below 0 are not allowed for this animation step."),v=!0),v&&i.splice(C,0,`The provided timing value "${t}" is invalid.`)}return{duration:a,delay:l,easing:h}}(t,i,e)}function eM(t,i={}){return Object.keys(t).forEach(e=>{i[e]=t[e]}),i}function ex(t,i,e={}){if(i)for(let s in t)e[s]=t[s];else eM(t,e);return e}function a6(t,i,e){return e?i+":"+e+";":""}function l6(t){let i="";for(let e=0;e<t.style.length;e++){const s=t.style.item(e);i+=a6(0,s,t.style.getPropertyValue(s))}for(const e in t.style)t.style.hasOwnProperty(e)&&!e.startsWith("_")&&(i+=a6(0,P$(e),t.style[e]));t.setAttribute("style",i)}function Ev(t,i,e){t.style&&(Object.keys(i).forEach(s=>{const a=HR(s);e&&!e.hasOwnProperty(s)&&(e[s]=t.style[a]),t.style[a]=i[s]}),kR()&&l6(t))}function Kw(t,i){t.style&&(Object.keys(i).forEach(e=>{const s=HR(e);t.style[s]=""}),kR()&&l6(t))}function pk(t){return Array.isArray(t)?1==t.length?t[0]:dS(t):t}const YR=new RegExp("{{\\s*(.+?)\\s*}}","g");function c6(t){let i=[];if("string"==typeof t){let e;for(;e=YR.exec(t);)i.push(e[1]);YR.lastIndex=0}return i}function JI(t,i,e){const s=t.toString(),a=s.replace(YR,(l,h)=>{let v=i[h];return i.hasOwnProperty(h)||(e.push(`Please provide a value for the animation param ${h}`),v=""),v.toString()});return a==s?t:a}function KI(t){const i=[];let e=t.next();for(;!e.done;)i.push(e.value),e=t.next();return i}const L$=/-+([a-z0-9])/g;function HR(t){return t.replace(L$,(...i)=>i[1].toUpperCase())}function P$(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function u6(t,i){return 0===t||0===i}function d6(t,i,e){const s=Object.keys(e);if(s.length&&i.length){let l=i[0],h=[];if(s.forEach(v=>{l.hasOwnProperty(v)||h.push(v),l[v]=e[v]}),h.length)for(var a=1;a<i.length;a++){let v=i[a];h.forEach(function(C){v[C]=VR(t,C)})}}return i}function ng(t,i,e){switch(i.type){case 7:return t.visitTrigger(i,e);case 0:return t.visitState(i,e);case 1:return t.visitTransition(i,e);case 2:return t.visitSequence(i,e);case 3:return t.visitGroup(i,e);case 4:return t.visitAnimate(i,e);case 5:return t.visitKeyframes(i,e);case 6:return t.visitStyle(i,e);case 8:return t.visitReference(i,e);case 9:return t.visitAnimateChild(i,e);case 10:return t.visitAnimateRef(i,e);case 11:return t.visitQuery(i,e);case 12:return t.visitStagger(i,e);default:throw new Error(`Unable to resolve animation metadata node #${i.type}`)}}function VR(t,i){return window.getComputedStyle(t)[i]}function O$(t,i){const e=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(s=>function(t,i,e){if(":"==t[0]){const C=function(t,i){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,s)=>parseFloat(s)>parseFloat(e);case":decrement":return(e,s)=>parseFloat(s)<parseFloat(e);default:return i.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,e);if("function"==typeof C)return void i.push(C);t=C}const s=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==s||s.length<4)return e.push(`The provided transition expression "${t}" is not supported`),i;const a=s[1],l=s[2],h=s[3];i.push(h6(a,h));"<"==l[0]&&!("*"==a&&"*"==h)&&i.push(h6(h,a))}(s,e,i)):e.push(t),e}const tL=new Set(["true","1"]),nL=new Set(["false","0"]);function h6(t,i){const e=tL.has(t)||nL.has(t),s=tL.has(i)||nL.has(i);return(a,l)=>{let h="*"==t||t==a,v="*"==i||i==l;return!h&&e&&"boolean"==typeof a&&(h=a?tL.has(t):nL.has(t)),!v&&s&&"boolean"==typeof l&&(v=l?tL.has(i):nL.has(i)),h&&v}}const N$=new RegExp("s*:selfs*,?","g");function UR(t,i,e){return new z$(t).build(i,e)}class z${constructor(i){this._driver=i}build(i,e){const s=new H$(e);return this._resetContextStyleTimingState(s),ng(this,pk(i),s)}_resetContextStyleTimingState(i){i.currentQuerySelector="",i.collectedStyles={},i.collectedStyles[""]={},i.currentTime=0}visitTrigger(i,e){let s=e.queryCount=0,a=e.depCount=0;const l=[],h=[];return"@"==i.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),i.definitions.forEach(v=>{if(this._resetContextStyleTimingState(e),0==v.type){const C=v,O=C.name;O.toString().split(/\s*,\s*/).forEach(G=>{C.name=G,l.push(this.visitState(C,e))}),C.name=O}else if(1==v.type){const C=this.visitTransition(v,e);s+=C.queryCount,a+=C.depCount,h.push(C)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:i.name,states:l,transitions:h,queryCount:s,depCount:a,options:null}}visitState(i,e){const s=this.visitStyle(i.styles,e),a=i.options&&i.options.params||null;if(s.containsDynamicStyles){const l=new Set,h=a||{};if(s.styles.forEach(v=>{if(iL(v)){const C=v;Object.keys(C).forEach(O=>{c6(C[O]).forEach(G=>{h.hasOwnProperty(G)||l.add(G)})})}}),l.size){const v=KI(l.values());e.errors.push(`state("${i.name}", ...) must define default values for all the following style substitutions: ${v.join(", ")}`)}}return{type:0,name:i.name,style:s,options:a?{params:a}:null}}visitTransition(i,e){e.queryCount=0,e.depCount=0;const s=ng(this,pk(i.animation),e);return{type:1,matchers:O$(i.expr,e.errors),animation:s,queryCount:e.queryCount,depCount:e.depCount,options:e1(i.options)}}visitSequence(i,e){return{type:2,steps:i.steps.map(s=>ng(this,s,e)),options:e1(i.options)}}visitGroup(i,e){const s=e.currentTime;let a=0;const l=i.steps.map(h=>{e.currentTime=s;const v=ng(this,h,e);return a=Math.max(a,e.currentTime),v});return e.currentTime=a,{type:3,steps:l,options:e1(i.options)}}visitAnimate(i,e){const s=function(t,i){let e=null;if(t.hasOwnProperty("duration"))e=t;else if("number"==typeof t)return jR(XI(t,i).duration,0,"");const s=t;if(s.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=jR(0,0,"");return l.dynamic=!0,l.strValue=s,l}return e=e||XI(s,i),jR(e.duration,e.delay,e.easing)}(i.timings,e.errors);e.currentAnimateTimings=s;let a,l=i.styles?i.styles:oi({});if(5==l.type)a=this.visitKeyframes(l,e);else{let h=i.styles,v=!1;if(!h){v=!0;const O={};s.easing&&(O.easing=s.easing),h=oi(O)}e.currentTime+=s.duration+s.delay;const C=this.visitStyle(h,e);C.isEmptyStep=v,a=C}return e.currentAnimateTimings=null,{type:4,timings:s,style:a,options:null}}visitStyle(i,e){const s=this._makeStyleAst(i,e);return this._validateStyleAst(s,e),s}_makeStyleAst(i,e){const s=[];Array.isArray(i.styles)?i.styles.forEach(h=>{"string"==typeof h?h==Q_?s.push(h):e.errors.push(`The provided style string value ${h} is not allowed.`):s.push(h)}):s.push(i.styles);let a=!1,l=null;return s.forEach(h=>{if(iL(h)){const v=h,C=v.easing;if(C&&(l=C,delete v.easing),!a)for(let O in v)if(v[O].toString().indexOf("{{")>=0){a=!0;break}}}),{type:6,styles:s,easing:l,offset:i.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(i,e){const s=e.currentAnimateTimings;let a=e.currentTime,l=e.currentTime;s&&l>0&&(l-=s.duration+s.delay),i.styles.forEach(h=>{"string"!=typeof h&&Object.keys(h).forEach(v=>{if(!this._driver.validateStyleProperty(v))return void e.errors.push(`The provided animation property "${v}" is not a supported CSS property for animations`);const C=e.collectedStyles[e.currentQuerySelector],O=C[v];let G=!0;O&&(l!=a&&l>=O.startTime&&a<=O.endTime&&(e.errors.push(`The CSS property "${v}" that exists between the times of "${O.startTime}ms" and "${O.endTime}ms" is also being animated in a parallel animation between the times of "${l}ms" and "${a}ms"`),G=!1),l=O.startTime),G&&(C[v]={startTime:l,endTime:a}),e.options&&function(t,i,e){const s=i.params||{},a=c6(t);a.length&&a.forEach(l=>{s.hasOwnProperty(l)||e.push(`Unable to resolve the local animation param ${l} in the given list of values`)})}(h[v],e.options,e.errors)})})}visitKeyframes(i,e){const s={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),s;let l=0;const h=[];let v=!1,C=!1,O=0;const G=i.steps.map(yt=>{const Zt=this._makeStyleAst(yt,e);let tn=null!=Zt.offset?Zt.offset:function(t){if("string"==typeof t)return null;let i=null;if(Array.isArray(t))t.forEach(e=>{if(iL(e)&&e.hasOwnProperty("offset")){const s=e;i=parseFloat(s.offset),delete s.offset}});else if(iL(t)&&t.hasOwnProperty("offset")){const e=t;i=parseFloat(e.offset),delete e.offset}return i}(Zt.styles),gn=0;return null!=tn&&(l++,gn=Zt.offset=tn),C=C||gn<0||gn>1,v=v||gn<O,O=gn,h.push(gn),Zt});C&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),v&&e.errors.push("Please ensure that all keyframe offsets are in order");const te=i.steps.length;let pe=0;l>0&&l<te?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==l&&(pe=1/(te-1));const we=te-1,Le=e.currentTime,je=e.currentAnimateTimings,tt=je.duration;return G.forEach((yt,Zt)=>{const tn=pe>0?Zt==we?1:pe*Zt:h[Zt],gn=tn*tt;e.currentTime=Le+je.delay+gn,je.duration=gn,this._validateStyleAst(yt,e),yt.offset=tn,s.styles.push(yt)}),s}visitReference(i,e){return{type:8,animation:ng(this,pk(i.animation),e),options:e1(i.options)}}visitAnimateChild(i,e){return e.depCount++,{type:9,options:e1(i.options)}}visitAnimateRef(i,e){return{type:10,animation:this.visitReference(i.animation,e),options:e1(i.options)}}visitQuery(i,e){const s=e.currentQuerySelector,a=i.options||{};e.queryCount++,e.currentQuery=i;const[l,h]=function(t){const i=!!t.split(/\s*,\s*/).find(e=>":self"==e);return i&&(t=t.replace(N$,"")),[t=t.replace(/@\*/g,QI).replace(/@\w+/g,e=>QI+"-"+e.substr(1)).replace(/:animating/g,zR),i]}(i.selector);e.currentQuerySelector=s.length?s+" "+l:l,tg(e.collectedStyles,e.currentQuerySelector,{});const v=ng(this,pk(i.animation),e);return e.currentQuery=null,e.currentQuerySelector=s,{type:11,selector:l,limit:a.limit||0,optional:!!a.optional,includeSelf:h,animation:v,originalSelector:i.selector,options:e1(i.options)}}visitStagger(i,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const s="full"===i.timings?{duration:0,delay:0,easing:"full"}:XI(i.timings,e.errors,!0);return{type:12,animation:ng(this,pk(i.animation),e),timings:s,options:null}}}class H${constructor(i){this.errors=i,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function iL(t){return!Array.isArray(t)&&"object"==typeof t}function e1(t){return t?(t=eM(t)).params&&(t.params=function(t){return t?eM(t):null}(t.params)):t={},t}function jR(t,i,e){return{duration:t,delay:i,easing:e}}function ZR(t,i,e,s,a,l,h=null,v=!1){return{type:1,element:t,keyframes:i,preStyleProps:e,postStyleProps:s,duration:a,delay:l,totalTime:a+l,easing:h,subTimeline:v}}class rL{constructor(){this._map=new Map}consume(i){let e=this._map.get(i);return e?this._map.delete(i):e=[],e}append(i,e){let s=this._map.get(i);s||this._map.set(i,s=[]),s.push(...e)}has(i){return this._map.has(i)}clear(){this._map.clear()}}const G$=new RegExp(":enter","g"),q$=new RegExp(":leave","g");function GR(t,i,e,s,a,l={},h={},v,C,O=[]){return(new $$).buildKeyframes(t,i,e,s,a,l,h,v,C,O)}class $${buildKeyframes(i,e,s,a,l,h,v,C,O,G=[]){O=O||new rL;const te=new WR(i,e,O,a,l,G,[]);te.options=C,te.currentTimeline.setStyles([h],null,te.errors,C),ng(this,s,te);const pe=te.timelines.filter(we=>we.containsAnimation());if(pe.length&&Object.keys(v).length){const we=pe[pe.length-1];we.allowOnlyTimelineStyles()||we.setStyles([v],null,te.errors,C)}return pe.length?pe.map(we=>we.buildKeyframes()):[ZR(e,[],[],[],0,0,"",!1)]}visitTrigger(i,e){}visitState(i,e){}visitTransition(i,e){}visitAnimateChild(i,e){const s=e.subInstructions.consume(e.element);if(s){const a=e.createSubContext(i.options),l=e.currentTimeline.currentTime,h=this._visitSubInstructions(s,a,a.options);l!=h&&e.transformIntoNewTimeline(h)}e.previousNode=i}visitAnimateRef(i,e){const s=e.createSubContext(i.options);s.transformIntoNewTimeline(),this.visitReference(i.animation,s),e.transformIntoNewTimeline(s.currentTimeline.currentTime),e.previousNode=i}_visitSubInstructions(i,e,s){let l=e.currentTimeline.currentTime;const h=null!=s.duration?Jw(s.duration):null,v=null!=s.delay?Jw(s.delay):null;return 0!==h&&i.forEach(C=>{const O=e.appendInstructionToTimeline(C,h,v);l=Math.max(l,O.duration+O.delay)}),l}visitReference(i,e){e.updateOptions(i.options,!0),ng(this,i.animation,e),e.previousNode=i}visitSequence(i,e){const s=e.subContextCount;let a=e;const l=i.options;if(l&&(l.params||l.delay)&&(a=e.createSubContext(l),a.transformIntoNewTimeline(),null!=l.delay)){6==a.previousNode.type&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=sL);const h=Jw(l.delay);a.delayNextStep(h)}i.steps.length&&(i.steps.forEach(h=>ng(this,h,a)),a.currentTimeline.applyStylesToKeyframe(),a.subContextCount>s&&a.transformIntoNewTimeline()),e.previousNode=i}visitGroup(i,e){const s=[];let a=e.currentTimeline.currentTime;const l=i.options&&i.options.delay?Jw(i.options.delay):0;i.steps.forEach(h=>{const v=e.createSubContext(i.options);l&&v.delayNextStep(l),ng(this,h,v),a=Math.max(a,v.currentTimeline.currentTime),s.push(v.currentTimeline)}),s.forEach(h=>e.currentTimeline.mergeTimelineCollectedStyles(h)),e.transformIntoNewTimeline(a),e.previousNode=i}_visitTiming(i,e){if(i.dynamic){const s=i.strValue;return XI(e.params?JI(s,e.params,e.errors):s,e.errors)}return{duration:i.duration,delay:i.delay,easing:i.easing}}visitAnimate(i,e){const s=e.currentAnimateTimings=this._visitTiming(i.timings,e),a=e.currentTimeline;s.delay&&(e.incrementTime(s.delay),a.snapshotCurrentStyles());const l=i.style;5==l.type?this.visitKeyframes(l,e):(e.incrementTime(s.duration),this.visitStyle(l,e),a.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=i}visitStyle(i,e){const s=e.currentTimeline,a=e.currentAnimateTimings;!a&&s.getCurrentStyleProperties().length&&s.forwardFrame();const l=a&&a.easing||i.easing;i.isEmptyStep?s.applyEmptyStep(l):s.setStyles(i.styles,l,e.errors,e.options),e.previousNode=i}visitKeyframes(i,e){const s=e.currentAnimateTimings,a=e.currentTimeline.duration,l=s.duration,v=e.createSubContext().currentTimeline;v.easing=s.easing,i.styles.forEach(C=>{v.forwardTime((C.offset||0)*l),v.setStyles(C.styles,C.easing,e.errors,e.options),v.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(v),e.transformIntoNewTimeline(a+l),e.previousNode=i}visitQuery(i,e){const s=e.currentTimeline.currentTime,a=i.options||{},l=a.delay?Jw(a.delay):0;l&&(6===e.previousNode.type||0==s&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=sL);let h=s;const v=e.invokeQuery(i.selector,i.originalSelector,i.limit,i.includeSelf,!!a.optional,e.errors);e.currentQueryTotal=v.length;let C=null;v.forEach((O,G)=>{e.currentQueryIndex=G;const te=e.createSubContext(i.options,O);l&&te.delayNextStep(l),O===e.element&&(C=te.currentTimeline),ng(this,i.animation,te),te.currentTimeline.applyStylesToKeyframe(),h=Math.max(h,te.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(h),C&&(e.currentTimeline.mergeTimelineCollectedStyles(C),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=i}visitStagger(i,e){const s=e.parentContext,a=e.currentTimeline,l=i.timings,h=Math.abs(l.duration),v=h*(e.currentQueryTotal-1);let C=h*e.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":C=v-C;break;case"full":C=s.currentStaggerTime}const G=e.currentTimeline;C&&G.delayNextStep(C);const te=G.currentTime;ng(this,i.animation,e),e.previousNode=i,s.currentStaggerTime=a.currentTime-te+(a.startTime-s.currentTimeline.startTime)}}const sL={};class WR{constructor(i,e,s,a,l,h,v,C){this._driver=i,this.element=e,this.subInstructions=s,this._enterClassName=a,this._leaveClassName=l,this.errors=h,this.timelines=v,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=sL,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=C||new oL(this._driver,e,0),v.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(i,e){if(!i)return;const s=i;let a=this.options;null!=s.duration&&(a.duration=Jw(s.duration)),null!=s.delay&&(a.delay=Jw(s.delay));const l=s.params;if(l){let h=a.params;h||(h=this.options.params={}),Object.keys(l).forEach(v=>{(!e||!h.hasOwnProperty(v))&&(h[v]=JI(l[v],h,this.errors))})}}_copyOptions(){const i={};if(this.options){const e=this.options.params;if(e){const s=i.params={};Object.keys(e).forEach(a=>{s[a]=e[a]})}}return i}createSubContext(i=null,e,s){const a=e||this.element,l=new WR(this._driver,a,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(a,s||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(i),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(i){return this.previousNode=sL,this.currentTimeline=this.currentTimeline.fork(this.element,i),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(i,e,s){const a={duration:null!=e?e:i.duration,delay:this.currentTimeline.currentTime+(null!=s?s:0)+i.delay,easing:""},l=new Q$(this._driver,i.element,i.keyframes,i.preStyleProps,i.postStyleProps,a,i.stretchStartingKeyframe);return this.timelines.push(l),a}incrementTime(i){this.currentTimeline.forwardTime(this.currentTimeline.duration+i)}delayNextStep(i){i>0&&this.currentTimeline.delayNextStep(i)}invokeQuery(i,e,s,a,l,h){let v=[];if(a&&v.push(this.element),i.length>0){i=(i=i.replace(G$,"."+this._enterClassName)).replace(q$,"."+this._leaveClassName);let O=this._driver.query(this.element,i,1!=s);0!==s&&(O=s<0?O.slice(O.length+s,O.length):O.slice(0,s)),v.push(...O)}return!l&&0==v.length&&h.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),v}}class oL{constructor(i,e,s,a){this._driver=i,this.element=e,this.startTime=s,this._elementTimelineStylesLookup=a,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(i){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+i),e&&this.snapshotCurrentStyles()):this.startTime+=i}fork(i,e){return this.applyStylesToKeyframe(),new oL(this._driver,i,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(i){this.applyStylesToKeyframe(),this.duration=i,this._loadKeyframe()}_updateStyle(i,e){this._localTimelineStyles[i]=e,this._globalTimelineStyles[i]=e,this._styleSummary[i]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(i){i&&(this._previousKeyframe.easing=i),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Q_,this._currentKeyframe[e]=Q_}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(i,e,s,a){e&&(this._previousKeyframe.easing=e);const l=a&&a.params||{},h=function(t,i){const e={};let s;return t.forEach(a=>{"*"===a?(s=s||Object.keys(i),s.forEach(l=>{e[l]=Q_})):ex(a,!1,e)}),e}(i,this._globalTimelineStyles);Object.keys(h).forEach(v=>{const C=JI(h[v],l,s);this._pendingStyles[v]=C,this._localTimelineStyles.hasOwnProperty(v)||(this._backFill[v]=this._globalTimelineStyles.hasOwnProperty(v)?this._globalTimelineStyles[v]:Q_),this._updateStyle(v,C)})}applyStylesToKeyframe(){const i=this._pendingStyles,e=Object.keys(i);0!=e.length&&(this._pendingStyles={},e.forEach(s=>{this._currentKeyframe[s]=i[s]}),Object.keys(this._localTimelineStyles).forEach(s=>{this._currentKeyframe.hasOwnProperty(s)||(this._currentKeyframe[s]=this._localTimelineStyles[s])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(i=>{const e=this._localTimelineStyles[i];this._pendingStyles[i]=e,this._updateStyle(i,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const i=[];for(let e in this._currentKeyframe)i.push(e);return i}mergeTimelineCollectedStyles(i){Object.keys(i._styleSummary).forEach(e=>{const s=this._styleSummary[e],a=i._styleSummary[e];(!s||a.time>s.time)&&this._updateStyle(e,a.value)})}buildKeyframes(){this.applyStylesToKeyframe();const i=new Set,e=new Set,s=1===this._keyframes.size&&0===this.duration;let a=[];this._keyframes.forEach((v,C)=>{const O=ex(v,!0);Object.keys(O).forEach(G=>{const te=O[G];"!"==te?i.add(G):te==Q_&&e.add(G)}),s||(O.offset=C/this.duration),a.push(O)});const l=i.size?KI(i.values()):[],h=e.size?KI(e.values()):[];if(s){const v=a[0],C=eM(v);v.offset=0,C.offset=1,a=[v,C]}return ZR(this.element,a,l,h,this.duration,this.startTime,this.easing,!1)}}class Q$ extends oL{constructor(i,e,s,a,l,h,v=!1){super(i,e,h.delay),this.keyframes=s,this.preStyleProps=a,this.postStyleProps=l,this._stretchStartingKeyframe=v,this.timings={duration:h.duration,delay:h.delay,easing:h.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let i=this.keyframes,{delay:e,duration:s,easing:a}=this.timings;if(this._stretchStartingKeyframe&&e){const l=[],h=s+e,v=e/h,C=ex(i[0],!1);C.offset=0,l.push(C);const O=ex(i[0],!1);O.offset=m6(v),l.push(O);const G=i.length-1;for(let te=1;te<=G;te++){let pe=ex(i[te],!1);pe.offset=m6((e+pe.offset*s)/h),l.push(pe)}s=h,e=0,a="",i=l}return ZR(this.element,i,this.preStyleProps,this.postStyleProps,s,e,a,!0)}}function m6(t,i=3){const e=Math.pow(10,i-1);return Math.round(t*e)/e}class qR{}class J$ extends qR{normalizePropertyName(i,e){return HR(i)}normalizeStyleValue(i,e,s,a){let l="";const h=s.toString().trim();if(K$[e]&&0!==s&&"0"!==s)if("number"==typeof s)l="px";else{const v=s.match(/^[+-]?[\d\.]+([a-z]*)$/);v&&0==v[1].length&&a.push(`Please provide a CSS unit value for ${i}:${s}`)}return h+l}}const K$=(()=>function(t){const i={};return t.forEach(e=>i[e]=!0),i}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function g6(t,i,e,s,a,l,h,v,C,O,G,te,pe){return{type:0,element:t,triggerName:i,isRemovalTransition:a,fromState:e,fromStyles:l,toState:s,toStyles:h,timelines:v,queriedElements:C,preStyleProps:O,postStyleProps:G,totalTime:te,errors:pe}}const $R={};class _6{constructor(i,e,s){this._triggerName=i,this.ast=e,this._stateStyles=s}match(i,e,s,a){return function(t,i,e,s,a){return t.some(l=>l(i,e,s,a))}(this.ast.matchers,i,e,s,a)}buildStyles(i,e,s){const a=this._stateStyles["*"],l=this._stateStyles[i],h=a?a.buildStyles(e,s):{};return l?l.buildStyles(e,s):h}build(i,e,s,a,l,h,v,C,O,G){const te=[],pe=this.ast.options&&this.ast.options.params||$R,Le=this.buildStyles(s,v&&v.params||$R,te),je=C&&C.params||$R,tt=this.buildStyles(a,je,te),yt=new Set,Zt=new Map,tn=new Map,gn="void"===a,pn={params:Object.assign(Object.assign({},pe),je)},qn=G?[]:GR(i,e,this.ast.animation,l,h,Le,tt,pn,O,te);let si=0;if(qn.forEach(Ii=>{si=Math.max(Ii.duration+Ii.delay,si)}),te.length)return g6(e,this._triggerName,s,a,gn,Le,tt,[],[],Zt,tn,si,te);qn.forEach(Ii=>{const xs=Ii.element,ro=tg(Zt,xs,{});Ii.preStyleProps.forEach(xl=>ro[xl]=!0);const so=tg(tn,xs,{});Ii.postStyleProps.forEach(xl=>so[xl]=!0),xs!==e&&yt.add(xs)});const Li=KI(yt.values());return g6(e,this._triggerName,s,a,gn,Le,tt,qn,Li,Zt,tn,si)}}class nQ{constructor(i,e,s){this.styles=i,this.defaultParams=e,this.normalizer=s}buildStyles(i,e){const s={},a=eM(this.defaultParams);return Object.keys(i).forEach(l=>{const h=i[l];null!=h&&(a[l]=h)}),this.styles.styles.forEach(l=>{if("string"!=typeof l){const h=l;Object.keys(h).forEach(v=>{let C=h[v];C.length>1&&(C=JI(C,a,e));const O=this.normalizer.normalizePropertyName(v,e);C=this.normalizer.normalizeStyleValue(v,O,C,e),s[O]=C})}}),s}}class rQ{constructor(i,e,s){this.name=i,this.ast=e,this._normalizer=s,this.transitionFactories=[],this.states={},e.states.forEach(a=>{this.states[a.name]=new nQ(a.style,a.options&&a.options.params||{},s)}),y6(this.states,"true","1"),y6(this.states,"false","0"),e.transitions.forEach(a=>{this.transitionFactories.push(new _6(i,a,this.states))}),this.fallbackTransition=function(t,i,e){return new _6(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(h,v)=>!0],options:null,queryCount:0,depCount:0},i)}(i,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(i,e,s,a){return this.transitionFactories.find(h=>h.match(i,e,s,a))||null}matchStyles(i,e,s){return this.fallbackTransition.buildStyles(i,e,s)}}function y6(t,i,e){t.hasOwnProperty(i)?t.hasOwnProperty(e)||(t[e]=t[i]):t.hasOwnProperty(e)&&(t[i]=t[e])}const oQ=new rL;class aQ{constructor(i,e,s){this.bodyNode=i,this._driver=e,this._normalizer=s,this._animations={},this._playersById={},this.players=[]}register(i,e){const s=[],a=UR(this._driver,e,s);if(s.length)throw new Error(`Unable to build the animation due to the following errors: ${s.join("\n")}`);this._animations[i]=a}_buildPlayer(i,e,s){const a=i.element,l=QY(0,this._normalizer,0,i.keyframes,e,s);return this._driver.animate(a,l,i.duration,i.delay,i.easing,[],!0)}create(i,e,s={}){const a=[],l=this._animations[i];let h;const v=new Map;if(l?(h=GR(this._driver,e,l,NR,qI,{},{},s,oQ,a),h.forEach(G=>{const te=tg(v,G.element,{});G.postStyleProps.forEach(pe=>te[pe]=null)})):(a.push("The requested animation doesn't exist or has already been destroyed"),h=[]),a.length)throw new Error(`Unable to create the animation due to the following errors: ${a.join("\n")}`);v.forEach((G,te)=>{Object.keys(G).forEach(pe=>{G[pe]=this._driver.computeStyle(te,pe,Q_)})});const O=K0(h.map(G=>{const te=v.get(G.element);return this._buildPlayer(G,{},te)}));return this._playersById[i]=O,O.onDestroy(()=>this.destroy(i)),this.players.push(O),O}destroy(i){const e=this._getPlayer(i);e.destroy(),delete this._playersById[i];const s=this.players.indexOf(e);s>=0&&this.players.splice(s,1)}_getPlayer(i){const e=this._playersById[i];if(!e)throw new Error(`Unable to find the timeline player referenced by ${i}`);return e}listen(i,e,s,a){const l=AR(e,"","","");return ER(this._getPlayer(i),s,l,a),()=>{}}command(i,e,s,a){if("register"==s)return void this.register(i,a[0]);if("create"==s)return void this.create(i,e,a[0]||{});const l=this._getPlayer(i);switch(s){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(a[0]));break;case"destroy":this.destroy(i)}}}const v6="ng-animate-queued",b6="ng-animate-disabled",x6=".ng-animate-disabled",dQ=[],w6={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},hQ={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Jg="__ng_removed";class QR{constructor(i,e=""){this.namespaceId=e;const s=i&&i.hasOwnProperty("value");if(this.value=function(t){return null!=t?t:null}(s?i.value:i),s){const l=eM(i);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(i){const e=i.params;if(e){const s=this.options.params;Object.keys(e).forEach(a=>{null==s[a]&&(s[a]=e[a])})}}}const fk="void",XR=new QR(fk);class pQ{constructor(i,e,s){this.id=i,this.hostElement=e,this._engine=s,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+i,Kg(e,this._hostClassName)}listen(i,e,s,a){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${s}" because the animation trigger "${e}" doesn't exist!`);if(null==s||0==s.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if(!function(t){return"start"==t||"done"==t}(s))throw new Error(`The provided animation trigger event "${s}" for the animation trigger "${e}" is not supported!`);const l=tg(this._elementListeners,i,[]),h={name:e,phase:s,callback:a};l.push(h);const v=tg(this._engine.statesByElement,i,{});return v.hasOwnProperty(e)||(Kg(i,$I),Kg(i,$I+"-"+e),v[e]=XR),()=>{this._engine.afterFlush(()=>{const C=l.indexOf(h);C>=0&&l.splice(C,1),this._triggers[e]||delete v[e]})}}register(i,e){return!this._triggers[i]&&(this._triggers[i]=e,!0)}_getTrigger(i){const e=this._triggers[i];if(!e)throw new Error(`The provided animation trigger "${i}" has not been registered!`);return e}trigger(i,e,s,a=!0){const l=this._getTrigger(e),h=new JR(this.id,e,i);let v=this._engine.statesByElement.get(i);v||(Kg(i,$I),Kg(i,$I+"-"+e),this._engine.statesByElement.set(i,v={}));let C=v[e];const O=new QR(s,this.id);if(!(s&&s.hasOwnProperty("value"))&&C&&O.absorbOptions(C.options),v[e]=O,C||(C=XR),O.value!==fk&&C.value===O.value){if(!function(t,i){const e=Object.keys(t),s=Object.keys(i);if(e.length!=s.length)return!1;for(let a=0;a<e.length;a++){const l=e[a];if(!i.hasOwnProperty(l)||t[l]!==i[l])return!1}return!0}(C.params,O.params)){const je=[],tt=l.matchStyles(C.value,C.params,je),yt=l.matchStyles(O.value,O.params,je);je.length?this._engine.reportError(je):this._engine.afterFlush(()=>{Kw(i,tt),Ev(i,yt)})}return}const pe=tg(this._engine.playersByElement,i,[]);pe.forEach(je=>{je.namespaceId==this.id&&je.triggerName==e&&je.queued&&je.destroy()});let we=l.matchTransition(C.value,O.value,i,O.params),Le=!1;if(!we){if(!a)return;we=l.fallbackTransition,Le=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:e,transition:we,fromState:C,toState:O,player:h,isFallbackTransition:Le}),Le||(Kg(i,v6),h.onStart(()=>{tM(i,v6)})),h.onDone(()=>{let je=this.players.indexOf(h);je>=0&&this.players.splice(je,1);const tt=this._engine.playersByElement.get(i);if(tt){let yt=tt.indexOf(h);yt>=0&&tt.splice(yt,1)}}),this.players.push(h),pe.push(h),h}deregister(i){delete this._triggers[i],this._engine.statesByElement.forEach((e,s)=>{delete e[i]}),this._elementListeners.forEach((e,s)=>{this._elementListeners.set(s,e.filter(a=>a.name!=i))})}clearElementCache(i){this._engine.statesByElement.delete(i),this._elementListeners.delete(i);const e=this._engine.playersByElement.get(i);e&&(e.forEach(s=>s.destroy()),this._engine.playersByElement.delete(i))}_signalRemovalForInnerTriggers(i,e){const s=this._engine.driver.query(i,QI,!0);s.forEach(a=>{if(a[Jg])return;const l=this._engine.fetchNamespacesByElement(a);l.size?l.forEach(h=>h.triggerLeaveAnimation(a,e,!1,!0)):this.clearElementCache(a)}),this._engine.afterFlushAnimationsDone(()=>s.forEach(a=>this.clearElementCache(a)))}triggerLeaveAnimation(i,e,s,a){const l=this._engine.statesByElement.get(i);if(l){const h=[];if(Object.keys(l).forEach(v=>{if(this._triggers[v]){const C=this.trigger(i,v,fk,a);C&&h.push(C)}}),h.length)return this._engine.markElementAsRemoved(this.id,i,!0,e),s&&K0(h).onDone(()=>this._engine.processLeaveNode(i)),!0}return!1}prepareLeaveAnimationListeners(i){const e=this._elementListeners.get(i),s=this._engine.statesByElement.get(i);if(e&&s){const a=new Set;e.forEach(l=>{const h=l.name;if(a.has(h))return;a.add(h);const C=this._triggers[h].fallbackTransition,O=s[h]||XR,G=new QR(fk),te=new JR(this.id,h,i);this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:h,transition:C,fromState:O,toState:G,player:te,isFallbackTransition:!0})})}}removeNode(i,e){const s=this._engine;if(i.childElementCount&&this._signalRemovalForInnerTriggers(i,e),this.triggerLeaveAnimation(i,e,!0))return;let a=!1;if(s.totalAnimations){const l=s.players.length?s.playersByQueriedElement.get(i):[];if(l&&l.length)a=!0;else{let h=i;for(;h=h.parentNode;)if(s.statesByElement.get(h)){a=!0;break}}}if(this.prepareLeaveAnimationListeners(i),a)s.markElementAsRemoved(this.id,i,!1,e);else{const l=i[Jg];(!l||l===w6)&&(s.afterFlush(()=>this.clearElementCache(i)),s.destroyInnerAnimations(i),s._onRemovalComplete(i,e))}}insertNode(i,e){Kg(i,this._hostClassName)}drainQueuedTransitions(i){const e=[];return this._queue.forEach(s=>{const a=s.player;if(a.destroyed)return;const l=s.element,h=this._elementListeners.get(l);h&&h.forEach(v=>{if(v.name==s.triggerName){const C=AR(l,s.triggerName,s.fromState.value,s.toState.value);C._data=i,ER(s.player,v.phase,C,v.callback)}}),a.markedForDestroy?this._engine.afterFlush(()=>{a.destroy()}):e.push(s)}),this._queue=[],e.sort((s,a)=>{const l=s.transition.ast.depCount,h=a.transition.ast.depCount;return 0==l||0==h?l-h:this._engine.driver.containsElement(s.element,a.element)?1:-1})}destroy(i){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,i)}elementContainsData(i){let e=!1;return this._elementListeners.has(i)&&(e=!0),e=!!this._queue.find(s=>s.element===i)||e,e}}class fQ{constructor(i,e,s){this.bodyNode=i,this.driver=e,this._normalizer=s,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(a,l)=>{}}_onRemovalComplete(i,e){this.onRemovalComplete(i,e)}get queuedPlayers(){const i=[];return this._namespaceList.forEach(e=>{e.players.forEach(s=>{s.queued&&i.push(s)})}),i}createNamespace(i,e){const s=new pQ(i,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(s,e):(this.newHostElements.set(e,s),this.collectEnterElement(e)),this._namespaceLookup[i]=s}_balanceNamespaceList(i,e){const s=this._namespaceList.length-1;if(s>=0){let a=!1;for(let l=s;l>=0;l--)if(this.driver.containsElement(this._namespaceList[l].hostElement,e)){this._namespaceList.splice(l+1,0,i),a=!0;break}a||this._namespaceList.splice(0,0,i)}else this._namespaceList.push(i);return this.namespacesByHostElement.set(e,i),i}register(i,e){let s=this._namespaceLookup[i];return s||(s=this.createNamespace(i,e)),s}registerTrigger(i,e,s){let a=this._namespaceLookup[i];a&&a.register(e,s)&&this.totalAnimations++}destroy(i,e){if(!i)return;const s=this._fetchNamespace(i);this.afterFlush(()=>{this.namespacesByHostElement.delete(s.hostElement),delete this._namespaceLookup[i];const a=this._namespaceList.indexOf(s);a>=0&&this._namespaceList.splice(a,1)}),this.afterFlushAnimationsDone(()=>s.destroy(e))}_fetchNamespace(i){return this._namespaceLookup[i]}fetchNamespacesByElement(i){const e=new Set,s=this.statesByElement.get(i);if(s){const a=Object.keys(s);for(let l=0;l<a.length;l++){const h=s[a[l]].namespaceId;if(h){const v=this._fetchNamespace(h);v&&e.add(v)}}}return e}trigger(i,e,s,a){if(aL(e)){const l=this._fetchNamespace(i);if(l)return l.trigger(e,s,a),!0}return!1}insertNode(i,e,s,a){if(!aL(e))return;const l=e[Jg];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const h=this.collectedLeaveElements.indexOf(e);h>=0&&this.collectedLeaveElements.splice(h,1)}if(i){const h=this._fetchNamespace(i);h&&h.insertNode(e,s)}a&&this.collectEnterElement(e)}collectEnterElement(i){this.collectedEnterElements.push(i)}markElementAsDisabled(i,e){e?this.disabledNodes.has(i)||(this.disabledNodes.add(i),Kg(i,b6)):this.disabledNodes.has(i)&&(this.disabledNodes.delete(i),tM(i,b6))}removeNode(i,e,s,a){if(aL(e)){const l=i?this._fetchNamespace(i):null;if(l?l.removeNode(e,a):this.markElementAsRemoved(i,e,!1,a),s){const h=this.namespacesByHostElement.get(e);h&&h.id!==i&&h.removeNode(e,a)}}else this._onRemovalComplete(e,a)}markElementAsRemoved(i,e,s,a){this.collectedLeaveElements.push(e),e[Jg]={namespaceId:i,setForRemoval:a,hasAnimation:s,removedBeforeQueried:!1}}listen(i,e,s,a,l){return aL(e)?this._fetchNamespace(i).listen(e,s,a,l):()=>{}}_buildInstruction(i,e,s,a,l){return i.transition.build(this.driver,i.element,i.fromState.value,i.toState.value,s,a,i.fromState.options,i.toState.options,e,l)}destroyInnerAnimations(i){let e=this.driver.query(i,QI,!0);e.forEach(s=>this.destroyActiveAnimationsForElement(s)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(i,zR,!0),e.forEach(s=>this.finishActiveQueriedAnimationOnElement(s)))}destroyActiveAnimationsForElement(i){const e=this.playersByElement.get(i);e&&e.forEach(s=>{s.queued?s.markedForDestroy=!0:s.destroy()})}finishActiveQueriedAnimationOnElement(i){const e=this.playersByQueriedElement.get(i);e&&e.forEach(s=>s.finish())}whenRenderingDone(){return new Promise(i=>{if(this.players.length)return K0(this.players).onDone(()=>i());i()})}processLeaveNode(i){const e=i[Jg];if(e&&e.setForRemoval){if(i[Jg]=w6,e.namespaceId){this.destroyInnerAnimations(i);const s=this._fetchNamespace(e.namespaceId);s&&s.clearElementCache(i)}this._onRemovalComplete(i,e.setForRemoval)}this.driver.matchesElement(i,x6)&&this.markElementAsDisabled(i,!1),this.driver.query(i,x6,!0).forEach(s=>{this.markElementAsDisabled(s,!1)})}flush(i=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((s,a)=>this._balanceNamespaceList(s,a)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let s=0;s<this.collectedEnterElements.length;s++)Kg(this.collectedEnterElements[s],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const s=[];try{e=this._flushAnimations(s,i)}finally{for(let a=0;a<s.length;a++)s[a]()}}else for(let s=0;s<this.collectedLeaveElements.length;s++)this.processLeaveNode(this.collectedLeaveElements[s]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(s=>s()),this._flushFns=[],this._whenQuietFns.length){const s=this._whenQuietFns;this._whenQuietFns=[],e.length?K0(e).onDone(()=>{s.forEach(a=>a())}):s.forEach(a=>a())}}reportError(i){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${i.join("\n")}`)}_flushAnimations(i,e){const s=new rL,a=[],l=new Map,h=[],v=new Map,C=new Map,O=new Map,G=new Set;this.disabledNodes.forEach(Mi=>{G.add(Mi);const Sr=this.driver.query(Mi,".ng-animate-queued",!0);for(let $r=0;$r<Sr.length;$r++)G.add(Sr[$r])});const te=this.bodyNode,pe=Array.from(this.statesByElement.keys()),we=T6(pe,this.collectedEnterElements),Le=new Map;let je=0;we.forEach((Mi,Sr)=>{const $r=NR+je++;Le.set(Sr,$r),Mi.forEach(ho=>Kg(ho,$r))});const tt=[],yt=new Set,Zt=new Set;for(let Mi=0;Mi<this.collectedLeaveElements.length;Mi++){const Sr=this.collectedLeaveElements[Mi],$r=Sr[Jg];$r&&$r.setForRemoval&&(tt.push(Sr),yt.add(Sr),$r.hasAnimation?this.driver.query(Sr,".ng-star-inserted",!0).forEach(ho=>yt.add(ho)):Zt.add(Sr))}const tn=new Map,gn=T6(pe,Array.from(yt));gn.forEach((Mi,Sr)=>{const $r=qI+je++;tn.set(Sr,$r),Mi.forEach(ho=>Kg(ho,$r))}),i.push(()=>{we.forEach((Mi,Sr)=>{const $r=Le.get(Sr);Mi.forEach(ho=>tM(ho,$r))}),gn.forEach((Mi,Sr)=>{const $r=tn.get(Sr);Mi.forEach(ho=>tM(ho,$r))}),tt.forEach(Mi=>{this.processLeaveNode(Mi)})});const pn=[],qn=[];for(let Mi=this._namespaceList.length-1;Mi>=0;Mi--)this._namespaceList[Mi].drainQueuedTransitions(e).forEach($r=>{const ho=$r.player,su=$r.element;if(pn.push(ho),this.collectedEnterElements.length){const Iv=su[Jg];if(Iv&&Iv.setForMove)return void ho.destroy()}const wp=!te||!this.driver.containsElement(te,su),ih=tn.get(su),Mm=Le.get(su),tc=this._buildInstruction($r,s,Mm,ih,wp);if(tc.errors&&tc.errors.length)qn.push(tc);else{if(wp)return ho.onStart(()=>Kw(su,tc.fromStyles)),ho.onDestroy(()=>Ev(su,tc.toStyles)),void a.push(ho);if($r.isFallbackTransition)return ho.onStart(()=>Kw(su,tc.fromStyles)),ho.onDestroy(()=>Ev(su,tc.toStyles)),void a.push(ho);tc.timelines.forEach(Iv=>Iv.stretchStartingKeyframe=!0),s.append(su,tc.timelines),h.push({instruction:tc,player:ho,element:su}),tc.queriedElements.forEach(Iv=>tg(v,Iv,[]).push(ho)),tc.preStyleProps.forEach((Iv,Rk)=>{const qL=Object.keys(Iv);if(qL.length){let u1=C.get(Rk);u1||C.set(Rk,u1=new Set),qL.forEach(XF=>u1.add(XF))}}),tc.postStyleProps.forEach((Iv,Rk)=>{const qL=Object.keys(Iv);let u1=O.get(Rk);u1||O.set(Rk,u1=new Set),qL.forEach(XF=>u1.add(XF))})}});if(qn.length){const Mi=[];qn.forEach(Sr=>{Mi.push(`@${Sr.triggerName} has failed due to:\n`),Sr.errors.forEach($r=>Mi.push(`- ${$r}\n`))}),pn.forEach(Sr=>Sr.destroy()),this.reportError(Mi)}const si=new Map,Li=new Map;h.forEach(Mi=>{const Sr=Mi.element;s.has(Sr)&&(Li.set(Sr,Sr),this._beforeAnimationBuild(Mi.player.namespaceId,Mi.instruction,si))}),a.forEach(Mi=>{const Sr=Mi.element;this._getPreviousPlayers(Sr,!1,Mi.namespaceId,Mi.triggerName,null).forEach(ho=>{tg(si,Sr,[]).push(ho),ho.destroy()})});const Ii=tt.filter(Mi=>k6(Mi,C,O)),xs=new Map;M6(xs,this.driver,Zt,O,Q_).forEach(Mi=>{k6(Mi,C,O)&&Ii.push(Mi)});const so=new Map;we.forEach((Mi,Sr)=>{M6(so,this.driver,new Set(Mi),C,"!")}),Ii.forEach(Mi=>{const Sr=xs.get(Mi),$r=so.get(Mi);xs.set(Mi,Object.assign(Object.assign({},Sr),$r))});const xl=[],jh=[],oo={};h.forEach(Mi=>{const{element:Sr,player:$r,instruction:ho}=Mi;if(s.has(Sr)){if(G.has(Sr))return $r.onDestroy(()=>Ev(Sr,ho.toStyles)),$r.disabled=!0,$r.overrideTotalTime(ho.totalTime),void a.push($r);let su=oo;if(Li.size>1){let ih=Sr;const Mm=[];for(;ih=ih.parentNode;){const tc=Li.get(ih);if(tc){su=tc;break}Mm.push(ih)}Mm.forEach(tc=>Li.set(tc,su))}const wp=this._buildAnimation($r.namespaceId,ho,si,l,so,xs);if($r.setRealPlayer(wp),su===oo)xl.push($r);else{const ih=this.playersByElement.get(su);ih&&ih.length&&($r.parentPlayer=K0(ih)),a.push($r)}}else Kw(Sr,ho.fromStyles),$r.onDestroy(()=>Ev(Sr,ho.toStyles)),jh.push($r),G.has(Sr)&&a.push($r)}),jh.forEach(Mi=>{const Sr=l.get(Mi.element);if(Sr&&Sr.length){const $r=K0(Sr);Mi.setRealPlayer($r)}}),a.forEach(Mi=>{Mi.parentPlayer?Mi.syncPlayerEvents(Mi.parentPlayer):Mi.destroy()});for(let Mi=0;Mi<tt.length;Mi++){const Sr=tt[Mi],$r=Sr[Jg];if(tM(Sr,qI),$r&&$r.hasAnimation)continue;let ho=[];if(v.size){let wp=v.get(Sr);wp&&wp.length&&ho.push(...wp);let ih=this.driver.query(Sr,zR,!0);for(let Mm=0;Mm<ih.length;Mm++){let tc=v.get(ih[Mm]);tc&&tc.length&&ho.push(...tc)}}const su=ho.filter(wp=>!wp.destroyed);su.length?yQ(this,Sr,su):this.processLeaveNode(Sr)}return tt.length=0,xl.forEach(Mi=>{this.players.push(Mi),Mi.onDone(()=>{Mi.destroy();const Sr=this.players.indexOf(Mi);this.players.splice(Sr,1)}),Mi.play()}),xl}elementContainsData(i,e){let s=!1;const a=e[Jg];return a&&a.setForRemoval&&(s=!0),this.playersByElement.has(e)&&(s=!0),this.playersByQueriedElement.has(e)&&(s=!0),this.statesByElement.has(e)&&(s=!0),this._fetchNamespace(i).elementContainsData(e)||s}afterFlush(i){this._flushFns.push(i)}afterFlushAnimationsDone(i){this._whenQuietFns.push(i)}_getPreviousPlayers(i,e,s,a,l){let h=[];if(e){const v=this.playersByQueriedElement.get(i);v&&(h=v)}else{const v=this.playersByElement.get(i);if(v){const C=!l||l==fk;v.forEach(O=>{O.queued||!C&&O.triggerName!=a||h.push(O)})}}return(s||a)&&(h=h.filter(v=>!(s&&s!=v.namespaceId||a&&a!=v.triggerName))),h}_beforeAnimationBuild(i,e,s){const l=e.element,h=e.isRemovalTransition?void 0:i,v=e.isRemovalTransition?void 0:e.triggerName;for(const C of e.timelines){const O=C.element,G=O!==l,te=tg(s,O,[]);this._getPreviousPlayers(O,G,h,v,e.toState).forEach(we=>{const Le=we.getRealPlayer();Le.beforeDestroy&&Le.beforeDestroy(),we.destroy(),te.push(we)})}Kw(l,e.fromStyles)}_buildAnimation(i,e,s,a,l,h){const v=e.triggerName,C=e.element,O=[],G=new Set,te=new Set,pe=e.timelines.map(Le=>{const je=Le.element;G.add(je);const tt=je[Jg];if(tt&&tt.removedBeforeQueried)return new V0(Le.duration,Le.delay);const yt=je!==C,Zt=function(t){const i=[];return S6(t,i),i}((s.get(je)||dQ).map(si=>si.getRealPlayer())).filter(si=>!!si.element&&si.element===je),tn=l.get(je),gn=h.get(je),pn=QY(0,this._normalizer,0,Le.keyframes,tn,gn),qn=this._buildPlayer(Le,pn,Zt);if(Le.subTimeline&&a&&te.add(je),yt){const si=new JR(i,v,je);si.setRealPlayer(qn),O.push(si)}return qn});O.forEach(Le=>{tg(this.playersByQueriedElement,Le.element,[]).push(Le),Le.onDone(()=>function(t,i,e){let s;if(t instanceof Map){if(s=t.get(i),s){if(s.length){const a=s.indexOf(e);s.splice(a,1)}0==s.length&&t.delete(i)}}else if(s=t[i],s){if(s.length){const a=s.indexOf(e);s.splice(a,1)}0==s.length&&delete t[i]}return s}(this.playersByQueriedElement,Le.element,Le))}),G.forEach(Le=>Kg(Le,s6));const we=K0(pe);return we.onDestroy(()=>{G.forEach(Le=>tM(Le,s6)),Ev(C,e.toStyles)}),te.forEach(Le=>{tg(a,Le,[]).push(we)}),we}_buildPlayer(i,e,s){return e.length>0?this.driver.animate(i.element,e,i.duration,i.delay,i.easing,s):new V0(i.duration,i.delay)}}class JR{constructor(i,e,s){this.namespaceId=i,this.triggerName=e,this.element=s,this._player=new V0,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(i){this._containsRealPlayer||(this._player=i,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(s=>ER(i,e,void 0,s))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(i.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(i){this.totalTime=i}syncPlayerEvents(i){const e=this._player;e.triggerCallback&&i.onStart(()=>e.triggerCallback("start")),i.onDone(()=>this.finish()),i.onDestroy(()=>this.destroy())}_queueEvent(i,e){tg(this._queuedCallbacks,i,[]).push(e)}onDone(i){this.queued&&this._queueEvent("done",i),this._player.onDone(i)}onStart(i){this.queued&&this._queueEvent("start",i),this._player.onStart(i)}onDestroy(i){this.queued&&this._queueEvent("destroy",i),this._player.onDestroy(i)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(i){this.queued||this._player.setPosition(i)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(i){const e=this._player;e.triggerCallback&&e.triggerCallback(i)}}function aL(t){return t&&1===t.nodeType}function C6(t,i){const e=t.style.display;return t.style.display=null!=i?i:"none",e}function M6(t,i,e,s,a){const l=[];e.forEach(C=>l.push(C6(C)));const h=[];s.forEach((C,O)=>{const G={};C.forEach(te=>{const pe=G[te]=i.computeStyle(O,te,a);(!pe||0==pe.length)&&(O[Jg]=hQ,h.push(O))}),t.set(O,G)});let v=0;return e.forEach(C=>C6(C,l[v++])),h}function T6(t,i){const e=new Map;if(t.forEach(v=>e.set(v,[])),0==i.length)return e;const a=new Set(i),l=new Map;function h(v){if(!v)return 1;let C=l.get(v);if(C)return C;const O=v.parentNode;return C=e.has(O)?O:a.has(O)?1:h(O),l.set(v,C),C}return i.forEach(v=>{const C=h(v);1!==C&&e.get(C).push(v)}),e}const lL="$$classes";function Kg(t,i){if(t.classList)t.classList.add(i);else{let e=t[lL];e||(e=t[lL]={}),e[i]=!0}}function tM(t,i){if(t.classList)t.classList.remove(i);else{let e=t[lL];e&&delete e[i]}}function yQ(t,i,e){K0(e).onDone(()=>t.processLeaveNode(i))}function S6(t,i){for(let e=0;e<t.length;e++){const s=t[e];s instanceof SA?S6(s.players,i):i.push(s)}}function k6(t,i,e){const s=e.get(t);if(!s)return!1;let a=i.get(t);return a?s.forEach(l=>a.add(l)):i.set(t,s),e.delete(t),!0}class cL{constructor(i,e,s){this.bodyNode=i,this._driver=e,this._normalizer=s,this._triggerCache={},this.onRemovalComplete=(a,l)=>{},this._transitionEngine=new fQ(i,e,s),this._timelineEngine=new aQ(i,e,s),this._transitionEngine.onRemovalComplete=(a,l)=>this.onRemovalComplete(a,l)}registerTrigger(i,e,s,a,l){const h=i+"-"+a;let v=this._triggerCache[h];if(!v){const C=[],O=UR(this._driver,l,C);if(C.length)throw new Error(`The animation trigger "${a}" has failed to build due to the following errors:\n - ${C.join("\n - ")}`);v=function(t,i,e){return new rQ(t,i,e)}(a,O,this._normalizer),this._triggerCache[h]=v}this._transitionEngine.registerTrigger(e,a,v)}register(i,e){this._transitionEngine.register(i,e)}destroy(i,e){this._transitionEngine.destroy(i,e)}onInsert(i,e,s,a){this._transitionEngine.insertNode(i,e,s,a)}onRemove(i,e,s,a){this._transitionEngine.removeNode(i,e,a||!1,s)}disableAnimations(i,e){this._transitionEngine.markElementAsDisabled(i,e)}process(i,e,s,a){if("@"==s.charAt(0)){const[l,h]=XY(s);this._timelineEngine.command(l,e,h,a)}else this._transitionEngine.trigger(i,e,s,a)}listen(i,e,s,a,l){if("@"==s.charAt(0)){const[h,v]=XY(s);return this._timelineEngine.listen(h,e,v,l)}return this._transitionEngine.listen(i,e,s,a,l)}flush(i=-1){this._transitionEngine.flush(i)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function E6(t,i){let e=null,s=null;return Array.isArray(i)&&i.length?(e=KR(i[0]),i.length>1&&(s=KR(i[i.length-1]))):i&&(e=KR(i)),e||s?new nM(t,e,s):null}class nM{constructor(i,e,s){this._element=i,this._startStyles=e,this._endStyles=s,this._state=0;let a=nM.initialStylesByElement.get(i);a||nM.initialStylesByElement.set(i,a={}),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Ev(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ev(this._element,this._initialStyles),this._endStyles&&(Ev(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(nM.initialStylesByElement.delete(this._element),this._startStyles&&(Kw(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Kw(this._element,this._endStyles),this._endStyles=null),Ev(this._element,this._initialStyles),this._state=3)}}function KR(t){let i=null;const e=Object.keys(t);for(let s=0;s<e.length;s++){const a=e[s];xQ(a)&&(i=i||{},i[a]=t[a])}return i}function xQ(t){return"display"===t||"position"===t}nM.initialStylesByElement=new WeakMap;const D6="animation",A6="animationend";class MQ{constructor(i,e,s,a,l,h,v){this._element=i,this._name=e,this._duration=s,this._delay=a,this._easing=l,this._fillMode=h,this._onDoneFn=v,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=C=>this._handleCallback(C)}apply(){(function(t,i){const e=tF(t,"").trim();let s=0;e.length&&(function(t,i){let e=0;for(let s=0;s<t.length;s++)","===t.charAt(s)&&e++;return e}(e)+1,i=`${e}, ${i}`),uL(t,"",i)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),P6(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){I6(this._element,this._name,"paused")}resume(){I6(this._element,this._name,"running")}setPosition(i){const e=L6(this._element,this._name);this._position=i*this._duration,uL(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(i){const e=i._ngTestManualTimestamp||Date.now(),s=1e3*parseFloat(i.elapsedTime.toFixed(3));i.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&s>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),P6(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,i){const s=tF(t,"").split(","),a=eF(s,i);a>=0&&(s.splice(a,1),uL(t,"",s.join(",")))}(this._element,this._name))}}function I6(t,i,e){uL(t,"PlayState",e,L6(t,i))}function L6(t,i){const e=tF(t,"");return e.indexOf(",")>0?eF(e.split(","),i):eF([e],i)}function eF(t,i){for(let e=0;e<t.length;e++)if(t[e].indexOf(i)>=0)return e;return-1}function P6(t,i,e){e?t.removeEventListener(A6,i):t.addEventListener(A6,i)}function uL(t,i,e,s){const a=D6+i;if(null!=s){const l=t.style[a];if(l.length){const h=l.split(",");h[s]=e,e=h.join(",")}}t.style[a]=e}function tF(t,i){return t.style[D6+i]||""}class O6{constructor(i,e,s,a,l,h,v,C){this.element=i,this.keyframes=e,this.animationName=s,this._duration=a,this._delay=l,this._finalStyles=v,this._specialStyles=C,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=h||"linear",this.totalTime=a+l,this._buildStyler()}onStart(i){this._onStartFns.push(i)}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(i=>i()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(i=>i()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(i){this._styler.setPosition(i)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new MQ(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(i){const e="start"==i?this._onStartFns:this._onDoneFns;e.forEach(s=>s()),e.length=0}beforeDestroy(){this.init();const i={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(s=>{"offset"!=s&&(i[s]=e?this._finalStyles[s]:VR(this.element,s))})}this.currentSnapshot=i}}class AQ extends V0{constructor(i,e){super(),this.element=i,this._startingStyles={},this.__initialized=!1,this._styles=t6(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(i=>{this._startingStyles[i]=this.element.style[i]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(i=>this.element.style.setProperty(i,this._styles[i])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(i=>{const e=this._startingStyles[i];e?this.element.style.setProperty(i,e):this.element.style.removeProperty(i)}),this._startingStyles=null,super.destroy())}}class F6{constructor(){this._count=0}validateStyleProperty(i){return PR(i)}matchesElement(i,e){return OR(i,e)}containsElement(i,e){return RR(i,e)}query(i,e,s){return FR(i,e,s)}computeStyle(i,e,s){return window.getComputedStyle(i)[e]}buildKeyframeElement(i,e,s){s=s.map(v=>t6(v));let a=`@keyframes ${e} {\n`,l="";s.forEach(v=>{l=" ";const C=parseFloat(v.offset);a+=`${l}${100*C}% {\n`,l+=" ",Object.keys(v).forEach(O=>{const G=v[O];switch(O){case"offset":return;case"easing":return void(G&&(a+=`${l}animation-timing-function: ${G};\n`));default:return void(a+=`${l}${O}: ${G};\n`)}}),a+=`${l}}\n`}),a+="}\n";const h=document.createElement("style");return h.textContent=a,h}animate(i,e,s,a,l,h=[],v){const C=h.filter(tt=>tt instanceof O6),O={};u6(s,a)&&C.forEach(tt=>{let yt=tt.currentSnapshot;Object.keys(yt).forEach(Zt=>O[Zt]=yt[Zt])});const G=function(t){let i={};return t&&(Array.isArray(t)?t:[t]).forEach(s=>{Object.keys(s).forEach(a=>{"offset"==a||"easing"==a||(i[a]=s[a])})}),i}(e=d6(i,e,O));if(0==s)return new AQ(i,G);const te="gen_css_kf_"+this._count++,pe=this.buildKeyframeElement(i,te,e);(function(t){var i;const e=null===(i=t.getRootNode)||void 0===i?void 0:i.call(t);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(i).appendChild(pe);const Le=E6(i,e),je=new O6(i,e,te,s,a,l,G,Le);return je.onDestroy(()=>function(t){t.parentNode.removeChild(t)}(pe)),je}}class z6{constructor(i,e,s,a){this.element=i,this.keyframes=e,this.options=s,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=s.duration,this._delay=s.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const i=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,i,this.options),this._finalKeyframe=i.length?i[i.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(i,e,s){return i.animate(e,s)}onStart(i){this._onStartFns.push(i)}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(i=>i()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}setPosition(i){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=i*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const i={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(i[e]=this._finished?this._finalKeyframe[e]:VR(this.element,e))}),this.currentSnapshot=i}triggerCallback(i){const e="start"==i?this._onStartFns:this._onDoneFns;e.forEach(s=>s()),e.length=0}}class RQ{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(B6().toString()),this._cssKeyframesDriver=new F6}validateStyleProperty(i){return PR(i)}matchesElement(i,e){return OR(i,e)}containsElement(i,e){return RR(i,e)}query(i,e,s){return FR(i,e,s)}computeStyle(i,e,s){return window.getComputedStyle(i)[e]}overrideWebAnimationsSupport(i){this._isNativeImpl=i}animate(i,e,s,a,l,h=[],v){if(!v&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(i,e,s,a,l,h);const G={duration:s,delay:a,fill:0==a?"both":"forwards"};l&&(G.easing=l);const te={},pe=h.filter(Le=>Le instanceof z6);u6(s,a)&&pe.forEach(Le=>{let je=Le.currentSnapshot;Object.keys(je).forEach(tt=>te[tt]=je[tt])});const we=E6(i,e=d6(i,e=e.map(Le=>ex(Le,!1)),te));return new z6(i,e,G,we)}}function B6(){return $Y()&&Element.prototype.animate||{}}let NQ=(()=>{class t extends TA{constructor(e,s){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(s.body,{id:"0",encapsulation:o.ifc.None,styles:[],data:{animation:[]}})}build(e){const s=this._nextAnimationId.toString();this._nextAnimationId++;const a=Array.isArray(e)?dS(e):e;return Y6(this._renderer,null,s,"register",[a]),new zQ(s,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(o.FYo),o.LFG(Ee))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();class zQ extends class{}{constructor(i,e){super(),this._id=i,this._renderer=e}create(i,e){return new BQ(this._id,i,e||{},this._renderer)}}class BQ{constructor(i,e,s,a){this.id=i,this.element=e,this._renderer=a,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",s)}_listen(i,e){return this._renderer.listen(this.element,`@@${this.id}:${i}`,e)}_command(i,...e){return Y6(this._renderer,this.element,this.id,i,e)}onDone(i){this._listen("done",i)}onStart(i){this._listen("start",i)}onDestroy(i){this._listen("destroy",i)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(i){this._command("setPosition",i)}getPosition(){var i,e;return null!==(e=null===(i=this._renderer.engine.players[+this.id])||void 0===i?void 0:i.getPosition())&&void 0!==e?e:0}}function Y6(t,i,e,s,a){return t.setProperty(i,`@@${e}:${s}`,a)}const H6="@.disabled";let YQ=(()=>{class t{constructor(e,s,a){this.delegate=e,this.engine=s,this._zone=a,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),s.onRemovalComplete=(l,h)=>{h&&h.parentNode(l)&&h.removeChild(l.parentNode,l)}}createRenderer(e,s){const l=this.delegate.createRenderer(e,s);if(!(e&&s&&s.data&&s.data.animation)){let G=this._rendererCache.get(l);return G||(G=new V6("",l,this.engine),this._rendererCache.set(l,G)),G}const h=s.id,v=s.id+"-"+this._currentId;this._currentId++,this.engine.register(v,e);const C=G=>{Array.isArray(G)?G.forEach(C):this.engine.registerTrigger(h,v,e,G.name,G)};return s.data.animation.forEach(C),new HQ(this,v,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,s,a){e>=0&&e<this._microtaskId?this._zone.run(()=>s(a)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[h,v]=l;h(v)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([s,a]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(o.FYo),o.LFG(cL),o.LFG(o.R0b))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();class V6{constructor(i,e,s){this.namespaceId=i,this.delegate=e,this.engine=s,this.destroyNode=this.delegate.destroyNode?a=>e.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(i,e){return this.delegate.createElement(i,e)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}appendChild(i,e){this.delegate.appendChild(i,e),this.engine.onInsert(this.namespaceId,e,i,!1)}insertBefore(i,e,s,a=!0){this.delegate.insertBefore(i,e,s),this.engine.onInsert(this.namespaceId,e,i,a)}removeChild(i,e,s){this.engine.onRemove(this.namespaceId,e,this.delegate,s)}selectRootElement(i,e){return this.delegate.selectRootElement(i,e)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,e,s,a){this.delegate.setAttribute(i,e,s,a)}removeAttribute(i,e,s){this.delegate.removeAttribute(i,e,s)}addClass(i,e){this.delegate.addClass(i,e)}removeClass(i,e){this.delegate.removeClass(i,e)}setStyle(i,e,s,a){this.delegate.setStyle(i,e,s,a)}removeStyle(i,e,s){this.delegate.removeStyle(i,e,s)}setProperty(i,e,s){"@"==e.charAt(0)&&e==H6?this.disableAnimations(i,!!s):this.delegate.setProperty(i,e,s)}setValue(i,e){this.delegate.setValue(i,e)}listen(i,e,s){return this.delegate.listen(i,e,s)}disableAnimations(i,e){this.engine.disableAnimations(i,e)}}class HQ extends V6{constructor(i,e,s,a){super(e,s,a),this.factory=i,this.namespaceId=e}setProperty(i,e,s){"@"==e.charAt(0)?"."==e.charAt(1)&&e==H6?this.disableAnimations(i,s=void 0===s||!!s):this.engine.process(this.namespaceId,i,e.substr(1),s):this.delegate.setProperty(i,e,s)}listen(i,e,s){if("@"==e.charAt(0)){const a=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(i);let l=e.substr(1),h="";return"@"!=l.charAt(0)&&([l,h]=function(t){const i=t.indexOf(".");return[t.substring(0,i),t.substr(i+1)]}(l)),this.engine.listen(this.namespaceId,a,l,h,v=>{this.factory.scheduleListenerCallback(v._data||-1,s,v)})}return this.delegate.listen(i,e,s)}}let jQ=(()=>{class t extends cL{constructor(e,s,a){super(e.body,s,a)}ngOnDestroy(){this.flush()}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Ee),o.LFG(WI),o.LFG(qR))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();const Of=new o.OlP("AnimationModuleType"),U6=[{provide:TA,useClass:NQ},{provide:qR,useFactory:function(){return new J$}},{provide:cL,useClass:jQ},{provide:o.FYo,useFactory:function(t,i,e){return new YQ(t,i,e)},deps:[xc,cL,o.R0b]}],j6=[{provide:WI,useFactory:function(){return"function"==typeof B6()?new RQ:new F6}},{provide:Of,useValue:"BrowserAnimations"},...U6],Z6=[{provide:WI,useClass:n6},{provide:Of,useValue:"NoopAnimations"},...U6];let qQ=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?Z6:j6}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:j6,imports:[Ip]}),t})();function XQ(t,i){if(1&t&&o._UZ(0,"mat-pseudo-checkbox",4),2&t){const e=o.oxw();o.Q6J("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function JQ(t,i){if(1&t&&(o.TgZ(0,"span",5),o._uU(1),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.hij("(",e.group.label,")")}}const KQ=["*"];let eX=(()=>{class t{}return t.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",t.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",t.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",t.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",t})(),tX=(()=>{class t{}return t.COMPLEX="375ms",t.ENTERING="225ms",t.EXITING="195ms",t})();const G6=new o.GfV("11.2.13"),iX=new o.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let t1,Fs=(()=>{class t{constructor(e,s,a){this._hasDoneGlobalChecks=!1,this._document=a,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=s,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const e=this._document.defaultView||window;return"object"==typeof e&&e?e:null}_checksAreEnabled(){return(0,o.X6Q)()&&!this._isTestEnv()}_isTestEnv(){const e=this._getWindow();return e&&(e.__karma__||e.jasmine)}_checkDoctypeIsDefined(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme||!this._document.body||"function"!=typeof getComputedStyle)return;const s=this._document.createElement("div");s.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(s);const a=getComputedStyle(s);a&&"none"!==a.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(s)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&G6.full!==qY.full&&console.warn("The Angular Material version ("+G6.full+") does not match the Angular CDK version ("+qY.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(GY),o.LFG(iX,8),o.LFG(Ee))},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[_v],_v]}),t})();function Dv(t){return class extends t{constructor(...i){super(...i),this._disabled=!1}get disabled(){return this._disabled}set disabled(i){this._disabled=ps(i)}}}function iM(t,i){return class extends t{constructor(...e){super(...e),this.defaultColor=i,this.color=i}get color(){return this._color}set color(e){const s=e||this.defaultColor;s!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),s&&this._elementRef.nativeElement.classList.add(`mat-${s}`),this._color=s)}}}function tx(t){return class extends t{constructor(...s){super(...s),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(s){this._disableRipple=ps(s)}}}function W6(t,i=0){return class extends t{constructor(...a){super(...a),this._tabIndex=i,this.defaultTabIndex=i}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(a){this._tabIndex=null!=a?yu(a):this.defaultTabIndex}}}function q6(t){return class extends t{constructor(...i){super(...i),this.errorState=!1,this.stateChanges=new li.xQ}updateErrorState(){const i=this.errorState,l=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);l!==i&&(this.errorState=l,this.stateChanges.next())}}}function $6(t){return class extends t{constructor(...i){super(...i),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new Rr.y(e=>{this._isInitialized?this._notifySubscriber(e):this._pendingSubscribers.push(e)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(i){i.next(),i.complete()}}}try{t1="undefined"!=typeof Intl}catch(t){t1=!1}let nF=(()=>{class t{isErrorState(e,s){return!!(e&&e.invalid&&(e.touched||s&&s.submitted))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),pL=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Fs],Fs]}),t})();class mX{constructor(i,e,s){this._renderer=i,this.element=e,this.config=s,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const X6={enterDuration:450,exitDuration:400},sF=Aw({passive:!0}),J6=["mousedown","touchstart"],K6=["mouseup","mouseleave","touchend","touchcancel"];class _X{constructor(i,e,s,a){this._target=i,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,a.isBrowser&&(this._containerElement=J_(s))}fadeInRipple(i,e,s={}){const a=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),l=Object.assign(Object.assign({},X6),s.animation);s.centered&&(i=a.left+a.width/2,e=a.top+a.height/2);const h=s.radius||function(t,i,e){const s=Math.max(Math.abs(t-e.left),Math.abs(t-e.right)),a=Math.max(Math.abs(i-e.top),Math.abs(i-e.bottom));return Math.sqrt(s*s+a*a)}(i,e,a),v=i-a.left,C=e-a.top,O=l.enterDuration,G=document.createElement("div");G.classList.add("mat-ripple-element"),G.style.left=v-h+"px",G.style.top=C-h+"px",G.style.height=2*h+"px",G.style.width=2*h+"px",null!=s.color&&(G.style.backgroundColor=s.color),G.style.transitionDuration=`${O}ms`,this._containerElement.appendChild(G),function(t){window.getComputedStyle(t).getPropertyValue("opacity")}(G),G.style.transform="scale(1)";const te=new mX(this,G,s);return te.state=0,this._activeRipples.add(te),s.persistent||(this._mostRecentTransientRipple=te),this._runTimeoutOutsideZone(()=>{const pe=te===this._mostRecentTransientRipple;te.state=1,!s.persistent&&(!pe||!this._isPointerDown)&&te.fadeOut()},O),te}fadeOutRipple(i){const e=this._activeRipples.delete(i);if(i===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const s=i.element,a=Object.assign(Object.assign({},X6),i.config.animation);s.style.transitionDuration=`${a.exitDuration}ms`,s.style.opacity="0",i.state=2,this._runTimeoutOutsideZone(()=>{i.state=3,s.parentNode.removeChild(s)},a.exitDuration)}fadeOutAll(){this._activeRipples.forEach(i=>i.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(i=>{i.config.persistent||i.fadeOut()})}setupTriggerEvents(i){const e=J_(i);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(J6))}handleEvent(i){"mousedown"===i.type?this._onMousedown(i):"touchstart"===i.type?this._onTouchStart(i):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(K6),this._pointerUpEventsRegistered=!0)}_onMousedown(i){const e=MR(i),s=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!s&&(this._isPointerDown=!0,this.fadeInRipple(i.clientX,i.clientY,this._target.rippleConfig))}_onTouchStart(i){if(!this._target.rippleDisabled&&!TR(i)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=i.changedTouches;for(let s=0;s<e.length;s++)this.fadeInRipple(e[s].clientX,e[s].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(i=>{!i.config.persistent&&(1===i.state||i.config.terminateOnPointerUp&&0===i.state)&&i.fadeOut()}))}_runTimeoutOutsideZone(i,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(i,e))}_registerEvents(i){this._ngZone.runOutsideAngular(()=>{i.forEach(e=>{this._triggerElement.addEventListener(e,this,sF)})})}_removeTriggerEvents(){this._triggerElement&&(J6.forEach(i=>{this._triggerElement.removeEventListener(i,this,sF)}),this._pointerUpEventsRegistered&&K6.forEach(i=>{this._triggerElement.removeEventListener(i,this,sF)}))}}const bX=new o.OlP("mat-ripple-global-options");let Av=(()=>{class t{constructor(e,s,a,l,h){this._elementRef=e,this._animationMode=h,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=l||{},this._rippleRenderer=new _X(this,s,e,a)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,s=0,a){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,s,Object.assign(Object.assign({},this.rippleConfig),a)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(aa),o.Y36(bX,8),o.Y36(Of,8))},t.\u0275dir=o.lG2({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,s){2&e&&o.ekj("mat-ripple-unbounded",s.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})(),rM=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Fs,bb],Fs]}),t})(),e4=(()=>{class t{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Of,8))},t.\u0275cmp=o.Xpm({type:t,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,s){2&e&&o.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===s.state)("mat-pseudo-checkbox-checked","checked"===s.state)("mat-pseudo-checkbox-disabled",s.disabled)("_mat-animation-noopable","NoopAnimations"===s._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,s){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),t})(),oF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Fs]]}),t})();const aF=new o.OlP("MAT_OPTION_PARENT_COMPONENT");class xX{}const wX=Dv(xX);let CX=0,t4=(()=>{class t extends wX{constructor(e){var s;super(),this._labelId="mat-optgroup-label-"+CX++,this._inert=null!==(s=null==e?void 0:e.inertGroups)&&void 0!==s&&s}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(aF,8))},t.\u0275dir=o.lG2({type:t,inputs:{label:"label"},features:[o.qOj]}),t})();const lF=new o.OlP("MatOptgroup");let MX=0;class TX{constructor(i,e=!1){this.source=i,this.isUserInput=e}}let SX=(()=>{class t{constructor(e,s,a,l){this._element=e,this._changeDetectorRef=s,this._parent=a,this.group=l,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+MX++,this.onSelectionChange=new o.vpe,this._stateChanges=new li.xQ}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=ps(e)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,s){const a=this._getHostElement();"function"==typeof a.focus&&a.focus(s)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!ay(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new TX(this,e))}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(void 0),o.Y36(t4))},t.\u0275dir=o.lG2({type:t,inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"}}),t})(),n4=(()=>{class t extends SX{constructor(e,s,a,l){super(e,s,a,l)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(aF,8),o.Y36(lF,8))},t.\u0275cmp=o.Xpm({type:t,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,s){1&e&&o.NdJ("click",function(){return s._selectViaInteraction()})("keydown",function(l){return s._handleKeydown(l)}),2&e&&(o.Ikx("id",s.id),o.uIk("tabindex",s._getTabIndex())("aria-selected",s._getAriaSelected())("aria-disabled",s.disabled.toString()),o.ekj("mat-selected",s.selected)("mat-option-multiple",s.multiple)("mat-active",s.active)("mat-option-disabled",s.disabled))},exportAs:["matOption"],features:[o.qOj],ngContentSelectors:KQ,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,s){1&e&&(o.F$t(),o.YNc(0,XQ,1,2,"mat-pseudo-checkbox",0),o.TgZ(1,"span",1),o.Hsn(2),o.qZA(),o.YNc(3,JQ,2,1,"span",2),o._UZ(4,"div",3)),2&e&&(o.Q6J("ngIf",s.multiple),o.xp6(3),o.Q6J("ngIf",s.group&&s.group._inert),o.xp6(1),o.Q6J("matRippleTrigger",s._getHostElement())("matRippleDisabled",s.disabled||s.disableRipple))},directives:[un,Av,e4],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),t})();function r4(t,i,e){if(e.length){let s=i.toArray(),a=e.toArray(),l=0;for(let h=0;h<t+1;h++)s[h].group&&s[h].group===a[l]&&l++;return l}return 0}let s4=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[rM,Ji,Fs,oF]]}),t})();const o4=["mat-button",""],a4=["*"],DX=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class AX{constructor(i){this._elementRef=i}}const IX=iM(Dv(tx(AX)));let Dd=(()=>{class t extends IX{constructor(e,s,a){super(e),this._focusMonitor=s,this._animationMode=a,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const l of DX)this._hasHostAttributes(l)&&this._getHostElement().classList.add(l);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,s){e?this._focusMonitor.focusVia(this._getHostElement(),e,s):this._getHostElement().focus(s)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(s=>this._getHostElement().hasAttribute(s))}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(ly),o.Y36(Of,8))},t.\u0275cmp=o.Xpm({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,s){if(1&e&&o.Gf(Av,5),2&e){let a;o.iGM(a=o.CRH())&&(s.ripple=a.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,s){2&e&&(o.uIk("disabled",s.disabled||null),o.ekj("_mat-animation-noopable","NoopAnimations"===s._animationMode)("mat-button-disabled",s.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[o.qOj],attrs:o4,ngContentSelectors:a4,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,s){1&e&&(o.F$t(),o.TgZ(0,"span",0),o.Hsn(1),o.qZA(),o._UZ(2,"span",1),o._UZ(3,"span",2)),2&e&&(o.xp6(2),o.ekj("mat-button-ripple-round",s.isRoundButton||s.isIconButton),o.Q6J("matRippleDisabled",s._isRippleDisabled())("matRippleCentered",s.isIconButton)("matRippleTrigger",s._getHostElement()))},directives:[Av],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),t})(),cF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[rM,Fs],Fs]}),t})();function LX(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"li",17),o.TgZ(1,"h6"),o._uU(2),o.qZA(),o.TgZ(3,"h6"),o._uU(4),o.qZA(),o.TgZ(5,"h6"),o._uU(6),o.qZA(),o.TgZ(7,"button",18),o.NdJ("click",function(){o.CHM(e);const a=o.oxw().$implicit;return o.oxw().acceptOrder(a)}),o._uU(8,"Accept Order"),o.qZA(),o.qZA()}if(2&t){const e=o.oxw().$implicit;o.xp6(2),o.hij("Food name: ",e.data.productname,""),o.xp6(2),o.hij("Food Quantity: ",e.data.quantity,""),o.xp6(2),o.hij("Student Name: ",e.data.studentname,"")}}function PX(t,i){if(1&t&&(o.TgZ(0,"ul",15),o.YNc(1,LX,9,3,"li",16),o.qZA()),2&t){const e=i.$implicit;o.xp6(1),o.Q6J("ngIf","await"==e.data.status)}}function OX(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"li",17),o.TgZ(1,"h6"),o._uU(2),o.qZA(),o.TgZ(3,"h6"),o._uU(4),o.qZA(),o.TgZ(5,"h6"),o._uU(6),o.qZA(),o.TgZ(7,"button",18),o.NdJ("click",function(){o.CHM(e);const a=o.oxw().$implicit;return o.oxw().completeOrder(a)}),o._uU(8,"Complete Order"),o.qZA(),o.qZA()}if(2&t){const e=o.oxw().$implicit;o.xp6(2),o.hij("Food name: ",e.data.productname,""),o.xp6(2),o.hij("Food Quantity: ",e.data.quantity,""),o.xp6(2),o.hij("Student Name: ",e.data.studentname,"")}}function RX(t,i){if(1&t&&(o.TgZ(0,"ul",15),o.YNc(1,OX,9,3,"li",16),o.qZA()),2&t){const e=i.$implicit;o.xp6(1),o.Q6J("ngIf","processing"==e.data.status)}}function FX(t,i){if(1&t&&(o.TgZ(0,"li",17),o.TgZ(1,"h6"),o._uU(2),o.qZA(),o.TgZ(3,"h6"),o._uU(4),o.qZA(),o.TgZ(5,"h6"),o._uU(6),o.qZA(),o.qZA()),2&t){const e=o.oxw().$implicit;o.xp6(2),o.hij("Food name: ",e.data.productname,""),o.xp6(2),o.hij("Food Quantity: ",e.data.quantity,""),o.xp6(2),o.hij("Student Name: ",e.data.studentname,"")}}function NX(t,i){if(1&t&&(o.TgZ(0,"ul",15),o.YNc(1,FX,7,3,"li",16),o.qZA()),2&t){const e=i.$implicit;o.xp6(1),o.Q6J("ngIf","completed"==e.data.status)}}const zX=function(){return{color:"red"}};function BX(t,i){if(1&t&&(o.TgZ(0,"li",17),o._UZ(1,"i",19),o.TgZ(2,"span",20),o._uU(3),o.qZA(),o._uU(4," --- "),o.TgZ(5,"span",21),o._uU(6),o.qZA(),o.qZA()),2&t){const e=o.oxw().$implicit;o.xp6(1),o.Q6J("ngStyle",o.DdM(3,zX)),o.xp6(2),o.Oqu(e.id),o.xp6(3),o.hij("",e.data.quantity," unit")}}function YX(t,i){if(1&t&&(o.TgZ(0,"ul",15),o.YNc(1,BX,7,4,"li",16),o.qZA()),2&t){const e=i.$implicit;o.xp6(1),o.Q6J("ngIf",e.data.lowestmargin>e.data.quantity)}}const HX=function(){return{margin:"15px"}},VX=function(){return{position:"sticky"}},UX=function(){return{color:"grey"}},c4=function(){return{float:"left",margin:"15px"}},jX=function(){return{float:"right",margin:"10px"}},ZX=function(){return{"font-size":"30px","font-weight":"bold",color:"blue"}};let GX=(()=>{class t{constructor(e,s,a,l,h){this.fauth=e,this.router=s,this.af=a,this.aR=l,this.http=h,this.info=[],this.awaitLength=0,this.processLength=0,this.completedLength=0,this.confirm=!1,this.processing=!1,this.completed=!1,this.newTotal=0,this.info2=[],this.ingredient=[],this.deduct=0,this.inventory=[],this.totalDeduct=0,this.months=[],this.order=[],this.topSale=[],this.topSale2=[],this.totalAmount=0,this.sales=[],this.arraytotal=[],this.barChartOptions={responsive:!0},this.barChartLabels=["January","February","March","April","May","June","July","August","September","October","November","December"],this.barChartType="bar",this.barChartLegend=!0,this.barChartPlugins=[],this.barChartData=[{data:[65,59,80,81,56,55,40],label:"Unit"}];const v=sS();this.months=["Select Month","January","February","March","April","May","June","July","August","September","October","November","December"],this.af.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("order").snapshotChanges().subscribe(C=>{this.info=[],this.awaitLength=0,this.processLength=0,this.completedLength=0,C.map(O=>{let G={id:O.payload.doc.id,data:O.payload.doc.data()};this.info.push(G),"await"==G.data.status?this.awaitLength+=1:"processing"==G.data.status?this.processLength+=1:"completed"==G.data.status&&(this.completedLength+=1)})}),this.aR.queryParams.subscribe(C=>{this.productname=C.productname,this.productprice=C.amount,this.action=C.action,this.tracking_number=C.trackingnumber,this.compname=C.compname,this.quantity=C.quantity}),"success"==this.action?(this.af.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("cart").doc(this.productname).delete(),this.af.collection("Supplier").get().subscribe(C=>{C.docs.forEach(O=>{O.data().compname===this.compname&&(this.id=O.id,console.log("asd"),this.af.collection("Supplier").doc(O.id).collection("menu").get().subscribe(G=>{console.log("asd"),G.docs.forEach(te=>{if(console.log(te.data()),te.data().brand===this.productname){console.log("asd");let pe=te.data().quantity-this.quantity;this.af.collection("Supplier").doc(this.id).collection("menu").doc(te.id).update({quantity:pe})}})}))})}),this.af.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("payment").doc(this.tracking_number).update({status:"paid",ordertimestamp:v.format("MMMM Do YYYY, h:mm a")})):"cancel"==this.action&&this.af.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("cart").doc(this.productname).delete(),this.af.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("menu").snapshotChanges().subscribe(C=>{this.info2=[],C.map(O=>{let G={id:O.payload.doc.id,data:O.payload.doc.data()};this.info2.push(G)})}),this.af.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("inventory").snapshotChanges().subscribe(C=>{this.inventory=[],C.map(O=>{let G={id:O.payload.doc.id,data:O.payload.doc.data()};this.inventory.push(G)})}),this.af.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("order").valueChanges().subscribe(C=>{this.sales=[],this.order=C,this.order.forEach(O=>{if("completed"==O.status){let pe={month:O.completetimestamp.split(" ")[0],quantity:O.quantity};this.sales.push(pe)}}),this.arraytotal=[],this.sales.forEach(O=>{let G=this.barChartLabels.findIndex(te=>te==O.month);if(console.log(G),0==this.arraytotal.length)this.arraytotal[G]=parseInt(O.quantity);else if(null==this.arraytotal[G])this.arraytotal[G]=parseInt(O.quantity);else{let pe=parseInt(this.arraytotal[G])+parseInt(O.quantity);this.arraytotal[G]=pe}this.barChartData=[{data:this.arraytotal,label:"Unit"}]})})}ngAfterViewInit(){}showConfirm(){this.confirm=!this.confirm}showProcessing(){this.processing=!this.processing}showCompleted(){this.completed=!this.completed}acceptOrder(e){this.af.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("order").doc(e.id).update({status:"processing"})}completeOrder(e){var s=this;return Qs(function*(){let a=sS();console.log(e),s.af.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("order").doc(e.id).update({status:"completed"}),s.info2.forEach(l=>{e.data.productname==l.id&&(s.totalsale=l.data.totalsale,s.ingredient=l.data.ingredient)}),s.newTotal=parseInt(e.data.quantity)+s.totalsale,s.af.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("menu").doc(e.data.productname).update({totalsale:s.newTotal}),s.ingredient.forEach(l=>{console.log(l),s.inventory.forEach(h=>{h.id==l.ingredient&&(s.deduct=l.ingredientQuantity*parseInt(e.data.quantity),s.totalDeduct=h.data.quantity-s.deduct,console.log(s.totalDeduct),s.af.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("inventory").doc(h.id).update({quantity:s.totalDeduct}))})}),s.info2.forEach(l=>{if(l.id==e.data.productname){let v=parseInt(l.data.stock)-e.data.quantity;s.af.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("menu").doc(l.id).update({stock:v})}}),s.af.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("order").doc(e.id).update({completetimestamp:a.format("MMMM Do YYYY, h:mm a")})})()}displayTop(e){console.log(e),this.totalAmount=0,this.topSale=[],this.order.forEach(s=>{"completed"==s.status&&s.completetimestamp.split(" ")[0]==e&&this.topSale.push(s)}),console.log(this.topSale),this.topSale.forEach(s=>{this.totalAmount+=s.amount*s.quantity})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(ui),o.Y36(Eo),o.Y36(Sa),o.Y36(dc),o.Y36(Ug))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-admin-home-page"]],decls:46,vars:35,consts:[[3,"ngStyle"],[1,"order"],[1,"o1",3,"click"],["id","top"],["header","TO BE CONFIRM",3,"visible","visibleChange"],["class","list-group",4,"ngFor","ngForOf"],[1,"o2",3,"click"],["header","TO BE DELIVERED",3,"visible","visibleChange"],[1,"o3",3,"click"],[1,"o4"],[1,"o5"],[3,"options","ngStyle","onHide"],["p",""],[1,"o6"],["baseChart","",3,"datasets","labels","options","plugins","legend"],[1,"list-group"],["class","list-group-item",4,"ngIf"],[1,"list-group-item"],["mat-raised-button","",3,"click"],[1,"fas","fa-exclamation-triangle",3,"ngStyle"],["id","ingredient"],["id","quantity"]],template:function(e,s){if(1&e){const a=o.EpF();o._UZ(0,"app-adminnavbarpage"),o.TgZ(1,"h4",0),o._uU(2,"Order Activity"),o.qZA(),o.TgZ(3,"div",1),o.TgZ(4,"div",2),o.NdJ("click",function(){return s.showConfirm()}),o.TgZ(5,"h3",3),o._uU(6),o.qZA(),o.TgZ(7,"p"),o._uU(8,"TO BE CONFIRM"),o.qZA(),o.TgZ(9,"p-dialog",4),o.NdJ("visibleChange",function(h){return s.confirm=h}),o.YNc(10,PX,2,1,"ul",5),o.qZA(),o.qZA(),o.TgZ(11,"div",6),o.NdJ("click",function(){return s.showProcessing()}),o.TgZ(12,"h3",3),o._uU(13),o.qZA(),o.TgZ(14,"p"),o._uU(15,"TO BE DELIVERED"),o.qZA(),o.TgZ(16,"p-dialog",7),o.NdJ("visibleChange",function(h){return s.processing=h}),o.YNc(17,RX,2,1,"ul",5),o.qZA(),o.qZA(),o.TgZ(18,"div",8),o.NdJ("click",function(){return s.showCompleted()}),o.TgZ(19,"p"),o._uU(20,"COMPLETED"),o.qZA(),o.TgZ(21,"h3",3),o._uU(22),o.qZA(),o.TgZ(23,"p-dialog",7),o.NdJ("visibleChange",function(h){return s.completed=h}),o.YNc(24,NX,2,1,"ul",5),o.qZA(),o.qZA(),o.TgZ(25,"div",9),o.TgZ(26,"h5",0),o._uU(27,"Quantity in Hand "),o._UZ(28,"br"),o.TgZ(29,"h6",0),o._uU(30,"These ingredients are low stock"),o.qZA(),o.qZA(),o.YNc(31,YX,2,1,"ul",5),o.qZA(),o.qZA(),o._UZ(32,"div"),o.TgZ(33,"div",10),o.TgZ(34,"h4",0),o._uU(35,"Monthly Sales"),o.qZA(),o.TgZ(36,"p-dropdown",11,12),o.NdJ("onHide",function(){o.CHM(a);const h=o.MAs(37);return s.displayTop(h.value)}),o.qZA(),o.TgZ(38,"p",0),o._uU(39),o.ALo(40,"number"),o.qZA(),o.qZA(),o.TgZ(41,"div",13),o.TgZ(42,"h4",0),o._uU(43,"Number of Unit sold"),o.qZA(),o.TgZ(44,"div"),o._UZ(45,"canvas",14),o.qZA(),o.qZA()}2&e&&(o.xp6(1),o.Q6J("ngStyle",o.DdM(28,HX)),o.xp6(5),o.Oqu(s.awaitLength),o.xp6(3),o.Q6J("visible",s.confirm),o.xp6(1),o.Q6J("ngForOf",s.info),o.xp6(3),o.Oqu(s.processLength),o.xp6(3),o.Q6J("visible",s.processing),o.xp6(1),o.Q6J("ngForOf",s.info),o.xp6(5),o.Oqu(s.completedLength),o.xp6(1),o.Q6J("visible",s.completed),o.xp6(1),o.Q6J("ngForOf",s.info),o.xp6(2),o.Q6J("ngStyle",o.DdM(29,VX)),o.xp6(3),o.Q6J("ngStyle",o.DdM(30,UX)),o.xp6(2),o.Q6J("ngForOf",s.inventory),o.xp6(3),o.Q6J("ngStyle",o.DdM(31,c4)),o.xp6(2),o.Q6J("options",s.months)("ngStyle",s.month)("ngStyle",o.DdM(32,jX)),o.xp6(2),o.Q6J("ngStyle",o.DdM(33,ZX)),o.xp6(1),o.hij("RM ",o.xi3(40,25,s.totalAmount,"1.2-2"),""),o.xp6(3),o.Q6J("ngStyle",o.DdM(34,c4)),o.xp6(3),o.Q6J("datasets",s.barChartData)("labels",s.barChartLabels)("options",s.barChartOptions)("plugins",s.barChartPlugins)("legend",s.barChartLegend))},directives:[Zg,qi,AC,mt,JA,Z7,un,Dd],pipes:[oh],styles:["mat-progress-spinner[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:5}body[_ngcontent-%COMP%]{background:#f0f0f0}.chart[_ngcontent-%COMP%]{background:black;display:flex;justify-content:center}.loader-container[_ngcontent-%COMP%]{position:fixed;width:100%;z-index:999}canvas[_ngcontent-%COMP%]{height:50vh!important;width:100vw!important}mat-grid-tile[_ngcontent-%COMP%]{background-color:red;border-radius:1rem;box-shadow:10px 10px 5px -6px #7b7b7bbf;-webkit-box-shadow:10px 10px 5px -6px rgba(123,123,123,.75);-moz-box-shadow:10px 10px 5px -6px rgba(123,123,123,.75)}.order[_ngcontent-%COMP%]{display:flex}.o1[_ngcontent-%COMP%], .o2[_ngcontent-%COMP%], .o3[_ngcontent-%COMP%]{width:250px;height:250px;background-color:#eee;margin:1rem;text-align:center;position:relative}p[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);margin:0}#top[_ngcontent-%COMP%]{line-height:10rem}.o4[_ngcontent-%COMP%]{width:500px;height:250px;background-color:#eee;margin:1rem;text-align:center;position:relative;overflow:auto}.list-group-item[_ngcontent-%COMP%]:nth-child(even){background-color:#eee}.o5[_ngcontent-%COMP%]{width:50vw;height:250px;background-color:#eee;margin:1rem;position:relative;overflow:auto}.o6[_ngcontent-%COMP%]{width:100vw;height:400px;background-color:#eee;margin:1rem;position:relative}#flexdiv[_ngcontent-%COMP%]{display:flex}"]}),t})();const WX=["mat-sort-header",""];function qX(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",3),o.NdJ("@arrowPosition.start",function(){return o.CHM(e),o.oxw()._disableViewStateAnimation=!0})("@arrowPosition.done",function(){return o.CHM(e),o.oxw()._disableViewStateAnimation=!1}),o._UZ(1,"div",4),o.TgZ(2,"div",5),o._UZ(3,"div",6),o._UZ(4,"div",7),o._UZ(5,"div",8),o.qZA(),o.qZA()}if(2&t){const e=o.oxw();o.Q6J("@arrowOpacity",e._getArrowViewState())("@arrowPosition",e._getArrowViewState())("@allowChildren",e._getArrowDirectionState()),o.xp6(2),o.Q6J("@indicator",e._getArrowDirectionState()),o.xp6(1),o.Q6J("@leftPointer",e._getArrowDirectionState()),o.xp6(1),o.Q6J("@rightPointer",e._getArrowDirectionState())}}const $X=["*"],QX=new o.OlP("MAT_SORT_DEFAULT_OPTIONS");class XX{}const JX=$6(Dv(XX));let Ab=(()=>{class t extends JX{constructor(e){super(),this._defaultOptions=e,this.sortables=new Map,this._stateChanges=new li.xQ,this.start="asc",this._direction="",this.sortChange=new o.vpe}get direction(){return this._direction}set direction(e){this._direction=e}get disableClear(){return this._disableClear}set disableClear(e){this._disableClear=ps(e)}register(e){this.sortables.set(e.id,e)}deregister(e){this.sortables.delete(e.id)}sort(e){this.active!=e.id?(this.active=e.id,this.direction=e.start?e.start:this.start):this.direction=this.getNextSortDirection(e),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(e){var s,a,l;if(!e)return"";const h=null!==(a=null!==(s=null==e?void 0:e.disableClear)&&void 0!==s?s:this.disableClear)&&void 0!==a?a:!!(null===(l=this._defaultOptions)||void 0===l?void 0:l.disableClear);let v=function(t,i){let e=["asc","desc"];return"desc"==t&&e.reverse(),i||e.push(""),e}(e.start||this.start,h),C=v.indexOf(this.direction)+1;return C>=v.length&&(C=0),v[C]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(QX,8))},t.\u0275dir=o.lG2({type:t,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"],active:["matSortActive","active"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[o.qOj,o.TTD]}),t})();const nx=tX.ENTERING+" "+eX.STANDARD_CURVE,sM={indicator:oa("indicator",[bo("active-asc, asc",oi({transform:"translateY(0px)"})),bo("active-desc, desc",oi({transform:"translateY(10px)"})),Ir("active-asc <=> active-desc",qr(nx))]),leftPointer:oa("leftPointer",[bo("active-asc, asc",oi({transform:"rotate(-45deg)"})),bo("active-desc, desc",oi({transform:"rotate(45deg)"})),Ir("active-asc <=> active-desc",qr(nx))]),rightPointer:oa("rightPointer",[bo("active-asc, asc",oi({transform:"rotate(45deg)"})),bo("active-desc, desc",oi({transform:"rotate(-45deg)"})),Ir("active-asc <=> active-desc",qr(nx))]),arrowOpacity:oa("arrowOpacity",[bo("desc-to-active, asc-to-active, active",oi({opacity:1})),bo("desc-to-hint, asc-to-hint, hint",oi({opacity:.54})),bo("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",oi({opacity:0})),Ir("* => asc, * => desc, * => active, * => hint, * => void",qr("0ms")),Ir("* <=> *",qr(nx))]),arrowPosition:oa("arrowPosition",[Ir("* => desc-to-hint, * => desc-to-active",qr(nx,X_([oi({transform:"translateY(-25%)"}),oi({transform:"translateY(0)"})]))),Ir("* => hint-to-desc, * => active-to-desc",qr(nx,X_([oi({transform:"translateY(0)"}),oi({transform:"translateY(25%)"})]))),Ir("* => asc-to-hint, * => asc-to-active",qr(nx,X_([oi({transform:"translateY(25%)"}),oi({transform:"translateY(0)"})]))),Ir("* => hint-to-asc, * => active-to-asc",qr(nx,X_([oi({transform:"translateY(0)"}),oi({transform:"translateY(-25%)"})]))),bo("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",oi({transform:"translateY(0)"})),bo("hint-to-desc, active-to-desc, desc",oi({transform:"translateY(-25%)"})),bo("hint-to-asc, active-to-asc, asc",oi({transform:"translateY(25%)"}))]),allowChildren:oa("allowChildren",[Ir("* <=> *",[hv("@*",TC(),{optional:!0})])])};let fL=(()=>{class t{constructor(){this.changes=new li.xQ,this.sortButtonLabel=e=>`Change sorting for ${e}`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const tJ={provide:fL,deps:[[new o.FiY,new o.tp0,fL]],useFactory:function(t){return t||new fL}};class nJ{}const iJ=Dv(nJ);let mL=(()=>{class t extends iJ{constructor(e,s,a,l,h,v){super(),this._intl=e,this._changeDetectorRef=s,this._sort=a,this._columnDef=l,this._focusMonitor=h,this._elementRef=v,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this._handleStateChanges()}get disableClear(){return this._disableClear}set disableClear(e){this._disableClear=ps(e)}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{const s=!!e;s!==this._showIndicatorHint&&(this._setIndicatorHintVisible(s),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe()}_setIndicatorHintVisible(e){this._isDisabled()&&e||(this._showIndicatorHint=e,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(e){this._viewState=e||{},this._disableViewStateAnimation&&(this._viewState={toState:e.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(e){!this._isDisabled()&&(32===e.keyCode||13===e.keyCode)&&(e.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const e=this._viewState.fromState;return(e?`${e}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_handleStateChanges(){this._rerenderSubscription=(0,Ka.T)(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(fL),o.Y36(o.sBO),o.Y36(Ab,8),o.Y36("MAT_SORT_HEADER_COLUMN_DEF",8),o.Y36(ly),o.Y36(o.SBq))},t.\u0275cmp=o.Xpm({type:t,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(e,s){1&e&&o.NdJ("click",function(){return s._handleClick()})("keydown",function(l){return s._handleKeydown(l)})("mouseenter",function(){return s._setIndicatorHintVisible(!0)})("mouseleave",function(){return s._setIndicatorHintVisible(!1)}),2&e&&(o.uIk("aria-sort",s._getAriaSortAttribute()),o.ekj("mat-sort-header-disabled",s._isDisabled()))},inputs:{disabled:"disabled",arrowPosition:"arrowPosition",disableClear:"disableClear",id:["mat-sort-header","id"],start:"start"},exportAs:["matSortHeader"],features:[o.qOj],attrs:WX,ngContentSelectors:$X,decls:4,vars:6,consts:[["role","button",1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],["class","mat-sort-header-arrow",4,"ngIf"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(e,s){1&e&&(o.F$t(),o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.Hsn(2),o.qZA(),o.YNc(3,qX,6,6,"div",2),o.qZA()),2&e&&(o.ekj("mat-sort-header-sorted",s._isSorted())("mat-sort-header-position-before","before"==s.arrowPosition),o.uIk("tabindex",s._isDisabled()?null:0),o.xp6(3),o.Q6J("ngIf",s._renderArrow()))},directives:[un],styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}\n"],encapsulation:2,data:{animation:[sM.indicator,sM.leftPointer,sM.rightPointer,sM.arrowOpacity,sM.arrowPosition,sM.allowChildren]},changeDetection:0}),t})(),rJ=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[tJ],imports:[[Ji,Fs]]}),t})();class uF{attach(i){return this._attachedHost=i,i.attach(this)}detach(){let i=this._attachedHost;null!=i&&(this._attachedHost=null,i.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(i){this._attachedHost=i}}class oM extends uF{constructor(i,e,s,a){super(),this.component=i,this.viewContainerRef=e,this.injector=s,this.componentFactoryResolver=a}}class ix extends uF{constructor(i,e,s){super(),this.templateRef=i,this.viewContainerRef=e,this.context=s}get origin(){return this.templateRef.elementRef}attach(i,e=this.context){return this.context=e,super.attach(i)}detach(){return this.context=void 0,super.detach()}}class sJ extends uF{constructor(i){super(),this.element=i instanceof o.SBq?i.nativeElement:i}}class gL{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(i){return i instanceof oM?(this._attachedPortal=i,this.attachComponentPortal(i)):i instanceof ix?(this._attachedPortal=i,this.attachTemplatePortal(i)):this.attachDomPortal&&i instanceof sJ?(this._attachedPortal=i,this.attachDomPortal(i)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(i){this._disposeFn=i}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class u4 extends gL{constructor(i,e,s,a,l){super(),this.outletElement=i,this._componentFactoryResolver=e,this._appRef=s,this._defaultInjector=a,this.attachDomPortal=h=>{const v=h.element,C=this._document.createComment("dom-portal");v.parentNode.insertBefore(C,v),this.outletElement.appendChild(v),this._attachedPortal=h,super.setDisposeFn(()=>{C.parentNode&&C.parentNode.replaceChild(v,C)})},this._document=l}attachComponentPortal(i){const s=(i.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(i.component);let a;return i.viewContainerRef?(a=i.viewContainerRef.createComponent(s,i.viewContainerRef.length,i.injector||i.viewContainerRef.injector),this.setDisposeFn(()=>a.destroy())):(a=s.create(i.injector||this._defaultInjector),this._appRef.attachView(a.hostView),this.setDisposeFn(()=>{this._appRef.detachView(a.hostView),a.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(a)),this._attachedPortal=i,a}attachTemplatePortal(i){let e=i.viewContainerRef,s=e.createEmbeddedView(i.templateRef,i.context);return s.rootNodes.forEach(a=>this.outletElement.appendChild(a)),s.detectChanges(),this.setDisposeFn(()=>{let a=e.indexOf(s);-1!==a&&e.remove(a)}),this._attachedPortal=i,s}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(i){return i.hostView.rootNodes[0]}}let n1=(()=>{class t extends gL{constructor(e,s,a){super(),this._componentFactoryResolver=e,this._viewContainerRef=s,this._isInitialized=!1,this.attached=new o.vpe,this.attachDomPortal=l=>{const h=l.element,v=this._document.createComment("dom-portal");l.setAttachedHost(this),h.parentNode.insertBefore(v,h),this._getRootNode().appendChild(h),this._attachedPortal=l,super.setDisposeFn(()=>{v.parentNode&&v.parentNode.replaceChild(h,v)})},this._document=a}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const s=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,l=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),h=s.createComponent(l,s.length,e.injector||s.injector);return s!==this._viewContainerRef&&this._getRootNode().appendChild(h.hostView.rootNodes[0]),super.setDisposeFn(()=>h.destroy()),this._attachedPortal=e,this._attachedRef=h,this.attached.emit(h),h}attachTemplatePortal(e){e.setAttachedHost(this);const s=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=s,this.attached.emit(s),s}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o._Vd),o.Y36(o.s_b),o.Y36(Ee))},t.\u0275dir=o.lG2({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[o.qOj]}),t})(),_L=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({}),t})();class aJ{constructor(i,e){this.predicate=i,this.inclusive=e}call(i,e){return e.subscribe(new lJ(i,this.predicate,this.inclusive))}}class lJ extends Ao.L{constructor(i,e,s){super(i),this.predicate=e,this.inclusive=s,this.index=0}_next(i){const e=this.destination;let s;try{s=this.predicate(i,this.index++)}catch(a){return void e.error(a)}this.nextOrComplete(i,s)}nextOrComplete(i,e){const s=this.destination;Boolean(e)?s.next(i):(this.inclusive&&s.next(i),s.complete())}}const h4=FA();class cJ{constructor(i,e){this._viewportRuler=i,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const i=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=i.style.left||"",this._previousHTMLStyles.top=i.style.top||"",i.style.left=vu(-this._previousScrollPosition.left),i.style.top=vu(-this._previousScrollPosition.top),i.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const i=this._document.documentElement,s=i.style,a=this._document.body.style,l=s.scrollBehavior||"",h=a.scrollBehavior||"";this._isEnabled=!1,s.left=this._previousHTMLStyles.left,s.top=this._previousHTMLStyles.top,i.classList.remove("cdk-global-scrollblock"),h4&&(s.scrollBehavior=a.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),h4&&(s.scrollBehavior=l,a.scrollBehavior=h)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,s=this._viewportRuler.getViewportSize();return e.scrollHeight>s.height||e.scrollWidth>s.width}}class uJ{constructor(i,e,s,a){this._scrollDispatcher=i,this._ngZone=e,this._viewportRuler=s,this._config=a,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(i){this._overlayRef=i}enable(){if(this._scrollSubscription)return;const i=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=i.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=i.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class p4{enable(){}disable(){}attach(){}}function dF(t,i){return i.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function f4(t,i){return i.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class dJ{constructor(i,e,s,a){this._scrollDispatcher=i,this._viewportRuler=e,this._ngZone=s,this._config=a,this._scrollSubscription=null}attach(i){this._overlayRef=i}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:s,height:a}=this._viewportRuler.getViewportSize();dF(e,[{width:s,height:a,bottom:a,right:s,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let hJ=(()=>{class t{constructor(e,s,a,l){this._scrollDispatcher=e,this._viewportRuler=s,this._ngZone=a,this.noop=()=>new p4,this.close=h=>new uJ(this._scrollDispatcher,this._ngZone,this._viewportRuler,h),this.block=()=>new cJ(this._viewportRuler,this._document),this.reposition=h=>new dJ(this._scrollDispatcher,this._viewportRuler,this._ngZone,h),this._document=l}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Fw),o.LFG(yv),o.LFG(o.R0b),o.LFG(Ee))},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t((0,o.LFG)(Fw),(0,o.LFG)(yv),(0,o.LFG)(o.R0b),(0,o.LFG)(Ee))},token:t,providedIn:"root"}),t})();class gk{constructor(i){if(this.scrollStrategy=new p4,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,i){const e=Object.keys(i);for(const s of e)void 0!==i[s]&&(this[s]=i[s])}}}class pJ{constructor(i,e,s,a,l){this.offsetX=s,this.offsetY=a,this.panelClass=l,this.originX=i.originX,this.originY=i.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class fJ{constructor(i,e){this.connectionPair=i,this.scrollableViewProperties=e}}let m4=(()=>{class t{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const s=this._attachedOverlays.indexOf(e);s>-1&&this._attachedOverlays.splice(s,1),0===this._attachedOverlays.length&&this.detach()}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Ee))},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t((0,o.LFG)(Ee))},token:t,providedIn:"root"}),t})(),mJ=(()=>{class t extends m4{constructor(e){super(e),this._keydownListener=s=>{const a=this._attachedOverlays;for(let l=a.length-1;l>-1;l--)if(a[l]._keydownEvents.observers.length>0){a[l]._keydownEvents.next(s);break}}}add(e){super.add(e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Ee))},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t((0,o.LFG)(Ee))},token:t,providedIn:"root"}),t})(),gJ=(()=>{class t extends m4{constructor(e,s){super(e),this._platform=s,this._cursorStyleIsSet=!1,this._clickListener=a=>{const l=a.composedPath?a.composedPath()[0]:a.target,h=this._attachedOverlays.slice();for(let v=h.length-1;v>-1;v--){const C=h[v];if(!(C._outsidePointerEvents.observers.length<1)&&C.hasAttached()){if(C.overlayElement.contains(l))break;C._outsidePointerEvents.next(a)}}}}add(e){if(super.add(e),!this._isAttached){const s=this._document.body;s.addEventListener("click",this._clickListener,!0),s.addEventListener("auxclick",this._clickListener,!0),s.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=s.style.cursor,s.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Ee),o.LFG(aa))},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t((0,o.LFG)(Ee),(0,o.LFG)(aa))},token:t,providedIn:"root"}),t})();const g4=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let _k=(()=>{class t{constructor(e,s){this._platform=s,this._document=e}ngOnDestroy(){const e=this._containerElement;e&&e.parentNode&&e.parentNode.removeChild(e)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||g4){const a=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let l=0;l<a.length;l++)a[l].parentNode.removeChild(a[l])}const s=this._document.createElement("div");s.classList.add(e),g4?s.setAttribute("platform","test"):this._platform.isBrowser||s.setAttribute("platform","server"),this._document.body.appendChild(s),this._containerElement=s}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Ee),o.LFG(aa))},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t((0,o.LFG)(Ee),(0,o.LFG)(aa))},token:t,providedIn:"root"}),t})();class _J{constructor(i,e,s,a,l,h,v,C,O){this._portalOutlet=i,this._host=e,this._pane=s,this._config=a,this._ngZone=l,this._keyboardDispatcher=h,this._document=v,this._location=C,this._outsideClickDispatcher=O,this._backdropElement=null,this._backdropClick=new li.xQ,this._attachments=new li.xQ,this._detachments=new li.xQ,this._locationChanges=Ua.w.EMPTY,this._backdropClickHandler=G=>this._backdropClick.next(G),this._keydownEvents=new li.xQ,this._outsidePointerEvents=new li.xQ,a.scrollStrategy&&(this._scrollStrategy=a.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=a.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(i){let e=this._portalOutlet.attach(i);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(xe(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const i=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),i}dispose(){const i=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,i&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(i){i!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=i,this.hasAttached()&&(i.attach(this),this.updatePosition()))}updateSize(i){this._config=Object.assign(Object.assign({},this._config),i),this._updateElementSize()}setDirection(i){this._config=Object.assign(Object.assign({},this._config),{direction:i}),this._updateElementDirection()}addPanelClass(i){this._pane&&this._toggleClasses(this._pane,i,!0)}removePanelClass(i){this._pane&&this._toggleClasses(this._pane,i,!1)}getDirection(){const i=this._config.direction;return i?"string"==typeof i?i:i.value:"ltr"}updateScrollStrategy(i){i!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=i,this.hasAttached()&&(i.attach(this),i.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const i=this._pane.style;i.width=vu(this._config.width),i.height=vu(this._config.height),i.minWidth=vu(this._config.minWidth),i.minHeight=vu(this._config.minHeight),i.maxWidth=vu(this._config.maxWidth),i.maxHeight=vu(this._config.maxHeight)}_togglePointerEvents(i){this._pane.style.pointerEvents=i?"":"none"}_attachBackdrop(){const i="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(i)})}):this._backdropElement.classList.add(i)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let i=this._backdropElement;if(!i)return;let e,s=()=>{i&&(i.removeEventListener("click",this._backdropClickHandler),i.removeEventListener("transitionend",s),i.parentNode&&i.parentNode.removeChild(i)),this._backdropElement==i&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(i,this._config.backdropClass,!1),clearTimeout(e)};i.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{i.addEventListener("transitionend",s)}),i.style.pointerEvents="none",e=this._ngZone.runOutsideAngular(()=>setTimeout(s,500))}_toggleClasses(i,e,s){const a=i.classList;IC(e).forEach(l=>{l&&(s?a.add(l):a.remove(l))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const i=this._ngZone.onStable.pipe(Fo((0,Ka.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),i.unsubscribe())})})}_disposeScrollStrategy(){const i=this._scrollStrategy;i&&(i.disable(),i.detach&&i.detach())}}const _4="cdk-overlay-connected-position-bounding-box",yJ=/([A-Za-z%]+)$/;class y4{constructor(i,e,s,a,l){this._viewportRuler=e,this._document=s,this._platform=a,this._overlayContainer=l,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new li.xQ,this._resizeSubscription=Ua.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(i)}get positions(){return this._preferredPositions}attach(i){this._validatePositions(),i.hostElement.classList.add(_4),this._overlayRef=i,this._boundingBox=i.hostElement,this._pane=i.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const i=this._originRect,e=this._overlayRect,s=this._viewportRect,a=[];let l;for(let h of this._preferredPositions){let v=this._getOriginPoint(i,h),C=this._getOverlayPoint(v,e,h),O=this._getOverlayFit(C,e,s,h);if(O.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,v);this._canFitWithFlexibleDimensions(O,C,s)?a.push({position:h,origin:v,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(v,h)}):(!l||l.overlayFit.visibleArea<O.visibleArea)&&(l={overlayFit:O,overlayPoint:C,originPoint:v,position:h,overlayRect:e})}if(a.length){let h=null,v=-1;for(const C of a){const O=C.boundingBoxRect.width*C.boundingBoxRect.height*(C.position.weight||1);O>v&&(v=O,h=C)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(l.position,l.originPoint);this._applyPosition(l.position,l.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&r1(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(_4),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const i=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,i);this._applyPosition(i,e)}}withScrollableContainers(i){return this._scrollables=i,this}withPositions(i){return this._preferredPositions=i,-1===i.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(i){return this._viewportMargin=i,this}withFlexibleDimensions(i=!0){return this._hasFlexibleDimensions=i,this}withGrowAfterOpen(i=!0){return this._growAfterOpen=i,this}withPush(i=!0){return this._canPush=i,this}withLockedPosition(i=!0){return this._positionLocked=i,this}setOrigin(i){return this._origin=i,this}withDefaultOffsetX(i){return this._offsetX=i,this}withDefaultOffsetY(i){return this._offsetY=i,this}withTransformOriginOn(i){return this._transformOriginSelector=i,this}_getOriginPoint(i,e){let s,a;if("center"==e.originX)s=i.left+i.width/2;else{const l=this._isRtl()?i.right:i.left,h=this._isRtl()?i.left:i.right;s="start"==e.originX?l:h}return a="center"==e.originY?i.top+i.height/2:"top"==e.originY?i.top:i.bottom,{x:s,y:a}}_getOverlayPoint(i,e,s){let a,l;return a="center"==s.overlayX?-e.width/2:"start"===s.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,l="center"==s.overlayY?-e.height/2:"top"==s.overlayY?0:-e.height,{x:i.x+a,y:i.y+l}}_getOverlayFit(i,e,s,a){const l=b4(e);let{x:h,y:v}=i,C=this._getOffset(a,"x"),O=this._getOffset(a,"y");C&&(h+=C),O&&(v+=O);let pe=0-v,we=v+l.height-s.height,Le=this._subtractOverflows(l.width,0-h,h+l.width-s.width),je=this._subtractOverflows(l.height,pe,we),tt=Le*je;return{visibleArea:tt,isCompletelyWithinViewport:l.width*l.height===tt,fitsInViewportVertically:je===l.height,fitsInViewportHorizontally:Le==l.width}}_canFitWithFlexibleDimensions(i,e,s){if(this._hasFlexibleDimensions){const a=s.bottom-e.y,l=s.right-e.x,h=v4(this._overlayRef.getConfig().minHeight),v=v4(this._overlayRef.getConfig().minWidth),O=i.fitsInViewportHorizontally||null!=v&&v<=l;return(i.fitsInViewportVertically||null!=h&&h<=a)&&O}return!1}_pushOverlayOnScreen(i,e,s){if(this._previousPushAmount&&this._positionLocked)return{x:i.x+this._previousPushAmount.x,y:i.y+this._previousPushAmount.y};const a=b4(e),l=this._viewportRect,h=Math.max(i.x+a.width-l.width,0),v=Math.max(i.y+a.height-l.height,0),C=Math.max(l.top-s.top-i.y,0),O=Math.max(l.left-s.left-i.x,0);let G=0,te=0;return G=a.width<=l.width?O||-h:i.x<this._viewportMargin?l.left-s.left-i.x:0,te=a.height<=l.height?C||-v:i.y<this._viewportMargin?l.top-s.top-i.y:0,this._previousPushAmount={x:G,y:te},{x:i.x+G,y:i.y+te}}_applyPosition(i,e){if(this._setTransformOrigin(i),this._setOverlayElementStyles(e,i),this._setBoundingBoxStyles(e,i),i.panelClass&&this._addPanelClasses(i.panelClass),this._lastPosition=i,this._positionChanges.observers.length){const s=this._getScrollVisibility(),a=new fJ(i,s);this._positionChanges.next(a)}this._isInitialRender=!1}_setTransformOrigin(i){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let s,a=i.overlayY;s="center"===i.overlayX?"center":this._isRtl()?"start"===i.overlayX?"right":"left":"start"===i.overlayX?"left":"right";for(let l=0;l<e.length;l++)e[l].style.transformOrigin=`${s} ${a}`}_calculateBoundingBoxRect(i,e){const s=this._viewportRect,a=this._isRtl();let l,h,v,G,te,pe;if("top"===e.overlayY)h=i.y,l=s.height-h+this._viewportMargin;else if("bottom"===e.overlayY)v=s.height-i.y+2*this._viewportMargin,l=s.height-v+this._viewportMargin;else{const we=Math.min(s.bottom-i.y+s.top,i.y),Le=this._lastBoundingBoxSize.height;l=2*we,h=i.y-we,l>Le&&!this._isInitialRender&&!this._growAfterOpen&&(h=i.y-Le/2)}if("end"===e.overlayX&&!a||"start"===e.overlayX&&a)pe=s.width-i.x+this._viewportMargin,G=i.x-this._viewportMargin;else if("start"===e.overlayX&&!a||"end"===e.overlayX&&a)te=i.x,G=s.right-i.x;else{const we=Math.min(s.right-i.x+s.left,i.x),Le=this._lastBoundingBoxSize.width;G=2*we,te=i.x-we,G>Le&&!this._isInitialRender&&!this._growAfterOpen&&(te=i.x-Le/2)}return{top:h,left:te,bottom:v,right:pe,width:G,height:l}}_setBoundingBoxStyles(i,e){const s=this._calculateBoundingBoxRect(i,e);!this._isInitialRender&&!this._growAfterOpen&&(s.height=Math.min(s.height,this._lastBoundingBoxSize.height),s.width=Math.min(s.width,this._lastBoundingBoxSize.width));const a={};if(this._hasExactPosition())a.top=a.left="0",a.bottom=a.right=a.maxHeight=a.maxWidth="",a.width=a.height="100%";else{const l=this._overlayRef.getConfig().maxHeight,h=this._overlayRef.getConfig().maxWidth;a.height=vu(s.height),a.top=vu(s.top),a.bottom=vu(s.bottom),a.width=vu(s.width),a.left=vu(s.left),a.right=vu(s.right),a.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",a.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",l&&(a.maxHeight=vu(l)),h&&(a.maxWidth=vu(h))}this._lastBoundingBoxSize=s,r1(this._boundingBox.style,a)}_resetBoundingBoxStyles(){r1(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){r1(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(i,e){const s={},a=this._hasExactPosition(),l=this._hasFlexibleDimensions,h=this._overlayRef.getConfig();if(a){const G=this._viewportRuler.getViewportScrollPosition();r1(s,this._getExactOverlayY(e,i,G)),r1(s,this._getExactOverlayX(e,i,G))}else s.position="static";let v="",C=this._getOffset(e,"x"),O=this._getOffset(e,"y");C&&(v+=`translateX(${C}px) `),O&&(v+=`translateY(${O}px)`),s.transform=v.trim(),h.maxHeight&&(a?s.maxHeight=vu(h.maxHeight):l&&(s.maxHeight="")),h.maxWidth&&(a?s.maxWidth=vu(h.maxWidth):l&&(s.maxWidth="")),r1(this._pane.style,s)}_getExactOverlayY(i,e,s){let a={top:"",bottom:""},l=this._getOverlayPoint(e,this._overlayRect,i);this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,s));let h=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return l.y-=h,"bottom"===i.overlayY?a.bottom=this._document.documentElement.clientHeight-(l.y+this._overlayRect.height)+"px":a.top=vu(l.y),a}_getExactOverlayX(i,e,s){let h,a={left:"",right:""},l=this._getOverlayPoint(e,this._overlayRect,i);return this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,s)),h=this._isRtl()?"end"===i.overlayX?"left":"right":"end"===i.overlayX?"right":"left","right"===h?a.right=this._document.documentElement.clientWidth-(l.x+this._overlayRect.width)+"px":a.left=vu(l.x),a}_getScrollVisibility(){const i=this._getOriginRect(),e=this._pane.getBoundingClientRect(),s=this._scrollables.map(a=>a.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:f4(i,s),isOriginOutsideView:dF(i,s),isOverlayClipped:f4(e,s),isOverlayOutsideView:dF(e,s)}}_subtractOverflows(i,...e){return e.reduce((s,a)=>s-Math.max(a,0),i)}_getNarrowedViewportRect(){const i=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,s=this._viewportRuler.getViewportScrollPosition();return{top:s.top+this._viewportMargin,left:s.left+this._viewportMargin,right:s.left+i-this._viewportMargin,bottom:s.top+e-this._viewportMargin,width:i-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(i,e){return"x"===e?null==i.offsetX?this._offsetX:i.offsetX:null==i.offsetY?this._offsetY:i.offsetY}_validatePositions(){}_addPanelClasses(i){this._pane&&IC(i).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(i=>{this._pane.classList.remove(i)}),this._appliedPanelClasses=[])}_getOriginRect(){const i=this._origin;if(i instanceof o.SBq)return i.nativeElement.getBoundingClientRect();if(i instanceof Element)return i.getBoundingClientRect();const e=i.width||0,s=i.height||0;return{top:i.y,bottom:i.y+s,left:i.x,right:i.x+e,height:s,width:e}}}function r1(t,i){for(let e in i)i.hasOwnProperty(e)&&(t[e]=i[e]);return t}function v4(t){if("number"!=typeof t&&null!=t){const[i,e]=t.split(yJ);return e&&"px"!==e?null:parseFloat(i)}return t||null}function b4(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}class vJ{constructor(i,e,s,a,l,h,v){this._preferredPositions=[],this._positionStrategy=new y4(s,a,l,h,v).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(i,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(i){this._overlayRef=i,this._positionStrategy.attach(i),this._direction&&(i.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(i){this._positionStrategy.withScrollableContainers(i)}withFallbackPosition(i,e,s,a){const l=new pJ(i,e,s,a);return this._preferredPositions.push(l),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(i){return this._overlayRef?this._overlayRef.setDirection(i):this._direction=i,this}withOffsetX(i){return this._positionStrategy.withDefaultOffsetX(i),this}withOffsetY(i){return this._positionStrategy.withDefaultOffsetY(i),this}withLockedPosition(i){return this._positionStrategy.withLockedPosition(i),this}withPositions(i){return this._preferredPositions=i.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(i){return this._positionStrategy.setOrigin(i),this}}const x4="cdk-global-overlay-wrapper";class bJ{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(i){const e=i.getConfig();this._overlayRef=i,this._width&&!e.width&&i.updateSize({width:this._width}),this._height&&!e.height&&i.updateSize({height:this._height}),i.hostElement.classList.add(x4),this._isDisposed=!1}top(i=""){return this._bottomOffset="",this._topOffset=i,this._alignItems="flex-start",this}left(i=""){return this._rightOffset="",this._leftOffset=i,this._justifyContent="flex-start",this}bottom(i=""){return this._topOffset="",this._bottomOffset=i,this._alignItems="flex-end",this}right(i=""){return this._leftOffset="",this._rightOffset=i,this._justifyContent="flex-end",this}width(i=""){return this._overlayRef?this._overlayRef.updateSize({width:i}):this._width=i,this}height(i=""){return this._overlayRef?this._overlayRef.updateSize({height:i}):this._height=i,this}centerHorizontally(i=""){return this.left(i),this._justifyContent="center",this}centerVertically(i=""){return this.top(i),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const i=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,s=this._overlayRef.getConfig(),{width:a,height:l,maxWidth:h,maxHeight:v}=s,C=!("100%"!==a&&"100vw"!==a||h&&"100%"!==h&&"100vw"!==h),O=!("100%"!==l&&"100vh"!==l||v&&"100%"!==v&&"100vh"!==v);i.position=this._cssPosition,i.marginLeft=C?"0":this._leftOffset,i.marginTop=O?"0":this._topOffset,i.marginBottom=this._bottomOffset,i.marginRight=this._rightOffset,C?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=O?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const i=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,s=e.style;e.classList.remove(x4),s.justifyContent=s.alignItems=i.marginTop=i.marginBottom=i.marginLeft=i.marginRight=i.position="",this._overlayRef=null,this._isDisposed=!0}}let xJ=(()=>{class t{constructor(e,s,a,l){this._viewportRuler=e,this._document=s,this._platform=a,this._overlayContainer=l}global(){return new bJ}connectedTo(e,s,a){return new vJ(s,a,e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(e){return new y4(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(yv),o.LFG(Ee),o.LFG(aa),o.LFG(_k))},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t((0,o.LFG)(yv),(0,o.LFG)(Ee),(0,o.LFG)(aa),(0,o.LFG)(_k))},token:t,providedIn:"root"}),t})(),wJ=0,ig=(()=>{class t{constructor(e,s,a,l,h,v,C,O,G,te,pe){this.scrollStrategies=e,this._overlayContainer=s,this._componentFactoryResolver=a,this._positionBuilder=l,this._keyboardDispatcher=h,this._injector=v,this._ngZone=C,this._document=O,this._directionality=G,this._location=te,this._outsideClickDispatcher=pe}create(e){const s=this._createHostElement(),a=this._createPaneElement(s),l=this._createPortalOutlet(a),h=new gk(e);return h.direction=h.direction||this._directionality.value,new _J(l,s,a,h,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const s=this._document.createElement("div");return s.id="cdk-overlay-"+wJ++,s.classList.add("cdk-overlay-pane"),e.appendChild(s),s}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(o.z2F)),new u4(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(hJ),o.LFG(_k),o.LFG(o._Vd),o.LFG(xJ),o.LFG(mJ),o.LFG(o.zs3),o.LFG(o.R0b),o.LFG(Ee),o.LFG(Hh),o.LFG(hi),o.LFG(gJ))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();const CJ=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],w4=new o.OlP("cdk-connected-overlay-scroll-strategy");let MJ=(()=>{class t{constructor(e){this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq))},t.\u0275dir=o.lG2({type:t,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),t})(),C4=(()=>{class t{constructor(e,s,a,l,h){this._overlay=e,this._dir=h,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Ua.w.EMPTY,this._attachSubscription=Ua.w.EMPTY,this._detachSubscription=Ua.w.EMPTY,this._positionSubscription=Ua.w.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new o.vpe,this.positionChange=new o.vpe,this.attach=new o.vpe,this.detach=new o.vpe,this.overlayKeydown=new o.vpe,this.overlayOutsideClick=new o.vpe,this._templatePortal=new ix(s,a),this._scrollStrategyFactory=l,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=ps(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=ps(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=ps(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=ps(e)}get push(){return this._push}set push(e){this._push=ps(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=CJ);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(s=>{this.overlayKeydown.next(s),27===s.keyCode&&!this.disableClose&&!ay(s)&&(s.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(s=>{this.overlayOutsideClick.next(s)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),s=new gk({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(s.width=this.width),(this.height||0===this.height)&&(s.height=this.height),(this.minWidth||0===this.minWidth)&&(s.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(s.minHeight=this.minHeight),this.backdropClass&&(s.backdropClass=this.backdropClass),this.panelClass&&(s.panelClass=this.panelClass),s}_updatePositionStrategy(e){const s=this.positions.map(a=>({originX:a.originX,originY:a.originY,overlayX:a.overlayX,overlayY:a.overlayY,offsetX:a.offsetX||this.offsetX,offsetY:a.offsetY||this.offsetY,panelClass:a.panelClass||void 0}));return e.setOrigin(this.origin.elementRef).withPositions(s).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(e),e}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(t,i=!1){return e=>e.lift(new aJ(t,i))}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(ig),o.Y36(o.Rgc),o.Y36(o.s_b),o.Y36(w4),o.Y36(Hh,8))},t.\u0275dir=o.lG2({type:t,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[o.TTD]}),t})();const SJ={provide:w4,deps:[ig],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let yk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[ig,SJ],imports:[[_v,_L,ef],ef]}),t})();const kJ=["underline"],EJ=["connectionContainer"],DJ=["inputContainer"],AJ=["label"];function IJ(t,i){1&t&&(o.ynx(0),o.TgZ(1,"div",14),o._UZ(2,"div",15),o._UZ(3,"div",16),o._UZ(4,"div",17),o.qZA(),o.TgZ(5,"div",18),o._UZ(6,"div",15),o._UZ(7,"div",16),o._UZ(8,"div",17),o.qZA(),o.BQk())}function LJ(t,i){1&t&&(o.TgZ(0,"div",19),o.Hsn(1,1),o.qZA())}function PJ(t,i){if(1&t&&(o.ynx(0),o.Hsn(1,2),o.TgZ(2,"span"),o._uU(3),o.qZA(),o.BQk()),2&t){const e=o.oxw(2);o.xp6(3),o.Oqu(e._control.placeholder)}}function OJ(t,i){1&t&&o.Hsn(0,3,["*ngSwitchCase","true"])}function RJ(t,i){1&t&&(o.TgZ(0,"span",23),o._uU(1," *"),o.qZA())}function FJ(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"label",20,21),o.NdJ("cdkObserveContent",function(){return o.CHM(e),o.oxw().updateOutlineGap()}),o.YNc(2,PJ,4,1,"ng-container",12),o.YNc(3,OJ,1,0,"ng-content",12),o.YNc(4,RJ,2,0,"span",22),o.qZA()}if(2&t){const e=o.oxw();o.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),o.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),o.uIk("for",e._control.id)("aria-owns",e._control.id),o.xp6(2),o.Q6J("ngSwitchCase",!1),o.xp6(1),o.Q6J("ngSwitchCase",!0),o.xp6(1),o.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function NJ(t,i){1&t&&(o.TgZ(0,"div",24),o.Hsn(1,4),o.qZA())}function zJ(t,i){if(1&t&&(o.TgZ(0,"div",25,26),o._UZ(2,"span",27),o.qZA()),2&t){const e=o.oxw();o.xp6(2),o.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function BJ(t,i){if(1&t&&(o.TgZ(0,"div"),o.Hsn(1,5),o.qZA()),2&t){const e=o.oxw();o.Q6J("@transitionMessages",e._subscriptAnimationState)}}function YJ(t,i){if(1&t&&(o.TgZ(0,"div",31),o._uU(1),o.qZA()),2&t){const e=o.oxw(2);o.Q6J("id",e._hintLabelId),o.xp6(1),o.Oqu(e.hintLabel)}}function HJ(t,i){if(1&t&&(o.TgZ(0,"div",28),o.YNc(1,YJ,2,2,"div",29),o.Hsn(2,6),o._UZ(3,"div",30),o.Hsn(4,7),o.qZA()),2&t){const e=o.oxw();o.Q6J("@transitionMessages",e._subscriptAnimationState),o.xp6(1),o.Q6J("ngIf",e.hintLabel)}}const VJ=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],UJ=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],M4=new o.OlP("MatError"),ZJ={transitionMessages:oa("transitionMessages",[bo("enter",oi({opacity:1,transform:"translateY(0%)"})),Ir("void => enter",[oi({opacity:0,transform:"translateY(-5px)"}),qr("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let yL=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=o.lG2({type:t}),t})();const T4=new o.OlP("MatHint");let Ib=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=o.lG2({type:t,selectors:[["mat-label"]]}),t})(),WJ=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=o.lG2({type:t,selectors:[["mat-placeholder"]]}),t})();const S4=new o.OlP("MatPrefix"),k4=new o.OlP("MatSuffix");let E4=0;class $J{constructor(i){this._elementRef=i}}const QJ=iM($J,"primary"),XJ=new o.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),hF=new o.OlP("MatFormField");let rx=(()=>{class t extends QJ{constructor(e,s,a,l,h,v,C,O){super(e),this._elementRef=e,this._changeDetectorRef=s,this._dir=l,this._defaults=h,this._platform=v,this._ngZone=C,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new li.xQ,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+E4++,this._labelId="mat-form-field-label-"+E4++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==O,this.appearance=h&&h.appearance?h.appearance:"legacy",this._hideRequiredMarker=!(!h||null==h.hideRequiredMarker)&&h.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const s=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&s!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=ps(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(Tn(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Fo(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Fo(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Ka.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Tn(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Tn(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Fo(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const s=this._control?this._control.ngControl:null;return s&&s[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,fv(this._label.nativeElement,"transitionend").pipe(xe(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const s=this._hintChildren?this._hintChildren.find(l=>"start"===l.align):null,a=this._hintChildren?this._hintChildren.find(l=>"end"===l.align):null;s?e.push(s.id):this._hintLabel&&e.push(this._hintLabelId),a&&e.push(a.id)}else this._errorChildren&&e.push(...this._errorChildren.map(s=>s.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&e&&e.children.length&&e.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let s=0,a=0;const l=this._connectionContainerRef.nativeElement,h=l.querySelectorAll(".mat-form-field-outline-start"),v=l.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const C=l.getBoundingClientRect();if(0===C.width&&0===C.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const O=this._getStartEnd(C),G=e.children,te=this._getStartEnd(G[0].getBoundingClientRect());let pe=0;for(let we=0;we<G.length;we++)pe+=G[we].offsetWidth;s=Math.abs(te-O)-5,a=pe>0?.75*pe+10:0}for(let C=0;C<h.length;C++)h[C].style.width=`${s}px`;for(let C=0;C<v.length;C++)v[C].style.width=`${a}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const s=e.getRootNode();return s&&s!==e}return document.documentElement.contains(e)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(Hh,8),o.Y36(XJ,8),o.Y36(aa),o.Y36(o.R0b),o.Y36(Of,8))},t.\u0275cmp=o.Xpm({type:t,selectors:[["mat-form-field"]],contentQueries:function(e,s,a){if(1&e&&(o.Suo(a,yL,5),o.Suo(a,yL,7),o.Suo(a,Ib,5),o.Suo(a,Ib,7),o.Suo(a,WJ,5),o.Suo(a,M4,5),o.Suo(a,T4,5),o.Suo(a,S4,5),o.Suo(a,k4,5)),2&e){let l;o.iGM(l=o.CRH())&&(s._controlNonStatic=l.first),o.iGM(l=o.CRH())&&(s._controlStatic=l.first),o.iGM(l=o.CRH())&&(s._labelChildNonStatic=l.first),o.iGM(l=o.CRH())&&(s._labelChildStatic=l.first),o.iGM(l=o.CRH())&&(s._placeholderChild=l.first),o.iGM(l=o.CRH())&&(s._errorChildren=l),o.iGM(l=o.CRH())&&(s._hintChildren=l),o.iGM(l=o.CRH())&&(s._prefixChildren=l),o.iGM(l=o.CRH())&&(s._suffixChildren=l)}},viewQuery:function(e,s){if(1&e&&(o.Gf(kJ,5),o.Gf(EJ,7),o.Gf(DJ,5),o.Gf(AJ,5)),2&e){let a;o.iGM(a=o.CRH())&&(s.underlineRef=a.first),o.iGM(a=o.CRH())&&(s._connectionContainerRef=a.first),o.iGM(a=o.CRH())&&(s._inputContainerRef=a.first),o.iGM(a=o.CRH())&&(s._label=a.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,s){2&e&&o.ekj("mat-form-field-appearance-standard","standard"==s.appearance)("mat-form-field-appearance-fill","fill"==s.appearance)("mat-form-field-appearance-outline","outline"==s.appearance)("mat-form-field-appearance-legacy","legacy"==s.appearance)("mat-form-field-invalid",s._control.errorState)("mat-form-field-can-float",s._canLabelFloat())("mat-form-field-should-float",s._shouldLabelFloat())("mat-form-field-has-label",s._hasFloatingLabel())("mat-form-field-hide-placeholder",s._hideControlPlaceholder())("mat-form-field-disabled",s._control.disabled)("mat-form-field-autofilled",s._control.autofilled)("mat-focused",s._control.focused)("ng-untouched",s._shouldForward("untouched"))("ng-touched",s._shouldForward("touched"))("ng-pristine",s._shouldForward("pristine"))("ng-dirty",s._shouldForward("dirty"))("ng-valid",s._shouldForward("valid"))("ng-invalid",s._shouldForward("invalid"))("ng-pending",s._shouldForward("pending"))("_mat-animation-noopable",!s._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[o._Bn([{provide:hF,useExisting:t}]),o.qOj],ngContentSelectors:UJ,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,s){1&e&&(o.F$t(VJ),o.TgZ(0,"div",0),o.TgZ(1,"div",1,2),o.NdJ("click",function(l){return s._control.onContainerClick&&s._control.onContainerClick(l)}),o.YNc(3,IJ,9,0,"ng-container",3),o.YNc(4,LJ,2,0,"div",4),o.TgZ(5,"div",5,6),o.Hsn(7),o.TgZ(8,"span",7),o.YNc(9,FJ,5,16,"label",8),o.qZA(),o.qZA(),o.YNc(10,NJ,2,0,"div",9),o.qZA(),o.YNc(11,zJ,3,4,"div",10),o.TgZ(12,"div",11),o.YNc(13,BJ,2,1,"div",12),o.YNc(14,HJ,5,2,"div",13),o.qZA(),o.qZA()),2&e&&(o.xp6(3),o.Q6J("ngIf","outline"==s.appearance),o.xp6(1),o.Q6J("ngIf",s._prefixChildren.length),o.xp6(5),o.Q6J("ngIf",s._hasFloatingLabel()),o.xp6(1),o.Q6J("ngIf",s._suffixChildren.length),o.xp6(1),o.Q6J("ngIf","outline"!=s.appearance),o.xp6(1),o.Q6J("ngSwitch",s._getDisplayedMessages()),o.xp6(1),o.Q6J("ngSwitchCase","error"),o.xp6(1),o.Q6J("ngSwitchCase","hint"))},directives:[un,pr,_i,AY],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[ZJ.transitionMessages]},changeDetection:0}),t})(),vL=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Ji,Fs,xR],Fs]}),t})();const JJ=["trigger"],KJ=["panel"];function eK(t,i){if(1&t&&(o.TgZ(0,"span",8),o._uU(1),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Oqu(e.placeholder)}}function tK(t,i){if(1&t&&(o.TgZ(0,"span",12),o._uU(1),o.qZA()),2&t){const e=o.oxw(2);o.xp6(1),o.Oqu(e.triggerValue)}}function nK(t,i){1&t&&o.Hsn(0,0,["*ngSwitchCase","true"])}function iK(t,i){if(1&t&&(o.TgZ(0,"span",9),o.YNc(1,tK,2,1,"span",10),o.YNc(2,nK,1,0,"ng-content",11),o.qZA()),2&t){const e=o.oxw();o.Q6J("ngSwitch",!!e.customTrigger),o.xp6(2),o.Q6J("ngSwitchCase",!0)}}function rK(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",13),o.TgZ(1,"div",14,15),o.NdJ("@transformPanel.done",function(a){return o.CHM(e),o.oxw()._panelDoneAnimatingStream.next(a.toState)})("keydown",function(a){return o.CHM(e),o.oxw()._handleKeydown(a)}),o.Hsn(3,1),o.qZA(),o.qZA()}if(2&t){const e=o.oxw();o.Q6J("@transformPanelWrap",void 0),o.xp6(1),o.Gre("mat-select-panel ",e._getPanelTheme(),""),o.Udp("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),o.Q6J("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),o.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const sK=[[["mat-select-trigger"]],"*"],oK=["mat-select-trigger","*"],A4={transformPanelWrap:oa("transformPanelWrap",[Ir("* => void",hv("@transformPanel",[TC()],{optional:!0}))]),transformPanel:oa("transformPanel",[bo("void",oi({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),bo("showing",oi({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),bo("showing-multiple",oi({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Ir("void => *",qr("120ms cubic-bezier(0, 0, 0.2, 1)")),Ir("* => void",qr("100ms 25ms linear",oi({opacity:0})))])};let I4=0;const P4=new o.OlP("mat-select-scroll-strategy"),uK=new o.OlP("MAT_SELECT_CONFIG"),dK={provide:P4,deps:[ig],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};class hK{constructor(i,e){this.source=i,this.value=e}}class pK{constructor(i,e,s,a,l){this._elementRef=i,this._defaultErrorStateMatcher=e,this._parentForm=s,this._parentFormGroup=a,this.ngControl=l}}const fK=tx(W6(Dv(q6(pK)))),O4=new o.OlP("MatSelectTrigger");let mK=(()=>{class t extends fK{constructor(e,s,a,l,h,v,C,O,G,te,pe,we,Le,je){var tt,yt,Zt;super(h,l,C,O,te),this._viewportRuler=e,this._changeDetectorRef=s,this._ngZone=a,this._dir=v,this._parentFormField=G,this.ngControl=te,this._liveAnnouncer=Le,this._defaultOptions=je,this._panelOpen=!1,this._compareWith=(tn,gn)=>tn===gn,this._uid="mat-select-"+I4++,this._triggerAriaLabelledBy=null,this._destroy=new li.xQ,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+I4++,this._panelDoneAnimatingStream=new li.xQ,this._overlayPanelClass=(null===(tt=this._defaultOptions)||void 0===tt?void 0:tt.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._required=!1,this._multiple=!1,this._disableOptionCentering=null!==(Zt=null===(yt=this._defaultOptions)||void 0===yt?void 0:yt.disableOptionCentering)&&void 0!==Zt&&Zt,this.ariaLabel="",this.optionSelectionChanges=nt(()=>{const tn=this.options;return tn?tn.changes.pipe(Tn(tn),Os(()=>(0,Ka.T)(...tn.map(gn=>gn.onSelectionChange)))):this._ngZone.onStable.pipe(xe(1),Os(()=>this.optionSelectionChanges))}),this.openedChange=new o.vpe,this._openedStream=this.openedChange.pipe(T(tn=>tn),(0,Ri.U)(()=>{})),this._closedStream=this.openedChange.pipe(T(tn=>!tn),(0,Ri.U)(()=>{})),this.selectionChange=new o.vpe,this.valueChange=new o.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==je?void 0:je.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=je.typeaheadDebounceInterval),this._scrollStrategyFactory=we,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(pe)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required}set required(e){this._required=ps(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=ps(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=ps(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=yu(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new CS(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(cu(),Fo(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Fo(this._destroy)).subscribe(e=>{e.added.forEach(s=>s.select()),e.removed.forEach(s=>s.deselect())}),this.options.changes.pipe(Tn(null),Fo(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby();if(e!==this._triggerAriaLabelledBy){const s=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?s.setAttribute("aria-labelledby",e):s.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(e){e.disabled&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this.value=e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(s=>s.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const s=e.keyCode,a=40===s||38===s||37===s||39===s,l=13===s||32===s,h=this._keyManager;if(!h.isTyping()&&l&&!ay(e)||(this.multiple||e.altKey)&&a)e.preventDefault(),this.open();else if(!this.multiple){const v=this.selected;h.onKeydown(e);const C=this.selected;C&&v!==C&&this._liveAnnouncer.announce(C.viewValue,1e4)}}_handleOpenKeydown(e){const s=this._keyManager,a=e.keyCode,l=40===a||38===a,h=s.isTyping();if(l&&e.altKey)e.preventDefault(),this.close();else if(h||13!==a&&32!==a||!s.activeItem||ay(e))if(!h&&this._multiple&&65===a&&e.ctrlKey){e.preventDefault();const v=this.options.some(C=>!C.disabled&&!C.selected);this.options.forEach(C=>{C.disabled||(v?C.select():C.deselect())})}else{const v=s.activeItemIndex;s.onKeydown(e),this._multiple&&l&&e.shiftKey&&s.activeItem&&s.activeItemIndex!==v&&s.activeItem._selectViaInteraction()}else e.preventDefault(),s.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this.overlayDir.positionChange.pipe(xe(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(s=>s.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(s=>this._selectValue(s)),this._sortValues();else{const s=this._selectValue(e);s?this._keyManager.updateActiveItem(s):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(e){const s=this.options.find(a=>{if(this._selectionModel.isSelected(a))return!1;try{return null!=a.value&&this._compareWith(a.value,e)}catch(l){return!1}});return s&&this._selectionModel.select(s),s}_initKeyManager(){this._keyManager=new l$(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Fo(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(Fo(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,Ka.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Fo(e)).subscribe(s=>{this._onSelect(s.source,s.isUserInput),s.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Ka.T)(...this.options.map(s=>s._stateChanges)).pipe(Fo(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,s){const a=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(a!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),s&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),s&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),a!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((s,a)=>this.sortComparator?this.sortComparator(s,a,e):e.indexOf(s)-e.indexOf(a)),this.stateChanges.next()}}_propagateChanges(e){let s=null;s=this.multiple?this.selected.map(a=>a.value):this.selected?this.selected.value:e,this._value=s,this.valueChange.emit(s),this._onChange(s),this.selectionChange.emit(this._getChangeEvent(s)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var e;return!this._panelOpen&&!this.disabled&&(null===(e=this.options)||void 0===e?void 0:e.length)>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){var e;if(this.ariaLabel)return null;const s=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();return this.ariaLabelledby?(s?s+" ":"")+this.ariaLabelledby:s}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var e;if(this.ariaLabel)return null;const s=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();let a=(s?s+" ":"")+this._valueId;return this.ariaLabelledby&&(a+=" "+this.ariaLabelledby),a}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(yv),o.Y36(o.sBO),o.Y36(o.R0b),o.Y36(nF),o.Y36(o.SBq),o.Y36(Hh,8),o.Y36(zw,8),o.Y36(eg,8),o.Y36(hF,8),o.Y36(Jt,10),o.$8M("tabindex"),o.Y36(P4),o.Y36(ZI),o.Y36(uK,8))},t.\u0275dir=o.lG2({type:t,viewQuery:function(e,s){if(1&e&&(o.Gf(JJ,5),o.Gf(KJ,5),o.Gf(C4,5)),2&e){let a;o.iGM(a=o.CRH())&&(s.trigger=a.first),o.iGM(a=o.CRH())&&(s.panel=a.first),o.iGM(a=o.CRH())&&(s.overlayDir=a.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],id:"id",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",typeaheadDebounceInterval:"typeaheadDebounceInterval",panelClass:"panelClass",ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",sortComparator:"sortComparator"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[o.qOj,o.TTD]}),t})(),gK=(()=>{class t extends mK{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,s,a){const l=this._getItemHeight();return Math.min(Math.max(0,l*e-s+l/2),a)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Fo(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(xe(1)).subscribe(()=>{this._triggerFontSize&&this.overlayDir.overlayRef&&this.overlayDir.overlayRef.overlayElement&&(this.overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const s=r4(e,this.options,this.optionGroups),a=this._getItemHeight();this.panel.nativeElement.scrollTop=function(t,i,e,s){return t<e?t:t+i>e+256?Math.max(0,t-256+i):e}((e+s)*a,a,this.panel.nativeElement.scrollTop)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this.overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new hK(this,e)}_calculateOverlayOffsetX(){const e=this.overlayDir.overlayRef.overlayElement.getBoundingClientRect(),s=this._viewportRuler.getViewportSize(),a=this._isRtl(),l=this.multiple?56:32;let h;if(this.multiple)h=40;else if(this.disableOptionCentering)h=16;else{let O=this._selectionModel.selected[0]||this.options.first;h=O&&O.group?32:16}a||(h*=-1);const v=0-(e.left+h-(a?l:0)),C=e.right+h-s.width+(a?0:l);v>0?h+=v+8:C>0&&(h-=C+8),this.overlayDir.offsetX=Math.round(h),this.overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,s,a){const l=this._getItemHeight(),h=(l-this._triggerRect.height)/2,v=Math.floor(256/l);let C;return this.disableOptionCentering?0:(C=0===this._scrollTop?e*l:this._scrollTop===a?(e-(this._getItemCount()-v))*l+(l-(this._getItemCount()*l-256)%l):s-l/2,Math.round(-1*C-h))}_checkOverlayWithinViewport(e){const s=this._getItemHeight(),a=this._viewportRuler.getViewportSize(),l=this._triggerRect.top-8,h=a.height-this._triggerRect.bottom-8,v=Math.abs(this._offsetY),O=Math.min(this._getItemCount()*s,256)-v-this._triggerRect.height;O>h?this._adjustPanelUp(O,h):v>l?this._adjustPanelDown(v,l,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,s){const a=Math.round(e-s);this._scrollTop-=a,this._offsetY-=a,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,s,a){const l=Math.round(e-s);if(this._scrollTop+=l,this._offsetY+=l,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=a)return this._scrollTop=a,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),s=this._getItemCount(),a=Math.min(s*e,256),h=s*e-a;let v;v=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),v+=r4(v,this.options,this.optionGroups);const C=a/2;this._scrollTop=this._calculateOverlayScroll(v,C,h),this._offsetY=this._calculateOverlayOffsetY(v,C,h),this._checkOverlayWithinViewport(h)}_getOriginBasedOnOption(){const e=this._getItemHeight(),s=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-s+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return t.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(t)))(s||t)}}(),t.\u0275cmp=o.Xpm({type:t,selectors:[["mat-select"]],contentQueries:function(e,s,a){if(1&e&&(o.Suo(a,O4,5),o.Suo(a,n4,5),o.Suo(a,lF,5)),2&e){let l;o.iGM(l=o.CRH())&&(s.customTrigger=l.first),o.iGM(l=o.CRH())&&(s.options=l),o.iGM(l=o.CRH())&&(s.optionGroups=l)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(e,s){1&e&&o.NdJ("keydown",function(l){return s._handleKeydown(l)})("focus",function(){return s._onFocus()})("blur",function(){return s._onBlur()}),2&e&&(o.uIk("id",s.id)("tabindex",s.tabIndex)("aria-controls",s.panelOpen?s.id+"-panel":null)("aria-expanded",s.panelOpen)("aria-label",s.ariaLabel||null)("aria-required",s.required.toString())("aria-disabled",s.disabled.toString())("aria-invalid",s.errorState)("aria-describedby",s._ariaDescribedby||null)("aria-activedescendant",s._getAriaActiveDescendant()),o.ekj("mat-select-disabled",s.disabled)("mat-select-invalid",s.errorState)("mat-select-required",s.required)("mat-select-empty",s.empty)("mat-select-multiple",s.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[o._Bn([{provide:yL,useExisting:t},{provide:aF,useExisting:t}]),o.qOj],ngContentSelectors:oK,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,s){if(1&e&&(o.F$t(sK),o.TgZ(0,"div",0,1),o.NdJ("click",function(){return s.toggle()}),o.TgZ(3,"div",2),o.YNc(4,eK,2,1,"span",3),o.YNc(5,iK,3,2,"span",4),o.qZA(),o.TgZ(6,"div",5),o._UZ(7,"div",6),o.qZA(),o.qZA(),o.YNc(8,rK,4,14,"ng-template",7),o.NdJ("backdropClick",function(){return s.close()})("attach",function(){return s._onAttached()})("detach",function(){return s.close()})),2&e){const a=o.MAs(1);o.uIk("aria-owns",s.panelOpen?s.id+"-panel":null),o.xp6(3),o.Q6J("ngSwitch",s.empty),o.uIk("id",s._valueId),o.xp6(1),o.Q6J("ngSwitchCase",!0),o.xp6(1),o.Q6J("ngSwitchCase",!1),o.xp6(3),o.Q6J("cdkConnectedOverlayPanelClass",s._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",s._scrollStrategy)("cdkConnectedOverlayOrigin",a)("cdkConnectedOverlayOpen",s.panelOpen)("cdkConnectedOverlayPositions",s._positions)("cdkConnectedOverlayMinWidth",null==s._triggerRect?null:s._triggerRect.width)("cdkConnectedOverlayOffsetY",s._offsetY)}},directives:[MJ,pr,_i,C4,Yi,he],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px}\n'],encapsulation:2,data:{animation:[A4.transformPanelWrap,A4.transformPanel]},changeDetection:0}),t})(),R4=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[dK],imports:[[Ji,yk,s4,Fs],ey,vL,s4,Fs]}),t})();class yK{constructor(i){this.total=i}call(i,e){return e.subscribe(new vK(i,this.total))}}class vK extends Ao.L{constructor(i,e){super(i),this.total=e,this.count=0}_next(i){++this.count>this.total&&this.destination.next(i)}}const F4=new Set;let lM,N4=(()=>{class t{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):xK}matchMedia(e){return this._platform.WEBKIT&&function(t){if(!F4.has(t))try{lM||(lM=document.createElement("style"),lM.setAttribute("type","text/css"),document.head.appendChild(lM)),lM.sheet&&(lM.sheet.insertRule(`@media ${t} {.fx-query-test{ }}`,0),F4.add(t))}catch(i){console.error(i)}}(e),this._matchMedia(e)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(aa))},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t((0,o.LFG)(aa))},token:t,providedIn:"root"}),t})();function xK(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let pF=(()=>{class t{constructor(e,s){this._mediaMatcher=e,this._zone=s,this._queries=new Map,this._destroySubject=new li.xQ}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return z4(IC(e)).some(a=>this._registerQuery(a).mql.matches)}observe(e){let l=Wc(z4(IC(e)).map(h=>this._registerQuery(h).observable));return l=Ue(l.pipe(xe(1)),l.pipe(i=>i.lift(new yK(1)),hk(0))),l.pipe((0,Ri.U)(h=>{const v={matches:!1,breakpoints:{}};return h.forEach(({matches:C,query:O})=>{v.matches=v.matches||C,v.breakpoints[O]=C}),v}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const s=this._mediaMatcher.matchMedia(e),l={observable:new Rr.y(h=>{const v=C=>this._zone.run(()=>h.next(C));return s.addListener(v),()=>{s.removeListener(v)}}).pipe(Tn(s),(0,Ri.U)(({matches:h})=>({query:e,matches:h})),Fo(this._destroySubject)),mql:s};return this._queries.set(e,l),l}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(N4),o.LFG(o.R0b))},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t((0,o.LFG)(N4),(0,o.LFG)(o.R0b))},token:t,providedIn:"root"}),t})();function z4(t){return t.map(i=>i.split(",")).reduce((i,e)=>i.concat(e)).map(i=>i.trim())}const wK={tooltipState:oa("state",[bo("initial, void, hidden",oi({opacity:0,transform:"scale(0)"})),bo("visible",oi({transform:"scale(1)"})),Ir("* => visible",qr("200ms cubic-bezier(0, 0, 0.2, 1)",X_([oi({opacity:0,transform:"scale(0)",offset:0}),oi({opacity:.5,transform:"scale(0.99)",offset:.5}),oi({opacity:1,transform:"scale(1)",offset:1})]))),Ir("* => hidden",qr("100ms cubic-bezier(0, 0, 0.2, 1)",oi({opacity:0})))])},Y4=Aw({passive:!0}),H4=new o.OlP("mat-tooltip-scroll-strategy"),kK={provide:H4,deps:[ig],useFactory:function(t){return()=>t.scrollStrategies.reposition({scrollThrottle:20})}},EK=new o.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let AK=(()=>{class t{constructor(e,s,a,l,h,v,C,O,G,te,pe,we){this._overlay=e,this._elementRef=s,this._scrollDispatcher=a,this._viewContainerRef=l,this._ngZone=h,this._platform=v,this._ariaDescriber=C,this._focusMonitor=O,this._dir=te,this._defaultOptions=pe,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this.showDelay=this._defaultOptions.showDelay,this.hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new li.xQ,this._handleKeydown=Le=>{this._isTooltipVisible()&&27===Le.keyCode&&!ay(Le)&&(Le.preventDefault(),Le.stopPropagation(),this._ngZone.run(()=>this.hide(0)))},this._scrollStrategy=G,pe&&(pe.position&&(this.position=pe.position),pe.touchGestures&&(this.touchGestures=pe.touchGestures)),h.runOutsideAngular(()=>{s.nativeElement.addEventListener("keydown",this._handleKeydown)})}get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(),this._tooltipInstance&&this._tooltipInstance.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(e){this._disabled=ps(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Fo(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),e.removeEventListener("keydown",this._handleKeydown),this._passiveListeners.forEach(([s,a])=>{e.removeEventListener(s,a,Y4)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const s=this._createOverlay();this._detach(),this._portal=this._portal||new oM(IK,this._viewContainerRef),this._tooltipInstance=s.attach(this._portal).instance,this._tooltipInstance.afterHidden().pipe(Fo(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),this._tooltipInstance.show(e)}hide(e=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(e)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const e=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),s=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(".mat-tooltip").withFlexibleDimensions(!1).withViewportMargin(8).withScrollableContainers(e);return s.positionChanges.pipe(Fo(this._destroyed)).subscribe(a=>{this._tooltipInstance&&a.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:s,panelClass:"mat-tooltip-panel",scrollStrategy:this._scrollStrategy()}),this._updatePosition(),this._overlayRef.detachments().pipe(Fo(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(){const e=this._overlayRef.getConfig().positionStrategy,s=this._getOrigin(),a=this._getOverlayPosition();e.withPositions([Object.assign(Object.assign({},s.main),a.main),Object.assign(Object.assign({},s.fallback),a.fallback)])}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,s=this.position;let a;"above"==s||"below"==s?a={originX:"center",originY:"above"==s?"top":"bottom"}:"before"==s||"left"==s&&e||"right"==s&&!e?a={originX:"start",originY:"center"}:("after"==s||"right"==s&&e||"left"==s&&!e)&&(a={originX:"end",originY:"center"});const{x:l,y:h}=this._invertPosition(a.originX,a.originY);return{main:a,fallback:{originX:l,originY:h}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,s=this.position;let a;"above"==s?a={overlayX:"center",overlayY:"bottom"}:"below"==s?a={overlayX:"center",overlayY:"top"}:"before"==s||"left"==s&&e||"right"==s&&!e?a={overlayX:"end",overlayY:"center"}:("after"==s||"right"==s&&e||"left"==s&&!e)&&(a={overlayX:"start",overlayY:"center"});const{x:l,y:h}=this._invertPosition(a.overlayX,a.overlayY);return{main:a,fallback:{overlayX:l,overlayY:h}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(xe(1),Fo(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,s){return"above"===this.position||"below"===this.position?"top"===s?s="bottom":"bottom"===s&&(s="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:s}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",()=>this.hide()],["wheel",s=>this._wheelListener(s)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const s=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",s],["touchcancel",s])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([s,a])=>{this._elementRef.nativeElement.addEventListener(s,a,Y4)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const a=(this._document||document).elementFromPoint(e.clientX,e.clientY),l=this._elementRef.nativeElement;a!==l&&!l.contains(a)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const s=this._elementRef.nativeElement,a=s.style;("on"===e||"INPUT"!==s.nodeName&&"TEXTAREA"!==s.nodeName)&&(a.userSelect=a.msUserSelect=a.webkitUserSelect=a.MozUserSelect="none"),("on"===e||!s.draggable)&&(a.webkitUserDrag="none"),a.touchAction="none",a.webkitTapHighlightColor="transparent"}}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(ig),o.Y36(o.SBq),o.Y36(Fw),o.Y36(o.s_b),o.Y36(o.R0b),o.Y36(aa),o.Y36(OY),o.Y36(ly),o.Y36(H4),o.Y36(Hh,8),o.Y36(EK,8),o.Y36(Ee))},t.\u0275dir=o.lG2({type:t,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],inputs:{showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]}),t})(),IK=(()=>{class t{constructor(e,s){this._changeDetectorRef=e,this._breakpointObserver=s,this._visibility="initial",this._closeOnInteraction=!1,this._onHide=new li.xQ,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)")}show(e){this._hideTimeoutId&&(clearTimeout(this._hideTimeoutId),this._hideTimeoutId=null),this._closeOnInteraction=!0,this._showTimeoutId=setTimeout(()=>{this._visibility="visible",this._showTimeoutId=null,this._markForCheck()},e)}hide(e){this._showTimeoutId&&(clearTimeout(this._showTimeoutId),this._showTimeoutId=null),this._hideTimeoutId=setTimeout(()=>{this._visibility="hidden",this._hideTimeoutId=null,this._markForCheck()},e)}afterHidden(){return this._onHide}isVisible(){return"visible"===this._visibility}ngOnDestroy(){this._onHide.complete()}_animationStart(){this._closeOnInteraction=!1}_animationDone(e){const s=e.toState;"hidden"===s&&!this.isVisible()&&this._onHide.next(),("visible"===s||"hidden"===s)&&(this._closeOnInteraction=!0)}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.sBO),o.Y36(pF))},t.\u0275cmp=o.Xpm({type:t,selectors:[["mat-tooltip-component"]],hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,s){1&e&&o.NdJ("click",function(){return s._handleBodyInteraction()},!1,o.pYS)("auxclick",function(){return s._handleBodyInteraction()},!1,o.pYS),2&e&&o.Udp("zoom","visible"===s._visibility?1:null)},decls:3,vars:7,consts:[[1,"mat-tooltip",3,"ngClass"]],template:function(e,s){if(1&e&&(o.TgZ(0,"div",0),o.NdJ("@state.start",function(){return s._animationStart()})("@state.done",function(l){return s._animationDone(l)}),o.ALo(1,"async"),o._uU(2),o.qZA()),2&e){let a;o.ekj("mat-tooltip-handset",null==(a=o.lcZ(1,5,s._isHandset))?null:a.matches),o.Q6J("ngClass",s.tooltipClass)("@state",s._visibility),o.xp6(2),o.Oqu(s.message)}},directives:[he],pipes:[Nl],styles:[".mat-tooltip-panel{pointer-events:none !important}.mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}\n"],encapsulation:2,data:{animation:[wK.tooltipState]},changeDetection:0}),t})(),LK=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[kK],imports:[[WY,Ji,yk,Fs],Fs,ey]}),t})();function PK(t,i){if(1&t&&(o.TgZ(0,"mat-option",19),o._uU(1),o.qZA()),2&t){const e=i.$implicit;o.Q6J("value",e),o.xp6(1),o.hij(" ",e," ")}}function OK(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"mat-form-field",16),o.TgZ(1,"mat-select",17),o.NdJ("selectionChange",function(a){return o.CHM(e),o.oxw(2)._changePageSize(a.value)}),o.YNc(2,PK,2,2,"mat-option",18),o.qZA(),o.qZA()}if(2&t){const e=o.oxw(2);o.Q6J("appearance",e._formFieldAppearance)("color",e.color),o.xp6(1),o.Q6J("value",e.pageSize)("disabled",e.disabled)("aria-label",e._intl.itemsPerPageLabel),o.xp6(1),o.Q6J("ngForOf",e._displayedPageSizeOptions)}}function RK(t,i){if(1&t&&(o.TgZ(0,"div",20),o._uU(1),o.qZA()),2&t){const e=o.oxw(2);o.xp6(1),o.Oqu(e.pageSize)}}function FK(t,i){if(1&t&&(o.TgZ(0,"div",12),o.TgZ(1,"div",13),o._uU(2),o.qZA(),o.YNc(3,OK,3,6,"mat-form-field",14),o.YNc(4,RK,2,1,"div",15),o.qZA()),2&t){const e=o.oxw();o.xp6(2),o.hij(" ",e._intl.itemsPerPageLabel," "),o.xp6(1),o.Q6J("ngIf",e._displayedPageSizeOptions.length>1),o.xp6(1),o.Q6J("ngIf",e._displayedPageSizeOptions.length<=1)}}function NK(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",21),o.NdJ("click",function(){return o.CHM(e),o.oxw().firstPage()}),o.O4$(),o.TgZ(1,"svg",7),o._UZ(2,"path",22),o.qZA(),o.qZA()}if(2&t){const e=o.oxw();o.Q6J("matTooltip",e._intl.firstPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("matTooltipPosition","above")("disabled",e._previousButtonsDisabled()),o.uIk("aria-label",e._intl.firstPageLabel)}}function zK(t,i){if(1&t){const e=o.EpF();o.O4$(),o.kcU(),o.TgZ(0,"button",23),o.NdJ("click",function(){return o.CHM(e),o.oxw().lastPage()}),o.O4$(),o.TgZ(1,"svg",7),o._UZ(2,"path",24),o.qZA(),o.qZA()}if(2&t){const e=o.oxw();o.Q6J("matTooltip",e._intl.lastPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("matTooltipPosition","above")("disabled",e._nextButtonsDisabled()),o.uIk("aria-label",e._intl.lastPageLabel)}}let bk=(()=>{class t{constructor(){this.changes=new li.xQ,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,s,a)=>{if(0==a||0==s)return`0 of ${a}`;const l=e*s;return`${l+1} \u2013 ${l<(a=Math.max(a,0))?Math.min(l+s,a):l+s} of ${a}`}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const YK={provide:bk,deps:[[new o.FiY,new o.tp0,bk]],useFactory:function(t){return t||new bk}},VK=new o.OlP("MAT_PAGINATOR_DEFAULT_OPTIONS");class UK{}const jK=Dv($6(UK));let ZK=(()=>{class t extends jK{constructor(e,s,a){if(super(),this._intl=e,this._changeDetectorRef=s,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.page=new o.vpe,this._intlChanges=e.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),a){const{pageSize:l,pageSizeOptions:h,hidePageSize:v,showFirstLastButtons:C}=a;null!=l&&(this._pageSize=l),null!=h&&(this._pageSizeOptions=h),null!=v&&(this._hidePageSize=v),null!=C&&(this._showFirstLastButtons=C)}}get pageIndex(){return this._pageIndex}set pageIndex(e){this._pageIndex=Math.max(yu(e),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(e){this._length=yu(e),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(e){this._pageSize=Math.max(yu(e),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(e){this._pageSizeOptions=(e||[]).map(s=>yu(s)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(e){this._hidePageSize=ps(e)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(e){this._showFirstLastButtons=ps(e)}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex++,this._emitPageEvent(e)}previousPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex--,this._emitPageEvent(e)}firstPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=0,this._emitPageEvent(e)}lastPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(e)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const e=this.getNumberOfPages()-1;return this.pageIndex<e&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(e){const a=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/e)||0,this.pageSize=e,this._emitPageEvent(a)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){!this._initialized||(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((e,s)=>e-s),this._changeDetectorRef.markForCheck())}_emitPageEvent(e){this.page.emit({previousPageIndex:e,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(bk),o.Y36(o.sBO),o.Y36(void 0))},t.\u0275dir=o.lG2({type:t,inputs:{pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",color:"color"},outputs:{page:"page"},features:[o.qOj]}),t})(),sx=(()=>{class t extends ZK{constructor(e,s,a){super(e,s,a),a&&null!=a.formFieldAppearance&&(this._formFieldAppearance=a.formFieldAppearance)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(bk),o.Y36(o.sBO),o.Y36(VK,8))},t.\u0275cmp=o.Xpm({type:t,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[o.qOj],decls:14,vars:14,consts:[[1,"mat-paginator-outer-container"],[1,"mat-paginator-container"],["class","mat-paginator-page-size",4,"ngIf"],[1,"mat-paginator-range-actions"],[1,"mat-paginator-range-label"],["mat-icon-button","","type","button","class","mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false",1,"mat-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-paginator-page-size"],[1,"mat-paginator-page-size-label"],["class","mat-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-paginator-page-size-value",4,"ngIf"],[1,"mat-paginator-page-size-select",3,"appearance","color"],[3,"value","disabled","aria-label","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(e,s){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.YNc(2,FK,5,3,"div",2),o.TgZ(3,"div",3),o.TgZ(4,"div",4),o._uU(5),o.qZA(),o.YNc(6,NK,3,5,"button",5),o.TgZ(7,"button",6),o.NdJ("click",function(){return s.previousPage()}),o.O4$(),o.TgZ(8,"svg",7),o._UZ(9,"path",8),o.qZA(),o.qZA(),o.kcU(),o.TgZ(10,"button",9),o.NdJ("click",function(){return s.nextPage()}),o.O4$(),o.TgZ(11,"svg",7),o._UZ(12,"path",10),o.qZA(),o.qZA(),o.YNc(13,zK,3,5,"button",11),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(2),o.Q6J("ngIf",!s.hidePageSize),o.xp6(3),o.hij(" ",s._intl.getRangeLabel(s.pageIndex,s.pageSize,s.length)," "),o.xp6(1),o.Q6J("ngIf",s.showFirstLastButtons),o.xp6(1),o.Q6J("matTooltip",s._intl.previousPageLabel)("matTooltipDisabled",s._previousButtonsDisabled())("matTooltipPosition","above")("disabled",s._previousButtonsDisabled()),o.uIk("aria-label",s._intl.previousPageLabel),o.xp6(3),o.Q6J("matTooltip",s._intl.nextPageLabel)("matTooltipDisabled",s._nextButtonsDisabled())("matTooltipPosition","above")("disabled",s._nextButtonsDisabled()),o.uIk("aria-label",s._intl.nextPageLabel),o.xp6(3),o.Q6J("ngIf",s.showFirstLastButtons))},directives:[un,Dd,AK,rx,gK,mt,n4],styles:[".mat-paginator{display:block}.mat-paginator-outer-container{display:flex}.mat-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%}.mat-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-paginator-page-size{margin-right:0;margin-left:8px}.mat-paginator-page-size-label{margin:0 4px}.mat-paginator-page-size-select{margin:6px 4px 0 4px;width:56px}.mat-paginator-page-size-select.mat-form-field-appearance-outline{width:64px}.mat-paginator-page-size-select.mat-form-field-appearance-fill{width:64px}.mat-paginator-range-label{margin:0 32px 0 24px}.mat-paginator-range-actions{display:flex;align-items:center}.mat-paginator-icon{width:28px;fill:currentColor}[dir=rtl] .mat-paginator-icon{transform:rotate(180deg)}\n"],encapsulation:2,changeDetection:0}),t})(),GK=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[YK],imports:[[Ji,cF,R4,LK,Fs]]}),t})();const WK=[[["caption"]],[["colgroup"],["col"]]],qK=["caption","colgroup, col"];function fF(t){return class extends t{constructor(...i){super(...i),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(i){const e=this._sticky;this._sticky=ps(i),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const i=this._hasStickyChanged;return this._hasStickyChanged=!1,i}resetStickyChanged(){this._hasStickyChanged=!1}}}const cM=new o.OlP("CDK_TABLE");let uM=(()=>{class t{constructor(e){this.template=e}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.Rgc))},t.\u0275dir=o.lG2({type:t,selectors:[["","cdkCellDef",""]]}),t})(),dM=(()=>{class t{constructor(e){this.template=e}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.Rgc))},t.\u0275dir=o.lG2({type:t,selectors:[["","cdkHeaderCellDef",""]]}),t})(),xL=(()=>{class t{constructor(e){this.template=e}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.Rgc))},t.\u0275dir=o.lG2({type:t,selectors:[["","cdkFooterCellDef",""]]}),t})();class JK{}const KK=fF(JK);let Lb=(()=>{class t extends KK{constructor(e){super(),this._table=e,this._stickyEnd=!1}get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const s=this._stickyEnd;this._stickyEnd=ps(e),this._hasStickyChanged=s!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(cM,8))},t.\u0275dir=o.lG2({type:t,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,s,a){if(1&e&&(o.Suo(a,uM,5),o.Suo(a,dM,5),o.Suo(a,xL,5)),2&e){let l;o.iGM(l=o.CRH())&&(s.cell=l.first),o.iGM(l=o.CRH())&&(s.headerCell=l.first),o.iGM(l=o.CRH())&&(s.footerCell=l.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[o._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),o.qOj]}),t})();class mF{constructor(i,e){const s=e.nativeElement.classList;for(const a of i._columnCssClassName)s.add(a)}}let gF=(()=>{class t extends mF{constructor(e,s){super(e,s)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Lb),o.Y36(o.SBq))},t.\u0275dir=o.lG2({type:t,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[o.qOj]}),t})(),_F=(()=>{class t extends mF{constructor(e,s){super(e,s)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Lb),o.Y36(o.SBq))},t.\u0275dir=o.lG2({type:t,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:["role","gridcell",1,"cdk-cell"],features:[o.qOj]}),t})();class U4{constructor(){this.tasks=[],this.endTasks=[]}}const yF=new o.OlP("_COALESCED_STYLE_SCHEDULER");let j4=(()=>{class t{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new li.xQ}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new U4,this._getScheduleObservable().pipe(Fo(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new U4;for(const s of e.tasks)s();for(const s of e.endTasks)s()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,Vs.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(xe(1))}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(o.R0b))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})(),vF=(()=>{class t{constructor(e,s){this.template=e,this._differs=s}ngOnChanges(e){if(!this._columnsDiffer){const s=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(s).create(),this._columnsDiffer.diff(s)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof xk?e.headerCell.template:this instanceof wk?e.footerCell.template:e.cell.template}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.Rgc),o.Y36(o.ZZ4))},t.\u0275dir=o.lG2({type:t,features:[o.TTD]}),t})();class eee extends vF{}const tee=fF(eee);let xk=(()=>{class t extends tee{constructor(e,s,a){super(e,s),this._table=a}ngOnChanges(e){super.ngOnChanges(e)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.Rgc),o.Y36(o.ZZ4),o.Y36(cM,8))},t.\u0275dir=o.lG2({type:t,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[o.qOj,o.TTD]}),t})();class nee extends vF{}const iee=fF(nee);let wk=(()=>{class t extends iee{constructor(e,s,a){super(e,s),this._table=a}ngOnChanges(e){super.ngOnChanges(e)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.Rgc),o.Y36(o.ZZ4),o.Y36(cM,8))},t.\u0275dir=o.lG2({type:t,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[o.qOj,o.TTD]}),t})(),wL=(()=>{class t extends vF{constructor(e,s,a){super(e,s),this._table=a}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.Rgc),o.Y36(o.ZZ4),o.Y36(cM,8))},t.\u0275dir=o.lG2({type:t,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[o.qOj]}),t})(),Pb=(()=>{class t{constructor(e){this._viewContainer=e,t.mostRecentCellOutlet=this}ngOnDestroy(){t.mostRecentCellOutlet===this&&(t.mostRecentCellOutlet=null)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.s_b))},t.\u0275dir=o.lG2({type:t,selectors:[["","cdkCellOutlet",""]]}),t.mostRecentCellOutlet=null,t})(),bF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,s){1&e&&o.GkF(0,0)},directives:[Pb],encapsulation:2}),t})(),wF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,s){1&e&&o.GkF(0,0)},directives:[Pb],encapsulation:2}),t})(),CL=(()=>{class t{constructor(e){this.templateRef=e}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.Rgc))},t.\u0275dir=o.lG2({type:t,selectors:[["ng-template","cdkNoDataRow",""]]}),t})();const Z4=["top","bottom","left","right"];class ree{constructor(i,e,s,a,l=!0,h=!0,v){this._isNativeHtmlTable=i,this._stickCellCss=e,this.direction=s,this._coalescedStyleScheduler=a,this._isBrowser=l,this._needsPositionStickyOnElement=h,this._positionListener=v,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(i,e){const s=[];for(const a of i)if(a.nodeType===a.ELEMENT_NODE){s.push(a);for(let l=0;l<a.children.length;l++)s.push(a.children[l])}this._scheduleStyleChanges(()=>{for(const a of s)this._removeStickyStyle(a,e)})}updateStickyColumns(i,e,s,a=!0){if(!i.length||!this._isBrowser||!e.some(pe=>pe)&&!s.some(pe=>pe))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const l=i[0],h=l.children.length,v=this._getCellWidths(l,a),C=this._getStickyStartColumnPositions(v,e),O=this._getStickyEndColumnPositions(v,s),G=e.lastIndexOf(!0),te=s.indexOf(!0);this._scheduleStyleChanges(()=>{const pe="rtl"===this.direction,we=pe?"right":"left",Le=pe?"left":"right";for(const je of i)for(let tt=0;tt<h;tt++){const yt=je.children[tt];e[tt]&&this._addStickyStyle(yt,we,C[tt],tt===G),s[tt]&&this._addStickyStyle(yt,Le,O[tt],tt===te)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===G?[]:v.slice(0,G+1).map((je,tt)=>e[tt]?je:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===te?[]:v.slice(te).map((je,tt)=>s[tt+te]?je:null).reverse()}))})}stickRows(i,e,s){if(!this._isBrowser)return;const a="bottom"===s?i.slice().reverse():i,l="bottom"===s?e.slice().reverse():e,h=[],v=[],C=[];for(let G=0,te=0;G<a.length;G++){if(h[G]=te,!l[G])continue;const pe=a[G];C[G]=this._isNativeHtmlTable?Array.from(pe.children):[pe];const we=pe.getBoundingClientRect().height;te+=we,v[G]=we}const O=l.lastIndexOf(!0);this._scheduleStyleChanges(()=>{var G,te;for(let pe=0;pe<a.length;pe++){if(!l[pe])continue;const we=h[pe],Le=pe===O;for(const je of C[pe])this._addStickyStyle(je,s,we,Le)}"top"===s?null===(G=this._positionListener)||void 0===G||G.stickyHeaderRowsUpdated({sizes:v,elements:C}):null===(te=this._positionListener)||void 0===te||te.stickyFooterRowsUpdated({sizes:v,elements:C})})}updateStickyFooterContainer(i,e){if(!this._isNativeHtmlTable)return;const s=i.querySelector("tfoot");this._scheduleStyleChanges(()=>{e.some(a=>!a)?this._removeStickyStyle(s,["bottom"]):this._addStickyStyle(s,"bottom",0,!1)})}_removeStickyStyle(i,e){for(const a of e)i.style[a]="",i.classList.remove(this._borderCellCss[a]);Z4.some(a=>-1===e.indexOf(a)&&i.style[a])?i.style.zIndex=this._getCalculatedZIndex(i):(i.style.zIndex="",this._needsPositionStickyOnElement&&(i.style.position=""),i.classList.remove(this._stickCellCss))}_addStickyStyle(i,e,s,a){i.classList.add(this._stickCellCss),a&&i.classList.add(this._borderCellCss[e]),i.style[e]=`${s}px`,i.style.zIndex=this._getCalculatedZIndex(i),this._needsPositionStickyOnElement&&(i.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(i){const e={top:100,bottom:10,left:1,right:1};let s=0;for(const a of Z4)i.style[a]&&(s+=e[a]);return s?`${s}`:""}_getCellWidths(i,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const s=[],a=i.children;for(let l=0;l<a.length;l++)s.push(a[l].getBoundingClientRect().width);return this._cachedCellWidths=s,s}_getStickyStartColumnPositions(i,e){const s=[];let a=0;for(let l=0;l<i.length;l++)e[l]&&(s[l]=a,a+=i[l]);return s}_getStickyEndColumnPositions(i,e){const s=[];let a=0;for(let l=i.length;l>0;l--)e[l]&&(s[l]=a,a+=i[l]);return s}_scheduleStyleChanges(i){this._coalescedStyleScheduler?this._coalescedStyleScheduler.schedule(i):i()}}const G4=new o.OlP("CDK_SPL");let ML=(()=>{class t{constructor(e,s){this.viewContainer=e,this.elementRef=s}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.s_b),o.Y36(o.SBq))},t.\u0275dir=o.lG2({type:t,selectors:[["","rowOutlet",""]]}),t})(),TL=(()=>{class t{constructor(e,s){this.viewContainer=e,this.elementRef=s}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.s_b),o.Y36(o.SBq))},t.\u0275dir=o.lG2({type:t,selectors:[["","headerRowOutlet",""]]}),t})(),SL=(()=>{class t{constructor(e,s){this.viewContainer=e,this.elementRef=s}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.s_b),o.Y36(o.SBq))},t.\u0275dir=o.lG2({type:t,selectors:[["","footerRowOutlet",""]]}),t})(),kL=(()=>{class t{constructor(e,s){this.viewContainer=e,this.elementRef=s}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.s_b),o.Y36(o.SBq))},t.\u0275dir=o.lG2({type:t,selectors:[["","noDataRowOutlet",""]]}),t})(),EL=(()=>{class t{constructor(e,s,a,l,h,v,C,O,G,te,pe){this._differs=e,this._changeDetectorRef=s,this._elementRef=a,this._dir=h,this._platform=C,this._viewRepeater=O,this._coalescedStyleScheduler=G,this._stickyPositioningListener=te,this._viewportRuler=pe,this._onDestroy=new li.xQ,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.viewChange=new To({start:0,end:Number.MAX_VALUE}),l||this._elementRef.nativeElement.setAttribute("role","grid"),this._document=v,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=ps(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=ps(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,s)=>this.trackBy?this.trackBy(s.dataIndex,s.data):s),this._viewportRuler&&this._viewportRuler.change().pipe(Fo(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const s=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||s,this._forceRecalculateCellWidths=s,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){this._rowOutlet.viewContainer.clear(),this._noDataRowOutlet.viewContainer.clear(),this._headerRowOutlet.viewContainer.clear(),this._footerRowOutlet.viewContainer.clear(),this._cachedRenderRowsMap.clear(),this._onDestroy.next(),this._onDestroy.complete(),Pw(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return void this._updateNoDataRow();const s=this._rowOutlet.viewContainer;this._viewRepeater?this._viewRepeater.applyChanges(e,s,(a,l,h)=>this._getEmbeddedViewArgs(a.item,h),a=>a.item.data,a=>{1===a.operation&&a.context&&this._renderCellTemplateForItem(a.record.item.rowDef,a.context)}):e.forEachOperation((a,l,h)=>{if(null==a.previousIndex){const v=a.item;this._renderRow(this._rowOutlet,v.rowDef,h,{$implicit:v.data})}else if(null==h)s.remove(l);else{const v=s.get(l);s.move(v,h)}}),this._updateRowIndexContext(),e.forEachIdentityChange(a=>{s.get(a.currentIndex).context.$implicit=a.item.data}),this._updateNoDataRow(),this.updateStickyColumnStyles()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),a=this._elementRef.nativeElement.querySelector("thead");a&&(a.style.display=e.length?"":"none");const l=this._headerRowDefs.map(h=>h.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,l,"top"),this._headerRowDefs.forEach(h=>h.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),a=this._elementRef.nativeElement.querySelector("tfoot");a&&(a.style.display=e.length?"":"none");const l=this._footerRowDefs.map(h=>h.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,l,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,l),this._footerRowDefs.forEach(h=>h.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),s=this._getRenderedRows(this._rowOutlet),a=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...s,...a],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((l,h)=>{this._addStickyColumnStyles([l],this._headerRowDefs[h])}),this._rowDefs.forEach(l=>{const h=[];for(let v=0;v<s.length;v++)this._renderRows[v].rowDef===l&&h.push(s[v]);this._addStickyColumnStyles(h,l)}),a.forEach((l,h)=>{this._addStickyColumnStyles([l],this._footerRowDefs[h])}),Array.from(this._columnDefsByName.values()).forEach(l=>l.resetStickyChanged())}_getAllRenderRows(){const e=[],s=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let a=0;a<this._data.length;a++){let l=this._data[a];const h=this._getRenderRowsForData(l,a,s.get(l));this._cachedRenderRowsMap.has(l)||this._cachedRenderRowsMap.set(l,new WeakMap);for(let v=0;v<h.length;v++){let C=h[v];const O=this._cachedRenderRowsMap.get(C.data);O.has(C.rowDef)?O.get(C.rowDef).push(C):O.set(C.rowDef,[C]),e.push(C)}}return e}_getRenderRowsForData(e,s,a){return this._getRowDefs(e,s).map(h=>{const v=a&&a.has(h)?a.get(h):[];if(v.length){const C=v.shift();return C.dataIndex=s,C}return{data:e,rowDef:h,dataIndex:s}})}_cacheColumnDefs(){this._columnDefsByName.clear(),DL(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(s=>{this._columnDefsByName.has(s.name),this._columnDefsByName.set(s.name,s)})}_cacheRowDefs(){this._headerRowDefs=DL(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=DL(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=DL(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(s=>!s.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(h,v)=>h||!!v.getColumnsDiff(),s=this._rowDefs.reduce(e,!1);s&&this._forceRenderDataRows();const a=this._headerRowDefs.reduce(e,!1);a&&this._forceRenderHeaderRows();const l=this._footerRowDefs.reduce(e,!1);return l&&this._forceRenderFooterRows(),s||a||l}_switchDataSource(e){this._data=[],Pw(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;Pw(this.dataSource)?e=this.dataSource.connect(this):bS(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=(0,Ai.of)(this.dataSource)),this._renderChangeSubscription=e.pipe(Fo(this._onDestroy)).subscribe(s=>{this._data=s||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,s)=>this._renderRow(this._headerRowOutlet,e,s)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,s)=>this._renderRow(this._footerRowOutlet,e,s)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,s){const a=Array.from(s.columns||[]).map(v=>this._columnDefsByName.get(v)),l=a.map(v=>v.sticky),h=a.map(v=>v.stickyEnd);this._stickyStyler.updateStickyColumns(e,l,h,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const s=[];for(let a=0;a<e.viewContainer.length;a++){const l=e.viewContainer.get(a);s.push(l.rootNodes[0])}return s}_getRowDefs(e,s){if(1==this._rowDefs.length)return[this._rowDefs[0]];let a=[];if(this.multiTemplateDataRows)a=this._rowDefs.filter(l=>!l.when||l.when(s,e));else{let l=this._rowDefs.find(h=>h.when&&h.when(s,e))||this._defaultRowDef;l&&a.push(l)}return a}_getEmbeddedViewArgs(e,s){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:s}}_renderRow(e,s,a,l={}){const h=e.viewContainer.createEmbeddedView(s.template,l,a);return this._renderCellTemplateForItem(s,l),h}_renderCellTemplateForItem(e,s){for(let a of this._getCellTemplates(e))Pb.mostRecentCellOutlet&&Pb.mostRecentCellOutlet._viewContainer.createEmbeddedView(a,s);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let s=0,a=e.length;s<a;s++){const h=e.get(s).context;h.count=a,h.first=0===s,h.last=s===a-1,h.even=s%2==0,h.odd=!h.even,this.multiTemplateDataRows?(h.dataIndex=this._renderRows[s].dataIndex,h.renderIndex=s):h.index=this._renderRows[s].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,s=>{const a=this._columnDefsByName.get(s);return e.extractCellTemplate(a)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),s=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const a of s){const l=this._document.createElement(a.tag);l.setAttribute("role","rowgroup");for(const h of a.outlets)l.appendChild(h.elementRef.nativeElement);e.appendChild(l)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(s,a)=>s||a.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new ree(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,Ai.of)()).pipe(Fo(this._onDestroy)).subscribe(s=>{this._stickyStyler.direction=s,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(s=>!s._table||s._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(e){const s=0===this._rowOutlet.viewContainer.length;if(s!==this._isShowingNoDataRow){const a=this._noDataRowOutlet.viewContainer;s?a.createEmbeddedView(e.templateRef):a.clear(),this._isShowingNoDataRow=s}}}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.ZZ4),o.Y36(o.sBO),o.Y36(o.SBq),o.$8M("role"),o.Y36(Hh,8),o.Y36(Ee),o.Y36(aa),o.Y36(Ow,8),o.Y36(yF,8),o.Y36(G4,12),o.Y36(yv,8))},t.\u0275cmp=o.Xpm({type:t,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,s,a){if(1&e&&(o.Suo(a,CL,5),o.Suo(a,Lb,5),o.Suo(a,wL,5),o.Suo(a,xk,5),o.Suo(a,wk,5)),2&e){let l;o.iGM(l=o.CRH())&&(s._noDataRow=l.first),o.iGM(l=o.CRH())&&(s._contentColumnDefs=l),o.iGM(l=o.CRH())&&(s._contentRowDefs=l),o.iGM(l=o.CRH())&&(s._contentHeaderRowDefs=l),o.iGM(l=o.CRH())&&(s._contentFooterRowDefs=l)}},viewQuery:function(e,s){if(1&e&&(o.Gf(ML,7),o.Gf(TL,7),o.Gf(SL,7),o.Gf(kL,7)),2&e){let a;o.iGM(a=o.CRH())&&(s._rowOutlet=a.first),o.iGM(a=o.CRH())&&(s._headerRowOutlet=a.first),o.iGM(a=o.CRH())&&(s._footerRowOutlet=a.first),o.iGM(a=o.CRH())&&(s._noDataRowOutlet=a.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,s){2&e&&o.ekj("cdk-table-fixed-layout",s.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},exportAs:["cdkTable"],features:[o._Bn([{provide:cM,useExisting:t},{provide:Ow,useClass:zA},{provide:yF,useClass:j4},{provide:G4,useValue:null}])],ngContentSelectors:qK,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,s){1&e&&(o.F$t(WK),o.Hsn(0),o.Hsn(1,1),o.GkF(2,0),o.GkF(3,1),o.GkF(4,2),o.GkF(5,3))},directives:[TL,ML,kL,SL],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),t})();function DL(t,i){return t.concat(Array.from(i))}let see=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[ef]]}),t})();const oee=[[["caption"]],[["colgroup"],["col"]]],aee=["caption","colgroup, col"];let Ck=(()=>{class t extends EL{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return t.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(t)))(s||t)}}(),t.\u0275cmp=o.Xpm({type:t,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(e,s){2&e&&o.ekj("mat-table-fixed-layout",s.fixedLayout)},exportAs:["matTable"],features:[o._Bn([{provide:Ow,useClass:zA},{provide:EL,useExisting:t},{provide:cM,useExisting:t},{provide:yF,useClass:j4}]),o.qOj],ngContentSelectors:aee,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,s){1&e&&(o.F$t(oee),o.Hsn(0),o.Hsn(1,1),o.GkF(2,0),o.GkF(3,1),o.GkF(4,2),o.GkF(5,3))},directives:[TL,ML,kL,SL],styles:['mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-row::after,mat-header-row::after,mat-footer-row::after{display:inline-block;min-height:inherit;content:""}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:-webkit-sticky !important;position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n'],encapsulation:2}),t})(),hM=(()=>{class t extends uM{}return t.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(t)))(s||t)}}(),t.\u0275dir=o.lG2({type:t,selectors:[["","matCellDef",""]],features:[o._Bn([{provide:uM,useExisting:t}]),o.qOj]}),t})(),pM=(()=>{class t extends dM{}return t.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(t)))(s||t)}}(),t.\u0275dir=o.lG2({type:t,selectors:[["","matHeaderCellDef",""]],features:[o._Bn([{provide:dM,useExisting:t}]),o.qOj]}),t})(),fM=(()=>{class t extends Lb{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return t.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(t)))(s||t)}}(),t.\u0275dir=o.lG2({type:t,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[o._Bn([{provide:Lb,useExisting:t},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),o.qOj]}),t})(),mM=(()=>{class t extends gF{}return t.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(t)))(s||t)}}(),t.\u0275dir=o.lG2({type:t,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[o.qOj]}),t})(),gM=(()=>{class t extends _F{}return t.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(t)))(s||t)}}(),t.\u0275dir=o.lG2({type:t,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[o.qOj]}),t})(),Mk=(()=>{class t extends xk{}return t.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(t)))(s||t)}}(),t.\u0275dir=o.lG2({type:t,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[o._Bn([{provide:xk,useExisting:t}]),o.qOj]}),t})(),Tk=(()=>{class t extends wL{}return t.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(t)))(s||t)}}(),t.\u0275dir=o.lG2({type:t,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[o._Bn([{provide:wL,useExisting:t}]),o.qOj]}),t})(),Sk=(()=>{class t extends bF{}return t.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(t)))(s||t)}}(),t.\u0275cmp=o.Xpm({type:t,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[o._Bn([{provide:bF,useExisting:t}]),o.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,s){1&e&&o.GkF(0,0)},directives:[Pb],encapsulation:2}),t})(),kk=(()=>{class t extends wF{}return t.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(t)))(s||t)}}(),t.\u0275cmp=o.Xpm({type:t,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[o._Bn([{provide:wF,useExisting:t}]),o.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,s){1&e&&o.GkF(0,0)},directives:[Pb],encapsulation:2}),t})(),Ek=(()=>{class t extends CL{}return t.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(t)))(s||t)}}(),t.\u0275dir=o.lG2({type:t,selectors:[["ng-template","matNoDataRow",""]],features:[o._Bn([{provide:CL,useExisting:t}]),o.qOj]}),t})(),mee=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[see,Fs],Fs]}),t})();class _ee extends OC{constructor(i=[]){super(),this._renderData=new To([]),this._filter=new To(""),this._internalPageChanges=new li.xQ,this._renderChangesSubscription=null,this.sortingDataAccessor=(e,s)=>{const a=e[s];if(vm(a)){const l=Number(a);return l<9007199254740991?l:a}return a},this.sortData=(e,s)=>{const a=s.active,l=s.direction;return a&&""!=l?e.sort((h,v)=>{let C=this.sortingDataAccessor(h,a),O=this.sortingDataAccessor(v,a);const G=typeof C,te=typeof O;G!==te&&("number"===G&&(C+=""),"number"===te&&(O+=""));let pe=0;return null!=C&&null!=O?C>O?pe=1:C<O&&(pe=-1):null!=C?pe=1:null!=O&&(pe=-1),pe*("asc"==l?1:-1)}):e},this.filterPredicate=(e,s)=>{const a=Object.keys(e).reduce((h,v)=>h+e[v]+"\u25ec","").toLowerCase(),l=s.trim().toLowerCase();return-1!=a.indexOf(l)},this._data=new To(i),this._updateChangeSubscription()}get data(){return this._data.value}set data(i){this._data.next(i),this._renderChangesSubscription||this._filterData(i)}get filter(){return this._filter.value}set filter(i){this._filter.next(i),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(i){this._sort=i,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(i){this._paginator=i,this._updateChangeSubscription()}_updateChangeSubscription(){var i;const e=this._sort?(0,Ka.T)(this._sort.sortChange,this._sort.initialized):(0,Ai.of)(null),s=this._paginator?(0,Ka.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):(0,Ai.of)(null),l=Wc([this._data,this._filter]).pipe((0,Ri.U)(([C])=>this._filterData(C))),h=Wc([l,e]).pipe((0,Ri.U)(([C])=>this._orderData(C))),v=Wc([h,s]).pipe((0,Ri.U)(([C])=>this._pageData(C)));null===(i=this._renderChangesSubscription)||void 0===i||i.unsubscribe(),this._renderChangesSubscription=v.subscribe(C=>this._renderData.next(C))}_filterData(i){return this.filteredData=null==this.filter||""===this.filter?i:i.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(i){return this.sort?this.sortData(i.slice(),this.sort):i}_pageData(i){if(!this.paginator)return i;const e=this.paginator.pageIndex*this.paginator.pageSize;return i.slice(e,e+this.paginator.pageSize)}_updatePaginator(i){Promise.resolve().then(()=>{const e=this.paginator;if(e&&(e.length=i,e.pageIndex>0)){const s=Math.ceil(e.length/e.pageSize)-1||0,a=Math.min(e.pageIndex,s);a!==e.pageIndex&&(e.pageIndex=a,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){var i;null===(i=this._renderChangesSubscription)||void 0===i||i.unsubscribe(),this._renderChangesSubscription=null}}class s1 extends _ee{}let AL=(()=>{class t{constructor(e,s){this.fs=e,this.auth=s,this.data=[],this.temp=!0,this.index=1,this.isLoading=new To(this.temp),this.auth.authState.subscribe(a=>{this.uid=null==a?void 0:a.uid,this.fs.collection("Admin").doc(null==a?void 0:a.uid).valueChanges().subscribe(l=>{this.name=l,console.log(this.name),this.isLoading=new To(!1)})})}getAdminInfo(){var e=this;return Qs(function*(){return new Promise((s,a)=>{e.auth.authState.subscribe(l=>{e.fs.collection("Admin").doc(null==l?void 0:l.uid).valueChanges().subscribe(v=>{console.log(v),s(v)})})})})()}updateInfo(e,s,a){this.fs.collection("Admin").doc(this.uid).update({username:e,email:s,phone:a}),this.auth.authState.subscribe(l=>{null==l||l.updateEmail(s)})}getPurchaseHistory(e){return Qs(function*(){return new Promise((s,a)=>{})})()}getcartInfo(){var e=this;return Qs(function*(){return new Promise((s,a)=>{let l=[];e.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("cart").snapshotChanges().subscribe(h=>{h.map(v=>{console.log(v);let C={brand:v.payload.doc.data().brand,compname:v.payload.doc.data().compname,price:v.payload.doc.data().price,quantity:v.payload.doc.data().quantity,totalprice:v.payload.doc.data().totalprice};l.push(C),s(l)})})})})()}getSupplierInfo(){var e=this;return Qs(function*(){return new Promise((s,a)=>{let l;e.fs.collection("Supplier").snapshotChanges().subscribe(h=>{h.map(v=>{let C={compname:v.payload.doc.data().compname,shippingfee:v.payload.doc.data().shippingfee};l.push(C),s(l)})})})})()}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Sa),o.LFG(ui))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const q4=Aw({passive:!0});let $4=(()=>{class t{constructor(e,s){this._platform=e,this._ngZone=s,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return ge.E;const s=J_(e),a=this._monitoredElements.get(s);if(a)return a.subject;const l=new li.xQ,h="cdk-text-field-autofilled",v=C=>{"cdk-text-field-autofill-start"!==C.animationName||s.classList.contains(h)?"cdk-text-field-autofill-end"===C.animationName&&s.classList.contains(h)&&(s.classList.remove(h),this._ngZone.run(()=>l.next({target:C.target,isAutofilled:!1}))):(s.classList.add(h),this._ngZone.run(()=>l.next({target:C.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{s.addEventListener("animationstart",v,q4),s.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(s,{subject:l,unlisten:()=>{s.removeEventListener("animationstart",v,q4)}}),l}stopMonitoring(e){const s=J_(e),a=this._monitoredElements.get(s);a&&(a.unlisten(),a.subject.complete(),s.classList.remove("cdk-text-field-autofill-monitored"),s.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(s))}ngOnDestroy(){this._monitoredElements.forEach((e,s)=>this.stopMonitoring(s))}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(aa),o.LFG(o.R0b))},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t((0,o.LFG)(aa),(0,o.LFG)(o.R0b))},token:t,providedIn:"root"}),t})(),Q4=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[bb]]}),t})();const vee=new o.OlP("MAT_INPUT_VALUE_ACCESSOR"),bee=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let xee=0;class wee{constructor(i,e,s,a){this._defaultErrorStateMatcher=i,this._parentForm=e,this._parentFormGroup=s,this.ngControl=a}}const Cee=q6(wee);let o1=(()=>{class t extends Cee{constructor(e,s,a,l,h,v,C,O,G,te){super(v,l,h,a),this._elementRef=e,this._platform=s,this.ngControl=a,this._autofillMonitor=O,this._formField=te,this._uid="mat-input-"+xee++,this.focused=!1,this.stateChanges=new li.xQ,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(Le=>Dw().has(Le));const pe=this._elementRef.nativeElement,we=pe.nodeName.toLowerCase();this._inputValueAccessor=C||pe,this._previousNativeValue=this.value,this.id=this.id,s.IOS&&G.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",Le=>{let je=Le.target;!je.value&&!je.selectionStart&&!je.selectionEnd&&(je.setSelectionRange(1,1),je.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===we,this._isTextarea="textarea"===we,this._isNativeSelect&&(this.controlType=pe.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=ps(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required}set required(e){this._required=ps(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&Dw().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=ps(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(!this.readonly||!e)&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var e,s;const a=(null===(s=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===s?void 0:s.call(e))?null:this.placeholder;if(a!==this._previousPlaceholder){const l=this._elementRef.nativeElement;this._previousPlaceholder=a,a?l.setAttribute("placeholder",a):l.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){bee.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,s=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&s&&s.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(aa),o.Y36(Jt,10),o.Y36(zw,8),o.Y36(eg,8),o.Y36(nF),o.Y36(vee,10),o.Y36($4),o.Y36(o.R0b),o.Y36(hF,8))},t.\u0275dir=o.lG2({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(e,s){1&e&&o.NdJ("focus",function(){return s._focusChanged(!0)})("blur",function(){return s._focusChanged(!1)})("input",function(){return s._onInput()}),2&e&&(o.Ikx("disabled",s.disabled)("required",s.required),o.uIk("id",s.id)("data-placeholder",s.placeholder)("readonly",s.readonly&&!s._isNativeSelect||null)("aria-invalid",s.errorState&&!s.empty)("aria-required",s.required),o.ekj("mat-input-server",s._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[o._Bn([{provide:yL,useExisting:t}]),o.qOj,o.TTD]}),t})(),Mee=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[nF],imports:[[Q4,vL,Fs],Q4,vL]}),t})();const IL="undefined"!=typeof performance&&void 0!==performance.now&&"function"==typeof performance.mark&&"function"==typeof performance.measure&&("function"==typeof performance.clearMarks||"function"==typeof performance.clearMeasures),Tee="undefined"!=typeof PerformanceObserver&&void 0!==PerformanceObserver.prototype&&"function"==typeof PerformanceObserver.prototype.constructor,CF="[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0);let LL={},_M={};const MF=()=>IL?performance.now():Date.now(),X4=t=>{LL[t]=void 0,_M[t]&&(_M[t]=void 0),IL&&(CF||performance.clearMeasures(t),performance.clearMarks(t))},J4=t=>{if(IL){if(CF&&Tee){const i=new PerformanceObserver(e=>{_M[t]=e.getEntries().find(s=>s.name===t),i.disconnect()});i.observe({entryTypes:["measure"]})}performance.mark(t)}LL[t]=MF()},K4=(t,i)=>{try{const e=LL[t];return IL?(i||performance.mark(`${t}-end`),performance.measure(t,t,i||`${t}-end`),CF?_M[t]?_M[t]:e?{duration:MF()-e,startTime:e,entryType:"measure",name:t}:{}:performance.getEntriesByName(t).pop()||{}):e?{duration:MF()-e,startTime:e,entryType:"measure",name:t}:{}}catch(e){return{}}finally{X4(t),X4(i||`${t}-end`)}},See=function(t,i,e,s){return{circle:t,progress:i,"progress-dark":e,pulse:s}};function kee(t,i){if(1&t&&o._UZ(0,"span",1),2&t){const e=o.oxw();o.Q6J("ngClass",o.l5B(4,See,"circle"===e.appearance,"progress"===e.animation,"progress-dark"===e.animation,"pulse"===e.animation))("ngStyle",e.theme),o.uIk("aria-label",e.ariaLabel)("aria-valuetext",e.loadingText)}}const eH=new o.OlP("ngx-skeleton-loader.config");let Eee=(()=>{class t{constructor(e){const{appearance:s="line",animation:a="progress",theme:l=null,loadingText:h="Loading...",count:v=1,ariaLabel:C="loading"}=e||{};this.appearance=s,this.animation=a,this.theme=l,this.loadingText=h,this.count=v,this.items=[],this.ariaLabel=C}ngOnInit(){J4("NgxSkeletonLoader:Rendered"),J4("NgxSkeletonLoader:Loaded"),this.validateInputValues()}validateInputValues(){/^\d+$/.test(`${this.count}`)||((0,o.X6Q)()&&console.error("`NgxSkeletonLoaderComponent` need to receive 'count' a numeric value. Forcing default to \"1\"."),this.count=1),this.items.length=this.count;const e=["progress","progress-dark","pulse","false"];-1===e.indexOf(String(this.animation))&&((0,o.X6Q)()&&console.error(`\`NgxSkeletonLoaderComponent\` need to receive 'animation' as: ${e.join(", ")}. Forcing default to "progress".`),this.animation="progress"),-1===["circle","line",""].indexOf(String(this.appearance))&&((0,o.X6Q)()&&console.error("`NgxSkeletonLoaderComponent` need to receive 'appearance' as: circle or line or empty string. Forcing default to \"''\"."),this.appearance="")}ngOnChanges(e){["count","animation","appearance"].find(s=>e[s]&&(e[s].isFirstChange()||e[s].previousValue===e[s].currentValue))||this.validateInputValues()}ngAfterViewInit(){K4("NgxSkeletonLoader:Rendered")}ngOnDestroy(){K4("NgxSkeletonLoader:Loaded")}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(eH,8))},t.\u0275cmp=o.Xpm({type:t,selectors:[["ngx-skeleton-loader"]],inputs:{appearance:"appearance",animation:"animation",theme:"theme",loadingText:"loadingText",count:"count",ariaLabel:"ariaLabel"},features:[o.TTD],decls:1,vars:1,consts:[["class","loader","aria-busy","true","aria-valuemin","0","aria-valuemax","100","role","progressbar","tabindex","0",3,"ngClass","ngStyle",4,"ngFor","ngForOf"],["aria-busy","true","aria-valuemin","0","aria-valuemax","100","role","progressbar","tabindex","0",1,"loader",3,"ngClass","ngStyle"]],template:function(e,s){1&e&&o.YNc(0,kee,1,9,"span",0),2&e&&o.Q6J("ngForOf",s.items)},directives:[mt,he,qi],styles:['.loader[_ngcontent-%COMP%]{background:#eff1f6 no-repeat;border-radius:4px;box-sizing:border-box;display:inline-block;height:20px;margin-bottom:10px;overflow:hidden;position:relative;width:100%;will-change:transform}.loader[_ngcontent-%COMP%]:after, .loader[_ngcontent-%COMP%]:before{box-sizing:border-box}.loader.circle[_ngcontent-%COMP%]{border-radius:50%;height:40px;margin:5px;width:40px}.loader.progress[_ngcontent-%COMP%], .loader.progress-dark[_ngcontent-%COMP%]{transform:translateZ(0)}.loader.progress-dark[_ngcontent-%COMP%]:after, .loader.progress-dark[_ngcontent-%COMP%]:before, .loader.progress[_ngcontent-%COMP%]:after, .loader.progress[_ngcontent-%COMP%]:before{box-sizing:border-box}.loader.progress-dark[_ngcontent-%COMP%]:before, .loader.progress[_ngcontent-%COMP%]:before{-webkit-animation:progress 2s ease-in-out infinite;animation:progress 2s ease-in-out infinite;background-size:200px 100%;content:"";height:100%;left:0;position:absolute;top:0;width:200px;z-index:1}.loader.progress[_ngcontent-%COMP%]:before{background-image:linear-gradient(90deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.6),hsla(0,0%,100%,0))}.loader.progress-dark[_ngcontent-%COMP%]:before{background-image:linear-gradient(90deg,transparent,rgba(0,0,0,.2),transparent)}.loader.pulse[_ngcontent-%COMP%]{-webkit-animation:pulse 1.5s cubic-bezier(.4,0,.2,1) infinite;-webkit-animation-delay:.5s;animation:pulse 1.5s cubic-bezier(.4,0,.2,1) infinite;animation-delay:.5s}@media (prefers-reduced-motion:reduce){.loader.progress[_ngcontent-%COMP%], .loader.progress-dark[_ngcontent-%COMP%], .loader.pulse[_ngcontent-%COMP%]{-webkit-animation:none;animation:none}.loader.progress[_ngcontent-%COMP%], .loader.progress-dark[_ngcontent-%COMP%]{background-image:none}}@-webkit-keyframes progress{0%{transform:translate3d(-200px,0,0)}to{transform:translate3d(calc(200px + 100vw),0,0)}}@keyframes progress{0%{transform:translate3d(-200px,0,0)}to{transform:translate3d(calc(200px + 100vw),0,0)}}@-webkit-keyframes pulse{0%{opacity:1}50%{opacity:.4}to{opacity:1}}@keyframes pulse{0%{opacity:1}50%{opacity:.4}to{opacity:1}}'],changeDetection:0}),t})(),Dee=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[{provide:eH,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Ji]]}),t})();function Aee(t,i){1&t&&o.GkF(0)}const Iee=function(t,i,e,s){return{"p-button-icon":!0,"p-button-icon-left":t,"p-button-icon-right":i,"p-button-icon-top":e,"p-button-icon-bottom":s}};function Lee(t,i){if(1&t&&o._UZ(0,"span",4),2&t){const e=o.oxw();o.Tol(e.loading?"p-button-loading-icon "+e.loadingIcon:e.icon),o.Q6J("ngClass",o.l5B(4,Iee,"left"===e.iconPos&&e.label,"right"===e.iconPos&&e.label,"top"===e.iconPos&&e.label,"bottom"===e.iconPos&&e.label)),o.uIk("aria-hidden",!0)}}function Pee(t,i){if(1&t&&(o.TgZ(0,"span",5),o._uU(1),o.qZA()),2&t){const e=o.oxw();o.uIk("aria-hidden",e.icon&&!e.label),o.xp6(1),o.Oqu(e.label||"\xa0")}}function Oee(t,i){if(1&t&&(o.TgZ(0,"span",4),o._uU(1),o.qZA()),2&t){const e=o.oxw();o.Tol(e.badgeClass),o.Q6J("ngClass",e.badgeStyleClass()),o.xp6(1),o.Oqu(e.badge)}}const Ree=function(t,i,e,s,a){return{"p-button p-component":!0,"p-button-icon-only":t,"p-button-vertical":i,"p-disabled":e,"p-button-loading":s,"p-button-loading-label-only":a}},Fee=["*"];let ox=(()=>{class t{constructor(e){this.el=e,this.iconPos="left",this.loadingIcon="pi pi-spinner pi-spin",this._loading=!1}ngAfterViewInit(){this._initialStyleClass=this.el.nativeElement.className,cn.addMultipleClasses(this.el.nativeElement,this.getStyleClass()),this.icon&&this.createIconEl();let e=document.createElement("span");this.icon&&!this.label&&e.setAttribute("aria-hidden","true"),e.className="p-button-label",this.label?e.appendChild(document.createTextNode(this.label)):e.innerHTML="&nbsp;",this.el.nativeElement.appendChild(e),this.initialized=!0}getStyleClass(){let e="p-button p-component";return this.icon&&!this.label&&(e+=" p-button-icon-only"),this.loading&&(e+=" p-disabled p-button-loading",!this.icon&&this.label&&(e+=" p-button-loading-label-only")),e}setStyleClass(){let e=this.getStyleClass();this.el.nativeElement.className=e+" "+this._initialStyleClass}createIconEl(){let e=document.createElement("span");e.className="p-button-icon",e.setAttribute("aria-hidden","true");let s=this.label?"p-button-icon-"+this.iconPos:null;s&&cn.addClass(e,s),cn.addMultipleClasses(e,this.getIconClass());let a=cn.findSingle(this.el.nativeElement,".p-button-label");a?this.el.nativeElement.insertBefore(e,a):this.el.nativeElement.appendChild(e)}getIconClass(){return this.loading?"p-button-loading-icon "+this.loadingIcon:this._icon}setIconClass(){let e=cn.findSingle(this.el.nativeElement,".p-button-icon");e?e.className=this.iconPos?"p-button-icon p-button-icon-"+this.iconPos+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIconEl()}removeIconElement(){let e=cn.findSingle(this.el.nativeElement,".p-button-icon");this.el.nativeElement.removeChild(e)}get label(){return this._label}set label(e){this._label=e,this.initialized&&(cn.findSingle(this.el.nativeElement,".p-button-label").textContent=this._label||"&nbsp;",this.setIconClass(),this.setStyleClass())}get icon(){return this._icon}set icon(e){this._icon=e,this.initialized&&(this.setIconClass(),this.setStyleClass())}get loading(){return this._loading}set loading(e){this._loading=e,this.initialized&&(this.loading||this.icon?this.setIconClass():this.removeIconElement(),this.setStyleClass())}ngOnDestroy(){this.initialized=!1}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq))},t.\u0275dir=o.lG2({type:t,selectors:[["","pButton",""]],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading"}}),t})(),tH=(()=>{class t{constructor(){this.type="button",this.iconPos="left",this.loading=!1,this.loadingIcon="pi pi-spinner pi-spin",this.onClick=new o.vpe,this.onFocus=new o.vpe,this.onBlur=new o.vpe}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":default:this.contentTemplate=e.template}})}badgeStyleClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.badge&&1===String(this.badge).length}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-button"]],contentQueries:function(e,s,a){if(1&e&&o.Suo(a,Rl,4),2&e){let l;o.iGM(l=o.CRH())&&(s.templates=l)}},inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:"disabled",loading:"loading",loadingIcon:"loadingIcon",style:"style",styleClass:"styleClass",badgeClass:"badgeClass"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},ngContentSelectors:Fee,decls:6,vars:16,consts:[["pRipple","",3,"ngStyle","disabled","ngClass","click","focus","blur"],[4,"ngTemplateOutlet"],[3,"ngClass","class",4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass"],[1,"p-button-label"]],template:function(e,s){1&e&&(o.F$t(),o.TgZ(0,"button",0),o.NdJ("click",function(l){return s.onClick.emit(l)})("focus",function(l){return s.onFocus.emit(l)})("blur",function(l){return s.onBlur.emit(l)}),o.Hsn(1),o.YNc(2,Aee,1,0,"ng-container",1),o.YNc(3,Lee,1,9,"span",2),o.YNc(4,Pee,2,2,"span",3),o.YNc(5,Oee,2,4,"span",2),o.qZA()),2&e&&(o.Tol(s.styleClass),o.Q6J("ngStyle",s.style)("disabled",s.disabled||s.loading)("ngClass",o.qbA(10,Ree,s.icon&&!s.label,("top"===s.iconPos||"bottom"===s.iconPos)&&s.label,s.disabled||s.loading,s.loading,s.loading&&!s.icon&&s.label)),o.uIk("type",s.type),o.xp6(2),o.Q6J("ngTemplateOutlet",s.contentTemplate),o.xp6(1),o.Q6J("ngIf",!s.contentTemplate&&(s.icon||s.loading)),o.xp6(1),o.Q6J("ngIf",!s.contentTemplate),o.xp6(1),o.Q6J("ngIf",!s.contentTemplate&&s.badge))},directives:[Km,qi,he,jr,un],encapsulation:2,changeDetection:0}),t})(),Ob=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Ji,Bh]]}),t})();const Nee=["content"];function zee(t,i){1&t&&o.GkF(0)}function Bee(t,i){if(1&t&&(o.TgZ(0,"div",10),o.YNc(1,zee,1,0,"ng-container",11),o.qZA()),2&t){const e=o.oxw(3);o.xp6(1),o.Q6J("ngTemplateOutlet",e.headerTemplate)}}function Yee(t,i){if(1&t&&(o.TgZ(0,"span",15),o._uU(1),o.qZA()),2&t){const e=o.oxw(4);o.xp6(1),o.Oqu(e.option("header"))}}const Hee=function(){return{"p-dialog-header-icon p-dialog-header-close p-link":!0}};function Vee(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",16),o.NdJ("click",function(a){return o.CHM(e),o.oxw(4).close(a)})("keydown.enter",function(a){return o.CHM(e),o.oxw(4).close(a)}),o._UZ(1,"span",17),o.qZA()}2&t&&o.Q6J("ngClass",o.DdM(1,Hee))}function Uee(t,i){if(1&t&&(o.TgZ(0,"div",10),o.YNc(1,Yee,2,1,"span",12),o.TgZ(2,"div",13),o.YNc(3,Vee,2,2,"button",14),o.qZA(),o.qZA()),2&t){const e=o.oxw(3);o.xp6(1),o.Q6J("ngIf",e.option("header")),o.xp6(2),o.Q6J("ngIf",e.closable)}}function jee(t,i){if(1&t&&o._UZ(0,"i",1),2&t){const e=o.oxw(3);o.Tol(e.option("icon")),o.Q6J("ngClass","p-confirm-dialog-icon")}}function Zee(t,i){1&t&&o.GkF(0)}function Gee(t,i){if(1&t&&(o.TgZ(0,"div",18),o.Hsn(1),o.YNc(2,Zee,1,0,"ng-container",11),o.qZA()),2&t){const e=o.oxw(3);o.xp6(2),o.Q6J("ngTemplateOutlet",e.footerTemplate)}}function Wee(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",20),o.NdJ("click",function(){return o.CHM(e),o.oxw(4).reject()}),o.qZA()}if(2&t){const e=o.oxw(4);o.Tol(e.option("rejectButtonStyleClass")),o.Q6J("icon",e.option("rejectIcon"))("label",e.rejectButtonLabel)("ngClass","p-confirm-dialog-reject"),o.uIk("aria-label",e.rejectAriaLabel)}}function qee(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",20),o.NdJ("click",function(){return o.CHM(e),o.oxw(4).accept()}),o.qZA()}if(2&t){const e=o.oxw(4);o.Tol(e.option("acceptButtonStyleClass")),o.Q6J("icon",e.option("acceptIcon"))("label",e.acceptButtonLabel)("ngClass","p-confirm-dialog-accept"),o.uIk("aria-label",e.acceptAriaLabel)}}function $ee(t,i){if(1&t&&(o.TgZ(0,"div",18),o.YNc(1,Wee,1,6,"button",19),o.YNc(2,qee,1,6,"button",19),o.qZA()),2&t){const e=o.oxw(3);o.xp6(1),o.Q6J("ngIf",e.option("rejectVisible")),o.xp6(1),o.Q6J("ngIf",e.option("acceptVisible"))}}const Qee=function(t){return{"p-dialog p-confirm-dialog p-component":!0,"p-dialog-rtl":t}},Xee=function(t,i){return{transform:t,transition:i}},Jee=function(t){return{value:"visible",params:t}};function Kee(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",3),o.NdJ("mousedown",function(){return o.CHM(e),o.oxw(2).moveOnTop()})("@animation.start",function(a){return o.CHM(e),o.oxw(2).onAnimationStart(a)})("@animation.done",function(a){return o.CHM(e),o.oxw(2).onAnimationEnd(a)}),o.YNc(1,Bee,2,1,"div",4),o.YNc(2,Uee,4,2,"div",4),o.TgZ(3,"div",5,6),o.YNc(5,jee,1,3,"i",7),o._UZ(6,"span",8),o.qZA(),o.YNc(7,Gee,3,1,"div",9),o.YNc(8,$ee,3,2,"div",9),o.qZA()}if(2&t){const e=o.oxw(2);o.Tol(e.styleClass),o.Q6J("ngClass",o.VKq(11,Qee,e.rtl))("ngStyle",e.style)("@animation",o.VKq(16,Jee,o.WLB(13,Xee,e.transformOptions,e.transitionOptions))),o.xp6(1),o.Q6J("ngIf",e.headerTemplate),o.xp6(1),o.Q6J("ngIf",!e.headerTemplate),o.xp6(3),o.Q6J("ngIf",e.option("icon")),o.xp6(1),o.Q6J("innerHTML",e.option("message"),o.oJD),o.xp6(1),o.Q6J("ngIf",e.footer||e.footerTemplate),o.xp6(1),o.Q6J("ngIf",!e.footer&&!e.footerTemplate)}}function ete(t,i){if(1&t&&(o.TgZ(0,"div",1),o.YNc(1,Kee,9,18,"div",2),o.qZA()),2&t){const e=o.oxw();o.Tol(e.maskStyleClass),o.Q6J("ngClass",e.getMaskClass()),o.xp6(1),o.Q6J("ngIf",e.visible)}}const tte=[[["p-footer"]]],nte=["p-footer"],ite=uv([oi({transform:"{{transform}}",opacity:0}),qr("{{transition}}",oi({transform:"none",opacity:1}))]),rte=uv([qr("{{transition}}",oi({transform:"{{transform}}",opacity:0}))]);let PL=(()=>{class t{constructor(e,s,a,l,h,v){this.el=e,this.renderer=s,this.confirmationService=a,this.zone=l,this.cd=h,this.config=v,this.acceptIcon="pi pi-check",this.acceptVisible=!0,this.rejectIcon="pi pi-times",this.rejectVisible=!0,this.closeOnEscape=!0,this.blockScroll=!0,this.closable=!0,this.autoZIndex=!0,this.baseZIndex=0,this.transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.focusTrap=!0,this.defaultFocus="accept",this.onHide=new o.vpe,this._position="center",this.transformOptions="scale(0.7)",this.id=kC(),this.subscription=this.confirmationService.requireConfirmation$.subscribe(C=>{C?C.key===this.key&&(this.confirmation=C,this.confirmationOptions={message:this.confirmation.message||this.message,icon:this.confirmation.icon||this.icon,header:this.confirmation.header||this.header,rejectVisible:null==this.confirmation.rejectVisible?this.rejectVisible:this.confirmation.rejectVisible,acceptVisible:null==this.confirmation.acceptVisible?this.acceptVisible:this.confirmation.acceptVisible,acceptLabel:this.confirmation.acceptLabel||this.acceptLabel,rejectLabel:this.confirmation.rejectLabel||this.rejectLabel,acceptIcon:this.confirmation.acceptIcon||this.acceptIcon,rejectIcon:this.confirmation.rejectIcon||this.rejectIcon,acceptButtonStyleClass:this.confirmation.acceptButtonStyleClass||this.acceptButtonStyleClass,rejectButtonStyleClass:this.confirmation.rejectButtonStyleClass||this.rejectButtonStyleClass,defaultFocus:this.confirmation.defaultFocus||this.defaultFocus,blockScroll:!1===this.confirmation.blockScroll||!0===this.confirmation.blockScroll?this.confirmation.blockScroll:this.blockScroll,closeOnEscape:!1===this.confirmation.closeOnEscape||!0===this.confirmation.closeOnEscape?this.confirmation.closeOnEscape:this.closeOnEscape,dismissableMask:!1===this.confirmation.dismissableMask||!0===this.confirmation.dismissableMask?this.confirmation.dismissableMask:this.dismissableMask},this.confirmation.accept&&(this.confirmation.acceptEvent=new o.vpe,this.confirmation.acceptEvent.subscribe(this.confirmation.accept)),this.confirmation.reject&&(this.confirmation.rejectEvent=new o.vpe,this.confirmation.rejectEvent.subscribe(this.confirmation.reject)),this.visible=!0):this.hide()})}get visible(){return this._visible}set visible(e){this._visible=e,this._visible&&!this.maskVisible&&(this.maskVisible=!0),this.cd.markForCheck()}get position(){return this._position}set position(e){switch(this._position=e,e){case"top-left":case"bottom-left":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"top-right":case"bottom-right":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)"}}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template}})}ngOnInit(){this.breakpoints&&this.createStyle(),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.visible&&this.cd.markForCheck()})}option(e){const s=this.confirmationOptions||this;if(s.hasOwnProperty(e))return s[e]}onAnimationStart(e){switch(e.toState){case"visible":this.container=e.element,this.wrapper=this.container.parentElement,this.contentContainer=cn.findSingle(this.container,".p-dialog-content"),this.container.setAttribute(this.id,"");const s=this.getElementToFocus();s&&s.focus(),this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.enableModality()}}onAnimationEnd(e){switch(e.toState){case"void":this.onOverlayHide()}}getElementToFocus(){switch(this.option("defaultFocus")){case"accept":return cn.findSingle(this.container,".p-confirm-dialog-accept");case"reject":return cn.findSingle(this.container,".p-confirm-dialog-reject");case"close":return cn.findSingle(this.container,".p-dialog-header-close");case"none":return null;default:return cn.findSingle(this.container,".p-confirm-dialog-accept")}}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.wrapper):cn.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.wrapper&&this.appendTo&&this.el.nativeElement.appendChild(this.wrapper)}enableModality(){this.option("blockScroll")&&cn.addClass(document.body,"p-overflow-hidden"),this.option("dismissableMask")&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",e=>{this.wrapper&&this.wrapper.isSameNode(e.target)&&this.close(e)}))}disableModality(){this.maskVisible=!1,this.option("blockScroll")&&cn.removeClass(document.body,"p-overflow-hidden"),this.dismissableMask&&this.unbindMaskClickListener(),this.container&&!this.cd.destroyed&&this.cd.detectChanges()}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let e="";for(let s in this.breakpoints)e+=`\n                    @media screen and (max-width: ${s}) {\n                        .p-dialog[${this.id}] {\n                            width: ${this.breakpoints[s]} !important;\n                        }\n                    }\n                `;this.styleElement.innerHTML=e}}close(e){this.confirmation.rejectEvent&&this.confirmation.rejectEvent.emit(pv.CANCEL),this.hide(pv.CANCEL),e.preventDefault()}hide(e){this.onHide.emit(e),this.visible=!1,this.confirmation=null,this.confirmationOptions=null}moveOnTop(){this.autoZIndex&&(this.container.style.zIndex=String(this.baseZIndex+ ++cn.zindex),this.wrapper.style.zIndex=String(this.baseZIndex+(cn.zindex-1)))}getMaskClass(){let e={"p-dialog-mask p-component-overlay":!0,"p-dialog-mask-scrollblocker":this.blockScroll};return e[this.getPositionClass().toString()]=!0,e}getPositionClass(){const s=["left","right","top","top-left","top-right","bottom","bottom-left","bottom-right"].find(a=>a===this.position);return s?`p-dialog-${s}`:""}bindGlobalListeners(){(this.option("closeOnEscape")&&this.closable||this.focusTrap&&!this.documentEscapeListener)&&(this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",s=>{if(27==s.which&&this.option("closeOnEscape")&&this.closable&&parseInt(this.container.style.zIndex)===cn.zindex+this.baseZIndex&&this.visible&&this.close(s),9===s.which&&this.focusTrap){s.preventDefault();let a=cn.getFocusableElements(this.container);if(a&&a.length>0)if(a[0].ownerDocument.activeElement){let l=a.indexOf(a[0].ownerDocument.activeElement);s.shiftKey?-1==l||0===l?a[a.length-1].focus():a[l-1].focus():-1==l||l===a.length-1?a[0].focus():a[l+1].focus()}else a[0].focus()}}))}unbindGlobalListeners(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}onOverlayHide(){this.disableModality(),this.unbindGlobalListeners(),this.container=null}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.restoreAppend(),this.onOverlayHide(),this.subscription.unsubscribe(),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.destroyStyle()}accept(){this.confirmation&&this.confirmation.acceptEvent&&this.confirmation.acceptEvent.emit(),this.hide(pv.ACCEPT)}reject(){this.confirmation&&this.confirmation.rejectEvent&&this.confirmation.rejectEvent.emit(pv.REJECT),this.hide(pv.REJECT)}get acceptButtonLabel(){return this.option("acceptLabel")||this.config.getTranslation(qu.ACCEPT)}get rejectButtonLabel(){return this.option("rejectLabel")||this.config.getTranslation(qu.REJECT)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(Jm),o.Y36(o.R0b),o.Y36(o.sBO),o.Y36(_m))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-confirmDialog"]],contentQueries:function(e,s,a){if(1&e&&(o.Suo(a,EC,5),o.Suo(a,Rl,4)),2&e){let l;o.iGM(l=o.CRH())&&(s.footer=l.first),o.iGM(l=o.CRH())&&(s.templates=l)}},viewQuery:function(e,s){if(1&e&&o.Gf(Nee,5),2&e){let a;o.iGM(a=o.CRH())&&(s.contentViewChild=a.first)}},inputs:{header:"header",icon:"icon",message:"message",style:"style",styleClass:"styleClass",maskStyleClass:"maskStyleClass",acceptIcon:"acceptIcon",acceptLabel:"acceptLabel",acceptAriaLabel:"acceptAriaLabel",acceptVisible:"acceptVisible",rejectIcon:"rejectIcon",rejectLabel:"rejectLabel",rejectAriaLabel:"rejectAriaLabel",rejectVisible:"rejectVisible",acceptButtonStyleClass:"acceptButtonStyleClass",rejectButtonStyleClass:"rejectButtonStyleClass",closeOnEscape:"closeOnEscape",dismissableMask:"dismissableMask",blockScroll:"blockScroll",rtl:"rtl",closable:"closable",appendTo:"appendTo",key:"key",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",transitionOptions:"transitionOptions",focusTrap:"focusTrap",defaultFocus:"defaultFocus",breakpoints:"breakpoints",visible:"visible",position:"position"},outputs:{onHide:"onHide"},ngContentSelectors:nte,decls:1,vars:1,consts:[[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],[3,"ngClass","ngStyle","class","mousedown",4,"ngIf"],[3,"ngClass","ngStyle","mousedown"],["class","p-dialog-header",4,"ngIf"],[1,"p-dialog-content"],["content",""],[3,"ngClass","class",4,"ngIf"],[1,"p-confirm-dialog-message",3,"innerHTML"],["class","p-dialog-footer",4,"ngIf"],[1,"p-dialog-header"],[4,"ngTemplateOutlet"],["class","p-dialog-title",4,"ngIf"],[1,"p-dialog-header-icons"],["type","button",3,"ngClass","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title"],["type","button",3,"ngClass","click","keydown.enter"],[1,"pi","pi-times"],[1,"p-dialog-footer"],["type","button","pRipple","","pButton","",3,"icon","label","ngClass","class","click",4,"ngIf"],["type","button","pRipple","","pButton","",3,"icon","label","ngClass","click"]],template:function(e,s){1&e&&(o.F$t(tte),o.YNc(0,ete,2,4,"div",0)),2&e&&o.Q6J("ngIf",s.maskVisible)},directives:[un,he,qi,jr,Km,ox],styles:[".p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none;background-color:transparent;transition-property:background-color}.p-dialog,.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-dialog-mask.p-dialog-mask-leave{background-color:transparent}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-top .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{transition:none;transform:none;width:100vw!important;height:100vh!important;top:0!important;left:0!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top,.p-dialog-top-left{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}"],encapsulation:2,data:{animation:[oa("animation",[Ir("void => visible",[dv(ite)]),Ir("visible => void",[dv(rte)])])]},changeDetection:0}),t})(),ste=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Ji,Ob,Bh],Ob,Ha]}),t})();const ote=["primaryValueBar"];class ate{constructor(i){this._elementRef=i}}const lte=iM(ate,"primary"),cte=new o.OlP("mat-progress-bar-location",{providedIn:"root",factory:function(){const t=(0,o.f3M)(Ee),i=t?t.location:null;return{getPathname:()=>i?i.pathname+i.search:""}}});let dte=0,TF=(()=>{class t extends lte{constructor(e,s,a,l){super(e),this._elementRef=e,this._ngZone=s,this._animationMode=a,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new o.vpe,this._animationEndSubscription=Ua.w.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+dte++;const h=l?l.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${h}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===a}get value(){return this._value}set value(e){this._value=nH(yu(e)||0)}get bufferValue(){return this._bufferValue}set bufferValue(e){this._bufferValue=nH(e||0)}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const e=this._primaryValueBar.nativeElement;this._animationEndSubscription=fv(e,"transitionend").pipe(T(s=>s.target===e)).subscribe(()=>{("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(Of,8),o.Y36(cte,8))},t.\u0275cmp=o.Xpm({type:t,selectors:[["mat-progress-bar"]],viewQuery:function(e,s){if(1&e&&o.Gf(ote,5),2&e){let a;o.iGM(a=o.CRH())&&(s._primaryValueBar=a.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(e,s){2&e&&(o.uIk("aria-valuenow","indeterminate"===s.mode||"query"===s.mode?null:s.value)("mode",s.mode),o.ekj("_mat-animation-noopable",s._isNoopAnimation))},inputs:{color:"color",mode:"mode",value:"value",bufferValue:"bufferValue"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[o.qOj],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(e,s){1&e&&(o.TgZ(0,"div",0),o.O4$(),o.TgZ(1,"svg",1),o.TgZ(2,"defs"),o.TgZ(3,"pattern",2),o._UZ(4,"circle",3),o.qZA(),o.qZA(),o._UZ(5,"rect",4),o.qZA(),o.kcU(),o._UZ(6,"div",5),o._UZ(7,"div",6,7),o._UZ(9,"div",8),o.qZA()),2&e&&(o.xp6(3),o.Q6J("id",s.progressbarId),o.xp6(2),o.uIk("fill",s._rectangleFillValue),o.xp6(1),o.Q6J("ngStyle",s._bufferTransform()),o.xp6(1),o.Q6J("ngStyle",s._primaryTransform()))},directives:[qi],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}\n'],encapsulation:2,changeDetection:0}),t})();function nH(t,i=0,e=100){return Math.max(i,Math.min(e,t))}let iH=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Ji,Fs],Fs]}),t})();function hte(t,i){1&t&&(o.TgZ(0,"div",25),o._UZ(1,"mat-progress-bar",26),o.qZA())}function pte(t,i){1&t&&(o.TgZ(0,"th",27),o._uU(1,"No"),o.qZA())}function fte(t,i){if(1&t&&(o.TgZ(0,"td",28),o._uU(1),o.qZA()),2&t){const e=i.$implicit;o.xp6(1),o.Oqu(e.x)}}function mte(t,i){1&t&&(o.TgZ(0,"th",27),o._uU(1,"Item Name"),o.qZA()),2&t&&o.Udp("width","30%")}function gte(t,i){if(1&t&&(o.TgZ(0,"td",28),o._uU(1),o.qZA()),2&t){const e=i.$implicit;o.xp6(1),o.Oqu(e.id)}}function _te(t,i){1&t&&(o.TgZ(0,"th",27),o._uU(1,"Quantity"),o.qZA())}function yte(t,i){if(1&t&&(o.TgZ(0,"td",28),o._uU(1),o.qZA()),2&t){const e=i.$implicit;o.xp6(1),o.Oqu(e.key)}}function vte(t,i){1&t&&(o.TgZ(0,"th",27),o._uU(1,"Lowest Margin"),o.qZA()),2&t&&o.Udp("width","10%")}function bte(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"td",28),o.TgZ(1,"input",29),o.NdJ("click",function(a){const h=o.CHM(e).$implicit;return o.oxw().update(a,h.id)})("keyup.enter",function(a){const h=o.CHM(e).$implicit;return o.oxw().update(a,h.id)}),o.qZA(),o.qZA()}if(2&t){const e=i.$implicit;o.xp6(1),o.Q6J("value",e.lowestmargin)}}function xte(t,i){1&t&&(o.TgZ(0,"th",27),o._uU(1," Action"),o.qZA())}const wte=function(t){return["/adminviewhistory/",t]};function Cte(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"td",28),o.TgZ(1,"button",30),o._uU(2,"VIEW HISTORY"),o.qZA(),o.TgZ(3,"button",31),o.NdJ("click",function(){const l=o.CHM(e).$implicit;return o.oxw().delete(l.id)}),o._uU(4,"DELETE"),o.qZA(),o.qZA()}if(2&t){const e=i.$implicit;o.xp6(1),o.Q6J("routerLink",o.VKq(2,wte,e.id)),o.xp6(2),o.Q6J("disabled",e.key>0)}}function Mte(t,i){1&t&&o._UZ(0,"tr",32)}function Tte(t,i){1&t&&o._UZ(0,"tr",33)}function Ste(t,i){if(1&t&&(o.TgZ(0,"tr",34),o.TgZ(1,"td",35),o._uU(2),o.qZA(),o.qZA()),2&t){o.oxw();const e=o.MAs(14);o.xp6(2),o.hij(' No data matching the filter "',e.value,'" ')}}const kte=function(){return[5,10,20]};let Ete=(()=>{class t{constructor(e,s,a,l){this.fs=e,this.admins=s,this.confirmationService=a,this.primengConfig=l,this.temp=!0,this.isLoading2=new To(this.temp),this.displayedColumns=["x","id","key","lowestmargin","action"],this.data=[],this.index=0,this.tableinfo$=this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("inventory").snapshotChanges(),this.tableinfo$.subscribe(h=>{this.data=[];let v=1;h.map(C=>{let O={x:v+++".",id:C.payload.doc.id,key:C.payload.doc.data().quantity,lowestmargin:C.payload.doc.data().lowestmargin};this.data.push(O),console.log(this.data),this.dataSource=new s1(this.data),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.isLoading2=new To(!1)})})}ngOnInit(){this.primengConfig.ripple=!0}ngAfterViewInit(){}update(e,s){console.log(e.target.value),console.log(s),this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("inventory").doc(s).update({lowestmargin:e.target.value})}delete(e){this.confirmationService.confirm({message:"Are you sure that you want to perform this action?",accept:()=>{this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("inventory").doc(e).delete()}})}value(e){console.log(e)}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase().toString()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Sa),o.Y36(AL),o.Y36(Jm),o.Y36(_m))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-admin-manage-inventory"]],viewQuery:function(e,s){if(1&e&&(o.Gf(sx,5),o.Gf(Ab,5)),2&e){let a;o.iGM(a=o.CRH())&&(s.paginator=a.first),o.iGM(a=o.CRH())&&(s.sort=a.first)}},features:[o._Bn([Jm])],decls:39,vars:10,consts:[["class","loader-container",4,"ngIf"],[1,"title"],["id","invtitle"],["id","add","mat-raised-button","","routerLink","/adminaddorder"],["appearance","standard","id","filter"],[1,"fas","fa-search"],["matInput","","placeholder","Ex. Egg",3,"keyup"],["input",""],["id","table",1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","x"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],[1,"name"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",3,"width",4,"matHeaderCellDef"],["matColumnDef","key"],["matColumnDef","lowestmargin"],["matColumnDef","action"],["count","1","appearance","line"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["header","Confirmation","icon","pi pi-exclamation-triangle"],[1,"loader-container"],["mode","indeterminate"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["type","number","id","form1","min","0",1,"form-control",3,"value","click","keyup.enter"],["mat-raised-button","",3,"routerLink"],["mat-raised-button","",3,"disabled","click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,s){1&e&&(o.TgZ(0,"body"),o._UZ(1,"app-adminnavbarpage"),o.YNc(2,hte,2,0,"div",0),o.ALo(3,"async"),o.TgZ(4,"div",1),o.TgZ(5,"h4",2),o._uU(6,"Manage Inventory"),o.qZA(),o.TgZ(7,"button",3),o._uU(8,"ADD ORDER"),o.qZA(),o.qZA(),o.TgZ(9,"mat-form-field",4),o.TgZ(10,"mat-label"),o._UZ(11,"i",5),o._uU(12," Search"),o.qZA(),o.TgZ(13,"input",6,7),o.NdJ("keyup",function(l){return s.applyFilter(l)}),o.qZA(),o.qZA(),o.TgZ(15,"div",8),o.TgZ(16,"table",9),o.ynx(17,10),o.YNc(18,pte,2,0,"th",11),o.YNc(19,fte,2,1,"td",12),o.BQk(),o.TgZ(20,"div",13),o.ynx(21,14),o.YNc(22,mte,2,2,"th",15),o.YNc(23,gte,2,1,"td",12),o.BQk(),o.qZA(),o.ynx(24,16),o.YNc(25,_te,2,0,"th",11),o.YNc(26,yte,2,1,"td",12),o.BQk(),o.ynx(27,17),o.YNc(28,vte,2,2,"th",15),o.YNc(29,bte,2,1,"td",12),o.BQk(),o.ynx(30,18),o.YNc(31,xte,2,0,"th",11),o.YNc(32,Cte,5,4,"td",12),o._UZ(33,"ngx-skeleton-loader",19),o.BQk(),o.YNc(34,Mte,1,0,"tr",20),o.YNc(35,Tte,1,0,"tr",21),o.YNc(36,Ste,3,1,"tr",22),o.qZA(),o._UZ(37,"mat-paginator",23),o.qZA(),o._UZ(38,"p-confirmDialog",24),o.qZA()),2&e&&(o.xp6(2),o.Q6J("ngIf",o.lcZ(3,7,s.isLoading2)),o.xp6(14),o.Udp("width","100%"),o.Q6J("dataSource",s.dataSource),o.xp6(18),o.Q6J("matHeaderRowDef",s.displayedColumns),o.xp6(1),o.Q6J("matRowDefColumns",s.displayedColumns),o.xp6(2),o.Q6J("pageSizeOptions",o.DdM(9,kte)))},directives:[Zg,un,Dd,yf,rx,Ib,o1,Ck,Ab,fM,pM,hM,Eee,Mk,Tk,Ek,sx,PL,TF,mM,mL,gM,Sk,kk],pipes:[Nl],styles:["body[_ngcontent-%COMP%]{background:#f5f5f5;margin:0;padding:0}.tableInv[_ngcontent-%COMP%]{margin:20px}.mat-elevation-z8[_ngcontent-%COMP%]{width:90%;margin:auto}td[_ngcontent-%COMP%]:hover{background:#f5f5f5}.title[_ngcontent-%COMP%]{display:flex;width:100%;position:relative}#add[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:3.4rem;margin-top:20px}#invtitle[_ngcontent-%COMP%]{position:absolute;left:0;margin-left:3.4rem;margin-top:20px}button[_ngcontent-%COMP%]{margin:0 10px}button[_ngcontent-%COMP%]:hover{color:red}button[_ngcontent-%COMP%]:disabled{background:grey}#table[_ngcontent-%COMP%]{margin-top:8rem}#filter[_ngcontent-%COMP%]{position:absolute;right:4.5rem;z-index:999;top:8rem}ngx-skeleton-loader[_ngcontent-%COMP%]{z-index:99}"]}),t})(),cy=(()=>{class t{constructor(e,s,a,l){this.auth=e,this.router=s,this.fauth=a,this.fs=l}canActivate(e,s){var a=this;return Qs(function*(){return 0!=(yield a.auth.getAdminStatus())||(a.router.navigateByUrl(""),!1)})()}}return t.\u0275fac=function(e){return new(e||t)(o.LFG($_),o.LFG(Eo),o.LFG(ui),o.LFG(Sa))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),nh=(()=>{class t{constructor(e,s,a){this.auth=e,this.router=s,this.fauth=a}canActivate(e,s){return this.fauth.authState.pipe((0,Ri.U)(a=>!!a||(this.router.navigate([""],{queryParams:{returnUrl:s.url}}),!1)))}}return t.\u0275fac=function(e){return new(e||t)(o.LFG($_),o.LFG(Eo),o.LFG(ui))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),OL=(()=>{class t{constructor(e,s,a,l){this.auth=e,this.as=s,this.fs=a,this.router=l}canActivate(e,s){var a=this;return Qs(function*(){let l=yield a.as.getStudentStatus();return console.log(l),0!=l||(a.router.navigateByUrl(""),!1)})()}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(ui),o.LFG($_),o.LFG(Sa),o.LFG(Eo))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Dte(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",1),o.TgZ(1,"button",2),o.NdJ("click",function(){return o.CHM(e),o.oxw().action()}),o._uU(2),o.qZA(),o.qZA()}if(2&t){const e=o.oxw();o.xp6(2),o.Oqu(e.data.action)}}function Ate(t,i){}const rH=new o.OlP("MatSnackBarData");class RL{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const Ite=Math.pow(2,31)-1;class SF{constructor(i,e){this._overlayRef=e,this._afterDismissed=new li.xQ,this._afterOpened=new li.xQ,this._onAction=new li.xQ,this._dismissedByAction=!1,this.containerInstance=i,this.onAction().subscribe(()=>this.dismiss()),i._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(i){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(i,Ite))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let Lte=(()=>{class t{constructor(e,s){this.snackBarRef=e,this.data=s}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(SF),o.Y36(rH))},t.\u0275cmp=o.Xpm({type:t,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(e,s){1&e&&(o.TgZ(0,"span"),o._uU(1),o.qZA(),o.YNc(2,Dte,3,1,"div",0)),2&e&&(o.xp6(1),o.Oqu(s.data.message),o.xp6(1),o.Q6J("ngIf",s.hasAction))},directives:[un,Dd],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),t})();const Pte={snackBarState:oa("state",[bo("void, hidden",oi({transform:"scale(0.8)",opacity:0})),bo("visible",oi({transform:"scale(1)",opacity:1})),Ir("* => visible",qr("150ms cubic-bezier(0, 0, 0.2, 1)")),Ir("* => void, * => hidden",qr("75ms cubic-bezier(0.4, 0.0, 1, 1)",oi({opacity:0})))])};let Ote=(()=>{class t extends gL{constructor(e,s,a,l,h){super(),this._ngZone=e,this._elementRef=s,this._changeDetectorRef=a,this._platform=l,this.snackBarConfig=h,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new li.xQ,this._onExit=new li.xQ,this._onEnter=new li.xQ,this._animationState="void",this.attachDomPortal=v=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(v)),this._live="assertive"!==h.politeness||h.announcementMessage?"off"===h.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(e)}onAnimationEnd(e){const{fromState:s,toState:a}=e;if(("void"===a&&"void"!==s||"hidden"===a)&&this._completeExit(),"visible"===a){const l=this._onEnter;this._ngZone.run(()=>{l.next(),l.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(xe(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const e=this._elementRef.nativeElement,s=this.snackBarConfig.panelClass;s&&(Array.isArray(s)?s.forEach(a=>e.classList.add(a)):e.classList.add(s)),"center"===this.snackBarConfig.horizontalPosition&&e.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&e.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),s=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&s){let a=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(a=document.activeElement),e.removeAttribute("aria-hidden"),s.appendChild(e),null==a||a.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.R0b),o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(aa),o.Y36(RL))},t.\u0275cmp=o.Xpm({type:t,selectors:[["snack-bar-container"]],viewQuery:function(e,s){if(1&e&&o.Gf(n1,7),2&e){let a;o.iGM(a=o.CRH())&&(s._portalOutlet=a.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(e,s){1&e&&o.WFA("@state.done",function(l){return s.onAnimationEnd(l)}),2&e&&o.d8E("@state",s._animationState)},features:[o.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,s){1&e&&(o.TgZ(0,"div",0),o.YNc(1,Ate,0,0,"ng-template",1),o.qZA(),o._UZ(2,"div")),2&e&&(o.xp6(2),o.uIk("aria-live",s._live)("role",s._role))},directives:[n1],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[Pte.snackBarState]}}),t})(),sH=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[yk,_L,Ji,cF,Fs],Fs]}),t})();const oH=new o.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new RL}});let aH=(()=>{class t{constructor(e,s,a,l,h,v){this._overlay=e,this._live=s,this._injector=a,this._breakpointObserver=l,this._parentSnackBar=h,this._defaultConfig=v,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=Lte,this.snackBarContainerComponent=Ote,this.handsetCssClass="mat-snack-bar-handset"}get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}openFromComponent(e,s){return this._attach(e,s)}openFromTemplate(e,s){return this._attach(e,s)}open(e,s="",a){const l=Object.assign(Object.assign({},this._defaultConfig),a);return l.data={message:e,action:s},l.announcementMessage===e&&(l.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,l)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,s){const l=o.zs3.create({parent:s&&s.viewContainerRef&&s.viewContainerRef.injector||this._injector,providers:[{provide:RL,useValue:s}]}),h=new oM(this.snackBarContainerComponent,s.viewContainerRef,l),v=e.attach(h);return v.instance.snackBarConfig=s,v.instance}_attach(e,s){const a=Object.assign(Object.assign(Object.assign({},new RL),this._defaultConfig),s),l=this._createOverlay(a),h=this._attachSnackBarContainer(l,a),v=new SF(h,l);if(e instanceof o.Rgc){const C=new ix(e,null,{$implicit:a.data,snackBarRef:v});v.instance=h.attachTemplatePortal(C)}else{const C=this._createInjector(a,v),O=new oM(e,void 0,C),G=h.attachComponentPortal(O);v.instance=G.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Fo(l.detachments())).subscribe(C=>{const O=l.overlayElement.classList;C.matches?O.add(this.handsetCssClass):O.remove(this.handsetCssClass)}),a.announcementMessage&&h._onAnnounce.subscribe(()=>{this._live.announce(a.announcementMessage,a.politeness)}),this._animateSnackBar(v,a),this._openedSnackBarRef=v,this._openedSnackBarRef}_animateSnackBar(e,s){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),s.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),s.duration&&s.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(s.duration))}_createOverlay(e){const s=new gk;s.direction=e.direction;let a=this._overlay.position().global();const l="rtl"===e.direction,h="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!l||"end"===e.horizontalPosition&&l,v=!h&&"center"!==e.horizontalPosition;return h?a.left("0"):v?a.right("0"):a.centerHorizontally(),"top"===e.verticalPosition?a.top("0"):a.bottom("0"),s.positionStrategy=a,this._overlay.create(s)}_createInjector(e,s){return o.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:SF,useValue:s},{provide:rH,useValue:e.data}]})}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(ig),o.LFG(ZI),o.LFG(o.zs3),o.LFG(pF),o.LFG(t,12),o.LFG(oH))},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t((0,o.LFG)(ig),(0,o.LFG)(ZI),(0,o.LFG)(o.gxx),(0,o.LFG)(pF),(0,o.LFG)(t,12),(0,o.LFG)(oH))},token:t,providedIn:sH}),t})();function Fte(t,i){1&t&&(o.TgZ(0,"div",17),o._uU(1," Email Address is not registered. "),o.qZA())}function Nte(t,i){1&t&&o._UZ(0,"i",20)}function zte(t,i){1&t&&o._UZ(0,"i",21)}function Bte(t,i){if(1&t&&(o.TgZ(0,"div"),o.YNc(1,Nte,1,0,"i",18),o.YNc(2,zte,1,0,"i",19),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.fp.errors.required),o.xp6(1),o.Q6J("ngIf",e.fp.errors.email)}}let Yte=(()=>{class t{constructor(e,s,a,l){this.fb=e,this.service=s,this._snackBar=a,this.router=l,this.form2=this.fb.group({fpassword:["",[bl.required,bl.email]]})}ngOnInit(){}get fp(){return this.form2.get("fpassword")}forgotPassword(){var e=this;return Qs(function*(){let s=yield e.service.forgotPassword(e.form2.get("fpassword").value);1==s?(e.form2.setErrors({notfound:!1}),e._snackBar.open("Forgot Password Email Successfully!","Close",{duration:3e3,verticalPosition:"top",horizontalPosition:"center"}),setTimeout(()=>{e.router.navigateByUrl("")},4e3)):0==s&&e.form2.setErrors({notfound:!0})})()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(q0),o.Y36($_),o.Y36(aH),o.Y36(Eo))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-forgotpassword-page"]],decls:26,vars:4,consts:[["rel","preconnect","href","https://fonts.googleapis.com"],["rel","preconnect","href","https://fonts.gstatic.com","crossorigin",""],["href","https://fonts.googleapis.com/css2?family=Sora:wght@300&display=swap","rel","stylesheet"],[1,"container"],[1,"title"],["src","https://i.ibb.co/v1fQ3JN/Whats-App-Image-2021-08-20-at-11-40-42-AM.jpg","alt",""],[1,"forgotpassword"],["class","alert alert-danger",4,"ngIf"],["action","",3,"formGroup"],[1,"error"],["type","email","placeholder","Email Address","required","","formControlName","fpassword"],[4,"ngIf"],[3,"disabled","click"],[1,"special"],["routerLink","/","href",""],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 1440 320"],["fill","#f3f4f5","fill-opacity","1","d","M0,160L40,186.7C80,213,160,267,240,250.7C320,235,400,149,480,101.3C560,53,640,43,720,69.3C800,96,880,160,960,165.3C1040,171,1120,117,1200,85.3C1280,53,1360,43,1400,37.3L1440,32L1440,320L1400,320C1360,320,1280,320,1200,320C1120,320,1040,320,960,320C880,320,800,320,720,320C640,320,560,320,480,320C400,320,320,320,240,320C160,320,80,320,40,320L0,320Z"],[1,"alert","alert-danger"],["class","fas fa-exclamation-triangle","id","tooltip","data-tooltip","Please enter your email address.",4,"ngIf"],["class","fas fa-exclamation-triangle","id","tooltip","data-tooltip","Formatting of email address is invalid.",4,"ngIf"],["id","tooltip","data-tooltip","Please enter your email address.",1,"fas","fa-exclamation-triangle"],["id","tooltip","data-tooltip","Formatting of email address is invalid.",1,"fas","fa-exclamation-triangle"]],template:function(e,s){1&e&&(o._UZ(0,"link",0),o._UZ(1,"link",1),o._UZ(2,"link",2),o.TgZ(3,"body"),o.TgZ(4,"div",3),o.TgZ(5,"div",4),o._UZ(6,"img",5),o.TgZ(7,"h1"),o._uU(8," UMP Supply Chain "),o._UZ(9,"br"),o._uU(10," Management System "),o.qZA(),o.qZA(),o.TgZ(11,"div",6),o.TgZ(12,"h3"),o._uU(13,"Forgot Password?"),o.qZA(),o.YNc(14,Fte,2,0,"div",7),o.TgZ(15,"form",8),o.TgZ(16,"div",9),o._UZ(17,"input",10),o.YNc(18,Bte,3,2,"div",11),o.qZA(),o.TgZ(19,"button",12),o.NdJ("click",function(){return s.forgotPassword()}),o._uU(20," Reset Password "),o.qZA(),o.TgZ(21,"div",13),o.TgZ(22,"a",14),o._uU(23,"Back to Login?"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.O4$(),o.TgZ(24,"svg",15),o._UZ(25,"path",16),o.qZA(),o.qZA()),2&e&&(o.xp6(14),o.Q6J("ngIf",1==(null==s.form2.errors?null:s.form2.errors.notfound)),o.xp6(1),o.Q6J("formGroup",s.form2),o.xp6(3),o.Q6J("ngIf",s.fp.touched&&s.fp.invalid),o.xp6(1),o.Q6J("disabled",s.form2.invalid))},directives:[un,iy,$i,eg,xm,HC,On,Cv,Gp],styles:['body[_ngcontent-%COMP%]{background-color:#7395ae;font-family:"Sora",sans-serif}.container[_ngcontent-%COMP%]{height:100vh;display:flex;color:#fff;justify-content:space-around;align-items:center;flex-grow:0;z-index:999}.forgotpassword[_ngcontent-%COMP%]{background:#b1a296;padding:20px 40px 20px 20px;margin-left:5%;margin-right:5%;flex-grow:0;border-radius:4px;box-shadow:11px 11px 3px -4px #5d5c61bf;-webkit-box-shadow:11px 11px 3px -4px rgba(93,92,97,.75);-moz-box-shadow:11px 11px 3px -4px rgba(93,92,97,.75);z-index:999}h3[_ngcontent-%COMP%]{margin-left:.6rem}.error[_ngcontent-%COMP%]{position:relative}#tooltip[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:10px;top:30%;color:red;transition:.3s all ease-in-out}#tooltip[_ngcontent-%COMP%]:hover:after{content:attr(data-tooltip);display:block;position:absolute;right:0;z-index:999;background-color:#fc7676cc;margin-top:-3rem;width:-webkit-max-content;width:max-content;height:auto;color:#fff;padding:10px}.vl[_ngcontent-%COMP%]{height:300px;border-left:1px solid grey;position:absolute;left:50%}.title[_ngcontent-%COMP%]{text-shadow:4px 4px 2px #5d5c61;z-index:999;position:relative;margin-left:4.8rem}.title[_ngcontent-%COMP%]:before, .title[_ngcontent-%COMP%]:after{content:"";display:block;border:1px solid white}img[_ngcontent-%COMP%]{position:absolute;left:-12rem;border-radius:50%;top:-2.5rem;z-index:-999}input[_ngcontent-%COMP%]{display:block;padding:5px;width:100%;border-radius:4px!important;border:none;margin:10px}input[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #159ce466}.special[_ngcontent-%COMP%]{font-size:12px;display:flex;justify-content:space-around;align-items:center;margin-top:-1rem}.new-user[_ngcontent-%COMP%]{margin-right:10px}.forgot-password[_ngcontent-%COMP%]{margin-right:10px}a[_ngcontent-%COMP%]:hover{color:#505055}a[_ngcontent-%COMP%]{margin:2px 15px 10px;color:#fff;text-decoration:none}button[_ngcontent-%COMP%]{display:block;margin:10px 10px 25px;padding:10px;width:100%;border-radius:4px;border:none;background-color:#5d5c61;color:#fff;transition:all .2s ease-in}button[_ngcontent-%COMP%]:hover{background:#505055}button[_ngcontent-%COMP%]:disabled{background:grey}svg[_ngcontent-%COMP%]{position:absolute;bottom:0;z-index:22}@media (max-width: 420px){.container[_ngcontent-%COMP%]{height:100vh;display:flex;color:#fff;justify-content:center;align-content:center;flex-grow:0;flex-wrap:wrap;z-index:999}h1[_ngcontent-%COMP%]{text-align:center}.title[_ngcontent-%COMP%]{right:2rem;top:-2rem;left:-2.5rem}img[_ngcontent-%COMP%]{position:absolute;left:3.5rem;top:-12rem;z-index:-999}.login[_ngcontent-%COMP%]{margin-top:10px}.title[_ngcontent-%COMP%]{margin-top:100px}.special[_ngcontent-%COMP%]{margin-left:1rem}}']}),t})();function Hte(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",22),o._uU(1," Please verify your email address. "),o.TgZ(2,"a",23),o.NdJ("click",function(){return o.CHM(e),o.oxw().sendVerifyEmail()}),o._uU(3," Click"),o.qZA(),o._uU(4," Here to send the verification email again. "),o.qZA()}}function Vte(t,i){1&t&&(o.TgZ(0,"div",22),o._uU(1," Your password is invalid. "),o.qZA())}function Ute(t,i){1&t&&(o.TgZ(0,"div",22),o._uU(1," Your email address is not registered. "),o.qZA())}function jte(t,i){1&t&&o._UZ(0,"i",26)}function Zte(t,i){1&t&&o._UZ(0,"i",27)}function Gte(t,i){if(1&t&&(o.TgZ(0,"div"),o.YNc(1,jte,1,0,"i",24),o.YNc(2,Zte,1,0,"i",25),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.emailaddress.errors.required),o.xp6(1),o.Q6J("ngIf",e.emailaddress.errors.email)}}function Wte(t,i){1&t&&o._UZ(0,"i",29)}function qte(t,i){if(1&t&&(o.TgZ(0,"div",9),o.YNc(1,Wte,1,0,"i",28),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.getpassword.errors.required)}}const $te=function(t,i){return{"fa-eye":t,"fa-eye-slash":i}};let Qte=(()=>{class t{constructor(e,s){this.fb=e,this.service=s,this.email="",this.password="",this.errMessage="",this.visibility=!0,this.form=e.group({email:["",[bl.required,bl.email]],password:["",[bl.required]]})}ngOnInit(){}example(e){return(0,Ai.of)(e)}onVisible(){this.visibility=!this.visibility}login(){var e=this;return Qs(function*(){console.log(e.form),yield e.service.login(e.form.value.email,e.form.value.password),!1===e.service.emailVerified?e.form.setErrors({emailVerify:!0,wrongpassword:!1,notregister:!1}):!1===e.service.passwordVerified?(console.log("wrong password ts"),e.form.setErrors({wrongpassword:!0,notregister:!1})):!1===e.service.userVerified&&e.form.setErrors({notregister:!0,wrongpassword:!1})})()}sendVerifyEmail(){this.service.verificationemail()}get emailaddress(){return this.form.get("email")}get getpassword(){return this.form.get("password")}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(q0),o.Y36($_))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-home-page"]],decls:34,vars:13,consts:[["rel","preconnect","href","https://fonts.googleapis.com"],["rel","preconnect","href","https://fonts.gstatic.com","crossorigin",""],["href","https://fonts.googleapis.com/css2?family=Sora:wght@300&display=swap","rel","stylesheet"],[1,"container"],[1,"title"],["src","https://i.ibb.co/v1fQ3JN/Whats-App-Image-2021-08-20-at-11-40-42-AM.jpg","alt",""],[1,"login"],[3,"formGroup"],["class","alert alert-danger",4,"ngIf"],[1,"error"],["type","email","name","email","formControlName","email","placeholder","Email Address","required","",1,"icon-email",3,"ngModel","ngModelChange"],[4,"ngIf"],[1,"visible"],["name","password","placeholder","Password","formControlName","password","required","",1,"icon-password",3,"type"],[1,"far",3,"ngClass","click"],["class","error",4,"ngIf"],[1,"special"],["routerLink","/register",1,"new-user"],["routerLink","/forgotpassword",1,"forgot-password"],[3,"disabled","click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 1440 320"],["fill","#f3f4f5","fill-opacity","1","d","M0,160L40,186.7C80,213,160,267,240,250.7C320,235,400,149,480,101.3C560,53,640,43,720,69.3C800,96,880,160,960,165.3C1040,171,1120,117,1200,85.3C1280,53,1360,43,1400,37.3L1440,32L1440,320L1400,320C1360,320,1280,320,1200,320C1120,320,1040,320,960,320C880,320,800,320,720,320C640,320,560,320,480,320C400,320,320,320,240,320C160,320,80,320,40,320L0,320Z"],[1,"alert","alert-danger"],[1,"link",3,"click"],["class","fas fa-exclamation-triangle","id","tooltip","data-tooltip"," Email Address is required.",4,"ngIf"],["class","fas fa-exclamation-triangle","id","tooltip","data-tooltip","  Formatting of Email Address\n            is incorrect.",4,"ngIf"],["id","tooltip","data-tooltip"," Email Address is required.",1,"fas","fa-exclamation-triangle"],["id","tooltip","data-tooltip","  Formatting of Email Address\n            is incorrect.",1,"fas","fa-exclamation-triangle"],["class","fas fa-exclamation-triangle","id","tooltip2","data-tooltip"," Password is required.",4,"ngIf"],["id","tooltip2","data-tooltip"," Password is required.",1,"fas","fa-exclamation-triangle"]],template:function(e,s){1&e&&(o._UZ(0,"link",0),o._UZ(1,"link",1),o._UZ(2,"link",2),o.TgZ(3,"body"),o.TgZ(4,"div",3),o.TgZ(5,"div",4),o._UZ(6,"img",5),o.TgZ(7,"h1"),o._uU(8," UMP Supply Chain "),o._UZ(9,"br"),o._uU(10," Management System "),o.qZA(),o.qZA(),o.TgZ(11,"div",6),o.TgZ(12,"h3"),o._uU(13,"User Login"),o.qZA(),o.TgZ(14,"form",7),o.YNc(15,Hte,5,0,"div",8),o.YNc(16,Vte,2,0,"div",8),o.YNc(17,Ute,2,0,"div",8),o.TgZ(18,"div",9),o.TgZ(19,"input",10),o.NdJ("ngModelChange",function(l){return s.email=l}),o.qZA(),o.YNc(20,Gte,3,2,"div",11),o.qZA(),o.TgZ(21,"div",12),o._UZ(22,"input",13),o.TgZ(23,"i",14),o.NdJ("click",function(){return s.onVisible()}),o.qZA(),o.qZA(),o.YNc(24,qte,2,1,"div",15),o.TgZ(25,"div",16),o.TgZ(26,"a",17),o._uU(27,"New User? Create one!"),o.qZA(),o.TgZ(28,"a",18),o._uU(29,"Forgot Password?"),o.qZA(),o.qZA(),o.TgZ(30,"button",19),o.NdJ("click",function(){return s.login()}),o._uU(31,"Login"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.O4$(),o.TgZ(32,"svg",20),o._UZ(33,"path",21),o.qZA(),o.qZA()),2&e&&(o.xp6(14),o.Q6J("formGroup",s.form),o.xp6(1),o.Q6J("ngIf",null==s.form.error?null:s.form.error.emailVerify),o.xp6(1),o.Q6J("ngIf",1==(null==s.form.errors?null:s.form.errors.wrongpassword)),o.xp6(1),o.Q6J("ngIf",1==(null==s.form.errors?null:s.form.errors.notregister)),o.xp6(2),o.Q6J("ngModel",s.email),o.xp6(1),o.Q6J("ngIf",s.emailaddress.invalid&&s.emailaddress.touched),o.xp6(2),o.Q6J("type",s.visibility?"password":"text"),o.xp6(1),o.Q6J("ngClass",o.WLB(10,$te,!s.visibility,s.visibility)),o.xp6(1),o.Q6J("ngIf",s.getpassword.touched&&s.getpassword.invalid),o.xp6(6),o.Q6J("disabled",s.form.invalid))},directives:[iy,$i,eg,un,xm,On,Cv,HC,he,Gp],styles:['body[_ngcontent-%COMP%]{background-color:#7395ae;font-family:"Sora",sans-serif}.container[_ngcontent-%COMP%]{height:100vh;display:flex;color:#fff;justify-content:space-around;align-items:center;flex-grow:0;z-index:999}.alert.alert-danger[_ngcontent-%COMP%]{text-align:justify}.login[_ngcontent-%COMP%]{background:#b1a296;padding:20px 40px 20px 20px;margin-left:5%;margin-right:5%;flex-grow:0;border-radius:4px;box-shadow:11px 11px 3px -4px #5d5c61bf;-webkit-box-shadow:11px 11px 3px -4px rgba(93,92,97,.75);-moz-box-shadow:11px 11px 3px -4px rgba(93,92,97,.75);z-index:999}.vl[_ngcontent-%COMP%]{height:300px;border-left:1px solid grey;position:absolute;left:50%}.title[_ngcontent-%COMP%]{text-shadow:4px 4px 2px #5d5c61;z-index:999;margin-left:10%;position:relative}.title[_ngcontent-%COMP%]:before, .title[_ngcontent-%COMP%]:after{content:"";display:block;border:1px solid white}img[_ngcontent-%COMP%]{position:absolute;left:-12rem;border-radius:50%;top:-2.5rem;z-index:-999}input[_ngcontent-%COMP%]{display:block;padding:5px;width:100%;border-radius:4px!important;border:none;margin:10px auto}input[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #159ce466}.visible[_ngcontent-%COMP%]{position:relative}.far.fa-eye[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:10px;top:30%;color:#000}.far.fa-eye-slash[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:10px;top:30%;color:#000}.special[_ngcontent-%COMP%]{font-size:12px;display:flex;justify-content:space-around;align-items:center}.new-user[_ngcontent-%COMP%]{margin-right:10px}.forgot-password[_ngcontent-%COMP%]{margin-right:10px}a[_ngcontent-%COMP%]:hover{color:#505055}a[_ngcontent-%COMP%]{margin:2px 15px 10px;color:#fff;text-decoration:none}.link[_ngcontent-%COMP%]{color:red;text-decoration:underline;margin:0}button[_ngcontent-%COMP%]{display:block;margin:10px 10px 1rem 2px;padding:10px;width:100%;border-radius:4px;border:none;background-color:#5d5c61;color:#fff;transition:all .2s ease-in}button[_ngcontent-%COMP%]:hover{background:#505055}button[_ngcontent-%COMP%]:disabled{background:grey}p[_ngcontent-%COMP%]{font-size:12px;height:1px;margin-top:-10px;color:red}.error[_ngcontent-%COMP%]{position:relative}#tooltip[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:10px;top:30%;color:red;transition:.3s all ease-in-out}#tooltip2[_ngcontent-%COMP%]{position:absolute;right:1.4rem;margin-right:10px;bottom:1.2rem;color:red;transition:.3s all ease-in-out}#tooltip[_ngcontent-%COMP%]:hover:after{content:attr(data-tooltip);display:block;position:absolute;right:0;z-index:999;background-color:#fc7676cc;margin-top:-3rem;width:-webkit-max-content;width:max-content;height:auto;color:#fff;padding:10px}#tooltip2[_ngcontent-%COMP%]:hover:after{content:attr(data-tooltip);display:block;position:absolute;right:0;z-index:999;background-color:#fc7676cc;margin-top:-3rem;width:-webkit-max-content;width:max-content;height:auto;color:#fff;padding:10px}svg[_ngcontent-%COMP%]{position:absolute;bottom:0;z-index:22}@media (max-width: 420px){.container[_ngcontent-%COMP%]{height:100vh;display:flex;color:#fff;justify-content:center;align-content:center;flex-grow:0;flex-wrap:wrap;z-index:999}h1[_ngcontent-%COMP%]{text-align:center}.title[_ngcontent-%COMP%]{right:1rem}img[_ngcontent-%COMP%]{position:absolute;left:3.5rem;top:-12rem;z-index:-999}.login[_ngcontent-%COMP%]{margin-top:10px}.title[_ngcontent-%COMP%]{margin-top:100px}}']}),t})();class kF{constructor(){}static passwordVerification(i){let e=i.get("rpassword"),s=i.get("rconfirmpassword");return(null==e?void 0:e.value)!==(null==s?void 0:s.value)?{passwordVerification:!0}:null}static checkRole(i){return"Role"===i.value?(console.log("Role"),{checkRole:!0}):null}static checkGender(i){return"Gender"===i.value?(console.log("Gender"),{gender:!0}):null}static checkMatricCard(i){return"Matric Card Number"===i.value?(console.log("Matric Card Number"),{checkMatrixCard:!0}):null}static checkCompanyName(i){return"Company Name"===i.value?(console.log("Matrix Card"),{checkMatrixCard:!0}):null}}let Xte=(()=>{class t{constructor(e){this.el=e}onBlur(){this.el.nativeElement.value=this.el.nativeElement.value.toUpperCase()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq))},t.\u0275dir=o.lG2({type:t,selectors:[["","appRegisterD",""]],hostBindings:function(e,s){1&e&&o.NdJ("blur",function(){return s.onBlur()})}}),t})();function Jte(t,i){1&t&&o._UZ(0,"i",34)}function Kte(t,i){1&t&&o._UZ(0,"i",35)}function ene(t,i){if(1&t&&(o.TgZ(0,"div",31),o.YNc(1,Jte,1,0,"i",32),o.YNc(2,Kte,1,0,"i",33),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.e.errors.required),o.xp6(1),o.Q6J("ngIf",e.e.errors.email)}}function tne(t,i){1&t&&(o.TgZ(0,"div",36),o._uU(1," Email Address is existed. "),o.qZA())}function nne(t,i){1&t&&o._UZ(0,"i",39)}function ine(t,i){1&t&&o._UZ(0,"i",40)}function rne(t,i){if(1&t&&(o.TgZ(0,"div",31),o.YNc(1,nne,1,0,"i",37),o.YNc(2,ine,1,0,"i",38),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.p.errors.required),o.xp6(1),o.Q6J("ngIf",e.p.errors.minlength)}}function sne(t,i){1&t&&o._UZ(0,"i",39)}function one(t,i){if(1&t&&(o.TgZ(0,"div",31),o.YNc(1,sne,1,0,"i",37),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.cp.errors.required)}}function ane(t,i){1&t&&(o.TgZ(0,"div",31),o._UZ(1,"i",41),o.qZA())}function lne(t,i){1&t&&o._UZ(0,"i",43)}function cne(t,i){if(1&t&&(o.TgZ(0,"div",31),o.YNc(1,lne,1,0,"i",42),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.name.errors.required)}}function une(t,i){1&t&&o._UZ(0,"i",45)}function dne(t,i){if(1&t&&(o.TgZ(0,"div",31),o.YNc(1,une,1,0,"i",44),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.pn.errors.required)}}function hne(t,i){1&t&&(o.TgZ(0,"div",36),o._uU(1," Date of Birth is required. "),o.qZA())}function pne(t,i){if(1&t&&(o.TgZ(0,"div"),o.YNc(1,hne,2,0,"div",10),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.d.errors.required)}}function fne(t,i){1&t&&(o.TgZ(0,"div",36),o._uU(1," Gender is required. "),o.qZA())}function mne(t,i){if(1&t&&(o.TgZ(0,"div"),o.YNc(1,fne,2,0,"div",10),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.g.errors.required)}}function gne(t,i){1&t&&o._UZ(0,"i",47)}function _ne(t,i){if(1&t&&(o.TgZ(0,"div",31),o.YNc(1,gne,1,0,"i",46),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.r.errors.role)}}function yne(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"input",48),o.NdJ("change",function(a){return o.CHM(e),o.oxw().checkEmpty(a)}),o.qZA()}}function vne(t,i){1&t&&o._UZ(0,"i",50)}function bne(t,i){if(1&t&&(o.TgZ(0,"div",31),o.YNc(1,vne,1,0,"i",49),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.matrix.errors.role)}}function xne(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"input",51),o.NdJ("change",function(a){return o.CHM(e),o.oxw().checkEmpty(a)}),o.qZA()}}const lH=function(t,i){return{"fa-eye":t,"fa-eye-slash":i}};let wne=(()=>{class t{constructor(e,s,a,l,h,v){this.fb=e,this.auth=s,this.firestore=a,this.service=l,this._snackBar=h,this.router=v,this.visibility=!0,this.triggedMessage=!0,this.student=!1,this.supplier=!1,this.form1=e.group({remail:["",[bl.required,bl.email]],rpassword:["",[bl.required,bl.minLength]],rconfirmpassword:["",[bl.required]],name:["",[bl.required]],phonenumber:["",bl.required],date:["",bl.required],role:["Role",[bl.required,kF.checkRole]],gender:["Gender",[bl.required,kF.checkGender]],matrix:[""],comp:[""]},{validator:kF.passwordVerification})}ngOnInit(){}onVisible(){this.visibility=!this.visibility}getRole(e){this.role=e.target.value,1==this.role?(this.student=!0,this.supplier=!1):2==this.role?(this.supplier=!0,this.student=!1):"Role"==this.role&&(this.student=!1,this.supplier=!1),console.log(this.role)}checkform(e){console.log(e);for(let s in this.form1.controls)this.form1.controls[s].errors&&console.log(s)}checkEmpty(e){console.log(e.target.value.length),0==e.target.value.length?this.form1.setErrors({matrixError:!0}):e.target.value.length>0&&this.form1.setErrors(null)}getDate(e){this.date=e.target.value}getGender(e){this.gender=e.target.value}get cp(){return this.form1.get("rconfirmpassword")}get p(){return this.form1.get("rpassword")}get e(){return this.form1.get("remail")}get name(){return this.form1.get("name")}get pn(){return this.form1.get("phonenumber")}get d(){return this.form1.get("date")}get g(){return this.form1.get("gender")}get r(){return this.form1.get("role")}get matrix(){return this.form1.get("matrix")}get comp(){return this.form1.get("comp")}submit(){var e=this;return Qs(function*(){var s,a,l,h,v,C,O,G,te;yield e.service.checkExistedEmail(null===(s=e.form1.get("remail"))||void 0===s?void 0:s.value),console.log(e.service.emailExistedStatus);let pe=yield e.service.register(null===(a=e.form1.get("remail"))||void 0===a?void 0:a.value,e.form1.get("rpassword").value,null===(l=e.form1.get("role"))||void 0===l?void 0:l.value,null===(h=e.form1.get("name"))||void 0===h?void 0:h.value,null===(v=e.form1.get("date"))||void 0===v?void 0:v.value,null===(C=e.form1.get("phonenumber"))||void 0===C?void 0:C.value,null===(O=e.form1.get("gender"))||void 0===O?void 0:O.value,null===(G=e.form1.get("matrix"))||void 0===G?void 0:G.value,null===(te=e.form1.get("comp"))||void 0===te?void 0:te.value);1==pe?(e.form1.setErrors({emailExist:!0}),console.log(e.form1)):e.form1.setErrors({emailExist:!1}),!0===pe.validate?(e._snackBar.open("Register Successfully!","Close",{duration:3e3,verticalPosition:"top",horizontalPosition:"center"}),setTimeout(()=>{e.router.navigateByUrl("")},4e3)):e._snackBar.open("Please try again!","Close",{duration:3e3,verticalPosition:"top"})})()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(q0),o.Y36(ui),o.Y36(Sa),o.Y36($_),o.Y36(aH),o.Y36(Eo))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-register-page"]],decls:59,vars:25,consts:[["rel","preconnect","href","https://fonts.googleapis.com"],["rel","preconnect","href","https://fonts.gstatic.com","crossorigin",""],["href","https://fonts.googleapis.com/css2?family=Sora:wght@300&display=swap","rel","stylesheet"],[1,"container"],[1,"title"],["src","https://i.ibb.co/v1fQ3JN/Whats-App-Image-2021-08-20-at-11-40-42-AM.jpg","alt",""],[1,"registration"],[3,"formGroup","change"],["type","text","placeholder","Email Address","formControlName","remail","required","",1,"icon-email"],["class","error",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"visible"],["name","rpassword","placeholder","Password","required","","formControlName","rpassword","minlength","6",1,"i",3,"type"],[1,"far",3,"ngClass","click"],["name","rconfirmpassword","placeholder","Confirm Password","required","","formControlName","rconfirmpassword",1,"i",3,"type"],["type","text","name","","placeholder","Name","formControlName","name","required","","appRegisterD","",1,"i"],["type","text","placeholder","Phone Number","formControlName","phonenumber","required","",1,"i"],["type","date","placeholder","Date","formControlName","date","required","",1,"i",3,"change"],[4,"ngIf"],["aria-label","Default select example","formControlName","gender","required","",1,"form-select",3,"change"],["selected",""],["value","1"],["value","2"],["aria-label","Default select example","required","","formControlName","role",1,"form-select","mt-2",3,"change"],["type","text","placeholder","Matrix Card Number","formControlName","matrix","class","i",3,"change",4,"ngIf"],["type","text","placeholder","Company Name","formControlName","comp","class","i",3,"change",4,"ngIf"],[1,"special"],["routerLink","/",1,"new-user"],[3,"disabled","click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 1440 320"],["fill","#f3f4f5","fill-opacity","1","d","M0,160L40,186.7C80,213,160,267,240,250.7C320,235,400,149,480,101.3C560,53,640,43,720,69.3C800,96,880,160,960,165.3C1040,171,1120,117,1200,85.3C1280,53,1360,43,1400,37.3L1440,32L1440,320L1400,320C1360,320,1280,320,1200,320C1120,320,1040,320,960,320C880,320,800,320,720,320C640,320,560,320,480,320C400,320,320,320,240,320C160,320,80,320,40,320L0,320Z"],[1,"error"],["class","fas fa-exclamation-triangle","id","tooltip","data-tooltip","Email Address is required.",4,"ngIf"],["class","fas fa-exclamation-triangle","id","tooltip","data-tooltip","Formatting of Email Address is invalid.",4,"ngIf"],["id","tooltip","data-tooltip","Email Address is required.",1,"fas","fa-exclamation-triangle"],["id","tooltip","data-tooltip","Formatting of Email Address is invalid.",1,"fas","fa-exclamation-triangle"],[1,"alert","alert-danger"],["class","fas fa-exclamation-triangle","id","tooltip2","data-tooltip"," Password is required.",4,"ngIf"],["class","fas fa-exclamation-triangle","id","tooltip2","data-tooltip"," Minimum Length must be at least mixed of 6 characters.",4,"ngIf"],["id","tooltip2","data-tooltip"," Password is required.",1,"fas","fa-exclamation-triangle"],["id","tooltip2","data-tooltip"," Minimum Length must be at least mixed of 6 characters.",1,"fas","fa-exclamation-triangle"],["id","tooltip2","data-tooltip"," Password is not matched.",1,"fas","fa-exclamation-triangle"],["class","fas fa-exclamation-triangle","id","tooltip","data-tooltip","Name is required.",4,"ngIf"],["id","tooltip","data-tooltip","Name is required.",1,"fas","fa-exclamation-triangle"],["class","fas fa-exclamation-triangle","id","tooltip","data-tooltip","Phone Number is required.",4,"ngIf"],["id","tooltip","data-tooltip","Phone Number is required.",1,"fas","fa-exclamation-triangle"],["class","fas fa-exclamation-triangle","id","tooltip","data-tooltip","Role is required.",4,"ngIf"],["id","tooltip","data-tooltip","Role is required.",1,"fas","fa-exclamation-triangle"],["type","text","placeholder","Matrix Card Number","formControlName","matrix",1,"i",3,"change"],["class","fas fa-exclamation-triangle","id","tooltip","data-tooltip","Matrix Card is required.",4,"ngIf"],["id","tooltip","data-tooltip","Matrix Card is required.",1,"fas","fa-exclamation-triangle"],["type","text","placeholder","Company Name","formControlName","comp",1,"i",3,"change"]],template:function(e,s){1&e&&(o._UZ(0,"link",0),o._UZ(1,"link",1),o._UZ(2,"link",2),o.TgZ(3,"body"),o.TgZ(4,"div",3),o.TgZ(5,"div",4),o._UZ(6,"img",5),o.TgZ(7,"h1"),o._uU(8," UMP Supply Chain "),o._UZ(9,"br"),o._uU(10," Management System "),o.qZA(),o.qZA(),o.TgZ(11,"div",6),o.TgZ(12,"h3"),o._uU(13,"Sign Up "),o.qZA(),o.TgZ(14,"form",7),o.NdJ("change",function(){return s.checkform(s.form1)}),o._UZ(15,"input",8),o.YNc(16,ene,3,2,"div",9),o.YNc(17,tne,2,0,"div",10),o.TgZ(18,"div",11),o._UZ(19,"input",12),o.TgZ(20,"i",13),o.NdJ("click",function(){return s.onVisible()}),o.qZA(),o.qZA(),o.YNc(21,rne,3,2,"div",9),o.TgZ(22,"div",11),o._UZ(23,"input",14),o.TgZ(24,"i",13),o.NdJ("click",function(){return s.onVisible()}),o.qZA(),o.qZA(),o.YNc(25,one,2,1,"div",9),o.YNc(26,ane,2,0,"div",9),o._UZ(27,"input",15),o.YNc(28,cne,2,1,"div",9),o._UZ(29,"input",16),o.YNc(30,dne,2,1,"div",9),o.TgZ(31,"input",17),o.NdJ("change",function(l){return s.getDate(l)}),o.qZA(),o.YNc(32,pne,2,1,"div",18),o.TgZ(33,"select",19),o.NdJ("change",function(l){return s.getGender(l)}),o.TgZ(34,"option",20),o._uU(35,"Gender"),o.qZA(),o.TgZ(36,"option",21),o._uU(37,"Male"),o.qZA(),o.TgZ(38,"option",22),o._uU(39,"Female"),o.qZA(),o.qZA(),o.YNc(40,mne,2,1,"div",18),o.TgZ(41,"select",23),o.NdJ("change",function(l){return s.getRole(l)}),o.TgZ(42,"option"),o._uU(43,"Role"),o.qZA(),o.TgZ(44,"option",21),o._uU(45,"Student"),o.qZA(),o.TgZ(46,"option",22),o._uU(47,"Supplier"),o.qZA(),o.qZA(),o.YNc(48,_ne,2,1,"div",9),o.YNc(49,yne,1,0,"input",24),o.YNc(50,bne,2,1,"div",9),o.YNc(51,xne,1,0,"input",25),o.TgZ(52,"div",26),o.TgZ(53,"a",27),o._uU(54,"Already Registered? Login Now!"),o.qZA(),o.qZA(),o.TgZ(55,"button",28),o.NdJ("click",function(){return s.submit()}),o._uU(56,"Sign Up"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.O4$(),o.TgZ(57,"svg",29),o._UZ(58,"path",30),o.qZA(),o.qZA()),2&e&&(o.xp6(14),o.Q6J("formGroup",s.form1),o.xp6(2),o.Q6J("ngIf",s.e.touched&&s.e.invalid),o.xp6(1),o.Q6J("ngIf",null==s.form1.errors?null:s.form1.errors.emailExist),o.xp6(2),o.Q6J("type",s.visibility?"password":"text"),o.xp6(1),o.Q6J("ngClass",o.WLB(19,lH,!s.visibility,s.visibility)),o.xp6(1),o.Q6J("ngIf",s.p.touched&&s.p.invalid),o.xp6(2),o.Q6J("type",s.visibility?"password":"text"),o.xp6(1),o.Q6J("ngClass",o.WLB(22,lH,!s.visibility,s.visibility)),o.xp6(1),o.Q6J("ngIf",s.cp.touched&&s.cp.invalid),o.xp6(1),o.Q6J("ngIf",(null==s.form1.errors?null:s.form1.errors.passwordVerification)&&s.cp.valid&&s.p.valid),o.xp6(2),o.Q6J("ngIf",s.name.touched&&s.name.invalid),o.xp6(2),o.Q6J("ngIf",s.pn.touched&&s.pn.invalid),o.xp6(2),o.Q6J("ngIf",s.d.touched&&s.d.invalid),o.xp6(8),o.Q6J("ngIf",s.g.touched&&s.g.invalid),o.xp6(8),o.Q6J("ngIf",s.r.touched&&s.r.invalid),o.xp6(1),o.Q6J("ngIf",1==s.student),o.xp6(1),o.Q6J("ngIf",s.matrix.touched&&s.matrix.invalid),o.xp6(1),o.Q6J("ngIf",1==s.supplier),o.xp6(4),o.Q6J("disabled",s.form1.invalid))},directives:[iy,$i,eg,xm,On,Cv,HC,un,wO,he,Xte,QA,f3,g3,Gp],styles:['body[_ngcontent-%COMP%]{background-color:#7395ae;font-family:"Sora",sans-serif}.container[_ngcontent-%COMP%]{height:100vh;display:flex;color:#fff;justify-content:space-around;align-items:center;flex-grow:0;z-index:999}.registration[_ngcontent-%COMP%]{background:#b1a296;padding:20px 40px 20px 20px;margin-left:5%;margin-right:5%;flex-grow:0;border-radius:4px;box-shadow:11px 11px 3px -4px #5d5c61bf;-webkit-box-shadow:11px 11px 3px -4px rgba(93,92,97,.75);-moz-box-shadow:11px 11px 3px -4px rgba(93,92,97,.75);z-index:999;width:400px}.vl[_ngcontent-%COMP%]{height:300px;border-left:1px solid grey;position:absolute;left:50%}.title[_ngcontent-%COMP%]{text-shadow:4px 4px 2px #5d5c61;z-index:999;position:relative;padding-left:8rem}img[_ngcontent-%COMP%]{position:absolute;left:-12rem;border-radius:50%;top:-2.5rem;z-index:-999}.title[_ngcontent-%COMP%]:before, .title[_ngcontent-%COMP%]:after{content:"";display:block;border:1px solid white}img[_ngcontent-%COMP%]{position:absolute;left:-4rem;border-radius:50%;top:-2.5rem;z-index:-999}input[_ngcontent-%COMP%]{display:block;padding:5px;width:100%;border-radius:4px!important;border:none;margin:10px auto}input[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #159ce466}.special[_ngcontent-%COMP%]{font-size:12px;display:flex;justify-content:space-around;align-items:center;padding-top:10px}.new-user[_ngcontent-%COMP%]{margin-right:10px}.forgot-password[_ngcontent-%COMP%]{margin-right:10px}a[_ngcontent-%COMP%]:hover{color:#505055}a[_ngcontent-%COMP%]{margin:2px 15px 10px;color:#fff;text-decoration:none}button[_ngcontent-%COMP%]{display:block;margin:10px 10px 25px 2.5px;padding:10px;width:100%;border-radius:4px;border:none;background-color:#5d5c61;color:#fff;transition:all .2s ease-in}button[_ngcontent-%COMP%]:hover{background:#505055}button[_ngcontent-%COMP%]:disabled{background:grey}svg[_ngcontent-%COMP%]{position:absolute;bottom:0;z-index:22}.error[_ngcontent-%COMP%]{position:relative}#tooltip[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:10px;top:-2.25rem;color:red;transition:.3s all ease-in-out}#tooltip[_ngcontent-%COMP%]:hover:after{content:attr(data-tooltip);display:block;position:absolute;right:0;z-index:999;background-color:#fc7676cc;margin-top:-3rem;width:-webkit-max-content;width:max-content;height:auto;color:#fff;padding:10px}.visible[_ngcontent-%COMP%]{position:relative}.far.fa-eye[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:10px;top:30%;color:#000}.far.fa-eye-slash[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:10px;top:30%;color:#000}#tooltip2[_ngcontent-%COMP%]{position:absolute;right:1.4rem;margin-right:10px;bottom:1.2rem;color:red;transition:.3s all ease-in-out}#tooltip2[_ngcontent-%COMP%]:hover:after{content:attr(data-tooltip);display:block;position:absolute;right:0;z-index:999;background-color:#fc7676cc;margin-top:-3rem;width:-webkit-max-content;width:max-content;height:auto;color:#fff;padding:10px}@media (max-width: 420px){.container[_ngcontent-%COMP%]{height:100%;display:flex;color:#fff;justify-content:center;align-content:center;flex-grow:0;flex-wrap:wrap;z-index:999}h1[_ngcontent-%COMP%]{text-align:center}.title[_ngcontent-%COMP%]{right:4rem;top:-2rem}img[_ngcontent-%COMP%]{position:absolute;left:3.5rem;top:-12rem;z-index:-999;display:none}.registration[_ngcontent-%COMP%]{margin-top:-1.5rem}.title[_ngcontent-%COMP%]{margin-top:100px}}.i.ng-pristine.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}']}),t})(),EF=(()=>{class t{constructor(e,s,a){this.fauth=e,this.router=s,this.af=a,this.fauth.authState.subscribe(l=>{let h=null==l?void 0:l.uid;this.username$=this.af.collection("Student").doc(h).valueChanges(),this.username$.subscribe(v=>{})})}ngOnInit(){}logout(){this.fauth.signOut(),this.router.navigateByUrl("")}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(ui),o.Y36(Eo),o.Y36(Sa))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-student-navbar-page"]],decls:23,vars:5,consts:[[1,"navbar","navbar-expand-lg","navbar-light","shadow-sm"],[1,"container-fluid"],["src","https://i.ibb.co/v1fQ3JN/Whats-App-Image-2021-08-20-at-11-40-42-AM.jpg","alt",""],["routerLink","/studentpage",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNavDropdown","aria-controls","navbarNavDropdown","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNavDropdown",1,"collapse","navbar-collapse"],[1,"navbar-nav"],[1,"nav-item"],["routerLinkActive","active","aria-current","page","routerLink","/studentpage",1,"nav-link","active"],[1,"nav-item","dropdown"],["href","#","id","navbarDropdownMenuLink","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],["aria-labelledby","navbarDropdownMenuLink",1,"dropdown-menu"],["routerLink","/studentprofilepage",1,"dropdown-item"],[1,"dropdown-item",3,"click"]],template:function(e,s){if(1&e&&(o.TgZ(0,"nav",0),o.TgZ(1,"div",1),o._UZ(2,"img",2),o.TgZ(3,"a",3),o._uU(4,"UMP SCMS"),o.qZA(),o.TgZ(5,"button",4),o._UZ(6,"span",5),o.qZA(),o.TgZ(7,"div",6),o.TgZ(8,"ul",7),o.TgZ(9,"li",8),o.TgZ(10,"a",9),o._uU(11,"Home"),o.qZA(),o.qZA(),o.TgZ(12,"li",10),o.TgZ(13,"a",11),o._uU(14),o.ALo(15,"async"),o.qZA(),o.TgZ(16,"ul",12),o.TgZ(17,"li"),o.TgZ(18,"a",13),o._uU(19,"My Profile"),o.qZA(),o.qZA(),o.TgZ(20,"li"),o.TgZ(21,"a",14),o.NdJ("click",function(){return s.logout()}),o._uU(22,"Logout"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e){let a;o.Udp("background","#FED766"),o.xp6(14),o.hij(" ",null==(a=o.lcZ(15,3,s.username$))?null:a.name," ")}},directives:[Gp,xg],pipes:[Nl],styles:["img[_ngcontent-%COMP%]{height:50px;width:50px;border-radius:50%;margin-right:10px}"]}),t})();var cH=Ae(3098);function DF(t,i=$s.P){const s=function(t){return t instanceof Date&&!isNaN(+t)}(t)?+t-i.now():Math.abs(t);return a=>a.lift(new Mne(s,i))}class Mne{constructor(i,e){this.delay=i,this.scheduler=e}call(i,e){return e.subscribe(new AF(i,this.delay,this.scheduler))}}class AF extends Ao.L{constructor(i,e,s){super(i),this.delay=e,this.scheduler=s,this.queue=[],this.active=!1,this.errored=!1}static dispatch(i){const e=i.source,s=e.queue,a=i.scheduler,l=i.destination;for(;s.length>0&&s[0].time-a.now()<=0;)s.shift().notification.observe(l);if(s.length>0){const h=Math.max(0,s[0].time-a.now());this.schedule(i,h)}else this.unsubscribe(),e.active=!1}_schedule(i){this.active=!0,this.destination.add(i.schedule(AF.dispatch,this.delay,{source:this,destination:this.destination,scheduler:i}))}scheduleNotification(i){if(!0===this.errored)return;const e=this.scheduler,s=new Tne(e.now()+this.delay,i);this.queue.push(s),!1===this.active&&this._schedule(e)}_next(i){this.scheduleNotification(cH.P.createNext(i))}_error(i){this.errored=!0,this.queue=[],this.destination.error(i),this.unsubscribe()}_complete(){this.scheduleNotification(cH.P.createComplete()),this.unsubscribe()}}class Tne{constructor(i,e){this.time=i,this.notification=e}}const Sne=["mat-menu-item",""],uH=["*"];function kne(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",0),o.NdJ("keydown",function(a){return o.CHM(e),o.oxw()._handleKeydown(a)})("click",function(){return o.CHM(e),o.oxw().closed.emit("click")})("@transformMenu.start",function(a){return o.CHM(e),o.oxw()._onAnimationStart(a)})("@transformMenu.done",function(a){return o.CHM(e),o.oxw()._onAnimationDone(a)}),o.TgZ(1,"div",1),o.Hsn(2),o.qZA(),o.qZA()}if(2&t){const e=o.oxw();o.Q6J("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),o.uIk("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const FL={transformMenu:oa("transformMenu",[bo("void",oi({opacity:0,transform:"scale(0.8)"})),Ir("void => enter",qr("120ms cubic-bezier(0, 0, 0.2, 1)",oi({opacity:1,transform:"scale(1)"}))),Ir("* => void",qr("100ms 25ms linear",oi({opacity:0})))]),fadeInItems:oa("fadeInItems",[bo("showing",oi({opacity:1})),Ir("void => *",[oi({opacity:0}),qr("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},dH=new o.OlP("MatMenuContent"),IF=new o.OlP("MAT_MENU_PANEL");class Ene{}const Dne=tx(Dv(Ene));let Dk=(()=>{class t extends Dne{constructor(e,s,a,l){super(),this._elementRef=e,this._focusMonitor=a,this._parentMenu=l,this.role="menuitem",this._hovered=new li.xQ,this._focused=new li.xQ,this._highlighted=!1,this._triggersSubmenu=!1,l&&l.addItem&&l.addItem(this)}focus(e,s){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,s):this._getHostElement().focus(s),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){var e,s;const a=this._elementRef.nativeElement.cloneNode(!0),l=a.querySelectorAll("mat-icon, .material-icons");for(let h=0;h<l.length;h++){const v=l[h];null===(e=v.parentNode)||void 0===e||e.removeChild(v)}return(null===(s=a.textContent)||void 0===s?void 0:s.trim())||""}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(Ee),o.Y36(ly),o.Y36(IF,8))},t.\u0275cmp=o.Xpm({type:t,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(e,s){1&e&&o.NdJ("click",function(l){return s._checkDisabled(l)})("mouseenter",function(){return s._handleMouseEnter()}),2&e&&(o.uIk("role",s.role)("tabindex",s._getTabIndex())("aria-disabled",s.disabled.toString())("disabled",s.disabled||null),o.ekj("mat-menu-item",!0)("mat-menu-item-highlighted",s._highlighted)("mat-menu-item-submenu-trigger",s._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[o.qOj],attrs:Sne,ngContentSelectors:uH,decls:2,vars:2,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"]],template:function(e,s){1&e&&(o.F$t(),o.Hsn(0),o._UZ(1,"div",0)),2&e&&(o.xp6(1),o.Q6J("matRippleDisabled",s.disableRipple||s.disabled)("matRippleTrigger",s._getHostElement()))},directives:[Av],encapsulation:2,changeDetection:0}),t})();const hH=new o.OlP("mat-menu-default-options",{providedIn:"root",factory:function(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let Lne=0,Ak=(()=>{class t{constructor(e,s,a){this._elementRef=e,this._ngZone=s,this._defaultOptions=a,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new o.n_E,this._tabSubscription=Ua.w.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new li.xQ,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new o.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+Lne++}get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=ps(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=ps(e)}set panelClass(e){const s=this._previousPanelClass;s&&s.length&&s.split(" ").forEach(a=>{this._classList[a]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(a=>{this._classList[a]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new CR(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Tn(this._directDescendantItems),Os(e=>(0,Ka.T)(...e.map(s=>s._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e))}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(Tn(this._directDescendantItems),Os(s=>(0,Ka.T)(...s.map(a=>a._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const s=e.keyCode,a=this._keyManager;switch(s){case 27:ay(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:(38===s||40===s)&&a.setFocusOrigin("keyboard"),a.onKeydown(e)}}focusFirstItem(e="program"){this.lazyContent?this._ngZone.onStable.pipe(xe(1)).subscribe(()=>this._focusFirstItem(e)):this._focusFirstItem(e)}_focusFirstItem(e){const s=this._keyManager;if(s.setFocusOrigin(e).setFirstItemActive(),!s.activeItem&&this._directDescendantItems.length){let a=this._directDescendantItems.first._getHostElement().parentElement;for(;a;){if("menu"===a.getAttribute("role")){a.focus();break}a=a.parentElement}}}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const a=`mat-elevation-z${Math.min(4+e,24)}`,l=Object.keys(this._classList).find(h=>h.startsWith("mat-elevation-z"));(!l||l===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[a]=!0,this._previousElevation=a)}setPositionClasses(e=this.xPosition,s=this.yPosition){const a=this._classList;a["mat-menu-before"]="before"===e,a["mat-menu-after"]="after"===e,a["mat-menu-above"]="above"===s,a["mat-menu-below"]="below"===s}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Tn(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(s=>s._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(hH))},t.\u0275dir=o.lG2({type:t,contentQueries:function(e,s,a){if(1&e&&(o.Suo(a,dH,5),o.Suo(a,Dk,5),o.Suo(a,Dk,4)),2&e){let l;o.iGM(l=o.CRH())&&(s.lazyContent=l.first),o.iGM(l=o.CRH())&&(s._allItems=l),o.iGM(l=o.CRH())&&(s.items=l)}},viewQuery:function(e,s){if(1&e&&o.Gf(o.Rgc,5),2&e){let a;o.iGM(a=o.CRH())&&(s.templateRef=a.first)}},inputs:{backdropClass:"backdropClass",xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{closed:"closed",close:"close"}}),t})(),pH=(()=>{class t extends Ak{constructor(e,s,a){super(e,s,a)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(hH))},t.\u0275cmp=o.Xpm({type:t,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(e,s){2&e&&o.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[o._Bn([{provide:IF,useExisting:t}]),o.qOj],ngContentSelectors:uH,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(e,s){1&e&&(o.F$t(),o.YNc(0,kne,3,6,"ng-template"))},directives:[he],styles:['mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}.mat-menu-item-submenu-trigger::after{width:0;height:0;border-style:solid;border-width:5px 0 5px 5px;border-color:transparent transparent transparent currentColor;content:"";display:inline-block;position:absolute;top:50%;right:16px;transform:translateY(-50%)}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}[dir=rtl] .mat-menu-item-submenu-trigger::after{right:auto;left:16px;transform:rotateY(180deg) translateY(-50%)}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n'],encapsulation:2,data:{animation:[FL.transformMenu,FL.fadeInItems]},changeDetection:0}),t})();const fH=new o.OlP("mat-menu-scroll-strategy"),mH={provide:fH,deps:[ig],useFactory:function(t){return()=>t.scrollStrategies.reposition()}},_H=Aw({passive:!0});let yH=(()=>{class t{constructor(e,s,a,l,h,v,C,O){this._overlay=e,this._element=s,this._viewContainerRef=a,this._menuItemInstance=v,this._dir=C,this._focusMonitor=O,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Ua.w.EMPTY,this._hoverSubscription=Ua.w.EMPTY,this._menuCloseSubscription=Ua.w.EMPTY,this._handleTouchStart=G=>{TR(G)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new o.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new o.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=l,this._parentMaterialMenu=h instanceof Ak?h:void 0,s.nativeElement.addEventListener("touchstart",this._handleTouchStart,_H),v&&(v._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(s=>{this._destroyMenu(s),("click"===s||"tab"===s)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(s)})))}ngAfterContentInit(){this._checkMenu(),this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,_H),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(this._menuOpen)return;this._checkMenu();const e=this._createOverlay(),s=e.getConfig();this._setPosition(s.positionStrategy),s.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,e.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof Ak&&this.menu._startAnimation()}closeMenu(){this.menu.close.emit()}focus(e,s){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,s):this._element.nativeElement.focus(s)}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const s=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,s instanceof Ak?(s._resetAnimation(),s.lazyContent?s._animationDone.pipe(T(a=>"void"===a.toState),xe(1),Fo(s.lazyContent._attached)).subscribe({next:()=>s.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),s.lazyContent&&s.lazyContent.detach())}_initMenu(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this.menu.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(){if(this.menu.setElevation){let e=0,s=this.menu.parentMenu;for(;s;)e++,s=s.parentMenu;this.menu.setElevation(e)}}_setIsMenuOpen(e){this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&(this._menuItemInstance._highlighted=e)}_checkMenu(){}_createOverlay(){if(!this._overlayRef){const e=this._getOverlayConfig();this._subscribeToPositions(e.positionStrategy),this._overlayRef=this._overlay.create(e),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(){return new gk({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:this.menu.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e){this.menu.setPositionClasses&&e.positionChanges.subscribe(s=>{this.menu.setPositionClasses("start"===s.connectionPair.overlayX?"after":"before","top"===s.connectionPair.overlayY?"below":"above")})}_setPosition(e){let[s,a]="before"===this.menu.xPosition?["end","start"]:["start","end"],[l,h]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[v,C]=[l,h],[O,G]=[s,a],te=0;this.triggersSubmenu()?(G=s="before"===this.menu.xPosition?"start":"end",a=O="end"===s?"start":"end",te="bottom"===l?8:-8):this.menu.overlapTrigger||(v="top"===l?"bottom":"top",C="top"===h?"bottom":"top"),e.withPositions([{originX:s,originY:v,overlayX:O,overlayY:l,offsetY:te},{originX:a,originY:v,overlayX:G,overlayY:l,offsetY:te},{originX:s,originY:C,overlayX:O,overlayY:h,offsetY:-te},{originX:a,originY:C,overlayX:G,overlayY:h,offsetY:-te}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),s=this._overlayRef.detachments(),a=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,Ai.of)(),l=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(T(h=>h!==this._menuItemInstance),T(()=>this._menuOpen)):(0,Ai.of)();return(0,Ka.T)(e,a,l,s)}_handleMousedown(e){MR(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const s=e.keyCode;(13===s||32===s)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===s&&"ltr"===this.dir||37===s&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(T(e=>e===this._menuItemInstance&&!e.disabled),DF(0,Sw.E)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Ak&&this.menu._isAnimating?this.menu._animationDone.pipe(xe(1),DF(0,Sw.E),Fo(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(){return(!this._portal||this._portal.templateRef!==this.menu.templateRef)&&(this._portal=new ix(this.menu.templateRef,this._viewContainerRef)),this._portal}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(ig),o.Y36(o.SBq),o.Y36(o.s_b),o.Y36(fH),o.Y36(IF,8),o.Y36(Dk,10),o.Y36(Hh,8),o.Y36(ly))},t.\u0275dir=o.lG2({type:t,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:["aria-haspopup","true",1,"mat-menu-trigger"],hostVars:2,hostBindings:function(e,s){1&e&&o.NdJ("mousedown",function(l){return s._handleMousedown(l)})("keydown",function(l){return s._handleKeydown(l)})("click",function(l){return s._handleClick(l)}),2&e&&o.uIk("aria-expanded",s.menuOpen||null)("aria-controls",s.menuOpen?s.menu.panelId:null)},inputs:{restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"],_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"]}),t})(),vH=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[mH],imports:[Fs]}),t})(),One=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[mH],imports:[[Ji,Fs,rM,yk,vH],ey,Fs,vH]}),t})();var Rne=Ae(205);const Fne=["*"];function bH(t){return Error(`Unable to find icon with the name "${t}"`)}function xH(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function wH(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class a1{constructor(i,e,s){this.url=i,this.svgText=e,this.options=s}}let NL=(()=>{class t{constructor(e,s,a,l){this._httpClient=e,this._sanitizer=s,this._errorHandler=l,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=a}addSvgIcon(e,s,a){return this.addSvgIconInNamespace("",e,s,a)}addSvgIconLiteral(e,s,a){return this.addSvgIconLiteralInNamespace("",e,s,a)}addSvgIconInNamespace(e,s,a,l){return this._addSvgIconConfig(e,s,new a1(a,null,l))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,s,a,l){const h=this._sanitizer.sanitize(o.q3G.HTML,a);if(!h)throw wH(a);return this._addSvgIconConfig(e,s,new a1("",h,l))}addSvgIconSet(e,s){return this.addSvgIconSetInNamespace("",e,s)}addSvgIconSetLiteral(e,s){return this.addSvgIconSetLiteralInNamespace("",e,s)}addSvgIconSetInNamespace(e,s,a){return this._addSvgIconSetConfig(e,new a1(s,null,a))}addSvgIconSetLiteralInNamespace(e,s,a){const l=this._sanitizer.sanitize(o.q3G.HTML,s);if(!l)throw wH(s);return this._addSvgIconSetConfig(e,new a1("",l,a))}registerFontClassAlias(e,s=e){return this._fontCssClassesByAlias.set(e,s),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const s=this._sanitizer.sanitize(o.q3G.RESOURCE_URL,e);if(!s)throw xH(e);const a=this._cachedIconsByUrl.get(s);return a?(0,Ai.of)(zL(a)):this._loadSvgIconFromConfig(new a1(e,null)).pipe((0,Ga.b)(l=>this._cachedIconsByUrl.set(s,l)),(0,Ri.U)(l=>zL(l)))}getNamedSvgIcon(e,s=""){const a=CH(s,e);let l=this._svgIconConfigs.get(a);if(l)return this._getSvgFromConfig(l);if(l=this._getIconConfigFromResolvers(s,e),l)return this._svgIconConfigs.set(a,l),this._getSvgFromConfig(l);const h=this._iconSetConfigs.get(s);return h?this._getSvgFromIconSetConfigs(e,h):(0,Rne._)(bH(a))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?(0,Ai.of)(zL(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,Ri.U)(s=>zL(s)))}_getSvgFromIconSetConfigs(e,s){const a=this._extractIconWithNameFromAnySet(e,s);return a?(0,Ai.of)(a):xb(s.filter(h=>!h.svgText).map(h=>this._loadSvgIconSetFromConfig(h).pipe(Gi(v=>{const O=`Loading icon set URL: ${this._sanitizer.sanitize(o.q3G.RESOURCE_URL,h.url)} failed: ${v.message}`;return this._errorHandler.handleError(new Error(O)),(0,Ai.of)(null)})))).pipe((0,Ri.U)(()=>{const h=this._extractIconWithNameFromAnySet(e,s);if(!h)throw bH(e);return h}))}_extractIconWithNameFromAnySet(e,s){for(let a=s.length-1;a>=0;a--){const l=s[a];if(l.svgText&&l.svgText.indexOf(e)>-1){const h=this._svgElementFromConfig(l),v=this._extractSvgIconFromSet(h,e,l.options);if(v)return v}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,Ga.b)(s=>e.svgText=s),(0,Ri.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?(0,Ai.of)(null):this._fetchIcon(e).pipe((0,Ga.b)(s=>e.svgText=s))}_extractSvgIconFromSet(e,s,a){const l=e.querySelector(`[id="${s}"]`);if(!l)return null;const h=l.cloneNode(!0);if(h.removeAttribute("id"),"svg"===h.nodeName.toLowerCase())return this._setSvgAttributes(h,a);if("symbol"===h.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(h),a);const v=this._svgElementFromString("<svg></svg>");return v.appendChild(h),this._setSvgAttributes(v,a)}_svgElementFromString(e){const s=this._document.createElement("DIV");s.innerHTML=e;const a=s.querySelector("svg");if(!a)throw Error("<svg> tag not found");return a}_toSvgElement(e){const s=this._svgElementFromString("<svg></svg>"),a=e.attributes;for(let l=0;l<a.length;l++){const{name:h,value:v}=a[l];"id"!==h&&s.setAttribute(h,v)}for(let l=0;l<e.childNodes.length;l++)e.childNodes[l].nodeType===this._document.ELEMENT_NODE&&s.appendChild(e.childNodes[l].cloneNode(!0));return s}_setSvgAttributes(e,s){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),s&&s.viewBox&&e.setAttribute("viewBox",s.viewBox),e}_fetchIcon(e){var s;const{url:a,options:l}=e,h=null!==(s=null==l?void 0:l.withCredentials)&&void 0!==s&&s;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==a)throw Error(`Cannot fetch icon from URL "${a}".`);const v=this._sanitizer.sanitize(o.q3G.RESOURCE_URL,a);if(!v)throw xH(a);const C=this._inProgressUrlFetches.get(v);if(C)return C;const O=this._httpClient.get(v,{responseType:"text",withCredentials:h}).pipe(zp(()=>this._inProgressUrlFetches.delete(v)),(0,Op.B)());return this._inProgressUrlFetches.set(v,O),O}_addSvgIconConfig(e,s,a){return this._svgIconConfigs.set(CH(e,s),a),this}_addSvgIconSetConfig(e,s){const a=this._iconSetConfigs.get(e);return a?a.push(s):this._iconSetConfigs.set(e,[s]),this}_svgElementFromConfig(e){if(!e.svgElement){const s=this._svgElementFromString(e.svgText);this._setSvgAttributes(s,e.options),e.svgElement=s}return e.svgElement}_getIconConfigFromResolvers(e,s){for(let a=0;a<this._resolvers.length;a++){const l=this._resolvers[a](s,e);if(l)return Bne(l)?new a1(l.url,null,l.options):new a1(l,null)}}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Ug,8),o.LFG(ba),o.LFG(Ee,8),o.LFG(o.qLn))},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t((0,o.LFG)(Ug,8),(0,o.LFG)(ba),(0,o.LFG)(Ee,8),(0,o.LFG)(o.qLn))},token:t,providedIn:"root"}),t})();function zL(t){return t.cloneNode(!0)}function CH(t,i){return t+":"+i}function Bne(t){return!(!t.url||!t.options)}class Yne{constructor(i){this._elementRef=i}}const Hne=iM(Yne),Vne=new o.OlP("mat-icon-location",{providedIn:"root",factory:function(){const t=(0,o.f3M)(Ee),i=t?t.location:null;return{getPathname:()=>i?i.pathname+i.search:""}}}),MH=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Zne=MH.map(t=>`[${t}]`).join(", "),Gne=/^url\(['"]?#(.*?)['"]?\)$/;let BL=(()=>{class t extends Hne{constructor(e,s,a,l,h){super(e),this._iconRegistry=s,this._location=l,this._errorHandler=h,this._inline=!1,this._currentIconFetch=Ua.w.EMPTY,a||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=ps(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const s=this._cleanupFontValue(e);s!==this._fontSet&&(this._fontSet=s,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const s=this._cleanupFontValue(e);s!==this._fontIcon&&(this._fontIcon=s,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const s=e.split(":");switch(s.length){case 1:return["",s[0]];case 2:return s;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const s=this._location.getPathname();s!==this._previousPath&&(this._previousPath=s,this._prependPathToReferences(s))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const s=e.querySelectorAll("style");for(let l=0;l<s.length;l++)s[l].textContent+=" ";const a=this._location.getPathname();this._previousPath=a,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(a),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let s=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();s--;){const a=e.childNodes[s];(1!==a.nodeType||"svg"===a.nodeName.toLowerCase())&&e.removeChild(a)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,s=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();s!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),s&&e.classList.add(s),this._previousFontSetClass=s),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const s=this._elementsWithExternalReferences;s&&s.forEach((a,l)=>{a.forEach(h=>{l.setAttribute(h.name,`url('${e}#${h.value}')`)})})}_cacheChildrenWithExternalReferences(e){const s=e.querySelectorAll(Zne),a=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let l=0;l<s.length;l++)MH.forEach(h=>{const v=s[l],C=v.getAttribute(h),O=C?C.match(Gne):null;if(O){let G=a.get(v);G||(G=[],a.set(v,G)),G.push({name:h,value:O[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[s,a]=this._splitIconName(e);s&&(this._svgNamespace=s),a&&(this._svgName=a),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(a,s).pipe(xe(1)).subscribe(l=>this._setSvgElement(l),l=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${s}:${a}! ${l.message}`))})}}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(NL),o.$8M("aria-hidden"),o.Y36(Vne),o.Y36(o.qLn))},t.\u0275cmp=o.Xpm({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,s){2&e&&(o.uIk("data-mat-icon-type",s._usingFontIcon()?"font":"svg")("data-mat-icon-name",s._svgName||s.fontIcon)("data-mat-icon-namespace",s._svgNamespace||s.fontSet),o.ekj("mat-icon-inline",s.inline)("mat-icon-no-color","primary"!==s.color&&"accent"!==s.color&&"warn"!==s.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[o.qOj],ngContentSelectors:Fne,decls:1,vars:0,template:function(e,s){1&e&&(o.F$t(),o.Hsn(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),t})(),TH=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Fs],Fs]}),t})(),Wne=0;class qne{}const $ne=Dv(qne);let SH=(()=>{class t extends $ne{constructor(e,s,a,l,h){super(),this._ngZone=e,this._elementRef=s,this._ariaDescriber=a,this._renderer=l,this._animationMode=h,this._hasContent=!1,this._color="primary",this._overlap=!0,this.position="above after",this.size="medium",this._id=Wne++}get color(){return this._color}set color(e){this._setColor(e),this._color=e}get overlap(){return this._overlap}set overlap(e){this._overlap=ps(e)}get description(){return this._description}set description(e){if(e!==this._description){const s=this._badgeElement;this._updateHostAriaDescription(e,this._description),this._description=e,s&&(e?s.setAttribute("aria-label",e):s.removeAttribute("aria-label"))}}get hidden(){return this._hidden}set hidden(e){this._hidden=ps(e)}isAbove(){return-1===this.position.indexOf("below")}isAfter(){return-1===this.position.indexOf("before")}ngOnChanges(e){const s=e.content;if(s){const a=s.currentValue;this._hasContent=null!=a&&`${a}`.trim().length>0,this._updateTextContent()}}ngOnDestroy(){const e=this._badgeElement;e&&(this.description&&this._ariaDescriber.removeDescription(e,this.description),this._renderer.destroyNode&&this._renderer.destroyNode(e))}getBadgeElement(){return this._badgeElement}_updateTextContent(){return this._badgeElement?this._badgeElement.textContent=this._stringifyContent():this._badgeElement=this._createBadgeElement(),this._badgeElement}_createBadgeElement(){const e=this._renderer.createElement("span"),s="mat-badge-active",a="mat-badge-content";return this._clearExistingBadges(a),e.setAttribute("id",`mat-badge-content-${this._id}`),e.classList.add(a),e.textContent=this._stringifyContent(),"NoopAnimations"===this._animationMode&&e.classList.add("_mat-animation-noopable"),this.description&&e.setAttribute("aria-label",this.description),this._elementRef.nativeElement.appendChild(e),"function"==typeof requestAnimationFrame&&"NoopAnimations"!==this._animationMode?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{e.classList.add(s)})}):e.classList.add(s),e}_updateHostAriaDescription(e,s){const a=this._updateTextContent();s&&this._ariaDescriber.removeDescription(a,s),e&&this._ariaDescriber.describe(a,e)}_setColor(e){if(e!==this._color){const s=this._elementRef.nativeElement.classList;this._color&&s.remove(`mat-badge-${this._color}`),e&&s.add(`mat-badge-${e}`)}}_clearExistingBadges(e){const s=this._elementRef.nativeElement;let a=s.children.length;for(;a--;){const l=s.children[a];l.classList.contains(e)&&s.removeChild(l)}}_stringifyContent(){const e=this.content;return null==e?"":`${e}`}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.R0b),o.Y36(o.SBq),o.Y36(OY),o.Y36(o.Qsj),o.Y36(Of,8))},t.\u0275dir=o.lG2({type:t,selectors:[["","matBadge",""]],hostAttrs:[1,"mat-badge"],hostVars:20,hostBindings:function(e,s){2&e&&o.ekj("mat-badge-overlap",s.overlap)("mat-badge-above",s.isAbove())("mat-badge-below",!s.isAbove())("mat-badge-before",!s.isAfter())("mat-badge-after",s.isAfter())("mat-badge-small","small"===s.size)("mat-badge-medium","medium"===s.size)("mat-badge-large","large"===s.size)("mat-badge-hidden",s.hidden||!s._hasContent)("mat-badge-disabled",s.disabled)},inputs:{disabled:["matBadgeDisabled","disabled"],position:["matBadgePosition","position"],size:["matBadgeSize","size"],color:["matBadgeColor","color"],overlap:["matBadgeOverlap","overlap"],description:["matBadgeDescription","description"],hidden:["matBadgeHidden","hidden"],content:["matBadge","content"]},features:[o.qOj,o.TTD]}),t})(),Qne=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[WY,Fs],Fs]}),t})();function Xne(t,i){1&t&&o.GkF(0)}function Jne(t,i){if(1&t&&(o.TgZ(0,"div",8),o.Hsn(1,1),o.YNc(2,Xne,1,0,"ng-container",6),o.qZA()),2&t){const e=o.oxw();o.xp6(2),o.Q6J("ngTemplateOutlet",e.headerTemplate)}}function Kne(t,i){1&t&&o.GkF(0)}function eie(t,i){if(1&t&&(o.TgZ(0,"div",9),o._uU(1),o.YNc(2,Kne,1,0,"ng-container",6),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.hij(" ",e.header," "),o.xp6(1),o.Q6J("ngTemplateOutlet",e.titleTemplate)}}function tie(t,i){1&t&&o.GkF(0)}function nie(t,i){if(1&t&&(o.TgZ(0,"div",10),o._uU(1),o.YNc(2,tie,1,0,"ng-container",6),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.hij(" ",e.subheader," "),o.xp6(1),o.Q6J("ngTemplateOutlet",e.subtitleTemplate)}}function iie(t,i){1&t&&o.GkF(0)}function rie(t,i){1&t&&o.GkF(0)}function sie(t,i){if(1&t&&(o.TgZ(0,"div",11),o.Hsn(1,2),o.YNc(2,rie,1,0,"ng-container",6),o.qZA()),2&t){const e=o.oxw();o.xp6(2),o.Q6J("ngTemplateOutlet",e.footerTemplate)}}const oie=["*",[["p-header"]],[["p-footer"]]],aie=["*","p-header","p-footer"];let kH=(()=>{class t{constructor(e){this.el=e}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"title":this.titleTemplate=e.template;break;case"subtitle":this.subtitleTemplate=e.template;break;case"content":this.contentTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;default:this.contentTemplate=e.template}})}getBlockableElement(){return this.el.nativeElement.children[0]}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-card"]],contentQueries:function(e,s,a){if(1&e&&(o.Suo(a,mS,5),o.Suo(a,EC,5),o.Suo(a,Rl,4)),2&e){let l;o.iGM(l=o.CRH())&&(s.headerFacet=l.first),o.iGM(l=o.CRH())&&(s.footerFacet=l.first),o.iGM(l=o.CRH())&&(s.templates=l)}},inputs:{header:"header",subheader:"subheader",style:"style",styleClass:"styleClass"},ngContentSelectors:aie,decls:9,vars:9,consts:[[3,"ngClass","ngStyle"],["class","p-card-header",4,"ngIf"],[1,"p-card-body"],["class","p-card-title",4,"ngIf"],["class","p-card-subtitle",4,"ngIf"],[1,"p-card-content"],[4,"ngTemplateOutlet"],["class","p-card-footer",4,"ngIf"],[1,"p-card-header"],[1,"p-card-title"],[1,"p-card-subtitle"],[1,"p-card-footer"]],template:function(e,s){1&e&&(o.F$t(oie),o.TgZ(0,"div",0),o.YNc(1,Jne,3,1,"div",1),o.TgZ(2,"div",2),o.YNc(3,eie,3,2,"div",3),o.YNc(4,nie,3,2,"div",4),o.TgZ(5,"div",5),o.Hsn(6),o.YNc(7,iie,1,0,"ng-container",6),o.qZA(),o.YNc(8,sie,3,1,"div",7),o.qZA(),o.qZA()),2&e&&(o.Tol(s.styleClass),o.Q6J("ngClass","p-card p-component")("ngStyle",s.style),o.xp6(1),o.Q6J("ngIf",s.headerFacet||s.headerTemplate),o.xp6(2),o.Q6J("ngIf",s.header||s.titleTemplate),o.xp6(1),o.Q6J("ngIf",s.subheader||s.subtitleTemplate),o.xp6(3),o.Q6J("ngTemplateOutlet",s.contentTemplate),o.xp6(1),o.Q6J("ngIf",s.footerFacet||s.footerTemplate))},directives:[he,qi,un,jr],styles:[".p-card-header img{width:100%}"],encapsulation:2,changeDetection:0}),t})(),lie=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Ji],Ha]}),t})();function cie(t,i){if(1&t&&(o.TgZ(0,"button",12),o._uU(1),o.qZA()),2&t){const e=i.$implicit;o.xp6(1),o.AsE(" ",e.id," ------\x3e RM",e.data.data.data.price," ")}}function uie(t,i){1&t&&(o.TgZ(0,"button",13),o._uU(1,"View Cart"),o.qZA())}function die(t,i){if(1&t&&o._UZ(0,"img",17),2&t){const e=o.oxw().$implicit;o.Q6J("src",e.data.imageLink,o.LSH)}}function hie(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"p-button",18),o.NdJ("click",function(){o.CHM(e);const a=o.oxw().$implicit;return o.oxw().addtocart(a)}),o.qZA()}}const pie=function(){return{width:"360px"}};function fie(t,i){if(1&t&&(o.TgZ(0,"p-card",14),o.YNc(1,die,1,1,"ng-template",15),o.YNc(2,hie,1,0,"ng-template",16),o.qZA()),2&t){const e=i.$implicit;o.Akn(o.DdM(4,pie)),o.s9C("header",e.id),o.MGl("subheader","RM ",e.data.price,"")}}let mie=(()=>{class t{constructor(e,s,a,l){var h=this;this.fs=e,this.fa=s,this.router=a,this.route=l,this.tiles=[],this.tiles2=[],this.filter3=[],this.info=[],this.display=!1,this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("menu").snapshotChanges().subscribe(v=>{this.tiles=[],this.tiles2=[],v.map(C=>{let O={id:C.payload.doc.id,data:C.payload.doc.data(),cols:1,rows:1,color:"lightblue"};this.tiles.push(O),console.log(this.tiles)}),this.tiles2=this.tiles.filter(C=>C.data.stock>0),console.log(this.tiles2)}),this.fa.authState.subscribe(function(){var v=Qs(function*(C){h.uid=yield null==C?void 0:C.uid,h.fs.collection("Student").doc(h.uid).collection("cart").snapshotChanges().subscribe(O=>{h.info=[],O.map(G=>{let te={id:G.payload.doc.id,data:G.payload.doc.data(),quantity:1};h.info.push(te),console.log(h.info)})})});return function(C){return v.apply(this,arguments)}}()),this.router.queryParams.subscribe(v=>{console.log(v.compname),"success"===v.action&&(this.fa.authState.subscribe(G=>{this.fs.collection("Student").doc(null==G?void 0:G.uid).collection("cart").doc(v.productname).delete().then(te=>{console.log("Deleted Successfully"),this.display=!this.display})}),this.fa.authState.subscribe(G=>{let te={productname:v.productname,quantity:v.quantity,amount:v.amount,studentname:v.studentname,status:"await",completetimestamp:null};this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("order").doc(v.trackingnumber).set(te)}))})}ngOnInit(){}addtocart(e){let s=[];console.log(this.info),this.info.forEach(l=>{s.push(l.id)}),console.log(s.includes(e.id));let a=s.includes(e.id);if(a)a&&this.info.forEach(l=>{l.id==e.id&&this.fs.collection("Student").doc(this.uid).collection("cart").doc(l.id).update({quantity:l.data.quantity+1})});else{let l={data:e,quantity:1};this.fs.collection("Student").doc(this.uid).collection("cart").doc(e.id).set(l)}}clearURL(){this.route.navigateByUrl("/studentpage")}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Sa),o.Y36(ui),o.Y36(dc),o.Y36(Eo))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-student-home-page"]],decls:18,vars:7,consts:[[1,"container"],["mat-button","",3,"matMenuTriggerFor","mouseenter"],["menuTrigger","matMenuTrigger"],["matBadgePosition","after","matBadgeColor","accent",3,"matBadge"],[3,"overlapTrigger"],["menu","matMenu"],[3,"mouseleave"],["mat-menu-item","",4,"ngFor","ngForOf"],["mat-raised-button","","routerLink","/studentcartpage",4,"ngIf"],[1,"menu"],["styleClass","p-card-shadow",3,"header","subheader","style",4,"ngFor","ngForOf"],["header","Payment Info",3,"visible","visibleChange","onHide"],["mat-menu-item",""],["mat-raised-button","","routerLink","/studentcartpage"],["styleClass","p-card-shadow",3,"header","subheader"],["pTemplate","header"],["pTemplate","footer"],["alt","Card",3,"src"],["label","Add to Cart","icon","pi pi-shopping-cart",3,"click"]],template:function(e,s){if(1&e){const a=o.EpF();o._UZ(0,"app-student-navbar-page"),o.TgZ(1,"div"),o.TgZ(2,"div",0),o.TgZ(3,"h4"),o._uU(4,"Menu"),o.qZA(),o.TgZ(5,"button",1,2),o.NdJ("mouseenter",function(){return o.CHM(a),o.MAs(6).openMenu()}),o.TgZ(7,"mat-icon",3),o._uU(8,"shopping_cart"),o.qZA(),o.qZA(),o.TgZ(9,"mat-menu",4,5),o.TgZ(11,"span",6),o.NdJ("mouseleave",function(){return o.CHM(a),o.MAs(6).closeMenu()}),o.YNc(12,cie,2,2,"button",7),o.YNc(13,uie,2,0,"button",8),o.qZA(),o.qZA(),o.qZA(),o.TgZ(14,"div",9),o.YNc(15,fie,3,5,"p-card",10),o.qZA(),o.TgZ(16,"p-dialog",11),o.NdJ("visibleChange",function(h){return s.display=h})("onHide",function(){return s.clearURL()}),o._uU(17," Thank you for your purchase. Please kindly wait for your food to serve soon.\n"),o.qZA(),o.qZA()}if(2&e){const a=o.MAs(10);o.xp6(5),o.Q6J("matMenuTriggerFor",a),o.xp6(2),o.s9C("matBadge",s.info.length),o.xp6(2),o.Q6J("overlapTrigger",!1),o.xp6(3),o.Q6J("ngForOf",s.info),o.xp6(1),o.Q6J("ngIf",s.info.length>0),o.xp6(2),o.Q6J("ngForOf",s.tiles2),o.xp6(1),o.Q6J("visible",s.display)}},directives:[EF,Dd,yH,BL,SH,pH,mt,un,AC,Dk,yf,kH,Rl,tH],styles:["div[_ngcontent-%COMP%]{margin:20px}@keyframes shadow-drop-2-center{0%{transform:translateZ(0);box-shadow:0 0 #0000}to{transform:translateZ(50px);box-shadow:0 0 20px #00000059}}mat-grid-tile[_ngcontent-%COMP%]:hover{transform:scale(1.2)}.my-grid-tile[_ngcontent-%COMP%]{padding:10px;width:100px;background-size:cover}p[_ngcontent-%COMP%]{border:1px solid black;margin-right:1rem}.container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.menu[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;grid-gap:10px;gap:10px;justify-content:space-between}@keyframes bounce-in-top{0%{transform:translateY(-500px);animation-timing-function:ease-in;opacity:0}38%{transform:translateY(0);animation-timing-function:ease-out;opacity:1}55%{transform:translateY(-65px);animation-timing-function:ease-in}72%{transform:translateY(0);animation-timing-function:ease-out}81%{transform:translateY(-28px);animation-timing-function:ease-in}90%{transform:translateY(0);animation-timing-function:ease-out}95%{transform:translateY(-8px);animation-timing-function:ease-in}to{transform:translateY(0);animation-timing-function:ease-out}}p-card[_ngcontent-%COMP%]{animation:bounce-in-top 1.1s both}.gif[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}"]}),t})();function gie(t,i){1&t&&(o.TgZ(0,"div",8),o._UZ(1,"mat-progress-bar",9),o.qZA())}let _ie=(()=>{class t{constructor(e,s,a,l){this.http=e,this.asS=s,this.fb=a,this.fs=l,this.form=this.fb.group({name:[""],email:[""],phone:[""]}),this.getInfo()}ngOnInit(){}update(){this.asS.updateInfo(this.form.get("name").value,this.form.get("email").value,this.form.get("phone").value)}getInfo(){var e=this;return Qs(function*(){e.data=yield e.asS.getAdminInfo()})()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Ug),o.Y36(AL),o.Y36(q0),o.Y36(Sa))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-admin-profile-page"]],decls:22,vars:11,consts:[["class","loader-container",4,"ngIf"],[1,"form"],["action","",3,"formGroup"],["appearance","standard","id",""],["matInput","","formControlName","name",3,"ngModel","value"],["matInput","","formControlName","email",3,"ngModel","value"],["matInput","","formControlName","phone",3,"ngModel","value"],["mat-raised-button","","routerLink","/adminprofile",3,"click"],[1,"loader-container"],["mode","indeterminate"]],template:function(e,s){1&e&&(o.TgZ(0,"body"),o._UZ(1,"app-adminnavbarpage"),o.YNc(2,gie,2,0,"div",0),o.ALo(3,"async"),o.TgZ(4,"div",1),o.TgZ(5,"form",2),o.TgZ(6,"h5"),o._uU(7),o.qZA(),o.TgZ(8,"mat-form-field",3),o.TgZ(9,"mat-label"),o._uU(10,"Name"),o.qZA(),o._UZ(11,"input",4),o.qZA(),o.TgZ(12,"mat-form-field",3),o.TgZ(13,"mat-label"),o._uU(14,"Email"),o.qZA(),o._UZ(15,"input",5),o.qZA(),o.TgZ(16,"mat-form-field",3),o.TgZ(17,"mat-label"),o._uU(18,"Phone"),o.qZA(),o._UZ(19,"input",6),o.qZA(),o.TgZ(20,"button",7),o.NdJ("click",function(){return s.update()}),o._uU(21,"Update"),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(2),o.Q6J("ngIf",o.lcZ(3,9,s.asS.isLoading)),o.xp6(3),o.Q6J("formGroup",s.form),o.xp6(2),o.hij("Profile - ",null==s.asS.name?null:s.asS.name.username,""),o.xp6(4),o.s9C("value",null==s.asS.name?null:s.asS.name.username),o.Q6J("ngModel",null==s.asS.name?null:s.asS.name.username),o.xp6(4),o.s9C("value",null==s.asS.name?null:s.asS.name.email),o.Q6J("ngModel",null==s.asS.name?null:s.asS.name.email),o.xp6(4),o.s9C("value",null==s.asS.name?null:s.asS.name.phone),o.Q6J("ngModel",null==s.asS.name?null:s.asS.name.phone))},directives:[Zg,un,iy,$i,eg,rx,Ib,o1,xm,On,Cv,Dd,yf,TF],pipes:[Nl],styles:["body[_ngcontent-%COMP%]{width:100vw;background-color:#f5f5f5;height:100vh;color:#000}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;background-color:#c0ad91;width:30%;margin:50px auto auto;padding:10px}mat-form-field[_ngcontent-%COMP%]{width:300px}"]}),t})();function yie(t,i){1&t&&(o.TgZ(0,"th",19),o._uU(1,"Name"),o.qZA())}function vie(t,i){if(1&t&&(o.TgZ(0,"td",20),o._uU(1),o.qZA()),2&t){const e=i.$implicit;o.xp6(1),o.Oqu(e.brand)}}function bie(t,i){1&t&&(o.TgZ(0,"th",19),o._uU(1,"Name"),o.qZA()),2&t&&o.Udp("width","30%")}function xie(t,i){if(1&t&&(o.TgZ(0,"td",20),o.TgZ(1,"b"),o._uU(2),o.qZA(),o._UZ(3,"br"),o._uU(4),o.qZA()),2&t){const e=i.$implicit;o.xp6(2),o.Oqu(e.company),o.xp6(2),o.hij("",e.brand," ")}}function wie(t,i){1&t&&(o.TgZ(0,"th",19),o._uU(1,"Quantity"),o.qZA())}function Cie(t,i){if(1&t&&(o.TgZ(0,"td",20),o._uU(1),o.qZA()),2&t){const e=i.$implicit;o.xp6(1),o.Oqu(e.quantity)}}function Mie(t,i){1&t&&(o.TgZ(0,"th",19),o._uU(1,"Total Price"),o.qZA())}function Tie(t,i){if(1&t&&(o.TgZ(0,"td",20),o._uU(1),o.qZA()),2&t){const e=i.$implicit;o.xp6(1),o.hij("RM ",e.totalprice,"")}}function Sie(t,i){1&t&&(o.TgZ(0,"th",19),o._uU(1,"Action"),o.qZA())}function kie(t,i){1&t&&(o.TgZ(0,"td",20),o.TgZ(1,"button",21),o._uU(2,"View Details"),o.qZA(),o.qZA())}function Eie(t,i){1&t&&o._UZ(0,"tr",22)}function Die(t,i){1&t&&o._UZ(0,"tr",23)}function Aie(t,i){if(1&t&&(o.TgZ(0,"tr",24),o.TgZ(1,"td",25),o._uU(2),o.qZA(),o.qZA()),2&t){o.oxw();const e=o.MAs(10);o.xp6(2),o.hij(' No data matching the filter "',e.value,'" ')}}const Iie=function(){return[5,10,25,100]};let Lie=(()=>{class t{constructor(e,s,a,l){this.fs=e,this.fa=s,this.route=a,this.adminAuthService=l,this.displayedColumns=["company","quantity","totalprice","action"],this.data=[],this.route.paramMap.subscribe(h=>{console.log(h.get("id")),this.category=h.get("id")||""}),this.fa.authState.subscribe(h=>{this.uid=null==h?void 0:h.uid,this.fs.collection("Admin").doc(this.uid).collection("inventory").doc(this.category).collection("purchasehistory").snapshotChanges().subscribe(C=>{console.log(C),this.data=[],C.map(O=>{let G={company:O.payload.doc.data().compname,totalprice:O.payload.doc.data().total,quantity:O.payload.doc.data().quantity,brand:O.payload.doc.data().brand};this.data.push(G),this.dataSource=new s1(this.data),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,console.log(this.data)})})})}ngOnInit(){}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Sa),o.Y36(ui),o.Y36(dc),o.Y36(AL))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-admin-pur-chase-history-page"]],viewQuery:function(e,s){if(1&e&&(o.Gf(sx,5),o.Gf(Ab,5)),2&e){let a;o.iGM(a=o.CRH())&&(s.paginator=a.first),o.iGM(a=o.CRH())&&(s.sort=a.first)}},decls:32,vars:8,consts:[[1,"title"],["appearance","standard"],[1,"fas","fa-search"],["matInput","","placeholder","Ex. Mia",3,"keyup"],["input",""],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","brand"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","company"],["mat-header-cell","","mat-sort-header","",3,"width",4,"matHeaderCellDef"],["matColumnDef","quantity"],["matColumnDef","totalprice"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-raised-button",""],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,s){1&e&&(o.TgZ(0,"body"),o._UZ(1,"app-adminnavbarpage"),o.TgZ(2,"h4"),o._uU(3),o.qZA(),o.TgZ(4,"div",0),o.TgZ(5,"mat-form-field",1),o.TgZ(6,"mat-label"),o._UZ(7,"i",2),o._uU(8," Search"),o.qZA(),o.TgZ(9,"input",3,4),o.NdJ("keyup",function(l){return s.applyFilter(l)}),o.qZA(),o.qZA(),o.TgZ(11,"div",5),o.TgZ(12,"table",6),o.ynx(13,7),o.YNc(14,yie,2,0,"th",8),o.YNc(15,vie,2,1,"td",9),o.ynx(16,10),o.YNc(17,bie,2,2,"th",11),o.YNc(18,xie,5,2,"td",9),o.BQk(),o.BQk(),o.ynx(19,12),o.YNc(20,wie,2,0,"th",8),o.YNc(21,Cie,2,1,"td",9),o.BQk(),o.ynx(22,13),o.YNc(23,Mie,2,0,"th",8),o.YNc(24,Tie,2,1,"td",9),o.BQk(),o.ynx(25,14),o.YNc(26,Sie,2,0,"th",8),o.YNc(27,kie,3,0,"td",9),o.BQk(),o.YNc(28,Eie,1,0,"tr",15),o.YNc(29,Die,1,0,"tr",16),o.YNc(30,Aie,3,1,"tr",17),o.qZA(),o._UZ(31,"mat-paginator",18),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(3),o.hij("Purchase History - ",s.category,""),o.xp6(9),o.Udp("width","100%"),o.Q6J("dataSource",s.dataSource),o.xp6(16),o.Q6J("matHeaderRowDef",s.displayedColumns),o.xp6(1),o.Q6J("matRowDefColumns",s.displayedColumns),o.xp6(2),o.Q6J("pageSizeOptions",o.DdM(7,Iie)))},directives:[Zg,rx,Ib,o1,Ck,Ab,fM,pM,hM,Mk,Tk,Ek,sx,mM,mL,gM,Dd,Sk,kk],styles:["body[_ngcontent-%COMP%]{background:#f5f5f5;margin:0;padding:0}h4[_ngcontent-%COMP%]{margin:20px}.title[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;width:80%;margin:3rem auto auto}mat-form-field[_ngcontent-%COMP%]{width:200px;align-self:flex-end}button[_ngcontent-%COMP%]{margin-right:5px}.mat-sort-header-content[_ngcontent-%COMP%]{justify-content:end}"]}),t})();function Pie(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"span",3),o.NdJ("click",function(a){return o.CHM(e),o.oxw().clear(a)})("keydown.enter",function(a){return o.CHM(e),o.oxw().clear(a)}),o.qZA()}if(2&t){const e=o.oxw();o.Q6J("ngClass",e.iconCancelClass)("ngStyle",e.iconCancelStyle),o.uIk("tabindex",e.disabled||e.readonly?null:"0")}}function Oie(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"span",4),o.NdJ("click",function(a){const h=o.CHM(e).index;return o.oxw().rate(a,h)})("keydown.enter",function(a){const h=o.CHM(e).index;return o.oxw().rate(a,h)}),o.qZA()}if(2&t){const e=i.index,s=o.oxw();o.Q6J("ngClass",!s.value||e>=s.value?s.iconOffClass:s.iconOnClass)("ngStyle",!s.value||e>=s.value?s.iconOffStyle:s.iconOnStyle),o.uIk("tabindex",s.disabled||s.readonly?null:"0")}}const Rie=function(t,i){return{"p-readonly":t,"p-disabled":i}},Fie={provide:Jl,useExisting:(0,o.Gpc)(()=>YL),multi:!0};let YL=(()=>{class t{constructor(e){this.cd=e,this.stars=5,this.cancel=!0,this.iconOnClass="pi pi-star",this.iconOffClass="pi pi-star-o",this.iconCancelClass="pi pi-ban",this.onRate=new o.vpe,this.onCancel=new o.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngOnInit(){this.starsArray=[];for(let e=0;e<this.stars;e++)this.starsArray[e]=e}rate(e,s){!this.readonly&&!this.disabled&&(this.value=s+1,this.onModelChange(this.value),this.onModelTouched(),this.onRate.emit({originalEvent:e,value:s+1})),e.preventDefault()}clear(e){!this.readonly&&!this.disabled&&(this.value=null,this.onModelChange(this.value),this.onModelTouched(),this.onCancel.emit(e)),e.preventDefault()}writeValue(e){this.value=e,this.cd.detectChanges()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.sBO))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-rating"]],inputs:{disabled:"disabled",readonly:"readonly",stars:"stars",cancel:"cancel",iconOnClass:"iconOnClass",iconOnStyle:"iconOnStyle",iconOffClass:"iconOffClass",iconOffStyle:"iconOffStyle",iconCancelClass:"iconCancelClass",iconCancelStyle:"iconCancelStyle"},outputs:{onRate:"onRate",onCancel:"onCancel"},features:[o._Bn([Fie])],decls:3,vars:6,consts:[[1,"p-rating",3,"ngClass"],["class","p-rating-icon p-rating-cancel",3,"ngClass","ngStyle","click","keydown.enter",4,"ngIf"],["class","p-rating-icon",3,"ngClass","ngStyle","click","keydown.enter",4,"ngFor","ngForOf"],[1,"p-rating-icon","p-rating-cancel",3,"ngClass","ngStyle","click","keydown.enter"],[1,"p-rating-icon",3,"ngClass","ngStyle","click","keydown.enter"]],template:function(e,s){1&e&&(o.TgZ(0,"div",0),o.YNc(1,Pie,1,3,"span",1),o.YNc(2,Oie,1,3,"span",2),o.qZA()),2&e&&(o.Q6J("ngClass",o.WLB(3,Rie,s.readonly,s.disabled)),o.xp6(1),o.Q6J("ngIf",s.cancel),o.xp6(1),o.Q6J("ngForOf",s.starsArray))},directives:[he,un,mt,qi],styles:[".p-rating-icon{cursor:pointer}.p-rating.p-rating-readonly .p-rating-icon{cursor:default}"],encapsulation:2,changeDetection:0}),t})(),Nie=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Ji]]}),t})();function zie(t,i){if(1&t&&(o.TgZ(0,"button",33),o._uU(1),o.qZA()),2&t){const e=i.$implicit;o.xp6(1),o.AsE(" ",e.brand," ------\x3e RM",e.price," ")}}function Bie(t,i){1&t&&(o.TgZ(0,"button",34),o._uU(1,"View Cart"),o.qZA())}function Yie(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",19),o.NdJ("click",function(){const l=o.CHM(e).$implicit;return o.oxw().filterCategory(l)}),o._uU(1),o.qZA()}if(2&t){const e=i.$implicit;o.xp6(1),o.hij(" ",e," ")}}function Hie(t,i){1&t&&(o.TgZ(0,"th",35),o._uU(1," Product Name "),o.qZA())}function Vie(t,i){if(1&t&&(o.TgZ(0,"td",36),o._uU(1),o._UZ(2,"br"),o._uU(3),o.qZA()),2&t){const e=i.$implicit;o.xp6(1),o.hij(" ",e.brand," "),o.xp6(2),o.hij(" ",e.compname.compname," ")}}function Uie(t,i){1&t&&(o.TgZ(0,"th",35),o._uU(1," Product Name "),o.qZA())}function jie(t,i){1&t&&o._UZ(0,"td",36)}function Zie(t,i){1&t&&(o.TgZ(0,"th",35),o._uU(1,"Rating"),o.qZA())}function Gie(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"td",36),o.TgZ(1,"p-rating",37),o.NdJ("ngModelChange",function(a){return o.CHM(e).$implicit.rating=a}),o.qZA(),o.qZA()}if(2&t){const e=i.$implicit;o.xp6(1),o.Q6J("ngModel",e.rating)("cancel",!1)("readonly",!0)}}function Wie(t,i){1&t&&(o.TgZ(0,"th",35),o._uU(1,"Price/Item"),o.qZA())}function qie(t,i){if(1&t&&(o.TgZ(0,"td",36),o._uU(1),o.qZA()),2&t){const e=i.$implicit;o.xp6(1),o.Oqu(e.price)}}function $ie(t,i){1&t&&(o.TgZ(0,"th",35),o._uU(1,"Action"),o.qZA())}function Qie(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"td",36),o.TgZ(1,"button",38),o.NdJ("click",function(){const l=o.CHM(e).$implicit;return o.oxw().addtocart(l.brand,l.price,l.compname.compname,l.category,l.quantity)}),o._uU(2," Add to Cart "),o.qZA(),o.qZA()}}function Xie(t,i){1&t&&o._UZ(0,"tr",39)}function Jie(t,i){1&t&&o._UZ(0,"tr",40)}function Kie(t,i){if(1&t&&(o.TgZ(0,"tr",41),o.TgZ(1,"td",42),o._uU(2),o.qZA(),o.qZA()),2&t){o.oxw();const e=o.MAs(21);o.xp6(2),o.hij(' No data matching the filter "',e.value,'" ')}}const ere=function(){return[5,10,25,100]};let tre=(()=>{class t{constructor(e){this.fs=e,this.supplierid=[],this.overallmenu=[],this.supplier=[],this.loader=!0,this.cart=[],this.newArray=[],this.status="ONLINE",this.isConnected=!0,this.newCategory=[],this.displayedColumns=["brand","rating","price","action"],this.checkDuplicate=[],this.filter2=[],this.filter3=[],this.quantity=[],this.temp=[],this.isModified=!1,this.fs.collection("Supplier").snapshotChanges().subscribe(s=>{s.map(a=>{let l=a.payload.doc.data();this.fs.collection("Supplier").doc(a.payload.doc.id).collection("menu").snapshotChanges().subscribe(h=>{h.map(v=>{if("added"==v.type){let C={compname:l,brand:v.payload.doc.data().brand,rating:v.payload.doc.data().ratingTotal,price:v.payload.doc.data().price,category:v.payload.doc.data().category,quantity:v.payload.doc.data().quantity};v.payload.doc.data().quantity>0&&this.overallmenu.push(C),this.dataSource=new s1(this.overallmenu),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}})})})}),this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("cart").snapshotChanges().subscribe(s=>{this.filter2=[],this.cartlength=s.length,s.map(a=>{console.log(a);let l={brand:a.payload.doc.id,quantity:a.payload.doc.data().quantity,price:a.payload.doc.data().price};this.filter2.push(l),this.filter3=[...new Set(this.filter2)]})})}ngOnInit(){}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}filter(){for(let e=0;e<this.overallmenu.length;e++)this.newArray.push(this.overallmenu[e].category);this.newCategory=[...new Set(this.newArray)]}filterCategory(e){if(console.log(e),"clear"==e)this.dataSource=new s1(this.overallmenu),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort;else{let s=this.overallmenu.filter(a=>{if(a.category==e)return a});this.dataSource=new s1(s),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}}addtocart(e,s,a,l,h){var v=this;return Qs(function*(){v.category2=l,console.log(v.category2);let C=s;const O=s;0==v.filter3.length&&v.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("cart").doc(e).set({quantity:1,price:O,brand:e,compname:a,totalprice:C,category:v.category2,stock:h});for(let G=0;G<v.filter3.length;G++){let te=[];const pe=v.filter3[G];if(v.filter3.filter(we=>{te.push(we.brand),v.isExisted=!0}),0==te.includes(e)&&(v.isExisted=!1),pe.brand==e){const Le=v.filter3[G].quantity+1;console.log(G);const je=Le*O;v.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("cart").doc(e).update({quantity:Le,price:O,brand:e,compname:a,totalprice:je,category:v.category2,stock:h})}else!1===v.isExisted&&(yield v.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("cart").doc(e).set({quantity:1,price:O,brand:e,compname:a,category:v.category2,stock:h}))}})()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Sa))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-admin-add-order-page"]],viewQuery:function(e,s){if(1&e&&(o.Gf(sx,5),o.Gf(Ab,5)),2&e){let a;o.iGM(a=o.CRH())&&(s.paginator=a.first),o.iGM(a=o.CRH())&&(s.sort=a.first)}},decls:51,vars:12,consts:[[1,"title"],[1,"content"],[1,"combine"],[1,"search"],["mat-button","",3,"matMenuTriggerFor","mouseenter"],["menuTrigger","matMenuTrigger"],["matBadgePosition","after","matBadgeColor","accent",3,"matBadge"],[3,"overlapTrigger"],["menu","matMenu"],[3,"mouseleave"],["mat-menu-item","",4,"ngFor","ngForOf"],["mat-raised-button","","routerLink","/admincartpage",4,"ngIf"],["appearance","standard"],["matInput","","placeholder","Ex. Mia",3,"keyup"],["input",""],[1,"filter"],["mat-button","",3,"matMenuTriggerFor","click"],["category","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["mat-menu-item","",3,"click"],[1,"mat-elevation-z8","table"],["mat-table","","matSort","","width","100%",3,"dataSource"],["matColumnDef","brand"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","compname"],["matColumnDef","rating"],["matColumnDef","price"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],["mat-menu-item",""],["mat-raised-button","","routerLink","/admincartpage"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[3,"ngModel","cancel","readonly","ngModelChange"],["mat-raised-button","",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,s){if(1&e){const a=o.EpF();o.TgZ(0,"body"),o._UZ(1,"app-adminnavbarpage"),o.TgZ(2,"div",0),o.TgZ(3,"h4"),o._uU(4,"Manage Order"),o.qZA(),o.qZA(),o.TgZ(5,"div",1),o.TgZ(6,"div",2),o.TgZ(7,"div",3),o.TgZ(8,"button",4,5),o.NdJ("mouseenter",function(){return o.CHM(a),o.MAs(9).openMenu()}),o.TgZ(10,"mat-icon",6),o._uU(11,"shopping_cart"),o.qZA(),o.qZA(),o.TgZ(12,"mat-menu",7,8),o.TgZ(14,"span",9),o.NdJ("mouseleave",function(){return o.CHM(a),o.MAs(9).closeMenu()}),o.YNc(15,zie,2,2,"button",10),o.YNc(16,Bie,2,0,"button",11),o.qZA(),o.qZA(),o.TgZ(17,"mat-form-field",12),o.TgZ(18,"mat-label"),o._uU(19,"Search"),o.qZA(),o.TgZ(20,"input",13,14),o.NdJ("keyup",function(h){return s.applyFilter(h)}),o.qZA(),o.qZA(),o.qZA(),o.TgZ(22,"div",15),o.TgZ(23,"button",16),o.NdJ("click",function(){return s.filter()}),o._uU(24," Category "),o.qZA(),o.TgZ(25,"mat-menu",null,17),o.YNc(27,Yie,2,1,"button",18),o.TgZ(28,"button",19),o.NdJ("click",function(){return s.filterCategory("clear")}),o._uU(29,"Clear"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(30,"div",20),o.TgZ(31,"table",21),o.ynx(32,22),o.YNc(33,Hie,2,0,"th",23),o.YNc(34,Vie,4,2,"td",24),o.ynx(35,25),o.YNc(36,Uie,2,0,"th",23),o.YNc(37,jie,1,0,"td",24),o.BQk(),o.BQk(),o.ynx(38,26),o.YNc(39,Zie,2,0,"th",23),o.YNc(40,Gie,2,3,"td",24),o.BQk(),o.ynx(41,27),o.YNc(42,Wie,2,0,"th",23),o.YNc(43,qie,2,1,"td",24),o.BQk(),o.ynx(44,28),o.YNc(45,$ie,2,0,"th",23),o.YNc(46,Qie,3,0,"td",24),o.BQk(),o.YNc(47,Xie,1,0,"tr",29),o.YNc(48,Jie,1,0,"tr",30),o.YNc(49,Kie,3,1,"tr",31),o.qZA(),o._UZ(50,"mat-paginator",32),o.qZA(),o.qZA(),o.qZA()}if(2&e){const a=o.MAs(13),l=o.MAs(26);o.xp6(8),o.Q6J("matMenuTriggerFor",a),o.xp6(2),o.s9C("matBadge",s.cartlength),o.xp6(2),o.Q6J("overlapTrigger",!1),o.xp6(3),o.Q6J("ngForOf",s.filter3),o.xp6(1),o.Q6J("ngIf",s.filter3.length>0),o.xp6(7),o.Q6J("matMenuTriggerFor",l),o.xp6(4),o.Q6J("ngForOf",s.newCategory),o.xp6(4),o.Q6J("dataSource",s.dataSource),o.xp6(16),o.Q6J("matHeaderRowDef",s.displayedColumns),o.xp6(1),o.Q6J("matRowDefColumns",s.displayedColumns),o.xp6(2),o.Q6J("pageSizeOptions",o.DdM(11,ere))}},directives:[Zg,Dd,yH,BL,SH,pH,mt,un,rx,Ib,o1,Dk,Ck,Ab,fM,pM,hM,Mk,Tk,Ek,sx,yf,mM,mL,gM,YL,On,Wg,Sk,kk],styles:["mgl-map[_ngcontent-%COMP%]{height:80%;width:50%}.table[_ngcontent-%COMP%]{width:80%;margin:auto}.combine[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.filter[_ngcontent-%COMP%]{order:1;margin-top:1.5rem}.search[_ngcontent-%COMP%]{order:2;margin-left:5rem}.title[_ngcontent-%COMP%]{margin:25px}"]}),t})();var EH="https://js.stripe.com/v3",nre=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,DH="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",HL=null,are=function(i,e,s){if(null===i)return null;var a=i.apply(void 0,e);return function(i,e){!i||!i._registerWrapper||i._registerWrapper({name:"stripe-js",version:"1.17.1",startTime:e})}(a,s),a},AH=Promise.resolve().then(function(){return i=null,null!==HL||(HL=new Promise(function(e,s){if("undefined"!=typeof window)if(window.Stripe&&i&&console.warn(DH),window.Stripe)e(window.Stripe);else try{var a=function(){for(var i=document.querySelectorAll('script[src^="'.concat(EH,'"]')),e=0;e<i.length;e++){var s=i[e];if(nre.test(s.src))return s}return null}();a&&i?console.warn(DH):a||(a=function(i){var e=i&&!i.advancedFraudSignals?"?advancedFraudSignals=false":"",s=document.createElement("script");s.src="".concat(EH).concat(e);var a=document.head||document.body;if(!a)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return a.appendChild(s),s}(i)),a.addEventListener("load",function(){window.Stripe?e(window.Stripe):s(new Error("Stripe.js not available"))}),a.addEventListener("error",function(){s(new Error("Failed to load Stripe.js"))})}catch(l){return void s(l)}else e(null)})),HL;var i}),IH=!1;AH.catch(function(t){IH||console.warn(t)});var VL=function(){for(var i=arguments.length,e=new Array(i),s=0;s<i;s++)e[s]=arguments[s];IH=!0;var a=Date.now();return AH.then(function(l){return are(l,e,a)})};const LH=new o.OlP("angularfire2.functions.origin"),PH=new o.OlP("angularfire2.functions.region"),OH=new o.OlP("angularfire2.functions.new-origin-behavior"),RH=new o.OlP("angularfire2.functions.use-emulator");let Ik=(()=>{class t{constructor(e,s,a,l,h,v,C){const O=new wr.HU(a),G=C,te=(0,Ai.of)(void 0).pipe((0,Jo.QV)(O.outsideAngular),Os(()=>Ae.e(253).then(Ae.bind(Ae,1253))),(0,Ri.U)(()=>(0,wr.on)(e,a,s)),(0,Ri.U)(pe=>(0,wr.sI)(`${pe.name}.functions.${l||h}`,"AngularFireFunctions",pe,()=>{let we;if(v){if(l&&h)throw new Error("REGION and ORIGIN can't be used at the same time.");we=pe.functions(l||h||void 0)}else we=pe.functions(l||void 0);return!v&&!G&&h&&we.useFunctionsEmulator(h),G&&we.useEmulator(...G),we},[l,h,G])),Jh({bufferSize:1,refCount:!1}));return this.httpsCallable=(pe,we)=>Le=>(0,Vs.D)(te).pipe((0,Jo.QV)(O.insideAngular),Os(je=>je.httpsCallable(pe,we)(Le)),(0,Ri.U)(je=>je.data)),(0,wr.pX)(this,te,a)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(wr.Dh),o.LFG(wr.xv,8),o.LFG(o.R0b),o.LFG(PH,8),o.LFG(LH,8),o.LFG(OH,8),o.LFG(RH,8))},t.\u0275prov=o.Yz7({factory:function(){return new t(o.LFG(wr.Dh),o.LFG(wr.xv,8),o.LFG(o.R0b),o.LFG(PH,8),o.LFG(LH,8),o.LFG(OH,8),o.LFG(RH,8))},token:t,providedIn:"any"}),t})();function cre(t,i){1&t&&o.GkF(0)}const LF=function(t){return{$implicit:t}};function ure(t,i){if(1&t&&(o.TgZ(0,"div",14),o.YNc(1,cre,1,0,"ng-container",15),o.qZA()),2&t){const e=o.oxw(2);o.xp6(1),o.Q6J("ngTemplateOutlet",e.templateLeft)("ngTemplateOutletContext",o.VKq(2,LF,e.paginatorState))}}function dre(t,i){if(1&t&&(o.TgZ(0,"span",16),o._uU(1),o.qZA()),2&t){const e=o.oxw(2);o.xp6(1),o.Oqu(e.currentPageReport)}}const UL=function(t){return{"p-disabled":t}};function hre(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",17),o.NdJ("click",function(a){return o.CHM(e),o.oxw(2).changePageToFirst(a)}),o._UZ(1,"span",18),o.qZA()}if(2&t){const e=o.oxw(2);o.Q6J("disabled",e.isFirstPage())("ngClass",o.VKq(2,UL,e.isFirstPage()))}}const pre=function(t){return{"p-highlight":t}};function fre(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",21),o.NdJ("click",function(a){const h=o.CHM(e).$implicit;return o.oxw(3).onPageLinkClick(a,h-1)}),o._uU(1),o.qZA()}if(2&t){const e=i.$implicit,s=o.oxw(3);o.Q6J("ngClass",o.VKq(2,pre,e-1==s.getPage())),o.xp6(1),o.Oqu(e)}}function mre(t,i){if(1&t&&(o.TgZ(0,"span",19),o.YNc(1,fre,2,4,"button",20),o.qZA()),2&t){const e=o.oxw(2);o.xp6(1),o.Q6J("ngForOf",e.pageLinks)}}function gre(t,i){if(1&t&&o._uU(0),2&t){const e=o.oxw(3);o.Oqu(e.currentPageReport)}}function _re(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"p-dropdown",22),o.NdJ("onChange",function(a){return o.CHM(e),o.oxw(2).onPageDropdownChange(a)}),o.YNc(1,gre,1,1,"ng-template",23),o.qZA()}if(2&t){const e=o.oxw(2);o.Q6J("options",e.pageItems)("ngModel",e.getPage())("appendTo",e.dropdownAppendTo)("scrollHeight",e.dropdownScrollHeight)}}function yre(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",24),o.NdJ("click",function(a){return o.CHM(e),o.oxw(2).changePageToLast(a)}),o._UZ(1,"span",25),o.qZA()}if(2&t){const e=o.oxw(2);o.Q6J("disabled",e.isLastPage())("ngClass",o.VKq(2,UL,e.isLastPage()))}}function vre(t,i){1&t&&o.GkF(0)}function bre(t,i){if(1&t&&o.YNc(0,vre,1,0,"ng-container",15),2&t){const e=i.$implicit,s=o.oxw(4);o.Q6J("ngTemplateOutlet",s.dropdownItemTemplate)("ngTemplateOutletContext",o.VKq(2,LF,e))}}function xre(t,i){1&t&&(o.ynx(0),o.YNc(1,bre,1,4,"ng-template",28),o.BQk())}function wre(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"p-dropdown",26),o.NdJ("ngModelChange",function(a){return o.CHM(e),o.oxw(2).rows=a})("onChange",function(a){return o.CHM(e),o.oxw(2).onRppChange(a)}),o.YNc(1,xre,2,0,"ng-container",27),o.qZA()}if(2&t){const e=o.oxw(2);o.Q6J("options",e.rowsPerPageItems)("ngModel",e.rows)("appendTo",e.dropdownAppendTo)("scrollHeight",e.dropdownScrollHeight),o.xp6(1),o.Q6J("ngIf",e.dropdownItemTemplate)}}function Cre(t,i){1&t&&o.GkF(0)}function Mre(t,i){if(1&t&&(o.TgZ(0,"div",29),o.YNc(1,Cre,1,0,"ng-container",15),o.qZA()),2&t){const e=o.oxw(2);o.xp6(1),o.Q6J("ngTemplateOutlet",e.templateRight)("ngTemplateOutletContext",o.VKq(2,LF,e.paginatorState))}}function Tre(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",1),o.YNc(1,ure,2,4,"div",2),o.YNc(2,dre,2,1,"span",3),o.YNc(3,hre,2,4,"button",4),o.TgZ(4,"button",5),o.NdJ("click",function(a){return o.CHM(e),o.oxw().changePageToPrev(a)}),o._UZ(5,"span",6),o.qZA(),o.YNc(6,mre,2,1,"span",7),o.YNc(7,_re,2,4,"p-dropdown",8),o.TgZ(8,"button",9),o.NdJ("click",function(a){return o.CHM(e),o.oxw().changePageToNext(a)}),o._UZ(9,"span",10),o.qZA(),o.YNc(10,yre,2,4,"button",11),o.YNc(11,wre,2,5,"p-dropdown",12),o.YNc(12,Mre,2,4,"div",13),o.qZA()}if(2&t){const e=o.oxw();o.Tol(e.styleClass),o.Q6J("ngStyle",e.style)("ngClass","p-paginator p-component"),o.xp6(1),o.Q6J("ngIf",e.templateLeft),o.xp6(1),o.Q6J("ngIf",e.showCurrentPageReport),o.xp6(1),o.Q6J("ngIf",e.showFirstLastIcon),o.xp6(1),o.Q6J("disabled",e.isFirstPage())("ngClass",o.VKq(16,UL,e.isFirstPage())),o.xp6(2),o.Q6J("ngIf",e.showPageLinks),o.xp6(1),o.Q6J("ngIf",e.showJumpToPageDropdown),o.xp6(1),o.Q6J("disabled",e.isLastPage())("ngClass",o.VKq(18,UL,e.isLastPage())),o.xp6(2),o.Q6J("ngIf",e.showFirstLastIcon),o.xp6(1),o.Q6J("ngIf",e.rowsPerPageOptions),o.xp6(1),o.Q6J("ngIf",e.templateRight)}}let Sre=(()=>{class t{constructor(e){this.cd=e,this.pageLinkSize=5,this.onPageChange=new o.vpe,this.alwaysShow=!0,this.dropdownScrollHeight="200px",this.currentPageReportTemplate="{currentPage} of {totalPages}",this.showFirstLastIcon=!0,this.totalRecords=0,this.rows=0,this.showPageLinks=!0,this._first=0,this._page=0}ngOnInit(){this.updatePaginatorState()}ngOnChanges(e){e.totalRecords&&(this.updatePageLinks(),this.updatePaginatorState(),this.updateFirst(),this.updateRowsPerPageOptions()),e.first&&(this._first=e.first.currentValue,this.updatePageLinks(),this.updatePaginatorState()),e.rows&&(this.updatePageLinks(),this.updatePaginatorState()),e.rowsPerPageOptions&&this.updateRowsPerPageOptions()}get first(){return this._first}set first(e){this._first=e}updateRowsPerPageOptions(){if(this.rowsPerPageOptions){this.rowsPerPageItems=[];for(let e of this.rowsPerPageOptions)"object"==typeof e&&e.showAll?this.rowsPerPageItems.unshift({label:e.showAll,value:this.totalRecords}):this.rowsPerPageItems.push({label:String(e),value:e})}}isFirstPage(){return 0===this.getPage()}isLastPage(){return this.getPage()===this.getPageCount()-1}getPageCount(){return Math.ceil(this.totalRecords/this.rows)||1}calculatePageLinkBoundaries(){let e=this.getPageCount(),s=Math.min(this.pageLinkSize,e),a=Math.max(0,Math.ceil(this.getPage()-s/2)),l=Math.min(e-1,a+s-1);return a=Math.max(0,a-(this.pageLinkSize-(l-a+1))),[a,l]}updatePageLinks(){this.pageLinks=[];let e=this.calculatePageLinkBoundaries(),a=e[1];for(let l=e[0];l<=a;l++)this.pageLinks.push(l+1);if(this.showJumpToPageDropdown){this.pageItems=[];for(let l=0;l<this.getPageCount();l++)this.pageItems.push({label:String(l+1),value:l})}}changePage(e){var s=this.getPageCount();if(e>=0&&e<s){this._first=this.rows*e;var a={page:e,first:this.first,rows:this.rows,pageCount:s};this.updatePageLinks(),this.onPageChange.emit(a),this.updatePaginatorState()}}updateFirst(){const e=this.getPage();e>0&&this.totalRecords&&this.first>=this.totalRecords&&Promise.resolve(null).then(()=>this.changePage(e-1))}getPage(){return Math.floor(this.first/this.rows)}changePageToFirst(e){this.isFirstPage()||this.changePage(0),e.preventDefault()}changePageToPrev(e){this.changePage(this.getPage()-1),e.preventDefault()}changePageToNext(e){this.changePage(this.getPage()+1),e.preventDefault()}changePageToLast(e){this.isLastPage()||this.changePage(this.getPageCount()-1),e.preventDefault()}onPageLinkClick(e,s){this.changePage(s),e.preventDefault()}onRppChange(e){this.changePage(this.getPage())}onPageDropdownChange(e){this.changePage(e.value)}updatePaginatorState(){this.paginatorState={page:this.getPage(),pageCount:this.getPageCount(),rows:this.rows,first:this.first,totalRecords:this.totalRecords}}get currentPageReport(){return this.currentPageReportTemplate.replace("{currentPage}",String(this.getPage()+1)).replace("{totalPages}",String(this.getPageCount())).replace("{first}",String(this.totalRecords>0?this._first+1:0)).replace("{last}",String(Math.min(this._first+this.rows,this.totalRecords))).replace("{rows}",String(this.rows)).replace("{totalRecords}",String(this.totalRecords))}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.sBO))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-paginator"]],inputs:{pageLinkSize:"pageLinkSize",style:"style",styleClass:"styleClass",alwaysShow:"alwaysShow",templateLeft:"templateLeft",templateRight:"templateRight",dropdownAppendTo:"dropdownAppendTo",dropdownScrollHeight:"dropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:"showCurrentPageReport",showFirstLastIcon:"showFirstLastIcon",totalRecords:"totalRecords",rows:"rows",rowsPerPageOptions:"rowsPerPageOptions",showJumpToPageDropdown:"showJumpToPageDropdown",showPageLinks:"showPageLinks",dropdownItemTemplate:"dropdownItemTemplate",first:"first"},outputs:{onPageChange:"onPageChange"},features:[o.TTD],decls:1,vars:1,consts:[[3,"class","ngStyle","ngClass",4,"ngIf"],[3,"ngStyle","ngClass"],["class","p-paginator-left-content",4,"ngIf"],["class","p-paginator-current",4,"ngIf"],["type","button","pRipple","","class","p-paginator-first p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-prev","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-left"],["class","p-paginator-pages",4,"ngIf"],["styleClass","p-paginator-page-options",3,"options","ngModel","appendTo","scrollHeight","onChange",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-next","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-right"],["type","button","pRipple","","class","p-paginator-last p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["styleClass","p-paginator-rpp-options",3,"options","ngModel","appendTo","scrollHeight","ngModelChange","onChange",4,"ngIf"],["class","p-paginator-right-content",4,"ngIf"],[1,"p-paginator-left-content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-paginator-current"],["type","button","pRipple","",1,"p-paginator-first","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-double-left"],[1,"p-paginator-pages"],["type","button","class","p-paginator-page p-paginator-element p-link","pRipple","",3,"ngClass","click",4,"ngFor","ngForOf"],["type","button","pRipple","",1,"p-paginator-page","p-paginator-element","p-link",3,"ngClass","click"],["styleClass","p-paginator-page-options",3,"options","ngModel","appendTo","scrollHeight","onChange"],["pTemplate","selectedItem"],["type","button","pRipple","",1,"p-paginator-last","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-double-right"],["styleClass","p-paginator-rpp-options",3,"options","ngModel","appendTo","scrollHeight","ngModelChange","onChange"],[4,"ngIf"],["pTemplate","item"],[1,"p-paginator-right-content"]],template:function(e,s){1&e&&o.YNc(0,Tre,13,20,"div",0),2&e&&o.Q6J("ngIf",!!s.alwaysShow||s.pageLinks&&s.pageLinks.length>1)},directives:[un,qi,he,Km,jr,mt,JA,On,Wg,Rl],styles:[".p-paginator{display:flex;align-items:center;justify-content:center;flex-wrap:wrap}.p-paginator-left-content{margin-right:auto}.p-paginator-right-content{margin-left:auto}.p-paginator-current,.p-paginator-first,.p-paginator-last,.p-paginator-next,.p-paginator-page,.p-paginator-prev{cursor:pointer;display:inline-flex;align-items:center;justify-content:center;line-height:1;-webkit-user-select:none;-ms-user-select:none;user-select:none;overflow:hidden;position:relative}.p-paginator-element:focus{z-index:1;position:relative}"],encapsulation:2,changeDetection:0}),t})(),kre=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Ji,KA,XA,Ha,Bh],KA,XA,Ha]}),t})(),ax=(()=>{class t{constructor(e,s){this.el=e,this.ngModel=s}ngDoCheck(){this.updateFilledState()}onInput(e){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(Wg,8))},t.\u0275dir=o.lG2({type:t,selectors:[["","pInputText",""]],hostVars:6,hostBindings:function(e,s){1&e&&o.NdJ("input",function(l){return s.onInput(l)}),2&e&&o.ekj("p-inputtext",!0)("p-component",!0)("p-filled",s.filled)}}),t})(),Lk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Ji]]}),t})();function Ere(t,i){if(1&t&&o._UZ(0,"span",8),2&t){const e=o.oxw(2).$implicit;o.Tol(e.icon),o.Q6J("ngClass","p-button-icon p-button-icon-left")}}function Dre(t,i){if(1&t&&(o.ynx(0),o.YNc(1,Ere,1,3,"span",6),o.TgZ(2,"span",7),o._uU(3),o.qZA(),o.BQk()),2&t){const e=o.oxw().$implicit,s=o.oxw();o.xp6(1),o.Q6J("ngIf",e.icon),o.xp6(2),o.Oqu(s.getOptionLabel(e))}}function Are(t,i){1&t&&o.GkF(0)}const Ire=function(t,i){return{$implicit:t,index:i}};function Lre(t,i){if(1&t&&o.YNc(0,Are,1,0,"ng-container",9),2&t){const e=o.oxw(),s=e.$implicit,a=e.index,l=o.oxw();o.Q6J("ngTemplateOutlet",l.itemTemplate)("ngTemplateOutletContext",o.WLB(2,Ire,s,a))}}const Pre=function(t,i,e){return{"p-highlight":t,"p-disabled":i,"p-button-icon-only":e}};function Ore(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",2,3),o.NdJ("click",function(a){const l=o.CHM(e),h=l.$implicit,v=l.index;return o.oxw().onItemClick(a,h,v)})("keydown.enter",function(a){const l=o.CHM(e),h=l.$implicit,v=l.index;return o.oxw().onItemClick(a,h,v)})("blur",function(){return o.CHM(e),o.oxw().onBlur()}),o.YNc(2,Dre,4,2,"ng-container",4),o.YNc(3,Lre,1,5,"ng-template",null,5,o.W1O),o.qZA()}if(2&t){const e=i.$implicit,s=o.MAs(4),a=o.oxw();o.Tol(e.styleClass),o.Q6J("ngClass",o.kEZ(10,Pre,a.isSelected(e),a.disabled||a.isOptionDisabled(e),e.icon&&!a.getOptionLabel(e))),o.uIk("aria-pressed",a.isSelected(e))("title",e.title)("aria-label",e.label)("tabindex",a.disabled?null:a.tabindex)("aria-labelledby",a.getOptionLabel(e)),o.xp6(2),o.Q6J("ngIf",!a.itemTemplate)("ngIfElse",s)}}const Rre={provide:Jl,useExisting:(0,o.Gpc)(()=>Fre),multi:!0};let Fre=(()=>{class t{constructor(e){this.cd=e,this.tabindex=0,this.onOptionClick=new o.vpe,this.onChange=new o.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}getOptionLabel(e){return this.optionLabel?gr.resolveFieldData(e,this.optionLabel):null!=e.label?e.label:e}getOptionValue(e){return this.optionValue?gr.resolveFieldData(e,this.optionValue):this.optionLabel||void 0===e.value?e:e.value}isOptionDisabled(e){return this.optionDisabled?gr.resolveFieldData(e,this.optionDisabled):void 0!==e.disabled&&e.disabled}writeValue(e){this.value=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onItemClick(e,s,a){this.disabled||this.isOptionDisabled(s)||(this.multiple?this.isSelected(s)?this.removeOption(s):this.value=[...this.value||[],this.getOptionValue(s)]:this.value=this.getOptionValue(s),this.onOptionClick.emit({originalEvent:e,option:s,index:a}),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}))}onBlur(){this.onModelTouched()}removeOption(e){this.value=this.value.filter(s=>!gr.equals(s,this.getOptionValue(e),this.dataKey))}isSelected(e){let s=!1,a=this.getOptionValue(e);if(this.multiple){if(this.value)for(let l of this.value)if(gr.equals(l,a,this.dataKey)){s=!0;break}}else s=gr.equals(this.getOptionValue(e),this.value,this.dataKey);return s}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.sBO))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-selectButton"]],contentQueries:function(e,s,a){if(1&e&&o.Suo(a,o.Rgc,5),2&e){let l;o.iGM(l=o.CRH())&&(s.itemTemplate=l.first)}},inputs:{options:"options",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",tabindex:"tabindex",multiple:"multiple",style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy",disabled:"disabled",dataKey:"dataKey"},outputs:{onOptionClick:"onOptionClick",onChange:"onChange"},features:[o._Bn([Rre])],decls:2,vars:5,consts:[["role","group",3,"ngClass","ngStyle"],["class","p-button p-component","role","button","pRipple","",3,"class","ngClass","click","keydown.enter","blur",4,"ngFor","ngForOf"],["role","button","pRipple","",1,"p-button","p-component",3,"ngClass","click","keydown.enter","blur"],["btn",""],[4,"ngIf","ngIfElse"],["customcontent",""],[3,"ngClass","class",4,"ngIf"],[1,"p-button-label"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,s){1&e&&(o.TgZ(0,"div",0),o.YNc(1,Ore,5,14,"div",1),o.qZA()),2&e&&(o.Tol(s.styleClass),o.Q6J("ngClass","p-selectbutton p-buttonset p-component")("ngStyle",s.style),o.xp6(1),o.Q6J("ngForOf",s.options))},directives:[he,qi,mt,Km,un,jr],styles:[".p-button{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;-ms-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label{flex:1 1 auto}.p-button-icon-right{order:1}.p-button:disabled{cursor:default}.p-button-icon-only{justify-content:center}.p-button-icon-only .p-button-label{visibility:hidden;width:0;flex:0 0 auto}.p-button-vertical{flex-direction:column}.p-button-icon-bottom{order:2}.p-buttonset .p-button{margin:0}.p-buttonset .p-button:not(:last-child){border-right:0}.p-buttonset .p-button:not(:first-of-type):not(:last-of-type){border-radius:0}.p-buttonset .p-button:first-of-type{border-top-right-radius:0;border-bottom-right-radius:0}.p-buttonset .p-button:last-of-type{border-top-left-radius:0;border-bottom-left-radius:0}.p-buttonset .p-button:focus{position:relative;z-index:1}.p-button-label{transition:all .2s}"],encapsulation:2,changeDetection:0}),t})(),Nre=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Ji,Bh]]}),t})();const zre=function(t,i,e){return{"p-checkbox-label-active":t,"p-disabled":i,"p-checkbox-label-focus":e}};function Bre(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"label",7),o.NdJ("click",function(a){o.CHM(e);const l=o.oxw(),h=o.MAs(3);return l.onClick(a,h)}),o._uU(1),o.qZA()}if(2&t){const e=o.oxw();o.Q6J("ngClass",o.kEZ(3,zre,null!=e.value,e.disabled,e.focused)),o.uIk("for",e.inputId),o.xp6(1),o.Oqu(e.label)}}const Yre=function(t,i){return{"p-checkbox p-component":!0,"p-checkbox-disabled":t,"p-checkbox-focused":i}},Hre=function(t,i,e){return{"p-highlight":t,"p-disabled":i,"p-focus":e}},Vre={provide:Jl,useExisting:(0,o.Gpc)(()=>Ure),multi:!0};let Ure=(()=>{class t{constructor(e){this.cd=e,this.checkboxTrueIcon="pi pi-check",this.checkboxFalseIcon="pi pi-times",this.onChange=new o.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}onClick(e,s){!this.disabled&&!this.readonly&&(this.toggle(e),this.focused=!0,s.focus())}onKeydown(e){32==e.keyCode&&e.preventDefault()}onKeyup(e){32==e.keyCode&&!this.readonly&&(this.toggle(e),e.preventDefault())}toggle(e){null==this.value||null==this.value?this.value=!0:1==this.value?this.value=!1:0==this.value&&(this.value=null),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value})}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}writeValue(e){this.value=e,this.cd.markForCheck()}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.sBO))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-triStateCheckbox"]],inputs:{disabled:"disabled",name:"name",ariaLabelledBy:"ariaLabelledBy",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",label:"label",readonly:"readonly",checkboxTrueIcon:"checkboxTrueIcon",checkboxFalseIcon:"checkboxFalseIcon"},outputs:{onChange:"onChange"},features:[o._Bn([Vre])],decls:7,vars:21,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","text","inputmode","none",3,"name","readonly","disabled","keyup","keydown","focus","blur"],["input",""],["role","checkbox",1,"p-checkbox-box",3,"ngClass","click"],[1,"p-checkbox-icon",3,"ngClass"],["class","p-checkbox-label",3,"ngClass","click",4,"ngIf"],[1,"p-checkbox-label",3,"ngClass","click"]],template:function(e,s){if(1&e){const a=o.EpF();o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"input",2,3),o.NdJ("keyup",function(h){return s.onKeyup(h)})("keydown",function(h){return s.onKeydown(h)})("focus",function(){return s.onFocus()})("blur",function(){return s.onBlur()}),o.qZA(),o.qZA(),o.TgZ(4,"div",4),o.NdJ("click",function(h){o.CHM(a);const v=o.MAs(3);return s.onClick(h,v)}),o._UZ(5,"span",5),o.qZA(),o.qZA(),o.YNc(6,Bre,2,7,"label",6)}2&e&&(o.Tol(s.styleClass),o.Q6J("ngStyle",s.style)("ngClass",o.WLB(14,Yre,s.disabled,s.focused)),o.xp6(2),o.Q6J("name",s.name)("readonly",s.readonly)("disabled",s.disabled),o.uIk("id",s.inputId)("tabindex",s.tabindex)("aria-labelledby",s.ariaLabelledBy),o.xp6(2),o.Q6J("ngClass",o.kEZ(17,Hre,null!=s.value,s.disabled,s.focused)),o.uIk("aria-checked",!0===s.value),o.xp6(1),o.Q6J("ngClass",!0===s.value?s.checkboxTrueIcon:!1===s.value?s.checkboxFalseIcon:""),o.xp6(1),o.Q6J("ngIf",s.label))},directives:[qi,he,un],encapsulation:2,changeDetection:0}),t})(),jre=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Ji]]}),t})();const Zre=["container"],Gre=["inputfield"],Wre=["contentWrapper"];function qre(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",7),o.NdJ("click",function(a){o.CHM(e),o.oxw();const l=o.MAs(1);return o.oxw().onButtonClick(a,l)}),o.qZA()}if(2&t){const e=o.oxw(2);o.Q6J("icon",e.icon)("disabled",e.disabled)}}function $re(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"input",4,5),o.NdJ("focus",function(a){return o.CHM(e),o.oxw().onInputFocus(a)})("keydown",function(a){return o.CHM(e),o.oxw().onInputKeydown(a)})("click",function(){return o.CHM(e),o.oxw().onInputClick()})("blur",function(a){return o.CHM(e),o.oxw().onInputBlur(a)})("input",function(a){return o.CHM(e),o.oxw().onUserInput(a)}),o.qZA(),o.YNc(2,qre,1,2,"button",6)}if(2&t){const e=o.oxw();o.Tol(e.inputStyleClass),o.Q6J("value",e.inputFieldValue)("readonly",e.readonlyInput)("ngStyle",e.inputStyle)("placeholder",e.placeholder||"")("disabled",e.disabled)("ngClass","p-inputtext p-component"),o.uIk("id",e.inputId)("name",e.name)("required",e.required)("aria-required",e.required)("tabindex",e.tabindex)("inputmode",e.touchUI?"off":null)("aria-labelledby",e.ariaLabelledBy),o.xp6(2),o.Q6J("ngIf",e.showIcon)}}function Qre(t,i){1&t&&o.GkF(0)}function Xre(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",27),o.NdJ("keydown",function(a){return o.CHM(e),o.oxw(4).onContainerButtonKeydown(a)})("click",function(a){return o.CHM(e),o.oxw(4).onPrevButtonClick(a)}),o._UZ(1,"span",28),o.qZA()}}function Jre(t,i){if(1&t&&(o.TgZ(0,"span",29),o._uU(1),o.qZA()),2&t){const e=o.oxw().$implicit,s=o.oxw(3);o.xp6(1),o.Oqu(s.getTranslation("monthNames")[e.month])}}function Kre(t,i){if(1&t&&(o.TgZ(0,"option",32),o._uU(1),o.qZA()),2&t){const e=i.$implicit,s=i.index,a=o.oxw(2).$implicit;o.Q6J("value",s)("selected",s===a.month),o.xp6(1),o.Oqu(e)}}function ese(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"select",30),o.NdJ("change",function(a){return o.CHM(e),o.oxw(4).onMonthDropdownChange(a.target.value)}),o.YNc(1,Kre,2,3,"option",31),o.qZA()}if(2&t){const e=o.oxw(4);o.xp6(1),o.Q6J("ngForOf",e.getTranslation("monthNames"))}}function tse(t,i){if(1&t&&(o.TgZ(0,"option",32),o._uU(1),o.qZA()),2&t){const e=i.$implicit,s=o.oxw(5);o.Q6J("value",e)("selected",e===s.currentYear),o.xp6(1),o.Oqu(e)}}function nse(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"select",33),o.NdJ("change",function(a){return o.CHM(e),o.oxw(4).onYearDropdownChange(a.target.value)}),o.YNc(1,tse,2,3,"option",31),o.qZA()}if(2&t){const e=o.oxw(4);o.xp6(1),o.Q6J("ngForOf",e.yearOptions)}}function ise(t,i){if(1&t&&(o.TgZ(0,"span",34),o._uU(1),o.qZA()),2&t){const e=o.oxw().$implicit,s=o.oxw(3);o.xp6(1),o.Oqu("month"===s.view?s.currentYear:e.year)}}function rse(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",35),o.NdJ("keydown",function(a){return o.CHM(e),o.oxw(4).onContainerButtonKeydown(a)})("click",function(a){return o.CHM(e),o.oxw(4).onNextButtonClick(a)}),o._UZ(1,"span",36),o.qZA()}}function sse(t,i){if(1&t&&(o.TgZ(0,"th",42),o.TgZ(1,"span"),o._uU(2),o.qZA(),o.qZA()),2&t){const e=o.oxw(5);o.xp6(2),o.Oqu(e.getTranslation("weekHeader"))}}function ose(t,i){if(1&t&&(o.TgZ(0,"th",43),o.TgZ(1,"span"),o._uU(2),o.qZA(),o.qZA()),2&t){const e=i.$implicit;o.xp6(2),o.Oqu(e)}}function ase(t,i){if(1&t&&(o.TgZ(0,"td",46),o.TgZ(1,"span",47),o._uU(2),o.qZA(),o.qZA()),2&t){const e=o.oxw().index,s=o.oxw(2).$implicit;o.xp6(2),o.hij(" ",s.weekNumbers[e]," ")}}function lse(t,i){if(1&t&&(o.ynx(0),o._uU(1),o.BQk()),2&t){const e=o.oxw(2).$implicit;o.xp6(1),o.Oqu(e.day)}}function cse(t,i){1&t&&o.GkF(0)}const FH=function(t,i){return{"p-highlight":t,"p-disabled":i}},use=function(t){return{$implicit:t}};function dse(t,i){if(1&t){const e=o.EpF();o.ynx(0),o.TgZ(1,"span",49),o.NdJ("click",function(a){o.CHM(e);const l=o.oxw().$implicit;return o.oxw(6).onDateSelect(a,l)})("keydown",function(a){o.CHM(e);const l=o.oxw().$implicit,h=o.oxw(3).index;return o.oxw(3).onDateCellKeydown(a,l,h)}),o.YNc(2,lse,2,1,"ng-container",11),o.YNc(3,cse,1,0,"ng-container",50),o.qZA(),o.BQk()}if(2&t){const e=o.oxw().$implicit,s=o.oxw(6);o.xp6(1),o.Q6J("ngClass",o.WLB(4,FH,s.isSelected(e),!e.selectable)),o.xp6(1),o.Q6J("ngIf",!s.dateTemplate),o.xp6(1),o.Q6J("ngTemplateOutlet",s.dateTemplate)("ngTemplateOutletContext",o.VKq(7,use,e))}}const hse=function(t,i){return{"p-datepicker-other-month":t,"p-datepicker-today":i}};function pse(t,i){if(1&t&&(o.TgZ(0,"td",48),o.YNc(1,dse,4,9,"ng-container",11),o.qZA()),2&t){const e=i.$implicit,s=o.oxw(6);o.Q6J("ngClass",o.WLB(2,hse,e.otherMonth,e.today)),o.xp6(1),o.Q6J("ngIf",!e.otherMonth||s.showOtherMonths)}}function fse(t,i){if(1&t&&(o.TgZ(0,"tr"),o.YNc(1,ase,3,1,"td",44),o.YNc(2,pse,2,5,"td",45),o.qZA()),2&t){const e=i.$implicit,s=o.oxw(5);o.xp6(1),o.Q6J("ngIf",s.showWeek),o.xp6(1),o.Q6J("ngForOf",e)}}function mse(t,i){if(1&t&&(o.TgZ(0,"div",37),o.TgZ(1,"table",38),o.TgZ(2,"thead"),o.TgZ(3,"tr"),o.YNc(4,sse,3,1,"th",39),o.YNc(5,ose,3,1,"th",40),o.qZA(),o.qZA(),o.TgZ(6,"tbody"),o.YNc(7,fse,3,2,"tr",41),o.qZA(),o.qZA(),o.qZA()),2&t){const e=o.oxw().$implicit,s=o.oxw(3);o.xp6(4),o.Q6J("ngIf",s.showWeek),o.xp6(1),o.Q6J("ngForOf",s.weekDays),o.xp6(2),o.Q6J("ngForOf",e.dates)}}function gse(t,i){if(1&t&&(o.TgZ(0,"div",17),o.TgZ(1,"div",18),o.YNc(2,Xre,2,0,"button",19),o.TgZ(3,"div",20),o.YNc(4,Jre,2,1,"span",21),o.YNc(5,ese,2,1,"select",22),o.YNc(6,nse,2,1,"select",23),o.YNc(7,ise,2,1,"span",24),o.qZA(),o.YNc(8,rse,2,0,"button",25),o.qZA(),o.YNc(9,mse,8,3,"div",26),o.qZA()),2&t){const e=i.index,s=o.oxw(3);o.xp6(2),o.Q6J("ngIf",0===e),o.xp6(2),o.Q6J("ngIf",!s.monthNavigator&&"month"!==s.view),o.xp6(1),o.Q6J("ngIf",s.monthNavigator&&"month"!==s.view&&1===s.numberOfMonths),o.xp6(1),o.Q6J("ngIf",s.yearNavigator&&1===s.numberOfMonths),o.xp6(1),o.Q6J("ngIf",!s.yearNavigator),o.xp6(1),o.Q6J("ngIf",1===s.numberOfMonths||e===s.numberOfMonths-1),o.xp6(1),o.Q6J("ngIf","date"===s.view)}}function _se(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"span",53),o.NdJ("click",function(a){const h=o.CHM(e).index;return o.oxw(4).onMonthSelect(a,h)})("keydown",function(a){const h=o.CHM(e).index;return o.oxw(4).onMonthCellKeydown(a,h)}),o._uU(1),o.qZA()}if(2&t){const e=i.$implicit,s=i.index,a=o.oxw(4);o.Q6J("ngClass",o.WLB(2,FH,a.isMonthSelected(s),!a.isSelectable(1,s,a.currentYear,!1))),o.xp6(1),o.hij(" ",e," ")}}function yse(t,i){if(1&t&&(o.TgZ(0,"div",51),o.YNc(1,_se,2,5,"span",52),o.qZA()),2&t){const e=o.oxw(3);o.xp6(1),o.Q6J("ngForOf",e.monthPickerValues)}}function vse(t,i){if(1&t&&(o.ynx(0),o.TgZ(1,"div",14),o.YNc(2,gse,10,7,"div",15),o.qZA(),o.YNc(3,yse,2,1,"div",16),o.BQk()),2&t){const e=o.oxw(2);o.xp6(2),o.Q6J("ngForOf",e.months),o.xp6(1),o.Q6J("ngIf","month"===e.view)}}function bse(t,i){1&t&&(o.ynx(0),o._uU(1,"0"),o.BQk())}function xse(t,i){1&t&&(o.ynx(0),o._uU(1,"0"),o.BQk())}function wse(t,i){if(1&t&&(o.TgZ(0,"div",59),o.TgZ(1,"span"),o._uU(2),o.qZA(),o.qZA()),2&t){const e=o.oxw(3);o.xp6(2),o.Oqu(e.timeSeparator)}}function Cse(t,i){1&t&&(o.ynx(0),o._uU(1,"0"),o.BQk())}function Mse(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",64),o.TgZ(1,"button",56),o.NdJ("keydown",function(a){return o.CHM(e),o.oxw(3).onContainerButtonKeydown(a)})("keydown.enter",function(a){return o.CHM(e),o.oxw(3).incrementSecond(a)})("mousedown",function(a){return o.CHM(e),o.oxw(3).onTimePickerElementMouseDown(a,2,1)})("mouseup",function(a){return o.CHM(e),o.oxw(3).onTimePickerElementMouseUp(a)})("mouseleave",function(){return o.CHM(e),o.oxw(3).onTimePickerElementMouseLeave()}),o._UZ(2,"span",57),o.qZA(),o.TgZ(3,"span"),o.YNc(4,Cse,2,0,"ng-container",11),o._uU(5),o.qZA(),o.TgZ(6,"button",56),o.NdJ("keydown",function(a){return o.CHM(e),o.oxw(3).onContainerButtonKeydown(a)})("keydown.enter",function(a){return o.CHM(e),o.oxw(3).decrementSecond(a)})("mousedown",function(a){return o.CHM(e),o.oxw(3).onTimePickerElementMouseDown(a,2,-1)})("mouseup",function(a){return o.CHM(e),o.oxw(3).onTimePickerElementMouseUp(a)})("mouseleave",function(){return o.CHM(e),o.oxw(3).onTimePickerElementMouseLeave()}),o._UZ(7,"span",58),o.qZA(),o.qZA()}if(2&t){const e=o.oxw(3);o.xp6(4),o.Q6J("ngIf",e.currentSecond<10),o.xp6(1),o.Oqu(e.currentSecond)}}function Tse(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",65),o.TgZ(1,"button",66),o.NdJ("keydown",function(a){return o.CHM(e),o.oxw(3).onContainerButtonKeydown(a)})("click",function(a){return o.CHM(e),o.oxw(3).toggleAMPM(a)})("keydown.enter",function(a){return o.CHM(e),o.oxw(3).toggleAMPM(a)}),o._UZ(2,"span",57),o.qZA(),o.TgZ(3,"span"),o._uU(4),o.qZA(),o.TgZ(5,"button",66),o.NdJ("keydown",function(a){return o.CHM(e),o.oxw(3).onContainerButtonKeydown(a)})("click",function(a){return o.CHM(e),o.oxw(3).toggleAMPM(a)})("keydown.enter",function(a){return o.CHM(e),o.oxw(3).toggleAMPM(a)}),o._UZ(6,"span",58),o.qZA(),o.qZA()}if(2&t){const e=o.oxw(3);o.xp6(4),o.Oqu(e.pm?"PM":"AM")}}function Sse(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",54),o.TgZ(1,"div",55),o.TgZ(2,"button",56),o.NdJ("keydown",function(a){return o.CHM(e),o.oxw(2).onContainerButtonKeydown(a)})("keydown.enter",function(a){return o.CHM(e),o.oxw(2).incrementHour(a)})("mousedown",function(a){return o.CHM(e),o.oxw(2).onTimePickerElementMouseDown(a,0,1)})("mouseup",function(a){return o.CHM(e),o.oxw(2).onTimePickerElementMouseUp(a)})("mouseleave",function(){return o.CHM(e),o.oxw(2).onTimePickerElementMouseLeave()}),o._UZ(3,"span",57),o.qZA(),o.TgZ(4,"span"),o.YNc(5,bse,2,0,"ng-container",11),o._uU(6),o.qZA(),o.TgZ(7,"button",56),o.NdJ("keydown",function(a){return o.CHM(e),o.oxw(2).onContainerButtonKeydown(a)})("keydown.enter",function(a){return o.CHM(e),o.oxw(2).decrementHour(a)})("mousedown",function(a){return o.CHM(e),o.oxw(2).onTimePickerElementMouseDown(a,0,-1)})("mouseup",function(a){return o.CHM(e),o.oxw(2).onTimePickerElementMouseUp(a)})("mouseleave",function(){return o.CHM(e),o.oxw(2).onTimePickerElementMouseLeave()}),o._UZ(8,"span",58),o.qZA(),o.qZA(),o.TgZ(9,"div",59),o.TgZ(10,"span"),o._uU(11),o.qZA(),o.qZA(),o.TgZ(12,"div",60),o.TgZ(13,"button",56),o.NdJ("keydown",function(a){return o.CHM(e),o.oxw(2).onContainerButtonKeydown(a)})("keydown.enter",function(a){return o.CHM(e),o.oxw(2).incrementMinute(a)})("mousedown",function(a){return o.CHM(e),o.oxw(2).onTimePickerElementMouseDown(a,1,1)})("mouseup",function(a){return o.CHM(e),o.oxw(2).onTimePickerElementMouseUp(a)})("mouseleave",function(){return o.CHM(e),o.oxw(2).onTimePickerElementMouseLeave()}),o._UZ(14,"span",57),o.qZA(),o.TgZ(15,"span"),o.YNc(16,xse,2,0,"ng-container",11),o._uU(17),o.qZA(),o.TgZ(18,"button",56),o.NdJ("keydown",function(a){return o.CHM(e),o.oxw(2).onContainerButtonKeydown(a)})("keydown.enter",function(a){return o.CHM(e),o.oxw(2).decrementMinute(a)})("mousedown",function(a){return o.CHM(e),o.oxw(2).onTimePickerElementMouseDown(a,1,-1)})("mouseup",function(a){return o.CHM(e),o.oxw(2).onTimePickerElementMouseUp(a)})("mouseleave",function(){return o.CHM(e),o.oxw(2).onTimePickerElementMouseLeave()}),o._UZ(19,"span",58),o.qZA(),o.qZA(),o.YNc(20,wse,3,1,"div",61),o.YNc(21,Mse,8,2,"div",62),o.YNc(22,Tse,7,1,"div",63),o.qZA()}if(2&t){const e=o.oxw(2);o.xp6(5),o.Q6J("ngIf",e.currentHour<10),o.xp6(1),o.Oqu(e.currentHour),o.xp6(5),o.Oqu(e.timeSeparator),o.xp6(5),o.Q6J("ngIf",e.currentMinute<10),o.xp6(1),o.Oqu(e.currentMinute),o.xp6(3),o.Q6J("ngIf",e.showSeconds),o.xp6(1),o.Q6J("ngIf",e.showSeconds),o.xp6(1),o.Q6J("ngIf","12"==e.hourFormat)}}const NH=function(t){return[t]};function kse(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",67),o.TgZ(1,"button",68),o.NdJ("keydown",function(a){return o.CHM(e),o.oxw(2).onContainerButtonKeydown(a)})("click",function(a){return o.CHM(e),o.oxw(2).onTodayButtonClick(a)}),o.qZA(),o.TgZ(2,"button",68),o.NdJ("keydown",function(a){return o.CHM(e),o.oxw(2).onContainerButtonKeydown(a)})("click",function(a){return o.CHM(e),o.oxw(2).onClearButtonClick(a)}),o.qZA(),o.qZA()}if(2&t){const e=o.oxw(2);o.xp6(1),o.Q6J("label",e.getTranslation("today"))("ngClass",o.VKq(4,NH,e.todayButtonStyleClass)),o.xp6(1),o.Q6J("label",e.getTranslation("clear"))("ngClass",o.VKq(6,NH,e.clearButtonStyleClass))}}function Ese(t,i){1&t&&o.GkF(0)}const Dse=function(t,i,e,s,a,l){return{"p-datepicker p-component":!0,"p-datepicker-inline":t,"p-disabled":i,"p-datepicker-timeonly":e,"p-datepicker-multiple-month":s,"p-datepicker-monthpicker":a,"p-datepicker-touch-ui":l}},zH=function(t,i){return{showTransitionParams:t,hideTransitionParams:i}},Ase=function(t){return{value:"visibleTouchUI",params:t}},Ise=function(t){return{value:"visible",params:t}};function Lse(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",8,9),o.NdJ("@overlayAnimation.start",function(a){return o.CHM(e),o.oxw().onOverlayAnimationStart(a)})("@overlayAnimation.done",function(a){return o.CHM(e),o.oxw().onOverlayAnimationDone(a)})("click",function(a){return o.CHM(e),o.oxw().onOverlayClick(a)}),o.Hsn(2),o.YNc(3,Qre,1,0,"ng-container",10),o.YNc(4,vse,4,2,"ng-container",11),o.YNc(5,Sse,23,8,"div",12),o.YNc(6,kse,3,8,"div",13),o.Hsn(7,1),o.YNc(8,Ese,1,0,"ng-container",10),o.qZA()}if(2&t){const e=o.oxw();o.Tol(e.panelStyleClass),o.Q6J("ngStyle",e.panelStyle)("ngClass",o.HTZ(11,Dse,e.inline,e.disabled,e.timeOnly,e.numberOfMonths>1,"month"===e.view,e.touchUI))("@overlayAnimation",e.touchUI?o.VKq(21,Ase,o.WLB(18,zH,e.showTransitionOptions,e.hideTransitionOptions)):o.VKq(26,Ise,o.WLB(23,zH,e.showTransitionOptions,e.hideTransitionOptions)))("@.disabled",!0===e.inline),o.xp6(3),o.Q6J("ngTemplateOutlet",e.headerTemplate),o.xp6(1),o.Q6J("ngIf",!e.timeOnly),o.xp6(1),o.Q6J("ngIf",e.showTime||e.timeOnly),o.xp6(1),o.Q6J("ngIf",e.showButtonBar),o.xp6(2),o.Q6J("ngTemplateOutlet",e.footerTemplate)}}const Pse=[[["p-header"]],[["p-footer"]]],Ose=function(t,i,e,s){return{"p-calendar":!0,"p-calendar-w-btn":t,"p-calendar-timeonly":i,"p-calendar-disabled":e,"p-focus":s}},Rse=["p-header","p-footer"],Fse={provide:Jl,useExisting:(0,o.Gpc)(()=>Nse),multi:!0};let Nse=(()=>{class t{constructor(e,s,a,l,h,v){this.el=e,this.renderer=s,this.cd=a,this.zone=l,this.config=h,this.overlayService=v,this.multipleSeparator=",",this.rangeSeparator="-",this.inline=!1,this.showOtherMonths=!0,this.icon="pi pi-calendar",this.shortYearCutoff="+10",this.hourFormat="24",this.stepHour=1,this.stepMinute=1,this.stepSecond=1,this.showSeconds=!1,this.showOnFocus=!0,this.showWeek=!1,this.dataType="date",this.selectionMode="single",this.todayButtonStyleClass="p-button-text",this.clearButtonStyleClass="p-button-text",this.autoZIndex=!0,this.baseZIndex=0,this.keepInvalid=!1,this.hideOnDateTimeSelect=!0,this.numberOfMonths=1,this.view="date",this.timeSeparator=":",this.focusTrap=!0,this.firstDayOfWeek=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onFocus=new o.vpe,this.onBlur=new o.vpe,this.onClose=new o.vpe,this.onSelect=new o.vpe,this.onInput=new o.vpe,this.onTodayClick=new o.vpe,this.onClearClick=new o.vpe,this.onMonthChange=new o.vpe,this.onYearChange=new o.vpe,this.onClickOutside=new o.vpe,this.onShow=new o.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.inputFieldValue=null,this.navigationState=null,this.convertTo24Hour=function(C,O){return"12"==this.hourFormat?12===C?O?12:0:O?C+12:C:C}}set content(e){this.contentViewChild=e,this.contentViewChild&&(this.isMonthNavigate?(Promise.resolve(null).then(()=>this.updateFocus()),this.isMonthNavigate=!1):this.initFocusableCell())}get defaultDate(){return this._defaultDate}set defaultDate(e){if(this._defaultDate=e,this.initialized){const s=e||new Date;this.currentMonth=s.getMonth(),this.currentYear=s.getFullYear(),this.initTime(s),this.createMonths(this.currentMonth,this.currentYear)}}get minDate(){return this._minDate}set minDate(e){this._minDate=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDates(){return this._disabledDates}set disabledDates(e){this._disabledDates=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDays(){return this._disabledDays}set disabledDays(e){this._disabledDays=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get yearRange(){return this._yearRange}set yearRange(e){if(this._yearRange=e,e){const s=e.split(":"),a=parseInt(s[0]),l=parseInt(s[1]);this.populateYearOptions(a,l)}}get showTime(){return this._showTime}set showTime(e){this._showTime=e,void 0===this.currentHour&&this.initTime(this.value||new Date),this.updateInputfield()}get locale(){return this._locale}set locale(e){console.warn("Locale property has no effect, use new i18n API instead.")}ngOnInit(){const e=this.defaultDate||new Date;this.currentMonth=e.getMonth(),this.currentYear=e.getFullYear(),"date"===this.view?(this.createWeekDays(),this.initTime(e),this.createMonths(this.currentMonth,this.currentYear),this.ticksTo1970=24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7):"month"===this.view&&this.createMonthPickerValues(),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.createWeekDays()}),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"date":this.dateTemplate=e.template;break;case"disabledDate":this.disabledDateTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;default:this.dateTemplate=e.template}})}getTranslation(e){return this.config.getTranslation(e)}populateYearOptions(e,s){this.yearOptions=[];for(let a=e;a<=s;a++)this.yearOptions.push(a)}createWeekDays(){this.weekDays=[];let e=this.firstDayOfWeek,s=this.getTranslation(qu.DAY_NAMES_MIN);for(let a=0;a<7;a++)this.weekDays.push(s[e]),e=6==e?0:++e}createMonthPickerValues(){this.monthPickerValues=[];let e=this.getTranslation(qu.MONTH_NAMES_SHORT);for(let s=0;s<=11;s++)this.monthPickerValues.push(e[s])}createMonths(e,s){this.months=this.months=[];for(let a=0;a<this.numberOfMonths;a++){let l=e+a,h=s;l>11&&(l=l%11-1,h=s+1),this.months.push(this.createMonth(l,h))}}getWeekNumber(e){let s=new Date(e.getTime());s.setDate(s.getDate()+4-(s.getDay()||7));let a=s.getTime();return s.setMonth(0),s.setDate(1),Math.floor(Math.round((a-s.getTime())/864e5)/7)+1}createMonth(e,s){let a=[],l=this.getFirstDayOfMonthIndex(e,s),h=this.getDaysCountInMonth(e,s),v=this.getDaysCountInPrevMonth(e,s),C=1,O=new Date,G=[],te=Math.ceil((h+l)/7);for(let pe=0;pe<te;pe++){let we=[];if(0==pe){for(let je=v-l+1;je<=v;je++){let tt=this.getPreviousMonthAndYear(e,s);we.push({day:je,month:tt.month,year:tt.year,otherMonth:!0,today:this.isToday(O,je,tt.month,tt.year),selectable:this.isSelectable(je,tt.month,tt.year,!0)})}let Le=7-we.length;for(let je=0;je<Le;je++)we.push({day:C,month:e,year:s,today:this.isToday(O,C,e,s),selectable:this.isSelectable(C,e,s,!1)}),C++}else for(let Le=0;Le<7;Le++){if(C>h){let je=this.getNextMonthAndYear(e,s);we.push({day:C-h,month:je.month,year:je.year,otherMonth:!0,today:this.isToday(O,C-h,je.month,je.year),selectable:this.isSelectable(C-h,je.month,je.year,!0)})}else we.push({day:C,month:e,year:s,today:this.isToday(O,C,e,s),selectable:this.isSelectable(C,e,s,!1)});C++}this.showWeek&&G.push(this.getWeekNumber(new Date(we[0].year,we[0].month,we[0].day))),a.push(we)}return{month:e,year:s,dates:a,weekNumbers:G}}initTime(e){this.pm=e.getHours()>11,this.showTime?(this.currentMinute=e.getMinutes(),this.currentSecond=e.getSeconds(),this.setCurrentHourPM(e.getHours())):this.timeOnly&&(this.currentMinute=0,this.currentHour=0,this.currentSecond=0)}navBackward(e){e.stopPropagation(),this.disabled?e.preventDefault():(this.isMonthNavigate=!0,"month"===this.view?(this.decrementYear(),setTimeout(()=>{this.updateFocus()},1)):(0===this.currentMonth?(this.currentMonth=11,this.decrementYear()):this.currentMonth--,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}navForward(e){e.stopPropagation(),this.disabled?e.preventDefault():(this.isMonthNavigate=!0,"month"===this.view?(this.incrementYear(),setTimeout(()=>{this.updateFocus()},1)):(11===this.currentMonth?(this.currentMonth=0,this.incrementYear()):this.currentMonth++,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}decrementYear(){if(this.currentYear--,this.yearNavigator&&this.currentYear<this.yearOptions[0]){let e=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]-e,this.yearOptions[this.yearOptions.length-1]-e)}}incrementYear(){if(this.currentYear++,this.yearNavigator&&this.currentYear>this.yearOptions[this.yearOptions.length-1]){let e=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]+e,this.yearOptions[this.yearOptions.length-1]+e)}}onDateSelect(e,s){!this.disabled&&s.selectable?(this.isMultipleSelection()&&this.isSelected(s)?(this.value=this.value.filter((a,l)=>!this.isDateEquals(a,s)),0===this.value.length&&(this.value=null),this.updateModel(this.value)):this.shouldSelectDate(s)&&this.selectDate(s),this.isSingleSelection()&&this.hideOnDateTimeSelect&&setTimeout(()=>{e.preventDefault(),this.hideOverlay(),this.mask&&this.disableModality(),this.cd.markForCheck()},150),this.updateInputfield(),e.preventDefault()):e.preventDefault()}shouldSelectDate(e){return!this.isMultipleSelection()||null==this.maxDateCount||this.maxDateCount>(this.value?this.value.length:0)}onMonthSelect(e,s){cn.hasClass(e.target,"p-disabled")||this.onDateSelect(e,{year:this.currentYear,month:s,day:1,selectable:!0})}updateInputfield(){let e="";if(this.value)if(this.isSingleSelection())e=this.formatDateTime(this.value);else if(this.isMultipleSelection())for(let s=0;s<this.value.length;s++)e+=this.formatDateTime(this.value[s]),s!==this.value.length-1&&(e+=this.multipleSeparator+" ");else if(this.isRangeSelection()&&this.value&&this.value.length){let a=this.value[1];e=this.formatDateTime(this.value[0]),a&&(e+=" "+this.rangeSeparator+" "+this.formatDateTime(a))}this.inputFieldValue=e,this.updateFilledState(),this.inputfieldViewChild&&this.inputfieldViewChild.nativeElement&&(this.inputfieldViewChild.nativeElement.value=this.inputFieldValue)}formatDateTime(e){let s=null;return e&&(this.timeOnly?s=this.formatTime(e):(s=this.formatDate(e,this.getDateFormat()),this.showTime&&(s+=" "+this.formatTime(e)))),s}setCurrentHourPM(e){"12"==this.hourFormat?(this.pm=e>11,this.currentHour=e>=12?12==e?12:e-12:0==e?12:e):this.currentHour=e}selectDate(e){let s=new Date(e.year,e.month,e.day);if(this.showTime&&(s.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),s.setMinutes(this.currentMinute),s.setSeconds(this.currentSecond)),this.minDate&&this.minDate>s&&(s=this.minDate,this.setCurrentHourPM(s.getHours()),this.currentMinute=s.getMinutes(),this.currentSecond=s.getSeconds()),this.maxDate&&this.maxDate<s&&(s=this.maxDate,this.setCurrentHourPM(s.getHours()),this.currentMinute=s.getMinutes(),this.currentSecond=s.getSeconds()),this.isSingleSelection())this.updateModel(s);else if(this.isMultipleSelection())this.updateModel(this.value?[...this.value,s]:[s]);else if(this.isRangeSelection())if(this.value&&this.value.length){let a=this.value[0],l=this.value[1];!l&&s.getTime()>=a.getTime()?l=s:(a=s,l=null),this.updateModel([a,l])}else this.updateModel([s,null]);this.onSelect.emit(s)}updateModel(e){if(this.value=e,"date"==this.dataType)this.onModelChange(this.value);else if("string"==this.dataType)if(this.isSingleSelection())this.onModelChange(this.formatDateTime(this.value));else{let s=null;this.value&&(s=this.value.map(a=>this.formatDateTime(a))),this.onModelChange(s)}}getFirstDayOfMonthIndex(e,s){let a=new Date;a.setDate(1),a.setMonth(e),a.setFullYear(s);let l=a.getDay()+this.getSundayIndex();return l>=7?l-7:l}getDaysCountInMonth(e,s){return 32-this.daylightSavingAdjust(new Date(s,e,32)).getDate()}getDaysCountInPrevMonth(e,s){let a=this.getPreviousMonthAndYear(e,s);return this.getDaysCountInMonth(a.month,a.year)}getPreviousMonthAndYear(e,s){let a,l;return 0===e?(a=11,l=s-1):(a=e-1,l=s),{month:a,year:l}}getNextMonthAndYear(e,s){let a,l;return 11===e?(a=0,l=s+1):(a=e+1,l=s),{month:a,year:l}}getSundayIndex(){return this.firstDayOfWeek>0?7-this.firstDayOfWeek:0}isSelected(e){if(!this.value)return!1;if(this.isSingleSelection())return this.isDateEquals(this.value,e);if(this.isMultipleSelection()){let s=!1;for(let a of this.value)if(s=this.isDateEquals(a,e),s)break;return s}return this.isRangeSelection()?this.value[1]?this.isDateEquals(this.value[0],e)||this.isDateEquals(this.value[1],e)||this.isDateBetween(this.value[0],this.value[1],e):this.isDateEquals(this.value[0],e):void 0}isMonthSelected(e){let s=this.value?Array.isArray(this.value)?this.value[0].getDate():this.value.getDate():1;return this.isSelected({year:this.currentYear,month:e,day:s,selectable:!0})}isDateEquals(e,s){return!!e&&e.getDate()===s.day&&e.getMonth()===s.month&&e.getFullYear()===s.year}isDateBetween(e,s,a){if(e&&s){let h=new Date(a.year,a.month,a.day);return e.getTime()<=h.getTime()&&s.getTime()>=h.getTime()}return!1}isSingleSelection(){return"single"===this.selectionMode}isRangeSelection(){return"range"===this.selectionMode}isMultipleSelection(){return"multiple"===this.selectionMode}isToday(e,s,a,l){return e.getDate()===s&&e.getMonth()===a&&e.getFullYear()===l}isSelectable(e,s,a,l){let h=!0,v=!0,C=!0,O=!0;return!(l&&!this.selectOtherMonths)&&(this.minDate&&(this.minDate.getFullYear()>a||this.minDate.getFullYear()===a&&(this.minDate.getMonth()>s||this.minDate.getMonth()===s&&this.minDate.getDate()>e))&&(h=!1),this.maxDate&&(this.maxDate.getFullYear()<a||this.maxDate.getFullYear()===a&&(this.maxDate.getMonth()<s||this.maxDate.getMonth()===s&&this.maxDate.getDate()<e))&&(v=!1),this.disabledDates&&(C=!this.isDateDisabled(e,s,a)),this.disabledDays&&(O=!this.isDayDisabled(e,s,a)),h&&v&&C&&O)}isDateDisabled(e,s,a){if(this.disabledDates)for(let l of this.disabledDates)if(l.getFullYear()===a&&l.getMonth()===s&&l.getDate()===e)return!0;return!1}isDayDisabled(e,s,a){if(this.disabledDays){let h=new Date(a,s,e).getDay();return-1!==this.disabledDays.indexOf(h)}return!1}onInputFocus(e){this.focus=!0,this.showOnFocus&&this.showOverlay(),this.onFocus.emit(e)}onInputClick(){this.showOnFocus&&!this.overlayVisible&&this.showOverlay()}onInputBlur(e){this.focus=!1,this.onBlur.emit(e),this.keepInvalid||this.updateInputfield(),this.onModelTouched()}onButtonClick(e,s){this.overlayVisible?this.hideOverlay():(s.focus(),this.showOverlay())}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}onPrevButtonClick(e){this.navigationState={backward:!0,button:!0},this.navBackward(e)}onNextButtonClick(e){this.navigationState={backward:!1,button:!0},this.navForward(e)}onContainerButtonKeydown(e){switch(e.which){case 9:this.inline||this.trapFocus(e);break;case 27:this.overlayVisible=!1,e.preventDefault()}}onInputKeydown(e){this.isKeydown=!0,40===e.keyCode&&this.contentViewChild?this.trapFocus(e):27===e.keyCode||13===e.keyCode?this.overlayVisible&&(this.overlayVisible=!1,e.preventDefault()):9===e.keyCode&&this.contentViewChild&&(cn.getFocusableElements(this.contentViewChild.nativeElement).forEach(s=>s.tabIndex="-1"),this.overlayVisible&&(this.overlayVisible=!1))}onDateCellKeydown(e,s,a){const l=e.currentTarget,h=l.parentElement;switch(e.which){case 40:{l.tabIndex="-1";let v=cn.index(h),C=h.parentElement.nextElementSibling;C?cn.hasClass(C.children[v].children[0],"p-disabled")?(this.navigationState={backward:!1},this.navForward(e)):(C.children[v].children[0].tabIndex="0",C.children[v].children[0].focus()):(this.navigationState={backward:!1},this.navForward(e)),e.preventDefault();break}case 38:{l.tabIndex="-1";let v=cn.index(h),C=h.parentElement.previousElementSibling;if(C){let O=C.children[v].children[0];cn.hasClass(O,"p-disabled")?(this.navigationState={backward:!0},this.navBackward(e)):(O.tabIndex="0",O.focus())}else this.navigationState={backward:!0},this.navBackward(e);e.preventDefault();break}case 37:{l.tabIndex="-1";let v=h.previousElementSibling;if(v){let C=v.children[0];cn.hasClass(C,"p-disabled")||cn.hasClass(C.parentElement,"p-datepicker-weeknumber")?this.navigateToMonth(!0,a):(C.tabIndex="0",C.focus())}else this.navigateToMonth(!0,a);e.preventDefault();break}case 39:{l.tabIndex="-1";let v=h.nextElementSibling;if(v){let C=v.children[0];cn.hasClass(C,"p-disabled")?this.navigateToMonth(!1,a):(C.tabIndex="0",C.focus())}else this.navigateToMonth(!1,a);e.preventDefault();break}case 13:this.onDateSelect(e,s),e.preventDefault();break;case 27:this.overlayVisible=!1,e.preventDefault();break;case 9:this.inline||this.trapFocus(e)}}onMonthCellKeydown(e,s){const a=e.currentTarget;switch(e.which){case 38:case 40:{a.tabIndex="-1";var l=a.parentElement.children,h=cn.index(a);let v=l[40===e.which?h+3:h-3];v&&(v.tabIndex="0",v.focus()),e.preventDefault();break}case 37:{a.tabIndex="-1";let v=a.previousElementSibling;v&&(v.tabIndex="0",v.focus()),e.preventDefault();break}case 39:{a.tabIndex="-1";let v=a.nextElementSibling;v&&(v.tabIndex="0",v.focus()),e.preventDefault();break}case 13:this.onMonthSelect(e,s),e.preventDefault();break;case 27:this.overlayVisible=!1,e.preventDefault();break;case 9:this.inline||this.trapFocus(e)}}navigateToMonth(e,s){if(e)if(1===this.numberOfMonths||0===s)this.navigationState={backward:!0},this.navBackward(event);else{let l=cn.find(this.contentViewChild.nativeElement.children[s-1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),h=l[l.length-1];h.tabIndex="0",h.focus()}else if(1===this.numberOfMonths||s===this.numberOfMonths-1)this.navigationState={backward:!1},this.navForward(event);else{let l=cn.findSingle(this.contentViewChild.nativeElement.children[s+1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");l.tabIndex="0",l.focus()}}updateFocus(){let e;if(this.navigationState){if(this.navigationState.button)this.initFocusableCell(),this.navigationState.backward?cn.findSingle(this.contentViewChild.nativeElement,".p-datepicker-prev").focus():cn.findSingle(this.contentViewChild.nativeElement,".p-datepicker-next").focus();else{if(this.navigationState.backward){let s=cn.find(this.contentViewChild.nativeElement,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");e=s[s.length-1]}else e=cn.findSingle(this.contentViewChild.nativeElement,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");e&&(e.tabIndex="0",e.focus())}this.navigationState=null}else this.initFocusableCell()}initFocusableCell(){let e;if("month"===this.view){let s=cn.find(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"),a=cn.findSingle(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month.p-highlight");s.forEach(l=>l.tabIndex=-1),e=a||s[0],0===s.length&&cn.find(this.contentViewChild.nativeElement,'.p-monthpicker .p-monthpicker-month.p-disabled[tabindex = "0"]').forEach(h=>h.tabIndex=-1)}else if(e=cn.findSingle(this.contentViewChild.nativeElement,"span.p-highlight"),!e){e=cn.findSingle(this.contentViewChild.nativeElement,"td.p-datepicker-today span:not(.p-disabled):not(.p-ink)")||cn.findSingle(this.contentViewChild.nativeElement,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)")}e&&(e.tabIndex="0")}trapFocus(e){let s=cn.getFocusableElements(this.contentViewChild.nativeElement);if(s&&s.length>0)if(s[0].ownerDocument.activeElement){let a=s.indexOf(s[0].ownerDocument.activeElement);if(e.shiftKey)if(-1==a||0===a)if(this.focusTrap)s[s.length-1].focus();else{if(-1===a)return this.hideOverlay();if(0===a)return}else s[a-1].focus();else if(-1==a||a===s.length-1){if(!this.focusTrap&&-1!=a)return this.hideOverlay();s[0].focus()}else s[a+1].focus()}else s[0].focus();e.preventDefault()}onMonthDropdownChange(e){this.currentMonth=parseInt(e),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}onYearDropdownChange(e){this.currentYear=parseInt(e),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}validateTime(e,s,a,l){let h=this.value;const v=this.convertTo24Hour(e,l);this.isRangeSelection()&&(h=this.value[1]||this.value[0]),this.isMultipleSelection()&&(h=this.value[this.value.length-1]);const C=h?h.toDateString():null;return!(this.minDate&&C&&this.minDate.toDateString()===C&&(this.minDate.getHours()>v||this.minDate.getHours()===v&&(this.minDate.getMinutes()>s||this.minDate.getMinutes()===s&&this.minDate.getSeconds()>a))||this.maxDate&&C&&this.maxDate.toDateString()===C&&(this.maxDate.getHours()<v||this.maxDate.getHours()===v&&(this.maxDate.getMinutes()<s||this.maxDate.getMinutes()===s&&this.maxDate.getSeconds()<a)))}incrementHour(e){let a=this.currentHour+this.stepHour,l=this.pm;"24"==this.hourFormat?a=a>=24?a-24:a:"12"==this.hourFormat&&(this.currentHour<12&&a>11&&(l=!this.pm),a=a>=13?a-12:a),this.validateTime(a,this.currentMinute,this.currentSecond,l)&&(this.currentHour=a,this.pm=l),e.preventDefault()}onTimePickerElementMouseDown(e,s,a){this.disabled||(this.repeat(e,null,s,a),e.preventDefault())}onTimePickerElementMouseUp(e){this.disabled||(this.clearTimePickerTimer(),this.updateTime())}onTimePickerElementMouseLeave(){!this.disabled&&this.timePickerTimer&&(this.clearTimePickerTimer(),this.updateTime())}repeat(e,s,a,l){let h=s||500;switch(this.clearTimePickerTimer(),this.timePickerTimer=setTimeout(()=>{this.repeat(e,100,a,l),this.cd.markForCheck()},h),a){case 0:1===l?this.incrementHour(e):this.decrementHour(e);break;case 1:1===l?this.incrementMinute(e):this.decrementMinute(e);break;case 2:1===l?this.incrementSecond(e):this.decrementSecond(e)}this.updateInputfield()}clearTimePickerTimer(){this.timePickerTimer&&(clearTimeout(this.timePickerTimer),this.timePickerTimer=null)}decrementHour(e){let s=this.currentHour-this.stepHour,a=this.pm;"24"==this.hourFormat?s=s<0?24+s:s:"12"==this.hourFormat&&(12===this.currentHour&&(a=!this.pm),s=s<=0?12+s:s),this.validateTime(s,this.currentMinute,this.currentSecond,a)&&(this.currentHour=s,this.pm=a),e.preventDefault()}incrementMinute(e){let s=this.currentMinute+this.stepMinute;s=s>59?s-60:s,this.validateTime(this.currentHour,s,this.currentSecond,this.pm)&&(this.currentMinute=s),e.preventDefault()}decrementMinute(e){let s=this.currentMinute-this.stepMinute;s=s<0?60+s:s,this.validateTime(this.currentHour,s,this.currentSecond,this.pm)&&(this.currentMinute=s),e.preventDefault()}incrementSecond(e){let s=this.currentSecond+this.stepSecond;s=s>59?s-60:s,this.validateTime(this.currentHour,this.currentMinute,s,this.pm)&&(this.currentSecond=s),e.preventDefault()}decrementSecond(e){let s=this.currentSecond-this.stepSecond;s=s<0?60+s:s,this.validateTime(this.currentHour,this.currentMinute,s,this.pm)&&(this.currentSecond=s),e.preventDefault()}updateTime(){let e=this.value;this.isRangeSelection()&&(e=this.value[1]||this.value[0]),this.isMultipleSelection()&&(e=this.value[this.value.length-1]),e=e?new Date(e.getTime()):new Date,e.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),e.setMinutes(this.currentMinute),e.setSeconds(this.currentSecond),this.isRangeSelection()&&(e=this.value[1]?[this.value[0],e]:[e,null]),this.isMultipleSelection()&&(e=[...this.value.slice(0,-1),e]),this.updateModel(e),this.onSelect.emit(e),this.updateInputfield()}toggleAMPM(e){const s=!this.pm;this.validateTime(this.currentHour,this.currentMinute,this.currentSecond,s)&&(this.pm=s,this.updateTime()),e.preventDefault()}onUserInput(e){if(!this.isKeydown)return;this.isKeydown=!1;let s=e.target.value;try{let a=this.parseValueFromString(s);this.isValidSelection(a)&&(this.updateModel(a),this.updateUI())}catch(a){this.updateModel(null)}this.filled=null!=s&&s.length,this.onInput.emit(e)}isValidSelection(e){let s=!0;return this.isSingleSelection()?this.isSelectable(e.getDate(),e.getMonth(),e.getFullYear(),!1)||(s=!1):e.every(a=>this.isSelectable(a.getDate(),a.getMonth(),a.getFullYear(),!1))&&this.isRangeSelection()&&(s=e.length>1&&e[1]>e[0]),s}parseValueFromString(e){if(!e||0===e.trim().length)return null;let s;if(this.isSingleSelection())s=this.parseDateTime(e);else if(this.isMultipleSelection()){let a=e.split(this.multipleSeparator);s=[];for(let l of a)s.push(this.parseDateTime(l.trim()))}else if(this.isRangeSelection()){let a=e.split(" "+this.rangeSeparator+" ");s=[];for(let l=0;l<a.length;l++)s[l]=this.parseDateTime(a[l].trim())}return s}parseDateTime(e){let s,a=e.split(" ");if(this.timeOnly)s=new Date,this.populateTime(s,a[0],a[1]);else{const l=this.getDateFormat();if(this.showTime){let h="12"==this.hourFormat?a.pop():null,v=a.pop();s=this.parseDate(a.join(" "),l),this.populateTime(s,v,h)}else s=this.parseDate(e,l)}return s}populateTime(e,s,a){if("12"==this.hourFormat&&!a)throw"Invalid Time";this.pm="PM"===a||"pm"===a;let l=this.parseTime(s);e.setHours(l.hour),e.setMinutes(l.minute),e.setSeconds(l.second)}updateUI(){let e=this.value||this.defaultDate||new Date;Array.isArray(e)&&(e=e[0]),this.currentMonth=e.getMonth(),this.currentYear=e.getFullYear(),this.createMonths(this.currentMonth,this.currentYear),(this.showTime||this.timeOnly)&&(this.setCurrentHourPM(e.getHours()),this.currentMinute=e.getMinutes(),this.currentSecond=e.getSeconds())}showOverlay(){this.overlayVisible||(this.updateUI(),this.overlayVisible=!0)}hideOverlay(){this.overlayVisible=!1,this.clearTimePickerTimer(),this.touchUI&&this.disableModality(),this.cd.markForCheck()}toggle(){this.inline||(this.overlayVisible?this.hideOverlay():(this.showOverlay(),this.inputfieldViewChild.nativeElement.focus()))}onOverlayAnimationStart(e){switch(e.toState){case"visible":case"visibleTouchUI":this.inline||(this.overlay=e.element,this.appendOverlay(),this.autoZIndex&&(this.touchUI?ru.set("modal",this.overlay,this.baseZIndex||this.config.zIndex.modal):ru.set("overlay",this.overlay,this.baseZIndex||this.config.zIndex.overlay)),this.alignOverlay(),this.onShow.emit(e));break;case"void":this.onOverlayHide(),this.onClose.emit(e)}}onOverlayAnimationDone(e){switch(e.toState){case"visible":case"visibleTouchUI":this.inline||(this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.autoZIndex&&ru.clear(e.element)}}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):cn.appendChild(this.overlay,this.appendTo))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.touchUI?this.enableModality(this.overlay):this.appendTo?cn.absolutePosition(this.overlay,this.inputfieldViewChild.nativeElement):cn.relativePosition(this.overlay,this.inputfieldViewChild.nativeElement)}enableModality(e){this.mask||(this.mask=document.createElement("div"),this.mask.style.zIndex=String(parseInt(e.style.zIndex)-1),cn.addMultipleClasses(this.mask,"p-component-overlay p-datepicker-mask p-datepicker-mask-scrollblocker"),this.maskClickListener=this.renderer.listen(this.mask,"click",a=>{this.disableModality()}),document.body.appendChild(this.mask),cn.addClass(document.body,"p-overflow-hidden"))}disableModality(){if(this.mask){document.body.removeChild(this.mask);let s,e=document.body.children;for(let a=0;a<e.length;a++)if(cn.hasClass(e[a],"p-datepicker-mask-scrollblocker")){s=!0;break}s||cn.removeClass(document.body,"p-overflow-hidden"),this.unbindMaskClickListener(),this.mask=null}}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}writeValue(e){this.value=e,this.value&&"string"==typeof this.value&&(this.value=this.parseValueFromString(this.value)),this.updateInputfield(),this.updateUI(),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}getDateFormat(){return this.dateFormat||this.getTranslation("dateFormat")}formatDate(e,s){if(!e)return"";let a;const l=G=>{const te=a+1<s.length&&s.charAt(a+1)===G;return te&&a++,te},h=(G,te,pe)=>{let we=""+te;if(l(G))for(;we.length<pe;)we="0"+we;return we},v=(G,te,pe,we)=>l(G)?we[te]:pe[te];let C="",O=!1;if(e)for(a=0;a<s.length;a++)if(O)"'"!==s.charAt(a)||l("'")?C+=s.charAt(a):O=!1;else switch(s.charAt(a)){case"d":C+=h("d",e.getDate(),2);break;case"D":C+=v("D",e.getDay(),this.getTranslation(qu.DAY_NAMES_SHORT),this.getTranslation(qu.DAY_NAMES));break;case"o":C+=h("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":C+=h("m",e.getMonth()+1,2);break;case"M":C+=v("M",e.getMonth(),this.getTranslation(qu.MONTH_NAMES_SHORT),this.getTranslation(qu.MONTH_NAMES));break;case"y":C+=l("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":C+=e.getTime();break;case"!":C+=1e4*e.getTime()+this.ticksTo1970;break;case"'":l("'")?C+="'":O=!0;break;default:C+=s.charAt(a)}return C}formatTime(e){if(!e)return"";let s="",a=e.getHours(),l=e.getMinutes(),h=e.getSeconds();return"12"==this.hourFormat&&a>11&&12!=a&&(a-=12),s+="12"==this.hourFormat&&0===a?12:a<10?"0"+a:a,s+=":",s+=l<10?"0"+l:l,this.showSeconds&&(s+=":",s+=h<10?"0"+h:h),"12"==this.hourFormat&&(s+=e.getHours()>11?" PM":" AM"),s}parseTime(e){let s=e.split(":");if(s.length!==(this.showSeconds?3:2))throw"Invalid time";let l=parseInt(s[0]),h=parseInt(s[1]),v=this.showSeconds?parseInt(s[2]):null;if(isNaN(l)||isNaN(h)||l>23||h>59||"12"==this.hourFormat&&l>12||this.showSeconds&&(isNaN(v)||v>59))throw"Invalid time";return"12"==this.hourFormat&&(12!==l&&this.pm?l+=12:!this.pm&&12===l&&(l-=12)),{hour:l,minute:h,second:v}}parseDate(e,s){if(null==s||null==e)throw"Invalid arguments";if(""===(e="object"==typeof e?e.toString():e+""))return null;let a,l,h,Le,v=0,C="string"!=typeof this.shortYearCutoff?this.shortYearCutoff:(new Date).getFullYear()%100+parseInt(this.shortYearCutoff,10),O=-1,G=-1,te=-1,pe=-1,we=!1,je=tn=>{let gn=a+1<s.length&&s.charAt(a+1)===tn;return gn&&a++,gn},tt=tn=>{let gn=je(tn),pn="@"===tn?14:"!"===tn?20:"y"===tn&&gn?4:"o"===tn?3:2,si=new RegExp("^\\d{"+("y"===tn?pn:1)+","+pn+"}"),Li=e.substring(v).match(si);if(!Li)throw"Missing number at position "+v;return v+=Li[0].length,parseInt(Li[0],10)},yt=(tn,gn,pn)=>{let qn=-1,si=je(tn)?pn:gn,Li=[];for(let Ii=0;Ii<si.length;Ii++)Li.push([Ii,si[Ii]]);Li.sort((Ii,xs)=>-(Ii[1].length-xs[1].length));for(let Ii=0;Ii<Li.length;Ii++){let xs=Li[Ii][1];if(e.substr(v,xs.length).toLowerCase()===xs.toLowerCase()){qn=Li[Ii][0],v+=xs.length;break}}if(-1!==qn)return qn+1;throw"Unknown name at position "+v},Zt=()=>{if(e.charAt(v)!==s.charAt(a))throw"Unexpected literal at position "+v;v++};for("month"===this.view&&(te=1),a=0;a<s.length;a++)if(we)"'"!==s.charAt(a)||je("'")?Zt():we=!1;else switch(s.charAt(a)){case"d":te=tt("d");break;case"D":yt("D",this.getTranslation(qu.DAY_NAMES_SHORT),this.getTranslation(qu.DAY_NAMES));break;case"o":pe=tt("o");break;case"m":G=tt("m");break;case"M":G=yt("M",this.getTranslation(qu.MONTH_NAMES_SHORT),this.getTranslation(qu.MONTH_NAMES));break;case"y":O=tt("y");break;case"@":Le=new Date(tt("@")),O=Le.getFullYear(),G=Le.getMonth()+1,te=Le.getDate();break;case"!":Le=new Date((tt("!")-this.ticksTo1970)/1e4),O=Le.getFullYear(),G=Le.getMonth()+1,te=Le.getDate();break;case"'":je("'")?Zt():we=!0;break;default:Zt()}if(v<e.length&&(h=e.substr(v),!/^\s+/.test(h)))throw"Extra/unparsed characters found in date: "+h;if(-1===O?O=(new Date).getFullYear():O<100&&(O+=(new Date).getFullYear()-(new Date).getFullYear()%100+(O<=C?0:-100)),pe>-1)for(G=1,te=pe;l=this.getDaysCountInMonth(O,G-1),!(te<=l);)G++,te-=l;if(Le=this.daylightSavingAdjust(new Date(O,G-1,te)),Le.getFullYear()!==O||Le.getMonth()+1!==G||Le.getDate()!==te)throw"Invalid date";return Le}daylightSavingAdjust(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null}updateFilledState(){this.filled=this.inputFieldValue&&""!=this.inputFieldValue}onTodayButtonClick(e){let s=new Date,a={day:s.getDate(),month:s.getMonth(),year:s.getFullYear(),otherMonth:s.getMonth()!==this.currentMonth||s.getFullYear()!==this.currentYear,today:!0,selectable:!0};this.onDateSelect(e,a),this.onTodayClick.emit(e)}onClearButtonClick(e){this.updateModel(null),this.updateInputfield(),this.hideOverlay(),this.onClearClick.emit(e)}bindDocumentClickListener(){this.documentClickListener||this.zone.runOutsideAngular(()=>{this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",s=>{this.isOutsideClicked(s)&&this.overlayVisible&&this.zone.run(()=>{this.hideOverlay(),this.onClickOutside.emit(s),this.cd.markForCheck()})})})}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){!this.documentResizeListener&&!this.touchUI&&(this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener))}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new SC(this.containerViewChild.nativeElement,()=>{this.overlayVisible&&this.hideOverlay()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}isOutsideClicked(e){return!(this.el.nativeElement.isSameNode(e.target)||this.isNavIconClicked(e)||this.el.nativeElement.contains(e.target)||this.overlay&&this.overlay.contains(e.target))}isNavIconClicked(e){return cn.hasClass(e.target,"p-datepicker-prev")||cn.hasClass(e.target,"p-datepicker-prev-icon")||cn.hasClass(e.target,"p-datepicker-next")||cn.hasClass(e.target,"p-datepicker-next-icon")}onWindowResize(){this.overlayVisible&&!cn.isAndroid()&&this.hideOverlay()}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindMaskClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null,this.disableModality()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.overlay&&this.autoZIndex&&ru.clear(this.overlay),this.clearTimePickerTimer(),this.restoreOverlayAppend(),this.onOverlayHide()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(o.sBO),o.Y36(o.R0b),o.Y36(_m),o.Y36(U0))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-calendar"]],contentQueries:function(e,s,a){if(1&e&&o.Suo(a,Rl,4),2&e){let l;o.iGM(l=o.CRH())&&(s.templates=l)}},viewQuery:function(e,s){if(1&e&&(o.Gf(Zre,5),o.Gf(Gre,5),o.Gf(Wre,5)),2&e){let a;o.iGM(a=o.CRH())&&(s.containerViewChild=a.first),o.iGM(a=o.CRH())&&(s.inputfieldViewChild=a.first),o.iGM(a=o.CRH())&&(s.content=a.first)}},hostVars:4,hostBindings:function(e,s){2&e&&o.ekj("p-inputwrapper-filled",s.filled)("p-inputwrapper-focus",s.focus)},inputs:{style:"style",styleClass:"styleClass",inputStyle:"inputStyle",inputId:"inputId",name:"name",inputStyleClass:"inputStyleClass",placeholder:"placeholder",ariaLabelledBy:"ariaLabelledBy",disabled:"disabled",dateFormat:"dateFormat",multipleSeparator:"multipleSeparator",rangeSeparator:"rangeSeparator",inline:"inline",showOtherMonths:"showOtherMonths",selectOtherMonths:"selectOtherMonths",showIcon:"showIcon",icon:"icon",appendTo:"appendTo",readonlyInput:"readonlyInput",shortYearCutoff:"shortYearCutoff",monthNavigator:"monthNavigator",yearNavigator:"yearNavigator",hourFormat:"hourFormat",timeOnly:"timeOnly",stepHour:"stepHour",stepMinute:"stepMinute",stepSecond:"stepSecond",showSeconds:"showSeconds",required:"required",showOnFocus:"showOnFocus",showWeek:"showWeek",dataType:"dataType",selectionMode:"selectionMode",maxDateCount:"maxDateCount",showButtonBar:"showButtonBar",todayButtonStyleClass:"todayButtonStyleClass",clearButtonStyleClass:"clearButtonStyleClass",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",panelStyleClass:"panelStyleClass",panelStyle:"panelStyle",keepInvalid:"keepInvalid",hideOnDateTimeSelect:"hideOnDateTimeSelect",numberOfMonths:"numberOfMonths",view:"view",touchUI:"touchUI",timeSeparator:"timeSeparator",focusTrap:"focusTrap",firstDayOfWeek:"firstDayOfWeek",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",tabindex:"tabindex",defaultDate:"defaultDate",minDate:"minDate",maxDate:"maxDate",disabledDates:"disabledDates",disabledDays:"disabledDays",yearRange:"yearRange",showTime:"showTime",locale:"locale"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClose:"onClose",onSelect:"onSelect",onInput:"onInput",onTodayClick:"onTodayClick",onClearClick:"onClearClick",onMonthChange:"onMonthChange",onYearChange:"onYearChange",onClickOutside:"onClickOutside",onShow:"onShow"},features:[o._Bn([Fse])],ngContentSelectors:Rse,decls:4,vars:11,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"ngIf"],[3,"class","ngStyle","ngClass","click",4,"ngIf"],["type","text","autocomplete","off",3,"value","readonly","ngStyle","placeholder","disabled","ngClass","focus","keydown","click","blur","input"],["inputfield",""],["type","button","pButton","","pRipple","","class","p-datepicker-trigger","tabindex","0",3,"icon","disabled","click",4,"ngIf"],["type","button","pButton","","pRipple","","tabindex","0",1,"p-datepicker-trigger",3,"icon","disabled","click"],[3,"ngStyle","ngClass","click"],["contentWrapper",""],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-timepicker",4,"ngIf"],["class","p-datepicker-buttonbar",4,"ngIf"],[1,"p-datepicker-group-container"],["class","p-datepicker-group",4,"ngFor","ngForOf"],["class","p-monthpicker",4,"ngIf"],[1,"p-datepicker-group"],[1,"p-datepicker-header"],["class","p-datepicker-prev p-link","type","button","pRipple","",3,"keydown","click",4,"ngIf"],[1,"p-datepicker-title"],["class","p-datepicker-month",4,"ngIf"],["tabindex","0","class","p-datepicker-month",3,"change",4,"ngIf"],["tabindex","0","class","p-datepicker-year",3,"change",4,"ngIf"],["class","p-datepicker-year",4,"ngIf"],["class","p-datepicker-next p-link","type","button","pRipple","",3,"keydown","click",4,"ngIf"],["class","p-datepicker-calendar-container",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-prev","p-link",3,"keydown","click"],[1,"p-datepicker-prev-icon","pi","pi-chevron-left"],[1,"p-datepicker-month"],["tabindex","0",1,"p-datepicker-month",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],[3,"value","selected"],["tabindex","0",1,"p-datepicker-year",3,"change"],[1,"p-datepicker-year"],["type","button","pRipple","",1,"p-datepicker-next","p-link",3,"keydown","click"],[1,"p-datepicker-next-icon","pi","pi-chevron-right"],[1,"p-datepicker-calendar-container"],[1,"p-datepicker-calendar"],["class","p-datepicker-weekheader p-disabled",4,"ngIf"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"p-datepicker-weekheader","p-disabled"],["scope","col"],["class","p-datepicker-weeknumber",4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"p-datepicker-weeknumber"],[1,"p-disabled"],[3,"ngClass"],["draggable","false","pRipple","",3,"ngClass","click","keydown"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-monthpicker"],["class","p-monthpicker-month","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-monthpicker-month",3,"ngClass","click","keydown"],[1,"p-timepicker"],[1,"p-hour-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","keydown.enter","mousedown","mouseup","mouseleave"],[1,"pi","pi-chevron-up"],[1,"pi","pi-chevron-down"],[1,"p-separator"],[1,"p-minute-picker"],["class","p-separator",4,"ngIf"],["class","p-second-picker",4,"ngIf"],["class","p-ampm-picker",4,"ngIf"],[1,"p-second-picker"],[1,"p-ampm-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","click","keydown.enter"],[1,"p-datepicker-buttonbar"],["type","button","pButton","","pRipple","",3,"label","ngClass","keydown","click"]],template:function(e,s){1&e&&(o.F$t(Pse),o.TgZ(0,"span",0,1),o.YNc(2,$re,3,16,"ng-template",2),o.YNc(3,Lse,9,28,"div",3),o.qZA()),2&e&&(o.Tol(s.styleClass),o.Q6J("ngClass",o.l5B(6,Ose,s.showIcon,s.timeOnly,s.disabled,s.focus))("ngStyle",s.style),o.xp6(2),o.Q6J("ngIf",!s.inline),o.xp6(1),o.Q6J("ngIf",s.inline||s.overlayVisible))},directives:[he,qi,un,ox,Km,jr,mt],styles:[".p-calendar{position:relative;display:inline-flex}.p-calendar .p-inputtext{flex:1 1 auto;width:1%}.p-calendar-w-btn .p-inputtext{border-top-right-radius:0;border-bottom-right-radius:0}.p-calendar-w-btn .p-datepicker-trigger{border-top-left-radius:0;border-bottom-left-radius:0}.p-fluid .p-calendar{display:flex}.p-fluid .p-calendar .p-inputtext{width:1%}.p-calendar .p-datepicker{min-width:100%}.p-datepicker{width:auto;position:absolute;top:0;left:0}.p-datepicker-inline{position:static}.p-datepicker-header{display:flex;align-items:center;justify-content:space-between}.p-datepicker-header .p-datepicker-title{margin:0 auto}.p-datepicker-next,.p-datepicker-prev{cursor:pointer;display:inline-flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-datepicker-multiple-month .p-datepicker-group-container{display:flex}.p-datepicker table{width:100%;border-collapse:collapse}.p-datepicker td>span{display:flex;margin:0 auto}.p-datepicker td>span,.p-monthpicker-month{justify-content:center;align-items:center;cursor:pointer;overflow:hidden;position:relative}.p-monthpicker-month{width:33.3%;display:inline-flex}.p-datepicker-buttonbar{display:flex;justify-content:space-between;align-items:center}.p-timepicker,.p-timepicker button{display:flex;justify-content:center;align-items:center}.p-timepicker button{cursor:pointer;overflow:hidden;position:relative}.p-timepicker>div{display:flex;align-items:center;flex-direction:column}.p-calendar .p-datepicker-touch-ui,.p-datepicker-touch-ui{position:fixed;top:50%;left:50%;min-width:80vw;transform:translate(-50%,-50%)}"],encapsulation:2,data:{animation:[oa("overlayAnimation",[bo("visibleTouchUI",oi({transform:"translate(-50%,-50%)",opacity:1})),Ir("void => visible",[oi({opacity:0,transform:"scaleY(0.8)"}),qr("{{showTransitionParams}}",oi({opacity:1,transform:"*"}))]),Ir("visible => void",[qr("{{hideTransitionParams}}",oi({opacity:0}))]),Ir("void => visibleTouchUI",[oi({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}),qr("{{showTransitionParams}}")]),Ir("visibleTouchUI => void",[qr("{{hideTransitionParams}}",oi({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}))])])]},changeDetection:0}),t})(),zse=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Ji,Ob,Ha,Bh],Ob,Ha]}),t})();const Bse=["input"],BH=function(){return{"p-inputnumber-button p-inputnumber-button-up":!0}},YH=function(){return{"p-inputnumber-button p-inputnumber-button-down":!0}};function Yse(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"span",5),o.TgZ(1,"button",6),o.NdJ("mousedown",function(a){return o.CHM(e),o.oxw().onUpButtonMouseDown(a)})("mouseup",function(){return o.CHM(e),o.oxw().onUpButtonMouseUp()})("mouseleave",function(){return o.CHM(e),o.oxw().onUpButtonMouseLeave()})("keydown",function(a){return o.CHM(e),o.oxw().onUpButtonKeyDown(a)})("keyup",function(){return o.CHM(e),o.oxw().onUpButtonKeyUp()}),o.qZA(),o.TgZ(2,"button",6),o.NdJ("mousedown",function(a){return o.CHM(e),o.oxw().onDownButtonMouseDown(a)})("mouseup",function(){return o.CHM(e),o.oxw().onDownButtonMouseUp()})("mouseleave",function(){return o.CHM(e),o.oxw().onDownButtonMouseLeave()})("keydown",function(a){return o.CHM(e),o.oxw().onDownButtonKeyDown(a)})("keyup",function(){return o.CHM(e),o.oxw().onDownButtonKeyUp()}),o.qZA(),o.qZA()}if(2&t){const e=o.oxw();o.xp6(1),o.Tol(e.incrementButtonClass),o.Q6J("ngClass",o.DdM(10,BH))("icon",e.incrementButtonIcon)("disabled",e.disabled),o.xp6(1),o.Tol(e.decrementButtonClass),o.Q6J("ngClass",o.DdM(11,YH))("icon",e.decrementButtonIcon)("disabled",e.disabled)}}function Hse(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",6),o.NdJ("mousedown",function(a){return o.CHM(e),o.oxw().onUpButtonMouseDown(a)})("mouseup",function(){return o.CHM(e),o.oxw().onUpButtonMouseUp()})("mouseleave",function(){return o.CHM(e),o.oxw().onUpButtonMouseLeave()})("keydown",function(a){return o.CHM(e),o.oxw().onUpButtonKeyDown(a)})("keyup",function(){return o.CHM(e),o.oxw().onUpButtonKeyUp()}),o.qZA()}if(2&t){const e=o.oxw();o.Tol(e.incrementButtonClass),o.Q6J("ngClass",o.DdM(5,BH))("icon",e.incrementButtonIcon)("disabled",e.disabled)}}function Vse(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",6),o.NdJ("mousedown",function(a){return o.CHM(e),o.oxw().onDownButtonMouseDown(a)})("mouseup",function(){return o.CHM(e),o.oxw().onDownButtonMouseUp()})("mouseleave",function(){return o.CHM(e),o.oxw().onDownButtonMouseLeave()})("keydown",function(a){return o.CHM(e),o.oxw().onDownButtonKeyDown(a)})("keyup",function(){return o.CHM(e),o.oxw().onDownButtonKeyUp()}),o.qZA()}if(2&t){const e=o.oxw();o.Tol(e.decrementButtonClass),o.Q6J("ngClass",o.DdM(5,YH))("icon",e.decrementButtonIcon)("disabled",e.disabled)}}const Use=function(t,i,e){return{"p-inputnumber p-component":!0,"p-inputnumber-buttons-stacked":t,"p-inputnumber-buttons-horizontal":i,"p-inputnumber-buttons-vertical":e}},jse={provide:Jl,useExisting:(0,o.Gpc)(()=>PF),multi:!0};let PF=(()=>{class t{constructor(e,s){this.el=e,this.cd=s,this.showButtons=!1,this.format=!0,this.buttonLayout="stacked",this.incrementButtonIcon="pi pi-angle-up",this.decrementButtonIcon="pi pi-angle-down",this.step=1,this.onInput=new o.vpe,this.onFocus=new o.vpe,this.onBlur=new o.vpe,this.onKeyDown=new o.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.groupChar="",this.prefixChar="",this.suffixChar="",this._modeOption="decimal",this._useGroupingOption=!0}get locale(){return this._localeOption}set locale(e){this._localeOption=e,this.updateConstructParser()}get localeMatcher(){return this._localeMatcherOption}set localeMatcher(e){this._localeMatcherOption=e,this.updateConstructParser()}get mode(){return this._modeOption}set mode(e){this._modeOption=e,this.updateConstructParser()}get currency(){return this._currencyOption}set currency(e){this._currencyOption=e,this.updateConstructParser()}get currencyDisplay(){return this._currencyDisplayOption}set currencyDisplay(e){this._currencyDisplayOption=e,this.updateConstructParser()}get useGrouping(){return this._useGroupingOption}set useGrouping(e){this._useGroupingOption=e,this.updateConstructParser()}get minFractionDigits(){return this._minFractionDigitsOption}set minFractionDigits(e){this._minFractionDigitsOption=e,this.updateConstructParser()}get maxFractionDigits(){return this._maxFractionDigitsOption}set maxFractionDigits(e){this._maxFractionDigitsOption=e,this.updateConstructParser()}get prefix(){return this._prefixOption}set prefix(e){this._prefixOption=e,this.updateConstructParser()}get suffix(){return this._suffixOption}set suffix(e){this._suffixOption=e,this.updateConstructParser()}get disabled(){return this._disabled}set disabled(e){e&&(this.focused=!1),this._disabled=e,this.timer&&this.clearTimer()}ngOnInit(){this.constructParser(),this.initialized=!0}getOptions(){return{localeMatcher:this.localeMatcher,style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,useGrouping:this.useGrouping,minimumFractionDigits:this.minFractionDigits,maximumFractionDigits:this.maxFractionDigits}}constructParser(){this.numberFormat=new Intl.NumberFormat(this.locale,this.getOptions());const e=[...new Intl.NumberFormat(this.locale,{useGrouping:!1}).format(9876543210)].reverse(),s=new Map(e.map((a,l)=>[a,l]));this._numeral=new RegExp(`[${e.join("")}]`,"g"),this._decimal=this.getDecimalExpression(),this._group=this.getGroupingExpression(),this._minusSign=this.getMinusSignExpression(),this._currency=this.getCurrencyExpression(),this._suffix=this.getSuffixExpression(),this._prefix=this.getPrefixExpression(),this._index=a=>s.get(a)}updateConstructParser(){this.initialized&&this.constructParser()}escapeRegExp(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}getDecimalExpression(){const e=new Intl.NumberFormat(this.locale,{useGrouping:!1});return new RegExp(`[${e.format(1.1).trim().replace(this._numeral,"")}]`,"g")}getGroupingExpression(){const e=new Intl.NumberFormat(this.locale,{useGrouping:!0});return this.groupChar=e.format(1e6).trim().replace(this._numeral,"").charAt(0),new RegExp(`[${this.groupChar}]`,"g")}getMinusSignExpression(){const e=new Intl.NumberFormat(this.locale,{useGrouping:!1});return new RegExp(`[${e.format(-1).trim().replace(this._numeral,"")}]`,"g")}getCurrencyExpression(){if(this.currency){const e=new Intl.NumberFormat(this.locale,{style:"currency",currency:this.currency,currencyDisplay:this.currencyDisplay});return new RegExp(`[${e.format(1).replace(/\s/g,"").replace(this._numeral,"").replace(this._decimal,"").replace(this._group,"")}]`,"g")}return new RegExp("[]","g")}getPrefixExpression(){if(this.prefix)this.prefixChar=this.prefix;else{const e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay});this.prefixChar=e.format(1).split("1")[0]}return new RegExp(`${this.escapeRegExp(this.prefixChar||"")}`,"g")}getSuffixExpression(){if(this.suffix)this.suffixChar=this.suffix;else{const e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});this.suffixChar=e.format(1).split("1")[1]}return new RegExp(`${this.escapeRegExp(this.suffixChar||"")}`,"g")}formatValue(e){if(null!=e){if("-"===e)return e;if(this.format){let a=new Intl.NumberFormat(this.locale,this.getOptions()).format(e);return this.prefix&&(a=this.prefix+a),this.suffix&&(a+=this.suffix),a}return e.toString()}return""}parseValue(e){let s=e.replace(this._suffix,"").replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").replace(this._group,"").replace(this._minusSign,"-").replace(this._decimal,".").replace(this._numeral,this._index);if(s){if("-"===s)return s;let a=+s;return isNaN(a)?null:a}return null}repeat(e,s,a){let l=s||500;this.clearTimer(),this.timer=setTimeout(()=>{this.repeat(e,40,a)},l),this.spin(e,a)}spin(e,s){let a=this.step*s,l=this.parseValue(this.input.nativeElement.value)||0,h=this.validateValue(l+a);this.maxlength&&this.maxlength<this.formatValue(h).length||(this.updateInput(h,null,"spin"),this.updateModel(e,h),this.handleOnInput(e,l,h))}onUpButtonMouseDown(e){this.input.nativeElement.focus(),this.repeat(e,null,1),e.preventDefault()}onUpButtonMouseUp(){this.clearTimer()}onUpButtonMouseLeave(){this.clearTimer()}onUpButtonKeyDown(e){(32===e.keyCode||13===e.keyCode)&&this.repeat(e,null,1)}onUpButtonKeyUp(){this.clearTimer()}onDownButtonMouseDown(e){this.input.nativeElement.focus(),this.repeat(e,null,-1),e.preventDefault()}onDownButtonMouseUp(){this.clearTimer()}onDownButtonMouseLeave(){this.clearTimer()}onDownButtonKeyUp(){this.clearTimer()}onDownButtonKeyDown(e){(32===e.keyCode||13===e.keyCode)&&this.repeat(e,null,-1)}onUserInput(e){this.isSpecialChar&&(e.target.value=this.lastValue),this.isSpecialChar=!1}onInputKeyDown(e){if(this.lastValue=e.target.value,e.shiftKey||e.altKey)return void(this.isSpecialChar=!0);let s=e.target.selectionStart,a=e.target.selectionEnd,l=e.target.value,h=null;switch(e.altKey&&e.preventDefault(),e.which){case 38:this.spin(e,1),e.preventDefault();break;case 40:this.spin(e,-1),e.preventDefault();break;case 37:this.isNumeralChar(l.charAt(s-1))||e.preventDefault();break;case 39:this.isNumeralChar(l.charAt(s))||e.preventDefault();break;case 13:let v=this.validateValue(this.parseValue(this.input.nativeElement.value));this.input.nativeElement.value=this.formatValue(v),this.input.nativeElement.setAttribute("aria-valuenow",v),this.updateModel(e,v);break;case 8:if(e.preventDefault(),s===a){let C=l.charAt(s-1),O=l.search(this._decimal);this._decimal.lastIndex=0,this.isNumeralChar(C)&&(this._group.test(C)?(this._group.lastIndex=0,h=l.slice(0,s-2)+l.slice(s-1)):this._decimal.test(C)?(this._decimal.lastIndex=0,this.input.nativeElement.setSelectionRange(s-1,s-1)):O>0&&s>O?h=l.slice(0,s-1)+"0"+l.slice(s):O>0&&1===O?(h=l.slice(0,s-1)+"0"+l.slice(s),h=this.parseValue(h)>0?h:""):h=l.slice(0,s-1)+l.slice(s)),this.updateValue(e,h,null,"delete-single")}else h=this.deleteRange(l,s,a),this.updateValue(e,h,null,"delete-range");break;case 46:if(e.preventDefault(),s===a){let C=l.charAt(s),O=l.search(this._decimal);this._decimal.lastIndex=0,this.isNumeralChar(C)&&(this._group.test(C)?(this._group.lastIndex=0,h=l.slice(0,s)+l.slice(s+2)):this._decimal.test(C)?(this._decimal.lastIndex=0,this.input.nativeElement.setSelectionRange(s+1,s+1)):O>0&&s>O?h=l.slice(0,s)+"0"+l.slice(s+1):O>0&&1===O?(h=l.slice(0,s)+"0"+l.slice(s+1),h=this.parseValue(h)>0?h:""):h=l.slice(0,s)+l.slice(s+1)),this.updateValue(e,h,null,"delete-back-single")}else h=this.deleteRange(l,s,a),this.updateValue(e,h,null,"delete-range")}this.onKeyDown.emit(e)}onInputKeyPress(e){e.preventDefault();let s=e.which||e.keyCode,a=String.fromCharCode(s);const l=this.isDecimalSign(a),h=this.isMinusSign(a);(48<=s&&s<=57||h||l)&&this.insert(e,a,{isDecimalSign:l,isMinusSign:h})}onPaste(e){if(!this.disabled){e.preventDefault();let s=(e.clipboardData||window.clipboardData).getData("Text");if(s){let a=this.parseValue(s);null!=a&&this.insert(e,a.toString())}}}isMinusSign(e){return!!this._minusSign.test(e)&&(this._minusSign.lastIndex=0,!0)}isDecimalSign(e){return!!this._decimal.test(e)&&(this._decimal.lastIndex=0,!0)}insert(e,s,a={isDecimalSign:!1,isMinusSign:!1}){let l=this.input.nativeElement.selectionStart,h=this.input.nativeElement.selectionEnd,v=this.input.nativeElement.value.trim();const C=v.search(this._decimal);this._decimal.lastIndex=0;const O=v.search(this._minusSign);let G;if(this._minusSign.lastIndex=0,a.isMinusSign)0===l&&(G=v,(-1===O||0!==h)&&(G=this.insertText(v,s,0,h)),this.updateValue(e,G,s,"insert"));else if(a.isDecimalSign)C>0&&l===C?this.updateValue(e,v,s,"insert"):C>l&&C<h&&(G=this.insertText(v,s,l,h),this.updateValue(e,G,s,"insert"));else{const te=this.numberFormat.resolvedOptions().maximumFractionDigits,pe=l!==h?"range-insert":"insert";C>0&&l>C?l+s.length-(C+1)<=te&&(G=v.slice(0,l)+s+v.slice(l+s.length),this.updateValue(e,G,s,pe)):(G=this.insertText(v,s,l,h),this.updateValue(e,G,s,pe))}}insertText(e,s,a,l){if(2==s.split(".").length){const v=e.slice(a,l).search(this._decimal);return this._decimal.lastIndex=0,v>0?e.slice(0,a)+this.formatValue(s)+e.slice(l):e||this.formatValue(s)}return l-a===e.length?this.formatValue(s):0===a?s+e.slice(l):l===e.length?e.slice(0,a)+s:e.slice(0,a)+s+e.slice(l)}deleteRange(e,s,a){let l;return l=a-s===e.length?"":0===s?e.slice(a):a===e.length?e.slice(0,s):e.slice(0,s)+e.slice(a),l}initCursor(){let e=this.input.nativeElement.selectionStart,s=this.input.nativeElement.value,a=s.length,l=null,h=s.charAt(e);if(this.isNumeralChar(h))return;let v=e-1;for(;v>=0;){if(h=s.charAt(v),this.isNumeralChar(h)){l=v;break}v--}if(null!==l)this.input.nativeElement.setSelectionRange(l+1,l+1);else{for(v=e+1;v<a;){if(h=s.charAt(v),this.isNumeralChar(h)){l=v;break}v++}null!==l&&this.input.nativeElement.setSelectionRange(l,l)}}onInputClick(){this.initCursor()}isNumeralChar(e){return!(1!==e.length||!(this._numeral.test(e)||this._decimal.test(e)||this._group.test(e)||this._minusSign.test(e))||(this.resetRegex(),0))}resetRegex(){this._numeral.lastIndex=0,this._decimal.lastIndex=0,this._group.lastIndex=0,this._minusSign.lastIndex=0}updateValue(e,s,a,l){let h=this.input.nativeElement.value,v=null;null!=s&&(v=this.parseValue(s),this.updateInput(v,a,l)),this.handleOnInput(e,h,v)}handleOnInput(e,s,a){this.isValueChanged(s,a)&&this.onInput.emit({originalEvent:e,value:a})}isValueChanged(e,s){return null===s&&null!==e||null!=s&&s!==("string"==typeof e?this.parseValue(e):e)}validateValue(e){return null!==this.min&&e<this.min?this.min:null!==this.max&&e>this.max?this.max:"-"===e?null:e}updateInput(e,s,a){s=s||"";let l=this.input.nativeElement.value,h=this.formatValue(e),v=l.length;if(0===v){this.input.nativeElement.value=h,this.input.nativeElement.setSelectionRange(0,0),this.initCursor();const O=(this.prefixChar||"").length+s.length;this.input.nativeElement.setSelectionRange(O,O)}else{let C=this.input.nativeElement.selectionStart,O=this.input.nativeElement.selectionEnd;if(this.maxlength&&this.maxlength<h.length)return;this.input.nativeElement.value=h;let G=h.length;if("range-insert"===a){const te=this.parseValue((l||"").slice(0,C)),we=(null!==te?te.toString():"").split("").join(`(${this.groupChar})?`),Le=new RegExp(we,"g");Le.test(h);const je=s.split("").join(`(${this.groupChar})?`),tt=new RegExp(je,"g");tt.test(h.slice(Le.lastIndex)),O=Le.lastIndex+tt.lastIndex,this.input.nativeElement.setSelectionRange(O,O)}else if(G===v)"insert"===a||"delete-back-single"===a?this.input.nativeElement.setSelectionRange(O+1,O+1):"delete-single"===a?this.input.nativeElement.setSelectionRange(O-1,O-1):("delete-range"===a||"spin"===a)&&this.input.nativeElement.setSelectionRange(O,O);else if("delete-back-single"===a){let te=l.charAt(O-1),pe=l.charAt(O),we=v-G,Le=this._group.test(pe);Le&&1===we?O+=1:!Le&&this.isNumeralChar(te)&&(O+=-1*we+1),this._group.lastIndex=0,this.input.nativeElement.setSelectionRange(O,O)}else O+=G-v,this.input.nativeElement.setSelectionRange(O,O)}this.input.nativeElement.setAttribute("aria-valuenow",e)}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1;let s=this.validateValue(this.parseValue(this.input.nativeElement.value));this.input.nativeElement.value=this.formatValue(s),this.input.nativeElement.setAttribute("aria-valuenow",s),this.updateModel(e,s),this.onBlur.emit(e)}formattedValue(){return this.formatValue(this.value)}updateModel(e,s){this.value!==s&&(this.value=s,this.onModelChange(s)),this.onModelTouched()}writeValue(e){this.value=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}get filled(){return null!=this.value&&this.value.toString().length>0}clearTimer(){this.timer&&clearInterval(this.timer)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.sBO))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-inputNumber"]],viewQuery:function(e,s){if(1&e&&o.Gf(Bse,5),2&e){let a;o.iGM(a=o.CRH())&&(s.input=a.first)}},hostVars:4,hostBindings:function(e,s){2&e&&o.ekj("p-inputwrapper-filled",s.filled)("p-inputwrapper-focus",s.focused)},inputs:{showButtons:"showButtons",format:"format",buttonLayout:"buttonLayout",inputId:"inputId",styleClass:"styleClass",style:"style",placeholder:"placeholder",size:"size",maxlength:"maxlength",tabindex:"tabindex",title:"title",ariaLabel:"ariaLabel",ariaRequired:"ariaRequired",name:"name",required:"required",autocomplete:"autocomplete",min:"min",max:"max",incrementButtonClass:"incrementButtonClass",decrementButtonClass:"decrementButtonClass",incrementButtonIcon:"incrementButtonIcon",decrementButtonIcon:"decrementButtonIcon",step:"step",inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",locale:"locale",localeMatcher:"localeMatcher",mode:"mode",currency:"currency",currencyDisplay:"currencyDisplay",useGrouping:"useGrouping",minFractionDigits:"minFractionDigits",maxFractionDigits:"maxFractionDigits",prefix:"prefix",suffix:"suffix",disabled:"disabled"},outputs:{onInput:"onInput",onFocus:"onFocus",onBlur:"onBlur",onKeyDown:"onKeyDown"},features:[o._Bn([jse])],decls:6,vars:30,consts:[[3,"ngClass","ngStyle"],["pInputText","",3,"ngClass","ngStyle","value","disabled","input","keydown","keypress","paste","click","focus","blur"],["input",""],["class","p-inputnumber-button-group",4,"ngIf"],["type","button","pButton","",3,"ngClass","class","icon","disabled","mousedown","mouseup","mouseleave","keydown","keyup",4,"ngIf"],[1,"p-inputnumber-button-group"],["type","button","pButton","",3,"ngClass","icon","disabled","mousedown","mouseup","mouseleave","keydown","keyup"]],template:function(e,s){1&e&&(o.TgZ(0,"span",0),o.TgZ(1,"input",1,2),o.NdJ("input",function(l){return s.onUserInput(l)})("keydown",function(l){return s.onInputKeyDown(l)})("keypress",function(l){return s.onInputKeyPress(l)})("paste",function(l){return s.onPaste(l)})("click",function(){return s.onInputClick()})("focus",function(l){return s.onInputFocus(l)})("blur",function(l){return s.onInputBlur(l)}),o.qZA(),o.YNc(3,Yse,3,12,"span",3),o.YNc(4,Hse,1,6,"button",4),o.YNc(5,Vse,1,6,"button",4),o.qZA()),2&e&&(o.Tol(s.styleClass),o.Q6J("ngClass",o.kEZ(26,Use,s.showButtons&&"stacked"===s.buttonLayout,s.showButtons&&"horizontal"===s.buttonLayout,s.showButtons&&"vertical"===s.buttonLayout))("ngStyle",s.style),o.xp6(1),o.Tol(s.inputStyleClass),o.Q6J("ngClass","p-inputnumber-input")("ngStyle",s.inputStyle)("value",s.formattedValue())("disabled",s.disabled),o.uIk("placeholder",s.placeholder)("title",s.title)("id",s.inputId)("size",s.size)("name",s.name)("autocomplete",s.autocomplete)("maxlength",s.maxlength)("tabindex",s.tabindex)("aria-label",s.ariaLabel)("aria-required",s.ariaRequired)("required",s.required)("aria-valuemin",s.min)("aria-valuemax",s.max),o.xp6(2),o.Q6J("ngIf",s.showButtons&&"stacked"===s.buttonLayout),o.xp6(1),o.Q6J("ngIf",s.showButtons&&"stacked"!==s.buttonLayout),o.xp6(1),o.Q6J("ngIf",s.showButtons&&"stacked"!==s.buttonLayout))},directives:[he,qi,ax,un,ox],styles:[".p-inputnumber{display:inline-flex}.p-inputnumber-button{display:flex;align-items:center;justify-content:center;flex:0 0 auto}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button .p-button-label,.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button .p-button-label{display:none}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-up{border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-input{border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-down{border-top-left-radius:0;border-top-right-radius:0;border-bottom-left-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-button-group{display:flex;flex-direction:column}.p-inputnumber-buttons-stacked .p-inputnumber-button-group .p-button.p-inputnumber-button{flex:1 1 auto}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-up{order:3;border-top-left-radius:0;border-bottom-left-radius:0}.p-inputnumber-buttons-horizontal .p-inputnumber-input{order:2;border-radius:0}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-down{order:1;border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-vertical{flex-direction:column}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-up{order:1;border-bottom-left-radius:0;border-bottom-right-radius:0;width:100%}.p-inputnumber-buttons-vertical .p-inputnumber-input{order:2;border-radius:0;text-align:center}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-down{order:3;border-top-left-radius:0;border-top-right-radius:0;width:100%}.p-inputnumber-input{flex:1 1 auto}.p-fluid .p-inputnumber{width:100%}.p-fluid .p-inputnumber .p-inputnumber-input{width:1%}.p-fluid .p-inputnumber-buttons-vertical .p-inputnumber-input{width:100%}"],encapsulation:2,changeDetection:0}),t})(),HH=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Ji,Lk,Ob]]}),t})();const Zse=["container"],Gse=["resizeHelper"],Wse=["reorderIndicatorUp"],qse=["reorderIndicatorDown"],$se=["wrapper"],Qse=["table"],Xse=["tableHeader"];function Jse(t,i){if(1&t&&(o.TgZ(0,"div",14),o._UZ(1,"i"),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Tol("p-datatable-loading-icon pi-spin "+e.loadingIcon)}}function Kse(t,i){1&t&&o.GkF(0)}function eoe(t,i){if(1&t&&(o.TgZ(0,"div",15),o.YNc(1,Kse,1,0,"ng-container",16),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngTemplateOutlet",e.captionTemplate)}}function toe(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"p-paginator",17),o.NdJ("onPageChange",function(a){return o.CHM(e),o.oxw().onPageChange(a)}),o.qZA()}if(2&t){const e=o.oxw();o.Q6J("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("alwaysShow",e.alwaysShowPaginator)("rowsPerPageOptions",e.rowsPerPageOptions)("templateLeft",e.paginatorLeftTemplate)("templateRight",e.paginatorRightTemplate)("dropdownAppendTo",e.paginatorDropdownAppendTo)("dropdownScrollHeight",e.paginatorDropdownScrollHeight)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatorDropdownItemTemplate)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showPageLinks",e.showPageLinks)}}function noe(t,i){1&t&&o.GkF(0)}function ioe(t,i){1&t&&o.GkF(0)}function roe(t,i){if(1&t&&o._UZ(0,"tbody",25),2&t){const e=o.oxw(2);o.Q6J("value",e.frozenValue)("frozenRows",!0)("pTableBody",e.columns)("pTableBodyTemplate",e.frozenBodyTemplate)("frozen",!0)}}function soe(t,i){1&t&&o.GkF(0)}const lx=function(t){return{$implicit:t}};function ooe(t,i){if(1&t&&(o.TgZ(0,"tfoot",26),o.YNc(1,soe,1,0,"ng-container",20),o.qZA()),2&t){const e=o.oxw(2);o.xp6(1),o.Q6J("ngTemplateOutlet",e.footerGroupedTemplate||e.footerTemplate)("ngTemplateOutletContext",o.VKq(2,lx,e.columns))}}function aoe(t,i){if(1&t&&(o.TgZ(0,"table",18,19),o.YNc(2,noe,1,0,"ng-container",20),o.TgZ(3,"thead",21),o.YNc(4,ioe,1,0,"ng-container",20),o.qZA(),o.YNc(5,roe,1,5,"tbody",22),o._UZ(6,"tbody",23),o.YNc(7,ooe,2,4,"tfoot",24),o.qZA()),2&t){const e=o.oxw();o.Q6J("ngClass",e.tableStyleClass)("ngStyle",e.tableStyle),o.xp6(2),o.Q6J("ngTemplateOutlet",e.colGroupTemplate)("ngTemplateOutletContext",o.VKq(11,lx,e.columns)),o.xp6(2),o.Q6J("ngTemplateOutlet",e.headerGroupedTemplate||e.headerTemplate)("ngTemplateOutletContext",o.VKq(13,lx,e.columns)),o.xp6(1),o.Q6J("ngIf",e.frozenValue||e.frozenBodyTemplate),o.xp6(1),o.Q6J("value",e.dataToRender)("pTableBody",e.columns)("pTableBodyTemplate",e.bodyTemplate),o.xp6(1),o.Q6J("ngIf",e.footerGroupedTemplate||e.footerTemplate)}}function loe(t,i){1&t&&o.GkF(0)}function coe(t,i){1&t&&o.GkF(0)}function uoe(t,i){if(1&t&&o._UZ(0,"tbody",25),2&t){const e=o.oxw(2);o.Q6J("value",e.frozenValue)("frozenRows",!0)("pTableBody",e.columns)("pTableBodyTemplate",e.bodyTemplate)("frozen",!0)}}function doe(t,i){1&t&&o.GkF(0)}function hoe(t,i){if(1&t&&(o.TgZ(0,"tfoot",26),o.YNc(1,doe,1,0,"ng-container",20),o.qZA()),2&t){const e=o.oxw(2);o.xp6(1),o.Q6J("ngTemplateOutlet",e.footerGroupedTemplate||e.footerTemplate)("ngTemplateOutletContext",o.VKq(2,lx,e.columns))}}function poe(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"cdk-virtual-scroll-viewport",27),o.NdJ("scrolledIndexChange",function(a){return o.CHM(e),o.oxw().onScrollIndexChange(a)}),o.TgZ(1,"table",18,19),o.YNc(3,loe,1,0,"ng-container",20),o.TgZ(4,"thead",21,28),o.YNc(6,coe,1,0,"ng-container",20),o.qZA(),o.YNc(7,uoe,1,5,"tbody",22),o._UZ(8,"tbody",23),o.YNc(9,hoe,2,4,"tfoot",24),o.qZA(),o.qZA()}if(2&t){const e=o.oxw();o.Udp("height","flex"!==e.scrollHeight?e.scrollHeight:void 0),o.Q6J("itemSize",e.virtualRowHeight)("minBufferPx",e.minBufferPx)("maxBufferPx",e.maxBufferPx),o.xp6(1),o.Q6J("ngClass",e.tableStyleClass)("ngStyle",e.tableStyle),o.xp6(2),o.Q6J("ngTemplateOutlet",e.colGroupTemplate)("ngTemplateOutletContext",o.VKq(16,lx,e.columns)),o.xp6(3),o.Q6J("ngTemplateOutlet",e.headerGroupedTemplate||e.headerTemplate)("ngTemplateOutletContext",o.VKq(18,lx,e.columns)),o.xp6(1),o.Q6J("ngIf",e.frozenValue||e.frozenBodyTemplate),o.xp6(1),o.Q6J("value",e.dataToRender)("pTableBody",e.columns)("pTableBodyTemplate",e.bodyTemplate),o.xp6(1),o.Q6J("ngIf",e.footerGroupedTemplate||e.footerTemplate)}}function foe(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"p-paginator",29),o.NdJ("onPageChange",function(a){return o.CHM(e),o.oxw().onPageChange(a)}),o.qZA()}if(2&t){const e=o.oxw();o.Q6J("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("alwaysShow",e.alwaysShowPaginator)("rowsPerPageOptions",e.rowsPerPageOptions)("templateLeft",e.paginatorLeftTemplate)("templateRight",e.paginatorRightTemplate)("dropdownAppendTo",e.paginatorDropdownAppendTo)("dropdownScrollHeight",e.paginatorDropdownScrollHeight)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatorDropdownItemTemplate)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showPageLinks",e.showPageLinks)}}function moe(t,i){1&t&&o.GkF(0)}function goe(t,i){if(1&t&&(o.TgZ(0,"div",30),o.YNc(1,moe,1,0,"ng-container",16),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngTemplateOutlet",e.summaryTemplate)}}function _oe(t,i){1&t&&o._UZ(0,"div",31,32)}function yoe(t,i){1&t&&o._UZ(0,"span",33,34)}function voe(t,i){1&t&&o._UZ(0,"span",35,36)}const boe=function(t,i,e,s,a,l,h,v,C,O,G,te,pe,we){return{"p-datatable p-component":!0,"p-datatable-hoverable-rows":t,"p-datatable-auto-layout":i,"p-datatable-resizable":e,"p-datatable-resizable-fit":s,"p-datatable-scrollable":a,"p-datatable-scrollable-vertical":l,"p-datatable-scrollable-horizontal":h,"p-datatable-scrollable-both":v,"p-datatable-flex-scrollable":C,"p-datatable-responsive-stack":O,"p-datatable-responsive-scroll":G,"p-datatable-responsive":te,"p-datatable-grouped-header":pe,"p-datatable-grouped-footer":we}},xoe=function(t){return{height:t}},woe=["pTableBody",""];function Coe(t,i){1&t&&o.GkF(0)}const jL=function(t,i,e,s,a){return{$implicit:t,rowIndex:i,columns:e,editing:s,frozen:a}};function Moe(t,i){if(1&t&&(o.ynx(0,3),o.YNc(1,Coe,1,0,"ng-container",4),o.BQk()),2&t){const e=o.oxw(),s=e.$implicit,a=e.index,l=o.oxw(2);o.xp6(1),o.Q6J("ngTemplateOutlet",l.dt.groupHeaderTemplate)("ngTemplateOutletContext",o.qbA(2,jL,s,l.dt.paginator?l.dt.first+a:a,l.columns,"row"===l.dt.editMode&&l.dt.isRowEditing(s),l.frozen))}}function Toe(t,i){1&t&&o.GkF(0)}function Soe(t,i){if(1&t&&(o.ynx(0),o.YNc(1,Toe,1,0,"ng-container",4),o.BQk()),2&t){const e=o.oxw(),s=e.$implicit,a=e.index,l=o.oxw(2);o.xp6(1),o.Q6J("ngTemplateOutlet",l.template)("ngTemplateOutletContext",o.qbA(2,jL,s,l.dt.paginator?l.dt.first+a:a,l.columns,"row"===l.dt.editMode&&l.dt.isRowEditing(s),l.frozen))}}function koe(t,i){1&t&&o.GkF(0)}const Eoe=function(t,i,e,s,a,l,h){return{$implicit:t,rowIndex:i,columns:e,editing:s,frozen:a,rowgroup:l,rowspan:h}};function Doe(t,i){if(1&t&&(o.ynx(0),o.YNc(1,koe,1,0,"ng-container",4),o.BQk()),2&t){const e=o.oxw(),s=e.$implicit,a=e.index,l=o.oxw(2);o.xp6(1),o.Q6J("ngTemplateOutlet",l.template)("ngTemplateOutletContext",o.Hh0(2,Eoe,s,l.dt.paginator?l.dt.first+a:a,l.columns,"row"===l.dt.editMode&&l.dt.isRowEditing(s),l.frozen,l.shouldRenderRowspan(l.value,s,a),l.calculateRowGroupSize(l.value,s,a)))}}function Aoe(t,i){1&t&&o.GkF(0)}function Ioe(t,i){if(1&t&&(o.ynx(0,3),o.YNc(1,Aoe,1,0,"ng-container",4),o.BQk()),2&t){const e=o.oxw(),s=e.$implicit,a=e.index,l=o.oxw(2);o.xp6(1),o.Q6J("ngTemplateOutlet",l.dt.groupFooterTemplate)("ngTemplateOutletContext",o.qbA(2,jL,s,l.dt.paginator?l.dt.first+a:a,l.columns,"row"===l.dt.editMode&&l.dt.isRowEditing(s),l.frozen))}}function Loe(t,i){if(1&t&&(o.YNc(0,Moe,2,8,"ng-container",2),o.YNc(1,Soe,2,8,"ng-container",0),o.YNc(2,Doe,2,10,"ng-container",0),o.YNc(3,Ioe,2,8,"ng-container",2)),2&t){const e=i.$implicit,s=i.index,a=o.oxw(2);o.Q6J("ngIf",a.dt.groupHeaderTemplate&&"subheader"===a.dt.rowGroupMode&&a.shouldRenderRowGroupHeader(a.value,e,s)),o.xp6(1),o.Q6J("ngIf","rowspan"!==a.dt.rowGroupMode),o.xp6(1),o.Q6J("ngIf","rowspan"===a.dt.rowGroupMode),o.xp6(1),o.Q6J("ngIf",a.dt.groupFooterTemplate&&"subheader"===a.dt.rowGroupMode&&a.shouldRenderRowGroupFooter(a.value,e,s))}}function Poe(t,i){if(1&t&&(o.ynx(0),o.YNc(1,Loe,4,4,"ng-template",1),o.BQk()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngForOf",e.value)("ngForTrackBy",e.dt.rowTrackBy)}}function Ooe(t,i){1&t&&o.GkF(0)}function Roe(t,i){if(1&t&&o.YNc(0,Ooe,1,0,"ng-container",4),2&t){const e=i.$implicit,s=i.index,a=o.oxw(2);o.Q6J("ngTemplateOutlet",e?a.template:a.dt.loadingBodyTemplate)("ngTemplateOutletContext",o.qbA(2,jL,e,a.dt.paginator?a.dt.first+s:s,a.columns,"row"===a.dt.editMode&&a.dt.isRowEditing(e),a.frozen))}}function Foe(t,i){if(1&t&&(o.ynx(0),o.YNc(1,Roe,1,8,"ng-template",5),o.BQk()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("cdkVirtualForOf",e.value)("cdkVirtualForTrackBy",e.dt.rowTrackBy)("cdkVirtualForTemplateCacheSize",0)}}function Noe(t,i){1&t&&o.GkF(0)}const ZL=function(t,i,e,s,a,l){return{$implicit:t,rowIndex:i,columns:e,expanded:s,editing:a,frozen:l}};function zoe(t,i){if(1&t&&(o.ynx(0),o.YNc(1,Noe,1,0,"ng-container",4),o.BQk()),2&t){const e=o.oxw(),s=e.$implicit,a=e.index,l=o.oxw(2);o.xp6(1),o.Q6J("ngTemplateOutlet",l.template)("ngTemplateOutletContext",o.HTZ(2,ZL,s,l.dt.paginator?l.dt.first+a:a,l.columns,l.dt.isRowExpanded(s),"row"===l.dt.editMode&&l.dt.isRowEditing(s),l.frozen))}}function Boe(t,i){1&t&&o.GkF(0)}function Yoe(t,i){if(1&t&&(o.ynx(0,3),o.YNc(1,Boe,1,0,"ng-container",4),o.BQk()),2&t){const e=o.oxw(),s=e.$implicit,a=e.index,l=o.oxw(2);o.xp6(1),o.Q6J("ngTemplateOutlet",l.dt.groupHeaderTemplate)("ngTemplateOutletContext",o.HTZ(2,ZL,s,l.dt.paginator?l.dt.first+a:a,l.columns,l.dt.isRowExpanded(s),"row"===l.dt.editMode&&l.dt.isRowEditing(s),l.frozen))}}function Hoe(t,i){1&t&&o.GkF(0)}function Voe(t,i){1&t&&o.GkF(0)}function Uoe(t,i){if(1&t&&(o.ynx(0,3),o.YNc(1,Voe,1,0,"ng-container",4),o.BQk()),2&t){const e=o.oxw(2),s=e.$implicit,a=e.index,l=o.oxw(2);o.xp6(1),o.Q6J("ngTemplateOutlet",l.dt.groupFooterTemplate)("ngTemplateOutletContext",o.HTZ(2,ZL,s,l.dt.paginator?l.dt.first+a:a,l.columns,l.dt.isRowExpanded(s),"row"===l.dt.editMode&&l.dt.isRowEditing(s),l.frozen))}}const VH=function(t,i,e,s){return{$implicit:t,rowIndex:i,columns:e,frozen:s}};function joe(t,i){if(1&t&&(o.ynx(0),o.YNc(1,Hoe,1,0,"ng-container",4),o.YNc(2,Uoe,2,9,"ng-container",2),o.BQk()),2&t){const e=o.oxw(),s=e.$implicit,a=e.index,l=o.oxw(2);o.xp6(1),o.Q6J("ngTemplateOutlet",l.dt.expandedRowTemplate)("ngTemplateOutletContext",o.l5B(3,VH,s,l.dt.paginator?l.dt.first+a:a,l.columns,l.frozen)),o.xp6(1),o.Q6J("ngIf",l.dt.groupFooterTemplate&&"subheader"===l.dt.rowGroupMode&&l.shouldRenderRowGroupFooter(l.value,s,a))}}function Zoe(t,i){if(1&t&&(o.YNc(0,zoe,2,9,"ng-container",0),o.YNc(1,Yoe,2,9,"ng-container",2),o.YNc(2,joe,3,8,"ng-container",0)),2&t){const e=i.$implicit,s=i.index,a=o.oxw(2);o.Q6J("ngIf",!a.dt.groupHeaderTemplate),o.xp6(1),o.Q6J("ngIf",a.dt.groupHeaderTemplate&&"subheader"===a.dt.rowGroupMode&&a.shouldRenderRowGroupHeader(a.value,e,s)),o.xp6(1),o.Q6J("ngIf",a.dt.isRowExpanded(e))}}function Goe(t,i){if(1&t&&(o.ynx(0),o.YNc(1,Zoe,3,3,"ng-template",1),o.BQk()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngForOf",e.value)("ngForTrackBy",e.dt.rowTrackBy)}}function Woe(t,i){1&t&&o.GkF(0)}function qoe(t,i){1&t&&o.GkF(0)}function $oe(t,i){if(1&t&&(o.ynx(0),o.YNc(1,qoe,1,0,"ng-container",4),o.BQk()),2&t){const e=o.oxw(),s=e.$implicit,a=e.index,l=o.oxw(2);o.xp6(1),o.Q6J("ngTemplateOutlet",l.dt.frozenExpandedRowTemplate)("ngTemplateOutletContext",o.l5B(2,VH,s,l.dt.paginator?l.dt.first+a:a,l.columns,l.frozen))}}function Qoe(t,i){if(1&t&&(o.YNc(0,Woe,1,0,"ng-container",4),o.YNc(1,$oe,2,7,"ng-container",0)),2&t){const e=i.$implicit,s=i.index,a=o.oxw(2);o.Q6J("ngTemplateOutlet",a.template)("ngTemplateOutletContext",o.HTZ(3,ZL,e,a.dt.paginator?a.dt.first+s:s,a.columns,a.dt.isRowExpanded(e),"row"===a.dt.editMode&&a.dt.isRowEditing(e),a.frozen)),o.xp6(1),o.Q6J("ngIf",a.dt.isRowExpanded(e))}}function Xoe(t,i){if(1&t&&(o.ynx(0),o.YNc(1,Qoe,2,10,"ng-template",1),o.BQk()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngForOf",e.value)("ngForTrackBy",e.dt.rowTrackBy)}}function Joe(t,i){1&t&&o.GkF(0)}const UH=function(t,i){return{$implicit:t,frozen:i}};function Koe(t,i){if(1&t&&(o.ynx(0),o.YNc(1,Joe,1,0,"ng-container",4),o.BQk()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngTemplateOutlet",e.dt.loadingBodyTemplate)("ngTemplateOutletContext",o.WLB(2,UH,e.columns,e.frozen))}}function eae(t,i){1&t&&o.GkF(0)}function tae(t,i){if(1&t&&(o.ynx(0),o.YNc(1,eae,1,0,"ng-container",4),o.BQk()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngTemplateOutlet",e.dt.emptyMessageTemplate)("ngTemplateOutletContext",o.WLB(2,UH,e.columns,e.frozen))}}function nae(t,i){if(1&t&&(o.TgZ(0,"span",2),o._uU(1),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Oqu(e.getMultiSortMetaIndex()+1)}}const iae=function(t,i,e){return{"pi-sort-amount-up-alt":t,"pi-sort-amount-down":i,"pi-sort-alt":e}};let OF=(()=>{class t{constructor(){this.sortSource=new li.xQ,this.selectionSource=new li.xQ,this.contextMenuSource=new li.xQ,this.valueSource=new li.xQ,this.totalRecordsSource=new li.xQ,this.columnsSource=new li.xQ,this.resetSource=new li.xQ,this.sortSource$=this.sortSource.asObservable(),this.selectionSource$=this.selectionSource.asObservable(),this.contextMenuSource$=this.contextMenuSource.asObservable(),this.valueSource$=this.valueSource.asObservable(),this.totalRecordsSource$=this.totalRecordsSource.asObservable(),this.columnsSource$=this.columnsSource.asObservable(),this.resetSource$=this.resetSource.asObservable()}onSort(e){this.sortSource.next(e)}onSelectionChange(){this.selectionSource.next()}onResetChange(){this.resetSource.next()}onContextMenu(e){this.contextMenuSource.next(e)}onValueChange(e){this.valueSource.next(e)}onTotalRecordsChange(e){this.totalRecordsSource.next(e)}onColumnsChange(e){this.columnsSource.next(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})(),cx=(()=>{class t{constructor(e,s,a,l,h,v){this.el=e,this.zone=s,this.tableService=a,this.cd=l,this.filterService=h,this.overlayService=v,this.pageLinks=5,this.alwaysShowPaginator=!0,this.paginatorPosition="bottom",this.paginatorDropdownScrollHeight="200px",this.currentPageReportTemplate="{currentPage} of {totalPages}",this.showFirstLastIcon=!0,this.showPageLinks=!0,this.defaultSortOrder=1,this.sortMode="single",this.resetPageOnSort=!0,this.selectionChange=new o.vpe,this.contextMenuSelectionChange=new o.vpe,this.contextMenuSelectionMode="separate",this.rowTrackBy=(C,O)=>O,this.lazy=!1,this.lazyLoadOnInit=!0,this.compareSelectionBy="deepEquals",this.csvSeparator=",",this.exportFilename="download",this.filters={},this.filterDelay=300,this.expandedRowKeys={},this.editingRowKeys={},this.rowExpandMode="multiple",this.scrollDirection="vertical",this.virtualScrollDelay=250,this.virtualRowHeight=28,this.columnResizeMode="fit",this.loadingIcon="pi pi-spinner",this.showLoader=!0,this.showInitialSortBadge=!0,this.stateStorage="session",this.editMode="cell",this.responsiveLayout="stack",this.breakpoint="960px",this.onRowSelect=new o.vpe,this.onRowUnselect=new o.vpe,this.onPage=new o.vpe,this.onSort=new o.vpe,this.onFilter=new o.vpe,this.onLazyLoad=new o.vpe,this.onRowExpand=new o.vpe,this.onRowCollapse=new o.vpe,this.onContextMenuSelect=new o.vpe,this.onColResize=new o.vpe,this.onColReorder=new o.vpe,this.onRowReorder=new o.vpe,this.onEditInit=new o.vpe,this.onEditComplete=new o.vpe,this.onEditCancel=new o.vpe,this.onHeaderCheckboxToggle=new o.vpe,this.sortFunction=new o.vpe,this.firstChange=new o.vpe,this.rowsChange=new o.vpe,this.onStateSave=new o.vpe,this.onStateRestore=new o.vpe,this._value=[],this._totalRecords=0,this._first=0,this.selectionKeys={},this._sortOrder=1,this.columnResizing=!1,this.rowGroupHeaderStyleObject={},this.id=kC()}ngOnInit(){this.lazy&&this.lazyLoadOnInit&&(this.virtualScroll||this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.restoringFilter&&(this.restoringFilter=!1)),"stack"===this.responsiveLayout&&!this.scrollable&&this.createResponsiveStyle(),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"caption":this.captionTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"headergrouped":this.headerGroupedTemplate=e.template;break;case"body":this.bodyTemplate=e.template;break;case"loadingbody":this.loadingBodyTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"footergrouped":this.footerGroupedTemplate=e.template;break;case"summary":this.summaryTemplate=e.template;break;case"colgroup":this.colGroupTemplate=e.template;break;case"rowexpansion":this.expandedRowTemplate=e.template;break;case"groupheader":this.groupHeaderTemplate=e.template;break;case"rowspan":this.rowspanTemplate=e.template;break;case"groupfooter":this.groupFooterTemplate=e.template;break;case"frozenrows":this.frozenRowsTemplate=e.template;break;case"frozenheader":this.frozenHeaderTemplate=e.template;break;case"frozenbody":this.frozenBodyTemplate=e.template;break;case"frozenfooter":this.frozenFooterTemplate=e.template;break;case"frozencolgroup":this.frozenColGroupTemplate=e.template;break;case"frozenrowexpansion":this.frozenExpandedRowTemplate=e.template;break;case"emptymessage":this.emptyMessageTemplate=e.template;break;case"paginatorleft":this.paginatorLeftTemplate=e.template;break;case"paginatorright":this.paginatorRightTemplate=e.template;break;case"paginatordropdownitem":this.paginatorDropdownItemTemplate=e.template}})}ngAfterViewInit(){this.isStateful()&&this.resizableColumns&&this.restoreColumnWidths(),this.scrollable&&("vertical"!==this.scrollDirection||"subheader"===this.rowGroupMode)&&this.updateScrollWidth(),this.scrollable&&this.virtualScroll&&(this.virtualScrollSubscription=this.virtualScrollBody.renderedRangeStream.subscribe(e=>{this.tableHeaderViewChild.nativeElement.style.top=e.start*this.virtualRowHeight*-1+"px"}))}ngOnChanges(e){e.value&&(this.isStateful()&&!this.stateRestored&&this.restoreState(),this._value=e.value.currentValue,this.lazy||(this.totalRecords=this._value?this._value.length:0,"single"==this.sortMode&&this.sortField?this.sortSingle():"multiple"==this.sortMode&&this.multiSortMeta?this.sortMultiple():this.hasFilter()&&this._filter()),this.tableService.onValueChange(e.value.currentValue),this.scrollable&&("vertical"!==this.scrollDirection||"subheader"===this.rowGroupMode)&&this.updateScrollWidth()),e.columns&&(this._columns=e.columns.currentValue,this.tableService.onColumnsChange(e.columns.currentValue),this._columns&&this.isStateful()&&this.reorderableColumns&&!this.columnOrderStateRestored&&this.restoreColumnOrder(),this.scrollable&&("vertical"!==this.scrollDirection||"subheader"===this.rowGroupMode)&&this.updateScrollWidth()),e.sortField&&(this._sortField=e.sortField.currentValue,(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle()),e.sortOrder&&(this._sortOrder=e.sortOrder.currentValue,(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle()),e.multiSortMeta&&(this._multiSortMeta=e.multiSortMeta.currentValue,"multiple"===this.sortMode&&(this.initialized||!this.lazy&&!this.virtualScroll)&&this.sortMultiple()),e.selection&&(this._selection=e.selection.currentValue,this.preventSelectionSetterPropagation||(this.updateSelectionKeys(),this.tableService.onSelectionChange()),this.preventSelectionSetterPropagation=!1)}get value(){return this._value}set value(e){this._value=e}get columns(){return this._columns}set columns(e){this._columns=e}get first(){return this._first}set first(e){this._first=e}get rows(){return this._rows}set rows(e){this._rows=e}get totalRecords(){return this._totalRecords}set totalRecords(e){this._totalRecords=e,this.tableService.onTotalRecordsChange(this._totalRecords)}get sortField(){return this._sortField}set sortField(e){this._sortField=e}get sortOrder(){return this._sortOrder}set sortOrder(e){this._sortOrder=e}get multiSortMeta(){return this._multiSortMeta}set multiSortMeta(e){this._multiSortMeta=e}get selection(){return this._selection}set selection(e){this._selection=e}get dataToRender(){let e=this.filteredValue||this.value;return e?this.paginator&&!this.lazy?e.slice(this.first,this.first+this.rows):e:[]}updateSelectionKeys(){if(this.dataKey&&this._selection)if(this.selectionKeys={},Array.isArray(this._selection))for(let e of this._selection)this.selectionKeys[String(gr.resolveFieldData(e,this.dataKey))]=1;else this.selectionKeys[String(gr.resolveFieldData(this._selection,this.dataKey))]=1}onPageChange(e){this.first=e.first,this.rows=e.rows,this.lazy&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.onPage.emit({first:this.first,rows:this.rows}),this.firstChange.emit(this.first),this.rowsChange.emit(this.rows),this.tableService.onValueChange(this.value),this.isStateful()&&this.saveState(),this.anchorRowIndex=null,this.scrollable&&this.resetScrollTop()}sort(e){let s=e.originalEvent;if("single"===this.sortMode&&(this._sortOrder=this.sortField===e.field?-1*this.sortOrder:this.defaultSortOrder,this._sortField=e.field,this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop()),this.sortSingle()),"multiple"===this.sortMode){let a=s.metaKey||s.ctrlKey,l=this.getSortMeta(e.field);l?a?l.order=-1*l.order:(this._multiSortMeta=[{field:e.field,order:-1*l.order}],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop())):((!a||!this.multiSortMeta)&&(this._multiSortMeta=[],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first))),this._multiSortMeta.push({field:e.field,order:this.defaultSortOrder})),this.sortMultiple()}this.isStateful()&&this.saveState(),this.anchorRowIndex=null}sortSingle(){if(this.sortField&&this.sortOrder){this.restoringSort&&(this.restoringSort=!1),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,field:this.sortField,order:this.sortOrder}):(this.value.sort((s,a)=>{let l=gr.resolveFieldData(s,this.sortField),h=gr.resolveFieldData(a,this.sortField),v=null;return v=null==l&&null!=h?-1:null!=l&&null==h?1:null==l&&null==h?0:"string"==typeof l&&"string"==typeof h?l.localeCompare(h):l<h?-1:l>h?1:0,this.sortOrder*v}),this._value=[...this.value]),this.hasFilter()&&this._filter());let e={field:this.sortField,order:this.sortOrder};this.onSort.emit(e),this.tableService.onSort(e)}}sortMultiple(){this.multiSortMeta&&(this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,multiSortMeta:this.multiSortMeta}):(this.value.sort((e,s)=>this.multisortField(e,s,this.multiSortMeta,0)),this._value=[...this.value]),this.hasFilter()&&this._filter()),this.onSort.emit({multisortmeta:this.multiSortMeta}),this.tableService.onSort(this.multiSortMeta))}multisortField(e,s,a,l){let h=gr.resolveFieldData(e,a[l].field),v=gr.resolveFieldData(s,a[l].field),C=null;if(null==h&&null!=v)C=-1;else if(null!=h&&null==v)C=1;else if(null==h&&null==v)C=0;else if("string"==typeof h||h instanceof String){if(h.localeCompare&&h!=v)return a[l].order*h.localeCompare(v)}else C=h<v?-1:1;return h==v?a.length-1>l?this.multisortField(e,s,a,l+1):0:a[l].order*C}getSortMeta(e){if(this.multiSortMeta&&this.multiSortMeta.length)for(let s=0;s<this.multiSortMeta.length;s++)if(this.multiSortMeta[s].field===e)return this.multiSortMeta[s];return null}isSorted(e){if("single"===this.sortMode)return this.sortField&&this.sortField===e;if("multiple"===this.sortMode){let s=!1;if(this.multiSortMeta)for(let a=0;a<this.multiSortMeta.length;a++)if(this.multiSortMeta[a].field==e){s=!0;break}return s}}handleRowClick(e){let s=e.originalEvent.target,a=s.nodeName,l=s.parentElement&&s.parentElement.nodeName;if("INPUT"!=a&&"BUTTON"!=a&&"A"!=a&&"INPUT"!=l&&"BUTTON"!=l&&"A"!=l&&!cn.hasClass(e.originalEvent.target,"p-clickable")){if(this.selectionMode){if(this.preventSelectionSetterPropagation=!0,this.isMultipleSelectionMode()&&e.originalEvent.shiftKey&&null!=this.anchorRowIndex)cn.clearSelection(),null!=this.rangeRowIndex&&this.clearSelectionRange(e.originalEvent),this.rangeRowIndex=e.rowIndex,this.selectRange(e.originalEvent,e.rowIndex);else{let h=e.rowData,v=this.isSelected(h),C=!this.rowTouched&&this.metaKeySelection,O=this.dataKey?String(gr.resolveFieldData(h,this.dataKey)):null;if(this.anchorRowIndex=e.rowIndex,this.rangeRowIndex=e.rowIndex,C){let G=e.originalEvent.metaKey||e.originalEvent.ctrlKey;if(v&&G){if(this.isSingleSelectionMode())this._selection=null,this.selectionKeys={},this.selectionChange.emit(null);else{let te=this.findIndexInSelection(h);this._selection=this.selection.filter((pe,we)=>we!=te),this.selectionChange.emit(this.selection),O&&delete this.selectionKeys[O]}this.onRowUnselect.emit({originalEvent:e.originalEvent,data:h,type:"row"})}else this.isSingleSelectionMode()?(this._selection=h,this.selectionChange.emit(h),O&&(this.selectionKeys={},this.selectionKeys[O]=1)):this.isMultipleSelectionMode()&&(G?this._selection=this.selection||[]:(this._selection=[],this.selectionKeys={}),this._selection=[...this.selection,h],this.selectionChange.emit(this.selection),O&&(this.selectionKeys[O]=1)),this.onRowSelect.emit({originalEvent:e.originalEvent,data:h,type:"row",index:e.rowIndex})}else if("single"===this.selectionMode)v?(this._selection=null,this.selectionKeys={},this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,data:h,type:"row",index:e.rowIndex})):(this._selection=h,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,data:h,type:"row",index:e.rowIndex}),O&&(this.selectionKeys={},this.selectionKeys[O]=1));else if("multiple"===this.selectionMode)if(v){let G=this.findIndexInSelection(h);this._selection=this.selection.filter((te,pe)=>pe!=G),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,data:h,type:"row",index:e.rowIndex}),O&&delete this.selectionKeys[O]}else this._selection=this.selection?[...this.selection,h]:[h],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,data:h,type:"row",index:e.rowIndex}),O&&(this.selectionKeys[O]=1)}this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}this.rowTouched=!1}}handleRowTouchEnd(e){this.rowTouched=!0}handleRowRightClick(e){if(this.contextMenu){const s=e.rowData;if("separate"===this.contextMenuSelectionMode)this.contextMenuSelection=s,this.contextMenuSelectionChange.emit(s),this.onContextMenuSelect.emit({originalEvent:e.originalEvent,data:s,index:e.rowIndex}),this.contextMenu.show(e.originalEvent),this.tableService.onContextMenu(s);else if("joint"===this.contextMenuSelectionMode){this.preventSelectionSetterPropagation=!0;let a=this.isSelected(s),l=this.dataKey?String(gr.resolveFieldData(s,this.dataKey)):null;a||(this.isSingleSelectionMode()?(this.selection=s,this.selectionChange.emit(s),l&&(this.selectionKeys={},this.selectionKeys[l]=1)):this.isMultipleSelectionMode()&&(this._selection=this.selection?[...this.selection,s]:[s],this.selectionChange.emit(this.selection),l&&(this.selectionKeys[l]=1))),this.tableService.onSelectionChange(),this.contextMenu.show(e.originalEvent),this.onContextMenuSelect.emit({originalEvent:e,data:s,index:e.rowIndex})}}}selectRange(e,s){let a,l;this.anchorRowIndex>s?(a=s,l=this.anchorRowIndex):this.anchorRowIndex<s?(a=this.anchorRowIndex,l=s):(a=s,l=s),this.lazy&&this.paginator&&(a-=this.first,l-=this.first);let h=[];for(let v=a;v<=l;v++){let C=this.filteredValue?this.filteredValue[v]:this.value[v];if(!this.isSelected(C)){h.push(C),this._selection=[...this.selection,C];let O=this.dataKey?String(gr.resolveFieldData(C,this.dataKey)):null;O&&(this.selectionKeys[O]=1)}}this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e,data:h,type:"row"})}clearSelectionRange(e){let s,a;this.rangeRowIndex>this.anchorRowIndex?(s=this.anchorRowIndex,a=this.rangeRowIndex):this.rangeRowIndex<this.anchorRowIndex?(s=this.rangeRowIndex,a=this.anchorRowIndex):(s=this.rangeRowIndex,a=this.rangeRowIndex);for(let l=s;l<=a;l++){let h=this.value[l],v=this.findIndexInSelection(h);this._selection=this.selection.filter((O,G)=>G!=v);let C=this.dataKey?String(gr.resolveFieldData(h,this.dataKey)):null;C&&delete this.selectionKeys[C],this.onRowUnselect.emit({originalEvent:e,data:h,type:"row"})}}isSelected(e){return!(!e||!this.selection)&&(this.dataKey?void 0!==this.selectionKeys[gr.resolveFieldData(e,this.dataKey)]:this.selection instanceof Array?this.findIndexInSelection(e)>-1:this.equals(e,this.selection))}findIndexInSelection(e){let s=-1;if(this.selection&&this.selection.length)for(let a=0;a<this.selection.length;a++)if(this.equals(e,this.selection[a])){s=a;break}return s}toggleRowWithRadio(e,s){this.preventSelectionSetterPropagation=!0,this.selection!=s?(this._selection=s,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:s,type:"radiobutton"}),this.dataKey&&(this.selectionKeys={},this.selectionKeys[String(gr.resolveFieldData(s,this.dataKey))]=1)):(this._selection=null,this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:s,type:"radiobutton"})),this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowWithCheckbox(e,s){this.selection=this.selection||[];let a=this.isSelected(s),l=this.dataKey?String(gr.resolveFieldData(s,this.dataKey)):null;if(this.preventSelectionSetterPropagation=!0,a){let h=this.findIndexInSelection(s);this._selection=this.selection.filter((v,C)=>C!=h),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:s,type:"checkbox"}),l&&delete this.selectionKeys[l]}else this._selection=this.selection?[...this.selection,s]:[s],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:s,type:"checkbox"}),l&&(this.selectionKeys[l]=1);this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowsWithCheckbox(e,s){this._selection=s?this.filteredValue?this.filteredValue.slice():this.value.slice():[],this.preventSelectionSetterPropagation=!0,this.updateSelectionKeys(),this.selectionChange.emit(this._selection),this.tableService.onSelectionChange(),this.onHeaderCheckboxToggle.emit({originalEvent:e,checked:s}),this.isStateful()&&this.saveState()}equals(e,s){return"equals"===this.compareSelectionBy?e===s:gr.equals(e,s,this.dataKey)}filter(e,s,a){this.filterTimeout&&clearTimeout(this.filterTimeout),this.isFilterBlank(e)?this.filters[s]&&delete this.filters[s]:this.filters[s]={value:e,matchMode:a},this.filterTimeout=setTimeout(()=>{this._filter(),this.filterTimeout=null},this.filterDelay),this.anchorRowIndex=null}filterGlobal(e,s){this.filter(e,"global",s)}isFilterBlank(e){return null==e||"string"==typeof e&&0==e.trim().length||e instanceof Array&&0==e.length}_filter(){if(this.restoringFilter||(this.first=0,this.firstChange.emit(this.first)),this.lazy)this.onLazyLoad.emit(this.createLazyLoadMetadata());else{if(!this.value)return;if(this.hasFilter()){let e;if(this.filters.global){if(!this.columns&&!this.globalFilterFields)throw new Error("Global filtering requires dynamic columns or globalFilterFields to be defined.");e=this.globalFilterFields||this.columns}this.filteredValue=[];for(let s=0;s<this.value.length;s++){let v,a=!0,l=!1,h=!1;for(let C in this.filters)if(this.filters.hasOwnProperty(C)&&"global"!==C){h=!0;let O=C,G=this.filters[O];if(Array.isArray(G)){for(let te of G)if(a=this.executeLocalFilter(O,this.value[s],te),te.operator===Mw.OR&&a||te.operator===Mw.AND&&!a)break}else a=this.executeLocalFilter(O,this.value[s],G);if(!a)break}if(this.filters.global&&!l&&e)for(let C=0;C<e.length&&(l=this.filterService.filters[this.filters.global.matchMode](gr.resolveFieldData(this.value[s],e[C].field||e[C]),this.filters.global.value,this.filterLocale),!l);C++);v=this.filters.global?h?h&&a&&l:l:h&&a,v&&this.filteredValue.push(this.value[s])}this.filteredValue.length===this.value.length&&(this.filteredValue=null),this.paginator&&(this.totalRecords=this.filteredValue?this.filteredValue.length:this.value?this.value.length:0)}else this.filteredValue=null,this.paginator&&(this.totalRecords=this.value?this.value.length:0)}this.onFilter.emit({filters:this.filters,filteredValue:this.filteredValue||this.value}),this.tableService.onValueChange(this.value),this.isStateful()&&!this.restoringFilter&&this.saveState(),this.restoringFilter&&(this.restoringFilter=!1),this.cd.markForCheck(),this.scrollable&&this.resetScrollTop()}executeLocalFilter(e,s,a){let l=a.value,h=a.matchMode||kd.STARTS_WITH,v=gr.resolveFieldData(s,e);return this.filterService.filters[h](v,l,this.filterLocale)}hasFilter(){let e=!0;for(let s in this.filters)if(this.filters.hasOwnProperty(s)){e=!1;break}return!e}createLazyLoadMetadata(){return{first:this.first,rows:this.rows,sortField:this.sortField,sortOrder:this.sortOrder,filters:this.filters,globalFilter:this.filters&&this.filters.global?this.filters.global.value:null,multiSortMeta:this.multiSortMeta}}clear(){this._sortField=null,this._sortOrder=this.defaultSortOrder,this._multiSortMeta=null,this.tableService.onSort(null),this.filteredValue=null,this.tableService.onResetChange(),this.first=0,this.firstChange.emit(this.first),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.totalRecords=this._value?this._value.length:0}reset(){this.clear()}exportCSV(e){let s,a="",l=this.frozenColumns?[...this.frozenColumns,...this.columns]:this.columns;e&&e.selectionOnly?s=this.selection||[]:(s=this.filteredValue||this.value,this.frozenValue&&(s=s?[...this.frozenValue,...s]:this.frozenValue));for(let v=0;v<l.length;v++){let C=l[v];!1!==C.exportable&&C.field&&(a+='"'+(C.header||C.field)+'"',v<l.length-1&&(a+=this.csvSeparator))}s.forEach((v,C)=>{a+="\n";for(let O=0;O<l.length;O++){let G=l[O];if(!1!==G.exportable&&G.field){let te=gr.resolveFieldData(v,G.field);te=null!=te?this.exportFunction?this.exportFunction({data:te,field:G.field}):String(te).replace(/"/g,'""'):"",a+='"'+te+'"',O<l.length-1&&(a+=this.csvSeparator)}}});let h=new Blob([a],{type:"text/csv;charset=utf-8;"});if(window.navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(h,this.exportFilename+".csv");else{let v=document.createElement("a");v.style.display="none",document.body.appendChild(v),void 0!==v.download?(v.setAttribute("href",URL.createObjectURL(h)),v.setAttribute("download",this.exportFilename+".csv"),v.click()):(a="data:text/csv;charset=utf-8,"+a,window.open(encodeURI(a))),document.body.removeChild(v)}}resetScrollTop(){this.virtualScroll?this.scrollToVirtualIndex(0):this.scrollTo({top:0})}scrollToVirtualIndex(e){this.virtualScrollBody&&this.virtualScrollBody.scrollToIndex(e)}onScrollIndexChange(e){this.lazy&&(this.virtualScrollTimeout&&clearTimeout(this.virtualScrollTimeout),this.virtualScrollTimeout=setTimeout(()=>{let s=Math.floor(e/this.rows),a=0===s?0:(s-1)*this.rows,l=0===s?2*this.rows:3*this.rows;s!==this.virtualPage&&(this.virtualPage=s,this.onLazyLoad.emit({first:a,rows:l,sortField:this.sortField,sortOrder:this.sortOrder,filters:this.filters,globalFilter:this.filters&&this.filters.global?this.filters.global.value:null,multiSortMeta:this.multiSortMeta}))},this.virtualScrollDelay))}scrollTo(e){this.virtualScrollBody?this.virtualScrollBody.scrollTo(e):this.wrapperViewChild.nativeElement.scrollTo?this.wrapperViewChild.nativeElement.scrollTo(e):(this.wrapperViewChild.nativeElement.scrollLeft=e.left,this.wrapperViewChild.nativeElement.scrollTop=e.top)}updateEditingCell(e,s,a,l){this.editingCell=e,this.editingCellData=s,this.editingCellField=a,this.editingCellRowIndex=l,this.bindDocumentEditListener()}isEditingCellValid(){return this.editingCell&&0===cn.find(this.editingCell,".ng-invalid.ng-dirty").length}bindDocumentEditListener(){this.documentEditListener||(this.documentEditListener=e=>{this.editingCell&&!this.selfClick&&this.isEditingCellValid()&&(cn.removeClass(this.editingCell,"p-cell-editing"),this.editingCell=null,this.onEditComplete.emit({field:this.editingCellField,data:this.editingCellData,originalEvent:e,index:this.editingCellRowIndex}),this.editingCellField=null,this.editingCellData=null,this.editingCellRowIndex=null,this.unbindDocumentEditListener(),this.cd.markForCheck(),this.overlaySubscription&&this.overlaySubscription.unsubscribe()),this.selfClick=!1},document.addEventListener("click",this.documentEditListener))}unbindDocumentEditListener(){this.documentEditListener&&(document.removeEventListener("click",this.documentEditListener),this.documentEditListener=null)}initRowEdit(e){let s=String(gr.resolveFieldData(e,this.dataKey));this.editingRowKeys[s]=!0}saveRowEdit(e,s){if(0===cn.find(s,".ng-invalid.ng-dirty").length){let a=String(gr.resolveFieldData(e,this.dataKey));delete this.editingRowKeys[a]}}cancelRowEdit(e){let s=String(gr.resolveFieldData(e,this.dataKey));delete this.editingRowKeys[s]}toggleRow(e,s){if(!this.dataKey)throw new Error("dataKey must be defined to use row expansion");let a=String(gr.resolveFieldData(e,this.dataKey));null!=this.expandedRowKeys[a]?(delete this.expandedRowKeys[a],this.onRowCollapse.emit({originalEvent:s,data:e})):("single"===this.rowExpandMode&&(this.expandedRowKeys={}),this.expandedRowKeys[a]=!0,this.onRowExpand.emit({originalEvent:s,data:e})),s&&s.preventDefault(),this.isStateful()&&this.saveState()}isRowExpanded(e){return!0===this.expandedRowKeys[String(gr.resolveFieldData(e,this.dataKey))]}isRowEditing(e){return!0===this.editingRowKeys[String(gr.resolveFieldData(e,this.dataKey))]}isSingleSelectionMode(){return"single"===this.selectionMode}isMultipleSelectionMode(){return"multiple"===this.selectionMode}onColumnResizeBegin(e){let s=cn.getOffset(this.containerViewChild.nativeElement).left;this.resizeColumnElement=e.target.parentElement,this.columnResizing=!0,this.lastResizerHelperX=e.pageX-s+this.containerViewChild.nativeElement.scrollLeft,this.onColumnResize(e),e.preventDefault()}onColumnResize(e){let s=cn.getOffset(this.containerViewChild.nativeElement).left;cn.addClass(this.containerViewChild.nativeElement,"p-unselectable-text"),this.resizeHelperViewChild.nativeElement.style.height=this.containerViewChild.nativeElement.offsetHeight+"px",this.resizeHelperViewChild.nativeElement.style.top="0px",this.resizeHelperViewChild.nativeElement.style.left=e.pageX-s+this.containerViewChild.nativeElement.scrollLeft+"px",this.resizeHelperViewChild.nativeElement.style.display="block"}onColumnResizeEnd(){let e=this.resizeHelperViewChild.nativeElement.offsetLeft-this.lastResizerHelperX,a=this.resizeColumnElement.offsetWidth+e;if(a>=(this.resizeColumnElement.style.minWidth||15)){if("fit"===this.columnResizeMode){let h=this.resizeColumnElement.nextElementSibling,v=h.offsetWidth-e;a>15&&v>15&&(this.scrollable?this.resizeTableCells(a,v):(this.resizeColumnElement.style.width=a+"px",h&&(h.style.width=v+"px")))}else if("expand"===this.columnResizeMode){let h=this.tableViewChild.nativeElement.offsetWidth+e;if(this.scrollable){this.resizeTableCells(a,null);let v=cn.calculateScrollbarWidth(this.wrapperViewChild.nativeElement),C=this.containerViewChild.nativeElement.offsetWidth>h+v;this.tableViewChild.nativeElement.style.width=h+"px",this.wrapperViewChild.nativeElement.style.width=C?h+v+"px":"auto"}else this.tableViewChild.nativeElement.style.width=h+"px",this.resizeColumnElement.style.width=a+"px"}this.onColResize.emit({element:this.resizeColumnElement,delta:e}),this.isStateful()&&this.saveState()}this.resizeHelperViewChild.nativeElement.style.display="none",cn.removeClass(this.containerViewChild.nativeElement,"p-unselectable-text")}resizeTableCells(e,s){let a=cn.index(this.resizeColumnElement),l=[];cn.find(this.containerViewChild.nativeElement,".p-datatable-thead > tr > th").forEach(C=>l.push(cn.getOuterWidth(C))),this.destroyStyleElement(),this.createStyleElement();let v="";l.forEach((C,O)=>{let G=O===a?e:s&&O===a+1?s:C;v+=`\n                #${this.id} .p-datatable-thead > tr > th:nth-child(${O+1}) {\n                    flex: 0 0 ${G}px;\n                }\n\n                #${this.id} .p-datatable-tbody > tr > td:nth-child(${O+1}) {\n                    flex: 0 0 ${G}px;\n                }\n            `}),this.styleElement.innerHTML=v}onColumnDragStart(e,s){this.reorderIconWidth=cn.getHiddenElementOuterWidth(this.reorderIndicatorUpViewChild.nativeElement),this.reorderIconHeight=cn.getHiddenElementOuterHeight(this.reorderIndicatorDownViewChild.nativeElement),this.draggedColumn=s,e.dataTransfer.setData("text","b")}onColumnDragEnter(e,s){if(this.reorderableColumns&&this.draggedColumn&&s){e.preventDefault();let a=cn.getOffset(this.containerViewChild.nativeElement),l=cn.getOffset(s);if(this.draggedColumn!=s){let h=cn.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),v=cn.indexWithinGroup(s,"preorderablecolumn"),C=l.left-a.left,G=l.left+s.offsetWidth/2;this.reorderIndicatorUpViewChild.nativeElement.style.top=l.top-a.top-(this.reorderIconHeight-1)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.top=l.top-a.top+s.offsetHeight+"px",e.pageX>G?(this.reorderIndicatorUpViewChild.nativeElement.style.left=C+s.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=C+s.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=1):(this.reorderIndicatorUpViewChild.nativeElement.style.left=C-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=C-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=-1),v-h==1&&-1===this.dropPosition||v-h==-1&&1===this.dropPosition?(this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none"):(this.reorderIndicatorUpViewChild.nativeElement.style.display="block",this.reorderIndicatorDownViewChild.nativeElement.style.display="block")}else e.dataTransfer.dropEffect="none"}}onColumnDragLeave(e){this.reorderableColumns&&this.draggedColumn&&(e.preventDefault(),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none")}onColumnDrop(e,s){if(e.preventDefault(),this.draggedColumn){let a=cn.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),l=cn.indexWithinGroup(s,"preorderablecolumn"),h=a!=l;h&&(l-a==1&&-1===this.dropPosition||a-l==1&&1===this.dropPosition)&&(h=!1),h&&l<a&&1===this.dropPosition&&(l+=1),h&&l>a&&-1===this.dropPosition&&(l-=1),h&&(gr.reorderArray(this.columns,a,l),this.onColReorder.emit({dragIndex:a,dropIndex:l,columns:this.columns}),this.isStateful()&&this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.saveState()})})),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none",this.draggedColumn.draggable=!1,this.draggedColumn=null,this.dropPosition=null}}onRowDragStart(e,s){this.rowDragging=!0,this.draggedRowIndex=s,e.dataTransfer.setData("text","b")}onRowDragOver(e,s,a){if(this.rowDragging&&this.draggedRowIndex!==s){let l=cn.getOffset(a).top+cn.getWindowScrollTop(),h=e.pageY,v=l+cn.getOuterHeight(a)/2,C=a.previousElementSibling;h<v?(cn.removeClass(a,"p-datatable-dragpoint-bottom"),this.droppedRowIndex=s,C?cn.addClass(C,"p-datatable-dragpoint-bottom"):cn.addClass(a,"p-datatable-dragpoint-top")):(C?cn.removeClass(C,"p-datatable-dragpoint-bottom"):cn.addClass(a,"p-datatable-dragpoint-top"),this.droppedRowIndex=s+1,cn.addClass(a,"p-datatable-dragpoint-bottom"))}}onRowDragLeave(e,s){let a=s.previousElementSibling;a&&cn.removeClass(a,"p-datatable-dragpoint-bottom"),cn.removeClass(s,"p-datatable-dragpoint-bottom"),cn.removeClass(s,"p-datatable-dragpoint-top")}onRowDragEnd(e){this.rowDragging=!1,this.draggedRowIndex=null,this.droppedRowIndex=null}onRowDrop(e,s){if(null!=this.droppedRowIndex){let a=this.draggedRowIndex>this.droppedRowIndex?this.droppedRowIndex:0===this.droppedRowIndex?0:this.droppedRowIndex-1;gr.reorderArray(this.value,this.draggedRowIndex,a),this.onRowReorder.emit({dragIndex:this.draggedRowIndex,dropIndex:a})}this.onRowDragLeave(e,s),this.onRowDragEnd(e)}isEmpty(){let e=this.filteredValue||this.value;return null==e||0==e.length}getBlockableElement(){return this.el.nativeElement.children[0]}getStorage(){switch(this.stateStorage){case"local":return window.localStorage;case"session":return window.sessionStorage;default:throw new Error(this.stateStorage+' is not a valid value for the state storage, supported values are "local" and "session".')}}isStateful(){return null!=this.stateKey}saveState(){const e=this.getStorage();let s={};this.paginator&&(s.first=this.first,s.rows=this.rows),this.sortField&&(s.sortField=this.sortField,s.sortOrder=this.sortOrder),this.multiSortMeta&&(s.multiSortMeta=this.multiSortMeta),this.hasFilter()&&(s.filters=this.filters),this.resizableColumns&&this.saveColumnWidths(s),this.reorderableColumns&&this.saveColumnOrder(s),this.selection&&(s.selection=this.selection),Object.keys(this.expandedRowKeys).length&&(s.expandedRowKeys=this.expandedRowKeys),e.setItem(this.stateKey,JSON.stringify(s)),this.onStateSave.emit(s)}clearState(){const e=this.getStorage();this.stateKey&&e.removeItem(this.stateKey)}restoreState(){const s=this.getStorage().getItem(this.stateKey),a=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/;if(s){let h=JSON.parse(s,function(h,v){return"string"==typeof v&&a.test(v)?new Date(v):v});this.paginator&&(void 0!==this.first&&(this.first=h.first,this.firstChange.emit(this.first)),void 0!==this.rows&&(this.rows=h.rows,this.rowsChange.emit(this.rows))),h.sortField&&(this.restoringSort=!0,this._sortField=h.sortField,this._sortOrder=h.sortOrder),h.multiSortMeta&&(this.restoringSort=!0,this._multiSortMeta=h.multiSortMeta),h.filters&&(this.restoringFilter=!0,this.filters=h.filters),this.resizableColumns&&(this.columnWidthsState=h.columnWidths,this.tableWidthState=h.tableWidth,this.wrapperWidthState=h.wrapperWidth),h.expandedRowKeys&&(this.expandedRowKeys=h.expandedRowKeys),h.selection&&Promise.resolve(null).then(()=>this.selectionChange.emit(h.selection)),this.stateRestored=!0,this.onStateRestore.emit(h)}}saveColumnWidths(e){let s=[];cn.find(this.containerViewChild.nativeElement,".p-datatable-thead > tr > th").forEach(l=>s.push(cn.getOuterWidth(l))),e.columnWidths=s.join(","),"expand"===this.columnResizeMode&&(e.tableWidth=cn.getOuterWidth(this.tableViewChild.nativeElement)+"px",e.wrapperWidth=this.wrapperViewChild.nativeElement.style.width)}restoreColumnWidths(){if(this.columnWidthsState){let e=this.columnWidthsState.split(",");if("expand"===this.columnResizeMode&&(this.tableWidthState&&(this.tableViewChild.nativeElement.style.width=this.tableWidthState),this.wrapperWidthState&&(this.wrapperViewChild.nativeElement.style.width=this.wrapperWidthState)),this.createStyleElement(),this.scrollable&&e&&e.length>0){let s="";e.forEach((a,l)=>{s+=`\n                            #${this.id} .p-datatable-thead > tr > th:nth-child(${l+1}) {\n                                flex: 0 0 ${a}px;\n                            }\n\n                            #${this.id} .p-datatable-tbody > tr > td:nth-child(${l+1}) {\n                                flex: 0 0 ${a}px;\n                            }\n                        `}),this.styleElement.innerHTML=s}else cn.find(this.tableViewChild.nativeElement,".p-datatable-thead > tr > th").forEach((s,a)=>{s.style.width=e[a]+"px"})}}saveColumnOrder(e){if(this.columns){let s=[];this.columns.map(a=>{s.push(a.field||a.key)}),e.columnOrder=s}}restoreColumnOrder(){const s=this.getStorage().getItem(this.stateKey);if(s){let l=JSON.parse(s).columnOrder;if(l){let h=[];l.map(v=>{let C=this.findColumnByKey(v);C&&h.push(C)}),this.columnOrderStateRestored=!0,this.columns=h}}}updateScrollWidth(){if(this.tableViewChild&&this.tableViewChild.nativeElement){let e=cn.getWidth(this.tableViewChild.nativeElement.parentElement);this.tableViewChild.nativeElement.style.width=this.tableViewChild.nativeElement.scrollWidth>e?this.tableViewChild.nativeElement.scrollWidth+"px":e-cn.calculateScrollbarHeight()+"px"}}findColumnByKey(e){if(!this.columns)return null;for(let s of this.columns)if(s.key===e||s.field===e)return s}createStyleElement(){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement)}createResponsiveStyle(){this.responsiveStyleElement||(this.responsiveStyleElement=document.createElement("style"),this.responsiveStyleElement.type="text/css",document.head.appendChild(this.responsiveStyleElement),this.responsiveStyleElement.innerHTML=`\n@media screen and (max-width: ${this.breakpoint}) {\n    #${this.id} .p-datatable-thead > tr > th,\n    #${this.id} .p-datatable-tfoot > tr > td {\n        display: none !important;\n    }\n\n    #${this.id} .p-datatable-tbody > tr > td {\n        display: flex;\n        width: 100% !important;\n        align-items: center;\n        justify-content: space-between;\n    }\n\n    #${this.id} .p-datatable-tbody > tr > td:not(:last-child) {\n        border: 0 none;\n    }\n\n    #${this.id}.p-datatable-gridlines .p-datatable-tbody > tr > td:last-child {\n        border-top: 0;\n        border-right: 0;\n        border-left: 0;\n    }\n\n    #${this.id} .p-datatable-tbody > tr > td > .p-column-title {\n        display: block;\n    }\n}\n`)}destroyResponsiveStyle(){this.responsiveStyleElement&&(document.head.removeChild(this.responsiveStyleElement),this.responsiveStyleElement=null)}destroyStyleElement(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.unbindDocumentEditListener(),this.editingCell=null,this.initialized=null,this.virtualScrollSubscription&&this.virtualScrollSubscription.unsubscribe(),this.destroyStyleElement(),this.destroyResponsiveStyle()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(OF),o.Y36(o.sBO),o.Y36($u),o.Y36(U0))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-table"]],contentQueries:function(e,s,a){if(1&e&&o.Suo(a,Rl,4),2&e){let l;o.iGM(l=o.CRH())&&(s.templates=l)}},viewQuery:function(e,s){if(1&e&&(o.Gf(Zse,5),o.Gf(Gse,5),o.Gf(Wse,5),o.Gf(qse,5),o.Gf($se,5),o.Gf(Qse,5),o.Gf(Xse,5),o.Gf(Nw,5)),2&e){let a;o.iGM(a=o.CRH())&&(s.containerViewChild=a.first),o.iGM(a=o.CRH())&&(s.resizeHelperViewChild=a.first),o.iGM(a=o.CRH())&&(s.reorderIndicatorUpViewChild=a.first),o.iGM(a=o.CRH())&&(s.reorderIndicatorDownViewChild=a.first),o.iGM(a=o.CRH())&&(s.wrapperViewChild=a.first),o.iGM(a=o.CRH())&&(s.tableViewChild=a.first),o.iGM(a=o.CRH())&&(s.tableHeaderViewChild=a.first),o.iGM(a=o.CRH())&&(s.virtualScrollBody=a.first)}},inputs:{frozenColumns:"frozenColumns",frozenValue:"frozenValue",style:"style",styleClass:"styleClass",tableStyle:"tableStyle",tableStyleClass:"tableStyleClass",paginator:"paginator",pageLinks:"pageLinks",rowsPerPageOptions:"rowsPerPageOptions",alwaysShowPaginator:"alwaysShowPaginator",paginatorPosition:"paginatorPosition",paginatorDropdownAppendTo:"paginatorDropdownAppendTo",paginatorDropdownScrollHeight:"paginatorDropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:"showCurrentPageReport",showJumpToPageDropdown:"showJumpToPageDropdown",showFirstLastIcon:"showFirstLastIcon",showPageLinks:"showPageLinks",defaultSortOrder:"defaultSortOrder",sortMode:"sortMode",resetPageOnSort:"resetPageOnSort",selectionMode:"selectionMode",contextMenuSelection:"contextMenuSelection",contextMenuSelectionMode:"contextMenuSelectionMode",dataKey:"dataKey",metaKeySelection:"metaKeySelection",rowTrackBy:"rowTrackBy",lazy:"lazy",lazyLoadOnInit:"lazyLoadOnInit",compareSelectionBy:"compareSelectionBy",csvSeparator:"csvSeparator",exportFilename:"exportFilename",filters:"filters",globalFilterFields:"globalFilterFields",filterDelay:"filterDelay",filterLocale:"filterLocale",expandedRowKeys:"expandedRowKeys",editingRowKeys:"editingRowKeys",rowExpandMode:"rowExpandMode",scrollable:"scrollable",scrollDirection:"scrollDirection",rowGroupMode:"rowGroupMode",scrollHeight:"scrollHeight",virtualScroll:"virtualScroll",virtualScrollDelay:"virtualScrollDelay",virtualRowHeight:"virtualRowHeight",frozenWidth:"frozenWidth",responsive:"responsive",contextMenu:"contextMenu",resizableColumns:"resizableColumns",columnResizeMode:"columnResizeMode",reorderableColumns:"reorderableColumns",loading:"loading",loadingIcon:"loadingIcon",showLoader:"showLoader",rowHover:"rowHover",customSort:"customSort",showInitialSortBadge:"showInitialSortBadge",autoLayout:"autoLayout",exportFunction:"exportFunction",stateKey:"stateKey",stateStorage:"stateStorage",editMode:"editMode",groupRowsBy:"groupRowsBy",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx",responsiveLayout:"responsiveLayout",breakpoint:"breakpoint",value:"value",columns:"columns",first:"first",rows:"rows",totalRecords:"totalRecords",sortField:"sortField",sortOrder:"sortOrder",multiSortMeta:"multiSortMeta",selection:"selection"},outputs:{selectionChange:"selectionChange",contextMenuSelectionChange:"contextMenuSelectionChange",onRowSelect:"onRowSelect",onRowUnselect:"onRowUnselect",onPage:"onPage",onSort:"onSort",onFilter:"onFilter",onLazyLoad:"onLazyLoad",onRowExpand:"onRowExpand",onRowCollapse:"onRowCollapse",onContextMenuSelect:"onContextMenuSelect",onColResize:"onColResize",onColReorder:"onColReorder",onRowReorder:"onRowReorder",onEditInit:"onEditInit",onEditComplete:"onEditComplete",onEditCancel:"onEditCancel",onHeaderCheckboxToggle:"onHeaderCheckboxToggle",sortFunction:"sortFunction",firstChange:"firstChange",rowsChange:"rowsChange",onStateSave:"onStateSave",onStateRestore:"onStateRestore"},features:[o._Bn([OF]),o.TTD],decls:14,vars:33,consts:[[3,"ngStyle","ngClass"],["container",""],["class","p-datatable-loading-overlay p-component-overlay",4,"ngIf"],["class","p-datatable-header",4,"ngIf"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","onPageChange",4,"ngIf"],[1,"p-datatable-wrapper",3,"ngStyle"],["wrapper",""],["role","table","class","p-datatable-table",3,"ngClass","ngStyle",4,"ngIf"],["tabindex","0","class","p-datatable-virtual-scrollable-body",3,"itemSize","height","minBufferPx","maxBufferPx","scrolledIndexChange",4,"ngIf"],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","onPageChange",4,"ngIf"],["class","p-datatable-footer",4,"ngIf"],["class","p-column-resizer-helper","style","display:none",4,"ngIf"],["class","pi pi-arrow-down p-datatable-reorder-indicator-up","style","display:none",4,"ngIf"],["class","pi pi-arrow-up p-datatable-reorder-indicator-down","style","display:none",4,"ngIf"],[1,"p-datatable-loading-overlay","p-component-overlay"],[1,"p-datatable-header"],[4,"ngTemplateOutlet"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","onPageChange"],["role","table",1,"p-datatable-table",3,"ngClass","ngStyle"],["table",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-datatable-thead"],["class","p-datatable-tbody p-datatable-frozen-tbody",3,"value","frozenRows","pTableBody","pTableBodyTemplate","frozen",4,"ngIf"],[1,"p-datatable-tbody",3,"value","pTableBody","pTableBodyTemplate"],["class","p-datatable-tfoot",4,"ngIf"],[1,"p-datatable-tbody","p-datatable-frozen-tbody",3,"value","frozenRows","pTableBody","pTableBodyTemplate","frozen"],[1,"p-datatable-tfoot"],["tabindex","0",1,"p-datatable-virtual-scrollable-body",3,"itemSize","minBufferPx","maxBufferPx","scrolledIndexChange"],["tableHeader",""],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","onPageChange"],[1,"p-datatable-footer"],[1,"p-column-resizer-helper",2,"display","none"],["resizeHelper",""],[1,"pi","pi-arrow-down","p-datatable-reorder-indicator-up",2,"display","none"],["reorderIndicatorUp",""],[1,"pi","pi-arrow-up","p-datatable-reorder-indicator-down",2,"display","none"],["reorderIndicatorDown",""]],template:function(e,s){1&e&&(o.TgZ(0,"div",0,1),o.YNc(2,Jse,2,2,"div",2),o.YNc(3,eoe,2,1,"div",3),o.YNc(4,toe,1,16,"p-paginator",4),o.TgZ(5,"div",5,6),o.YNc(7,aoe,8,15,"table",7),o.YNc(8,poe,10,20,"cdk-virtual-scroll-viewport",8),o.qZA(),o.YNc(9,foe,1,16,"p-paginator",9),o.YNc(10,goe,2,1,"div",10),o.YNc(11,_oe,2,0,"div",11),o.YNc(12,yoe,2,0,"span",12),o.YNc(13,voe,2,0,"span",13),o.qZA()),2&e&&(o.Tol(s.styleClass),o.Q6J("ngStyle",s.style)("ngClass",o.rFY(16,boe,[s.rowHover||s.selectionMode,s.autoLayout,s.resizableColumns,s.resizableColumns&&"fit"===s.columnResizeMode,s.scrollable,s.scrollable&&"vertical"===s.scrollDirection,s.scrollable&&"horizontal"===s.scrollDirection,s.scrollable&&"both"===s.scrollDirection,s.scrollable&&"flex"===s.scrollHeight,"stack"===s.responsiveLayout,"scroll"===s.responsiveLayout,s.responsive,null!=s.headerGroupedTemplate,null!=s.footerGroupedTemplate])),o.uIk("id",s.id),o.xp6(2),o.Q6J("ngIf",s.loading&&s.showLoader),o.xp6(1),o.Q6J("ngIf",s.captionTemplate),o.xp6(1),o.Q6J("ngIf",s.paginator&&("top"===s.paginatorPosition||"both"==s.paginatorPosition)),o.xp6(1),o.Q6J("ngStyle",o.VKq(31,xoe,s.scrollHeight)),o.xp6(2),o.Q6J("ngIf",!s.virtualScroll),o.xp6(1),o.Q6J("ngIf",s.virtualScroll),o.xp6(1),o.Q6J("ngIf",s.paginator&&("bottom"===s.paginatorPosition||"both"==s.paginatorPosition)),o.xp6(1),o.Q6J("ngIf",s.summaryTemplate),o.xp6(1),o.Q6J("ngIf",s.resizableColumns),o.xp6(1),o.Q6J("ngIf",s.reorderableColumns),o.xp6(1),o.Q6J("ngIf",s.reorderableColumns))},directives:function(){return[qi,he,un,jr,Sre,Eae,Nw,BA]},styles:[".p-datatable{position:relative}.p-datatable table{border-collapse:collapse;width:100%;table-layout:fixed}.p-datatable .p-sortable-column{cursor:pointer;-webkit-user-select:none;-ms-user-select:none;user-select:none}.p-datatable .p-sortable-column .p-column-title,.p-datatable .p-sortable-column .p-sortable-column-badge,.p-datatable .p-sortable-column .p-sortable-column-icon{vertical-align:middle}.p-datatable .p-sortable-column .p-sortable-column-badge{display:inline-flex;align-items:center;justify-content:center}.p-datatable-auto-layout>.p-datatable-wrapper{overflow-x:auto}.p-datatable-auto-layout>.p-datatable-wrapper>table{table-layout:auto}.p-datatable-responsive-scroll>.p-datatable-wrapper{overflow-x:auto}.p-datatable-auto-layout>.p-datatable-wrapper>table,.p-datatable-responsive-scroll>.p-datatable-wrapper>table{table-layout:auto}.p-datatable-hoverable-rows .p-selectable-row{cursor:pointer}.p-datatable-scrollable .p-datatable-wrapper{position:relative;overflow:auto}.p-datatable-scrollable .p-datatable-table,.p-datatable-scrollable .p-datatable-tbody,.p-datatable-scrollable .p-datatable-tfoot,.p-datatable-scrollable .p-datatable-thead{display:block}.p-datatable-scrollable .p-datatable-tbody>tr,.p-datatable-scrollable .p-datatable-tfoot>tr,.p-datatable-scrollable .p-datatable-thead>tr{display:flex;flex-wrap:nowrap;width:100%}.p-datatable-scrollable .p-datatable-tbody>tr>td,.p-datatable-scrollable .p-datatable-tfoot>tr>td,.p-datatable-scrollable .p-datatable-thead>tr>th{display:flex;flex:1 1 0;align-items:center}.p-datatable-scrollable .p-datatable-thead{position:sticky;top:0;z-index:1}.p-datatable-scrollable .p-datatable-frozen-tbody{position:sticky;z-index:1}.p-datatable-scrollable .p-datatable-tfoot{position:sticky;bottom:0;z-index:1}.p-datatable-scrollable .p-frozen-column{position:sticky;background:inherit}.p-datatable-scrollable th.p-frozen-column{z-index:1}.p-datatable-scrollable-both .p-datatable-tbody>tr>td,.p-datatable-scrollable-both .p-datatable-tfoot>tr>td,.p-datatable-scrollable-both .p-datatable-thead>tr>th,.p-datatable-scrollable-horizontal .p-datatable-tfoot>tr>td,.p-datatable-scrollable-horizontal .p-datatable-thead>tr>th\n.p-datatable-scrollable-horizontal .p-datatable-tbody>tr>td{flex:0 0 auto}.p-datatable-flex-scrollable .p-datatable-wrapper{display:flex;flex-direction:column;flex:1;height:100%}.p-datatable-scrollable .p-rowgroup-header{position:sticky;z-index:1}.p-datatable-scrollable.p-datatable-grouped-footer .p-datatable-tfoot,.p-datatable-scrollable.p-datatable-grouped-header .p-datatable-thead{display:table;border-collapse:collapse;width:100%;table-layout:fixed}.p-datatable-scrollable.p-datatable-grouped-footer .p-datatable-tfoot>tr,.p-datatable-scrollable.p-datatable-grouped-header .p-datatable-thead>tr{display:table-row}.p-datatable-scrollable.p-datatable-grouped-footer .p-datatable-tfoot>tr>td,.p-datatable-scrollable.p-datatable-grouped-header .p-datatable-thead>tr>th{display:table-cell}.p-datatable-flex-scrollable{display:flex;flex-direction:column;flex:1;height:100%}.p-datatable-flex-scrollable .p-datatable-virtual-scrollable-body{flex:1}.p-datatable-resizable>.p-datatable-wrapper{overflow-x:auto}.p-datatable-resizable .p-datatable-tbody>tr>td,.p-datatable-resizable .p-datatable-tfoot>tr>td,.p-datatable-resizable .p-datatable-thead>tr>th{overflow:hidden;white-space:nowrap}.p-datatable-resizable .p-resizable-column{background-clip:padding-box;position:relative}.p-datatable-resizable-fit .p-resizable-column:last-child .p-column-resizer{display:none}.p-datatable .p-column-resizer{display:block;position:absolute!important;top:0;right:0;margin:0;width:.5rem;height:100%;padding:0;cursor:col-resize;border:1px solid transparent}.p-datatable .p-column-resizer-helper{width:1px;position:absolute;z-index:10;display:none}.p-datatable .p-row-editor-cancel,.p-datatable .p-row-editor-init,.p-datatable .p-row-editor-save,.p-datatable .p-row-toggler{display:inline-flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-datatable-reorder-indicator-down,.p-datatable-reorder-indicator-up{position:absolute;display:none}.p-datatable-reorderablerow-handle,[pReorderableColumn]{cursor:move}.p-datatable .p-datatable-loading-overlay{position:absolute;display:flex;align-items:center;justify-content:center;z-index:2}.p-column-filter-row{display:flex;align-items:center;width:100%}.p-column-filter-menu{display:inline-flex}.p-column-filter-row p-columnfilterformelement{flex:1 1 auto;width:1%}.p-column-filter-clear-button,.p-column-filter-menu-button{display:inline-flex;justify-content:center;align-items:center;cursor:pointer;text-decoration:none;overflow:hidden;position:relative}.p-column-filter-overlay{position:absolute;top:0;left:0}.p-column-filter-row-items{margin:0;padding:0;list-style:none}.p-column-filter-row-item{cursor:pointer}.p-column-filter-add-button,.p-column-filter-remove-button{justify-content:center}.p-column-filter-add-button .p-button-label,.p-column-filter-remove-button .p-button-label{flex-grow:0}.p-column-filter-buttonbar{display:flex;align-items:center;justify-content:space-between}.p-column-filter-buttonbar .p-button{width:auto}.p-datatable .p-datatable-tbody>tr>td>.p-column-title{display:none}cdk-virtual-scroll-viewport{outline:0 none}"],encapsulation:2}),t})(),Eae=(()=>{class t{constructor(e,s,a,l){this.dt=e,this.tableService=s,this.cd=a,this.el=l,this.subscription=this.dt.tableService.valueSource$.subscribe(()=>{this.dt.virtualScroll&&this.cd.detectChanges()})}get value(){return this._value}set value(e){this._value=e,this.frozenRows&&this.updateFrozenRowStickyPosition(),this.dt.scrollable&&"subheader"===this.dt.rowGroupMode&&this.updateFrozenRowGroupHeaderStickyPosition()}ngAfterViewInit(){this.frozenRows&&this.updateFrozenRowStickyPosition(),this.dt.scrollable&&"subheader"===this.dt.rowGroupMode&&this.updateFrozenRowGroupHeaderStickyPosition()}shouldRenderRowGroupHeader(e,s,a){let l=gr.resolveFieldData(s,this.dt.groupRowsBy),h=e[a-1];return!h||l!==gr.resolveFieldData(h,this.dt.groupRowsBy)}shouldRenderRowGroupFooter(e,s,a){let l=gr.resolveFieldData(s,this.dt.groupRowsBy),h=e[a+1];return!h||l!==gr.resolveFieldData(h,this.dt.groupRowsBy)}shouldRenderRowspan(e,s,a){let l=gr.resolveFieldData(s,this.dt.groupRowsBy),h=e[a-1];return!h||l!==gr.resolveFieldData(h,this.dt.groupRowsBy)}calculateRowGroupSize(e,s,a){let l=gr.resolveFieldData(s,this.dt.groupRowsBy),h=l,v=0;for(;l===h;){v++;let C=e[++a];if(!C)break;h=gr.resolveFieldData(C,this.dt.groupRowsBy)}return 1===v?null:v}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}updateFrozenRowStickyPosition(){this.el.nativeElement.style.top=cn.getOuterHeight(this.el.nativeElement.previousElementSibling)+"px"}updateFrozenRowGroupHeaderStickyPosition(){if(this.el.nativeElement.previousElementSibling){let e=cn.getOuterHeight(this.el.nativeElement.previousElementSibling);this.dt.rowGroupHeaderStyleObject.top=e+"px"}}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(cx),o.Y36(OF),o.Y36(o.sBO),o.Y36(o.SBq))},t.\u0275cmp=o.Xpm({type:t,selectors:[["","pTableBody",""]],inputs:{columns:["pTableBody","columns"],template:["pTableBodyTemplate","template"],value:"value",frozen:"frozen",frozenRows:"frozenRows"},attrs:woe,decls:6,vars:6,consts:[[4,"ngIf"],["ngFor","",3,"ngForOf","ngForTrackBy"],["role","row",4,"ngIf"],["role","row"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["cdkVirtualFor","",3,"cdkVirtualForOf","cdkVirtualForTrackBy","cdkVirtualForTemplateCacheSize"]],template:function(e,s){1&e&&(o.YNc(0,Poe,2,2,"ng-container",0),o.YNc(1,Foe,2,3,"ng-container",0),o.YNc(2,Goe,2,2,"ng-container",0),o.YNc(3,Xoe,2,2,"ng-container",0),o.YNc(4,Koe,2,5,"ng-container",0),o.YNc(5,tae,2,5,"ng-container",0)),2&e&&(o.Q6J("ngIf",!s.dt.expandedRowTemplate&&!s.dt.virtualScroll),o.xp6(1),o.Q6J("ngIf",!s.dt.expandedRowTemplate&&s.dt.virtualScroll),o.xp6(1),o.Q6J("ngIf",s.dt.expandedRowTemplate&&!(s.frozen&&s.dt.frozenExpandedRowTemplate)),o.xp6(1),o.Q6J("ngIf",s.dt.frozenExpandedRowTemplate&&s.frozen),o.xp6(1),o.Q6J("ngIf",s.dt.loading),o.xp6(1),o.Q6J("ngIf",s.dt.isEmpty()&&!s.dt.loading))},directives:[un,mt,jr,Gg],encapsulation:2}),t})(),RF=(()=>{class t{constructor(e){this.dt=e,this.isEnabled()&&(this.subscription=this.dt.tableService.sortSource$.subscribe(s=>{this.updateSortState()}))}ngOnInit(){this.isEnabled()&&this.updateSortState()}updateSortState(){this.sorted=this.dt.isSorted(this.field),this.sortOrder=this.sorted?1===this.dt.sortOrder?"ascending":"descending":"none"}onClick(e){this.isEnabled()&&!this.isFilterElement(e.target)&&(this.updateSortState(),this.dt.sort({originalEvent:e,field:this.field}),cn.clearSelection())}onEnterKey(e){this.onClick(e)}isEnabled(){return!0!==this.pSortableColumnDisabled}isFilterElement(e){return cn.hasClass(e,"pi-filter-icon")||cn.hasClass(e,"p-column-filter-menu-button")}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(cx))},t.\u0275dir=o.lG2({type:t,selectors:[["","pSortableColumn",""]],hostVars:7,hostBindings:function(e,s){1&e&&o.NdJ("click",function(l){return s.onClick(l)})("keydown.enter",function(l){return s.onEnterKey(l)}),2&e&&(o.uIk("tabindex",s.isEnabled()?"0":null)("role","columnheader")("aria-sort",s.sortOrder),o.ekj("p-sortable-column",s.isEnabled())("p-highlight",s.sorted))},inputs:{field:["pSortableColumn","field"],pSortableColumnDisabled:"pSortableColumnDisabled"}}),t})(),FF=(()=>{class t{constructor(e,s){this.dt=e,this.cd=s,this.subscription=this.dt.tableService.sortSource$.subscribe(a=>{this.updateSortState()})}ngOnInit(){this.updateSortState()}onClick(e){e.preventDefault()}updateSortState(){if("single"===this.dt.sortMode)this.sortOrder=this.dt.isSorted(this.field)?this.dt.sortOrder:0;else if("multiple"===this.dt.sortMode){let e=this.dt.getSortMeta(this.field);this.sortOrder=e?e.order:0}this.cd.markForCheck()}getMultiSortMetaIndex(){let e=this.dt._multiSortMeta,s=-1;if(e&&"multiple"===this.dt.sortMode&&(this.dt.showInitialSortBadge||e.length>1))for(let a=0;a<e.length;a++){let l=e[a];if(l.field===this.field||l.field===this.field){s=a;break}}return s}isMultiSorted(){return"multiple"===this.dt.sortMode&&this.getMultiSortMetaIndex()>-1}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(cx),o.Y36(o.sBO))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-sortIcon"]],inputs:{field:"field"},decls:2,vars:6,consts:[[1,"p-sortable-column-icon","pi","pi-fw",3,"ngClass"],["class","p-sortable-column-badge",4,"ngIf"],[1,"p-sortable-column-badge"]],template:function(e,s){1&e&&(o._UZ(0,"i",0),o.YNc(1,nae,2,1,"span",1)),2&e&&(o.Q6J("ngClass",o.kEZ(2,iae,1===s.sortOrder,-1===s.sortOrder,0===s.sortOrder)),o.xp6(1),o.Q6J("ngIf",s.isMultiSorted()))},directives:[he,un],encapsulation:2,changeDetection:0}),t})(),Dae=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Ji,kre,Lk,KA,ef,XA,Ob,Nre,zse,HH,jre],Ha,ef]}),t})();function Aae(t,i){1&t&&(o.TgZ(0,"tr"),o._UZ(1,"th",5),o.TgZ(2,"th"),o._uU(3,"Company Name"),o.qZA(),o.TgZ(4,"th"),o._uU(5,"Product"),o.qZA(),o.TgZ(6,"th"),o._uU(7,"Unit Price"),o.qZA(),o.TgZ(8,"th"),o._uU(9,"Quantity"),o.qZA(),o.TgZ(10,"th"),o._uU(11,"Total Price"),o.qZA(),o.TgZ(12,"th"),o._uU(13,"Action"),o.qZA(),o.qZA())}function Iae(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"tr"),o._UZ(1,"td"),o.TgZ(2,"td"),o._uU(3),o.qZA(),o.TgZ(4,"td"),o._uU(5),o.qZA(),o.TgZ(6,"td"),o._uU(7),o.qZA(),o.TgZ(8,"td"),o.TgZ(9,"p-inputNumber",6,7),o.NdJ("ngModelChange",function(a){const h=o.CHM(e).rowIndex;return o.oxw().products[h].quantity=a})("click",function(){const a=o.CHM(e),l=a.rowIndex,h=a.$implicit,v=o.oxw();return v.quantityControl(l,v.products[l].quantity,h.brand,h.price)}),o.qZA(),o.qZA(),o.TgZ(11,"td"),o._uU(12),o.qZA(),o.TgZ(13,"td"),o.TgZ(14,"button",8),o.NdJ("click",function(){const l=o.CHM(e).$implicit,h=o.oxw();return h.deleteCart(l.brand,h.products.length)}),o._uU(15,"Delete"),o.qZA(),o.TgZ(16,"button",8),o.NdJ("click",function(){const l=o.CHM(e).$implicit;return o.oxw().pay(l.compname,l.price,l.brand,l.quantity,l.category,l)}),o._uU(17,"Pay"),o.qZA(),o.qZA(),o.qZA()}if(2&t){const e=i.$implicit,s=i.rowIndex,a=o.oxw();o.xp6(3),o.Oqu(e.compname),o.xp6(2),o.Oqu(e.brand),o.xp6(2),o.hij("",e.price," "),o.xp6(2),o.Udp("margin-left","-6rem")("text-align","center"),o.Q6J("disabled",a.x3.length>0)("ngModel",a.products[s].quantity)("min",1)("max",e.stock)("showButtons",!0)("step",1),o.xp6(3),o.Oqu(e.totalprice),o.xp6(2),o.Q6J("disabled",a.x3.length>0),o.xp6(2),o.Q6J("disabled",a.x3.length>0)}}let Lae=(()=>{class t{constructor(e,s,a,l){this.fs=e,this.router=s,this.fns=a,this.aR=l,this.products=[],this.selectedProducts3=[],this.cartinfo=[],this.cartinfo2=[],this.isMofile=!1,this.difference=0,this.x=0,this.checkInfo2=[],this.totalprice=0,this.checked=!1,this.overallprice=0,this.overallquantity=0,this.checkInfo=[],this.x1=[],this.x2=[],this.x3=[],this.x4=[],this.total=0,this.total2=0,this.isGettingCheckout=!1,this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("cart").snapshotChanges().subscribe(h=>{this.cartinfo=[],h.map(v=>{this.totalprice=Number(v.payload.doc.data().quantity)*v.payload.doc.data().price;let C={brand:v.payload.doc.data().brand,price:v.payload.doc.data().price,quantity:v.payload.doc.data().quantity,compname:v.payload.doc.data().compname,category:v.payload.doc.data().category,stock:v.payload.doc.data().stock,totalprice:this.totalprice};this.cartinfo.push(C),this.products=this.cartinfo})}),this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("checkout")}ngOnInit(){}info(e,s,a,l){this.status=a.checked,a.checked?(this.x1.push(e),this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("checkout").doc(e.brand).set(e),this.overallprice+=a.value.totalprice,this.disablequantity=!0,this.overallquantity+=a.value.quantity,this.x3.push(s)):a.checked||(this.x1.splice(s,1),this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("checkout").doc(e.brand).delete(),this.x3.splice(s-this.cartinfo.length,1),this.disablequantity=!1,this.overallprice-=a.value.totalprice,this.overallquantity-=a.value.quantity),new Set(this.x3),0===this.x3.length&&(this.overallprice=0,this.overallquantity=0),this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("cart").doc(e.brand).update({totalprice:e.totalprice,quantity:e.quantity})}quantityControl(e,s,a,l){this.total=0,this.total2=0;let h=s*l;this.x2=[],this.x4=[],this.cartinfo.forEach(v=>{this.x2.push(v.quantity*v.price),this.x4.push(v.quantity),console.log(this.x2),console.log(this.x4)});for(let v=0;v<this.x3.length;v++){let O=this.x2[v],G=this.x4[v];this.total+=O,this.total2+=G,console.log(O),console.log(G)}this.overallprice=this.total,this.overallquantity=this.total2,this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("cart").doc(a).update({quantity:s,totalprice:h})}totalBar(){this.x1.forEach(e=>{this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("cart").doc(e.brand).snapshotChanges().subscribe(s=>{var a;let l=null===(a=s.payload.data())||void 0===a?void 0:a.totalprice;console.log(l)})})}deleteCart(e,s){console.log(s),this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("cart").doc(e).delete(),1==s&&this.router.navigateByUrl("/adminaddorder")}pay(e,s,a,l,h,v){var C=this;return Qs(function*(){console.log(h,v),C.isGettingCheckout=!0,C.stripe=yield VL("pk_test_51JWyo0FAyW0TeHuLxronXkW18xbGcUCeGeOnk0CCq3W6Kl8gZ3OViSOqMctnmuMTptcchsU1ZsieUf4LAMHCfwxu00Hd2Nl8Rz"),C.tracking_number=`UMPSC${Math.floor(19999999*Math.random())+1e7}MY`,C.fns.httpsCallable("stripeCheckout")({productname:a,quantity:l,amount:s,compname:e,category:h,trackingnumber:C.tracking_number}).subscribe(function(){var G=Qs(function*(te){console.log({result:te}),C.uid=te,yield C.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("payment").doc(C.tracking_number).set({productname:a,quantity:l,compname:e,amount:s,status:"unpaid",uid:C.uid,category:h,ordertimestamp:null,preparetimestamp:null,shiptimestamp:null,completetimestamp:null,receivedstatus:!1,ratingstatus:!1}),localStorage.setItem("stripeCheckout",te),C.stripe.redirectToCheckout({sessionId:te}).then(function(pe){console.log(pe.error.message)})});return function(te){return G.apply(this,arguments)}}())})()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Sa),o.Y36(Eo),o.Y36(Ik),o.Y36(dc))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-admin-cart-page"]],decls:8,vars:2,consts:[[1,"title"],[1,"card"],["dataKey","brand",3,"value","selection","selectionChange"],["pTemplate","header"],["pTemplate","body"],[2,"width","3rem"],["buttonLayout","horizontal","spinnerMode","horizontal","decrementButtonClass","p-button-danger","incrementButtonClass","p-button-success","incrementButtonIcon","pi pi-plus","decrementButtonIcon","pi pi-minus",3,"disabled","ngModel","min","max","showButtons","step","ngModelChange","click"],["p",""],["mat-raised-button","",3,"disabled","click"]],template:function(e,s){1&e&&(o._UZ(0,"app-adminnavbarpage"),o.TgZ(1,"div",0),o.TgZ(2,"h4"),o._uU(3,"Shopping Cart"),o.qZA(),o.qZA(),o.TgZ(4,"div",1),o.TgZ(5,"p-table",2),o.NdJ("selectionChange",function(l){return s.selectedProducts3=l}),o.YNc(6,Aae,14,0,"ng-template",3),o.YNc(7,Iae,18,16,"ng-template",4),o.qZA(),o.qZA()),2&e&&(o.xp6(5),o.Q6J("value",s.products)("selection",s.selectedProducts3))},directives:[Zg,cx,Rl,PF,On,Wg,Dd],styles:["table[_ngcontent-%COMP%]{width:80%}input[type=number][_ngcontent-%COMP%]{padding:10px}p-inputNumber[_ngcontent-%COMP%]{margin-left:-20px}.title[_ngcontent-%COMP%]{margin:25px}"]}),t})();function Pae(t,i){if(1&t&&(o.TgZ(0,"span",10),o._uU(1),o.qZA()),2&t){const e=o.oxw(2);o.uIk("id",e.id+"_header"),o.xp6(1),o.Oqu(e.header)}}function Oae(t,i){1&t&&o.GkF(0)}function Rae(t,i){}function Fae(t,i){1&t&&o.YNc(0,Rae,0,0,"ng-template")}function Nae(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",11),o.NdJ("click",function(a){return o.CHM(e),o.oxw(2).onIconClick(a)})("keydown.enter",function(a){return o.CHM(e),o.oxw(2).onIconClick(a)}),o._UZ(1,"span"),o.qZA()}if(2&t){const e=o.oxw(2);o.uIk("id",e.id+"-label")("aria-controls",e.id+"-content")("aria-expanded",!e.collapsed),o.xp6(1),o.Tol(e.collapsed?e.expandIcon:e.collapseIcon)}}function zae(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",6),o.NdJ("click",function(a){return o.CHM(e),o.oxw().onHeaderClick(a)}),o.YNc(1,Pae,2,2,"span",7),o.Hsn(2,1),o.YNc(3,Oae,1,0,"ng-container",4),o.TgZ(4,"div",8),o.YNc(5,Fae,1,0,void 0,4),o.YNc(6,Nae,2,5,"button",9),o.qZA(),o.qZA()}if(2&t){const e=o.oxw();o.uIk("id",e.id+"-titlebar"),o.xp6(1),o.Q6J("ngIf",e.header),o.xp6(2),o.Q6J("ngTemplateOutlet",e.headerTemplate),o.xp6(2),o.Q6J("ngTemplateOutlet",e.iconTemplate),o.xp6(1),o.Q6J("ngIf",e.toggleable)}}function Bae(t,i){1&t&&o.GkF(0)}function Yae(t,i){1&t&&o.GkF(0)}function Hae(t,i){if(1&t&&(o.TgZ(0,"div",12),o.Hsn(1,2),o.YNc(2,Yae,1,0,"ng-container",4),o.qZA()),2&t){const e=o.oxw();o.xp6(2),o.Q6J("ngTemplateOutlet",e.footerTemplate)}}const Vae=["*",[["p-header"]],[["p-footer"]]],Uae=function(t){return{"p-panel p-component":!0,"p-panel-toggleable":t}},jae=function(t){return{transitionParams:t,height:"0",opacity:"0"}},Zae=function(t){return{value:"hidden",params:t}},Gae=function(t){return{transitionParams:t,height:"*",opacity:"1"}},Wae=function(t){return{value:"visible",params:t}},qae=["*","p-header","p-footer"];let $ae=0,Qae=(()=>{class t{constructor(e){this.el=e,this.collapsed=!1,this.expandIcon="pi pi-plus",this.collapseIcon="pi pi-minus",this.showHeader=!0,this.toggler="icon",this.collapsedChange=new o.vpe,this.onBeforeToggle=new o.vpe,this.onAfterToggle=new o.vpe,this.transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)",this.id="p-panel-"+$ae++}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"content":this.contentTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"icons":this.iconTemplate=e.template;break;default:this.contentTemplate=e.template}})}onHeaderClick(e){"header"===this.toggler&&this.toggle(e)}onIconClick(e){"icon"===this.toggler&&this.toggle(e)}toggle(e){if(this.animating)return!1;this.animating=!0,this.onBeforeToggle.emit({originalEvent:e,collapsed:this.collapsed}),this.toggleable&&(this.collapsed?this.expand(e):this.collapse(e)),e.preventDefault()}expand(e){this.collapsed=!1,this.collapsedChange.emit(this.collapsed)}collapse(e){this.collapsed=!0,this.collapsedChange.emit(this.collapsed)}getBlockableElement(){return this.el.nativeElement.children[0]}onToggleDone(e){this.animating=!1,this.onAfterToggle.emit({originalEvent:e,collapsed:this.collapsed})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-panel"]],contentQueries:function(e,s,a){if(1&e&&(o.Suo(a,EC,5),o.Suo(a,Rl,4)),2&e){let l;o.iGM(l=o.CRH())&&(s.footerFacet=l.first),o.iGM(l=o.CRH())&&(s.templates=l)}},inputs:{toggleable:"toggleable",header:"header",collapsed:"collapsed",style:"style",styleClass:"styleClass",expandIcon:"expandIcon",collapseIcon:"collapseIcon",showHeader:"showHeader",toggler:"toggler",transitionOptions:"transitionOptions"},outputs:{collapsedChange:"collapsedChange",onBeforeToggle:"onBeforeToggle",onAfterToggle:"onAfterToggle"},ngContentSelectors:qae,decls:7,vars:22,consts:[[3,"ngClass","ngStyle"],["class","p-panel-header",3,"click",4,"ngIf"],["role","region",1,"p-toggleable-content"],[1,"p-panel-content"],[4,"ngTemplateOutlet"],["class","p-panel-footer",4,"ngIf"],[1,"p-panel-header",3,"click"],["class","p-panel-title",4,"ngIf"],[1,"p-panel-icons"],["type","button","class","p-panel-header-icon p-panel-toggler p-link","pRipple","","role","tab",3,"click","keydown.enter",4,"ngIf"],[1,"p-panel-title"],["type","button","pRipple","","role","tab",1,"p-panel-header-icon","p-panel-toggler","p-link",3,"click","keydown.enter"],[1,"p-panel-footer"]],template:function(e,s){1&e&&(o.F$t(Vae),o.TgZ(0,"div",0),o.YNc(1,zae,7,5,"div",1),o.TgZ(2,"div",2),o.NdJ("@panelContent.done",function(l){return s.onToggleDone(l)}),o.TgZ(3,"div",3),o.Hsn(4),o.YNc(5,Bae,1,0,"ng-container",4),o.qZA(),o.YNc(6,Hae,3,1,"div",5),o.qZA(),o.qZA()),2&e&&(o.Tol(s.styleClass),o.Q6J("ngClass",o.VKq(12,Uae,s.toggleable))("ngStyle",s.style),o.uIk("id",s.id),o.xp6(1),o.Q6J("ngIf",s.showHeader),o.xp6(1),o.Q6J("@panelContent",s.collapsed?o.VKq(16,Zae,o.VKq(14,jae,s.animating?s.transitionOptions:"0ms")):o.VKq(20,Wae,o.VKq(18,Gae,s.animating?s.transitionOptions:"0ms"))),o.uIk("id",s.id+"-content")("aria-hidden",s.collapsed)("aria-labelledby",s.id+"-titlebar"),o.xp6(3),o.Q6J("ngTemplateOutlet",s.contentTemplate),o.xp6(1),o.Q6J("ngIf",s.footerFacet||s.footerTemplate))},directives:[he,qi,un,jr,Km],styles:[".p-panel-header{display:flex;justify-content:space-between;align-items:center}.p-panel-title{line-height:1}.p-panel-header-icon{display:inline-flex;justify-content:center;align-items:center;cursor:pointer;text-decoration:none;overflow:hidden;position:relative}"],encapsulation:2,data:{animation:[oa("panelContent",[bo("hidden",oi({height:"0",overflow:"hidden"})),bo("void",oi({height:"{{height}}"}),{params:{height:"0"}}),bo("visible",oi({height:"*"})),Ir("visible <=> hidden",[oi({overflow:"hidden"}),qr("{{transitionParams}}")]),Ir("void => hidden",qr("{{transitionParams}}")),Ir("void => visible",qr("{{transitionParams}}"))])]},changeDetection:0}),t})(),Xae=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Ji,Ha,Bh],Ha]}),t})();function Jae(t,i){if(1&t&&(o.TgZ(0,"li",5),o._uU(1),o.qZA()),2&t){const e=o.oxw(),s=e.index,a=e.$implicit;o.xp6(1),o.xDo(" ",s+1,". Brand:",a.brand," | Unit Price:",a.price," | Quantity:",a.quantity," | Total Price:",a.totalprice," ")}}function Kae(t,i){if(1&t&&(o.TgZ(0,"ul",3),o.YNc(1,Jae,2,5,"li",4),o.qZA()),2&t){const e=i.$implicit,s=o.oxw().$implicit;o.xp6(1),o.Q6J("ngIf",s==e.compname)}}function ele(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"p-panel"),o._uU(1),o.YNc(2,Kae,2,1,"ul",1),o.TgZ(3,"p"),o._uU(4),o.qZA(),o.TgZ(5,"p"),o._uU(6),o.qZA(),o.TgZ(7,"p"),o._uU(8),o.qZA(),o.TgZ(9,"button",2),o.NdJ("click",function(){const l=o.CHM(e).$implicit,h=o.oxw();return h.pay(l,h.finalPrice,h.finalProduct)}),o._uU(10,"Pay"),o.qZA(),o.qZA()}if(2&t){const e=i.$implicit,s=o.oxw();o.xp6(1),o.hij(" ",e," "),o.xp6(1),o.Q6J("ngForOf",s.x1),o.xp6(2),o.hij("Overall Product: ",s.finalProduct,""),o.xp6(2),o.hij("Overall Total Price: ",s.finalPrice,""),o.xp6(2),o.hij("Overall Total Quantity: ",s.finalQuantity,"")}}let tle=(()=>{class t{constructor(e,s,a,l){var h,v;this.activatedroute=e,this.router=s,this.fs=a,this.fns=l,this.checkoutInfoarray=[],this.compname=[],this.x2=[],this.x=0,this.obj=[],this.x3=[],this.obj2=[],this.x4=[],this.x5=[],this.donationAmount=5,this.isGettingCheckout=!1,this.finalPrice=0,this.finalQuantity=0,this.finalProduct=[],this.fs.collection("Supplier").snapshotChanges().toPromise().then(O=>{console.log(O)}),this.checkoutInfo=null===(h=this.router.getCurrentNavigation())||void 0===h?void 0:h.extras.state,this.checkoutInfoarray=this.checkoutInfo,null==this.checkoutInfo&&this.router.navigateByUrl("/admincartpage"),this.x1=null===(v=this.checkoutInfoarray)||void 0===v?void 0:v.sort(function(O,G){return O.compname<G.compname?-1:O.compname>G.compname?1:0}),this.x1.filter((O,G)=>{this.x2.push(O.compname)}),this.compname.filter(O=>{}),this.x3=[...new Set(this.x2)],this.checkoutInfo.filter(O=>{if("Oscar Food Sdn Bhd"===O.compname){let G=0;G+=+O.totalprice;let te=0;te+=O.quantity,this.x4.push({brand:O.brand,tp:G,quantity:te})}else if("Fanny Food Sdn Bhd"===O.compname){let G=0;G+=+O.totalprice;let te=0;te+=O.quantity,this.x5.push({brand:O.brand,tp:G,quantity:te})}}),this.x4.forEach(O=>{console.log(O),this.finalProduct.push(O.brand),this.finalPrice+=O.tp,this.finalQuantity+=O.quantity,console.log(this.finalQuantity)}),this.x5.forEach(O=>{console.log(O),this.finalProduct.push(O.brand),this.finalPrice+=O.tp,this.finalQuantity+=O.quantity,console.log(this.finalQuantity)})}ngOnInit(){}pay(e,s,a){var l=this;return Qs(function*(){l.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("payment").doc(a).set({status:"unpaid",id:"result"}),console.log(e,a,s),l.isGettingCheckout=!0})()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(dc),o.Y36(Eo),o.Y36(Sa),o.Y36(Ik))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-admin-check-out-page"]],decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],["class","list-group",4,"ngFor","ngForOf"],["mat","","mat-raised-button","","target","_blank",3,"click"],[1,"list-group"],["class","list-group-item",4,"ngIf"],[1,"list-group-item"]],template:function(e,s){1&e&&(o._UZ(0,"app-adminnavbarpage"),o.YNc(1,ele,11,5,"p-panel",0)),2&e&&(o.xp6(1),o.Q6J("ngForOf",s.x3))},directives:[Zg,mt,Qae,Dd,un],styles:["p-card[_ngcontent-%COMP%]{margin:20px}"]}),t})();const nle=function(t,i){return{"p-button-icon":!0,"p-button-icon-left":t,"p-button-icon-right":i}};function ile(t,i){if(1&t&&o._UZ(0,"span",3),2&t){const e=o.oxw();o.Tol(e.checked?e.onIcon:e.offIcon),o.Q6J("ngClass",o.WLB(3,nle,"left"===e.iconPos,"right"===e.iconPos))}}const rle=function(t,i,e){return{"p-button p-togglebutton p-component":!0,"p-button-icon-only":t,"p-highlight":i,"p-disabled":e}},sle={provide:Jl,useExisting:(0,o.Gpc)(()=>jH),multi:!0};let jH=(()=>{class t{constructor(e){this.cd=e,this.iconPos="left",this.onChange=new o.vpe,this.checked=!1,this.onModelChange=()=>{},this.onModelTouched=()=>{}}toggle(e){this.disabled||(this.checked=!this.checked,this.onModelChange(this.checked),this.onModelTouched(),this.onChange.emit({originalEvent:e,checked:this.checked}),this.cd.markForCheck())}onBlur(){this.onModelTouched()}writeValue(e){this.checked=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}get hasOnLabel(){return this.onLabel&&this.onLabel.length>0}get hasOffLabel(){return this.onLabel&&this.onLabel.length>0}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.sBO))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-toggleButton"]],inputs:{onLabel:"onLabel",offLabel:"offLabel",onIcon:"onIcon",offIcon:"offIcon",ariaLabelledBy:"ariaLabelledBy",disabled:"disabled",style:"style",styleClass:"styleClass",inputId:"inputId",tabindex:"tabindex",iconPos:"iconPos"},outputs:{onChange:"onChange"},features:[o._Bn([sle])],decls:4,vars:12,consts:[["role","checkbox","pRipple","",3,"ngClass","ngStyle","click","keydown.enter"],[3,"class","ngClass",4,"ngIf"],[1,"p-button-label"],[3,"ngClass"]],template:function(e,s){1&e&&(o.TgZ(0,"div",0),o.NdJ("click",function(l){return s.toggle(l)})("keydown.enter",function(l){return s.toggle(l)}),o.YNc(1,ile,1,6,"span",1),o.TgZ(2,"span",2),o._uU(3),o.qZA(),o.qZA()),2&e&&(o.Tol(s.styleClass),o.Q6J("ngClass",o.kEZ(8,rle,s.onIcon&&s.offIcon&&!s.hasOnLabel&&!s.hasOffLabel,s.checked,s.disabled))("ngStyle",s.style),o.uIk("tabindex",s.disabled?null:"0")("aria-checked",s.checked),o.xp6(1),o.Q6J("ngIf",s.onIcon||s.offIcon),o.xp6(2),o.Oqu(s.checked?s.hasOnLabel?s.onLabel:"":s.hasOffLabel?s.offLabel:""))},directives:[Km,he,qi,un],styles:[".p-button[_ngcontent-%COMP%]{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;-ms-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label[_ngcontent-%COMP%]{flex:1 1 auto}.p-button-icon-right[_ngcontent-%COMP%]{order:1}.p-button[_ngcontent-%COMP%]:disabled{cursor:default}.p-button-icon-only[_ngcontent-%COMP%]{justify-content:center}.p-button-icon-only[_ngcontent-%COMP%]   .p-button-label[_ngcontent-%COMP%]{visibility:hidden;width:0;flex:0 0 auto}.p-button-vertical[_ngcontent-%COMP%]{flex-direction:column}.p-button-icon-bottom[_ngcontent-%COMP%]{order:2}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]{margin:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:last-child){border-right:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:first-of-type):not(:last-of-type){border-radius:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:first-of-type{border-top-right-radius:0;border-bottom-right-radius:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:last-of-type{border-top-left-radius:0;border-bottom-left-radius:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:focus{position:relative;z-index:1}.p-button-label[_ngcontent-%COMP%]{transition:all .2s}"],changeDetection:0}),t})(),ole=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Ji,Bh]]}),t})();const ZH=["container"],ale=function(t,i,e,s){return{"pi-info-circle":t,"pi-exclamation-triangle":i,"pi-times-circle":e,"pi-check":s}};function lle(t,i){if(1&t&&(o.ynx(0),o._UZ(1,"span",6),o.TgZ(2,"div",7),o.TgZ(3,"div",8),o._uU(4),o.qZA(),o.TgZ(5,"div",9),o._uU(6),o.qZA(),o.qZA(),o.BQk()),2&t){const e=o.oxw();o.xp6(1),o.Tol("p-toast-message-icon pi"+(e.message.icon?" "+e.message.icon:"")),o.Q6J("ngClass",o.l5B(5,ale,"info"==e.message.severity,"warn"==e.message.severity,"error"==e.message.severity,"success"==e.message.severity)),o.xp6(3),o.Oqu(e.message.summary),o.xp6(2),o.Oqu(e.message.detail)}}function cle(t,i){1&t&&o.GkF(0)}function ule(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",10),o.NdJ("click",function(a){return o.CHM(e),o.oxw().onCloseIconClick(a)})("keydown.enter",function(a){return o.CHM(e),o.oxw().onCloseIconClick(a)}),o._UZ(1,"span",11),o.qZA()}}const dle=function(t){return[t,"p-toast-message"]},hle=function(t,i,e,s){return{showTransformParams:t,hideTransformParams:i,showTransitionParams:e,hideTransitionParams:s}},ple=function(t){return{value:"visible",params:t}},fle=function(t){return{$implicit:t}};function mle(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"p-toastItem",3),o.NdJ("onClose",function(a){return o.CHM(e),o.oxw().onMessageClose(a)})("@toastAnimation.start",function(a){return o.CHM(e),o.oxw().onAnimationStart(a)}),o.qZA()}if(2&t){const e=i.$implicit,s=i.index,a=o.oxw();o.Q6J("message",e)("index",s)("template",a.template)("@toastAnimation",void 0)("showTransformOptions",a.showTransformOptions)("hideTransformOptions",a.hideTransformOptions)("showTransitionOptions",a.showTransitionOptions)("hideTransitionOptions",a.hideTransitionOptions)}}let gle=(()=>{class t{constructor(e){this.zone=e,this.onClose=new o.vpe}ngAfterViewInit(){this.initTimeout()}initTimeout(){this.message.sticky||this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>{this.onClose.emit({index:this.index,message:this.message})},this.message.life||3e3)})}clearTimeout(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}onMouseEnter(){this.clearTimeout()}onMouseLeave(){this.initTimeout()}onCloseIconClick(e){this.clearTimeout(),this.onClose.emit({index:this.index,message:this.message}),e.preventDefault()}ngOnDestroy(){this.clearTimeout()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.R0b))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-toastItem"]],viewQuery:function(e,s){if(1&e&&o.Gf(ZH,5),2&e){let a;o.iGM(a=o.CRH())&&(s.containerViewChild=a.first)}},inputs:{message:"message",index:"index",template:"template",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onClose:"onClose"},decls:6,vars:21,consts:[[3,"ngClass","mouseenter","mouseleave"],["container",""],["role","alert","aria-live","assertive","aria-atomic","true",1,"p-toast-message-content",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button","class","p-toast-icon-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[3,"ngClass"],[1,"p-toast-message-text"],[1,"p-toast-summary"],[1,"p-toast-detail"],["type","button","pRipple","",1,"p-toast-icon-close","p-link",3,"click","keydown.enter"],[1,"p-toast-icon-close-icon","pi","pi-times"]],template:function(e,s){1&e&&(o.TgZ(0,"div",0,1),o.NdJ("mouseenter",function(){return s.onMouseEnter()})("mouseleave",function(){return s.onMouseLeave()}),o.TgZ(2,"div",2),o.YNc(3,lle,7,10,"ng-container",3),o.YNc(4,cle,1,0,"ng-container",4),o.YNc(5,ule,2,0,"button",5),o.qZA(),o.qZA()),2&e&&(o.Tol(s.message.styleClass),o.Q6J("ngClass",o.VKq(10,dle,"p-toast-message-"+s.message.severity))("@messageState",o.VKq(17,ple,o.l5B(12,hle,s.showTransformOptions,s.hideTransformOptions,s.showTransitionOptions,s.hideTransitionOptions))),o.uIk("id",s.message.id),o.xp6(2),o.Q6J("ngClass",s.message.contentStyleClass),o.xp6(1),o.Q6J("ngIf",!s.template),o.xp6(1),o.Q6J("ngTemplateOutlet",s.template)("ngTemplateOutletContext",o.VKq(19,fle,s.message)),o.xp6(1),o.Q6J("ngIf",!1!==s.message.closable))},directives:[he,un,jr,Km],encapsulation:2,data:{animation:[oa("messageState",[bo("visible",oi({transform:"translateY(0)",opacity:1})),Ir("void => *",[oi({transform:"{{showTransformParams}}",opacity:0}),qr("{{showTransitionParams}}")]),Ir("* => void",[qr("{{hideTransitionParams}}",oi({height:0,opacity:0,transform:"{{hideTransformParams}}"}))])])]},changeDetection:0}),t})(),GL=(()=>{class t{constructor(e,s,a){this.messageService=e,this.cd=s,this.config=a,this.autoZIndex=!0,this.baseZIndex=0,this.position="top-right",this.preventOpenDuplicates=!1,this.preventDuplicates=!1,this.showTransformOptions="translateY(100%)",this.hideTransformOptions="translateY(-100%)",this.showTransitionOptions="300ms ease-out",this.hideTransitionOptions="250ms ease-in",this.onClose=new o.vpe,this.id=kC()}ngOnInit(){this.messageSubscription=this.messageService.messageObserver.subscribe(e=>{if(e)if(e instanceof Array){const s=e.filter(a=>this.canAdd(a));this.add(s)}else this.canAdd(e)&&this.add([e])}),this.clearSubscription=this.messageService.clearObserver.subscribe(e=>{e?this.key===e&&(this.messages=null):this.messages=null,this.cd.markForCheck()})}ngAfterViewInit(){this.autoZIndex&&ru.set("modal",this.containerViewChild.nativeElement,this.baseZIndex||this.config.zIndex.modal),this.breakpoints&&this.createStyle()}add(e){this.messages=this.messages?[...this.messages,...e]:[...e],this.preventDuplicates&&(this.messagesArchieve=this.messagesArchieve?[...this.messagesArchieve,...e]:[...e]),this.cd.markForCheck()}canAdd(e){let s=this.key===e.key;return s&&this.preventOpenDuplicates&&(s=!this.containsMessage(this.messages,e)),s&&this.preventDuplicates&&(s=!this.containsMessage(this.messagesArchieve,e)),s}containsMessage(e,s){return!!e&&null!=e.find(a=>a.summary===s.summary&&a.detail==s.detail&&a.severity===s.severity)}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"message":default:this.template=e.template}})}onMessageClose(e){this.messages.splice(e.index,1),this.onClose.emit({message:e.message}),this.cd.detectChanges()}onAnimationStart(e){"void"===e.fromState&&this.autoZIndex&&(this.containerViewChild.nativeElement.style.zIndex=String(this.baseZIndex+ ++cn.zindex),this.containerViewChild.nativeElement.setAttribute(this.id,""))}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let e="";for(let s in this.breakpoints){let a="";for(let l in this.breakpoints[s])a+=l+":"+this.breakpoints[s][l]+" !important;";e+=`\n                    @media screen and (max-width: ${s}) {\n                        .p-toast[${this.id}] {\n                           ${a}\n                        }\n                    }\n                `}this.styleElement.innerHTML=e}}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.containerViewChild&&this.autoZIndex&&ru.clear(this.containerViewChild.nativeElement),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.destroyStyle()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(vb),o.Y36(o.sBO),o.Y36(_m))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-toast"]],contentQueries:function(e,s,a){if(1&e&&o.Suo(a,Rl,4),2&e){let l;o.iGM(l=o.CRH())&&(s.templates=l)}},viewQuery:function(e,s){if(1&e&&o.Gf(ZH,5),2&e){let a;o.iGM(a=o.CRH())&&(s.containerViewChild=a.first)}},inputs:{key:"key",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",style:"style",styleClass:"styleClass",position:"position",preventOpenDuplicates:"preventOpenDuplicates",preventDuplicates:"preventDuplicates",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",breakpoints:"breakpoints"},outputs:{onClose:"onClose"},decls:3,vars:5,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose",4,"ngFor","ngForOf"],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose"]],template:function(e,s){1&e&&(o.TgZ(0,"div",0,1),o.YNc(2,mle,1,8,"p-toastItem",2),o.qZA()),2&e&&(o.Tol(s.styleClass),o.Q6J("ngClass","p-toast p-component p-toast-"+s.position)("ngStyle",s.style),o.xp6(2),o.Q6J("ngForOf",s.messages))},directives:[he,qi,mt,gle],styles:[".p-toast{position:fixed;width:25rem}.p-toast-message{overflow:hidden}.p-toast-message-content{display:flex;align-items:flex-start}.p-toast-message-text{flex:1 1 auto}.p-toast-top-right{top:20px;right:20px}.p-toast-top-left{top:20px;left:20px}.p-toast-bottom-left{bottom:20px;left:20px}.p-toast-bottom-right{bottom:20px;right:20px}.p-toast-top-center{top:20px;left:50%;transform:translateX(-50%)}.p-toast-bottom-center{bottom:20px;left:50%;transform:translateX(-50%)}.p-toast-center{left:50%;top:50%;min-width:20vw;transform:translate(-50%,-50%)}.p-toast-icon-close{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-toast-icon-close.p-link{cursor:pointer}"],encapsulation:2,data:{animation:[oa("toastAnimation",[Ir(":enter, :leave",[hv("@*",TC())])])]},changeDetection:0}),t})(),_le=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Ji,Bh],Ha]}),t})();function yle(t,i){if(1&t&&o._UZ(0,"i",8),2&t){const e=o.oxw(2);o.Tol(e.confirmation.icon),o.Q6J("ngClass","p-confirm-popup-icon")}}function vle(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",9),o.NdJ("click",function(){return o.CHM(e),o.oxw(2).reject()}),o.qZA()}if(2&t){const e=o.oxw(2);o.Tol(e.confirmation.rejectButtonStyleClass||"p-button-text"),o.Q6J("icon",e.confirmation.rejectIcon)("label",e.rejectButtonLabel)("ngClass","p-confirm-popup-reject p-button-sm"),o.uIk("aria-label",e.rejectButtonLabel)}}function ble(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",9),o.NdJ("click",function(){return o.CHM(e),o.oxw(2).accept()}),o.qZA()}if(2&t){const e=o.oxw(2);o.Tol(e.confirmation.acceptButtonStyleClass),o.Q6J("icon",e.confirmation.acceptIcon)("label",e.acceptButtonLabel)("ngClass","p-confirm-popup-accept p-button-sm"),o.uIk("aria-label",e.acceptButtonLabel)}}const xle=function(t,i){return{showTransitionParams:t,hideTransitionParams:i}},wle=function(t){return{value:"open",params:t}};function Cle(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",1),o.NdJ("click",function(a){return o.CHM(e),o.oxw().onOverlayClick(a)})("@animation.start",function(a){return o.CHM(e),o.oxw().onAnimationStart(a)})("@animation.done",function(a){return o.CHM(e),o.oxw().onAnimationEnd(a)}),o.TgZ(1,"div",2,3),o.YNc(3,yle,1,3,"i",4),o.TgZ(4,"span",5),o._uU(5),o.qZA(),o.qZA(),o.TgZ(6,"div",6),o.YNc(7,vle,1,6,"button",7),o.YNc(8,ble,1,6,"button",7),o.qZA(),o.qZA()}if(2&t){const e=o.oxw();o.Tol(e.styleClass),o.Q6J("ngClass","p-confirm-popup p-component")("ngStyle",e.style)("@animation",o.VKq(12,wle,o.WLB(9,xle,e.showTransitionOptions,e.hideTransitionOptions))),o.xp6(3),o.Q6J("ngIf",e.confirmation.icon),o.xp6(2),o.Oqu(e.confirmation.message),o.xp6(2),o.Q6J("ngIf",!1!==e.confirmation.rejectVisible),o.xp6(1),o.Q6J("ngIf",!1!==e.confirmation.acceptVisible)}}let Mle=(()=>{class t{constructor(e,s,a,l,h,v){this.el=e,this.confirmationService=s,this.renderer=a,this.cd=l,this.config=h,this.overlayService=v,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.autoZIndex=!0,this.baseZIndex=0,this.subscription=this.confirmationService.requireConfirmation$.subscribe(C=>{C?C.key===this.key&&(this.confirmation=C,this.confirmation.accept&&(this.confirmation.acceptEvent=new o.vpe,this.confirmation.acceptEvent.subscribe(this.confirmation.accept)),this.confirmation.reject&&(this.confirmation.rejectEvent=new o.vpe,this.confirmation.rejectEvent.subscribe(this.confirmation.reject)),this.visible=!0):this.hide()})}get visible(){return this._visible}set visible(e){this._visible=e,this.cd.markForCheck()}onAnimationStart(e){"open"===e.toState&&(this.container=e.element,document.body.appendChild(this.container),this.align(),this.bindListeners())}onAnimationEnd(e){switch(e.toState){case"void":this.onContainerDestroy()}}align(){this.autoZIndex&&ru.set("overlay",this.container,this.config.zIndex.overlay),cn.absolutePosition(this.container,this.confirmation.target);const e=cn.getOffset(this.container),s=cn.getOffset(this.confirmation.target);let a=0;e.left<s.left&&(a=s.left-e.left),this.container.style.setProperty("--overlayArrowLeft",`${a}px`),e.top<s.top&&cn.addClass(this.container,"p-confirm-popup-flipped")}hide(){this.visible=!1}accept(){this.confirmation.acceptEvent&&this.confirmation.acceptEvent.emit(),this.hide()}reject(){this.confirmation.rejectEvent&&this.confirmation.rejectEvent.emit(),this.hide()}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}bindListeners(){this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener()}unbindListeners(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener()}bindDocumentClickListener(){if(!this.documentClickListener){let e=cn.isIOS()?"touchstart":"click";const s=this.el?this.el.nativeElement.ownerDocument:document;this.documentClickListener=this.renderer.listen(s,e,a=>{let l=this.confirmation.target;this.container!==a.target&&!this.container.contains(a.target)&&l!==a.target&&!l.contains(a.target)&&this.hide()})}}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}onWindowResize(){this.hide()}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new SC(this.confirmation.target,()=>{this.visible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unsubscribeConfirmationSubscriptions(){this.confirmation&&(this.confirmation.acceptEvent&&this.confirmation.acceptEvent.unsubscribe(),this.confirmation.rejectEvent&&this.confirmation.rejectEvent.unsubscribe())}onContainerDestroy(){this.unbindListeners(),this.unsubscribeConfirmationSubscriptions(),this.autoZIndex&&ru.clear(this.container),this.confirmation=null,this.container=null}restoreAppend(){this.container&&document.body.removeChild(this.container),this.onContainerDestroy()}get acceptButtonLabel(){return this.confirmation.acceptLabel||this.config.getTranslation(qu.ACCEPT)}get rejectButtonLabel(){return this.confirmation.rejectLabel||this.config.getTranslation(qu.REJECT)}ngOnDestroy(){this.restoreAppend(),this.subscription&&this.subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(Jm),o.Y36(o.Qsj),o.Y36(o.sBO),o.Y36(_m),o.Y36(U0))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-confirmPopup"]],inputs:{key:"key",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",style:"style",styleClass:"styleClass",visible:"visible"},decls:1,vars:1,consts:[[3,"ngClass","ngStyle","class","click",4,"ngIf"],[3,"ngClass","ngStyle","click"],[1,"p-confirm-popup-content"],["content",""],[3,"ngClass","class",4,"ngIf"],[1,"p-confirm-popup-message"],[1,"p-confirm-popup-footer"],["type","button","pButton","",3,"icon","label","ngClass","class","click",4,"ngIf"],[3,"ngClass"],["type","button","pButton","",3,"icon","label","ngClass","click"]],template:function(e,s){1&e&&o.YNc(0,Cle,9,14,"div",0),2&e&&o.Q6J("ngIf",s.visible)},directives:[un,he,qi,ox],styles:['.p-confirm-popup{position:absolute;margin-top:10px;top:0;left:0}.p-confirm-popup-flipped{margin-top:0;margin-bottom:10px}.p-confirm-popup:after,.p-confirm-popup:before{bottom:100%;left:calc(0 + 1.25rem);left:calc(var(--overlayArrowLeft, 0) + 1.25rem);content:" ";height:0;width:0;position:absolute;pointer-events:none}.p-confirm-popup:after{border-width:8px;margin-left:-8px}.p-confirm-popup:before{border-width:10px;margin-left:-10px}.p-confirm-popup-flipped:after,.p-confirm-popup-flipped:before{bottom:auto;top:100%}.p-confirm-popup.p-confirm-popup-flipped:after,.p-confirm-popup.p-confirm-popup-flipped:before{border-bottom-color:transparent}.p-confirm-popup .p-confirm-popup-content{display:flex;align-items:center}'],encapsulation:2,data:{animation:[oa("animation",[bo("void",oi({transform:"scaleY(0.8)",opacity:0})),bo("open",oi({transform:"translateY(0)",opacity:1})),Ir("void => open",qr("{{showTransitionParams}}")),Ir("open => void",qr("{{hideTransitionParams}}"))])]},changeDetection:0}),t})(),Tle=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Ji,Ob]]}),t})();function Sle(t,i){1&t&&(o.TgZ(0,"th",18),o._uU(1,"UID"),o.qZA())}function kle(t,i){if(1&t&&(o.TgZ(0,"td",19),o._uU(1),o.qZA()),2&t){const e=i.$implicit;o.xp6(1),o.Oqu(e.id)}}function Ele(t,i){1&t&&(o.TgZ(0,"th",18),o._uU(1,"Matrix Card ID"),o.qZA())}function Dle(t,i){if(1&t&&(o.TgZ(0,"td",19),o._uU(1),o.qZA()),2&t){const e=i.$implicit;o.xp6(1),o.Oqu(e.matrix)}}function Ale(t,i){1&t&&(o.TgZ(0,"th",18),o._uU(1,"Student Name"),o.qZA())}function Ile(t,i){if(1&t&&(o.TgZ(0,"td",19),o._uU(1),o.qZA()),2&t){const e=i.$implicit;o.xp6(1),o.Oqu(e.name)}}function Lle(t,i){1&t&&(o.TgZ(0,"th",18),o._uU(1,"Permission"),o.qZA())}function Ple(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"td",19),o.TgZ(1,"p-toggleButton",20,21),o.NdJ("ngModelChange",function(a){return o.CHM(e).$implicit.isStudent=a})("click",function(){const l=o.CHM(e).$implicit,h=o.MAs(2);return o.oxw().change(h,l.id)}),o.qZA(),o.qZA()}if(2&t){const e=i.$implicit;o.xp6(1),o.Q6J("ngModel",e.isStudent)("onIcon","pi pi-check")}}function Ole(t,i){1&t&&(o.TgZ(0,"th",18),o._uU(1,"Action"),o.qZA())}function Rle(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"td",19),o._UZ(1,"p-toast"),o._UZ(2,"p-confirmPopup"),o.TgZ(3,"button",22),o.NdJ("click",function(a){const h=o.CHM(e).$implicit;return o.oxw().confirm(a,h.id)}),o.qZA(),o.qZA()}}function Fle(t,i){1&t&&o._UZ(0,"tr",23)}function Nle(t,i){1&t&&o._UZ(0,"tr",24)}function zle(t,i){if(1&t&&(o.TgZ(0,"tr",25),o.TgZ(1,"td",26),o._uU(2),o.qZA(),o.qZA()),2&t){o.oxw();const e=o.MAs(5);o.xp6(2),o.hij(' No data matching the filter "',e.value,'" ')}}function Ble(t,i){1&t&&(o.TgZ(0,"th",18),o._uU(1,"UID"),o.qZA())}function Yle(t,i){if(1&t&&(o.TgZ(0,"td",19),o._uU(1),o.qZA()),2&t){const e=i.$implicit;o.xp6(1),o.Oqu(e.id)}}function Hle(t,i){1&t&&(o.TgZ(0,"th",18),o._uU(1,"Company Name"),o.qZA())}function Vle(t,i){if(1&t&&(o.TgZ(0,"td",19),o._uU(1),o.qZA()),2&t){const e=i.$implicit;o.xp6(1),o.Oqu(e.compname)}}function Ule(t,i){1&t&&(o.TgZ(0,"th",18),o._uU(1,"Supplier Name"),o.qZA())}function jle(t,i){if(1&t&&(o.TgZ(0,"td",19),o._uU(1),o.qZA()),2&t){const e=i.$implicit;o.xp6(1),o.Oqu(e.name)}}function Zle(t,i){1&t&&(o.TgZ(0,"th",18),o._uU(1,"Permission"),o.qZA())}function Gle(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"td",19),o.TgZ(1,"p-toggleButton",20,21),o.NdJ("ngModelChange",function(a){return o.CHM(e).$implicit.isSupplier=a})("click",function(){const l=o.CHM(e).$implicit,h=o.MAs(2);return o.oxw().change2(h,l.id)}),o.qZA(),o.qZA()}if(2&t){const e=i.$implicit;o.xp6(1),o.Q6J("ngModel",e.isSupplier)("onIcon","pi pi-check")}}function Wle(t,i){1&t&&(o.TgZ(0,"th",18),o._uU(1,"Action"),o.qZA())}function qle(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"td",19),o._UZ(1,"p-toast"),o._UZ(2,"p-confirmPopup"),o.TgZ(3,"button",22),o.NdJ("click",function(a){const h=o.CHM(e).$implicit;return o.oxw().confirm2(a,h.id)}),o.qZA(),o.qZA()}}function $le(t,i){1&t&&o._UZ(0,"tr",23)}function Qle(t,i){1&t&&o._UZ(0,"tr",24)}function Xle(t,i){if(1&t&&(o.TgZ(0,"tr",25),o.TgZ(1,"td",26),o._uU(2),o.qZA(),o.qZA()),2&t){o.oxw();const e=o.MAs(5);o.xp6(2),o.hij(' No data matching the filter "',e.value,'" ')}}const GH=function(){return[5,10,25,100]};let Jle=(()=>{class t{constructor(e,s,a,l){this.fs=e,this.confirmationService=s,this.messageService=a,this.primengConfig=l,this.displayedColumns=["id","matrix","name","isStudent","action"],this.displayedColumns2=["id","compname","name","isSupplier","action"],this.fs.collection("Student").snapshotChanges().subscribe(h=>{this.studentPermissions=[],h.map(v=>{let C={id:v.payload.doc.id,matrix:v.payload.doc.data().matrixid,isStudent:v.payload.doc.data().isStudent,name:v.payload.doc.data().name};this.studentPermissions.push(C),this.dataSource=new s1(this.studentPermissions),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}),this.fs.collection("Supplier").snapshotChanges().subscribe(h=>{this.supplierPermissions=[],h.map(v=>{let C={id:v.payload.doc.id,compname:v.payload.doc.data().compname,isSupplier:v.payload.doc.data().isSupplier,name:v.payload.doc.data().name};this.supplierPermissions.push(C),this.dataSource2=new s1(this.supplierPermissions),this.dataSource2.paginator=this.paginator,this.dataSource2.sort=this.sort})})}ngOnInit(){}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}applyFilter2(e){this.dataSource2.filter=e.target.value.trim().toLowerCase(),this.dataSource2.paginator&&this.dataSource2.paginator.firstPage()}change(e,s){console.log(e,s),this.fs.collection("Student").doc(s).update({isStudent:e.checked})}change2(e,s){console.log(e,s),this.fs.collection("Supplier").doc(s).update({isSupplier:e.checked})}confirm(e,s){this.confirmationService.confirm({target:e.target,message:"Are you sure that you want to proceed?",icon:"pi pi-exclamation-triangle",accept:()=>{this.messageService.add({severity:"info",summary:"Confirmed",detail:"You have accepted"}),this.fs.collection("Student").doc(s).delete()},reject:()=>{this.messageService.add({severity:"error",summary:"Rejected",detail:"You have rejected"})}})}confirm2(e,s){this.confirmationService.confirm({target:e.target,message:"Are you sure that you want to proceed?",icon:"pi pi-exclamation-triangle",accept:()=>{this.messageService.add({severity:"info",summary:"Confirmed",detail:"You have accepted"}),this.fs.collection("Supplier").doc(s).delete()},reject:()=>{this.messageService.add({severity:"error",summary:"Rejected",detail:"You have rejected"})}})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Sa),o.Y36(Jm),o.Y36(vb),o.Y36(_m))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-admin-permission-page"]],viewQuery:function(e,s){if(1&e&&(o.Gf(sx,5),o.Gf(Ab,5)),2&e){let a;o.iGM(a=o.CRH())&&(s.paginator=a.first),o.iGM(a=o.CRH())&&(s.sort=a.first)}},decls:57,vars:14,consts:[["appearance","standard"],["matInput","","placeholder","Ex. Mia",3,"keyup"],["input",""],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","matrix"],["matColumnDef","name"],["matColumnDef","isStudent"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],["matColumnDef","compname"],["matColumnDef","isSupplier"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["offIcon","pi pi-times",3,"ngModel","onIcon","ngModelChange","click"],["p",""],["id","delete","pButton","","icon","pi pi-check","label","Delete",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,s){1&e&&(o._UZ(0,"app-adminnavbarpage"),o.TgZ(1,"mat-form-field",0),o.TgZ(2,"mat-label"),o._uU(3,"Filter"),o.qZA(),o.TgZ(4,"input",1,2),o.NdJ("keyup",function(l){return s.applyFilter(l)}),o.qZA(),o.qZA(),o.TgZ(6,"div",3),o.TgZ(7,"h4"),o._uU(8,"Student's List"),o.qZA(),o.TgZ(9,"table",4),o.ynx(10,5),o.YNc(11,Sle,2,0,"th",6),o.YNc(12,kle,2,1,"td",7),o.BQk(),o.ynx(13,8),o.YNc(14,Ele,2,0,"th",6),o.YNc(15,Dle,2,1,"td",7),o.BQk(),o.ynx(16,9),o.YNc(17,Ale,2,0,"th",6),o.YNc(18,Ile,2,1,"td",7),o.BQk(),o.ynx(19,10),o.YNc(20,Lle,2,0,"th",6),o.YNc(21,Ple,3,2,"td",7),o.BQk(),o.ynx(22,11),o.YNc(23,Ole,2,0,"th",6),o.YNc(24,Rle,4,0,"td",7),o.BQk(),o.YNc(25,Fle,1,0,"tr",12),o.YNc(26,Nle,1,0,"tr",13),o.YNc(27,zle,3,1,"tr",14),o.qZA(),o._UZ(28,"mat-paginator",15),o.qZA(),o.TgZ(29,"mat-form-field",0),o.TgZ(30,"mat-label"),o._uU(31,"Filter"),o.qZA(),o.TgZ(32,"input",1,2),o.NdJ("keyup",function(l){return s.applyFilter2(l)}),o.qZA(),o.qZA(),o.TgZ(34,"div",3),o.TgZ(35,"h4"),o._uU(36,"Supplier's List"),o.qZA(),o.TgZ(37,"table",4),o.ynx(38,5),o.YNc(39,Ble,2,0,"th",6),o.YNc(40,Yle,2,1,"td",7),o.BQk(),o.ynx(41,16),o.YNc(42,Hle,2,0,"th",6),o.YNc(43,Vle,2,1,"td",7),o.BQk(),o.ynx(44,9),o.YNc(45,Ule,2,0,"th",6),o.YNc(46,jle,2,1,"td",7),o.BQk(),o.ynx(47,17),o.YNc(48,Zle,2,0,"th",6),o.YNc(49,Gle,3,2,"td",7),o.BQk(),o.ynx(50,11),o.YNc(51,Wle,2,0,"th",6),o.YNc(52,qle,4,0,"td",7),o.BQk(),o.YNc(53,$le,1,0,"tr",12),o.YNc(54,Qle,1,0,"tr",13),o.YNc(55,Xle,3,1,"tr",14),o.qZA(),o._UZ(56,"mat-paginator",15),o.qZA()),2&e&&(o.xp6(9),o.Q6J("dataSource",s.dataSource),o.xp6(1),o.Udp("display","none"),o.xp6(15),o.Q6J("matHeaderRowDef",s.displayedColumns),o.xp6(1),o.Q6J("matRowDefColumns",s.displayedColumns),o.xp6(2),o.Q6J("pageSizeOptions",o.DdM(12,GH)),o.xp6(9),o.Q6J("dataSource",s.dataSource2),o.xp6(1),o.Udp("display","none"),o.xp6(15),o.Q6J("matHeaderRowDef",s.displayedColumns2),o.xp6(1),o.Q6J("matRowDefColumns",s.displayedColumns2),o.xp6(2),o.Q6J("pageSizeOptions",o.DdM(13,GH)))},directives:[Zg,rx,Ib,o1,Ck,Ab,fM,pM,hM,Mk,Tk,Ek,sx,mM,mL,gM,jH,On,Wg,GL,Mle,ox,Sk,kk],styles:["table[_ngcontent-%COMP%]{width:100%}#delete[_ngcontent-%COMP%]{background-color:#d32f2f;border:none}"]}),t})();function Kle(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",2),o.TgZ(1,"label",5),o._uU(2,"Product Image Link"),o.qZA(),o.TgZ(3,"input",6),o.NdJ("ngModelChange",function(a){return o.CHM(e),o.oxw().productImageLink=a}),o.qZA(),o.qZA()}if(2&t){const e=o.oxw();o.xp6(3),o.Q6J("ngModel",e.productImageLink)}}function ece(t,i){if(1&t&&(o.TgZ(0,"div",2),o.TgZ(1,"p"),o._uU(2,"Image Preview"),o.qZA(),o._UZ(3,"img",14),o.qZA()),2&t){const e=o.oxw();o.xp6(3),o.s9C("src",e.productImageLink,o.LSH)}}function tce(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"li",15),o._uU(1),o.ALo(2,"json"),o.TgZ(3,"button",11),o.NdJ("click",function(){const l=o.CHM(e).index;return o.oxw().delete(l)}),o._uU(4,"Delete"),o.qZA(),o.qZA()}if(2&t){const e=i.$implicit;o.xp6(1),o.hij("",o.lcZ(2,1,e)," ")}}let nce=(()=>{class t{constructor(e){this.fs=e,this.ingredient=[],this.different=[],this.different2=[],this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("inventory").snapshotChanges().subscribe(s=>{this.different=[],s.map(a=>{this.different.push(a.payload.doc.id),console.log(a.payload.doc.id)})})}ngOnInit(){}addNewIngredient(e,s){this.ingredient.push({ingredient:e.value,ingredientQuantity:s.value}),console.log(this.ingredient)}delete(e){this.ingredient.splice(e,1)}add(){this.ingredient.forEach(e=>{this.different.includes(e.ingredient)||this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("inventory").doc(e.ingredient).set({lowestmargin:0,quantity:0})}),this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("menu").doc(this.product).set({price:this.productprice,ingredient:this.ingredient,totalsale:0,imageLink:this.productImageLink,availability:!1,stock:0})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Sa))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-admin-add-menu-list-page"]],decls:28,vars:5,consts:[["action",""],[1,"p-fluid"],[1,"p-field"],["for","firstname1"],["id","firstname1","type","text","pInputText","","name","productname",3,"ngModel","ngModelChange"],["for","lastname1"],["id","lastname1","type","text","pInputText","","name","productprice",3,"ngModel","ngModelChange"],["class","p-field",4,"ngIf"],["id","lastname1","type","text","pInputText",""],["i",""],["iq",""],["mat-raised-button","",3,"click"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],["img","","alt","",3,"src"],[1,"list-group-item"]],template:function(e,s){if(1&e){const a=o.EpF();o.TgZ(0,"form",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"label",3),o._uU(4,"Product Name"),o.qZA(),o.TgZ(5,"input",4),o.NdJ("ngModelChange",function(h){return s.product=h}),o.qZA(),o.qZA(),o.TgZ(6,"div",2),o.TgZ(7,"label",5),o._uU(8,"Product Price"),o.qZA(),o.TgZ(9,"input",6),o.NdJ("ngModelChange",function(h){return s.productprice=h}),o.qZA(),o.qZA(),o.YNc(10,Kle,4,1,"div",7),o.YNc(11,ece,4,1,"div",7),o.TgZ(12,"div",2),o.TgZ(13,"label",5),o._uU(14,"Ingredient Name (Needed)"),o.qZA(),o._UZ(15,"input",8,9),o.qZA(),o.TgZ(17,"div",2),o.TgZ(18,"label",5),o._uU(19,"Ingredient Quantity (Needed)"),o.qZA(),o._UZ(20,"input",8,10),o.qZA(),o.TgZ(22,"button",11),o.NdJ("click",function(){o.CHM(a);const h=o.MAs(16),v=o.MAs(21);return s.addNewIngredient(h,v)}),o._uU(23,"Add"),o.qZA(),o.TgZ(24,"ul",12),o.YNc(25,tce,5,3,"li",13),o.qZA(),o.qZA(),o.TgZ(26,"button",11),o.NdJ("click",function(){return s.add()}),o._uU(27,"Confirm"),o.qZA(),o.qZA()}2&e&&(o.xp6(5),o.Q6J("ngModel",s.product),o.xp6(4),o.Q6J("ngModel",s.productprice),o.xp6(1),o.Q6J("ngIf",(null==s.product?null:s.product.length)>0),o.xp6(1),o.Q6J("ngIf",s.productImageLink),o.xp6(14),o.Q6J("ngForOf",s.ingredient))},directives:[iy,$i,zw,xm,ax,On,Wg,un,Dd,mt],pipes:[Zh],styles:["img[_ngcontent-%COMP%]{width:100px;height:100px;border:1px solid black}"]}),t})();const ice=["mask"];function rce(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",12),o.NdJ("click",function(){return o.CHM(e),o.oxw(3).hide()})("keydown.enter",function(){return o.CHM(e),o.oxw(3).hide()}),o._UZ(1,"span",13),o.qZA()}2&t&&o.Q6J("ngClass","p-dialog-header-icon p-dialog-header-maximize p-link")}function sce(t,i){if(1&t&&(o.TgZ(0,"div",8),o.TgZ(1,"span",9),o._uU(2),o.qZA(),o.TgZ(3,"div",10),o.YNc(4,rce,2,1,"button",11),o.qZA(),o.qZA()),2&t){const e=o.oxw(2);o.xp6(2),o.Oqu(e.config.header),o.xp6(2),o.Q6J("ngIf",!1!==e.config.closable)}}function oce(t,i){}function ace(t,i){if(1&t&&(o.TgZ(0,"div",14),o._uU(1),o.qZA()),2&t){const e=o.oxw(2);o.xp6(1),o.hij(" ",e.config.footer," ")}}const lce=function(t){return{"p-dialog p-dynamic-dialog p-component":!0,"p-dialog-rtl":t}},cce=function(t,i){return{transform:t,transition:i}},uce=function(t){return{value:"visible",params:t}};function dce(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",3),o.NdJ("@animation.start",function(a){return o.CHM(e),o.oxw().onAnimationStart(a)})("@animation.done",function(a){return o.CHM(e),o.oxw().onAnimationEnd(a)}),o.YNc(1,sce,5,2,"div",4),o.TgZ(2,"div",5),o.YNc(3,oce,0,0,"ng-template",6),o.qZA(),o.YNc(4,ace,2,1,"div",7),o.qZA()}if(2&t){const e=o.oxw();o.Tol(e.config.styleClass),o.Udp("width",e.config.width)("height",e.config.height),o.Q6J("ngClass",o.VKq(12,lce,e.config.rtl))("ngStyle",e.config.style)("@animation",o.VKq(17,uce,o.WLB(14,cce,e.transformOptions,e.config.transitionOptions||"150ms cubic-bezier(0, 0, 0.2, 1)"))),o.xp6(1),o.Q6J("ngIf",!1!==e.config.showHeader),o.xp6(1),o.Q6J("ngStyle",e.config.contentStyle),o.xp6(2),o.Q6J("ngIf",e.config.footer)}}const hce=function(t){return{"p-dialog-mask":!0,"p-component-overlay p-dialog-mask-scrollblocker":t}};let WH=(()=>{class t{constructor(e){this.viewContainerRef=e}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.s_b))},t.\u0275dir=o.lG2({type:t,selectors:[["","pDynamicDialogContent",""]]}),t})();class NF{}class Pk{constructor(){this._onClose=new li.xQ,this.onClose=this._onClose.asObservable(),this._onDestroy=new li.xQ,this.onDestroy=this._onDestroy.asObservable()}close(i){this._onClose.next(i)}destroy(){this._onDestroy.next()}}const pce=uv([oi({transform:"{{transform}}",opacity:0}),qr("{{transition}}",oi({transform:"none",opacity:1}))]),fce=uv([qr("{{transition}}",oi({transform:"{{transform}}",opacity:0}))]);let mce=(()=>{class t{constructor(e,s,a,l,h,v,C){this.componentFactoryResolver=e,this.cd=s,this.renderer=a,this.config=l,this.dialogRef=h,this.zone=v,this.primeNGConfig=C,this.visible=!0,this.transformOptions="scale(0.7)"}ngAfterViewInit(){this.loadChildComponent(this.childComponentType),this.cd.detectChanges()}loadChildComponent(e){let s=this.componentFactoryResolver.resolveComponentFactory(e),a=this.insertionPoint.viewContainerRef;a.clear(),this.componentRef=a.createComponent(s)}moveOnTop(){!1!==this.config.autoZIndex&&(ru.set("modal",this.container,(this.config.baseZIndex||0)+this.primeNGConfig.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}onAnimationStart(e){switch(e.toState){case"visible":this.container=e.element,this.wrapper=this.container.parentElement,this.moveOnTop(),this.bindGlobalListeners(),!1!==this.config.modal&&this.enableModality(),this.focus();break;case"void":this.onContainerDestroy()}}onAnimationEnd(e){"void"===e.toState&&this.dialogRef.destroy()}onContainerDestroy(){this.unbindGlobalListeners(),this.container&&!1!==this.config.autoZIndex&&ru.clear(this.container),!1!==this.config.modal&&this.disableModality(),this.container=null}close(){this.visible=!1,this.cd.markForCheck()}hide(){this.dialogRef&&this.dialogRef.close()}enableModality(){!1!==this.config.closable&&this.config.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",e=>{this.wrapper&&this.wrapper.isSameNode(e.target)&&this.hide()})),!1!==this.config.modal&&cn.addClass(document.body,"p-overflow-hidden")}disableModality(){this.wrapper&&(this.config.dismissableMask&&this.unbindMaskClickListener(),!1!==this.config.modal&&cn.removeClass(document.body,"p-overflow-hidden"),this.cd.destroyed||this.cd.detectChanges())}onKeydown(e){if(9===e.which){e.preventDefault();let s=cn.getFocusableElements(this.container);if(s&&s.length>0)if(s[0].ownerDocument.activeElement){let a=s.indexOf(s[0].ownerDocument.activeElement);e.shiftKey?-1==a||0===a?s[s.length-1].focus():s[a-1].focus():-1==a||a===s.length-1?s[0].focus():s[a+1].focus()}else s[0].focus()}}focus(){let e=cn.findSingle(this.container,"[autofocus]");e&&this.zone.runOutsideAngular(()=>{setTimeout(()=>e.focus(),5)})}bindGlobalListeners(){this.bindDocumentKeydownListener(),!1!==this.config.closeOnEscape&&!1!==this.config.closable&&this.bindDocumentEscapeListener()}unbindGlobalListeners(){this.unbindDocumentKeydownListener(),this.unbindDocumentEscapeListener()}bindDocumentKeydownListener(){this.zone.runOutsideAngular(()=>{this.documentKeydownListener=this.onKeydown.bind(this),window.document.addEventListener("keydown",this.documentKeydownListener)})}unbindDocumentKeydownListener(){this.documentKeydownListener&&(window.document.removeEventListener("keydown",this.documentKeydownListener),this.documentKeydownListener=null)}bindDocumentEscapeListener(){this.documentEscapeListener=this.renderer.listen(this.maskViewChild?this.maskViewChild.nativeElement.ownerDocument:"document","keydown",s=>{27==s.which&&parseInt(this.container.style.zIndex)==cn.zindex+(this.config.baseZIndex?this.config.baseZIndex:0)&&this.hide()})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}ngOnDestroy(){this.onContainerDestroy(),this.componentRef&&this.componentRef.destroy()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o._Vd),o.Y36(o.sBO),o.Y36(o.Qsj),o.Y36(NF),o.Y36(Pk),o.Y36(o.R0b),o.Y36(_m))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-dynamicDialog"]],viewQuery:function(e,s){if(1&e&&(o.Gf(WH,5),o.Gf(ice,5)),2&e){let a;o.iGM(a=o.CRH())&&(s.insertionPoint=a.first),o.iGM(a=o.CRH())&&(s.maskViewChild=a.first)}},decls:3,vars:4,consts:[[3,"ngClass"],["mask",""],["role","dialog",3,"ngClass","ngStyle","class","width","height",4,"ngIf"],["role","dialog",3,"ngClass","ngStyle"],["class","p-dialog-header",4,"ngIf"],[1,"p-dialog-content",3,"ngStyle"],["pDynamicDialogContent",""],["class","p-dialog-footer",4,"ngIf"],[1,"p-dialog-header"],[1,"p-dialog-title"],[1,"p-dialog-header-icons"],["type","button",3,"ngClass","click","keydown.enter",4,"ngIf"],["type","button",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-close-icon","pi","pi-times"],[1,"p-dialog-footer"]],template:function(e,s){1&e&&(o.TgZ(0,"div",0,1),o.YNc(2,dce,5,19,"div",2),o.qZA()),2&e&&(o.Q6J("ngClass",o.VKq(2,hce,!1!==s.config.modal)),o.xp6(2),o.Q6J("ngIf",s.visible))},directives:function(){return[he,un,qi,WH]},styles:[".p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none;background-color:transparent;transition-property:background-color}.p-dialog,.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-dialog-mask.p-dialog-mask-leave{background-color:transparent}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-top .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{transition:none;transform:none;width:100vw!important;height:100vh!important;top:0!important;left:0!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top,.p-dialog-top-left{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}"],encapsulation:2,data:{animation:[oa("animation",[Ir("void => visible",[dv(pce)]),Ir("visible => void",[dv(fce)])])]}}),t})();class gce{constructor(i,e){this._parentInjector=i,this._additionalTokens=e}get(i,e,s){return this._additionalTokens.get(i)||this._parentInjector.get(i,e)}}let zF=(()=>{class t{constructor(e,s,a){this.componentFactoryResolver=e,this.appRef=s,this.injector=a,this.dialogComponentRefMap=new Map}open(e,s){const a=this.appendDialogComponentToBody(s);return this.dialogComponentRefMap.get(a).instance.childComponentType=e,a}appendDialogComponentToBody(e){const s=new WeakMap;s.set(NF,e);const a=new Pk;s.set(Pk,a);const l=a.onClose.subscribe(()=>{this.dialogComponentRefMap.get(a).instance.close()}),h=a.onDestroy.subscribe(()=>{this.removeDialogComponentFromBody(a),h.unsubscribe(),l.unsubscribe()}),C=this.componentFactoryResolver.resolveComponentFactory(mce).create(new gce(this.injector,s));return this.appRef.attachView(C.hostView),document.body.appendChild(C.hostView.rootNodes[0]),this.dialogComponentRefMap.set(a,C),a}removeDialogComponentFromBody(e){if(!e||!this.dialogComponentRefMap.has(e))return;const s=this.dialogComponentRefMap.get(e);this.appRef.detachView(s.hostView),s.destroy(),this.dialogComponentRefMap.delete(e)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(o._Vd),o.LFG(o.z2F),o.LFG(o.zs3))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();function _ce(t,i){1&t&&o.GkF(0)}function yce(t,i){if(1&t&&(o.TgZ(0,"div",3),o.YNc(1,_ce,1,0,"ng-container",4),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngTemplateOutlet",e.leftTemplate)}}function vce(t,i){1&t&&o.GkF(0)}function bce(t,i){if(1&t&&(o.TgZ(0,"div",5),o.YNc(1,vce,1,0,"ng-container",4),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngTemplateOutlet",e.rightTemplate)}}const xce=["*"];let qH=(()=>{class t{constructor(e){this.el=e}getBlockableElement(){return this.el.nativeElement.children[0]}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"left":this.leftTemplate=e.template;break;case"right":this.rightTemplate=e.template}})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-toolbar"]],contentQueries:function(e,s,a){if(1&e&&o.Suo(a,Rl,4),2&e){let l;o.iGM(l=o.CRH())&&(s.templates=l)}},inputs:{style:"style",styleClass:"styleClass"},ngContentSelectors:xce,decls:4,vars:6,consts:[["role","toolbar",3,"ngClass","ngStyle"],["class","p-toolbar-group-left",4,"ngIf"],["class","p-toolbar-group-right",4,"ngIf"],[1,"p-toolbar-group-left"],[4,"ngTemplateOutlet"],[1,"p-toolbar-group-right"]],template:function(e,s){1&e&&(o.F$t(),o.TgZ(0,"div",0),o.Hsn(1),o.YNc(2,yce,2,1,"div",1),o.YNc(3,bce,2,1,"div",2),o.qZA()),2&e&&(o.Tol(s.styleClass),o.Q6J("ngClass","p-toolbar p-component")("ngStyle",s.style),o.xp6(2),o.Q6J("ngIf",s.leftTemplate),o.xp6(1),o.Q6J("ngIf",s.rightTemplate))},directives:[he,qi,un,jr],styles:[".p-toolbar{justify-content:space-between;flex-wrap:wrap}.p-toolbar,.p-toolbar-group-left,.p-toolbar-group-right{display:flex;align-items:center}"],encapsulation:2,changeDetection:0}),t})(),wce=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Ji]]}),t})();function Cce(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",30),o.NdJ("click",function(){return o.CHM(e),o.oxw().show()}),o.qZA()}}function Mce(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",31),o.NdJ("click",function(){return o.CHM(e),o.oxw().showDialog()}),o.qZA()}}function Tce(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",32),o.TgZ(1,"h5",33),o._uU(2,"Manage Products"),o.qZA(),o.TgZ(3,"span",34),o._UZ(4,"i",35),o.TgZ(5,"input",36),o.NdJ("input",function(a){return o.CHM(e),o.oxw(),o.MAs(7).filterGlobal(a.target.value,"contains")}),o.qZA(),o.qZA(),o.qZA()}}function Sce(t,i){1&t&&(o.TgZ(0,"tr"),o.TgZ(1,"th",37),o._uU(2,"Name "),o._UZ(3,"p-sortIcon",38),o.qZA(),o.TgZ(4,"th"),o._uU(5,"Image"),o.qZA(),o.TgZ(6,"th",39),o._uU(7,"Price "),o._UZ(8,"p-sortIcon",40),o.qZA(),o.TgZ(9,"th",41),o._uU(10,"Ingredient "),o._UZ(11,"p-sortIcon",42),o.qZA(),o.TgZ(12,"th",43),o._uU(13,"Stock "),o._UZ(14,"p-sortIcon",44),o.qZA(),o.TgZ(15,"th",43),o._uU(16,"Tracking Ingredient"),o._UZ(17,"p-sortIcon",44),o.qZA(),o.TgZ(18,"th",45),o._uU(19,"Status "),o._UZ(20,"p-sortIcon",46),o.qZA(),o._UZ(21,"th"),o.qZA())}function kce(t,i){if(1&t&&(o.TgZ(0,"li",52),o._uU(1),o.qZA()),2&t){const e=i.$implicit;o.xp6(1),o.AsE("",e.ingredient," - ",e.ingredientQuantity," unit")}}const Ece=function(){return{"status-instock":!0}};function Dce(t,i){1&t&&(o.TgZ(0,"span",53),o._uU(1,"Available"),o.qZA()),2&t&&(o.Tol("product-badge "),o.Q6J("ngClass",o.DdM(3,Ece)))}const Ace=function(){return{"status-lowstock":!0}};function Ice(t,i){1&t&&(o.TgZ(0,"span",53),o._uU(1,"StockLow"),o.qZA()),2&t&&(o.Tol("product-badge "),o.Q6J("ngClass",o.DdM(3,Ace)))}const Lce=function(){return{"status-outstock":!0}};function Pce(t,i){1&t&&(o.TgZ(0,"span",53),o._uU(1,"StockOut"),o.qZA()),2&t&&(o.Tol("product-badge "),o.Q6J("ngClass",o.DdM(3,Lce)))}function Oce(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"tr"),o.TgZ(1,"td"),o._uU(2),o.qZA(),o.TgZ(3,"td"),o._UZ(4,"img",47),o.qZA(),o.TgZ(5,"td"),o._uU(6),o.ALo(7,"currency"),o.qZA(),o.TgZ(8,"td"),o.TgZ(9,"ul",27),o.YNc(10,kce,2,2,"li",28),o.qZA(),o.qZA(),o.TgZ(11,"td"),o._uU(12),o.qZA(),o.TgZ(13,"td"),o._UZ(14,"button",48),o.qZA(),o.TgZ(15,"td"),o.YNc(16,Dce,2,4,"span",49),o.YNc(17,Ice,2,4,"span",49),o.YNc(18,Pce,2,4,"span",49),o.qZA(),o.TgZ(19,"td"),o.TgZ(20,"button",50),o.NdJ("click",function(){const a=o.CHM(e),l=a.$implicit,h=a.rowIndex;return o.oxw().show2(l,h)}),o.qZA(),o.TgZ(21,"button",51),o.NdJ("click",function(){const l=o.CHM(e).$implicit;return o.oxw().deleteProduct(l.productname)}),o.qZA(),o.qZA(),o.qZA()}if(2&t){const e=i.$implicit;o.xp6(2),o.Oqu(e.productname),o.xp6(2),o.Q6J("alt",e.name)("src",e.imageLink,o.LSH),o.xp6(2),o.Oqu(o.xi3(7,9,e.price,"RM")),o.xp6(4),o.Q6J("ngForOf",e.ingredient),o.xp6(2),o.Oqu(e.stock),o.xp6(4),o.Q6J("ngIf",e.stock>=10),o.xp6(1),o.Q6J("ngIf",e.stock<10&&0!=e.stock),o.xp6(1),o.Q6J("ngIf",0==e.stock)}}function Rce(t,i){if(1&t&&(o.TgZ(0,"div",32),o._uU(1),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.hij(" In total there are ",e.products?e.products.length:0," products. ")}}function Fce(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"li",52),o._uU(1),o.ALo(2,"json"),o.TgZ(3,"button",26),o.NdJ("click",function(){const l=o.CHM(e).index;return o.oxw().delete(l)}),o._uU(4,"Delete"),o.qZA(),o.qZA()}if(2&t){const e=i.$implicit;o.xp6(1),o.hij("",o.lcZ(2,1,e)," ")}}function Nce(t,i){if(1&t&&(o.TgZ(0,"li",52),o.TgZ(1,"p"),o._uU(2),o.qZA(),o.TgZ(3,"p"),o._uU(4),o.qZA(),o.qZA()),2&t){const e=i.$implicit;o.xp6(2),o.Oqu(e.ingredient),o.xp6(2),o.hij("",e.quantity," Unit")}}const zce=function(){return["productname","price","rating","inventoryStatus"]},$H=function(){return{width:"450px"}};let Bce=(()=>{class t{constructor(e,s,a,l){var h=this;this.confirmationService=e,this.dialogService=s,this.messageService=a,this.fs=l,this.products=[],this.selectedProducts=[],this.productDialog=!1,this.menulist=[],this.ingredient=[],this.ingredient2=[],this.checkStatus=[],this.checkStatus2=[],this.display=!1,this.menu=[],this.ingredientCheck=[],this.ingredientCheck2=[],this.ingredientCheck3=[],this.different=[],this.x5=[],this.result=[],this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("menu").snapshotChanges().subscribe(v=>{this.products=[],v.map(C=>{let O={productname:C.payload.doc.id,price:C.payload.doc.data().price,ingredient:C.payload.doc.data().ingredient,imageLink:C.payload.doc.data().imageLink,stock:C.payload.doc.data().stock};this.products.push(O),console.log(O)})}),this.subscribe=this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("menu").snapshotChanges().subscribe(v=>{this.menulist=[],this.ingredient=[],v.map(C=>{this.menulist.push(C.payload.doc.id),this.ingredient.push(C.payload.doc.data().ingredient)})}),this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("menu").snapshotChanges().subscribe(v=>{this.x4=[],v.map(function(){var C=Qs(function*(O){let G={id:O.payload.doc.id,data:O.payload.doc.data().ingredient};yield h.x4.push(G)});return function(O){return C.apply(this,arguments)}}())}),this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("inventory").snapshotChanges().subscribe(v=>{this.x5=[],v.map(function(){var C=Qs(function*(O){let G={id:O.payload.doc.id,data:O.payload.doc.data()};yield h.x5.push(G),h.x4.forEach((te,pe)=>{te.data.forEach(Le=>{h.x5.forEach(tt=>{})})})});return function(O){return C.apply(this,arguments)}}())}),this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("menu").snapshotChanges().subscribe(v=>{v.map(function(){var C=Qs(function*(O){let G={id:O.payload.doc.id,data:O.payload.doc.data()};yield h.menu.push(G)});return function(O){return C.apply(this,arguments)}}())})}ngOnInit(){this.showQuantity()}ngOnDestroy(){this.subscribe.unsubscribe()}showQuantity(){console.log(this.x4)}show(){this.ref=this.dialogService.open(nce,{header:"Add New Product to Menu",width:"70%",contentStyle:{"max-height":"500px",overflow:"auto"},baseZIndex:1e4}),this.ref.onClose.subscribe(e=>{e&&this.messageService.add({severity:"info",summary:"Product Selected",detail:e.name})})}show2(e,s){this.productDialog=!0,this.indexOfElement=s,console.log(e,s),this.ingredient2=this.ingredient[s]}deleteProduct(e){console.log("Hello World"),this.confirmationService.confirm({message:"Are you sure you want to delete "+e+"?",header:"Confirm",icon:"pi pi-exclamation-triangle",accept:()=>{this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("menu").doc(e).delete(),this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3})}})}addNewIngredient(e,s){this.ingredient2.push({ingredient:e.value,ingredientQuantity:s.value}),console.log(this.ingredient)}delete(e){this.ingredient2.splice(e,1),console.log(this.ingredient)}update(e,s,a,l){console.log(e);let h=this.products[this.indexOfElement].productname;console.log(this.products[this.indexOfElement]),e!==this.products[this.indexOfElement].productname?this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("menu").doc(e).set({price:s,ingredient:this.ingredient2,imageLink:a,stock:l}).then(v=>{this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("menu").doc(h).delete()}):this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("menu").doc(h).update({price:s,ingredient:this.ingredient2,imageLink:a,stock:l})}showDialog(){this.ingredientCheck=[],this.display=!this.display,this.result=[],this.different=[],this.menu.forEach(e=>{console.log(e);let s=parseInt(e.data.stock);e.data.ingredient.forEach(a=>{this.ingredientCheck.push({ingredient:a.ingredient,quantity:a.ingredientQuantity*s})})}),console.log(this.ingredientCheck),this.result=this.ingredientCheck.reduce((e,s)=>(e.some(a=>a.ingredient===s.ingredient)?this.different.push(s):e.push(s),e),[]),this.different.forEach(e=>{this.result.forEach(s=>{if(e.ingredient==s.ingredient){let a=0;a=s.quantity+e.quantity,s.quantity=a}})}),console.log(this.result)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Jm),o.Y36(zF),o.Y36(vb),o.Y36(Sa))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-admin-menu-list-page"]],decls:59,vars:24,consts:[[1,"card"],["styleClass","p-mb-4"],["pTemplate","left"],["pTemplate","right"],["responsiveLayout","scroll","dataKey","productname","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rows","paginator","globalFilterFields","selection","rowHover","showCurrentPageReport","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],["header","Product Details","styleClass","p-fluid",3,"visible","modal","visibleChange"],["action",""],[1,"p-fluid"],[1,"p-field"],["for","firstname1"],["id","firstname1","type","text","pInputText","","name","productname",3,"value"],["p",""],["for","lastname1"],["id","lastname1","type","text","pInputText","","name","productprice",3,"value"],["pp",""],["il",""],["width","100","alt","",3,"src"],["s",""],["id","lastname1","type","text","pInputText",""],["i",""],["iq",""],["mat-raised-button","",3,"click"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],["header","Ingredient Checklist",3,"visible","visibleChange"],["pButton","","pRipple","","label","New","icon","pi pi-plus",1,"p-button-success","p-mr-2",3,"click"],["pButton","","pRipple","","label","Ingredient Checklist","icon","pi pi-info-circle",1,"p-button-info","p-mr-2",3,"click"],[1,"p-d-flex","p-ai-center","p-jc-between"],[1,"p-m-0"],[1,"p-input-icon-right"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",3,"input"],["pSortableColumn","productname"],["field","name"],["pSortableColumn","price"],["field","price"],["pSortableColumn","category"],["field","category"],["pSortableColumn","rating"],["field","rating"],["pSortableColumn","inventoryStatus"],["field","inventoryStatus"],["width","100",1,"p-shadow-4",3,"alt","src"],["mat-raised-button",""],[3,"class","ngClass",4,"ngIf"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-success","p-mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-warning",3,"click"],[1,"list-group-item"],[3,"ngClass"]],template:function(e,s){if(1&e){const a=o.EpF();o._UZ(0,"app-adminnavbarpage"),o._UZ(1,"p-toast"),o.TgZ(2,"div",0),o.TgZ(3,"p-toolbar",1),o.YNc(4,Cce,1,0,"ng-template",2),o.YNc(5,Mce,1,0,"ng-template",3),o.qZA(),o.TgZ(6,"p-table",4,5),o.NdJ("selectionChange",function(h){return s.selectedProducts=h}),o.YNc(8,Tce,6,0,"ng-template",6),o.YNc(9,Sce,22,0,"ng-template",7),o.YNc(10,Oce,22,12,"ng-template",8),o.YNc(11,Rce,2,1,"ng-template",9),o.qZA(),o.qZA(),o.TgZ(12,"p-dialog",10),o.NdJ("visibleChange",function(h){return s.productDialog=h}),o.TgZ(13,"form",11),o.TgZ(14,"div",12),o.TgZ(15,"div",13),o.TgZ(16,"label",14),o._uU(17,"Product Name"),o.qZA(),o._UZ(18,"input",15,16),o.qZA(),o.TgZ(20,"div",13),o.TgZ(21,"label",17),o._uU(22,"Product Price"),o.qZA(),o._UZ(23,"input",18,19),o.qZA(),o.TgZ(25,"div",13),o.TgZ(26,"label",17),o._uU(27,"Product Image Link"),o.qZA(),o._UZ(28,"input",18,20),o.qZA(),o.TgZ(30,"div",13),o.TgZ(31,"p"),o._uU(32,"Image Preview"),o.qZA(),o._UZ(33,"img",21),o.qZA(),o.TgZ(34,"div",13),o.TgZ(35,"label",17),o._uU(36,"Product Stock Quantity"),o.qZA(),o._UZ(37,"input",18,22),o.qZA(),o.TgZ(39,"div",13),o.TgZ(40,"label",17),o._uU(41,"Ingredient Name (Needed)"),o.qZA(),o._UZ(42,"input",23,24),o.qZA(),o.TgZ(44,"div",13),o.TgZ(45,"label",17),o._uU(46,"Ingredient Quantity (Needed)"),o.qZA(),o._UZ(47,"input",23,25),o.qZA(),o.TgZ(49,"button",26),o.NdJ("click",function(){o.CHM(a);const h=o.MAs(43),v=o.MAs(48);return s.addNewIngredient(h,v)}),o._uU(50,"Add"),o.qZA(),o.TgZ(51,"ul",27),o.YNc(52,Fce,5,3,"li",28),o.qZA(),o.qZA(),o.TgZ(53,"button",26),o.NdJ("click",function(){o.CHM(a);const h=o.MAs(19),v=o.MAs(24),C=o.MAs(29),O=o.MAs(38);return s.update(h.value,v.value,C.value,O.value)}),o._uU(54,"Update"),o.qZA(),o.qZA(),o.qZA(),o._UZ(55,"p-confirmDialog"),o.TgZ(56,"p-dialog",29),o.NdJ("visibleChange",function(h){return s.display=h}),o.TgZ(57,"ul",27),o.YNc(58,Nce,5,2,"li",28),o.qZA(),o.qZA()}if(2&e){const a=o.MAs(29);o.xp6(6),o.Q6J("value",s.products)("rows",5)("paginator",!0)("globalFilterFields",o.DdM(21,zce))("selection",s.selectedProducts)("rowHover",!0)("showCurrentPageReport",!0),o.xp6(6),o.Akn(o.DdM(22,$H)),o.Q6J("visible",s.productDialog)("modal",!0),o.xp6(6),o.s9C("value",null==s.products[s.indexOfElement]?null:s.products[s.indexOfElement].productname),o.xp6(5),o.s9C("value",null==s.products[s.indexOfElement]?null:s.products[s.indexOfElement].price),o.xp6(5),o.s9C("value",null==s.products[s.indexOfElement]?null:s.products[s.indexOfElement].imageLink),o.xp6(5),o.Q6J("src",a.value,o.LSH),o.xp6(4),o.s9C("value",null==s.products[s.indexOfElement]?null:s.products[s.indexOfElement].stock),o.xp6(15),o.Q6J("ngForOf",s.ingredient2),o.xp6(3),o.Akn(o.DdM(23,$H)),o.xp6(1),o.Q6J("visible",s.display),o.xp6(2),o.Q6J("ngForOf",s.result)}},directives:[Zg,GL,qH,Rl,cx,AC,iy,$i,zw,ax,Dd,mt,PL,ox,RF,FF,un,he],pipes:[ah,Zh],styles:[".product-badge.status-instock[_ngcontent-%COMP%]{background-color:#c8e6c8;padding:4px;border-radius:2.5px}.product-badge.status-lowstock[_ngcontent-%COMP%]{background-color:#fcd865;padding:4px;border-radius:2.5px}.product-badge.status-outstock[_ngcontent-%COMP%]{background-color:#ff6c6c;padding:4px;border-radius:2.5px}"]}),t})();function Yce(t,i){1&t&&o.GkF(0)}function Hce(t,i){if(1&t&&(o.ynx(0),o.YNc(1,Yce,1,0,"ng-container",3),o.BQk()),2&t){const e=o.oxw(2);o.xp6(1),o.Q6J("ngTemplateOutlet",e.contentTemplate)}}function Vce(t,i){if(1&t&&(o.TgZ(0,"div",1),o.Hsn(1),o.YNc(2,Hce,2,1,"ng-container",2),o.qZA()),2&t){const e=o.oxw();o.Q6J("hidden",!e.selected),o.uIk("id",e.id)("aria-hidden",!e.selected)("aria-labelledby",e.id+"-label"),o.xp6(2),o.Q6J("ngIf",e.contentTemplate&&(e.cache?e.loaded:e.selected))}}const QH=["*"],Uce=["navbar"],jce=["inkbar"];function Zce(t,i){if(1&t&&o._UZ(0,"span",16),2&t){const e=o.oxw(3).$implicit;o.Q6J("ngClass",e.leftIcon)}}function Gce(t,i){if(1&t&&o._UZ(0,"span",17),2&t){const e=o.oxw(3).$implicit;o.Q6J("ngClass",e.rightIcon)}}function Wce(t,i){if(1&t&&(o.ynx(0),o.YNc(1,Zce,1,1,"span",13),o.TgZ(2,"span",14),o._uU(3),o.qZA(),o.YNc(4,Gce,1,1,"span",15),o.BQk()),2&t){const e=o.oxw(2).$implicit;o.xp6(1),o.Q6J("ngIf",e.leftIcon),o.xp6(2),o.Oqu(e.header),o.xp6(1),o.Q6J("ngIf",e.rightIcon)}}function qce(t,i){1&t&&o.GkF(0)}function $ce(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"span",18),o.NdJ("click",function(a){o.CHM(e);const l=o.oxw(2).$implicit;return o.oxw().close(a,l)}),o.qZA()}}const Qce=function(t,i){return{"p-highlight":t,"p-disabled":i}};function Xce(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"li",8),o.TgZ(1,"a",9),o.NdJ("click",function(a){o.CHM(e);const l=o.oxw().$implicit;return o.oxw().open(a,l)})("keydown.enter",function(a){o.CHM(e);const l=o.oxw().$implicit;return o.oxw().open(a,l)}),o.YNc(2,Wce,5,3,"ng-container",10),o.YNc(3,qce,1,0,"ng-container",11),o.YNc(4,$ce,1,0,"span",12),o.qZA(),o.qZA()}if(2&t){const e=o.oxw().$implicit;o.Tol(e.headerStyleClass),o.Q6J("ngClass",o.WLB(16,Qce,e.selected,e.disabled))("ngStyle",e.headerStyle),o.xp6(1),o.Q6J("pTooltip",e.tooltip)("tooltipPosition",e.tooltipPosition)("positionStyle",e.tooltipPositionStyle)("tooltipStyleClass",e.tooltipStyleClass),o.uIk("id",e.id+"-label")("aria-selected",e.selected)("aria-controls",e.id)("aria-selected",e.selected)("tabindex",e.disabled?null:"0"),o.xp6(1),o.Q6J("ngIf",!e.headerTemplate),o.xp6(1),o.Q6J("ngTemplateOutlet",e.headerTemplate),o.xp6(1),o.Q6J("ngIf",e.closable)}}function Jce(t,i){1&t&&o.YNc(0,Xce,5,19,"li",7),2&t&&o.Q6J("ngIf",!i.$implicit.closed)}let Kce=0,XH=(()=>{class t{constructor(e,s,a){this.viewContainer=s,this.cd=a,this.cache=!0,this.tooltipPosition="top",this.tooltipPositionStyle="absolute",this.id="p-tabpanel-"+Kce++,this.tabView=e}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"content":default:this.contentTemplate=e.template}})}get selected(){return this._selected}set selected(e){this._selected=e,this.loaded||this.cd.detectChanges(),e&&(this.loaded=!0)}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this.tabView.cd.markForCheck()}get header(){return this._header}set header(e){this._header=e,this.tabView.cd.markForCheck()}get leftIcon(){return this._leftIcon}set leftIcon(e){this._leftIcon=e,this.tabView.cd.markForCheck()}get rightIcon(){return this._rightIcon}set rightIcon(e){this._rightIcon=e,this.tabView.cd.markForCheck()}ngOnDestroy(){this.view=null}}return t.\u0275fac=function(e){return new(e||t)(o.Y36((0,o.Gpc)(()=>JH)),o.Y36(o.s_b),o.Y36(o.sBO))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-tabPanel"]],contentQueries:function(e,s,a){if(1&e&&o.Suo(a,Rl,4),2&e){let l;o.iGM(l=o.CRH())&&(s.templates=l)}},inputs:{closable:"closable",headerStyle:"headerStyle",headerStyleClass:"headerStyleClass",cache:"cache",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",selected:"selected",disabled:"disabled",header:"header",leftIcon:"leftIcon",rightIcon:"rightIcon"},ngContentSelectors:QH,decls:1,vars:1,consts:[["class","p-tabview-panel","role","tabpanel",3,"hidden",4,"ngIf"],["role","tabpanel",1,"p-tabview-panel",3,"hidden"],[4,"ngIf"],[4,"ngTemplateOutlet"]],template:function(e,s){1&e&&(o.F$t(),o.YNc(0,Vce,3,5,"div",0)),2&e&&o.Q6J("ngIf",!s.closed)},directives:[un,jr],encapsulation:2}),t})(),JH=(()=>{class t{constructor(e,s){this.el=e,this.cd=s,this.orientation="top",this.onChange=new o.vpe,this.onClose=new o.vpe,this.activeIndexChange=new o.vpe}ngAfterContentInit(){this.initTabs(),this.tabPanels.changes.subscribe(e=>{this.initTabs()})}ngAfterViewChecked(){this.tabChanged&&(this.updateInkBar(),this.tabChanged=!1)}initTabs(){this.tabs=this.tabPanels.toArray(),!this.findSelectedTab()&&this.tabs.length&&(null!=this.activeIndex&&this.tabs.length>this.activeIndex?this.tabs[this.activeIndex].selected=!0:this.tabs[0].selected=!0,this.tabChanged=!0),this.cd.markForCheck()}open(e,s){if(s.disabled)e&&e.preventDefault();else{if(!s.selected){let a=this.findSelectedTab();a&&(a.selected=!1),this.tabChanged=!0,s.selected=!0;let l=this.findTabIndex(s);this.preventActiveIndexPropagation=!0,this.activeIndexChange.emit(l),this.onChange.emit({originalEvent:e,index:l})}e&&e.preventDefault()}}close(e,s){this.controlClose?this.onClose.emit({originalEvent:e,index:this.findTabIndex(s),close:()=>{this.closeTab(s)}}):(this.closeTab(s),this.onClose.emit({originalEvent:e,index:this.findTabIndex(s)})),e.stopPropagation()}closeTab(e){if(!e.disabled){if(e.selected){this.tabChanged=!0,e.selected=!1;for(let s=0;s<this.tabs.length;s++){let a=this.tabs[s];if(!a.closed&&!e.disabled){a.selected=!0;break}}}e.closed=!0}}findSelectedTab(){for(let e=0;e<this.tabs.length;e++)if(this.tabs[e].selected)return this.tabs[e];return null}findTabIndex(e){let s=-1;for(let a=0;a<this.tabs.length;a++)if(this.tabs[a]==e){s=a;break}return s}getBlockableElement(){return this.el.nativeElement.children[0]}get activeIndex(){return this._activeIndex}set activeIndex(e){this._activeIndex=e,this.preventActiveIndexPropagation?this.preventActiveIndexPropagation=!1:this.tabs&&this.tabs.length&&null!=this._activeIndex&&this.tabs.length>this._activeIndex&&(this.findSelectedTab().selected=!1,this.tabs[this._activeIndex].selected=!0,this.tabChanged=!0)}updateInkBar(){let e=cn.findSingle(this.navbar.nativeElement,"li.p-highlight");this.inkbar.nativeElement.style.width=cn.getWidth(e)+"px",this.inkbar.nativeElement.style.left=cn.getOffset(e).left-cn.getOffset(this.navbar.nativeElement).left+"px"}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.sBO))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-tabView"]],contentQueries:function(e,s,a){if(1&e&&o.Suo(a,XH,4),2&e){let l;o.iGM(l=o.CRH())&&(s.tabPanels=l)}},viewQuery:function(e,s){if(1&e&&(o.Gf(Uce,5),o.Gf(jce,5)),2&e){let a;o.iGM(a=o.CRH())&&(s.navbar=a.first),o.iGM(a=o.CRH())&&(s.inkbar=a.first)}},inputs:{orientation:"orientation",style:"style",styleClass:"styleClass",controlClose:"controlClose",activeIndex:"activeIndex"},outputs:{onChange:"onChange",onClose:"onClose",activeIndexChange:"activeIndexChange"},ngContentSelectors:QH,decls:8,vars:5,consts:[[3,"ngClass","ngStyle"],["role","tablist",1,"p-tabview-nav"],["navbar",""],["ngFor","",3,"ngForOf"],[1,"p-tabview-ink-bar"],["inkbar",""],[1,"p-tabview-panels"],["role","presentation",3,"ngClass","ngStyle","class",4,"ngIf"],["role","presentation",3,"ngClass","ngStyle"],["role","tab","pRipple","",1,"p-tabview-nav-link",3,"pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","click","keydown.enter"],[4,"ngIf"],[4,"ngTemplateOutlet"],["class","p-tabview-close pi pi-times",3,"click",4,"ngIf"],["class","p-tabview-left-icon",3,"ngClass",4,"ngIf"],[1,"p-tabview-title"],["class","p-tabview-right-icon",3,"ngClass",4,"ngIf"],[1,"p-tabview-left-icon",3,"ngClass"],[1,"p-tabview-right-icon",3,"ngClass"],[1,"p-tabview-close","pi","pi-times",3,"click"]],template:function(e,s){1&e&&(o.F$t(),o.TgZ(0,"div",0),o.TgZ(1,"ul",1,2),o.YNc(3,Jce,1,1,"ng-template",3),o._UZ(4,"li",4,5),o.qZA(),o.TgZ(6,"div",6),o.Hsn(7),o.qZA(),o.qZA()),2&e&&(o.Tol(s.styleClass),o.Q6J("ngClass","p-tabview p-component")("ngStyle",s.style),o.xp6(3),o.Q6J("ngForOf",s.tabs))},directives:[he,qi,mt,un,Km,S3,jr],styles:[".p-tabview-nav{display:flex;margin:0;padding:0;list-style-type:none;flex-wrap:wrap}.p-tabview-nav-link{cursor:pointer;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;align-items:center;position:relative;text-decoration:none;overflow:hidden}.p-tabview-ink-bar{display:none;z-index:1}.p-tabview-nav-link:focus{z-index:1}.p-tabview-title{line-height:1}.p-tabview-close{z-index:1}"],encapsulation:2,changeDetection:0}),t})(),eue=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Ji,Ha,k3,Bh],Ha]}),t})();function tue(t,i){if(1&t&&(o.TgZ(0,"span",9),o._uU(1),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.hij(" ",e.header," ")}}function nue(t,i){1&t&&o.GkF(0)}function iue(t,i){1&t&&o.Hsn(0,1,["*ngIf","hasHeaderFacet"])}function rue(t,i){1&t&&o.GkF(0)}function sue(t,i){if(1&t&&(o.ynx(0),o.YNc(1,rue,1,0,"ng-container",5),o.BQk()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngTemplateOutlet",e.contentTemplate)}}const oue=["*",[["p-header"]]],aue=function(t){return{"p-accordion-tab-active":t}},lue=function(t,i){return{"p-highlight":t,"p-disabled":i}},KH=function(t){return{transitionParams:t}},cue=function(t){return{value:"visible",params:t}},uue=function(t){return{value:"hidden",params:t}},due=["*","p-header"],hue=["*"];let pue=0,eV=(()=>{class t{constructor(e,s){this.changeDetector=s,this.cache=!0,this.selectedChange=new o.vpe,this.transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)",this.id="p-accordiontab-"+pue++,this.accordion=e}get selected(){return this._selected}set selected(e){this._selected=e,this.loaded||(this._selected&&this.cache&&(this.loaded=!0),this.changeDetector.detectChanges())}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;default:this.contentTemplate=e.template}})}toggle(e){if(this.disabled)return!1;let s=this.findTabIndex();if(this.selected)this.selected=!1,this.accordion.onClose.emit({originalEvent:e,index:s});else{if(!this.accordion.multiple)for(var a=0;a<this.accordion.tabs.length;a++)this.accordion.tabs[a].selected=!1,this.accordion.tabs[a].selectedChange.emit(!1),this.accordion.tabs[a].changeDetector.markForCheck();this.selected=!0,this.loaded=!0,this.accordion.onOpen.emit({originalEvent:e,index:s})}this.selectedChange.emit(this.selected),this.accordion.updateActiveIndex(),this.changeDetector.markForCheck(),e.preventDefault()}findTabIndex(){let e=-1;for(var s=0;s<this.accordion.tabs.length;s++)if(this.accordion.tabs[s]==this){e=s;break}return e}get hasHeaderFacet(){return this.headerFacet&&this.headerFacet.length>0}onKeydown(e){(32===e.which||13===e.which)&&(this.toggle(e),e.preventDefault())}ngOnDestroy(){this.accordion.tabs.splice(this.findTabIndex(),1)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36((0,o.Gpc)(()=>tV)),o.Y36(o.sBO))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-accordionTab"]],contentQueries:function(e,s,a){if(1&e&&(o.Suo(a,mS,4),o.Suo(a,Rl,4)),2&e){let l;o.iGM(l=o.CRH())&&(s.headerFacet=l),o.iGM(l=o.CRH())&&(s.templates=l)}},inputs:{header:"header",disabled:"disabled",cache:"cache",transitionOptions:"transitionOptions",selected:"selected"},outputs:{selectedChange:"selectedChange"},ngContentSelectors:due,decls:11,vars:28,consts:[[1,"p-accordion-tab",3,"ngClass"],[1,"p-accordion-header",3,"ngClass"],["role","tab",1,"p-accordion-header-link",3,"click","keydown"],[1,"p-accordion-toggle-icon",3,"ngClass"],["class","p-accordion-header-text",4,"ngIf"],[4,"ngTemplateOutlet"],[4,"ngIf"],["role","region",1,"p-toggleable-content"],[1,"p-accordion-content"],[1,"p-accordion-header-text"]],template:function(e,s){1&e&&(o.F$t(oue),o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"a",2),o.NdJ("click",function(l){return s.toggle(l)})("keydown",function(l){return s.onKeydown(l)}),o._UZ(3,"span",3),o.YNc(4,tue,2,1,"span",4),o.YNc(5,nue,1,0,"ng-container",5),o.YNc(6,iue,1,0,"ng-content",6),o.qZA(),o.qZA(),o.TgZ(7,"div",7),o.TgZ(8,"div",8),o.Hsn(9),o.YNc(10,sue,2,1,"ng-container",6),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.Q6J("ngClass",o.VKq(15,aue,s.selected)),o.xp6(1),o.Q6J("ngClass",o.WLB(17,lue,s.selected,s.disabled)),o.xp6(1),o.uIk("tabindex",s.disabled?null:0)("id",s.id)("aria-controls",s.id+"-content")("aria-expanded",s.selected),o.xp6(1),o.Q6J("ngClass",s.selected?s.accordion.collapseIcon:s.accordion.expandIcon),o.xp6(1),o.Q6J("ngIf",!s.hasHeaderFacet),o.xp6(1),o.Q6J("ngTemplateOutlet",s.headerTemplate),o.xp6(1),o.Q6J("ngIf",s.hasHeaderFacet),o.xp6(1),o.Q6J("@tabContent",s.selected?o.VKq(22,cue,o.VKq(20,KH,s.transitionOptions)):o.VKq(26,uue,o.VKq(24,KH,s.transitionOptions))),o.uIk("id",s.id+"-content")("aria-hidden",!s.selected)("aria-labelledby",s.id),o.xp6(3),o.Q6J("ngIf",s.contentTemplate&&(s.cache?s.loaded:s.selected)))},directives:[he,un,jr],styles:[".p-accordion-header-link{cursor:pointer;display:flex;align-items:center;-webkit-user-select:none;-ms-user-select:none;user-select:none;position:relative;text-decoration:none}.p-accordion-header-link:focus{z-index:1}.p-accordion-header-text{line-height:1}"],encapsulation:2,data:{animation:[oa("tabContent",[bo("hidden",oi({height:"0",overflow:"hidden"})),bo("visible",oi({height:"*"})),Ir("visible <=> hidden",[oi({overflow:"hidden"}),qr("{{transitionParams}}")]),Ir("void => *",qr(0))])]},changeDetection:0}),t})(),tV=(()=>{class t{constructor(e,s){this.el=e,this.changeDetector=s,this.onClose=new o.vpe,this.onOpen=new o.vpe,this.expandIcon="pi pi-fw pi-chevron-right",this.collapseIcon="pi pi-fw pi-chevron-down",this.activeIndexChange=new o.vpe,this.tabs=[]}ngAfterContentInit(){this.initTabs(),this.tabListSubscription=this.tabList.changes.subscribe(e=>{this.initTabs()})}initTabs(){this.tabs=this.tabList.toArray(),this.updateSelectionState(),this.changeDetector.markForCheck()}getBlockableElement(){return this.el.nativeElement.children[0]}get activeIndex(){return this._activeIndex}set activeIndex(e){this._activeIndex=e,this.preventActiveIndexPropagation?this.preventActiveIndexPropagation=!1:this.updateSelectionState()}updateSelectionState(){if(this.tabs&&this.tabs.length&&null!=this._activeIndex)for(let e=0;e<this.tabs.length;e++){let s=this.multiple?this._activeIndex.includes(e):e===this._activeIndex;s!==this.tabs[e].selected&&(this.tabs[e].selected=s,this.tabs[e].selectedChange.emit(s),this.tabs[e].changeDetector.markForCheck())}}updateActiveIndex(){let e=this.multiple?[]:null;this.tabs.forEach((s,a)=>{if(s.selected){if(!this.multiple)return void(e=a);e.push(a)}}),this.preventActiveIndexPropagation=!0,this.activeIndexChange.emit(e)}ngOnDestroy(){this.tabListSubscription&&this.tabListSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.sBO))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-accordion"]],contentQueries:function(e,s,a){if(1&e&&o.Suo(a,eV,4),2&e){let l;o.iGM(l=o.CRH())&&(s.tabList=l)}},inputs:{multiple:"multiple",style:"style",styleClass:"styleClass",expandIcon:"expandIcon",collapseIcon:"collapseIcon",activeIndex:"activeIndex"},outputs:{onClose:"onClose",onOpen:"onOpen",activeIndexChange:"activeIndexChange"},ngContentSelectors:hue,decls:2,vars:4,consts:[["role","tablist",3,"ngClass","ngStyle"]],template:function(e,s){1&e&&(o.F$t(),o.TgZ(0,"div",0),o.Hsn(1),o.qZA()),2&e&&(o.Tol(s.styleClass),o.Q6J("ngClass","p-accordion p-component")("ngStyle",s.style))},directives:[he,qi],encapsulation:2,changeDetection:0}),t})(),fue=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Ji],Ha]}),t})();function mue(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"p-accordionTab",8),o.TgZ(1,"p"),o._uU(2),o.qZA(),o.TgZ(3,"p"),o._uU(4),o.qZA(),o.TgZ(5,"p"),o._uU(6),o.qZA(),o.TgZ(7,"p"),o._uU(8),o.qZA(),o.TgZ(9,"p"),o._uU(10),o.ALo(11,"currency"),o.qZA(),o.TgZ(12,"p"),o._uU(13),o.qZA(),o.TgZ(14,"button",9),o.NdJ("click",function(){const l=o.CHM(e).$implicit;return o.oxw().pay(l.data.uid)}),o._uU(15,"Pay Now"),o.qZA(),o.TgZ(16,"button",9),o.NdJ("click",function(){const l=o.CHM(e).$implicit;return o.oxw().delete(l.data.uid,l.id)}),o._uU(17,"Cancel"),o.qZA(),o.qZA()}if(2&t){const e=i.$implicit;o.s9C("header",e.data.productname),o.xp6(2),o.hij("Company Name: ",e.data.compname,""),o.xp6(2),o.hij("Category: ",e.data.category,""),o.xp6(2),o.hij("Amount: ",e.data.amount,""),o.xp6(2),o.hij("Quantity: ",e.data.quantity,""),o.xp6(2),o.hij("Total:",o.xi3(11,7,e.data.amount*e.data.quantity," MYR")," "),o.xp6(3),o.hij("Status: ",e.data.status,"")}}function gue(t,i){if(1&t&&(o.TgZ(0,"p-accordionTab",8),o.TgZ(1,"p"),o._uU(2),o.qZA(),o.TgZ(3,"p"),o._uU(4),o.qZA(),o.TgZ(5,"p"),o._uU(6),o.qZA(),o.TgZ(7,"p"),o._uU(8),o.qZA(),o.TgZ(9,"p"),o._uU(10),o.ALo(11,"currency"),o.qZA(),o.TgZ(12,"p"),o._uU(13),o.qZA(),o.TgZ(14,"p"),o._uU(15),o.qZA(),o.qZA()),2&t){const e=i.$implicit;o.s9C("header",e.data.productname),o.xp6(2),o.hij("Company Name: ",e.data.compname,""),o.xp6(2),o.hij("Category: ",e.data.category,""),o.xp6(2),o.hij("Amount: ",e.data.amount,""),o.xp6(2),o.hij("Quantity: ",e.data.quantity,""),o.xp6(2),o.hij("Total:",o.xi3(11,8,e.data.amount*e.data.quantity," MYR")," "),o.xp6(3),o.hij("Status: ",e.data.status,""),o.xp6(2),o.hij("Order Time : ",e.data.ordertimestamp,"")}}function _ue(t,i){if(1&t&&(o.TgZ(0,"p"),o._uU(1),o.qZA()),2&t){const e=o.oxw().$implicit;o.xp6(1),o.hij("Prepare Time : ",e.data.preparetimestamp,"")}}function yue(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"p-accordionTab",8),o.TgZ(1,"p"),o._uU(2),o.qZA(),o.TgZ(3,"p"),o._uU(4),o.qZA(),o.TgZ(5,"p"),o._uU(6),o.qZA(),o.TgZ(7,"p"),o._uU(8),o.qZA(),o.TgZ(9,"p"),o._uU(10),o.ALo(11,"currency"),o.qZA(),o.TgZ(12,"p"),o._uU(13),o.qZA(),o.TgZ(14,"p"),o._uU(15),o.qZA(),o.YNc(16,_ue,2,1,"p",10),o.TgZ(17,"button",9),o.NdJ("click",function(){const l=o.CHM(e).$implicit;return o.oxw().updateInfoInv(l)}),o._uU(18,"Order Received"),o.qZA(),o.qZA()}if(2&t){const e=i.$implicit;o.s9C("header",e.data.productname),o.xp6(2),o.hij("Company Name: ",e.data.compname,""),o.xp6(2),o.hij("Category: ",e.data.category,""),o.xp6(2),o.hij("Amount: ",e.data.amount,""),o.xp6(2),o.hij("Quantity: ",e.data.quantity,""),o.xp6(2),o.hij("Total:",o.xi3(11,9,e.data.amount*e.data.quantity," MYR")," "),o.xp6(3),o.hij("Status: ",e.data.status,""),o.xp6(2),o.hij("Order Time : ",e.data.ordertimestamp,""),o.xp6(1),o.Q6J("ngIf",null!==e.data.preparetimestamp)}}function vue(t,i){if(1&t&&(o.TgZ(0,"p"),o._uU(1),o.qZA()),2&t){const e=o.oxw().$implicit;o.xp6(1),o.hij("Prepare Time : ",e.data.preparetimestamp,"")}}function bue(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",9),o.NdJ("click",function(){o.CHM(e);const a=o.oxw().$implicit;return o.oxw().showBasicDialog(a)}),o._uU(1,"Rating"),o.qZA()}}function xue(t,i){if(1&t&&(o.TgZ(0,"p-accordionTab",8),o.TgZ(1,"p"),o._uU(2),o.qZA(),o.TgZ(3,"p"),o._uU(4),o.qZA(),o.TgZ(5,"p"),o._uU(6),o.qZA(),o.TgZ(7,"p"),o._uU(8),o.qZA(),o.TgZ(9,"p"),o._uU(10),o.ALo(11,"currency"),o.qZA(),o.TgZ(12,"p"),o._uU(13),o.qZA(),o.TgZ(14,"p"),o._uU(15),o.qZA(),o.YNc(16,vue,2,1,"p",10),o.TgZ(17,"p"),o._uU(18),o.qZA(),o.YNc(19,bue,2,0,"button",11),o.qZA()),2&t){const e=i.$implicit;o.s9C("header",e.data.productname),o.xp6(2),o.hij("Company Name: ",e.data.compname,""),o.xp6(2),o.hij("Category: ",e.data.category,""),o.xp6(2),o.hij("Amount: ",e.data.amount,""),o.xp6(2),o.hij("Quantity: ",e.data.quantity,""),o.xp6(2),o.hij("Total:",o.xi3(11,11,e.data.amount*e.data.quantity," MYR")," "),o.xp6(3),o.hij("Status: ",e.data.status,""),o.xp6(2),o.hij("Order Time : ",e.data.ordertimestamp,""),o.xp6(1),o.Q6J("ngIf",null!==e.data.preparetimestamp),o.xp6(2),o.hij("Completed Time : ",e.data.completetimestamp,""),o.xp6(1),o.Q6J("ngIf",0==e.data.ratingstatus)}}function wue(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"p-button",12),o.NdJ("click",function(){return o.CHM(e),o.oxw().displayBasic=!1})("click",function(){o.CHM(e);const a=o.oxw();return a.updateRating(a.productInfo)}),o.qZA()}}const Cue=function(){return{width:"50vw"}};let Mue=(()=>{class t{constructor(e,s){this.fs=e,this.fns=s,this.toPay=[],this.toShip=[],this.toReceived=[],this.completed=[],this.quantity=0,this.displayBasic=!1,this.val2=0,this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("payment").snapshotChanges().subscribe(a=>{this.toPay=[],this.toShip=[],this.toReceived=[],this.completed=[],a.map(l=>{if("unpaid"===l.payload.doc.data().status){let h={id:l.payload.doc.id,data:l.payload.doc.data()};this.toPay.push(h)}if("paid"===l.payload.doc.data().status){let h={id:l.payload.doc.id,data:l.payload.doc.data()};this.toShip.push(h)}if("toship"===l.payload.doc.data().status||"tocomplete"===l.payload.doc.data().status||"completed"===l.payload.doc.data().status){let h={id:l.payload.doc.id,data:l.payload.doc.data()};this.toReceived.push(h)}if(!0===l.payload.doc.data().receivedstatus&&"finished"===l.payload.doc.data().status){let h={id:l.payload.doc.id,data:l.payload.doc.data()};this.completed.push(h)}})})}ngOnInit(){}pay(e){var s=this;return Qs(function*(){s.isGettingCheckout=!0,s.stripe=yield VL("pk_test_51JWyo0FAyW0TeHuLxronXkW18xbGcUCeGeOnk0CCq3W6Kl8gZ3OViSOqMctnmuMTptcchsU1ZsieUf4LAMHCfwxu00Hd2Nl8Rz"),s.stripe.redirectToCheckout({sessionId:e})})()}delete(e,s){var a=this;return Qs(function*(){a.id1=s,a.stripe=yield VL("pk_test_51JWyo0FAyW0TeHuLxronXkW18xbGcUCeGeOnk0CCq3W6Kl8gZ3OViSOqMctnmuMTptcchsU1ZsieUf4LAMHCfwxu00Hd2Nl8Rz"),a.fns.httpsCallable("cancelPayment")({uid:e}).subscribe(h=>{"canceled"==h.status&&a.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("payment").doc(a.id1).delete()}),console.log(s)})()}updateInfoInv(e){var s=this;return Qs(function*(){console.log(e.data),s.fs.collection("Supplier").get().subscribe(l=>{l.docs.forEach(h=>{let v=h.id;h.data().compname===e.data.compname&&(console.log(v),s.fs.collection("Supplier").doc(v).collection("menu").get().subscribe(C=>{C.docs.forEach(O=>{if(console.log(O.data()),O.data().category===e.data.category){console.log(O.data());let G=O.data().ratingTotal+1;s.fs.collection("Supplier").doc(v).collection("menu").doc(O.id).update({totalSale:G})}})}))})}),s.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("payment").doc(e.id).update({receivedstatus:!0,status:"finished"}),console.log(e),s.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("inventory").get().subscribe(l=>{0===l.size?s.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("inventory").doc(e.data.category).set({quantity:e.data.quantity,lowestmargin:1}):s.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("inventory").doc(e.data.category).get().subscribe(function(){var h=Qs(function*(v){var C;s.quantity=null===(C=v.data())||void 0===C?void 0:C.quantity;let O=s.quantity+e.data.quantity;yield s.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("inventory").doc(e.data.category).update({quantity:O}).then(G=>{console.log("successfully")})});return function(v){return h.apply(this,arguments)}}())});let a=e.data.amount*e.data.quantity;s.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("inventory").doc(e.data.category).collection("purchasehistory").doc().set({trackingnumber:e.id,category:e.data.category,rating:e.data.ratingstatus,status:e.data.status,compname:e.data.compname,total:a,amount:e.data.amount,quantity:e.data.quantity,productname:e.data.productname,ordertimestamp:e.data.ordertimestamp,completetimestamp:e.data.completetimestamp,preparetimestamp:e.data.preparetimestamp,shiptimestamp:e.data.shiptimestamp,stockChecking:e.data.quantity})})()}showBasicDialog(e){var s=this;return Qs(function*(){s.productInfo=yield e,s.displayBasic=!s.displayBasic})()}updateRating(e){var s=this;console.log(this.val2,e),this.fs.collection("Supplier").snapshotChanges().subscribe(a=>{a.map(function(){var l=Qs(function*(h){console.log(h.payload.doc.id),h.payload.doc.data().compname===e.data.compname&&(s.id=yield h.payload.doc.id,s.fs.collection("Supplier").doc(s.id).collection("menu").get().subscribe(v=>{v.docs.forEach(C=>{if(console.log(C.data()),C.data().category===e.data.category){if(0===C.data().rating){let pe=[];pe.push(s.val2),s.fs.collection("Supplier").doc(s.id).collection("menu").doc(C.id).update({rating:pe,ratingTotal:s.val2})}let O=C.data().rating;O.push(s.val2);let G=0;O.forEach(pe=>{G+=pe});let te=G/O.length;console.log(te),s.fs.collection("Supplier").doc(s.id).collection("menu").doc(C.id).update({rating:O,ratingTotal:Math.round(te)})}})}))});return function(h){return l.apply(this,arguments)}}())})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Sa),o.Y36(Ik))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-admin-tracking-page"]],decls:19,vars:11,consts:[["header","To Pay"],[3,"header",4,"ngFor","ngForOf"],["header","To Ship"],["header","To Received"],["header","Completed"],["header","Rate Product",3,"visible","visibleChange"],[3,"ngModel","cancel","ngModelChange"],["pTemplate","footer"],[3,"header"],["mat-raised-button","",3,"click"],[4,"ngIf"],["mat-raised-button","",3,"click",4,"ngIf"],["icon","pi pi-check","label","Ok","styleClass","p-button-text",3,"click"]],template:function(e,s){1&e&&(o._UZ(0,"app-adminnavbarpage"),o.TgZ(1,"p-tabView"),o.TgZ(2,"p-tabPanel",0),o.TgZ(3,"p-accordion"),o.YNc(4,mue,18,10,"p-accordionTab",1),o.qZA(),o.qZA(),o.TgZ(5,"p-tabPanel",2),o.TgZ(6,"p-accordion"),o.YNc(7,gue,16,11,"p-accordionTab",1),o.qZA(),o.qZA(),o.TgZ(8,"p-tabPanel",3),o.TgZ(9,"p-accordion"),o.YNc(10,yue,19,12,"p-accordionTab",1),o.qZA(),o.qZA(),o.TgZ(11,"p-tabPanel",4),o.TgZ(12,"p-accordion"),o.YNc(13,xue,20,14,"p-accordionTab",1),o.qZA(),o.qZA(),o.qZA(),o.TgZ(14,"p-dialog",5),o.NdJ("visibleChange",function(l){return s.displayBasic=l}),o.TgZ(15,"p"),o._uU(16),o.qZA(),o.TgZ(17,"p-rating",6),o.NdJ("ngModelChange",function(l){return s.val2=l}),o.qZA(),o.YNc(18,wue,1,0,"ng-template",7),o.qZA()),2&e&&(o.xp6(4),o.Q6J("ngForOf",s.toPay),o.xp6(3),o.Q6J("ngForOf",s.toShip),o.xp6(3),o.Q6J("ngForOf",s.toReceived),o.xp6(3),o.Q6J("ngForOf",s.completed),o.xp6(1),o.Akn(o.DdM(10,Cue)),o.Q6J("visible",s.displayBasic),o.xp6(2),o.hij("Product Name: ",null==s.productInfo||null==s.productInfo.data?null:s.productInfo.data.productname,""),o.xp6(1),o.Q6J("ngModel",s.val2)("cancel",!1))},directives:[Zg,JH,XH,tV,mt,AC,YL,On,Wg,Rl,eV,Dd,un,tH],pipes:[ah],styles:["button[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}"]}),t})(),Tue=(()=>{class t{constructor(e,s,a,l){this.ref=e,this.fb=s,this.fs=a,this.fa=l,this.addProductForm=s.group({brand:[],category:[],price:[],quantity:[]})}ngOnInit(){}add(){this.ref.close("success"),this.fa.authState.subscribe(e=>{this.fs.collection("Supplier").doc(null==e?void 0:e.uid).collection("menu").doc().set({brand:this.addProductForm.get("brand").value,category:this.addProductForm.get("category").value,price:this.addProductForm.get("price").value,quantity:this.addProductForm.get("quantity").value,rating:0,ratingTotal:0,totalSale:0}).then(()=>{})})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Pk),o.Y36(q0),o.Y36(Sa),o.Y36(ui))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-supplier-add-product-page"]],decls:11,vars:1,consts:[["action","",3,"formGroup"],["type","text","pInputText","","placeholder","brand","formControlName","brand"],["type","text","pInputText","","placeholder","category","formControlName","category"],["type","text","pInputText","","placeholder","quantity","formControlName","quantity"],["type","text","pInputText","","placeholder","price","formControlName","price"],["mat-raised-button","",3,"click"]],template:function(e,s){1&e&&(o.TgZ(0,"form",0),o.TgZ(1,"div"),o._UZ(2,"input",1),o.qZA(),o.TgZ(3,"div"),o._UZ(4,"input",2),o.qZA(),o.TgZ(5,"div"),o._UZ(6,"input",3),o.qZA(),o.TgZ(7,"div"),o._UZ(8,"input",4),o.qZA(),o.qZA(),o.TgZ(9,"button",5),o.NdJ("click",function(){return s.add()}),o._uU(10,"Add"),o.qZA()),2&e&&o.Q6J("formGroup",s.addProductForm)},directives:[iy,$i,eg,xm,ax,On,Cv,Dd],styles:["div[_ngcontent-%COMP%]{margin:10px}"]}),t})(),Sue=(()=>{class t{constructor(e,s,a,l,h){this.ref=e,this.config=s,this.fb=a,this.fs=l,this.fa=h,this.productInfo=this.config.data}ngOnInit(){this.editProductForm=this.fb.group({brand:[this.productInfo.data.brand],category:[this.productInfo.data.category],quantity:[this.productInfo.data.quantity],price:[this.productInfo.data.price]})}edit(){this.fa.authState.subscribe(e=>{this.fs.collection("Supplier").doc(null==e?void 0:e.uid).collection("menu").doc(this.productInfo.id).update({brand:this.editProductForm.get("brand").value,price:this.editProductForm.get("price").value,category:this.editProductForm.get("category").value,quantity:this.editProductForm.get("quantity").value}).then(()=>{this.ref.close("success")})})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Pk),o.Y36(NF),o.Y36(q0),o.Y36(Sa),o.Y36(ui))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-supplier-edit-product-page"]],decls:11,vars:1,consts:[["action","",3,"formGroup"],["type","text","pInputText","","placeholder","brand","formControlName","brand"],["type","text","pInputText","","placeholder","category","formControlName","category"],["type","text","pInputText","","placeholder","quantity","formControlName","quantity"],["type","text","pInputText","","placeholder","price","formControlName","price"],["mat-raised-button","",3,"click"]],template:function(e,s){1&e&&(o.TgZ(0,"form",0),o.TgZ(1,"div"),o._UZ(2,"input",1),o.qZA(),o.TgZ(3,"div"),o._UZ(4,"input",2),o.qZA(),o.TgZ(5,"div"),o._UZ(6,"input",3),o.qZA(),o.TgZ(7,"div"),o._UZ(8,"input",4),o.qZA(),o.qZA(),o.TgZ(9,"button",5),o.NdJ("click",function(){return s.edit()}),o._uU(10,"Update"),o.qZA()),2&e&&o.Q6J("formGroup",s.editProductForm)},directives:[iy,$i,eg,xm,ax,On,Cv,Dd],styles:[""]}),t})();function kue(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",9),o.NdJ("click",function(){return o.CHM(e),o.oxw().openNew()}),o.qZA()}}function Eue(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",10),o.TgZ(1,"h5",11),o._uU(2,"Manage Products"),o.qZA(),o.TgZ(3,"span",12),o._UZ(4,"i",13),o.TgZ(5,"input",14),o.NdJ("input",function(a){return o.CHM(e),o.oxw(),o.MAs(6).filterGlobal(a.target.value,"contains")}),o.qZA(),o.qZA(),o.qZA()}}function Due(t,i){1&t&&(o.TgZ(0,"tr"),o.TgZ(1,"th",15),o._uU(2,"Brand "),o._UZ(3,"p-sortIcon",16),o.qZA(),o.TgZ(4,"th",17),o._uU(5,"Unit Price "),o._UZ(6,"p-sortIcon",18),o.qZA(),o.TgZ(7,"th",19),o._uU(8,"Quantity "),o._UZ(9,"p-sortIcon",20),o.qZA(),o.TgZ(10,"th",21),o._uU(11,"Category "),o._UZ(12,"p-sortIcon",22),o.qZA(),o.TgZ(13,"th",23),o._uU(14,"Rating "),o._UZ(15,"p-sortIcon",24),o.qZA(),o.TgZ(16,"th",25),o._uU(17,"Action "),o._UZ(18,"p-sortIcon",26),o.qZA(),o._UZ(19,"th"),o.qZA())}function Aue(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"tr"),o.TgZ(1,"td"),o._uU(2),o.qZA(),o.TgZ(3,"td"),o._uU(4),o.ALo(5,"currency"),o.qZA(),o.TgZ(6,"td"),o._uU(7),o.qZA(),o.TgZ(8,"td"),o._uU(9),o.qZA(),o.TgZ(10,"td"),o._UZ(11,"p-rating",27),o.qZA(),o.TgZ(12,"td"),o.TgZ(13,"button",28),o.NdJ("click",function(){const l=o.CHM(e).$implicit;return o.oxw().editProduct(l)}),o.qZA(),o.TgZ(14,"button",29),o.NdJ("click",function(){const l=o.CHM(e).$implicit;return o.oxw().deleteProduct(l.id,l.data.brand)}),o.qZA(),o.qZA(),o.qZA()}if(2&t){const e=i.$implicit;o.xp6(2),o.Oqu(e.data.brand),o.xp6(2),o.Oqu(o.xi3(5,7,e.data.price,"MYR")),o.xp6(3),o.Oqu(e.data.quantity),o.xp6(2),o.Oqu(e.data.category),o.xp6(2),o.Q6J("ngModel",e.data.ratingTotal)("readonly",!0)("cancel",!1)}}function Iue(t,i){1&t&&o._UZ(0,"div",10)}const Lue=function(){return["data.brand","data.price","data.quantity","status"]},Pue=function(){return{width:"450px"}};let Oue=(()=>{class t{constructor(e,s,a,l,h){this.messageService=e,this.confirmationService=s,this.dD=a,this.fs=l,this.fa=h,this.productDialog=!1,this.product=[],this.fa.authState.subscribe(v=>{this.fs.collection("Supplier").doc(null==v?void 0:v.uid).collection("menu").snapshotChanges().subscribe(C=>{this.product=[],C.map(O=>{let G={id:O.payload.doc.id,data:O.payload.doc.data()};this.product.push(G),console.log(this.product)})})})}ngOnInit(){}openNew(){this.dD.open(Tue,{header:"Product Details",width:"70%",contentStyle:{"max-height":"500px",overflow:"auto"},baseZIndex:1e4}).onClose.subscribe(s=>{console.log(s),"success"==s&&this.messageService.add({severity:"success",summary:"Successful",detail:"Product Added Successfully!",life:3e3})})}cancel(){}editProduct(e){this.dD.open(Sue,{header:"Edit Product Details",width:"70%",contentStyle:{"max-height":"500px",overflow:"auto"},baseZIndex:1e4,data:e}).onClose.subscribe(a=>{console.log(a),"success"==a&&this.messageService.add({severity:"success",summary:"Successful",detail:"Product Updated Successfully!",life:3e3})})}deleteProduct(e,s){this.confirmationService.confirm({message:"Are you sure you want to delete "+s+"?",header:"Confirm",icon:"pi pi-exclamation-triangle",accept:()=>{this.fa.authState.subscribe(a=>{this.fs.collection("Supplier").doc(null==a?void 0:a.uid).collection("menu").doc(e).delete()}),this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted!",life:3e3})}})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(vb),o.Y36(Jm),o.Y36(zF),o.Y36(Sa),o.Y36(ui))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-supplier-product-page"]],decls:12,vars:10,consts:[[1,"card"],["styleClass","p-mb-4"],["pTemplate","left"],["responsiveLayout","scroll","dataKey","data.id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rows","paginator","globalFilterFields","rowHover","showCurrentPageReport"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],["pButton","","pRipple","","label","New","icon","pi pi-plus",1,"p-button-success","p-mr-2",3,"click"],[1,"p-d-flex","p-ai-center","p-jc-between"],[1,"p-m-0"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",3,"input"],["pSortableColumn","data.brand"],["field","product"],["pSortableColumn","category"],["field","category"],["pSortableColumn","inventoryStatus"],["field","inventoryStatus"],["pSortableColumn","price"],["field","price"],["pSortableColumn","rating"],["field","rating"],["pSortableColumn","action"],["field","action"],[3,"ngModel","readonly","cancel"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-success","p-mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-warning",3,"click"]],template:function(e,s){1&e&&(o._UZ(0,"app-suppliernavbarpage"),o._UZ(1,"p-toast"),o.TgZ(2,"div",0),o.TgZ(3,"p-toolbar",1),o.YNc(4,kue,1,0,"ng-template",2),o.qZA(),o.TgZ(5,"p-table",3,4),o.YNc(7,Eue,6,0,"ng-template",5),o.YNc(8,Due,20,0,"ng-template",6),o.YNc(9,Aue,15,10,"ng-template",7),o.YNc(10,Iue,1,0,"ng-template",8),o.qZA(),o.qZA(),o._UZ(11,"p-confirmDialog")),2&e&&(o.xp6(5),o.Q6J("value",s.product)("rows",10)("paginator",!0)("globalFilterFields",o.DdM(8,Lue))("rowHover",!0)("showCurrentPageReport",!0),o.xp6(6),o.Akn(o.DdM(9,Pue)))},directives:[H0,GL,qH,Rl,cx,PL,ox,ax,RF,FF,YL,On,Wg],pipes:[ah],styles:[""]}),t})(),Rue=(()=>{class t{constructor(e,s,a){var l=this;this.fb=e,this.fs=s,this.fa=a,this.fa.authState.subscribe(function(){var h=Qs(function*(v){l.uid=null==v?void 0:v.uid,l.fs.collection("Supplier").doc(null==v?void 0:v.uid).valueChanges().subscribe(C=>{l.supplierInfo=C})});return function(v){return h.apply(this,arguments)}}()),this.updateProfile=this.fb.group({compname:[],phone:[],email:[]})}ngOnInit(){}update(e,s,a){console.log(e.value,s.value,a.value),this.fa.authState.subscribe(l=>{this.fs.collection("Supplier").doc(this.uid).update({compname:e.value,phone:s.value,email:a.value})})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(q0),o.Y36(Sa),o.Y36(ui))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-supplier-profile-page"]],decls:22,vars:5,consts:[["action","",3,"formGroup"],["appearance","outline",1,"example-full-width"],["matInput","","placeholder","Company Name","formControlName","compname",3,"value"],["c",""],["matInput","","placeholder","Phone Number","formControlName","phone",3,"value"],["p",""],["matInput","","placeholder","Email","formControlName","email",3,"value"],["e",""],["mat-raised-button","",3,"click"]],template:function(e,s){if(1&e){const a=o.EpF();o._UZ(0,"app-suppliernavbarpage"),o.TgZ(1,"div"),o.TgZ(2,"form",0),o.TgZ(3,"h5"),o._uU(4),o.qZA(),o.TgZ(5,"mat-form-field",1),o.TgZ(6,"mat-label"),o._uU(7,"Company Name"),o.qZA(),o._UZ(8,"input",2,3),o.qZA(),o.TgZ(10,"mat-form-field",1),o.TgZ(11,"mat-label"),o._uU(12,"Phone Number"),o.qZA(),o._UZ(13,"input",4,5),o.qZA(),o.TgZ(15,"mat-form-field",1),o.TgZ(16,"mat-label"),o._uU(17,"Email Address"),o.qZA(),o._UZ(18,"input",6,7),o.qZA(),o.TgZ(20,"button",8),o.NdJ("click",function(){o.CHM(a);const h=o.MAs(9),v=o.MAs(14),C=o.MAs(19);return s.update(h,v,C)}),o._uU(21,"Update"),o.qZA(),o.qZA(),o.qZA()}2&e&&(o.xp6(2),o.Q6J("formGroup",s.updateProfile),o.xp6(2),o.hij("My Profile - ",null==s.supplierInfo?null:s.supplierInfo.compname,""),o.xp6(4),o.s9C("value",null==s.supplierInfo?null:s.supplierInfo.compname),o.xp6(5),o.s9C("value",null==s.supplierInfo?null:s.supplierInfo.phone),o.xp6(5),o.s9C("value",null==s.supplierInfo?null:s.supplierInfo.email))},directives:[H0,iy,$i,eg,rx,Ib,o1,xm,On,Cv,Dd],styles:["body[_ngcontent-%COMP%]{color:#e6e6e6}form[_ngcontent-%COMP%]{height:80vh;display:flex;flex-direction:column;justify-content:center;align-items:center}div[_ngcontent-%COMP%]{background-color:#fff}"]}),t})();function Fue(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",7),o.TgZ(1,"h5",8),o._uU(2,"Manage Orders"),o.qZA(),o.TgZ(3,"span",9),o._UZ(4,"i",10),o.TgZ(5,"input",11),o.NdJ("input",function(a){return o.CHM(e),o.oxw(),o.MAs(4).filterGlobal(a.target.value,"contains")}),o.qZA(),o.qZA(),o.qZA()}}function Nue(t,i){1&t&&(o.TgZ(0,"tr"),o.TgZ(1,"th",12),o._uU(2,"Tracking Number "),o._UZ(3,"p-sortIcon",13),o.qZA(),o.TgZ(4,"th",14),o._uU(5,"Product Brand "),o._UZ(6,"p-sortIcon",15),o.qZA(),o.TgZ(7,"th",16),o._uU(8,"Unit Price "),o._UZ(9,"p-sortIcon",17),o.qZA(),o.TgZ(10,"th",18),o._uU(11,"Quantity "),o._UZ(12,"p-sortIcon",19),o.qZA(),o.TgZ(13,"th",20),o._uU(14,"Total Price "),o._UZ(15,"p-sortIcon",21),o.qZA(),o.TgZ(16,"th",22),o._uU(17,"Action "),o._UZ(18,"p-sortIcon",23),o.qZA(),o._UZ(19,"th"),o.qZA())}function zue(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"tr"),o.TgZ(1,"td"),o._uU(2),o.qZA(),o.TgZ(3,"td"),o._uU(4),o.qZA(),o.TgZ(5,"td"),o._uU(6),o.qZA(),o.TgZ(7,"td"),o._uU(8),o.qZA(),o.TgZ(9,"td"),o._uU(10),o.ALo(11,"currency"),o.qZA(),o.TgZ(12,"td"),o.TgZ(13,"button",24),o.NdJ("click",function(){const l=o.CHM(e).$implicit;return o.oxw().confirmOrder(l)}),o.qZA(),o.qZA(),o.qZA()}if(2&t){const e=i.$implicit;o.xp6(2),o.Oqu(e.trackingNumber),o.xp6(2),o.Oqu(e.data.productname),o.xp6(2),o.Oqu(e.data.amount),o.xp6(2),o.Oqu(e.data.quantity),o.xp6(2),o.Oqu(o.xi3(11,5,e.data.amount*e.data.quantity,"MYR"))}}function Bue(t,i){if(1&t&&(o.TgZ(0,"div",7),o._uU(1),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.hij(" In total there are ",e.product?e.product.length:0," products. ")}}const Yue=function(){return["data.productname","trackingNumber","data.quantity","status"]},Hue=function(){return{width:"450px"}};let Vue=(()=>{class t{constructor(e,s,a,l,h){this.fs=e,this.fa=s,this.confirmationService=a,this.primengConfig=l,this.messageService=h,this.product=[],this.time=sS(),this.fa.authState.subscribe(v=>{this.fs.collection("Supplier").doc(null==v?void 0:v.uid).valueChanges().subscribe(C=>{let O=C.compname;this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("payment").snapshotChanges().subscribe(G=>{this.product=[],G.map(te=>{if(te.payload.doc.data().compname==O&&"paid"==te.payload.doc.data().status){let pe={trackingNumber:te.payload.doc.id,data:te.payload.doc.data()};this.product.push(pe)}})})})})}ngOnInit(){this.primengConfig.ripple=!0}confirmOrder(e){this.confirmationService.confirm({message:"Are you sure that you want to confirm the order?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:()=>{console.log(e),this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("payment").doc(e.trackingNumber).update({status:"toship",preparetimestamp:this.time.format("MMMM Do YYYY, h:mm a")}).then(()=>{this.messageService.add({severity:"success",summary:"Successful",detail:"Order Confirmed Successfully!",life:3e3})})}})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Sa),o.Y36(ui),o.Y36(Jm),o.Y36(_m),o.Y36(vb))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-supplier-order-page"]],decls:10,vars:10,consts:[[1,"card"],["responsiveLayout","scroll","dataKey","data.id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rows","paginator","globalFilterFields","rowHover","showCurrentPageReport"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],[1,"p-d-flex","p-ai-center","p-jc-between"],[1,"p-m-0"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",3,"input"],["pSortableColumn","trackingNumber"],["field","product"],["pSortableColumn","data.productname"],["field","category"],["pSortableColumn","data.amount"],["field","inventoryStatus"],["pSortableColumn","data.quantity"],["field","price"],["pSortableColumn","rating"],["field","rating"],["pSortableColumn","action"],["field","action"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-rounded","p-button-success","p-mr-2",3,"click"]],template:function(e,s){1&e&&(o._UZ(0,"app-suppliernavbarpage"),o._UZ(1,"p-toast"),o.TgZ(2,"div",0),o.TgZ(3,"p-table",1,2),o.YNc(5,Fue,6,0,"ng-template",3),o.YNc(6,Nue,20,0,"ng-template",4),o.YNc(7,zue,14,8,"ng-template",5),o.YNc(8,Bue,2,1,"ng-template",6),o.qZA(),o.qZA(),o._UZ(9,"p-confirmDialog")),2&e&&(o.xp6(3),o.Q6J("value",s.product)("rows",5)("paginator",!0)("globalFilterFields",o.DdM(8,Yue))("rowHover",!0)("showCurrentPageReport",!0),o.xp6(6),o.Akn(o.DdM(9,Hue)))},directives:[H0,GL,cx,Rl,PL,ax,RF,FF,ox],pipes:[ah],styles:[""]}),t})();function Uue(t,i){1&t&&o.GkF(0)}function jue(t,i){1&t&&o.GkF(0)}const BF=function(t){return{$implicit:t}};function Zue(t,i){if(1&t&&(o.ynx(0),o.YNc(1,jue,1,0,"ng-container",4),o.BQk()),2&t){const e=o.oxw().$implicit,s=o.oxw();o.xp6(1),o.Q6J("ngTemplateOutlet",s.markerTemplate)("ngTemplateOutletContext",o.VKq(2,BF,e))}}function Gue(t,i){1&t&&o._UZ(0,"div",10)}function Wue(t,i){1&t&&o._UZ(0,"div",11)}function que(t,i){1&t&&o.GkF(0)}function $ue(t,i){if(1&t&&(o.TgZ(0,"div",2),o.TgZ(1,"div",3),o.YNc(2,Uue,1,0,"ng-container",4),o.qZA(),o.TgZ(3,"div",5),o.YNc(4,Zue,2,4,"ng-container",6),o.YNc(5,Gue,1,0,"ng-template",null,7,o.W1O),o.YNc(7,Wue,1,0,"div",8),o.qZA(),o.TgZ(8,"div",9),o.YNc(9,que,1,0,"ng-container",4),o.qZA(),o.qZA()),2&t){const e=i.$implicit,s=i.last,a=o.MAs(6),l=o.oxw();o.xp6(2),o.Q6J("ngTemplateOutlet",l.oppositeTemplate)("ngTemplateOutletContext",o.VKq(7,BF,e)),o.xp6(2),o.Q6J("ngIf",l.markerTemplate)("ngIfElse",a),o.xp6(3),o.Q6J("ngIf",!s),o.xp6(2),o.Q6J("ngTemplateOutlet",l.contentTemplate)("ngTemplateOutletContext",o.VKq(9,BF,e))}}const Que=function(t,i,e,s,a,l,h){return{"p-timeline p-component":!0,"p-timeline-left":t,"p-timeline-right":i,"p-timeline-top":e,"p-timeline-bottom":s,"p-timeline-alternate":a,"p-timeline-vertical":l,"p-timeline-horizontal":h}};let Xue=(()=>{class t{constructor(e){this.el=e,this.align="left",this.layout="vertical"}getBlockableElement(){return this.el.nativeElement.children[0]}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;case"opposite":this.oppositeTemplate=e.template;break;case"marker":this.markerTemplate=e.template}})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-timeline"]],contentQueries:function(e,s,a){if(1&e&&o.Suo(a,Rl,4),2&e){let l;o.iGM(l=o.CRH())&&(s.templates=l)}},inputs:{value:"value",style:"style",styleClass:"styleClass",align:"align",layout:"layout"},decls:2,vars:13,consts:[[3,"ngStyle","ngClass"],["class","p-timeline-event",4,"ngFor","ngForOf"],[1,"p-timeline-event"],[1,"p-timeline-event-opposite"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-timeline-event-separator"],[4,"ngIf","ngIfElse"],["marker",""],["class","p-timeline-event-connector",4,"ngIf"],[1,"p-timeline-event-content"],[1,"p-timeline-event-marker"],[1,"p-timeline-event-connector"]],template:function(e,s){1&e&&(o.TgZ(0,"div",0),o.YNc(1,$ue,10,11,"div",1),o.qZA()),2&e&&(o.Tol(s.styleClass),o.Q6J("ngStyle",s.style)("ngClass",o.Hh0(5,Que,"left"===s.align,"right"===s.align,"top"===s.align,"bottom"===s.align,"alternate"===s.align,"vertical"===s.layout,"horizontal"===s.layout)),o.xp6(1),o.Q6J("ngForOf",s.value))},directives:[qi,he,mt,jr,un],styles:[".p-timeline{display:flex;flex-grow:1;flex-direction:column}.p-timeline-left .p-timeline-event-opposite{text-align:right}.p-timeline-left .p-timeline-event-content{text-align:left}.p-timeline-right .p-timeline-event{flex-direction:row-reverse}.p-timeline-right .p-timeline-event-opposite{text-align:left}.p-timeline-right .p-timeline-event-content{text-align:right}.p-timeline-vertical.p-timeline-alternate .p-timeline-event:nth-child(2n){flex-direction:row-reverse}.p-timeline-vertical.p-timeline-alternate .p-timeline-event:nth-child(odd) .p-timeline-event-opposite{text-align:right}.p-timeline-vertical.p-timeline-alternate .p-timeline-event:nth-child(2n) .p-timeline-event-opposite,.p-timeline-vertical.p-timeline-alternate .p-timeline-event:nth-child(odd) .p-timeline-event-content{text-align:left}.p-timeline-vertical.p-timeline-alternate .p-timeline-event:nth-child(2n) .p-timeline-event-content{text-align:right}.p-timeline-event{display:flex;position:relative;min-height:70px}.p-timeline-event:last-child{min-height:0}.p-timeline-event-content,.p-timeline-event-opposite{flex:1;padding:0 1rem}.p-timeline-event-separator{flex:0;display:flex;align-items:center;flex-direction:column}.p-timeline-event-marker{display:flex;align-self:baseline}.p-timeline-event-connector{flex-grow:1}.p-timeline-horizontal{flex-direction:row}.p-timeline-horizontal .p-timeline-event{flex-direction:column;flex:1}.p-timeline-horizontal .p-timeline-event:last-child{flex:0}.p-timeline-horizontal .p-timeline-event-separator{flex-direction:row}.p-timeline-horizontal .p-timeline-event-connector{width:100%}.p-timeline-bottom .p-timeline-event,.p-timeline-horizontal.p-timeline-alternate .p-timeline-event:nth-child(2n){flex-direction:column-reverse}"],encapsulation:2,changeDetection:0}),t})(),Jue=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Ji],Ha]}),t})();function Kue(t,i){if(1&t&&(o.TgZ(0,"div",5),o.TgZ(1,"div",6),o._uU(2),o.qZA(),o.qZA()),2&t){const e=o.oxw().$implicit;o.xp6(2),o.AsE("",e.trackingnumber," -- ",e.data.productname,"")}}function ede(t,i){if(1&t&&o.YNc(0,Kue,3,2,"div",4),2&t){const e=o.oxw();o.Q6J("ngIf",e.selectedCountry)}}function tde(t,i){if(1&t&&(o.TgZ(0,"div",7),o.TgZ(1,"div"),o._uU(2),o.qZA(),o.qZA()),2&t){const e=i.$implicit;o.xp6(2),o.AsE("",e.trackingnumber," -- ",e.data.productname,"")}}function nde(t,i){if(1&t&&(o.TgZ(0,"span",12),o._UZ(1,"i",13),o.qZA()),2&t){const e=i.$implicit;o.Udp("background-color",e.color),o.xp6(1),o.Q6J("ngClass",e.icon)}}function ide(t,i){if(1&t&&(o.TgZ(0,"p-card",17),o._UZ(1,"hr"),o.TgZ(2,"p"),o._uU(3),o.ALo(4,"currency"),o.qZA(),o.TgZ(5,"p"),o._uU(6),o.qZA(),o.TgZ(7,"p"),o._uU(8),o.ALo(9,"currency"),o.qZA(),o.qZA()),2&t){const e=o.oxw(3);o.Q6J("header","Product: "+(null==e.selectedCountry||null==e.selectedCountry.data?null:e.selectedCountry.data.productname)),o.xp6(3),o.hij("Amount: ",o.xi3(4,4,null==e.selectedCountry||null==e.selectedCountry.data?null:e.selectedCountry.data.amount,"MYR"),""),o.xp6(3),o.hij("Quantity: ",null==e.selectedCountry||null==e.selectedCountry.data?null:e.selectedCountry.data.quantity,""),o.xp6(2),o.hij("Total: ",o.xi3(9,7,e.totalprice,"MYR"),"")}}function rde(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",18),o.NdJ("click",function(){o.CHM(e);const a=o.oxw(3);return a.shipOut(a.selectedCountry)}),o._uU(1,"Ship Out"),o.qZA()}}function sde(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",18),o.NdJ("click",function(){o.CHM(e);const a=o.oxw(3);return a.completeOrder(a.selectedCountry)}),o._uU(1,"Order Completed"),o.qZA()}}function ode(t,i){if(1&t&&(o.TgZ(0,"p-card",14),o.YNc(1,ide,10,10,"p-card",15),o.YNc(2,rde,2,0,"button",16),o.YNc(3,sde,2,0,"button",16),o.qZA()),2&t){const e=i.$implicit;o.Q6J("header",e.status)("subheader",e.date),o.xp6(1),o.Q6J("ngIf",null!==e.date&&1==e.index),o.xp6(1),o.Q6J("ngIf","Processing"==e.status&&null!==e.date&&1==e.index),o.xp6(1),o.Q6J("ngIf","Shipped"==e.status&&null!==e.date&&1==e.index)}}function ade(t,i){if(1&t&&(o.TgZ(0,"div",8),o.TgZ(1,"p-timeline",9),o.YNc(2,nde,2,3,"ng-template",10),o.YNc(3,ode,4,5,"ng-template",11),o.qZA(),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("value",e.events)}}let lde=(()=>{class t{constructor(e,s){this.fs=e,this.router=s,this.date="15/10/2020 10:30",this.temp=!1,this.temp2=!1,this.temp3=!1,this.temp4=!1,this.totalprice=0,this.time=sS(),this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("payment").snapshotChanges().subscribe(a=>{this.trackingInfo=[],a.map(l=>{let h={trackingnumber:l.payload.doc.id,data:l.payload.doc.data()};this.trackingInfo.push(h),console.log(this.trackingInfo)})})}ngOnInit(){this.events=[{status:"Ordered",date:null,icon:ym.SHOPPING_CART,color:"#e0e0e0",image:"game-controller.jpg"},{status:"Processing",date:null,icon:ym.COG,color:"#e0e0e0"},{status:"Shipped",date:null,icon:ym.ENVELOPE,color:"#e0e0e0"},{status:"Delivered",date:null,icon:ym.CHECK,color:"#e0e0e0"}]}submit(){console.log(this.selectedCountry),this.totalprice=this.selectedCountry.data.quantity*this.selectedCountry.data.amount,null!==this.selectedCountry?(this.events=[{status:"Ordered",date:null,icon:ym.SHOPPING_CART,color:"#e0e0e0",image:"game-controller.jpg",index:null},{status:"Processing",date:null,icon:ym.COG,color:"#e0e0e0",index:null},{status:"Shipped",date:null,icon:ym.ENVELOPE,color:"#e0e0e0",index:null},{status:"Delivered",date:null,icon:ym.CHECK,color:"#e0e0e0",index:null}],this.events.forEach((e,s)=>{var a,l,h,v,C,O,G,te,pe,we,Le,je,tt,yt,Zt,tn;null!==(null===(l=null===(a=this.selectedCountry)||void 0===a?void 0:a.data)||void 0===l?void 0:l.ordertimestamp)&&"Ordered"===e.status&&(e.date=null===(v=null===(h=this.selectedCountry)||void 0===h?void 0:h.data)||void 0===v?void 0:v.ordertimestamp,e.color="#2dc258",this.events[0].index=!0),null!==(null===(O=null===(C=this.selectedCountry)||void 0===C?void 0:C.data)||void 0===O?void 0:O.preparetimestamp)&&"Processing"===e.status&&(e.date=null===(te=null===(G=this.selectedCountry)||void 0===G?void 0:G.data)||void 0===te?void 0:te.preparetimestamp,e.color="#2dc258",this.events[0].index=!1,this.events[1].index=!0),null!==(null===(we=null===(pe=this.selectedCountry)||void 0===pe?void 0:pe.data)||void 0===we?void 0:we.shiptimestamp)&&"Shipped"===e.status&&(e.date=null===(je=null===(Le=this.selectedCountry)||void 0===Le?void 0:Le.data)||void 0===je?void 0:je.shiptimestamp,e.color="#2dc258",this.events[0].index=!1,this.events[1].index=!1,this.events[2].index=!0),null!==(null===(yt=null===(tt=this.selectedCountry)||void 0===tt?void 0:tt.data)||void 0===yt?void 0:yt.completetimestamp)&&"Delivered"===e.status&&(e.date=null===(tn=null===(Zt=this.selectedCountry)||void 0===Zt?void 0:Zt.data)||void 0===tn?void 0:tn.completetimestamp,e.color="#2dc258",this.events[0].index=!1,this.events[1].index=!1,this.events[2].index=!1,this.events[3].index=!0)})):this.events=[{status:"Ordered",date:null,icon:ym.SHOPPING_CART,color:"#e0e0e0",image:"game-controller.jpg",index:null},{status:"Processing",date:null,icon:ym.COG,color:"#e0e0e0",index:null},{status:"Shipped",date:null,icon:ym.ENVELOPE,color:"#e0e0e0",index:null},{status:"Delivered",date:null,icon:ym.CHECK,color:"#e0e0e0",index:null}]}shipOut(e){this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("payment").doc(e.trackingnumber).update({shiptimestamp:this.time.format("MMMM Do YYYY, h:mm a")}),this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("payment").doc(e.trackingnumber).update({status:"tocomplete"}),this.selectedCountry=e}completeOrder(e){this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("payment").doc(e.trackingnumber).update({completetimestamp:this.time.format("MMMM Do YYYY, h:mm a")}),this.fs.collection("Admin").doc("oMWhzMQgufX3WpRQs9WsB4JmQFv2").collection("payment").doc(e.trackingnumber).update({status:"completed"})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Sa),o.Y36(Eo))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-supplier-tracking-page"]],decls:5,vars:6,consts:[["optionLabel","","placeholder","Select Tracking Number",3,"options","ngModel","filter","filterBy","showClear","ngModelChange","onChange"],["pTemplate","selectedItem"],["pTemplate","item"],["class","card",4,"ngIf"],["class","country-item country-item-value",4,"ngIf"],[1,"country-item","country-item-value"],[1,"hello"],[1,"country-item"],[1,"card"],["align","alternate","styleClass","customized-timeline",3,"value"],["pTemplate","marker"],["pTemplate","content"],[1,"custom-marker","p-shadow-2"],[3,"ngClass"],[3,"header","subheader"],[3,"header",4,"ngIf"],["mat-raised-button","",3,"click",4,"ngIf"],[3,"header"],["mat-raised-button","",3,"click"]],template:function(e,s){1&e&&(o._UZ(0,"app-suppliernavbarpage"),o.TgZ(1,"p-dropdown",0),o.NdJ("ngModelChange",function(l){return s.selectedCountry=l})("onChange",function(){return s.submit()}),o.YNc(2,ede,1,1,"ng-template",1),o.YNc(3,tde,3,2,"ng-template",2),o.qZA(),o.YNc(4,ade,4,1,"div",3)),2&e&&(o.xp6(1),o.Q6J("options",s.trackingInfo)("ngModel",s.selectedCountry)("filter",!0)("filterBy","trackingnumber")("showClear",!0),o.xp6(3),o.Q6J("ngIf",s.selectedCountry))},directives:[H0,JA,On,Wg,Rl,un,Xue,he,kH,Dd],pipes:[ah],styles:[".custom-marker[_ngcontent-%COMP%]{display:flex;width:2rem;height:2rem;align-items:center;justify-content:center;color:#fff;border-radius:50%;z-index:1}.p-timeline[_ngcontent-%COMP%]{height:400px!important}.p-timeline-event-separator[_ngcontent-%COMP%]{color:red!important}button[_ngcontent-%COMP%]{margin-top:10px}"]}),t})();function ude(t,i){1&t&&(o.TgZ(0,"tr"),o.TgZ(1,"th"),o._uU(2,"Product"),o.qZA(),o.TgZ(3,"th"),o._uU(4,"Unit Price"),o.qZA(),o.TgZ(5,"th"),o._uU(6,"Quantity"),o.qZA(),o.TgZ(7,"th"),o._uU(8,"Total"),o.qZA(),o.TgZ(9,"th"),o._uU(10,"Action"),o.qZA(),o.qZA())}function dde(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"tr"),o.TgZ(1,"td"),o._uU(2),o.qZA(),o.TgZ(3,"td"),o._uU(4),o.ALo(5,"currency"),o.qZA(),o.TgZ(6,"td"),o.TgZ(7,"p-inputNumber",3),o.NdJ("ngModelChange",function(a){const h=o.CHM(e).rowIndex;return o.oxw().cartItem[h].data.quantity=a})("click",function(){const a=o.CHM(e),l=a.rowIndex,h=a.$implicit,v=o.oxw();return v.updateQuantity(v.cartItem[l].data.quantity,h)}),o.qZA(),o.qZA(),o.TgZ(8,"td"),o._uU(9),o.ALo(10,"currency"),o.qZA(),o.TgZ(11,"td"),o.TgZ(12,"button",4),o.NdJ("click",function(){const l=o.CHM(e).$implicit;return o.oxw().payNow(l)}),o._uU(13,"Pay Now"),o.qZA(),o.qZA(),o.qZA()}if(2&t){const e=i.$implicit,s=i.rowIndex,a=o.oxw();o.xp6(2),o.Oqu(e.id),o.xp6(2),o.Oqu(o.xi3(5,6,e.data.data.data.price," MYR")),o.xp6(3),o.Q6J("ngModel",a.cartItem[s].data.quantity)("showButtons",!0)("min",0),o.xp6(2),o.hij(" ",o.xi3(10,9,e.data.data.data.price*a.cartItem[s].data.quantity," MYR")," ")}}const hde=function(){return{width:"100%"}},pde=[{path:"",component:Qte},{path:"register",component:wne},{path:"forgotpassword",component:Yte},{path:"adminpage",component:GX,canActivate:[nh,cy]},{path:"adminmanageinv",component:Ete,canActivate:[nh,cy]},{path:"adminprofile",component:_ie,canActivate:[nh,cy]},{path:"adminviewhistory/:id",component:Lie,canActivate:[nh,cy]},{path:"adminaddorder",component:tre,canActivate:[nh,cy]},{path:"admincartpage",component:Lae,canActivate:[nh,cy]},{path:"admincheckoutpage",component:tle,canActivate:[nh,cy]},{path:"adminpermissionpage",component:Jle,canActivate:[nh,cy]},{path:"adminmenupage",component:Bce,canActivate:[nh,cy]},{path:"admintrackingpage",component:Mue,canActivate:[nh,cy]},{path:"studentpage",component:mie,canActivate:[nh,OL]},{path:"studentprofilepage",component:(()=>{class t{constructor(e,s,a){this.fb=e,this.fs=s,this.fa=a,this.updateProfile=e.group({studname:[],phone:[],email:[]}),this.fa.authState.subscribe(l=>{this.uid=null==l?void 0:l.uid,this.fs.collection("Student").doc(null==l?void 0:l.uid).valueChanges().subscribe(h=>{this.supplierInfo=h})})}ngOnInit(){}update(e,s,a){console.log(e.value,s.value,a.value),this.fs.collection("Student").doc(this.uid).update({name:e.value,phone:s.value,email:a.value})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(q0),o.Y36(Sa),o.Y36(ui))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-student-profile-page"]],decls:22,vars:5,consts:[["action","",3,"formGroup"],["appearance","outline",1,"example-full-width"],["matInput","","placeholder","Student Name","formControlName","studname",3,"value"],["c",""],["matInput","","placeholder","Phone Number","formControlName","phone",3,"value"],["p",""],["matInput","","placeholder","Email","formControlName","email",3,"value"],["e",""],["mat-raised-button","",3,"click"]],template:function(e,s){if(1&e){const a=o.EpF();o._UZ(0,"app-student-navbar-page"),o.TgZ(1,"div"),o.TgZ(2,"form",0),o.TgZ(3,"h5"),o._uU(4),o.qZA(),o.TgZ(5,"mat-form-field",1),o.TgZ(6,"mat-label"),o._uU(7,"Student Name"),o.qZA(),o._UZ(8,"input",2,3),o.qZA(),o.TgZ(10,"mat-form-field",1),o.TgZ(11,"mat-label"),o._uU(12,"Phone Number"),o.qZA(),o._UZ(13,"input",4,5),o.qZA(),o.TgZ(15,"mat-form-field",1),o.TgZ(16,"mat-label"),o._uU(17,"Email Address"),o.qZA(),o._UZ(18,"input",6,7),o.qZA(),o.TgZ(20,"button",8),o.NdJ("click",function(){o.CHM(a);const h=o.MAs(9),v=o.MAs(14),C=o.MAs(19);return s.update(h,v,C)}),o._uU(21,"Update"),o.qZA(),o.qZA(),o.qZA()}2&e&&(o.xp6(2),o.Q6J("formGroup",s.updateProfile),o.xp6(2),o.hij("My Profile - ",null==s.supplierInfo?null:s.supplierInfo.name,""),o.xp6(4),o.s9C("value",null==s.supplierInfo?null:s.supplierInfo.name),o.xp6(5),o.s9C("value",null==s.supplierInfo?null:s.supplierInfo.phone),o.xp6(5),o.s9C("value",null==s.supplierInfo?null:s.supplierInfo.email))},directives:[EF,iy,$i,eg,rx,Ib,o1,xm,On,Cv,Dd],styles:["body[_ngcontent-%COMP%]{color:#e6e6e6}form[_ngcontent-%COMP%]{height:80vh;display:flex;flex-direction:column;justify-content:center;align-items:center}div[_ngcontent-%COMP%]{background-color:#fff}"]}),t})(),canActivate:[nh,OL]},{path:"studentcartpage",component:(()=>{class t{constructor(e,s,a){var l=this;this.fs=e,this.fa=s,this.fns=a,this.cartItem=[],this.fa.authState.subscribe(h=>{this.uid=null==h?void 0:h.uid,this.fs.collection("Student").doc(null==h?void 0:h.uid).collection("cart").snapshotChanges().subscribe(v=>{this.cartItem=[],v.map(function(){var C=Qs(function*(O){let G={id:O.payload.doc.id,data:O.payload.doc.data()};l.cartItem.push(G),console.log(l.cartItem)});return function(O){return C.apply(this,arguments)}}())})}),this.fa.authState.subscribe(h=>{console.log(null==h?void 0:h.uid),this.fs.collection("Student").doc(null==h?void 0:h.uid).valueChanges().subscribe(function(){var v=Qs(function*(C){l.studentname=yield C.name,console.log(l.studentname,null==C?void 0:C.uid)});return function(C){return v.apply(this,arguments)}}())})}ngOnInit(){}updateQuantity(e,s){console.log(e,s),this.fs.collection("Student").doc(this.uid).collection("cart").doc(s.id).update({quantity:e})}payNow(e){var s=this;return Qs(function*(){console.log(e.data.data.data.ingredient),s.stripe=yield VL("pk_test_51JWyo0FAyW0TeHuLxronXkW18xbGcUCeGeOnk0CCq3W6Kl8gZ3OViSOqMctnmuMTptcchsU1ZsieUf4LAMHCfwxu00Hd2Nl8Rz");const a=s.fns.httpsCallable("stripeCheckout2");s.tracking_number=`UMPSCCafe${Math.floor(19999999*Math.random())+1e7}MY`,a({quantity:e.data.quantity,productname:e.id,amount:e.data.data.data.price,trackingnumber:s.tracking_number,compname:e.data.data.data.ingredient,studentname:s.studentname}).subscribe(l=>{s.stripe.redirectToCheckout({sessionId:l.session}).then(function(h){console.log(h.error.message)})})})()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Sa),o.Y36(ui),o.Y36(Ik))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-student-cart-page"]],decls:6,vars:3,consts:[["responsiveLayout","scroll",3,"value","ngStyle"],["pTemplate","header"],["pTemplate","body"],["buttonLayout","horizontal","spinnerMode","horizontal","decrementButtonClass","p-button-danger","incrementButtonClass","p-button-success","incrementButtonIcon","pi pi-plus","decrementButtonIcon","pi pi-minus",3,"ngModel","showButtons","min","ngModelChange","click"],["mat-raised-button","",3,"click"]],template:function(e,s){1&e&&(o._UZ(0,"app-student-navbar-page"),o.TgZ(1,"h4"),o._uU(2,"Cart Page"),o.qZA(),o.TgZ(3,"p-table",0),o.YNc(4,ude,11,0,"ng-template",1),o.YNc(5,dde,14,12,"ng-template",2),o.qZA()),2&e&&(o.xp6(3),o.Q6J("value",s.cartItem)("ngStyle",o.DdM(2,hde)))},directives:[EF,cx,qi,Rl,PF,On,Wg,Dd],pipes:[ah],styles:["mat-list-item[_ngcontent-%COMP%]:hover{background-color:#eee}"]}),t})(),canActivate:[nh,OL]},{path:"supplierpage",component:xN,canActivate:[nh,xw]},{path:"supplierproduct",component:Oue,canActivate:[nh,xw]},{path:"supplierprofile",component:Rue,canActivate:[nh,xw]},{path:"supplierorder",component:Vue,canActivate:[nh,xw]},{path:"suppliertracking",component:lde,canActivate:[nh,xw]}];let fde=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[g_.forRoot(pde,{onSameUrlNavigation:"reload"})],g_]}),t})(),mde=(()=>{class t{constructor(){this.title="UMPCafeSupplyChainManagementSystem"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(e,s){1&e&&o._UZ(0,"router-outlet")},directives:[Eh],styles:[""]}),t})(),nV=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Fs],Fs]}),t})();function iV(t,i,e){const s={timing:t,delay:0,rotateX:i,rotateY:e};return uv([oi({"backface-visibility":"visible"}),qr("{{ timing }}s {{ delay }}s ease-in",X_([oi({opacity:0,transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, 90deg)",offset:0}),oi({opacity:1,transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, -20deg)",offset:.4}),oi({transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, 10deg)",offset:.6}),oi({transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, -5deg)",offset:.8}),oi({transform:"perspective(400px) rotate3d(0, 0, 0, 0)",offset:1})]))],{params:s})}RegExp(/^(?=.*?[a-z])/),RegExp(/^(?=.*?[A-Z])/),RegExp(/^(?=.*?[0-9])/),RegExp(/^(?=.*?[" !"#$%&'()*+,-./:;<=>?@[\]^_`{|}~"])/),iV(1,1,0),iV(1,0,1),uv(qr("{{ timing }}s {{ delay }}s",X_([oi({transform:"translate3d(0, 0, 0)",offset:0}),oi({transform:"translate3d(-10px, 0, 0)",offset:.1}),oi({transform:"translate3d(10px, 0, 0)",offset:.2}),oi({transform:"translate3d(-10px, 0, 0)",offset:.3}),oi({transform:"translate3d(10px, 0, 0)",offset:.4}),oi({transform:"translate3d(-10px, 0, 0)",offset:.5}),oi({transform:"translate3d(10px, 0, 0)",offset:.6}),oi({transform:"translate3d(-10px, 0, 0)",offset:.7}),oi({transform:"translate3d(10px, 0, 0)",offset:.8}),oi({transform:"translate3d(-10px, 0, 0)",offset:.9}),oi({transform:"translate3d(0, 0, 0)",offset:1})])),{params:{timing:1,delay:0}});let ehe=(()=>{class t{static forRoot(){return{ngModule:t,providers:[]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Ji,iH,nV,TH,rM]]}),t})();var the=Ae(3300);window.ApexCharts=Ae.n(the)();let rhe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[]]}),t})();function she(t,i){if(1&t&&(o.O4$(),o._UZ(0,"circle",3)),2&t){const e=o.oxw();o.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),o.uIk("r",e._getCircleRadius())}}function ohe(t,i){if(1&t&&(o.O4$(),o._UZ(0,"circle",3)),2&t){const e=o.oxw();o.Udp("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),o.uIk("r",e._getCircleRadius())}}class uhe{constructor(i){this._elementRef=i}}const dhe=iM(uhe,"primary"),oV=new o.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}});class Rb extends dhe{constructor(i,e,s,a,l){super(i),this._elementRef=i,this._document=s,this._diameter=100,this._value=0,this._fallbackAnimation=!1,this.mode="determinate";const h=Rb._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),h.has(s.head)||h.set(s.head,new Set([100])),this._fallbackAnimation=e.EDGE||e.TRIDENT,this._noopAnimations="NoopAnimations"===a&&!!l&&!l._forceAnimations,l&&(l.diameter&&(this.diameter=l.diameter),l.strokeWidth&&(this.strokeWidth=l.strokeWidth))}get diameter(){return this._diameter}set diameter(i){this._diameter=yu(i),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),!this._fallbackAnimation&&this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(i){this._strokeWidth=yu(i)}get value(){return"determinate"===this.mode?this._value:0}set value(i){this._value=Math.max(0,Math.min(100,yu(i)))}ngOnInit(){const i=this._elementRef.nativeElement;this._styleRoot=NA(i)||this._document.head,this._attachStyleNode(),i.classList.add(`mat-progress-spinner-indeterminate${this._fallbackAnimation?"-fallback":""}-animation`)}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const i=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${i} ${i}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._getStrokeCircumference():null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const i=this._styleRoot,e=this._diameter,s=Rb._diameters;let a=s.get(i);if(!a||!a.has(e)){const l=this._document.createElement("style");l.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),l.textContent=this._getAnimationText(),i.appendChild(l),a||(a=new Set,s.set(i,a)),a.add(e)}}_getAnimationText(){const i=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*i).replace(/END_VALUE/g,""+.2*i).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}Rb.\u0275fac=function(i){return new(i||Rb)(o.Y36(o.SBq),o.Y36(aa),o.Y36(Ee,8),o.Y36(Of,8),o.Y36(oV))},Rb.\u0275cmp=o.Xpm({type:Rb,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(i,e){2&i&&(o.uIk("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),o.Udp("width",e.diameter,"px")("height",e.diameter,"px"),o.ekj("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",mode:"mode",diameter:"diameter",strokeWidth:"strokeWidth",value:"value"},exportAs:["matProgressSpinner"],features:[o.qOj],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(i,e){1&i&&(o.O4$(),o.TgZ(0,"svg",0),o.YNc(1,she,1,9,"circle",1),o.YNc(2,ohe,1,7,"circle",2),o.qZA()),2&i&&(o.Udp("width",e.diameter,"px")("height",e.diameter,"px"),o.Q6J("ngSwitch","indeterminate"===e.mode),o.uIk("viewBox",e._getViewBox()),o.xp6(1),o.Q6J("ngSwitchCase",!0),o.xp6(1),o.Q6J("ngSwitchCase",!1))},directives:[pr,_i],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:currentColor;stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{animation:mat-progress-spinner-stroke-rotate-fallback 10000ms cubic-bezier(0.87, 0.03, 0.33, 1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0deg)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}\n"],encapsulation:2,changeDetection:0}),Rb._diameters=new WeakMap;let fhe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Fs,Ji],Fs]}),t})(),mhe=(()=>{class t{constructor(e){this.admins=e}intercept(e,s){return this.admins.isLoading.next(!0),s.handle(e).pipe(zp(()=>{this.admins.isLoading.next(!1)}))}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(AL))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function ghe(t,i){}class HF{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const _he={dialogContainer:oa("dialogContainer",[bo("void, exit",oi({opacity:0,transform:"scale(0.7)"})),bo("enter",oi({transform:"none"})),Ir("* => enter",qr("150ms cubic-bezier(0, 0, 0.2, 1)",oi({transform:"none",opacity:1}))),Ir("* => void, * => exit",qr("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",oi({opacity:0})))])};let yhe=(()=>{class t extends gL{constructor(e,s,a,l,h,v){super(),this._elementRef=e,this._focusTrapFactory=s,this._changeDetectorRef=a,this._config=h,this._focusMonitor=v,this._animationStateChanged=new o.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=C=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(C)),this._ariaLabelledBy=h.ariaLabelledBy||null,this._document=l}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const s=this._getActiveElement(),a=this._elementRef.nativeElement;(!s||s===this._document.body||s===a||a.contains(s))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=this._getActiveElement())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,s=this._getActiveElement();return e===s||e.contains(s)}_getActiveElement(){var e;const s=this._document.activeElement;return(null===(e=null==s?void 0:s.shadowRoot)||void 0===e?void 0:e.activeElement)||s}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(YY),o.Y36(o.sBO),o.Y36(Ee,8),o.Y36(HF),o.Y36(ly))},t.\u0275dir=o.lG2({type:t,viewQuery:function(e,s){if(1&e&&o.Gf(n1,7),2&e){let a;o.iGM(a=o.CRH())&&(s._portalOutlet=a.first)}},features:[o.qOj]}),t})(),vhe=(()=>{class t extends yhe{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:s}){"enter"===e?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:s})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:s}))}_onAnimationStart({toState:e,totalTime:s}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:s}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:s})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(){let i;return function(s){return(i||(i=o.n5z(t)))(s||t)}}(),t.\u0275cmp=o.Xpm({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,s){1&e&&o.WFA("@dialogContainer.start",function(l){return s._onAnimationStart(l)})("@dialogContainer.done",function(l){return s._onAnimationDone(l)}),2&e&&(o.Ikx("id",s._id),o.uIk("role",s._config.role)("aria-labelledby",s._config.ariaLabel?null:s._ariaLabelledBy)("aria-label",s._config.ariaLabel)("aria-describedby",s._config.ariaDescribedBy||null),o.d8E("@dialogContainer",s._state))},features:[o.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,s){1&e&&o.YNc(0,ghe,0,0,"ng-template",0)},directives:[n1],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[_he.dialogContainer]}}),t})(),bhe=0;class VF{constructor(i,e,s="mat-dialog-"+bhe++){this._overlayRef=i,this._containerInstance=e,this.id=s,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new li.xQ,this._afterClosed=new li.xQ,this._beforeClosed=new li.xQ,this._state=0,e._id=s,e._animationStateChanged.pipe(T(a=>"opened"===a.state),xe(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(T(a=>"closed"===a.state),xe(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),i.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),i.keydownEvents().pipe(T(a=>27===a.keyCode&&!this.disableClose&&!ay(a))).subscribe(a=>{a.preventDefault(),UF(this,"keyboard")}),i.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():UF(this,"mouse")})}close(i){this._result=i,this._containerInstance._animationStateChanged.pipe(T(e=>"closing"===e.state),xe(1)).subscribe(e=>{this._beforeClosed.next(i),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(i){let e=this._getPositionStrategy();return i&&(i.left||i.right)?i.left?e.left(i.left):e.right(i.right):e.centerHorizontally(),i&&(i.top||i.bottom)?i.top?e.top(i.top):e.bottom(i.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(i="",e=""){return this._overlayRef.updateSize({width:i,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(i){return this._overlayRef.addPanelClass(i),this}removePanelClass(i){return this._overlayRef.removePanelClass(i),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function UF(t,i,e){return void 0!==t._containerInstance&&(t._containerInstance._closeInteractionType=i),t.close(e)}const xhe=new o.OlP("MatDialogData"),whe=new o.OlP("mat-dialog-default-options"),aV=new o.OlP("mat-dialog-scroll-strategy"),Mhe={provide:aV,deps:[ig],useFactory:function(t){return()=>t.scrollStrategies.block()}};let The=(()=>{class t{constructor(e,s,a,l,h,v,C,O,G){this._overlay=e,this._injector=s,this._defaultOptions=a,this._parentDialog=l,this._overlayContainer=h,this._dialogRefConstructor=C,this._dialogContainerType=O,this._dialogDataToken=G,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new li.xQ,this._afterOpenedAtThisLevel=new li.xQ,this._ariaHiddenElements=new Map,this.afterAllClosed=nt(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Tn(void 0))),this._scrollStrategy=v}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,s){(s=function(t,i){return Object.assign(Object.assign({},i),t)}(s,this._defaultOptions||new HF)).id&&this.getDialogById(s.id);const a=this._createOverlay(s),l=this._attachDialogContainer(a,s),h=this._attachDialogContent(e,l,a,s);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(h),h.afterClosed().subscribe(()=>this._removeOpenDialog(h)),this.afterOpened.next(h),l._initializeWithAttachedContent(),h}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(s=>s.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const s=this._getOverlayConfig(e);return this._overlay.create(s)}_getOverlayConfig(e){const s=new gk({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(s.backdropClass=e.backdropClass),s}_attachDialogContainer(e,s){const l=o.zs3.create({parent:s&&s.viewContainerRef&&s.viewContainerRef.injector||this._injector,providers:[{provide:HF,useValue:s}]}),h=new oM(this._dialogContainerType,s.viewContainerRef,l,s.componentFactoryResolver);return e.attach(h).instance}_attachDialogContent(e,s,a,l){const h=new this._dialogRefConstructor(a,s,l.id);if(e instanceof o.Rgc)s.attachTemplatePortal(new ix(e,null,{$implicit:l.data,dialogRef:h}));else{const v=this._createInjector(l,h,s),C=s.attachComponentPortal(new oM(e,l.viewContainerRef,v));h.componentInstance=C.instance}return h.updateSize(l.width,l.height).updatePosition(l.position),h}_createInjector(e,s,a){const l=e&&e.viewContainerRef&&e.viewContainerRef.injector,h=[{provide:this._dialogContainerType,useValue:a},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:s}];return e.direction&&(!l||!l.get(Hh,null))&&h.push({provide:Hh,useValue:{value:e.direction,change:(0,Ai.of)()}}),o.zs3.create({parent:l||this._injector,providers:h})}_removeOpenDialog(e){const s=this.openDialogs.indexOf(e);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((a,l)=>{a?l.setAttribute("aria-hidden",a):l.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const s=e.parentElement.children;for(let a=s.length-1;a>-1;a--){let l=s[a];l!==e&&"SCRIPT"!==l.nodeName&&"STYLE"!==l.nodeName&&!l.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(l,l.getAttribute("aria-hidden")),l.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let s=e.length;for(;s--;)e[s].close()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(ig),o.Y36(o.zs3),o.Y36(void 0),o.Y36(void 0),o.Y36(_k),o.Y36(void 0),o.Y36(o.DyG),o.Y36(o.DyG),o.Y36(o.OlP))},t.\u0275dir=o.lG2({type:t}),t})(),jF=(()=>{class t extends The{constructor(e,s,a,l,h,v,C){super(e,s,l,v,C,h,VF,vhe,xhe)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(ig),o.LFG(o.zs3),o.LFG(hi,8),o.LFG(whe,8),o.LFG(aV),o.LFG(t,12),o.LFG(_k))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})(),Ehe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[jF,Mhe],imports:[[yk,_L,Fs],Fs]}),t})(),ZF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Ji,Bh]]}),t})();const Hhe=["input"];function Vhe(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"i",4),o.NdJ("click",function(){return o.CHM(e),o.oxw().onMaskToggle()}),o.qZA()}if(2&t){const e=o.oxw();o.Q6J("ngClass",e.toggleIconClass())}}function Uhe(t,i){1&t&&o.GkF(0)}function jhe(t,i){1&t&&o.GkF(0)}function Zhe(t,i){if(1&t&&(o.ynx(0),o.YNc(1,jhe,1,0,"ng-container",6),o.BQk()),2&t){const e=o.oxw(2);o.xp6(1),o.Q6J("ngTemplateOutlet",e.contentTemplate)}}const Ghe=function(t){return{width:t}};function Whe(t,i){if(1&t&&(o.TgZ(0,"div",9),o._UZ(1,"div",0),o.qZA(),o.TgZ(2,"div",10),o._uU(3),o.qZA()),2&t){const e=o.oxw(2);o.xp6(1),o.Q6J("ngClass",e.strengthClass())("ngStyle",o.VKq(3,Ghe,e.meter?e.meter.width:"")),o.xp6(2),o.Oqu(e.infoText)}}function qhe(t,i){1&t&&o.GkF(0)}const $he=function(t,i){return{showTransitionParams:t,hideTransitionParams:i}},Qhe=function(t){return{value:"visible",params:t}};function Xhe(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"div",4,5),o.NdJ("click",function(a){return o.CHM(e),o.oxw().onOverlayClick(a)})("@overlayAnimation.start",function(a){return o.CHM(e),o.oxw().onAnimationStart(a)})("@overlayAnimation.done",function(a){return o.CHM(e),o.oxw().onAnimationEnd(a)}),o.YNc(2,Uhe,1,0,"ng-container",6),o.YNc(3,Zhe,2,1,"ng-container",7),o.YNc(4,Whe,4,5,"ng-template",null,8,o.W1O),o.YNc(6,qhe,1,0,"ng-container",6),o.qZA()}if(2&t){const e=o.MAs(5),s=o.oxw();o.Q6J("ngClass","p-password-panel p-component")("@overlayAnimation",o.VKq(9,Qhe,o.WLB(6,$he,s.showTransitionOptions,s.hideTransitionOptions))),o.xp6(2),o.Q6J("ngTemplateOutlet",s.headerTemplate),o.xp6(1),o.Q6J("ngIf",s.contentTemplate)("ngIfElse",e),o.xp6(3),o.Q6J("ngTemplateOutlet",s.footerTemplate)}}const Jhe={provide:Jl,useExisting:(0,o.Gpc)(()=>Khe),multi:!0};let Khe=(()=>{class t{constructor(e,s,a,l){this.cd=e,this.config=s,this.el=a,this.overlayService=l,this.mediumRegex="^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})",this.strongRegex="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})",this.feedback=!0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.overlayVisible=!1,this.focused=!1,this.unmasked=!1,this.value=null,this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;default:this.contentTemplate=e.template}})}ngOnInit(){this.infoText=this.promptText(),this.mediumCheckRegExp=new RegExp(this.mediumRegex),this.strongCheckRegExp=new RegExp(this.strongRegex),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.updateUI(this.value||"")})}onAnimationStart(e){switch(e.toState){case"visible":this.overlay=e.element,ru.set("overlay",this.overlay,this.config.zIndex.overlay),this.appendContainer(),this.alignOverlay(),this.bindScrollListener(),this.bindResizeListener();break;case"void":this.unbindScrollListener(),this.unbindResizeListener(),this.overlay=null}}onAnimationEnd(e){switch(e.toState){case"void":ru.clear(e.element)}}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):document.getElementById(this.appendTo).appendChild(this.overlay))}alignOverlay(){this.appendTo?(this.overlay.style.minWidth=cn.getOuterWidth(this.input.nativeElement)+"px",cn.absolutePosition(this.overlay,this.input.nativeElement)):cn.relativePosition(this.overlay,this.input.nativeElement)}onInput(e){this.value=e.target.value,this.onModelChange(this.value),this.onModelTouched()}onFocus(){this.focused=!0,this.feedback&&(this.overlayVisible=!0)}onBlur(){this.focused=!1,this.feedback&&(this.overlayVisible=!1)}onKeyUp(e){this.feedback&&(this.updateUI(e.target.value),this.overlayVisible||(this.overlayVisible=!0))}updateUI(e){let s=null,a=null;switch(this.testStrength(e)){case 1:s=this.weakText(),a={strength:"weak",width:"33.33%"};break;case 2:s=this.mediumText(),a={strength:"medium",width:"66.66%"};break;case 3:s=this.strongText(),a={strength:"strong",width:"100%"};break;default:s=this.promptText(),a=null}this.meter=a,this.infoText=s}onMaskToggle(){this.unmasked=!this.unmasked}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}testStrength(e){let s=0;return this.strongCheckRegExp.test(e)?s=3:this.mediumCheckRegExp.test(e)?s=2:e.length&&(s=1),s}writeValue(e){this.value=void 0===e?null:e,this.feedback&&this.updateUI(this.value||""),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new SC(this.input.nativeElement,()=>{this.overlayVisible&&(this.overlayVisible=!1)})),this.scrollHandler.bindScrollListener()}bindResizeListener(){this.resizeListener||(this.resizeListener=()=>{this.overlayVisible&&(this.overlayVisible=!1)},window.addEventListener("resize",this.resizeListener))}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)}containerClass(){return{"p-password p-component p-inputwrapper":!0,"p-input-icon-right":this.toggleMask}}inputFieldClass(){return{"p-password-input":!0,"p-disabled":this.disabled}}toggleIconClass(){return this.unmasked?"pi pi-eye-slash":"pi pi-eye"}strengthClass(){return`p-password-strength ${this.meter?this.meter.strength:""}`}filled(){return null!=this.value&&this.value.toString().length>0}promptText(){return this.promptLabel||this.getTranslation(qu.PASSWORD_PROMPT)}weakText(){return this.weakLabel||this.getTranslation(qu.WEAK)}mediumText(){return this.mediumLabel||this.getTranslation(qu.MEDIUM)}strongText(){return this.strongLabel||this.getTranslation(qu.STRONG)}restoreAppend(){this.overlay&&this.appendTo&&("body"===this.appendTo?document.body.removeChild(this.overlay):document.getElementById(this.appendTo).removeChild(this.overlay))}inputType(){return this.unmasked?"text":"password"}getTranslation(e){return this.config.getTranslation(e)}ngOnDestroy(){this.overlay&&(ru.clear(this.overlay),this.overlay=null),this.restoreAppend(),this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.sBO),o.Y36(_m),o.Y36(o.SBq),o.Y36(U0))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-password"]],contentQueries:function(e,s,a){if(1&e&&o.Suo(a,Rl,4),2&e){let l;o.iGM(l=o.CRH())&&(s.templates=l)}},viewQuery:function(e,s){if(1&e&&o.Gf(Hhe,5),2&e){let a;o.iGM(a=o.CRH())&&(s.input=a.first)}},hostVars:4,hostBindings:function(e,s){2&e&&o.ekj("p-inputwrapper-filled",s.filled())("p-inputwrapper-focus",s.focused)},inputs:{disabled:"disabled",promptLabel:"promptLabel",mediumRegex:"mediumRegex",strongRegex:"strongRegex",weakLabel:"weakLabel",mediumLabel:"mediumLabel",strongLabel:"strongLabel",inputId:"inputId",feedback:"feedback",appendTo:"appendTo",toggleMask:"toggleMask",inputStyleClass:"inputStyleClass",styleClass:"styleClass",style:"style",inputStyle:"inputStyle",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",placeholder:"placeholder"},features:[o._Bn([Jhe])],decls:5,vars:14,consts:[[3,"ngClass","ngStyle"],["pInputText","",3,"ngClass","ngStyle","value","input","focus","blur","keyup"],["input",""],[3,"ngClass","click",4,"ngIf"],[3,"ngClass","click"],["overlay",""],[4,"ngTemplateOutlet"],[4,"ngIf","ngIfElse"],["content",""],[1,"p-password-meter"],["className","p-password-info"]],template:function(e,s){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"input",1,2),o.NdJ("input",function(l){return s.onInput(l)})("focus",function(){return s.onFocus()})("blur",function(){return s.onBlur()})("keyup",function(l){return s.onKeyUp(l)}),o.qZA(),o.YNc(3,Vhe,1,1,"i",3),o.YNc(4,Xhe,7,11,"div",3),o.qZA()),2&e&&(o.Tol(s.styleClass),o.Q6J("ngClass",s.containerClass())("ngStyle",s.style),o.xp6(1),o.Tol(s.inputStyleClass),o.Q6J("ngClass",s.inputFieldClass())("ngStyle",s.inputStyle)("value",s.value),o.uIk("id",s.inputId)("type",s.inputType())("placeholder",s.placeholder),o.xp6(2),o.Q6J("ngIf",s.toggleMask),o.xp6(1),o.Q6J("ngIf",s.overlayVisible))},directives:[he,qi,ax,un,jr],styles:[".p-password{position:relative;display:inline-flex}.p-password-panel{position:absolute;top:0;left:0}.p-password .p-password-panel{min-width:100%}.p-password-meter{height:10px}.p-password-strength{height:100%;width:0;transition:width 1s ease-in-out}.p-fluid .p-password{display:flex}"],encapsulation:2,data:{animation:[oa("overlayAnimation",[Ir(":enter",[oi({opacity:0,transform:"scaleY(0.8)"}),qr("{{showTransitionParams}}")]),Ir(":leave",[qr("{{hideTransitionParams}}",oi({opacity:0}))])])]},changeDetection:0}),t})(),epe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Ji,Lk],Ha]}),t})();Ae(2958);const spe=new o.OlP("MapboxApiKey"),ope=new o.OlP("MapboxApiKey");let ape=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:spe,useValue:e.accessToken},{provide:ope,useValue:e.geocoderAccessToken||e.accessToken}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Ji]]}),t})(),ppe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({}),t})(),Spe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Ji,Fs,ppe,_L]]}),t})();class Epe{constructor(i,e){this.notifier=i,this.source=e}call(i,e){return e.subscribe(new Dpe(i,this.notifier,this.source))}}class Dpe extends Ho.Ds{constructor(i,e,s){super(i),this.notifier=e,this.source=s}error(i){if(!this.isStopped){let e=this.errors,s=this.retries,a=this.retriesSubscription;if(s)this.errors=void 0,this.retriesSubscription=void 0;else{e=new li.xQ;try{const{notifier:l}=this;s=l(e)}catch(l){return super.error(l)}a=(0,Ho.ft)(s,new Ho.IY(this))}this._unsubscribeAndRecycle(),this.errors=e,this.retries=s,this.retriesSubscription=a,e.next(i)}}_unsubscribe(){const{errors:i,retriesSubscription:e}=this;i&&(i.unsubscribe(),this.errors=void 0),e&&(e.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}notifyNext(){const{_unsubscribe:i}=this;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=i,this.source.subscribe(this)}}var WL=Ae(3815);const pV=new o.OlP("ConnectionServiceOptionsToken");class e_{constructor(i,e){this.http=i,this.stateChangeEventEmitter=new o.vpe,this.currentState={hasInternetAccess:!1,hasNetworkConnection:window.navigator.onLine},this.serviceOptions=(0,WL.defaults)({},e,e_.DEFAULT_OPTIONS,{heartbeatExecutor:()=>this.http.request(this.serviceOptions.requestMethod,this.serviceOptions.heartbeatUrl,{responseType:"text"})}),this.checkNetworkState(),this.checkInternetState()}get options(){return(0,WL.clone)(this.serviceOptions)}checkInternetState(){(0,WL.isNil)(this.httpSubscription)||this.httpSubscription.unsubscribe(),this.serviceOptions.enableHeartbeat?this.httpSubscription=bm(0,this.serviceOptions.heartbeatInterval).pipe(Os(()=>this.serviceOptions.heartbeatExecutor(this.serviceOptions)),function(t){return i=>i.lift(new Epe(t,i))}(i=>i.pipe((0,Ga.b)(e=>{console.error("Http error:",e),this.currentState.hasInternetAccess=!1,this.emitEvent()}),DF(this.serviceOptions.heartbeatRetryInterval)))).subscribe(i=>{this.currentState.hasInternetAccess=!0,this.emitEvent()}):(this.currentState.hasInternetAccess=!1,this.emitEvent())}checkNetworkState(){this.onlineSubscription=fv(window,"online").subscribe(()=>{this.currentState.hasNetworkConnection=!0,this.checkInternetState(),this.emitEvent()}),this.offlineSubscription=fv(window,"offline").subscribe(()=>{this.currentState.hasNetworkConnection=!1,this.checkInternetState(),this.emitEvent()})}emitEvent(){this.stateChangeEventEmitter.emit(this.currentState)}ngOnDestroy(){try{this.offlineSubscription.unsubscribe(),this.onlineSubscription.unsubscribe(),this.httpSubscription.unsubscribe()}catch(i){}}monitor(i=!0){return i?this.stateChangeEventEmitter.pipe(hk(300),Tn(this.currentState)):this.stateChangeEventEmitter.pipe(hk(300))}updateOptions(i){this.serviceOptions=(0,WL.defaults)({},i,this.serviceOptions),this.checkInternetState()}}e_.\u0275fac=function(i){return new(i||e_)(o.LFG(Ug),o.LFG(pV,8))},e_.\u0275prov=o.Yz7({token:e_,factory:e_.\u0275fac,providedIn:"root"}),e_.DEFAULT_OPTIONS={enableHeartbeat:!0,heartbeatUrl:"//server.test-cors.org/server?id="+Date.now()+"&enable=true&status=200&credentials=false",heartbeatInterval:3e4,heartbeatRetryInterval:1e3,requestMethod:"head"},e_.ngInjectableDef=(0,o.Ez6)({factory:function(){return new e_((0,o.f3M)(Ug),(0,o.f3M)(pV,8))},token:e_,providedIn:"root"});let Ape=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[e_],imports:[[MA]]}),t})(),gV=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({}),t})(),Upe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[rM,Fs,xR,gV],Fs,gV]}),t})(),Zpe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Ji]]}),t})(),_V=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Ji]]}),t})(),afe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Ji,Ha,Ob,_V,ZF,Bh],Ha,Ob,_V,ZF]}),t})();const lfe=["inputtext"];function cfe(t,i){1&t&&o.GkF(0)}function ufe(t,i){if(1&t&&(o.TgZ(0,"span",11),o._uU(1),o.qZA()),2&t){const e=o.oxw().$implicit,s=o.oxw();o.xp6(1),o.Oqu(s.field?s.resolveFieldData(e,s.field):e)}}function dfe(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"span",12),o.NdJ("click",function(a){o.CHM(e);const l=o.oxw().index;return o.oxw().removeItem(a,l)}),o.qZA()}}const hfe=function(t){return{$implicit:t}};function pfe(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"li",6,7),o.NdJ("click",function(a){const h=o.CHM(e).$implicit;return o.oxw().onItemClick(a,h)}),o.YNc(2,cfe,1,0,"ng-container",8),o.YNc(3,ufe,2,1,"span",9),o.YNc(4,dfe,1,0,"span",10),o.qZA()}if(2&t){const e=i.$implicit,s=o.oxw();o.xp6(2),o.Q6J("ngTemplateOutlet",s.itemTemplate)("ngTemplateOutletContext",o.VKq(4,hfe,e)),o.xp6(1),o.Q6J("ngIf",!s.itemTemplate),o.xp6(1),o.Q6J("ngIf",!s.disabled)}}const ffe=function(t,i){return{"p-inputtext p-chips-multiple-container":!0,"p-focus":t,"p-disabled":i}},mfe={provide:Jl,useExisting:(0,o.Gpc)(()=>gfe),multi:!0};let gfe=(()=>{class t{constructor(e,s){this.el=e,this.cd=s,this.allowDuplicate=!0,this.onAdd=new o.vpe,this.onRemove=new o.vpe,this.onFocus=new o.vpe,this.onBlur=new o.vpe,this.onChipClick=new o.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":default:this.itemTemplate=e.template}})}onClick(){this.inputViewChild.nativeElement.focus()}onInput(){this.updateFilledState()}onPaste(e){this.disabled||(this.separator&&((e.clipboardData||window.clipboardData).getData("Text").split(this.separator).forEach(a=>{this.addItem(e,a,!0)}),this.inputViewChild.nativeElement.value=""),this.updateFilledState())}updateFilledState(){this.filled=!(!this.value||0===this.value.length)||this.inputViewChild.nativeElement&&""!=this.inputViewChild.nativeElement.value}onItemClick(e,s){this.onChipClick.emit({originalEvent:e,value:s})}writeValue(e){this.value=e,this.updateMaxedOut(),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}resolveFieldData(e,s){if(e&&s){if(-1==s.indexOf("."))return e[s];{let h=s.split("."),v=e;for(var a=0,l=h.length;a<l;++a)v=v[h[a]];return v}}return null}onInputFocus(e){this.focus=!0,this.onFocus.emit(e)}onInputBlur(e){this.focus=!1,this.addOnBlur&&this.inputViewChild.nativeElement.value&&this.addItem(e,this.inputViewChild.nativeElement.value,!1),this.onModelTouched(),this.onBlur.emit(e)}removeItem(e,s){if(this.disabled)return;let a=this.value[s];this.value=this.value.filter((l,h)=>h!=s),this.onModelChange(this.value),this.onRemove.emit({originalEvent:e,value:a}),this.updateFilledState(),this.updateMaxedOut()}addItem(e,s,a){this.value=this.value||[],s&&s.trim().length&&(this.allowDuplicate||-1===this.value.indexOf(s))&&(this.value=[...this.value,s],this.onModelChange(this.value),this.onAdd.emit({originalEvent:e,value:s})),this.updateFilledState(),this.updateMaxedOut(),this.inputViewChild.nativeElement.value="",a&&e.preventDefault()}onKeydown(e){switch(e.which){case 8:if(0===this.inputViewChild.nativeElement.value.length&&this.value&&this.value.length>0){this.value=[...this.value];let s=this.value.pop();this.onModelChange(this.value),this.onRemove.emit({originalEvent:e,value:s}),this.updateFilledState()}break;case 13:this.addItem(e,this.inputViewChild.nativeElement.value,!0);break;case 9:this.addOnTab&&""!==this.inputViewChild.nativeElement.value&&this.addItem(e,this.inputViewChild.nativeElement.value,!0);break;default:this.max&&this.value&&this.max===this.value.length?e.preventDefault():this.separator&&","===this.separator&&188===e.which&&this.addItem(e,this.inputViewChild.nativeElement.value,!0)}}updateMaxedOut(){this.inputViewChild&&this.inputViewChild.nativeElement&&(this.inputViewChild.nativeElement.disabled=!(!this.max||!this.value||this.max!==this.value.length)||this.disabled||!1)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.sBO))},t.\u0275cmp=o.Xpm({type:t,selectors:[["p-chips"]],contentQueries:function(e,s,a){if(1&e&&o.Suo(a,Rl,4),2&e){let l;o.iGM(l=o.CRH())&&(s.templates=l)}},viewQuery:function(e,s){if(1&e&&o.Gf(lfe,5),2&e){let a;o.iGM(a=o.CRH())&&(s.inputViewChild=a.first)}},hostVars:4,hostBindings:function(e,s){2&e&&o.ekj("p-inputwrapper-filled",s.filled)("p-inputwrapper-focus",s.focus)},inputs:{style:"style",styleClass:"styleClass",disabled:"disabled",field:"field",placeholder:"placeholder",max:"max",ariaLabelledBy:"ariaLabelledBy",tabindex:"tabindex",inputId:"inputId",allowDuplicate:"allowDuplicate",inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",addOnTab:"addOnTab",addOnBlur:"addOnBlur",separator:"separator"},outputs:{onAdd:"onAdd",onRemove:"onRemove",onFocus:"onFocus",onBlur:"onBlur",onChipClick:"onChipClick"},features:[o._Bn([mfe])],decls:6,vars:17,consts:[[3,"ngClass","ngStyle","click"],[3,"ngClass"],["class","p-chips-token",3,"click",4,"ngFor","ngForOf"],[1,"p-chips-input-token"],["type","text",3,"disabled","ngStyle","keydown","input","paste","focus","blur"],["inputtext",""],[1,"p-chips-token",3,"click"],["token",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-chips-token-label",4,"ngIf"],["class","p-chips-token-icon pi pi-times-circle",3,"click",4,"ngIf"],[1,"p-chips-token-label"],[1,"p-chips-token-icon","pi","pi-times-circle",3,"click"]],template:function(e,s){1&e&&(o.TgZ(0,"div",0),o.NdJ("click",function(){return s.onClick()}),o.TgZ(1,"ul",1),o.YNc(2,pfe,5,6,"li",2),o.TgZ(3,"li",3),o.TgZ(4,"input",4,5),o.NdJ("keydown",function(l){return s.onKeydown(l)})("input",function(){return s.onInput()})("paste",function(l){return s.onPaste(l)})("focus",function(l){return s.onInputFocus(l)})("blur",function(l){return s.onInputBlur(l)}),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.Tol(s.styleClass),o.Q6J("ngClass","p-chips p-component")("ngStyle",s.style),o.xp6(1),o.Q6J("ngClass",o.WLB(14,ffe,s.focus,s.disabled)),o.xp6(1),o.Q6J("ngForOf",s.value),o.xp6(2),o.Tol(s.inputStyleClass),o.Q6J("disabled",s.disabled)("ngStyle",s.inputStyle),o.uIk("id",s.inputId)("placeholder",s.value&&s.value.length?null:s.placeholder)("tabindex",s.tabindex)("aria-labelledby",s.ariaLabelledBy))},directives:[he,qi,mt,jr,un],styles:[".p-chips{display:inline-flex}.p-chips-multiple-container{margin:0;padding:0;list-style-type:none;cursor:text;overflow:hidden;display:flex;align-items:center;flex-wrap:wrap}.p-chips-token{cursor:default;display:inline-flex;align-items:center;flex:0 0 auto}.p-chips-input-token{flex:1 1 auto;display:inline-flex}.p-chips-token-icon{cursor:pointer}.p-chips-input-token input{border:0;outline:0 none;background-color:transparent;margin:0;padding:0;box-shadow:none;border-radius:0;width:100%}.p-fluid .p-chips{display:flex}"],encapsulation:2,changeDetection:0}),t})(),_fe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Ji,Lk,Ha],Lk,Ha]}),t})(),Efe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[pL,Fs],pL,Fs]}),t})(),Dfe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Fs],Fs]}),t})(),Gfe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[pL,rM,Fs,oF,Ji],pL,Fs,oF,Dfe]}),t})(),Jfe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Ji,ef],Ha,ef]}),t})(),Kfe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t,bootstrap:[mde]}),t.\u0275inj=o.cJS({providers:[nh,$_,cy,{provide:bp,useClass:mhe,multi:!0},xw,OL,Jm,vb,zF],imports:[[Ip,fde,wr.hO.initializeApp(Ci_firebase),Oa,XA,T3.withConfig({warnOnNgModelWithFormControl:"never"}),ehe,vL,pA,qQ,sH,rhe,mee,GK,rJ,Mee,fhe,iH,cF,Ehe,ste,fue,ZF,TH,epe,Dee,ape.withConfig({accessToken:"pk.eyJ1Ijoib3NjYXJjaHVhd2Vpd2VuLWZzZCIsImEiOiJja3N4eXYycjgxYXp6Mm9wdTg5bTZ5eGUzIn0.uR8fYkY2kZhEjP43Cx-f6w",geocoderAccessToken:"pk.eyJ1Ijoib3NjYXJjaHVhd2Vpd2VuLWZzZCIsImEiOiJja3N4eXYycjgxYXp6Mm9wdTg5bTZ5eGUzIn0.uR8fYkY2kZhEjP43Cx-f6w"}),MA,One,Qne,R4,Spe,Upe,Zpe,nV,Dae,HH,KA,ole,Tle,_le,wce,afe,VP,_fe,lie,Xae,Nie,Ape,eue,Jue,$7,Efe,Gfe,Jfe]]}),t})();(0,o.G48)(),Sc().bootstrapModule(Kfe).catch(t=>console.error(t))},4762:(Ut,kt,Ae)=>{"use strict";Ae.d(kt,{ZT:()=>$,pi:()=>ee,mG:()=>Me,Jh:()=>Be,XA:()=>ft,CR:()=>Lt,ev:()=>ct});var o=function(wn,hn){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Mn,mn){Mn.__proto__=mn}||function(Mn,mn){for(var Yn in mn)Object.prototype.hasOwnProperty.call(mn,Yn)&&(Mn[Yn]=mn[Yn])})(wn,hn)};function $(wn,hn){if("function"!=typeof hn&&null!==hn)throw new TypeError("Class extends value "+String(hn)+" is not a constructor or null");function Mn(){this.constructor=wn}o(wn,hn),wn.prototype=null===hn?Object.create(hn):(Mn.prototype=hn.prototype,new Mn)}var ee=function(){return(ee=Object.assign||function(hn){for(var Mn,mn=1,Yn=arguments.length;mn<Yn;mn++)for(var vn in Mn=arguments[mn])Object.prototype.hasOwnProperty.call(Mn,vn)&&(hn[vn]=Mn[vn]);return hn}).apply(this,arguments)};function Me(wn,hn,Mn,mn){return new(Mn||(Mn=Promise))(function(vn,ai){function Bi(Ti){try{fi(mn.next(Ti))}catch(vi){ai(vi)}}function Vi(Ti){try{fi(mn.throw(Ti))}catch(vi){ai(vi)}}function fi(Ti){Ti.done?vn(Ti.value):function(vn){return vn instanceof Mn?vn:new Mn(function(ai){ai(vn)})}(Ti.value).then(Bi,Vi)}fi((mn=mn.apply(wn,hn||[])).next())})}function Be(wn,hn){var mn,Yn,vn,ai,Mn={label:0,sent:function(){if(1&vn[0])throw vn[1];return vn[1]},trys:[],ops:[]};return ai={next:Bi(0),throw:Bi(1),return:Bi(2)},"function"==typeof Symbol&&(ai[Symbol.iterator]=function(){return this}),ai;function Bi(fi){return function(Ti){return function(fi){if(mn)throw new TypeError("Generator is already executing.");for(;Mn;)try{if(mn=1,Yn&&(vn=2&fi[0]?Yn.return:fi[0]?Yn.throw||((vn=Yn.return)&&vn.call(Yn),0):Yn.next)&&!(vn=vn.call(Yn,fi[1])).done)return vn;switch(Yn=0,vn&&(fi=[2&fi[0],vn.value]),fi[0]){case 0:case 1:vn=fi;break;case 4:return Mn.label++,{value:fi[1],done:!1};case 5:Mn.label++,Yn=fi[1],fi=[0];continue;case 7:fi=Mn.ops.pop(),Mn.trys.pop();continue;default:if(!(vn=(vn=Mn.trys).length>0&&vn[vn.length-1])&&(6===fi[0]||2===fi[0])){Mn=0;continue}if(3===fi[0]&&(!vn||fi[1]>vn[0]&&fi[1]<vn[3])){Mn.label=fi[1];break}if(6===fi[0]&&Mn.label<vn[1]){Mn.label=vn[1],vn=fi;break}if(vn&&Mn.label<vn[2]){Mn.label=vn[2],Mn.ops.push(fi);break}vn[2]&&Mn.ops.pop(),Mn.trys.pop();continue}fi=hn.call(wn,Mn)}catch(Ti){fi=[6,Ti],Yn=0}finally{mn=vn=0}if(5&fi[0])throw fi[1];return{value:fi[0]?fi[1]:void 0,done:!0}}([fi,Ti])}}}function ft(wn){var hn="function"==typeof Symbol&&Symbol.iterator,Mn=hn&&wn[hn],mn=0;if(Mn)return Mn.call(wn);if(wn&&"number"==typeof wn.length)return{next:function(){return wn&&mn>=wn.length&&(wn=void 0),{value:wn&&wn[mn++],done:!wn}}};throw new TypeError(hn?"Object is not iterable.":"Symbol.iterator is not defined.")}function Lt(wn,hn){var Mn="function"==typeof Symbol&&wn[Symbol.iterator];if(!Mn)return wn;var Yn,ai,mn=Mn.call(wn),vn=[];try{for(;(void 0===hn||hn-- >0)&&!(Yn=mn.next()).done;)vn.push(Yn.value)}catch(Bi){ai={error:Bi}}finally{try{Yn&&!Yn.done&&(Mn=mn.return)&&Mn.call(mn)}finally{if(ai)throw ai.error}}return vn}function ct(wn,hn,Mn){if(Mn||2===arguments.length)for(var vn,mn=0,Yn=hn.length;mn<Yn;mn++)(vn||!(mn in hn))&&(vn||(vn=Array.prototype.slice.call(hn,0,mn)),vn[mn]=hn[mn]);return wn.concat(vn||Array.prototype.slice.call(hn))}},6700:(Ut,kt,Ae)=>{var o={"./af":6431,"./af.js":6431,"./ar":1286,"./ar-dz":1616,"./ar-dz.js":1616,"./ar-kw":9759,"./ar-kw.js":9759,"./ar-ly":3160,"./ar-ly.js":3160,"./ar-ma":2551,"./ar-ma.js":2551,"./ar-sa":9989,"./ar-sa.js":9989,"./ar-tn":6962,"./ar-tn.js":6962,"./ar.js":1286,"./az":5887,"./az.js":5887,"./be":4572,"./be.js":4572,"./bg":3276,"./bg.js":3276,"./bm":3344,"./bm.js":3344,"./bn":8985,"./bn-bd":3990,"./bn-bd.js":3990,"./bn.js":8985,"./bo":4391,"./bo.js":4391,"./br":6728,"./br.js":6728,"./bs":5536,"./bs.js":5536,"./ca":1043,"./ca.js":1043,"./cs":420,"./cs.js":420,"./cv":3513,"./cv.js":3513,"./cy":6771,"./cy.js":6771,"./da":7978,"./da.js":7978,"./de":6061,"./de-at":5204,"./de-at.js":5204,"./de-ch":2653,"./de-ch.js":2653,"./de.js":6061,"./dv":85,"./dv.js":85,"./el":8579,"./el.js":8579,"./en-au":5724,"./en-au.js":5724,"./en-ca":525,"./en-ca.js":525,"./en-gb":2847,"./en-gb.js":2847,"./en-ie":7216,"./en-ie.js":7216,"./en-il":9305,"./en-il.js":9305,"./en-in":3364,"./en-in.js":3364,"./en-nz":9130,"./en-nz.js":9130,"./en-sg":1161,"./en-sg.js":1161,"./eo":802,"./eo.js":802,"./es":328,"./es-do":5551,"./es-do.js":5551,"./es-mx":5615,"./es-mx.js":5615,"./es-us":4790,"./es-us.js":4790,"./es.js":328,"./et":6389,"./et.js":6389,"./eu":2961,"./eu.js":2961,"./fa":6151,"./fa.js":6151,"./fi":7997,"./fi.js":7997,"./fil":8898,"./fil.js":8898,"./fo":7779,"./fo.js":7779,"./fr":8174,"./fr-ca":3287,"./fr-ca.js":3287,"./fr-ch":8867,"./fr-ch.js":8867,"./fr.js":8174,"./fy":452,"./fy.js":452,"./ga":5014,"./ga.js":5014,"./gd":4127,"./gd.js":4127,"./gl":2124,"./gl.js":2124,"./gom-deva":6444,"./gom-deva.js":6444,"./gom-latn":7953,"./gom-latn.js":7953,"./gu":6604,"./gu.js":6604,"./he":1222,"./he.js":1222,"./hi":4235,"./hi.js":4235,"./hr":622,"./hr.js":622,"./hu":7735,"./hu.js":7735,"./hy-am":402,"./hy-am.js":402,"./id":9187,"./id.js":9187,"./is":536,"./is.js":536,"./it":5007,"./it-ch":4667,"./it-ch.js":4667,"./it.js":5007,"./ja":2093,"./ja.js":2093,"./jv":59,"./jv.js":59,"./ka":6870,"./ka.js":6870,"./kk":880,"./kk.js":880,"./km":1083,"./km.js":1083,"./kn":8785,"./kn.js":8785,"./ko":1721,"./ko.js":1721,"./ku":7851,"./ku.js":7851,"./ky":1727,"./ky.js":1727,"./lb":346,"./lb.js":346,"./lo":3002,"./lo.js":3002,"./lt":4035,"./lt.js":4035,"./lv":6927,"./lv.js":6927,"./me":5634,"./me.js":5634,"./mi":4173,"./mi.js":4173,"./mk":6320,"./mk.js":6320,"./ml":1705,"./ml.js":1705,"./mn":1062,"./mn.js":1062,"./mr":2805,"./mr.js":2805,"./ms":1341,"./ms-my":9900,"./ms-my.js":9900,"./ms.js":1341,"./mt":7734,"./mt.js":7734,"./my":9034,"./my.js":9034,"./nb":9324,"./nb.js":9324,"./ne":6495,"./ne.js":6495,"./nl":673,"./nl-be":6272,"./nl-be.js":6272,"./nl.js":673,"./nn":2486,"./nn.js":2486,"./oc-lnc":6219,"./oc-lnc.js":6219,"./pa-in":2829,"./pa-in.js":2829,"./pl":8444,"./pl.js":8444,"./pt":3170,"./pt-br":6117,"./pt-br.js":6117,"./pt.js":3170,"./ro":6587,"./ro.js":6587,"./ru":9264,"./ru.js":9264,"./sd":2135,"./sd.js":2135,"./se":5366,"./se.js":5366,"./si":3379,"./si.js":3379,"./sk":6143,"./sk.js":6143,"./sl":196,"./sl.js":196,"./sq":1082,"./sq.js":1082,"./sr":1621,"./sr-cyrl":8963,"./sr-cyrl.js":8963,"./sr.js":1621,"./ss":1404,"./ss.js":1404,"./sv":5685,"./sv.js":5685,"./sw":6490,"./sw.js":6490,"./ta":4106,"./ta.js":4106,"./te":9204,"./te.js":9204,"./tet":3692,"./tet.js":3692,"./tg":6361,"./tg.js":6361,"./th":1735,"./th.js":1735,"./tk":1568,"./tk.js":1568,"./tl-ph":6129,"./tl-ph.js":6129,"./tlh":3759,"./tlh.js":3759,"./tr":1644,"./tr.js":1644,"./tzl":875,"./tzl.js":875,"./tzm":6878,"./tzm-latn":1041,"./tzm-latn.js":1041,"./tzm.js":6878,"./ug-cn":4357,"./ug-cn.js":4357,"./uk":4810,"./uk.js":4810,"./ur":6794,"./ur.js":6794,"./uz":8966,"./uz-latn":7959,"./uz-latn.js":7959,"./uz.js":8966,"./vi":5386,"./vi.js":5386,"./x-pseudo":3156,"./x-pseudo.js":3156,"./yo":8028,"./yo.js":8028,"./zh-cn":9330,"./zh-cn.js":9330,"./zh-hk":9380,"./zh-hk.js":9380,"./zh-mo":874,"./zh-mo.js":874,"./zh-tw":6508,"./zh-tw.js":6508};function $(x){var de=ee(x);return Ae(de)}function ee(x){if(!Ae.o(o,x)){var de=new Error("Cannot find module '"+x+"'");throw de.code="MODULE_NOT_FOUND",de}return o[x]}$.keys=function(){return Object.keys(o)},$.resolve=ee,Ut.exports=$,$.id=6700}},Ut=>{Ut(Ut.s=3311)}]);